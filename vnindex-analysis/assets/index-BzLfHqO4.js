var e,t,n=Object.defineProperty,r=Object.defineProperties,i=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,c=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),u=Math.pow,d=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,h=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(s)for(var n of s(t))l.call(t,n)&&d(e,n,t[n]);return e},f=(e,t)=>r(e,i(t)),m=(e,t)=>{var n={};for(var r in e)o.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&s)for(var r of s(e))t.indexOf(r)<0&&l.call(e,r)&&(n[r]=e[r]);return n},p=(e,t,n)=>d(e,"symbol"!=typeof t?t+"":t,n),g=(e,t,n)=>new Promise((r,i)=>{var a=e=>{try{o(n.next(e))}catch(t){i(t)}},s=e=>{try{o(n.throw(e))}catch(t){i(t)}},o=e=>e.done?r(e.value):Promise.resolve(e.value).then(a,s);o((n=n.apply(e,t)).next())}),x=function(e,t){this[0]=e,this[1]=t},y=e=>{var t,n=e[c("asyncIterator")],r=!1,i={};return null==n?(n=e[c("iterator")](),t=e=>i[e]=t=>n[e](t)):(n=n.call(e),t=e=>i[e]=t=>{if(r){if(r=!1,"throw"===e)throw t;return t}return r=!0,{done:!1,value:new x(new Promise(r=>{var i=n[e](t);i instanceof Object||(e=>{throw TypeError(e)})("Object expected"),r(i)}),1)}}),i[c("iterator")]=()=>i,t("next"),"throw"in n?t("throw"):i.throw=e=>{throw e},"return"in n&&t("return"),i},v=(e={"assets/index-BzLfHqO4.js"(e){var t;function n(e,t){for(var n=0;n<t.length;n++){const r=t[n];if("string"!=typeof r&&!Array.isArray(r))for(const t in r)if("default"!==t&&!(t in e)){const n=Object.getOwnPropertyDescriptor(r,t);n&&Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:()=>r[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function a(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}),n}var s,o,l,c,d={exports:{}},x={},v=(o||(o=1,d.exports=function(){if(s)return x;s=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(t,n,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==n.key&&(i=""+n.key),"key"in n)for(var a in r={},n)"key"!==a&&(r[a]=n[a]);else r=n;return n=r.ref,{$$typeof:e,type:t,key:i,ref:void 0!==n?n:null,props:r}}return x.Fragment=t,x.jsx=n,x.jsxs=n,x}()),d.exports),b={exports:{}},_={};function w(){if(l)return _;l=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator,f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,p={};function g(e,t,n){this.props=e,this.context=t,this.refs=p,this.updater=n||f}function x(){}function y(e,t,n){this.props=e,this.context=t,this.refs=p,this.updater=n||f}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=g.prototype;var v=y.prototype=new x;v.constructor=y,m(v,g.prototype),v.isPureReactComponent=!0;var b=Array.isArray,w={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function N(t,n,r,i,a,s){return r=s.ref,{$$typeof:e,type:t,key:n,ref:void 0!==r?r:null,props:s}}function k(t){return"object"==typeof t&&null!==t&&t.$$typeof===e}var S=/\/+/g;function C(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36);var n,r}function E(){}function P(n,r,i,a,s){var o=typeof n;"undefined"!==o&&"boolean"!==o||(n=null);var l,c,u=!1;if(null===n)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(n.$$typeof){case e:case t:u=!0;break;case d:return P((u=n._init)(n._payload),r,i,a,s)}}if(u)return s=s(n),u=""===a?"."+C(n,0):a,b(s)?(i="",null!=u&&(i=u.replace(S,"$&/")+"/"),P(s,r,i,"",function(e){return e})):null!=s&&(k(s)&&(l=s,c=i+(null==s.key||n&&n.key===s.key?"":(""+s.key).replace(S,"$&/")+"/")+u,s=N(l.type,c,void 0,0,0,l.props)),r.push(s)),1;u=0;var f,m=""===a?".":a+":";if(b(n))for(var p=0;p<n.length;p++)u+=P(a=n[p],r,i,o=m+C(a,p),s);else if("function"==typeof(p=null===(f=n)||"object"!=typeof f?null:"function"==typeof(f=h&&f[h]||f["@@iterator"])?f:null))for(n=p.call(n),p=0;!(a=n.next()).done;)u+=P(a=a.value,r,i,o=m+C(a,p++),s);else if("object"===o){if("function"==typeof n.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(E,E):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(n),r,i,a,s);throw r=String(n),Error("Objects are not valid as a React child (found: "+("[object Object]"===r?"object with keys {"+Object.keys(n).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.")}return u}function M(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",function(e){return t.call(n,e,i++)}),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)};function T(){}return _.Children={map:M,forEach:function(e,t,n){M(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return M(e,function(){t++}),t},toArray:function(e){return M(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},_.Component=g,_.Fragment=n,_.Profiler=i,_.PureComponent=y,_.StrictMode=r,_.Suspense=c,_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,_.__COMPILER_RUNTIME={__proto__:null,c:function(e){return w.H.useMemoCache(e)}},_.cache=function(e){return function(){return e.apply(null,arguments)}},_.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(a in t.ref,void 0!==t.key&&(i=""+t.key),t)!j.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var s=Array(a),o=0;o<a;o++)s[o]=arguments[o+2];r.children=s}return N(e.type,i,void 0,0,0,r)},_.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},_.createElement=function(e,t,n){var r,i={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)j.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return N(e,a,void 0,0,0,i)},_.createRef=function(){return{current:null}},_.forwardRef=function(e){return{$$typeof:o,render:e}},_.isValidElement=k,_.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:O}},_.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},_.startTransition=function(e){var t=w.T,n={};w.T=n;try{var r=e(),i=w.S;null!==i&&i(n,r),"object"==typeof r&&null!==r&&"function"==typeof r.then&&r.then(T,A)}catch(a){A(a)}finally{w.T=t}},_.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},_.use=function(e){return w.H.use(e)},_.useActionState=function(e,t,n){return w.H.useActionState(e,t,n)},_.useCallback=function(e,t){return w.H.useCallback(e,t)},_.useContext=function(e){return w.H.useContext(e)},_.useDebugValue=function(){},_.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},_.useEffect=function(e,t,n){var r=w.H;if("function"==typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},_.useId=function(){return w.H.useId()},_.useImperativeHandle=function(e,t,n){return w.H.useImperativeHandle(e,t,n)},_.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},_.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},_.useMemo=function(e,t){return w.H.useMemo(e,t)},_.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},_.useReducer=function(e,t,n){return w.H.useReducer(e,t,n)},_.useRef=function(e){return w.H.useRef(e)},_.useState=function(e){return w.H.useState(e)},_.useSyncExternalStore=function(e,t,n){return w.H.useSyncExternalStore(e,t,n)},_.useTransition=function(){return w.H.useTransition()},_.version="19.1.0",_}function j(){return c||(c=1,b.exports=w()),b.exports}var N=j();const k=i(N),S=n({__proto__:null,default:k},[N]);var C,E,P={exports:{}},M={},O={exports:{}},A={};function T(){return E||(E=1,O.exports=(C||(C=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,s=a>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,n))c<a&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<a&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,d=null,h=3,f=!1,m=!1,p=!1,g=!1,x="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,v="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var i=n(c);null!==i;){if(null===i.callback)r(c);else{if(!(i.startTime<=e))break;r(c),i.sortIndex=i.expirationTime,t(l,i)}i=n(c)}}function _(e){if(p=!1,b(e),!m)if(null!==n(l))m=!0,j||(j=!0,w());else{var t=n(c);null!==t&&O(_,t.startTime-e)}}var w,j=!1,N=-1,k=5,S=-1;function C(){return!(!g&&e.unstable_now()-S<k)}function E(){if(g=!1,j){var t=e.unstable_now();S=t;var i=!0;try{e:{m=!1,p&&(p=!1,y(N),N=-1),f=!0;var a=h;try{t:{for(b(t),d=n(l);null!==d&&!(d.expirationTime>t&&C());){var s=d.callback;if("function"==typeof s){d.callback=null,h=d.priorityLevel;var o=s(d.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof o){d.callback=o,b(t),i=!0;break t}d===n(l)&&r(l),b(t)}else r(l);d=n(l)}if(null!==d)i=!0;else{var u=n(c);null!==u&&O(_,u.startTime-t),i=!1}}break e}finally{d=null,h=a,f=!1}i=void 0}}finally{i?w():j=!1}}}if("function"==typeof v)w=function(){v(E)};else if("undefined"!=typeof MessageChannel){var P=new MessageChannel,M=P.port2;P.port1.onmessage=E,w=function(){M.postMessage(null)}}else w=function(){x(E,0)};function O(t,n){N=x(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e||(k=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},e.unstable_scheduleCallback=function(r,i,a){var s=e.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?s+a:s,r){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return r={id:u++,callback:i,priorityLevel:r,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(r.sortIndex=a,t(c,r),null===n(l)&&r===n(c)&&(p?(y(N),N=-1):p=!0,O(_,a-s))):(r.sortIndex=o,t(l,r),m||f||(m=!0,j||(j=!0,w()))),r},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}(A)),A)),O.exports}var D,R,I,L,z={exports:{}},F={};function B(){if(D)return F;D=1;var e=j();function t(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal"),a=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}return F.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,F.createPortal=function(e,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!n||1!==n.nodeType&&9!==n.nodeType&&11!==n.nodeType)throw Error(t(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:i,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,n,null,r)},F.flushSync=function(e){var t=a.T,n=r.p;try{if(a.T=null,r.p=2,e)return e()}finally{a.T=t,r.p=n,r.d.f()}},F.preconnect=function(e,t){"string"==typeof e&&(t=t?"string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:null,r.d.C(e,t))},F.prefetchDNS=function(e){"string"==typeof e&&r.d.D(e)},F.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,i=s(n,t.crossOrigin),a="string"==typeof t.integrity?t.integrity:void 0,o="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?r.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:i,integrity:a,fetchPriority:o}):"script"===n&&r.d.X(e,{crossOrigin:i,integrity:a,fetchPriority:o,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},F.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=s(t.as,t.crossOrigin);r.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&r.d.M(e)},F.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,i=s(n,t.crossOrigin);r.d.L(e,n,{crossOrigin:i,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},F.preloadModule=function(e,t){if("string"==typeof e)if(t){var n=s(t.as,t.crossOrigin);r.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else r.d.m(e)},F.requestFormReset=function(e){r.d.r(e)},F.unstable_batchedUpdates=function(e,t){return e(t)},F.useFormState=function(e,t,n){return a.H.useFormState(e,t,n)},F.useFormStatus=function(){return a.H.useHostTransitionStatus()},F.version="19.1.0",F}function W(){return R||(R=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),z.exports=B()),z.exports}
/**
     * @license React
     * react-dom-client.production.js
     *
     * Copyright (c) Meta Platforms, Inc. and affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */function $(){if(I)return M;I=1;var e=T(),t=j(),n=W();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function a(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function s(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function o(e){if(a(e)!==e)throw Error(r(188))}function l(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=l(e)))return t;e=e.sibling}return null}var c=Object.assign,u=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),y=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),S=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function E(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=C&&e[C]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function O(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case f:return"Fragment";case p:return"Profiler";case m:return"StrictMode";case b:return"Suspense";case _:return"SuspenseList";case k:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case h:return"Portal";case y:return(e.displayName||"Context")+".Provider";case x:return(e._context.displayName||"Context")+".Consumer";case v:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case w:return null!==(t=e.displayName||null)?t:O(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return O(e(t))}catch(n){}}return null}var A=Array.isArray,D=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},z=[],F=-1;function B(e){return{current:e}}function $(e){0>F||(e.current=z[F],z[F]=null,F--)}function V(e,t){F++,z[F]=e.current,e.current=t}var K=B(null),H=B(null),U=B(null),Y=B(null);function q(e,t){switch(V(U,t),V(H,e),V(K,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?sd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=od(t=sd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(K),V(K,e)}function G(){$(K),$(H),$(U)}function X(e){null!==e.memoizedState&&V(Y,e);var t=K.current,n=od(t,e.type);t!==n&&(V(H,e),V(K,n))}function Q(e){H.current===e&&($(K),$(H)),Y.current===e&&($(Y),Xd._currentValue=L)}var Z=Object.prototype.hasOwnProperty,J=e.unstable_scheduleCallback,ee=e.unstable_cancelCallback,te=e.unstable_shouldYield,ne=e.unstable_requestPaint,re=e.unstable_now,ie=e.unstable_getCurrentPriorityLevel,ae=e.unstable_ImmediatePriority,se=e.unstable_UserBlockingPriority,oe=e.unstable_NormalPriority,le=e.unstable_LowPriority,ce=e.unstable_IdlePriority,ue=e.log,de=e.unstable_setDisableYieldValue,he=null,fe=null;function me(e){if("function"==typeof ue&&de(e),fe&&"function"==typeof fe.setStrictMode)try{fe.setStrictMode(he,e)}catch(t){}}var pe=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(ge(e)/xe|0)|0},ge=Math.log,xe=Math.LN2,ye=256,ve=4194304;function be(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _e(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,a=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~a)?i=be(r):0!==(s&=o)?i=be(s):n||0!==(n=o&~e)&&(i=be(n)):0!==(o=r&~a)?i=be(o):0!==s?i=be(s):n||0!==(n=r&~e)&&(i=be(n)),0===i?0:0!==t&&t!==i&&0===(t&a)&&((a=i&-i)>=(n=t&-t)||32===a&&4194048&n)?t:i}function we(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function je(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ne(){var e=ye;return!(4194048&(ye<<=1))&&(ye=256),e}function ke(){var e=ve;return!(62914560&(ve<<=1))&&(ve=4194304),e}function Se(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ce(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ee(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-pe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Pe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Me(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oe(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Ae(){var e=R.p;return 0!==e?e:void 0===(e=window.event)?32:dh(e.type)}var Te=Math.random().toString(36).slice(2),De="__reactFiber$"+Te,Re="__reactProps$"+Te,Ie="__reactContainer$"+Te,Le="__reactEvents$"+Te,ze="__reactListeners$"+Te,Fe="__reactHandles$"+Te,Be="__reactResources$"+Te,We="__reactMarker$"+Te;function $e(e){delete e[De],delete e[Re],delete e[Le],delete e[ze],delete e[Fe]}function Ve(e){var t=e[De];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ie]||n[De]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=_d(e);null!==e;){if(n=e[De])return n;e=_d(e)}return t}n=(e=n).parentNode}return null}function Ke(e){if(e=e[De]||e[Ie]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function He(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(r(33))}function Ue(e){var t=e[Be];return t||(t=e[Be]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ye(e){e[We]=!0}var qe=new Set,Ge={};function Xe(e,t){Qe(e,t),Qe(e+"Capture",t)}function Qe(e,t){for(Ge[e]=t,e=0;e<t.length;e++)qe.add(t[e])}var Ze,Je,et=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tt={},nt={};function rt(e,t,n){if(i=t,Z.call(nt,i)||!Z.call(tt,i)&&(et.test(i)?nt[i]=!0:(tt[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function it(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function at(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function st(e){if(void 0===Ze)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ze=t&&t[1]||"",Je=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ze+e+Je}var ot=!1;function lt(e,t){if(!e||ot)return"";ot=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(a){r=a}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"==typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split("\n"),c=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{ot=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?st(n):""}function ct(e){switch(e.tag){case 26:case 27:case 5:return st(e.type);case 16:return st("Lazy");case 13:return st("Suspense");case 19:return st("SuspenseList");case 0:case 15:return lt(e.type,!1);case 11:return lt(e.type.render,!1);case 1:return lt(e.type,!0);case 31:return st("Activity");default:return""}}function ut(e){try{var t="";do{t+=ct(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){e._valueTracker||(e._valueTracker=function(e){var t=ht(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function mt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function pt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function xt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function yt(e,t,n,r,i,a,s,o){e.name="",null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?bt(e,s,dt(t)):null!=n?bt(e,s,dt(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=a&&(e.defaultChecked=!!a),null!=i&&(e.checked=i&&"function"!=typeof i&&"symbol"!=typeof i),null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.name=""+dt(o):e.removeAttribute("name")}function vt(e,t,n,r,i,a,s,o){if(null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(e.type=a),null!=t||null!=n){if(("submit"===a||"reset"===a)&&null==t)return;n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:i)&&"symbol"!=typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.name=s)}function bt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function _t(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function jt(e,t,n,i){if(null==t){if(null!=i){if(null!=n)throw Error(r(92));if(A(i)){if(1<i.length)throw Error(r(93));i=i[0]}n=i}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(i=e.textContent)===n&&""!==i&&null!==i&&(e.value=i)}function Nt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function St(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(r(62));if(e=e.style,null!=n){for(var i in n)!n.hasOwnProperty(i)||null!=t&&t.hasOwnProperty(i)||(0===i.indexOf("--")?e.setProperty(i,""):"float"===i?e.cssFloat="":e[i]="");for(var a in t)i=t[a],t.hasOwnProperty(a)&&n[a]!==i&&St(e,a,i)}else for(var s in t)t.hasOwnProperty(s)&&St(e,s,t[s])}function Et(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ot(e){return Mt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var At=null;function Tt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Dt=null,Rt=null;function It(e){var t=Ke(e);if(t&&(e=t.stateNode)){var n=e[Re]||null;e:switch(e=t.stateNode,t.type){case"input":if(yt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+xt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var a=i[Re]||null;if(!a)throw Error(r(90));yt(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(i=n[t]).form===e.form&&mt(i)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&_t(e,!!n.multiple,t,!1)}}}var Lt=!1;function zt(e,t,n){if(Lt)return e(t,n);Lt=!0;try{return e(t)}finally{if(Lt=!1,(null!==Dt||null!==Rt)&&(Vc(),Dt&&(t=Dt,e=Rt,Rt=Dt=null,It(t),e)))for(t=0;t<e.length;t++)It(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var i=n[Re]||null;if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}var Bt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Wt=!1;if(Bt)try{var $t={};Object.defineProperty($t,"passive",{get:function(){Wt=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch(Rh){Wt=!1}var Vt=null,Kt=null,Ht=null;function Ut(){if(Ht)return Ht;var e,t,n=Kt,r=n.length,i="value"in Vt?Vt.value:Vt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[a-t];t++);return Ht=i.slice(e,1<t?1-t:void 0)}function Yt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function qt(){return!0}function Gt(){return!1}function Xt(e){function t(t,n,r,i,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?qt:Gt,this.isPropagationStopped=Gt,this}return c(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=qt)},persist:function(){},isPersistent:qt}),t}var Qt,Zt,Jt,en={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tn=Xt(en),nn=c({},en,{view:0,detail:0}),rn=Xt(nn),an=c({},nn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jt&&(Jt&&"mousemove"===e.type?(Qt=e.screenX-Jt.screenX,Zt=e.screenY-Jt.screenY):Zt=Qt=0,Jt=e),Qt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),sn=Xt(an),on=Xt(c({},an,{dataTransfer:0})),ln=Xt(c({},nn,{relatedTarget:0})),cn=Xt(c({},en,{animationName:0,elapsedTime:0,pseudoElement:0})),un=Xt(c({},en,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),dn=Xt(c({},en,{data:0})),hn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function gn(){return pn}var xn=Xt(c({},nn,{key:function(e){if(e.key){var t=hn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Yt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?fn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gn,charCode:function(e){return"keypress"===e.type?Yt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Yt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),yn=Xt(c({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vn=Xt(c({},nn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gn})),bn=Xt(c({},en,{propertyName:0,elapsedTime:0,pseudoElement:0})),_n=Xt(c({},an,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wn=Xt(c({},en,{newState:0,oldState:0})),jn=[9,13,27,32],Nn=Bt&&"CompositionEvent"in window,kn=null;Bt&&"documentMode"in document&&(kn=document.documentMode);var Sn=Bt&&"TextEvent"in window&&!kn,Cn=Bt&&(!Nn||kn&&8<kn&&11>=kn),En=String.fromCharCode(32),Pn=!1;function Mn(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function On(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var An=!1,Tn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Tn[e.type]:"textarea"===t}function Rn(e,t,n,r){Dt?Rt?Rt.push(r):Rt=[r]:Dt=r,0<(t=Uu(t,"onChange")).length&&(n=new tn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var In=null,Ln=null;function zn(e){zu(e,0)}function Fn(e){if(mt(He(e)))return e}function Bn(e,t){if("change"===e)return t}var Wn=!1;if(Bt){var $n;if(Bt){var Vn="oninput"in document;if(!Vn){var Kn=document.createElement("div");Kn.setAttribute("oninput","return;"),Vn="function"==typeof Kn.oninput}$n=Vn}else $n=!1;Wn=$n&&(!document.documentMode||9<document.documentMode)}function Hn(){In&&(In.detachEvent("onpropertychange",Un),Ln=In=null)}function Un(e){if("value"===e.propertyName&&Fn(Ln)){var t=[];Rn(t,Ln,e,Tt(e)),zt(zn,t)}}function Yn(e,t,n){"focusin"===e?(Hn(),Ln=n,(In=t).attachEvent("onpropertychange",Un)):"focusout"===e&&Hn()}function qn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fn(Ln)}function Gn(e,t){if("click"===e)return Fn(t)}function Xn(e,t){if("input"===e||"change"===e)return Fn(t)}var Qn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Zn(e,t){if(Qn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Z.call(t,i)||!Qn(e[i],t[i]))return!1}return!0}function Jn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function er(e,t){var n,r=Jn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jn(r)}}function tr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?tr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function nr(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function rr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ir=Bt&&"documentMode"in document&&11>=document.documentMode,ar=null,sr=null,or=null,lr=!1;function cr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;lr||null==ar||ar!==pt(r)||(r="selectionStart"in(r=ar)&&rr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},or&&Zn(or,r)||(or=r,0<(r=Uu(sr,"onSelect")).length&&(t=new tn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ar)))}function ur(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dr={animationend:ur("Animation","AnimationEnd"),animationiteration:ur("Animation","AnimationIteration"),animationstart:ur("Animation","AnimationStart"),transitionrun:ur("Transition","TransitionRun"),transitionstart:ur("Transition","TransitionStart"),transitioncancel:ur("Transition","TransitionCancel"),transitionend:ur("Transition","TransitionEnd")},hr={},fr={};function mr(e){if(hr[e])return hr[e];if(!dr[e])return e;var t,n=dr[e];for(t in n)if(n.hasOwnProperty(t)&&t in fr)return hr[e]=n[t];return e}Bt&&(fr=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);var pr=mr("animationend"),gr=mr("animationiteration"),xr=mr("animationstart"),yr=mr("transitionrun"),vr=mr("transitionstart"),br=mr("transitioncancel"),_r=mr("transitionend"),wr=new Map,jr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){wr.set(e,t),Xe(t,[e])}jr.push("scrollEnd");var kr=new WeakMap;function Sr(e,t){if("object"==typeof e&&null!==e){var n=kr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ut(t)},kr.set(e,t),t)}return{value:e,source:t,stack:ut(t)}}var Cr=[],Er=0,Pr=0;function Mr(){for(var e=Er,t=Pr=Er=0;t<e;){var n=Cr[t];Cr[t++]=null;var r=Cr[t];Cr[t++]=null;var i=Cr[t];Cr[t++]=null;var a=Cr[t];if(Cr[t++]=null,null!==r&&null!==i){var s=r.pending;null===s?i.next=i:(i.next=s.next,s.next=i),r.pending=i}0!==a&&Dr(n,i,a)}}function Or(e,t,n,r){Cr[Er++]=e,Cr[Er++]=t,Cr[Er++]=n,Cr[Er++]=r,Pr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ar(e,t,n,r){return Or(e,t,n,r),Rr(e)}function Tr(e,t){return Or(e,null,null,t),Rr(e)}function Dr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,i&&null!==t&&(i=31-pe(n),null===(r=(e=a.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),a):null}function Rr(e){if(50<Dc)throw Dc=0,Rc=null,Error(r(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Ir={};function Lr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(e,t,n,r){return new Lr(e,t,n,r)}function Fr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Br(e,t){var n=e.alternate;return null===n?((n=zr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Wr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function $r(e,t,n,i,a,s){var o=0;if(i=e,"function"==typeof e)Fr(e)&&(o=1);else if("string"==typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,K.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case k:return(e=zr(31,n,t,a)).elementType=k,e.lanes=s,e;case f:return Vr(n.children,a,s,t);case m:o=8,a|=24;break;case p:return(e=zr(12,n,t,2|a)).elementType=p,e.lanes=s,e;case b:return(e=zr(13,n,t,a)).elementType=b,e.lanes=s,e;case _:return(e=zr(19,n,t,a)).elementType=_,e.lanes=s,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case g:case y:o=10;break e;case x:o=9;break e;case v:o=11;break e;case w:o=14;break e;case N:o=16,i=null;break e}o=29,n=Error(r(130,null===e?"null":typeof e,"")),i=null}return(t=zr(o,n,t,a)).elementType=e,t.type=i,t.lanes=s,t}function Vr(e,t,n,r){return(e=zr(7,e,r,t)).lanes=n,e}function Kr(e,t,n){return(e=zr(6,e,null,t)).lanes=n,e}function Hr(e,t,n){return(t=zr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ur=[],Yr=0,qr=null,Gr=0,Xr=[],Qr=0,Zr=null,Jr=1,ei="";function ti(e,t){Ur[Yr++]=Gr,Ur[Yr++]=qr,qr=e,Gr=t}function ni(e,t,n){Xr[Qr++]=Jr,Xr[Qr++]=ei,Xr[Qr++]=Zr,Zr=e;var r=Jr;e=ei;var i=32-pe(r)-1;r&=~(1<<i),n+=1;var a=32-pe(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Jr=1<<32-pe(t)+i|n<<i|r,ei=a+e}else Jr=1<<a|n<<i|r,ei=e}function ri(e){null!==e.return&&(ti(e,1),ni(e,1,0))}function ii(e){for(;e===qr;)qr=Ur[--Yr],Ur[Yr]=null,Gr=Ur[--Yr],Ur[Yr]=null;for(;e===Zr;)Zr=Xr[--Qr],Xr[Qr]=null,ei=Xr[--Qr],Xr[Qr]=null,Jr=Xr[--Qr],Xr[Qr]=null}var ai=null,si=null,oi=!1,li=null,ci=!1,ui=Error(r(519));function di(e){throw xi(Sr(Error(r(418,"")),e)),ui}function hi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[De]=e,t[Re]=r,n){case"dialog":Fu("cancel",t),Fu("close",t);break;case"iframe":case"object":case"embed":Fu("load",t);break;case"video":case"audio":for(n=0;n<Iu.length;n++)Fu(Iu[n],t);break;case"source":Fu("error",t);break;case"img":case"image":case"link":Fu("error",t),Fu("load",t);break;case"details":Fu("toggle",t);break;case"input":Fu("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ft(t);break;case"select":Fu("invalid",t);break;case"textarea":Fu("invalid",t),jt(t,r.value,r.defaultValue,r.children),ft(t)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Zu(t.textContent,n)?(null!=r.popover&&(Fu("beforetoggle",t),Fu("toggle",t)),null!=r.onScroll&&Fu("scroll",t),null!=r.onScrollEnd&&Fu("scrollend",t),null!=r.onClick&&(t.onclick=Ju),t=!0):t=!1,t||di(e)}function fi(e){for(ai=e.return;ai;)switch(ai.tag){case 5:case 13:return void(ci=!1);case 27:case 3:return void(ci=!0);default:ai=ai.return}}function mi(e){if(e!==ai)return!1;if(!oi)return fi(e),oi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ld(e.type,e.memoizedProps)),t=!t),t&&si&&di(e),fi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){si=vd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}si=null}}else 27===n?(n=si,pd(e.type)?(e=bd,bd=null,si=e):si=n):si=ai?vd(e.stateNode.nextSibling):null;return!0}function pi(){si=ai=null,oi=!1}function gi(){var e=li;return null!==e&&(null===_c?_c=e:_c.push.apply(_c,e),li=null),e}function xi(e){null===li?li=[e]:li.push(e)}var yi=B(null),vi=null,bi=null;function _i(e,t,n){V(yi,t._currentValue),t._currentValue=n}function wi(e){e._currentValue=yi.current,$(yi)}function ji(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ni(e,t,n,i){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var s=a.dependencies;if(null!==s){var o=a.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=a;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ji(s.return,n,e),i||(o=null);break e}s=l.next}}else if(18===a.tag){if(null===(o=a.return))throw Error(r(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),ji(o,n,e),o=null}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===e){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}}function ki(e,t,n,i){e=null;for(var a=t,s=!1;null!==a;){if(!s)if(524288&a.flags)s=!0;else if(262144&a.flags)break;if(10===a.tag){var o=a.alternate;if(null===o)throw Error(r(387));if(null!==(o=o.memoizedProps)){var l=a.type;Qn(a.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(a===Y.current){if(null===(o=a.alternate))throw Error(r(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(Xd):e=[Xd])}a=a.return}null!==e&&Ni(t,e,n,i),t.flags|=262144}function Si(e){for(e=e.firstContext;null!==e;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ci(e){vi=e,bi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ei(e){return Mi(vi,e)}function Pi(e,t){return null===vi&&Ci(e),Mi(e,t)}function Mi(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===bi){if(null===e)throw Error(r(308));bi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else bi=bi.next=t;return n}var Oi="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ai=e.unstable_scheduleCallback,Ti=e.unstable_NormalPriority,Di={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ri(){return{controller:new Oi,data:new Map,refCount:0}}function Ii(e){e.refCount--,0===e.refCount&&Ai(Ti,function(){e.controller.abort()})}var Li=null,zi=0,Fi=0,Bi=null;function Wi(){if(0===--zi&&null!==Li){null!==Bi&&(Bi.status="fulfilled");var e=Li;Li=null,Fi=0,Bi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var $i=D.S;D.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Li){var n=Li=[];zi=0,Fi=Ou(),Bi={status:"pending",value:void 0,then:function(e){n.push(e)}}}zi++,t.then(Wi,Wi)}(0,t),null!==$i&&$i(e,t)};var Vi=B(null);function Ki(){var e=Vi.current;return null!==e?e:ac.pooledCache}function Hi(e,t){V(Vi,null===t?Vi.current:t.pool)}function Ui(){var e=Ki();return null===e?null:{parent:Di._currentValue,pool:e}}var Yi=Error(r(460)),qi=Error(r(474)),Gi=Error(r(542)),Xi={then:function(){}};function Qi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Zi(){}function Ji(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Zi,Zi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw na(e=t.reason),e;default:if("string"==typeof t.status)t.then(Zi,Zi);else{if(null!==(e=ac)&&100<e.shellSuspendCounter)throw Error(r(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw na(e=t.reason),e}throw ea=t,Yi}}var ea=null;function ta(){if(null===ea)throw Error(r(459));var e=ea;return ea=null,e}function na(e){if(e===Yi||e===Gi)throw Error(r(483))}var ra=!1;function ia(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function aa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function sa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&ic){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Rr(e),Dr(e,null,n),t}return Or(e,r,t,n),Rr(e)}function la(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pe(e,n)}}function ca(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ua=!1;function da(){if(ua&&null!==Bi)throw Bi}function ha(e,t,n,r){ua=!1;var i=e.updateQueue;ra=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,u=l.next;l.next=null,null===s?a=u:s.next=u,s=l;var d=e.alternate;null!==d&&(o=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===o?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l)}if(null!==a){var h=i.baseState;for(s=0,d=u=l=null,o=a;;){var f=-536870913&o.lane,m=f!==o.lane;if(m?(oc&f)===f:(r&f)===f){0!==f&&f===Fi&&(ua=!0),null!==d&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var p=e,g=o;f=t;var x=n;switch(g.tag){case 1:if("function"==typeof(p=g.payload)){h=p.call(x,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(f="function"==typeof(p=g.payload)?p.call(x,h,f):p))break e;h=c({},h,f);break e;case 2:ra=!0}}null!==(f=o.callback)&&(e.flags|=64,m&&(e.flags|=8192),null===(m=i.callbacks)?i.callbacks=[f]:m.push(f))}else m={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(u=d=m,l=h):d=d.next=m,s|=f;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(m=o).next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}null===d&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,null===a&&(i.shared.lanes=0),pc|=s,e.lanes=s,e.memoizedState=h}}function fa(e,t){if("function"!=typeof e)throw Error(r(191,e));e.call(t)}function ma(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)fa(n[e],t)}var pa=B(null),ga=B(0);function xa(e,t){V(ga,e=fc),V(pa,t),fc=e|t.baseLanes}function ya(){V(ga,fc),V(pa,pa.current)}function va(){fc=ga.current,$(pa),$(ga)}var ba=0,_a=null,wa=null,ja=null,Na=!1,ka=!1,Sa=!1,Ca=0,Ea=0,Pa=null,Ma=0;function Oa(){throw Error(r(321))}function Aa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function Ta(e,t,n,r,i,a){return ba=a,_a=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?Ys:qs,Sa=!1,a=n(r,i),Sa=!1,ka&&(a=Ra(t,n,r,i)),Da(e),a}function Da(e){D.H=Us;var t=null!==wa&&null!==wa.next;if(ba=0,ja=wa=_a=null,Na=!1,Ea=0,Pa=null,t)throw Error(r(300));null===e||Po||null!==(e=e.dependencies)&&Si(e)&&(Po=!0)}function Ra(e,t,n,i){_a=e;var a=0;do{if(ka&&(Pa=null),Ea=0,ka=!1,25<=a)throw Error(r(301));if(a+=1,ja=wa=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}D.H=Gs,s=t(n,i)}while(ka);return s}function Ia(){var e=D.H,t=e.useState()[0];return t="function"==typeof t.then?$a(t):t,e=e.useState()[0],(null!==wa?wa.memoizedState:null)!==e&&(_a.flags|=1024),t}function La(){var e=0!==Ca;return Ca=0,e}function za(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Fa(e){if(Na){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Na=!1}ba=0,ja=wa=_a=null,ka=!1,Ea=Ca=0,Pa=null}function Ba(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ja?_a.memoizedState=ja=e:ja=ja.next=e,ja}function Wa(){if(null===wa){var e=_a.alternate;e=null!==e?e.memoizedState:null}else e=wa.next;var t=null===ja?_a.memoizedState:ja.next;if(null!==t)ja=t,wa=e;else{if(null===e){if(null===_a.alternate)throw Error(r(467));throw Error(r(310))}e={memoizedState:(wa=e).memoizedState,baseState:wa.baseState,baseQueue:wa.baseQueue,queue:wa.queue,next:null},null===ja?_a.memoizedState=ja=e:ja=ja.next=e}return ja}function $a(e){var t=Ea;return Ea+=1,null===Pa&&(Pa=[]),e=Ji(Pa,e,t),t=_a,null===(null===ja?t.memoizedState:ja.next)&&(t=t.alternate,D.H=null===t||null===t.memoizedState?Ys:qs),e}function Va(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return $a(e);if(e.$$typeof===y)return Ei(e)}throw Error(r(438,String(e)))}function Ka(e){var t=null,n=_a.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=_a.alternate;null!==r&&null!==(r=r.updateQueue)&&null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},_a.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=S;return t.index++,n}function Ha(e,t){return"function"==typeof t?t(e):t}function Ua(e){return Ya(Wa(),wa,e)}function Ya(e,t,n){var i=e.queue;if(null===i)throw Error(r(311));i.lastRenderedReducer=n;var a=e.baseQueue,s=i.pending;if(null!==s){if(null!==a){var o=a.next;a.next=s.next,s.next=o}t.baseQueue=a=s,i.pending=null}if(s=e.baseState,null===a)e.memoizedState=s;else{var l=o=null,c=null,u=t=a.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(oc&h)===h:(ba&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Fi&&(d=!0);else{if((ba&f)===f){u=u.next,f===Fi&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=s):c=c.next=h,_a.lanes|=f,pc|=f}h=u.action,Sa&&n(s,h),s=u.hasEagerState?u.eagerState:n(s,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=s):c=c.next=f,_a.lanes|=h,pc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=s:c.next=l,!Qn(s,e.memoizedState)&&(Po=!0,d&&null!==(n=Bi)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=c,i.lastRenderedState=s}return null===a&&(i.lanes=0),[e.memoizedState,i.dispatch]}function qa(e){var t=Wa(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,a=n.pending,s=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{s=e(s,o.action),o=o.next}while(o!==a);Qn(s,t.memoizedState)||(Po=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function Ga(e,t,n){var i=_a,a=Wa(),s=oi;if(s){if(void 0===n)throw Error(r(407));n=n()}else n=t();var o=!Qn((wa||a).memoizedState,n);if(o&&(a.memoizedState=n,Po=!0),a=a.queue,ys(2048,8,Za.bind(null,i,a,e),[e]),a.getSnapshot!==t||o||null!==ja&&1&ja.memoizedState.tag){if(i.flags|=2048,ps(9,{destroy:void 0,resource:void 0},Qa.bind(null,i,a,n,t),null),null===ac)throw Error(r(349));s||124&ba||Xa(i,t,n)}return n}function Xa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=_a.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},_a.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Qa(e,t,n,r){t.value=n,t.getSnapshot=r,Ja(t)&&es(e)}function Za(e,t,n){return n(function(){Ja(t)&&es(e)})}function Ja(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch(r){return!0}}function es(e){var t=Tr(e,2);null!==t&&zc(t,0,2)}function ts(e){var t=Ba();if("function"==typeof e){var n=e;if(e=n(),Sa){me(!0);try{n()}finally{me(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:e},t}function ns(e,t,n,r){return e.baseState=n,Ya(e,wa,"function"==typeof r?r:Ha)}function rs(e,t,n,i,a){if(Vs(e))throw Error(r(485));if(null!==(e=t.action)){var s={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==D.T?n(!0):s.isTransition=!1,i(s),null===(n=t.pending)?(s.next=t.pending=s,is(t,s)):(s.next=n.next,t.pending=n.next=s)}}function is(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=D.T,s={};D.T=s;try{var o=n(i,r),l=D.S;null!==l&&l(s,o),as(e,t,o)}catch(c){os(e,t,c)}finally{D.T=a}}else try{as(e,t,a=n(i,r))}catch(u){os(e,t,u)}}function as(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){ss(e,t,n)},function(n){return os(e,t,n)}):ss(e,t,n)}function ss(e,t,n){t.status="fulfilled",t.value=n,ls(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,is(e,n)))}function os(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,ls(t),t=t.next}while(t!==r)}e.action=null}function ls(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function cs(e,t){return t}function us(e,t){if(oi){var n=ac.formState;if(null!==n){e:{var r=_a;if(oi){if(si){t:{for(var i=si,a=ci;8!==i.nodeType;){if(!a){i=null;break t}if(null===(i=vd(i.nextSibling))){i=null;break t}}i="F!"===(a=i.data)||"F"===a?i:null}if(i){si=vd(i.nextSibling),r="F!"===i.data;break e}}di(r)}r=!1}r&&(t=n[0])}}return(n=Ba()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:t},n.queue=r,n=Bs.bind(null,_a,r),r.dispatch=n,r=ts(!1),a=$s.bind(null,_a,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=Ba()).queue=i,n=rs.bind(null,_a,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function ds(e){return hs(Wa(),wa,e)}function hs(e,t,n){if(t=Ya(e,t,cs)[0],e=Ua(Ha)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=$a(t)}catch(s){if(s===Yi)throw Gi;throw s}else r=t;var i=(t=Wa()).queue,a=i.dispatch;return n!==t.memoizedState&&(_a.flags|=2048,ps(9,{destroy:void 0,resource:void 0},fs.bind(null,i,n),null)),[r,a,e]}function fs(e,t){e.action=t}function ms(e){var t=Wa(),n=wa;if(null!==n)return hs(t,n,e);Wa(),t=t.memoizedState;var r=(n=Wa()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function ps(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=_a.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},_a.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function gs(){return Wa().memoizedState}function xs(e,t,n,r){var i=Ba();r=void 0===r?null:r,_a.flags|=e,i.memoizedState=ps(1|t,{destroy:void 0,resource:void 0},n,r)}function ys(e,t,n,r){var i=Wa();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==wa&&null!==r&&Aa(r,wa.memoizedState.deps)?i.memoizedState=ps(t,a,n,r):(_a.flags|=e,i.memoizedState=ps(1|t,a,n,r))}function vs(e,t){xs(8390656,8,e,t)}function bs(e,t){ys(2048,8,e,t)}function _s(e,t){return ys(4,2,e,t)}function ws(e,t){return ys(4,4,e,t)}function js(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Ns(e,t,n){n=null!=n?n.concat([e]):null,ys(4,4,js.bind(null,t,e),n)}function ks(){}function Ss(e,t){var n=Wa();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Aa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Cs(e,t){var n=Wa();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Aa(t,r[1]))return r[0];if(r=e(),Sa){me(!0);try{e()}finally{me(!1)}}return n.memoizedState=[r,t],r}function Es(e,t,n){return void 0===n||1073741824&ba?e.memoizedState=t:(e.memoizedState=n,e=Lc(),_a.lanes|=e,pc|=e,n)}function Ps(e,t,n,r){return Qn(n,t)?n:null!==pa.current?(e=Es(e,n,r),Qn(e,t)||(Po=!0),e):42&ba?(e=Lc(),_a.lanes|=e,pc|=e,t):(Po=!0,e.memoizedState=n)}function Ms(e,t,n,r,i){var a=R.p;R.p=0!==a&&8>a?a:8;var s,o,l,c=D.T,u={};D.T=u,$s(e,!1,t,n);try{var d=i(),h=D.S;null!==h&&h(u,d),null!==d&&"object"==typeof d&&"function"==typeof d.then?Ws(e,t,(s=r,o=[],l={status:"pending",value:null,reason:null,then:function(e){o.push(e)}},d.then(function(){l.status="fulfilled",l.value=s;for(var e=0;e<o.length;e++)(0,o[e])(s)},function(e){for(l.status="rejected",l.reason=e,e=0;e<o.length;e++)(0,o[e])(void 0)}),l),Ic()):Ws(e,t,r,Ic())}catch(f){Ws(e,t,{then:function(){},status:"rejected",reason:f},Ic())}finally{R.p=a,D.T=c}}function Os(){}function As(e,t,n,i){if(5!==e.tag)throw Error(r(476));var a=Ts(e).queue;Ms(e,a,t,L,null===n?Os:function(){return Ds(e),n(i)})}function Ts(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ds(e){Ws(e,Ts(e).next.queue,{},Ic())}function Rs(){return Ei(Xd)}function Is(){return Wa().memoizedState}function Ls(){return Wa().memoizedState}function zs(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Ic(),r=oa(t,e=sa(n),n);return null!==r&&(zc(r,0,n),la(r,t,n)),t={cache:Ri()},void(e.payload=t)}t=t.return}}function Fs(e,t,n){var r=Ic();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Vs(e)?Ks(t,n):null!==(n=Ar(e,t,n,r))&&(zc(n,0,r),Hs(n,t,r))}function Bs(e,t,n){Ws(e,t,n,Ic())}function Ws(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vs(e))Ks(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,Qn(o,s))return Or(e,t,i,0),null===ac&&Mr(),!1}catch(l){}if(null!==(n=Ar(e,t,i,r)))return zc(n,0,r),Hs(n,t,r),!0}return!1}function $s(e,t,n,i){if(i={lane:2,revertLane:Ou(),action:i,hasEagerState:!1,eagerState:null,next:null},Vs(e)){if(t)throw Error(r(479))}else null!==(t=Ar(e,n,i,2))&&zc(t,0,2)}function Vs(e){var t=e.alternate;return e===_a||null!==t&&t===_a}function Ks(e,t){ka=Na=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Hs(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pe(e,n)}}var Us={readContext:Ei,use:Va,useCallback:Oa,useContext:Oa,useEffect:Oa,useImperativeHandle:Oa,useLayoutEffect:Oa,useInsertionEffect:Oa,useMemo:Oa,useReducer:Oa,useRef:Oa,useState:Oa,useDebugValue:Oa,useDeferredValue:Oa,useTransition:Oa,useSyncExternalStore:Oa,useId:Oa,useHostTransitionStatus:Oa,useFormState:Oa,useActionState:Oa,useOptimistic:Oa,useMemoCache:Oa,useCacheRefresh:Oa},Ys={readContext:Ei,use:Va,useCallback:function(e,t){return Ba().memoizedState=[e,void 0===t?null:t],e},useContext:Ei,useEffect:vs,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,xs(4194308,4,js.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xs(4194308,4,e,t)},useInsertionEffect:function(e,t){xs(4,2,e,t)},useMemo:function(e,t){var n=Ba();t=void 0===t?null:t;var r=e();if(Sa){me(!0);try{e()}finally{me(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Ba();if(void 0!==n){var i=n(t);if(Sa){me(!0);try{n(t)}finally{me(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Fs.bind(null,_a,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ba().memoizedState=e},useState:function(e){var t=(e=ts(e)).queue,n=Bs.bind(null,_a,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ks,useDeferredValue:function(e,t){return Es(Ba(),e,t)},useTransition:function(){var e=ts(!1);return e=Ms.bind(null,_a,e.queue,!0,!1),Ba().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=_a,a=Ba();if(oi){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===ac)throw Error(r(349));124&oc||Xa(i,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,vs(Za.bind(null,i,s,e),[e]),i.flags|=2048,ps(9,{destroy:void 0,resource:void 0},Qa.bind(null,i,s,n,t),null),n},useId:function(){var e=Ba(),t=ac.identifierPrefix;if(oi){var n=ei;t=""+t+"R"+(n=(Jr&~(1<<32-pe(Jr)-1)).toString(32)+n),0<(n=Ca++)&&(t+="H"+n.toString(32)),t+=""}else t=""+t+"r"+(n=Ma++).toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Rs,useFormState:us,useActionState:us,useOptimistic:function(e){var t=Ba();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=$s.bind(null,_a,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ka,useCacheRefresh:function(){return Ba().memoizedState=zs.bind(null,_a)}},qs={readContext:Ei,use:Va,useCallback:Ss,useContext:Ei,useEffect:bs,useImperativeHandle:Ns,useInsertionEffect:_s,useLayoutEffect:ws,useMemo:Cs,useReducer:Ua,useRef:gs,useState:function(){return Ua(Ha)},useDebugValue:ks,useDeferredValue:function(e,t){return Ps(Wa(),wa.memoizedState,e,t)},useTransition:function(){var e=Ua(Ha)[0],t=Wa().memoizedState;return["boolean"==typeof e?e:$a(e),t]},useSyncExternalStore:Ga,useId:Is,useHostTransitionStatus:Rs,useFormState:ds,useActionState:ds,useOptimistic:function(e,t){return ns(Wa(),0,e,t)},useMemoCache:Ka,useCacheRefresh:Ls},Gs={readContext:Ei,use:Va,useCallback:Ss,useContext:Ei,useEffect:bs,useImperativeHandle:Ns,useInsertionEffect:_s,useLayoutEffect:ws,useMemo:Cs,useReducer:qa,useRef:gs,useState:function(){return qa(Ha)},useDebugValue:ks,useDeferredValue:function(e,t){var n=Wa();return null===wa?Es(n,e,t):Ps(n,wa.memoizedState,e,t)},useTransition:function(){var e=qa(Ha)[0],t=Wa().memoizedState;return["boolean"==typeof e?e:$a(e),t]},useSyncExternalStore:Ga,useId:Is,useHostTransitionStatus:Rs,useFormState:ms,useActionState:ms,useOptimistic:function(e,t){var n=Wa();return null!==wa?ns(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ka,useCacheRefresh:Ls},Xs=null,Qs=0;function Zs(e){var t=Qs;return Qs+=1,null===Xs&&(Xs=[]),Ji(Xs,e,t)}function Js(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function eo(e,t){if(t.$$typeof===u)throw Error(r(525));throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function to(e){return(0,e._init)(e._payload)}function no(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function i(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Br(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Kr(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===f?m(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===N&&to(i)===t.type)?(Js(t=a(t,n.props),n),t.return=e,t):(Js(t=$r(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hr(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function m(e,t,n,r,i){return null===t||7!==t.tag?((t=Vr(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Kr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case d:return Js(n=$r(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case h:return(t=Hr(t,e.mode,n)).return=e,t;case N:return p(e,t=(0,t._init)(t._payload),n)}if(A(t)||E(t))return(t=Vr(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return p(e,Zs(t),n);if(t.$$typeof===y)return p(e,Pi(e,t),n);eo(e,t)}return null}function g(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case d:return n.key===i?c(e,t,n,r):null;case h:return n.key===i?u(e,t,n,r):null;case N:return g(e,t,n=(i=n._init)(n._payload),r)}if(A(n)||E(n))return null!==i?null:m(e,t,n,r,null);if("function"==typeof n.then)return g(e,t,Zs(n),r);if(n.$$typeof===y)return g(e,t,Pi(e,n),r);eo(e,n)}return null}function x(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case d:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case h:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return x(e,t,n,r=(0,r._init)(r._payload),i)}if(A(r)||E(r))return m(t,e=e.get(n)||null,r,i,null);if("function"==typeof r.then)return x(e,t,n,Zs(r),i);if(r.$$typeof===y)return x(e,t,n,Pi(t,r),i);eo(t,r)}return null}function v(l,c,u,m){if("object"==typeof u&&null!==u&&u.type===f&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case d:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===f){if(7===c.tag){n(l,c.sibling),(m=a(c,u.props.children)).return=l,l=m;break e}}else if(c.elementType===b||"object"==typeof b&&null!==b&&b.$$typeof===N&&to(b)===c.type){n(l,c.sibling),Js(m=a(c,u.props),u),m.return=l,l=m;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===f?((m=Vr(u.props.children,l.mode,m,u.key)).return=l,l=m):(Js(m=$r(u.type,u.key,u.props,null,l.mode,m),u),m.return=l,l=m)}return o(l);case h:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(m=a(c,u.children||[])).return=l,l=m;break e}n(l,c);break}t(l,c),c=c.sibling}(m=Hr(u,l.mode,m)).return=l,l=m}return o(l);case N:return v(l,c,u=(b=u._init)(u._payload),m)}if(A(u))return function(r,a,o,l){for(var c=null,u=null,d=a,h=a=0,f=null;null!==d&&h<o.length;h++){d.index>h?(f=d,d=null):f=d.sibling;var m=g(r,d,o[h],l);if(null===m){null===d&&(d=f);break}e&&d&&null===m.alternate&&t(r,d),a=s(m,a,h),null===u?c=m:u.sibling=m,u=m,d=f}if(h===o.length)return n(r,d),oi&&ti(r,h),c;if(null===d){for(;h<o.length;h++)null!==(d=p(r,o[h],l))&&(a=s(d,a,h),null===u?c=d:u.sibling=d,u=d);return oi&&ti(r,h),c}for(d=i(d);h<o.length;h++)null!==(f=x(d,r,h,o[h],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?h:f.key),a=s(f,a,h),null===u?c=f:u.sibling=f,u=f);return e&&d.forEach(function(e){return t(r,e)}),oi&&ti(r,h),c}(l,c,u,m);if(E(u)){if("function"!=typeof(b=E(u)))throw Error(r(150));return function(a,o,l,c){if(null==l)throw Error(r(151));for(var u=null,d=null,h=o,f=o=0,m=null,y=l.next();null!==h&&!y.done;f++,y=l.next()){h.index>f?(m=h,h=null):m=h.sibling;var v=g(a,h,y.value,c);if(null===v){null===h&&(h=m);break}e&&h&&null===v.alternate&&t(a,h),o=s(v,o,f),null===d?u=v:d.sibling=v,d=v,h=m}if(y.done)return n(a,h),oi&&ti(a,f),u;if(null===h){for(;!y.done;f++,y=l.next())null!==(y=p(a,y.value,c))&&(o=s(y,o,f),null===d?u=y:d.sibling=y,d=y);return oi&&ti(a,f),u}for(h=i(h);!y.done;f++,y=l.next())null!==(y=x(h,a,f,y.value,c))&&(e&&null!==y.alternate&&h.delete(null===y.key?f:y.key),o=s(y,o,f),null===d?u=y:d.sibling=y,d=y);return e&&h.forEach(function(e){return t(a,e)}),oi&&ti(a,f),u}(l,c,u=b.call(u),m)}if("function"==typeof u.then)return v(l,c,Zs(u),m);if(u.$$typeof===y)return v(l,c,Pi(l,u),m);eo(l,u)}return"string"==typeof u&&""!==u||"number"==typeof u||"bigint"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(m=a(c,u)).return=l,l=m):(n(l,c),(m=Kr(u,l.mode,m)).return=l,l=m),o(l)):n(l,c)}return function(e,t,n,r){try{Qs=0;var i=v(e,t,n,r);return Xs=null,i}catch(s){if(s===Yi||s===Gi)throw s;var a=zr(29,s,null,e.mode);return a.lanes=r,a.return=e,a}}}var ro=no(!0),io=no(!1),ao=B(null),so=null;function oo(e){var t=e.alternate;V(ho,1&ho.current),V(ao,e),null===so&&(null===t||null!==pa.current||null!==t.memoizedState)&&(so=e)}function lo(e){if(22===e.tag){if(V(ho,ho.current),V(ao,e),null===so){var t=e.alternate;null!==t&&null!==t.memoizedState&&(so=e)}}else co()}function co(){V(ho,ho.current),V(ao,ao.current)}function uo(e){$(ao),so===e&&(so=null),$(ho)}var ho=B(0);function fo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||yd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function mo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:c({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var po={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ic(),i=sa(r);i.payload=t,null!=n&&(i.callback=n),null!==(t=oa(e,i,r))&&(zc(t,0,r),la(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ic(),i=sa(r);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=oa(e,i,r))&&(zc(t,0,r),la(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ic(),r=sa(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=oa(e,r,n))&&(zc(t,0,n),la(t,e,n))}};function go(e,t,n,r,i,a,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!(t.prototype&&t.prototype.isPureReactComponent&&Zn(n,r)&&Zn(i,a))}function xo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function yo(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=c({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var vo="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)};function bo(e){vo(e)}function _o(e){}function wo(e){vo(e)}function jo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function No(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function ko(e,t,n){return(n=sa(n)).tag=3,n.payload={element:null},n.callback=function(){jo(e,t)},n}function So(e){return(e=sa(e)).tag=3,e}function Co(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"==typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){No(t,n,r)}}var s=n.stateNode;null!==s&&"function"==typeof s.componentDidCatch&&(e.callback=function(){No(t,n,r),"function"!=typeof i&&(null===Sc?Sc=new Set([this]):Sc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Eo=Error(r(461)),Po=!1;function Mo(e,t,n,r){t.child=null===e?io(t,null,n,r):ro(t,e.child,n,r)}function Oo(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var s={};for(var o in r)"ref"!==o&&(s[o]=r[o])}else s=r;return Ci(t),r=Ta(e,t,n,s,a,i),o=La(),null===e||Po?(oi&&o&&ri(t),t.flags|=1,Mo(e,t,r,i),t.child):(za(e,t,i),Qo(e,t,i))}function Ao(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||Fr(a)||void 0!==a.defaultProps||null!==n.compare?((e=$r(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,To(e,t,a,r,i))}if(a=e.child,!Zo(e,i)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(s,r)&&e.ref===t.ref)return Qo(e,t,i)}return t.flags|=1,(e=Br(a,r)).ref=t.ref,e.return=t,t.child=e}function To(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(Zn(a,r)&&e.ref===t.ref){if(Po=!1,t.pendingProps=r=a,!Zo(e,i))return t.lanes=e.lanes,Qo(e,t,i);131072&e.flags&&(Po=!0)}}return Lo(e,t,n,r,i)}function Do(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(128&t.flags){if(r=null!==a?a.baseLanes|n:n,null!==e){for(i=t.child=e.child,a=0;null!==i;)a=a|i.lanes|i.childLanes,i=i.sibling;t.childLanes=a&~r}else t.childLanes=0,t.child=null;return Ro(e,t,r,n)}if(!(536870912&n))return t.lanes=t.childLanes=536870912,Ro(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Hi(0,null!==a?a.cachePool:null),null!==a?xa(t,a):ya(),lo(t)}else null!==a?(Hi(0,a.cachePool),xa(t,a),co(),t.memoizedState=null):(null!==e&&Hi(0,null),ya(),co());return Mo(e,t,i,n),t.child}function Ro(e,t,n,r){var i=Ki();return i=null===i?null:{parent:Di._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Hi(0,null),ya(),lo(t),null!==e&&ki(e,t,r,!0),null}function Io(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(r(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Lo(e,t,n,r,i){return Ci(t),n=Ta(e,t,n,r,void 0,i),r=La(),null===e||Po?(oi&&r&&ri(t),t.flags|=1,Mo(e,t,n,i),t.child):(za(e,t,i),Qo(e,t,i))}function zo(e,t,n,r,i,a){return Ci(t),t.updateQueue=null,n=Ra(t,r,n,i),Da(e),r=La(),null===e||Po?(oi&&r&&ri(t),t.flags|=1,Mo(e,t,n,a),t.child):(za(e,t,a),Qo(e,t,a))}function Fo(e,t,n,r,i){if(Ci(t),null===t.stateNode){var a=Ir,s=n.contextType;"object"==typeof s&&null!==s&&(a=Ei(s)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=po,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},ia(t),s=n.contextType,a.context="object"==typeof s&&null!==s?Ei(s):Ir,a.state=t.memoizedState,"function"==typeof(s=n.getDerivedStateFromProps)&&(mo(t,n,s,r),a.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(s=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),s!==a.state&&po.enqueueReplaceState(a,a.state,null),ha(t,r,a,i),da(),a.state=t.memoizedState),"function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var o=t.memoizedProps,l=yo(n,o);a.props=l;var c=a.context,u=n.contextType;s=Ir,"object"==typeof u&&null!==u&&(s=Ei(u));var d=n.getDerivedStateFromProps;u="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o||c!==s)&&xo(t,a,r,s),ra=!1;var h=t.memoizedState;a.state=h,ha(t,r,a,i),da(),c=t.memoizedState,o||h!==c||ra?("function"==typeof d&&(mo(t,n,d,r),c=t.memoizedState),(l=ra||go(t,n,l,r,h,c,s))?(u||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=s,r=l):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,aa(e,t),u=yo(n,s=t.memoizedProps),a.props=u,d=t.pendingProps,h=a.context,c=n.contextType,l=Ir,"object"==typeof c&&null!==c&&(l=Ei(c)),(c="function"==typeof(o=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||h!==l)&&xo(t,a,r,l),ra=!1,h=t.memoizedState,a.state=h,ha(t,r,a,i),da();var f=t.memoizedState;s!==d||h!==f||ra||null!==e&&null!==e.dependencies&&Si(e.dependencies)?("function"==typeof o&&(mo(t,n,o,r),f=t.memoizedState),(u=ra||go(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Si(e.dependencies))?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=u):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Io(e,t),r=!!(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=ro(t,e.child,null,i),t.child=ro(t,null,n,i)):Mo(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Qo(e,t,i),e}function Bo(e,t,n,r){return pi(),t.flags|=256,Mo(e,t,n,r),t.child}var Wo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $o(e){return{baseLanes:e,cachePool:Ui()}}function Vo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=yc),e}function Ko(e,t,n){var i,a=t.pendingProps,s=!1,o=!!(128&t.flags);if((i=o)||(i=(null===e||null!==e.memoizedState)&&!!(2&ho.current)),i&&(s=!0,t.flags&=-129),i=!!(32&t.flags),t.flags&=-33,null===e){if(oi){if(s?oo(t):co(),oi){var l,c=si;if(l=c){e:{for(l=c,c=ci;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=vd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Zr?{id:Jr,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},(l=zr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ai=t,si=null,l=!0):l=!1}l||di(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return yd(c)?t.lanes=32:t.lanes=536870912,null;uo(t)}return c=a.children,a=a.fallback,s?(co(),c=Uo({mode:"hidden",children:c},s=t.mode),a=Vr(a,s,n,null),c.return=t,a.return=t,c.sibling=a,t.child=c,(s=t.child).memoizedState=$o(n),s.childLanes=Vo(e,i,n),t.memoizedState=Wo,a):(oo(t),Ho(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(oo(t),t.flags&=-257,t=Yo(e,t,n)):null!==t.memoizedState?(co(),t.child=e.child,t.flags|=128,t=null):(co(),s=a.fallback,c=t.mode,a=Uo({mode:"visible",children:a.children},c),(s=Vr(s,c,n,null)).flags|=2,a.return=t,s.return=t,a.sibling=s,t.child=a,ro(t,e.child,null,n),(a=t.child).memoizedState=$o(n),a.childLanes=Vo(e,i,n),t.memoizedState=Wo,t=s);else if(oo(t),yd(c)){if(i=c.nextSibling&&c.nextSibling.dataset)var u=i.dgst;i=u,(a=Error(r(419))).stack="",a.digest=i,xi({value:a,source:null,stack:null}),t=Yo(e,t,n)}else if(Po||ki(e,t,n,!1),i=0!==(n&e.childLanes),Po||i){if(null!==(i=ac)&&0!==(a=0!==((a=42&(a=n&-n)?1:Me(a))&(i.suspendedLanes|n))?0:a)&&a!==l.retryLane)throw l.retryLane=a,Tr(e,a),zc(i,0,a),Eo;"$?"===c.data||Gc(),t=Yo(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,si=vd(c.nextSibling),ai=t,oi=!0,li=null,ci=!1,null!==e&&(Xr[Qr++]=Jr,Xr[Qr++]=ei,Xr[Qr++]=Zr,Jr=e.id,ei=e.overflow,Zr=t),(t=Ho(t,a.children)).flags|=4096);return t}return s?(co(),s=a.fallback,c=t.mode,u=(l=e.child).sibling,(a=Br(l,{mode:"hidden",children:a.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?s=Br(u,s):(s=Vr(s,c,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,null===(c=e.child.memoizedState)?c=$o(n):(null!==(l=c.cachePool)?(u=Di._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Ui(),c={baseLanes:c.baseLanes|n,cachePool:l}),s.memoizedState=c,s.childLanes=Vo(e,i,n),t.memoizedState=Wo,a):(oo(t),e=(n=e.child).sibling,(n=Br(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function Ho(e,t){return(t=Uo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Uo(e,t){return(e=zr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Yo(e,t,n){return ro(t,e.child,null,n),(e=Ho(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function qo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ji(e.return,t,n)}function Go(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Xo(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Mo(e,t,r.children,n),2&(r=ho.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&qo(e,n,t);else if(19===e.tag)qo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(V(ho,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===fo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Go(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===fo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Go(t,!0,n,null,a);break;case"together":Go(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(ki(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Br(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Br(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Zo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Si(e))}function Jo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Po=!0;else{if(!(Zo(e,n)||128&t.flags))return Po=!1,function(e,t,n){switch(t.tag){case 3:q(t,t.stateNode.containerInfo),_i(0,Di,e.memoizedState.cache),pi();break;case 27:case 5:X(t);break;case 4:q(t,t.stateNode.containerInfo);break;case 10:_i(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(oo(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Ko(e,t,n):(oo(t),null!==(e=Qo(e,t,n))?e.sibling:null);oo(t);break;case 19:var i=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(ki(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Xo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),V(ho,ho.current),r)break;return null;case 22:case 23:return t.lanes=0,Do(e,t,n);case 24:_i(0,Di,e.memoizedState.cache)}return Qo(e,t,n)}(e,t,n);Po=!!(131072&e.flags)}else Po=!1,oi&&1048576&t.flags&&ni(t,Gr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,a=i._init;if(i=a(i._payload),t.type=i,"function"!=typeof i){if(null!=i){if((a=i.$$typeof)===v){t.tag=11,t=Oo(null,t,i,e,n);break e}if(a===w){t.tag=14,t=Ao(null,t,i,e,n);break e}}throw t=O(i)||i,Error(r(306,t,""))}Fr(i)?(e=yo(i,e),t.tag=1,t=Fo(null,t,i,e,n)):(t.tag=0,t=Lo(null,t,i,e,n))}return t;case 0:return Lo(e,t,t.type,t.pendingProps,n);case 1:return Fo(e,t,i=t.type,a=yo(i,t.pendingProps),n);case 3:e:{if(q(t,t.stateNode.containerInfo),null===e)throw Error(r(387));i=t.pendingProps;var s=t.memoizedState;a=s.element,aa(e,t),ha(t,i,null,n);var o=t.memoizedState;if(i=o.cache,_i(0,Di,i),i!==s.cache&&Ni(t,[Di],n,!0),da(),i=o.element,s.isDehydrated){if(s={element:i,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Bo(e,t,i,n);break e}if(i!==a){xi(a=Sr(Error(r(424)),t)),t=Bo(e,t,i,n);break e}for(e=9===(e=t.stateNode.containerInfo).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,si=vd(e.firstChild),ai=t,oi=!0,li=null,ci=!0,n=io(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pi(),i===a){t=Qo(e,t,n);break e}Mo(e,t,i,n)}t=t.child}return t;case 26:return Io(e,t),null===e?(n=Md(t.type,null,t.pendingProps,null))?t.memoizedState=n:oi||(n=t.type,e=t.pendingProps,(i=ad(U.current).createElement(n))[De]=t,i[Re]=e,nd(i,n,e),Ye(i),t.stateNode=i):t.memoizedState=Md(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return X(t),null===e&&oi&&(i=t.stateNode=wd(t.type,t.pendingProps,U.current),ai=t,ci=!0,a=si,pd(t.type)?(bd=a,si=vd(i.firstChild)):si=a),Mo(e,t,t.pendingProps.children,n),Io(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&oi&&((a=i=si)&&(null!==(i=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[We])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===a)return e}if(null===(e=vd(e.nextSibling)))break}return null}(i,t.type,t.pendingProps,ci))?(t.stateNode=i,ai=t,si=vd(i.firstChild),ci=!1,a=!0):a=!1),a||di(t)),X(t),a=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,i=s.children,ld(a,s)?i=null:null!==o&&ld(a,o)&&(t.flags|=32),null!==t.memoizedState&&(a=Ta(e,t,Ia,null,null,n),Xd._currentValue=a),Io(e,t),Mo(e,t,i,n),t.child;case 6:return null===e&&oi&&((e=n=si)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=vd(e.nextSibling)))return null}return e}(n,t.pendingProps,ci))?(t.stateNode=n,ai=t,si=null,e=!0):e=!1),e||di(t)),null;case 13:return Ko(e,t,n);case 4:return q(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=ro(t,null,i,n):Mo(e,t,i,n),t.child;case 11:return Oo(e,t,t.type,t.pendingProps,n);case 7:return Mo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Mo(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,_i(0,t.type,i.value),Mo(e,t,i.children,n),t.child;case 9:return a=t.type._context,i=t.pendingProps.children,Ci(t),i=i(a=Ei(a)),t.flags|=1,Mo(e,t,i,n),t.child;case 14:return Ao(e,t,t.type,t.pendingProps,n);case 15:return To(e,t,t.type,t.pendingProps,n);case 19:return Xo(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},null===e?((n=Uo(i,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Br(e.child,i)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Do(e,t,n);case 24:return Ci(t),i=Ei(Di),null===e?(null===(a=Ki())&&(a=ac,s=Ri(),a.pooledCache=s,s.refCount++,null!==s&&(a.pooledCacheLanes|=n),a=s),t.memoizedState={parent:i,cache:a},ia(t),_i(0,Di,a)):(0!==(e.lanes&n)&&(aa(e,t),ha(t,null,null,n),da()),a=e.memoizedState,s=t.memoizedState,a.parent!==i?(a={parent:i,cache:i},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),_i(0,Di,i)):(i=s.cache,_i(0,Di,i),i!==a.cache&&Ni(t,[Di],n,!0))),Mo(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function el(e){e.flags|=4}function tl(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!Vd(t)){if(null!==(t=ao.current)&&((4194048&oc)===oc?null!==so:(62914560&oc)!==oc&&!(536870912&oc)||t!==so))throw ea=Xi,qi;e.flags|=8192}}function nl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?ke():536870912,e.lanes|=t,vc|=t)}function rl(e,t){if(!oi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function il(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function al(e,t,n){var i=t.pendingProps;switch(ii(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return il(t),null;case 3:return n=t.stateNode,i=null,null!==e&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),wi(Di),G(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(mi(t)?el(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,gi())),il(t),null;case 26:return n=t.memoizedState,null===e?(el(t),null!==n?(il(t),tl(t,n)):(il(t),t.flags&=-16777217)):n?n!==e.memoizedState?(el(t),il(t),tl(t,n)):(il(t),t.flags&=-16777217):(e.memoizedProps!==i&&el(t),il(t),t.flags&=-16777217),null;case 27:Q(t),n=U.current;var a=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==i&&el(t);else{if(!i){if(null===t.stateNode)throw Error(r(166));return il(t),null}e=K.current,mi(t)?hi(t):(e=wd(a,i,n),t.stateNode=e,el(t))}return il(t),null;case 5:if(Q(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&el(t);else{if(!i){if(null===t.stateNode)throw Error(r(166));return il(t),null}if(e=K.current,mi(t))hi(t);else{switch(a=ad(U.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof i.is?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e="string"==typeof i.is?a.createElement(n,{is:i.is}):a.createElement(n)}}e[De]=t,e[Re]=i;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(nd(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&el(t)}}return il(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==i&&el(t);else{if("string"!=typeof i&&null===t.stateNode)throw Error(r(166));if(e=U.current,mi(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,null!==(a=ai))switch(a.tag){case 27:case 5:i=a.memoizedProps}e[De]=t,(e=!!(e.nodeValue===n||null!==i&&!0===i.suppressHydrationWarning||Zu(e.nodeValue,n)))||di(t)}else(e=ad(e).createTextNode(i))[De]=t,t.stateNode=e}return il(t),null;case 13:if(i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=mi(t),null!==i&&null!==i.dehydrated){if(null===e){if(!a)throw Error(r(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(r(317));a[De]=t}else pi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;il(t),a=!1}else a=gi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(uo(t),t):(uo(t),null)}if(uo(t),128&t.flags)return t.lanes=n,t;if(n=null!==i,e=null!==e&&null!==e.memoizedState,n){a=null,null!==(i=t.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(a=i.alternate.memoizedState.cachePool.pool);var s=null;null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(s=i.memoizedState.cachePool.pool),s!==a&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),nl(t,t.updateQueue),il(t),null;case 4:return G(),null===e&&$u(t.stateNode.containerInfo),il(t),null;case 10:return wi(t.type),il(t),null;case 19:if($(ho),null===(a=t.memoizedState))return il(t),null;if(i=!!(128&t.flags),null===(s=a.rendering))if(i)rl(a,!1);else{if(0!==mc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(s=fo(e))){for(t.flags|=128,rl(a,!1),e=s.updateQueue,t.updateQueue=e,nl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Wr(n,e),n=n.sibling;return V(ho,1&ho.current|2),t.child}e=e.sibling}null!==a.tail&&re()>Nc&&(t.flags|=128,i=!0,rl(a,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=fo(s))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,nl(t,e),rl(a,!0),null===a.tail&&"hidden"===a.tailMode&&!s.alternate&&!oi)return il(t),null}else 2*re()-a.renderingStartTime>Nc&&536870912!==n&&(t.flags|=128,i=!0,rl(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=a.last)?e.sibling=s:t.child=s,a.last=s)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=re(),t.sibling=null,e=ho.current,V(ho,i?1&e|2:1&e),t):(il(t),null);case 22:case 23:return uo(t),va(),i=null!==t.memoizedState,null!==e?null!==e.memoizedState!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?!!(536870912&n)&&!(128&t.flags)&&(il(t),6&t.subtreeFlags&&(t.flags|=8192)):il(t),null!==(n=t.updateQueue)&&nl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),i=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),null!==e&&$(Vi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wi(Di),il(t),null;case 25:case 30:return null}throw Error(r(156,t.tag))}function sl(e,t){switch(ii(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return wi(Di),G(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 13:if(uo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return $(ho),null;case 4:return G(),null;case 10:return wi(t.type),null;case 22:case 23:return uo(t),va(),null!==e&&$(Vi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return wi(Di),null;default:return null}}function ol(e,t){switch(ii(t),t.tag){case 3:wi(Di),G();break;case 26:case 27:case 5:Q(t);break;case 4:G();break;case 13:uo(t);break;case 19:$(ho);break;case 10:wi(t.type);break;case 22:case 23:uo(t),va(),null!==e&&$(Vi);break;case 24:wi(Di)}}function ll(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(o){hu(t,t.return,o)}}function cl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var s=r.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,i=t;var l=n,c=o;try{c()}catch(u){hu(i,l,u)}}}r=r.next}while(r!==a)}}catch(u){hu(t,t.return,u)}}function ul(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ma(t,n)}catch(r){hu(e,e.return,r)}}}function dl(e,t,n){n.props=yo(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){hu(e,t,r)}}function hl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(i){hu(e,t,i)}}function fl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(i){hu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(a){hu(e,t,a)}else n.current=null}function ml(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){hu(e,e.return,i)}}function pl(e,t,n){try{var i=e.stateNode;!function(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,s=null,o=null,l=null,c=null,u=null,d=null;for(m in n){var h=n[m];if(n.hasOwnProperty(m)&&null!=h)switch(m){case"checked":case"value":break;case"defaultValue":c=h;default:i.hasOwnProperty(m)||ed(e,t,m,null,i,h)}}for(var f in i){var m=i[f];if(h=n[f],i.hasOwnProperty(f)&&(null!=m||null!=h))switch(f){case"type":s=m;break;case"name":a=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":o=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(r(137,t));break;default:m!==h&&ed(e,t,f,m,i,h)}}return void yt(e,o,l,c,u,d,s,a);case"select":for(s in m=o=l=f=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":m=c;default:i.hasOwnProperty(s)||ed(e,t,s,null,i,c)}for(a in i)if(s=i[a],c=n[a],i.hasOwnProperty(a)&&(null!=s||null!=c))switch(a){case"value":f=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==c&&ed(e,t,a,s,i,c)}return t=l,n=o,i=m,void(null!=f?_t(e,!!n,f,!1):!!i!=!!n&&(null!=t?_t(e,!!n,t,!0):_t(e,!!n,n?[]:"",!1)));case"textarea":for(l in m=f=null,n)if(a=n[l],n.hasOwnProperty(l)&&null!=a&&!i.hasOwnProperty(l))switch(l){case"value":case"children":break;default:ed(e,t,l,null,i,a)}for(o in i)if(a=i[o],s=n[o],i.hasOwnProperty(o)&&(null!=a||null!=s))switch(o){case"value":f=a;break;case"defaultValue":m=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(r(91));break;default:a!==s&&ed(e,t,o,a,i,s)}return void wt(e,f,m);case"option":for(var p in n)f=n[p],n.hasOwnProperty(p)&&null!=f&&!i.hasOwnProperty(p)&&("selected"===p?e.selected=!1:ed(e,t,p,null,i,f));for(c in i)f=i[c],m=n[c],!i.hasOwnProperty(c)||f===m||null==f&&null==m||("selected"===c?e.selected=f&&"function"!=typeof f&&"symbol"!=typeof f:ed(e,t,c,f,i,m));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!i.hasOwnProperty(g)&&ed(e,t,g,null,i,f);for(u in i)if(f=i[u],m=n[u],i.hasOwnProperty(u)&&f!==m&&(null!=f||null!=m))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(r(137,t));break;default:ed(e,t,u,f,i,m)}return;default:if(Et(t)){for(var x in n)f=n[x],n.hasOwnProperty(x)&&void 0!==f&&!i.hasOwnProperty(x)&&td(e,t,x,void 0,i,f);for(d in i)f=i[d],m=n[d],!i.hasOwnProperty(d)||f===m||void 0===f&&void 0===m||td(e,t,d,f,i,m);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!i.hasOwnProperty(y)&&ed(e,t,y,null,i,f);for(h in i)f=i[h],m=n[h],!i.hasOwnProperty(h)||f===m||null==f&&null==m||ed(e,t,h,f,i,m)}(i,e.type,n,t),i[Re]=t}catch(a){hu(e,e.return,a)}}function gl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&pd(e.type)||4===e.tag}function xl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||gl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&pd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Ju));else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function bl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);nd(t,r,n),t[De]=e,t[Re]=n}catch(a){hu(e,e.return,a)}}var _l=!1,wl=!1,jl=!1,Nl="function"==typeof WeakSet?WeakSet:Set,kl=null;function Sl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Fl(e,n),4&r&&ll(5,n);break;case 1:if(Fl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){hu(n,n.return,s)}else{var i=yo(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){hu(n,n.return,o)}}64&r&&ul(n),512&r&&hl(n,n.return);break;case 3:if(Fl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ma(e,t)}catch(s){hu(n,n.return,s)}}break;case 27:null===t&&4&r&&bl(n);case 26:case 5:Fl(e,n),null===t&&4&r&&ml(n),512&r&&hl(n,n.return);break;case 12:Fl(e,n);break;case 13:Fl(e,n),4&r&&Al(e,n),64&r&&null!==(e=n.memoizedState)&&null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=gu.bind(null,n));break;case 22:if(!(r=null!==n.memoizedState||_l)){t=null!==t&&null!==t.memoizedState||wl,i=_l;var a=wl;_l=r,(wl=t)&&!a?Wl(e,n,!!(8772&n.subtreeFlags)):Fl(e,n),_l=i,wl=a}break;case 30:break;default:Fl(e,n)}}function Cl(e){var t=e.alternate;null!==t&&(e.alternate=null,Cl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&$e(t),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var El=null,Pl=!1;function Ml(e,t,n){for(n=n.child;null!==n;)Ol(e,t,n),n=n.sibling}function Ol(e,t,n){if(fe&&"function"==typeof fe.onCommitFiberUnmount)try{fe.onCommitFiberUnmount(he,n)}catch(a){}switch(n.tag){case 26:wl||fl(n,t),Ml(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:wl||fl(n,t);var r=El,i=Pl;pd(n.type)&&(El=n.stateNode,Pl=!1),Ml(e,t,n),jd(n.stateNode),El=r,Pl=i;break;case 5:wl||fl(n,t);case 6:if(r=El,i=Pl,El=null,Ml(e,t,n),Pl=i,null!==(El=r))if(Pl)try{(9===El.nodeType?El.body:"HTML"===El.nodeName?El.ownerDocument.body:El).removeChild(n.stateNode)}catch(s){hu(n,t,s)}else try{El.removeChild(n.stateNode)}catch(s){hu(n,t,s)}break;case 18:null!==El&&(Pl?(gd(9===(e=El).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Ph(e)):gd(El,n.stateNode));break;case 4:r=El,i=Pl,El=n.stateNode.containerInfo,Pl=!0,Ml(e,t,n),El=r,Pl=i;break;case 0:case 11:case 14:case 15:wl||cl(2,n,t),wl||cl(4,n,t),Ml(e,t,n);break;case 1:wl||(fl(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&dl(n,t,r)),Ml(e,t,n);break;case 21:Ml(e,t,n);break;case 22:wl=(r=wl)||null!==n.memoizedState,Ml(e,t,n),wl=r;break;default:Ml(e,t,n)}}function Al(e,t){if(null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))try{Ph(e)}catch(n){hu(t,t.return,n)}}function Tl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Nl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Nl),t;default:throw Error(r(435,e.tag))}}(e);t.forEach(function(t){var r=xu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Dl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var a=n[i],s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(pd(l.type)){El=l.stateNode,Pl=!1;break e}break;case 5:El=l.stateNode,Pl=!1;break e;case 3:case 4:El=l.stateNode.containerInfo,Pl=!0;break e}l=l.return}if(null===El)throw Error(r(160));Ol(s,o,a),El=null,Pl=!1,null!==(s=a.alternate)&&(s.return=null),a.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Il(t,e),t=t.sibling}var Rl=null;function Il(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Dl(t,e),Ll(e),4&i&&(cl(3,e,e.return),ll(3,e),cl(5,e,e.return));break;case 1:Dl(t,e),Ll(e),512&i&&(wl||null===n||fl(n,n.return)),64&i&&_l&&null!==(e=e.updateQueue)&&null!==(i=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?i:n.concat(i));break;case 26:var a=Rl;if(Dl(t,e),Ll(e),512&i&&(wl||null===n||fl(n,n.return)),4&i){var s=null!==n?n.memoizedState:null;if(i=e.memoizedState,null===n)if(null===i)if(null===e.stateNode){e:{i=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(i){case"title":(!(s=a.getElementsByTagName("title")[0])||s[We]||s[De]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=a.createElement(i),a.head.insertBefore(s,a.querySelector("head > title"))),nd(s,i,n),s[De]=e,Ye(s),i=s;break e;case"link":var o=Wd("link","href",a).get(i+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((s=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}nd(s=a.createElement(i),i,n),a.head.appendChild(s);break;case"meta":if(o=Wd("meta","content",a).get(i+(n.content||"")))for(l=0;l<o.length;l++)if((s=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}nd(s=a.createElement(i),i,n),a.head.appendChild(s);break;default:throw Error(r(468,i))}s[De]=e,Ye(s),i=s}e.stateNode=i}else $d(a,e.type,e.stateNode);else e.stateNode=Id(a,i,e.memoizedProps);else s!==i?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===i?$d(a,e.type,e.stateNode):Id(a,i,e.memoizedProps)):null===i&&null!==e.stateNode&&pl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Dl(t,e),Ll(e),512&i&&(wl||null===n||fl(n,n.return)),null!==n&&4&i&&pl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Dl(t,e),Ll(e),512&i&&(wl||null===n||fl(n,n.return)),32&e.flags){a=e.stateNode;try{Nt(a,"")}catch(m){hu(e,e.return,m)}}4&i&&null!=e.stateNode&&pl(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&i&&(jl=!0);break;case 6:if(Dl(t,e),Ll(e),4&i){if(null===e.stateNode)throw Error(r(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(m){hu(e,e.return,m)}}break;case 3:if(Bd=null,a=Rl,Rl=Sd(t.containerInfo),Dl(t,e),Rl=a,Ll(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Ph(t.containerInfo)}catch(m){hu(e,e.return,m)}jl&&(jl=!1,zl(e));break;case 4:i=Rl,Rl=Sd(e.stateNode.containerInfo),Dl(t,e),Ll(e),Rl=i;break;case 12:default:Dl(t,e),Ll(e);break;case 13:Dl(t,e),Ll(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(jc=re()),4&i&&null!==(i=e.updateQueue)&&(e.updateQueue=null,Tl(e,i));break;case 22:a=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=_l,d=wl;if(_l=u||a,wl=d||c,Dl(t,e),wl=d,_l=u,Ll(e),8192&i)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||c||_l||wl||Bl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(s=c.stateNode,a)"function"==typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=null!=h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"==typeof f?"":(""+f).trim()}}catch(m){hu(c,c.return,m)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(m){hu(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&i&&null!==(i=e.updateQueue)&&null!==(n=i.retryQueue)&&(i.retryQueue=null,Tl(e,n));break;case 19:Dl(t,e),Ll(e),4&i&&null!==(i=e.updateQueue)&&(e.updateQueue=null,Tl(e,i));case 30:case 21:}}function Ll(e){var t=e.flags;if(2&t){try{for(var n,i=e.return;null!==i;){if(gl(i)){n=i;break}i=i.return}if(null==n)throw Error(r(160));switch(n.tag){case 27:var a=n.stateNode;vl(e,xl(e),a);break;case 5:var s=n.stateNode;32&n.flags&&(Nt(s,""),n.flags&=-33),vl(e,xl(e),s);break;case 3:case 4:var o=n.stateNode.containerInfo;yl(e,xl(e),o);break;default:throw Error(r(161))}}catch(l){hu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function zl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;zl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Fl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Sl(e,t.alternate,t),t=t.sibling}function Bl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:cl(4,t,t.return),Bl(t);break;case 1:fl(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&dl(t,t.return,n),Bl(t);break;case 27:jd(t.stateNode);case 26:case 5:fl(t,t.return),Bl(t);break;case 22:null===t.memoizedState&&Bl(t);break;default:Bl(t)}e=e.sibling}}function Wl(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,a=t,s=a.flags;switch(a.tag){case 0:case 11:case 15:Wl(i,a,n),ll(4,a);break;case 1:if(Wl(i,a,n),"function"==typeof(i=(r=a).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){hu(r,r.return,c)}if(null!==(i=(r=a).updateQueue)){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)fa(l[i],o)}catch(c){hu(r,r.return,c)}}n&&64&s&&ul(a),hl(a,a.return);break;case 27:bl(a);case 26:case 5:Wl(i,a,n),n&&null===r&&4&s&&ml(a),hl(a,a.return);break;case 12:Wl(i,a,n);break;case 13:Wl(i,a,n),n&&4&s&&Al(i,a);break;case 22:null===a.memoizedState&&Wl(i,a,n),hl(a,a.return);break;case 30:break;default:Wl(i,a,n)}t=t.sibling}}function $l(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ii(n))}function Vl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ii(e))}function Kl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Hl(e,t,n,r),t=t.sibling}function Hl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Kl(e,t,n,r),2048&i&&ll(9,t);break;case 1:case 13:default:Kl(e,t,n,r);break;case 3:Kl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ii(e)));break;case 12:if(2048&i){Kl(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,s=a.id,o=a.onPostCommit;"function"==typeof o&&o(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){hu(t,t.return,l)}}else Kl(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,s=t.alternate,null!==t.memoizedState?2&a._visibility?Kl(e,t,n,r):Yl(e,t):2&a._visibility?Kl(e,t,n,r):(a._visibility|=2,Ul(e,t,n,r,!!(10256&t.subtreeFlags))),2048&i&&$l(s,t);break;case 24:Kl(e,t,n,r),2048&i&&Vl(t.alternate,t)}}function Ul(e,t,n,r,i){for(i=i&&!!(10256&t.subtreeFlags),t=t.child;null!==t;){var a=e,s=t,o=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:Ul(a,s,o,l,i),ll(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?Ul(a,s,o,l,i):Yl(a,s):(u._visibility|=2,Ul(a,s,o,l,i)),i&&2048&c&&$l(s.alternate,s);break;case 24:Ul(a,s,o,l,i),i&&2048&c&&Vl(s.alternate,s);break;default:Ul(a,s,o,l,i)}t=t.sibling}}function Yl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Yl(n,r),2048&i&&$l(r.alternate,r);break;case 24:Yl(n,r),2048&i&&Vl(r.alternate,r);break;default:Yl(n,r)}t=t.sibling}}var ql=8192;function Gl(e){if(e.subtreeFlags&ql)for(e=e.child;null!==e;)Xl(e),e=e.sibling}function Xl(e){switch(e.tag){case 26:Gl(e),e.flags&ql&&null!==e.memoizedState&&function(e,t,n){if(null===Kd)throw Error(r(475));var i=Kd;if(!("stylesheet"!==t.type||"string"==typeof n.media&&!1===matchMedia(n.media).matches||4&t.state.loading)){if(null===t.instance){var a=Od(n.href),s=e.querySelector(Ad(a));if(s)return null!==(e=s._p)&&"object"==typeof e&&"function"==typeof e.then&&(i.count++,i=Ud.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=s,void Ye(s);s=e.ownerDocument||e,n=Td(n),(a=Nd.get(a))&&zd(n,a),Ye(s=s.createElement("link"));var o=s;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),nd(s,"link",n),t.instance=s}null===i.stylesheets&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(3&t.state.loading)&&(i.count++,t=Ud.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}(Rl,e.memoizedState,e.memoizedProps);break;case 5:default:Gl(e);break;case 3:case 4:var t=Rl;Rl=Sd(e.stateNode.containerInfo),Gl(e),Rl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=ql,ql=16777216,Gl(e),ql=t):Gl(e))}}function Ql(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Zl(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kl=r,tc(r,e)}Ql(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Jl(e),e=e.sibling}function Jl(e){switch(e.tag){case 0:case 11:case 15:Zl(e),2048&e.flags&&cl(9,e,e.return);break;case 3:case 12:default:Zl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,ec(e)):Zl(e)}}function ec(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kl=r,tc(r,e)}Ql(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:cl(8,t,t.return),ec(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,ec(t));break;default:ec(t)}e=e.sibling}}function tc(e,t){for(;null!==kl;){var n=kl;switch(n.tag){case 0:case 11:case 15:cl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ii(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,kl=r;else e:for(n=e;null!==kl;){var i=(r=kl).sibling,a=r.return;if(Cl(r),r===n){kl=null;break e}if(null!==i){i.return=a,kl=i;break e}kl=a}}}var nc={getCacheForType:function(e){var t=Ei(Di),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},rc="function"==typeof WeakMap?WeakMap:Map,ic=0,ac=null,sc=null,oc=0,lc=0,cc=null,uc=!1,dc=!1,hc=!1,fc=0,mc=0,pc=0,gc=0,xc=0,yc=0,vc=0,bc=null,_c=null,wc=!1,jc=0,Nc=1/0,kc=null,Sc=null,Cc=0,Ec=null,Pc=null,Mc=0,Oc=0,Ac=null,Tc=null,Dc=0,Rc=null;function Ic(){return 2&ic&&0!==oc?oc&-oc:null!==D.T?0!==Fi?Fi:Ou():Ae()}function Lc(){0===yc&&(yc=536870912&oc&&!oi?536870912:Ne());var e=ao.current;return null!==e&&(e.flags|=32),yc}function zc(e,t,n){(e!==ac||2!==lc&&9!==lc)&&null===e.cancelPendingCommit||(Hc(e,0),$c(e,oc,yc,!1)),Ce(e,n),2&ic&&e===ac||(e===ac&&(!(2&ic)&&(gc|=n),4===mc&&$c(e,oc,yc,!1)),Nu(e))}function Fc(e,t,n){if(6&ic)throw Error(r(327));for(var i=!n&&!(124&t)&&0===(t&e.expiredLanes)||we(e,t),a=i?function(e,t){var n=ic;ic|=2;var i=Yc(),a=qc();ac!==e||oc!==t?(kc=null,Nc=re()+500,Hc(e,t)):dc=we(e,t);e:for(;;)try{if(0!==lc&&null!==sc){t=sc;var s=cc;t:switch(lc){case 1:lc=0,cc=null,tu(e,t,s,1);break;case 2:case 9:if(Qi(s)){lc=0,cc=null,eu(t);break}t=function(){2!==lc&&9!==lc||ac!==e||(lc=7),Nu(e)},s.then(t,t);break e;case 3:lc=7;break e;case 4:lc=5;break e;case 7:Qi(s)?(lc=0,cc=null,eu(t)):(lc=0,cc=null,tu(e,t,s,7));break;case 5:var o=null;switch(sc.tag){case 26:o=sc.memoizedState;case 5:case 27:var l=sc;if(!o||Vd(o)){lc=0,cc=null;var c=l.sibling;if(null!==c)sc=c;else{var u=l.return;null!==u?(sc=u,nu(u)):sc=null}break t}}lc=0,cc=null,tu(e,t,s,5);break;case 6:lc=0,cc=null,tu(e,t,s,6);break;case 8:Kc(),mc=6;break e;default:throw Error(r(462))}}Zc();break}catch(d){Uc(e,d)}return bi=vi=null,D.H=i,D.A=a,ic=n,null!==sc?0:(ac=null,oc=0,Mr(),mc)}(e,t):Xc(e,t,!0),s=i;;){if(0===a){dc&&!i&&$c(e,t,0,!1);break}if(n=e.current.alternate,!s||Wc(n)){if(2===a){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!=(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;a=bc;var c=l.current.memoizedState.isDehydrated;if(c&&(Hc(l,o).flags|=256),2!==(o=Xc(l,o,!1))){if(hc&&!c){l.errorRecoveryDisabledLanes|=s,gc|=s,a=4;break e}s=_c,_c=a,null!==s&&(null===_c?_c=s:_c.push.apply(_c,s))}a=o}if(s=!1,2!==a)continue}}if(1===a){Hc(e,0),$c(e,t,0,!0);break}e:{switch(i=e,s=a){case 0:case 1:throw Error(r(345));case 4:if((4194048&t)!==t)break;case 6:$c(i,t,yc,!uc);break e;case 2:_c=null;break;case 3:case 5:break;default:throw Error(r(329))}if((62914560&t)===t&&10<(a=jc+300-re())){if($c(i,t,yc,!uc),0!==_e(i,0,!0))break e;i.timeoutHandle=ud(Bc.bind(null,i,n,_c,kc,wc,t,yc,gc,vc,uc,s,2,-0,0),a)}else Bc(i,n,_c,kc,wc,t,yc,gc,vc,uc,s,0,-0,0)}break}a=Xc(e,t,!1),s=!1}Nu(e)}function Bc(e,t,n,i,a,s,o,l,c,u,d,h,f,m){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||!(16785408&~h))&&(Kd={stylesheets:null,count:0,unsuspend:Hd},Xl(t),null!==(h=function(){if(null===Kd)throw Error(r(475));var e=Kd;return e.stylesheets&&0===e.count&&qd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&qd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(iu.bind(null,e,t,s,n,i,a,o,l,c,d,1,f,m)),void $c(e,s,o,!u);iu(e,t,s,n,i,a,o,l,c)}function Wc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&null!==(n=t.updateQueue)&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Qn(a(),i))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $c(e,t,n,r){t&=~xc,t&=~gc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-pe(i),s=1<<a;r[a]=-1,i&=~s}0!==n&&Ee(e,n,t)}function Vc(){return!!(6&ic)||(ku(0),!1)}function Kc(){if(null!==sc){if(0===lc)var e=sc.return;else bi=vi=null,Fa(e=sc),Xs=null,Qs=0,e=sc;for(;null!==e;)ol(e.alternate,e),e=e.return;sc=null}}function Hc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,dd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Kc(),ac=e,sc=n=Br(e.current,null),oc=t,lc=0,cc=null,uc=!1,dc=we(e,t),hc=!1,vc=yc=xc=gc=pc=mc=0,_c=bc=null,wc=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-pe(r),a=1<<i;t|=e[i],r&=~a}return fc=t,Mr(),n}function Uc(e,t){_a=null,D.H=Us,t===Yi||t===Gi?(t=ta(),lc=3):t===qi?(t=ta(),lc=4):lc=t===Eo?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,cc=t,null===sc&&(mc=1,jo(e,Sr(t,e.current)))}function Yc(){var e=D.H;return D.H=Us,null===e?Us:e}function qc(){var e=D.A;return D.A=nc,e}function Gc(){mc=4,uc||(4194048&oc)!==oc&&null!==ao.current||(dc=!0),!(134217727&pc)&&!(134217727&gc)||null===ac||$c(ac,oc,yc,!1)}function Xc(e,t,n){var r=ic;ic|=2;var i=Yc(),a=qc();ac===e&&oc===t||(kc=null,Hc(e,t)),t=!1;var s=mc;e:for(;;)try{if(0!==lc&&null!==sc){var o=sc,l=cc;switch(lc){case 8:Kc(),s=6;break e;case 3:case 2:case 9:case 6:null===ao.current&&(t=!0);var c=lc;if(lc=0,cc=null,tu(e,o,l,c),n&&dc){s=0;break e}break;default:c=lc,lc=0,cc=null,tu(e,o,l,c)}}Qc(),s=mc;break}catch(u){Uc(e,u)}return t&&e.shellSuspendCounter++,bi=vi=null,ic=r,D.H=i,D.A=a,null===sc&&(ac=null,oc=0,Mr()),s}function Qc(){for(;null!==sc;)Jc(sc)}function Zc(){for(;null!==sc&&!te();)Jc(sc)}function Jc(e){var t=Jo(e.alternate,e,fc);e.memoizedProps=e.pendingProps,null===t?nu(e):sc=t}function eu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=zo(n,t,t.pendingProps,t.type,void 0,oc);break;case 11:t=zo(n,t,t.pendingProps,t.type.render,t.ref,oc);break;case 5:Fa(t);default:ol(n,t),t=Jo(n,t=sc=Wr(t,fc),fc)}e.memoizedProps=e.pendingProps,null===t?nu(e):sc=t}function tu(e,t,n,i){bi=vi=null,Fa(t),Xs=null,Qs=0;var a=t.return;try{if(function(e,t,n,i,a){if(n.flags|=32768,null!==i&&"object"==typeof i&&"function"==typeof i.then){if(null!==(t=n.alternate)&&ki(t,n,a,!0),null!==(n=ao.current)){switch(n.tag){case 13:return null===so?Gc():null===n.alternate&&0===mc&&(mc=3),n.flags&=-257,n.flags|=65536,n.lanes=a,i===Xi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([i]):t.add(i),fu(e,i,a)),!1;case 22:return n.flags|=65536,i===Xi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([i]):n.add(i),fu(e,i,a)),!1}throw Error(r(435,n.tag))}return fu(e,i,a),Gc(),!1}if(oi)return null!==(t=ao.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,i!==ui&&xi(Sr(e=Error(r(422),{cause:i}),n))):(i!==ui&&xi(Sr(t=Error(r(423),{cause:i}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,i=Sr(i,n),ca(e,a=ko(e.stateNode,i,a)),4!==mc&&(mc=2)),!1;var s=Error(r(520),{cause:i});if(s=Sr(s,n),null===bc?bc=[s]:bc.push(s),4!==mc&&(mc=2),null===t)return!0;i=Sr(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,ca(n,e=ko(n.stateNode,i,e)),!1;case 1:if(t=n.type,s=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===s||"function"!=typeof s.componentDidCatch||null!==Sc&&Sc.has(s))))return n.flags|=65536,a&=-a,n.lanes|=a,Co(a=So(a),e,n,i),ca(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,oc))return mc=1,jo(e,Sr(n,e.current)),void(sc=null)}catch(s){if(null!==a)throw sc=a,s;return mc=1,jo(e,Sr(n,e.current)),void(sc=null)}32768&t.flags?(oi||1===i?e=!0:dc||536870912&oc?e=!1:(uc=e=!0,(2===i||9===i||3===i||6===i)&&null!==(i=ao.current)&&13===i.tag&&(i.flags|=16384)),ru(t,e)):nu(t)}function nu(e){var t=e;do{if(32768&t.flags)return void ru(t,uc);e=t.return;var n=al(t.alternate,t,fc);if(null!==n)return void(sc=n);if(null!==(t=t.sibling))return void(sc=t);sc=t=e}while(null!==t);0===mc&&(mc=5)}function ru(e,t){do{var n=sl(e.alternate,e);if(null!==n)return n.flags&=32767,void(sc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(sc=e);sc=e=n}while(null!==e);mc=6,sc=null}function iu(e,t,n,i,a,s,o,l,c){e.cancelPendingCommit=null;do{cu()}while(0!==Cc);if(6&ic)throw Error(r(327));if(null!==t){if(t===e.current)throw Error(r(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,i,a){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-pe(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Ee(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(s&~t))}(e,n,s|=Pr,o,l,c),e===ac&&(sc=ac=null,oc=0),Pc=t,Ec=e,Mc=n,Oc=s,Ac=a,Tc=i,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,J(oe,function(){return uu(),null})):(e.callbackNode=null,e.callbackPriority=0),i=!!(13878&t.flags),13878&t.subtreeFlags||i){i=D.T,D.T=null,a=R.p,R.p=2,o=ic,ic|=4;try{!function(e,t){if(e=e.containerInfo,rd=ih,rr(e=nr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var a=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||0!==a&&3!==h.nodeType||(l=o+a),h!==s||0!==i&&3!==h.nodeType||(c=o+i),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===a&&(l=o),f===s&&++d===i&&(c=o),null!==(m=h.nextSibling))break;f=(h=f).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(id={focusedElem:e,selectionRange:n},ih=!1,kl=t;null!==kl;)if(e=(t=kl).child,1024&t.subtreeFlags&&null!==e)e.return=t,kl=e;else for(;null!==kl;){switch(s=(t=kl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==s){e=void 0,n=t,a=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var p=yo(n.type,a,(n.elementType,n.type));e=i.getSnapshotBeforeUpdate(p,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(x){hu(n,n.return,x)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))xd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":xd(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(r(163))}if(null!==(e=t.sibling)){e.return=t.return,kl=e;break}kl=t.return}}(e,t)}finally{ic=o,R.p=a,D.T=i}}Cc=1,au(),su(),ou()}}function au(){if(1===Cc){Cc=0;var e=Ec,t=Pc,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=D.T,D.T=null;var r=R.p;R.p=2;var i=ic;ic|=4;try{Il(t,e);var a=id,s=nr(e.containerInfo),o=a.focusedElem,l=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&tr(o.ownerDocument.documentElement,o)){if(null!==l&&rr(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),m=o.textContent.length,p=Math.min(l.start,m),g=void 0===l.end?p:Math.min(l.end,m);!f.extend&&p>g&&(s=g,g=p,p=s);var x=er(o,p),y=er(o,g);if(x&&y&&(1!==f.rangeCount||f.anchorNode!==x.node||f.anchorOffset!==x.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var v=d.createRange();v.setStart(x.node,x.offset),f.removeAllRanges(),p>g?(f.addRange(v),f.extend(y.node,y.offset)):(v.setEnd(y.node,y.offset),f.addRange(v))}}}}for(d=[],f=o;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"==typeof o.focus&&o.focus(),o=0;o<d.length;o++){var b=d[o];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}ih=!!rd,id=rd=null}finally{ic=i,R.p=r,D.T=n}}e.current=t,Cc=2}}function su(){if(2===Cc){Cc=0;var e=Ec,t=Pc,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=D.T,D.T=null;var r=R.p;R.p=2;var i=ic;ic|=4;try{Sl(e,t.alternate,t)}finally{ic=i,R.p=r,D.T=n}}Cc=3}}function ou(){if(4===Cc||3===Cc){Cc=0,ne();var e=Ec,t=Pc,n=Mc,r=Tc;10256&t.subtreeFlags||10256&t.flags?Cc=5:(Cc=0,Pc=Ec=null,lu(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Sc=null),Oe(n),t=t.stateNode,fe&&"function"==typeof fe.onCommitFiberRoot)try{fe.onCommitFiberRoot(he,t,void 0,!(128&~t.current.flags))}catch(l){}if(null!==r){t=D.T,i=R.p,R.p=2,D.T=null;try{for(var a=e.onRecoverableError,s=0;s<r.length;s++){var o=r[s];a(o.value,{componentStack:o.stack})}}finally{D.T=t,R.p=i}}3&Mc&&cu(),Nu(e),i=e.pendingLanes,4194090&n&&42&i?e===Rc?Dc++:(Dc=0,Rc=e):Dc=0,ku(0)}}function lu(e,t){0===(e.pooledCacheLanes&=t)&&null!=(t=e.pooledCache)&&(e.pooledCache=null,Ii(t))}function cu(e){return au(),su(),ou(),uu()}function uu(){if(5!==Cc)return!1;var e=Ec,t=Oc;Oc=0;var n=Oe(Mc),i=D.T,a=R.p;try{R.p=32>n?32:n,D.T=null,n=Ac,Ac=null;var s=Ec,o=Mc;if(Cc=0,Pc=Ec=null,Mc=0,6&ic)throw Error(r(331));var l=ic;if(ic|=4,Jl(s.current),Hl(s,s.current,o,n),ic=l,ku(0),fe&&"function"==typeof fe.onPostCommitFiberRoot)try{fe.onPostCommitFiberRoot(he,s)}catch(c){}return!0}finally{R.p=a,D.T=i,lu(e,t)}}function du(e,t,n){t=Sr(n,t),null!==(e=oa(e,t=ko(e.stateNode,t,2),2))&&(Ce(e,2),Nu(e))}function hu(e,t,n){if(3===e.tag)du(e,e,n);else for(;null!==t;){if(3===t.tag){du(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Sc||!Sc.has(r))){e=Sr(n,e),null!==(r=oa(t,n=So(2),2))&&(Co(n,r,t,e),Ce(r,2),Nu(r));break}}t=t.return}}function fu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new rc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(hc=!0,i.add(n),e=mu.bind(null,e,t,n),t.then(e,e))}function mu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ac===e&&(oc&n)===n&&(4===mc||3===mc&&(62914560&oc)===oc&&300>re()-jc?!(2&ic)&&Hc(e,0):xc|=n,vc===oc&&(vc=0)),Nu(e)}function pu(e,t){0===t&&(t=ke()),null!==(e=Tr(e,t))&&(Ce(e,t),Nu(e))}function gu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pu(e,n)}function xu(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(r(314))}null!==i&&i.delete(t),pu(e,n)}var yu=null,vu=null,bu=!1,_u=!1,wu=!1,ju=0;function Nu(e){e!==vu&&null===e.next&&(null===vu?yu=vu=e:vu=vu.next=e),_u=!0,bu||(bu=!0,fd(function(){6&ic?J(ae,Su):Cu()}))}function ku(e,t){if(!wu&&_u){wu=!0;do{for(var n=!1,r=yu;null!==r;){if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var s=r.suspendedLanes,o=r.pingedLanes;a=(1<<31-pe(42|e)+1)-1,a=201326741&(a&=i&~(s&~o))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Mu(r,a))}else a=oc,!(3&(a=_e(r,r===ac?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||we(r,a)||(n=!0,Mu(r,a));r=r.next}}while(n);wu=!1}}function Su(){Cu()}function Cu(){_u=bu=!1;var e,t=0;0!==ju&&(((e=window.event)&&"popstate"===e.type?e!==cd&&(cd=e,!0):(cd=null,!1))&&(t=ju),ju=0);for(var n=re(),r=null,i=yu;null!==i;){var a=i.next,s=Eu(i,n);0===s?(i.next=null,null===r?yu=a:r.next=a,null===a&&(vu=r)):(r=i,(0!==t||3&s)&&(_u=!0)),i=a}ku(t)}function Eu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var s=31-pe(a),o=1<<s,l=i[s];-1===l?0!==(o&n)&&0===(o&r)||(i[s]=je(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}if(n=oc,n=_e(e,e===(t=ac)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===lc||9===lc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ee(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||we(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ee(r),Oe(n)){case 2:case 8:n=se;break;case 32:default:n=oe;break;case 268435456:n=ce}return r=Pu.bind(null,e),n=J(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ee(r),e.callbackPriority=2,e.callbackNode=null,2}function Pu(e,t){if(0!==Cc&&5!==Cc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(cu()&&e.callbackNode!==n)return null;var r=oc;return 0===(r=_e(e,e===ac?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Fc(e,r,t),Eu(e,re()),null!=e.callbackNode&&e.callbackNode===n?Pu.bind(null,e):null)}function Mu(e,t){if(cu())return null;Fc(e,t,!0)}function Ou(){return 0===ju&&(ju=Ne()),ju}function Au(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Ot(""+e)}function Tu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Du=0;Du<jr.length;Du++){var Ru=jr[Du];Nr(Ru.toLowerCase(),"on"+(Ru[0].toUpperCase()+Ru.slice(1)))}Nr(pr,"onAnimationEnd"),Nr(gr,"onAnimationIteration"),Nr(xr,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(yr,"onTransitionRun"),Nr(vr,"onTransitionStart"),Nr(br,"onTransitionCancel"),Nr(_r,"onTransitionEnd"),Qe("onMouseEnter",["mouseout","mouseover"]),Qe("onMouseLeave",["mouseout","mouseover"]),Qe("onPointerEnter",["pointerout","pointerover"]),Qe("onPointerLeave",["pointerout","pointerover"]),Xe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Iu));function zu(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(u){vo(u)}i.currentTarget=null,a=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(u){vo(u)}i.currentTarget=null,a=l}}}}function Fu(e,t){var n=t[Le];void 0===n&&(n=t[Le]=new Set);var r=e+"__bubble";n.has(r)||(Vu(t,e,2,!1),n.add(r))}function Bu(e,t,n){var r=0;t&&(r|=4),Vu(n,e,r,t)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function $u(e){if(!e[Wu]){e[Wu]=!0,qe.forEach(function(t){"selectionchange"!==t&&(Lu.has(t)||Bu(t,!1,e),Bu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Wu]||(t[Wu]=!0,Bu("selectionchange",!1,t))}}function Vu(e,t,n,r){switch(dh(t)){case 2:var i=ah;break;case 8:i=sh;break;default:i=oh}n=i.bind(null,t,n,e),i=void 0,!Wt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ku(e,t,n,r,i){var s=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var l=r.stateNode.containerInfo;if(l===i)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===i)return;o=o.return}for(;null!==l;){if(null===(o=Ve(l)))return;if(5===(c=o.tag)||6===c||26===c||27===c){r=s=o;continue e}l=l.parentNode}}r=r.return}zt(function(){var r=s,i=Tt(n),o=[];e:{var l=wr.get(e);if(void 0!==l){var c=tn,u=e;switch(e){case"keypress":if(0===Yt(n))break e;case"keydown":case"keyup":c=xn;break;case"focusin":u="focus",c=ln;break;case"focusout":u="blur",c=ln;break;case"beforeblur":case"afterblur":c=ln;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=vn;break;case pr:case gr:case xr:c=cn;break;case _r:c=bn;break;case"scroll":case"scrollend":c=rn;break;case"wheel":c=_n;break;case"copy":case"cut":case"paste":c=un;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=yn;break;case"toggle":case"beforetoggle":c=wn}var d=!!(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==l?l+"Capture":null:l;d=[];for(var m,p=r;null!==p;){var g=p;if(m=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===m||null===f||null!=(g=Ft(p,f))&&d.push(Hu(p,g,m)),h)break;p=p.return}0<d.length&&(l=new c(l,u,null,n,i),o.push({event:l,listeners:d}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===At||!(u=n.relatedTarget||n.fromElement)||!Ve(u)&&!u[Ie])&&(c||l)&&(l=i.window===i?i:(l=i.ownerDocument)?l.defaultView||l.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ve(u):null)&&(h=a(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=sn,g="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=yn,g="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==c?l:He(c),m=null==u?l:He(u),(l=new d(g,p+"leave",c,n,i)).target=h,l.relatedTarget=m,g=null,Ve(i)===r&&((d=new d(f,p+"enter",u,n,i)).target=m,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(f=u,p=0,m=d=c;m;m=Yu(m))p++;for(m=0,g=f;g;g=Yu(g))m++;for(;0<p-m;)d=Yu(d),p--;for(;0<m-p;)f=Yu(f),m--;for(;p--;){if(d===f||null!==f&&d===f.alternate)break e;d=Yu(d),f=Yu(f)}d=null}else d=null;null!==c&&qu(o,l,c,d,!1),null!==u&&null!==h&&qu(o,h,u,d,!0)}if("select"===(c=(l=r?He(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===c&&"file"===l.type)var x=Bn;else if(Dn(l))if(Wn)x=Xn;else{x=qn;var y=Yn}else!(c=l.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==l.type&&"radio"!==l.type?r&&Et(r.elementType)&&(x=Bn):x=Gn;switch(x&&(x=x(e,r))?Rn(o,x,n,i):(y&&y(e,l,r),"focusout"===e&&r&&"number"===l.type&&null!=r.memoizedProps.value&&bt(l,"number",l.value)),y=r?He(r):window,e){case"focusin":(Dn(y)||"true"===y.contentEditable)&&(ar=y,sr=r,or=null);break;case"focusout":or=sr=ar=null;break;case"mousedown":lr=!0;break;case"contextmenu":case"mouseup":case"dragend":lr=!1,cr(o,n,i);break;case"selectionchange":if(ir)break;case"keydown":case"keyup":cr(o,n,i)}var v;if(Nn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else An?Mn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Cn&&"ko"!==n.locale&&(An||"onCompositionStart"!==b?"onCompositionEnd"===b&&An&&(v=Ut()):(Kt="value"in(Vt=i)?Vt.value:Vt.textContent,An=!0)),0<(y=Uu(r,b)).length&&(b=new dn(b,e,null,n,i),o.push({event:b,listeners:y}),(v||null!==(v=On(n)))&&(b.data=v))),(v=Sn?function(e,t){switch(e){case"compositionend":return On(t);case"keypress":return 32!==t.which?null:(Pn=!0,En);case"textInput":return(e=t.data)===En&&Pn?null:e;default:return null}}(e,n):function(e,t){if(An)return"compositionend"===e||!Nn&&Mn(e,t)?(e=Ut(),Ht=Kt=Vt=null,An=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(b=Uu(r,"onBeforeInput")).length&&(y=new dn("onBeforeInput","beforeinput",null,n,i),o.push({event:y,listeners:b}),y.data=v),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var a=Au((i[Re]||null).action),s=r.submitter;s&&null!==(t=(t=s[Re]||null)?Au(t.formAction):s.getAttribute("formAction"))&&(a=t,s=null);var o=new tn("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==ju){var e=s?Tu(i,s):new FormData(i);As(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else"function"==typeof a&&(o.preventDefault(),e=s?Tu(i,s):new FormData(i),As(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}(o,e,r,n,i)}zu(o,t)})}function Hu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Uu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===a||(null!=(i=Ft(e,n))&&r.unshift(Hu(e,i,a)),null!=(i=Ft(e,t))&&r.push(Hu(e,i,a))),3===e.tag)return r;e=e.return}return[]}function Yu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function qu(e,t,n,r,i){for(var a=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,i?null!=(c=Ft(n,a))&&s.unshift(Hu(n,c,l)):i||null!=(c=Ft(n,a))&&s.push(Hu(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Gu=/\r\n?/g,Xu=/\u0000|\uFFFD/g;function Qu(e){return("string"==typeof e?e:""+e).replace(Gu,"\n").replace(Xu,"")}function Zu(e,t){return t=Qu(t),Qu(e)===t}function Ju(){}function ed(e,t,n,i,a,s){switch(n){case"children":"string"==typeof i?"body"===t||"textarea"===t&&""===i||Nt(e,i):("number"==typeof i||"bigint"==typeof i)&&"body"!==t&&Nt(e,""+i);break;case"className":it(e,"class",i);break;case"tabIndex":it(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":it(e,n,i);break;case"style":Ct(e,i,s);break;case"data":if("object"!==t){it(e,"data",i);break}case"src":case"href":if(""===i&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==i||"function"==typeof i||"symbol"==typeof i||"boolean"==typeof i){e.removeAttribute(n);break}i=Ot(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if("function"==typeof i){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof s&&("formAction"===n?("input"!==t&&ed(e,t,"name",a.name,a,null),ed(e,t,"formEncType",a.formEncType,a,null),ed(e,t,"formMethod",a.formMethod,a,null),ed(e,t,"formTarget",a.formTarget,a,null)):(ed(e,t,"encType",a.encType,a,null),ed(e,t,"method",a.method,a,null),ed(e,t,"target",a.target,a,null))),null==i||"symbol"==typeof i||"boolean"==typeof i){e.removeAttribute(n);break}i=Ot(""+i),e.setAttribute(n,i);break;case"onClick":null!=i&&(e.onclick=Ju);break;case"onScroll":null!=i&&Fu("scroll",e);break;case"onScrollEnd":null!=i&&Fu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(r(61));if(null!=(n=i.__html)){if(null!=a.children)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"muted":e.muted=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==i||"function"==typeof i||"boolean"==typeof i||"symbol"==typeof i){e.removeAttribute("xlink:href");break}n=Ot(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===i?e.setAttribute(n,""):!1!==i&&null!=i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":null==i||"function"==typeof i||"symbol"==typeof i||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Fu("beforetoggle",e),Fu("toggle",e),rt(e,"popover",i);break;case"xlinkActuate":at(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":at(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":at(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":at(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":at(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":at(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":at(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":at(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":at(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":rt(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&rt(e,n=Pt.get(n)||n,i)}}function td(e,t,n,i,a,s){switch(n){case"style":Ct(e,i,s);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(r(61));if(null!=(n=i.__html)){if(null!=a.children)throw Error(r(60));e.innerHTML=n}}break;case"children":"string"==typeof i?Nt(e,i):("number"==typeof i||"bigint"==typeof i)&&Nt(e,""+i);break;case"onScroll":null!=i&&Fu("scroll",e);break;case"onScrollEnd":null!=i&&Fu("scrollend",e);break;case"onClick":null!=i&&(e.onclick=Ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ge.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"==typeof(s=null!=(s=e[Re]||null)?s[n]:null)&&e.removeEventListener(t,s,a),"function"!=typeof i)?n in e?e[n]=i:!0===i?e.setAttribute(n,""):rt(e,n,i):("function"!=typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,a)))}}function nd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fu("error",e),Fu("load",e);var i,a=!1,s=!1;for(i in n)if(n.hasOwnProperty(i)){var o=n[i];if(null!=o)switch(i){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:ed(e,t,i,o,n,null)}}return s&&ed(e,t,"srcSet",n.srcSet,n,null),void(a&&ed(e,t,"src",n.src,n,null));case"input":Fu("invalid",e);var l=i=o=s=null,c=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var d=n[a];if(null!=d)switch(a){case"name":s=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":i=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(r(137,t));break;default:ed(e,t,a,d,n,null)}}return vt(e,i,l,c,u,o,s,!1),void ft(e);case"select":for(s in Fu("invalid",e),a=o=i=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":i=l;break;case"defaultValue":o=l;break;case"multiple":a=l;default:ed(e,t,s,l,n,null)}return t=i,n=o,e.multiple=!!a,void(null!=t?_t(e,!!a,t,!1):null!=n&&_t(e,!!a,n,!0));case"textarea":for(o in Fu("invalid",e),i=s=a=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":a=l;break;case"defaultValue":s=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(r(91));break;default:ed(e,t,o,l,n,null)}return jt(e,a,s,i),void ft(e);case"option":for(c in n)n.hasOwnProperty(c)&&null!=(a=n[c])&&("selected"===c?e.selected=a&&"function"!=typeof a&&"symbol"!=typeof a:ed(e,t,c,a,n,null));return;case"dialog":Fu("beforetoggle",e),Fu("toggle",e),Fu("cancel",e),Fu("close",e);break;case"iframe":case"object":Fu("load",e);break;case"video":case"audio":for(a=0;a<Iu.length;a++)Fu(Iu[a],e);break;case"image":Fu("error",e),Fu("load",e);break;case"details":Fu("toggle",e);break;case"embed":case"source":case"link":Fu("error",e),Fu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(a=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:ed(e,t,u,a,n,null)}return;default:if(Et(t)){for(d in n)n.hasOwnProperty(d)&&void 0!==(a=n[d])&&td(e,t,d,a,n,void 0);return}}for(l in n)n.hasOwnProperty(l)&&null!=(a=n[l])&&ed(e,t,l,a,n,null)}var rd=null,id=null;function ad(e){return 9===e.nodeType?e:e.ownerDocument}function sd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function od(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ld(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var cd=null,ud="function"==typeof setTimeout?setTimeout:void 0,dd="function"==typeof clearTimeout?clearTimeout:void 0,hd="function"==typeof Promise?Promise:void 0,fd="function"==typeof queueMicrotask?queueMicrotask:void 0!==hd?function(e){return hd.resolve(null).then(e).catch(md)}:ud;function md(e){setTimeout(function(){throw e})}function pd(e){return"head"===e}function gd(e,t){var n=t,r=0,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0<r&&8>r){n=r;var s=e.ownerDocument;if(1&n&&jd(s.documentElement),2&n&&jd(s.body),4&n)for(jd(n=s.head),s=n.firstChild;s;){var o=s.nextSibling,l=s.nodeName;s[We]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=o}}if(0===i)return e.removeChild(a),void Ph(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=a}while(n);Ph(t)}function xd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":xd(n),$e(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function yd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function vd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var bd=null;function _d(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function wd(e,t,n){switch(t=ad(n),e){case"html":if(!(e=t.documentElement))throw Error(r(452));return e;case"head":if(!(e=t.head))throw Error(r(453));return e;case"body":if(!(e=t.body))throw Error(r(454));return e;default:throw Error(r(451))}}function jd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);$e(e)}var Nd=new Map,kd=new Set;function Sd(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Cd=R.d;R.d={f:function(){var e=Cd.f(),t=Vc();return e||t},r:function(e){var t=Ke(e);null!==t&&5===t.tag&&"form"===t.type?Ds(t):Cd.r(e)},D:function(e){Cd.D(e),Pd("dns-prefetch",e,null)},C:function(e,t){Cd.C(e,t),Pd("preconnect",e,t)},L:function(e,t,n){Cd.L(e,t,n);var r=Ed;if(r&&e&&t){var i='link[rel="preload"][as="'+xt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+xt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(i+='[imagesizes="'+xt(n.imageSizes)+'"]')):i+='[href="'+xt(e)+'"]';var a=i;switch(t){case"style":a=Od(e);break;case"script":a=Dd(e)}Nd.has(a)||(e=c({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Nd.set(a,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Ad(a))||"script"===t&&r.querySelector(Rd(a))||(nd(t=r.createElement("link"),"link",e),Ye(t),r.head.appendChild(t)))}},m:function(e,t){Cd.m(e,t);var n=Ed;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+xt(r)+'"][href="'+xt(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Dd(e)}if(!Nd.has(a)&&(e=c({rel:"modulepreload",href:e},t),Nd.set(a,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Rd(a)))return}nd(r=n.createElement("link"),"link",e),Ye(r),n.head.appendChild(r)}}},X:function(e,t){Cd.X(e,t);var n=Ed;if(n&&e){var r=Ue(n).hoistableScripts,i=Dd(e),a=r.get(i);a||((a=n.querySelector(Rd(i)))||(e=c({src:e,async:!0},t),(t=Nd.get(i))&&Fd(e,t),Ye(a=n.createElement("script")),nd(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}},S:function(e,t,n){Cd.S(e,t,n);var r=Ed;if(r&&e){var i=Ue(r).hoistableStyles,a=Od(e);t=t||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(Ad(a)))o.loading=5;else{e=c({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Nd.get(a))&&zd(e,n);var l=s=r.createElement("link");Ye(l),nd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Ld(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}},M:function(e,t){Cd.M(e,t);var n=Ed;if(n&&e){var r=Ue(n).hoistableScripts,i=Dd(e),a=r.get(i);a||((a=n.querySelector(Rd(i)))||(e=c({src:e,async:!0,type:"module"},t),(t=Nd.get(i))&&Fd(e,t),Ye(a=n.createElement("script")),nd(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}};var Ed="undefined"==typeof document?null:document;function Pd(e,t,n){var r=Ed;if(r&&"string"==typeof t&&t){var i=xt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"==typeof n&&(i+='[crossorigin="'+n+'"]'),kd.has(i)||(kd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(nd(t=r.createElement("link"),"link",e),Ye(t),r.head.appendChild(t)))}}function Md(e,t,n,i){var a,s,o,l,c=(c=U.current)?Sd(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Od(n.href),(i=(n=Ue(c).hoistableStyles).get(t))||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Od(n.href);var u=Ue(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Ad(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Nd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Nd.set(e,n),u||(a=c,s=e,o=n,l=d.state,a.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=a.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),nd(s,"link",o),Ye(s),a.head.appendChild(s))))),t&&null===i)throw Error(r(528,""));return d}if(t&&null!==i)throw Error(r(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Dd(n),(i=(n=Ue(c).hoistableScripts).get(t))||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Od(e){return'href="'+xt(e)+'"'}function Ad(e){return'link[rel="stylesheet"]['+e+"]"}function Td(e){return c({},e,{"data-precedence":e.precedence,precedence:null})}function Dd(e){return'[src="'+xt(e)+'"]'}function Rd(e){return"script[async]"+e}function Id(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+xt(n.href)+'"]');if(i)return t.instance=i,Ye(i),i;var a=c({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ye(i=(e.ownerDocument||e).createElement("style")),nd(i,"style",a),Ld(i,n.precedence,e),t.instance=i;case"stylesheet":a=Od(n.href);var s=e.querySelector(Ad(a));if(s)return t.state.loading|=4,t.instance=s,Ye(s),s;i=Td(n),(a=Nd.get(a))&&zd(i,a),Ye(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),nd(s,"link",i),t.state.loading|=4,Ld(s,n.precedence,e),t.instance=s;case"script":return s=Dd(n.src),(a=e.querySelector(Rd(s)))?(t.instance=a,Ye(a),a):(i=n,(a=Nd.get(s))&&Fd(i=c({},n),a),Ye(a=(e=e.ownerDocument||e).createElement("script")),nd(a,"link",i),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(r(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(i=t.instance,t.state.loading|=4,Ld(i,n.precedence,e));return t.instance}function Ld(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===t)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function zd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Fd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Bd=null;function Wd(e,t,n){if(null===Bd){var r=new Map,i=Bd=new Map;i.set(n,r)}else(r=(i=Bd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[We]||a[De]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var s=a.getAttribute(t)||"";s=e+s;var o=r.get(s);o?o.push(a):r.set(s,[a])}}return r}function $d(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Vd(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var Kd=null;function Hd(){}function Ud(){if(this.count--,0===this.count)if(this.stylesheets)qd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Yd=null;function qd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Yd=new Map,t.forEach(Gd,e),Yd=null,Ud.call(e))}function Gd(e,t){if(!(4&t.state.loading)){var n=Yd.get(e);if(n)var r=n.get(null);else{n=new Map,Yd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(i=t.instance).getAttribute("data-precedence"),(a=n.get(s)||r)===r&&n.set(null,i),n.set(s,i),this.count++,r=Ud.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Xd={$$typeof:y,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function Qd(e,t,n,r,i,a,s,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Se(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Se(0),this.hiddenUpdates=Se(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Zd(e,t,n,r,i,a,s,o,l,c,u,d){return e=new Qd(e,t,n,s,o,l,c,d),t=1,!0===a&&(t|=24),a=zr(3,null,null,t),e.current=a,a.stateNode=e,(t=Ri()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},ia(a),e}function Jd(e){return e?e=Ir:Ir}function eh(e,t,n,r,i,a){i=Jd(i),null===r.context?r.context=i:r.pendingContext=i,(r=sa(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=oa(e,r,t))&&(zc(n,0,t),la(n,e,t))}function th(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nh(e,t){th(e,t),(e=e.alternate)&&th(e,t)}function rh(e){if(13===e.tag){var t=Tr(e,67108864);null!==t&&zc(t,0,67108864),nh(e,67108864)}}var ih=!0;function ah(e,t,n,r){var i=D.T;D.T=null;var a=R.p;try{R.p=2,oh(e,t,n,r)}finally{R.p=a,D.T=i}}function sh(e,t,n,r){var i=D.T;D.T=null;var a=R.p;try{R.p=8,oh(e,t,n,r)}finally{R.p=a,D.T=i}}function oh(e,t,n,r){if(ih){var i=lh(r);if(null===i)Ku(e,t,r,ch,n),bh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return fh=_h(fh,e,t,n,r,i),!0;case"dragenter":return mh=_h(mh,e,t,n,r,i),!0;case"mouseover":return ph=_h(ph,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return gh.set(a,_h(gh.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,xh.set(a,_h(xh.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(bh(e,r),4&t&&-1<vh.indexOf(e)){for(;null!==i;){var a=Ke(i);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var s=be(a.pendingLanes);if(0!==s){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-pe(s);o.entanglements[1]|=l,s&=~l}Nu(a),!(6&ic)&&(Nc=re()+500,ku(0))}}break;case 13:null!==(o=Tr(a,2))&&zc(o,0,2),Vc(),nh(a,2)}if(null===(a=lh(r))&&Ku(e,t,r,ch,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Ku(e,t,r,null,n)}}function lh(e){return uh(e=Tt(e))}var ch=null;function uh(e){if(ch=null,null!==(e=Ve(e))){var t=a(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=s(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ch=e,null}function dh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ie()){case ae:return 2;case se:return 8;case oe:case le:return 32;case ce:return 268435456;default:return 32}default:return 32}}var hh=!1,fh=null,mh=null,ph=null,gh=new Map,xh=new Map,yh=[],vh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bh(e,t){switch(e){case"focusin":case"focusout":fh=null;break;case"dragenter":case"dragleave":mh=null;break;case"mouseover":case"mouseout":ph=null;break;case"pointerover":case"pointerout":gh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xh.delete(t.pointerId)}}function _h(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&null!==(t=Ke(t))&&rh(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function wh(e){var t=Ve(e.target);if(null!==t){var n=a(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=s(n)))return e.blockedOn=t,void function(e,t){var n=R.p;try{return R.p=e,t()}finally{R.p=n}}(e.priority,function(){if(13===n.tag){var e=Ic();e=Me(e);var t=Tr(n,e);null!==t&&zc(t,0,e),nh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=lh(e.nativeEvent);if(null!==n)return null!==(t=Ke(n))&&rh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);At=r,n.target.dispatchEvent(r),At=null,t.shift()}return!0}function Nh(e,t,n){jh(e)&&n.delete(t)}function kh(){hh=!1,null!==fh&&jh(fh)&&(fh=null),null!==mh&&jh(mh)&&(mh=null),null!==ph&&jh(ph)&&(ph=null),gh.forEach(Nh),xh.forEach(Nh)}function Sh(t,n){t.blockedOn===n&&(t.blockedOn=null,hh||(hh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,kh)))}var Ch=null;function Eh(t){Ch!==t&&(Ch=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ch===t&&(Ch=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if("function"!=typeof r){if(null===uh(r||n))continue;break}var a=Ke(n);null!==a&&(t.splice(e,3),e-=3,As(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Ph(e){function t(t){return Sh(t,e)}null!==fh&&Sh(fh,e),null!==mh&&Sh(mh,e),null!==ph&&Sh(ph,e),gh.forEach(t),xh.forEach(t);for(var n=0;n<yh.length;n++){var r=yh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<yh.length&&null===(n=yh[0]).blockedOn;)wh(n),null===n.blockedOn&&yh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[Re]||null;if("function"==typeof a)s||Eh(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[Re]||null)o=s.formAction;else if(null!==uh(i))continue}else o=s.action;"function"==typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Eh(n)}}}function Mh(e){this._internalRoot=e}function Oh(e){this._internalRoot=e}Oh.prototype.render=Mh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));eh(t.current,Ic(),e,t,null,null)},Oh.prototype.unmount=Mh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;eh(e.current,2,null,e,null,null),Vc(),t[Ie]=null}},Oh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ae();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yh.length&&0!==t&&t<yh[n].priority;n++);yh.splice(n,0,e),0===n&&wh(e)}};var Ah=t.version;if("19.1.0"!==Ah)throw Error(r(527,Ah,"19.1.0"));R.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=a(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(null===s)break;var l=s.alternate;if(null===l){if(null!==(i=s.return)){n=i;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return o(s),e;if(l===i)return o(s),t;l=l.sibling}throw Error(r(188))}if(n.return!==i.return)n=s,i=l;else{for(var c=!1,u=s.child;u;){if(u===n){c=!0,n=s,i=l;break}if(u===i){c=!0,i=s,n=l;break}u=u.sibling}if(!c){for(u=l.child;u;){if(u===n){c=!0,n=l,i=s;break}if(u===i){c=!0,i=l,n=s;break}u=u.sibling}if(!c)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?l(e):null)?null:e.stateNode};var Th={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.0"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dh.isDisabled&&Dh.supportsFiber)try{he=Dh.inject(Th),fe=Dh}catch(Ih){}}return M.createRoot=function(e,t){if(!i(e))throw Error(r(299));var n=!1,a="",s=bo,o=_o,l=wo;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onUncaughtError&&(s=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Zd(e,1,!1,null,0,n,a,s,o,l,0,null),e[Ie]=t.current,$u(e),new Mh(t)},M.hydrateRoot=function(e,t,n){if(!i(e))throw Error(r(299));var a=!1,s="",o=bo,l=_o,c=wo,u=null;return null!=n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Zd(e,1,!0,t,0,a,s,o,l,c,0,u)).context=Jd(null),n=t.current,(s=sa(a=Me(a=Ic()))).callback=null,oa(n,s,a),n=a,t.current.lanes=n,Ce(t,n),Nu(t),e[Ie]=t.current,$u(e),new Oh(t)},M.version="19.1.0",M}const V=i((L||(L=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),P.exports=$()),P.exports)),K=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},H=(...e)=>e.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim();
/**
     * @license lucide-react v0.525.0 - ISC
     *
     * This source code is licensed under the ISC license.
     * See the LICENSE file in the root directory of this source tree.
     */
/**
     * @license lucide-react v0.525.0 - ISC
     *
     * This source code is licensed under the ISC license.
     * See the LICENSE file in the root directory of this source tree.
     */
var U={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
     * @license lucide-react v0.525.0 - ISC
     *
     * This source code is licensed under the ISC license.
     * See the LICENSE file in the root directory of this source tree.
     */const Y=N.forwardRef((e,t)=>{var n=e,{color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:c}=n,u=m(n,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return N.createElement("svg",h(h(f(h({ref:t},U),{width:i,height:i,stroke:r,strokeWidth:s?24*Number(a)/Number(i):a,className:H("lucide",o)}),!l&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(u)&&{"aria-hidden":"true"}),u),[...c.map(([e,t])=>N.createElement(e,t)),...Array.isArray(l)?l:[l]])}),q=(e,t)=>{const n=N.forwardRef((n,r)=>{var i,a=n,{className:s}=a,o=m(a,["className"]);return N.createElement(Y,h({ref:r,iconNode:t,className:H(`lucide-${i=K(e),i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,s)},o))});return n.displayName=K(e),n},G=q("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),X=q("arrow-down-right",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]),Q=q("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),Z=q("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),J=q("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),ee=q("brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]),te=q("building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),ne=q("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),re=q("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),ie=q("chart-no-axes-column-increasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),ae=q("chart-no-axes-column",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),se=q("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]),oe=q("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),le=q("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),ce=q("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),ue=q("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),de=q("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),he=q("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),fe=q("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),me=q("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),pe=q("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),ge=q("coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]),xe=q("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),ye=q("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),ve=q("droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),be=q("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),_e=q("flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),we=q("gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]),je=q("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),Ne=q("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),ke=q("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]),Se=q("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),Ce=q("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Ee=q("scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]),Pe=q("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),Me=q("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),Oe=q("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Ae=q("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]),Te=q("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),De=q("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Re=q("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Ie=q("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),Le=q("wand-sparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),ze=q("wheat",[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]]),Fe=q("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Be=q("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),We=({marketOverview:e})=>e?v.jsxs("div",{className:"border-b border-gray-200 pb-2",children:[v.jsxs("div",{className:"flex items-center justify-between mb-1",children:[v.jsx("h2",{className:"text-lg font-bold text-gray-900",children:e.title||"Tng quan th trng (Macro)"}),v.jsx("div",{className:"text-xs text-gray-600",children:e.analysis_date&&v.jsxs("span",{children:["Cp nht: ",new Date(e.analysis_date).toLocaleDateString("vi-VN")]})})]}),e.benchmark&&v.jsxs("div",{className:"text-xs text-gray-500",children:["Chun so snh: ",e.benchmark]})]}):null,$e=({marketOverview:e,marketHealthScore:t})=>{var n,r,i,a,s,o;return v.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-3",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsxs("div",{className:"text-center",children:[v.jsxs("div",{className:"text-xl font-bold text-blue-900",children:[t,"%"]}),v.jsx("div",{className:"text-xs text-blue-700",children:"Sc khe th trng"})]}),v.jsx("div",{className:"h-10 w-1 bg-blue-200"}),v.jsxs("div",{children:[v.jsx("div",{className:"text-sm font-semibold text-gray-900",children:(null==(n=e.market_regime)?void 0:n.regime)||"Trng thi th trng"}),v.jsx("div",{className:"text-xs text-gray-600",children:(null==(r=e.market_regime)?void 0:r.description)||"M t trng thi hin ti"})]})]}),v.jsxs("div",{className:"text-right",children:[v.jsx("div",{className:"text-xs text-gray-600",children:"Xu hng tng th"}),v.jsxs("div",{className:"flex items-center space-x-1",children:[(()=>{var t;const{icon:n,color:r}=(null==(i=null==(t=e.market_regime)?void 0:t.regime)?void 0:i.includes("Up"))||(null==i?void 0:i.includes("Tng"))?{icon:Te,color:"text-green-600"}:(null==i?void 0:i.includes("Down"))||(null==i?void 0:i.includes("Gim"))?{icon:Ae,color:"text-red-600"}:{icon:Se,color:"text-gray-600"};var i;return v.jsx(n,{className:`w-4 h-4 ${r}`})})(),v.jsx("span",{className:"text-sm font-semibold text-gray-900",children:(null==(a=null==(i=e.market_regime)?void 0:i.regime)?void 0:a.includes("Bull"))?"Tng":(null==(o=null==(s=e.market_regime)?void 0:s.regime)?void 0:o.includes("Bear"))?"Gim":"i ngang"})]})]})]})})},Ve=({marketOverview:e})=>{var t,n,r,i,a,s,o,l,c,u,d,h,f,m,p;return v.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-2",children:[v.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-2 text-center",children:[v.jsx("div",{className:"flex justify-center mb-1",children:v.jsx(G,{className:"w-3 h-3 text-blue-600"})}),v.jsx("div",{className:"text-xs font-medium text-gray-700 mb-1",children:"ng lng"}),v.jsx("div",{className:"text-sm font-bold text-blue-600",children:(null==(t=e.market_regime)?void 0:t.momentum_score)?`${(100*e.market_regime.momentum_score).toFixed(0)}%`:"N/A"}),v.jsx("div",{className:"text-xs text-gray-500",children:"Bullish "})]}),v.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-2 text-center",children:[v.jsx("div",{className:"flex justify-center mb-1",children:v.jsx(re,{className:"w-3 h-3 text-green-600"})}),v.jsx("div",{className:"text-xs font-medium text-gray-700 mb-1",children:" rng"}),v.jsx("div",{className:"text-sm font-bold text-green-600",children:(null==(i=null==(r=null==(n=e.market_health)?void 0:n.key_metrics)?void 0:r.market_breadth)?void 0:i.score)?`${(100*e.market_health.key_metrics.market_breadth.score).toFixed(0)}%`:"N/A"}),v.jsx("div",{className:"text-xs text-gray-500",children:"Advance/Decline"})]}),v.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-2 text-center",children:[v.jsx("div",{className:"flex justify-center mb-1",children:v.jsx(Be,{className:"w-3 h-3 text-yellow-600"})}),v.jsx("div",{className:"text-xs font-medium text-gray-700 mb-1",children:"Bin ng"}),v.jsx("div",{className:"text-sm font-bold text-yellow-600",children:(null==(l=null==(o=null==(s=null==(a=e.market_health)?void 0:a.key_metrics)?void 0:s.momentum_distribution)?void 0:o.momentum_categories)?void 0:l.very_strong)||"N/A"}),v.jsx("div",{className:"text-xs text-gray-500",children:"IV Index: Thp"})]}),v.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-2 text-center",children:[v.jsx("div",{className:"flex justify-center mb-1",children:v.jsx(Me,{className:"w-3 h-3 text-red-600"})}),v.jsx("div",{className:"text-xs font-medium text-gray-700 mb-1",children:"Ri ro"}),v.jsx("div",{className:"text-sm font-bold text-red-600",children:(null==(h=null==(d=null==(u=null==(c=e.market_health)?void 0:c.key_metrics)?void 0:u.momentum_distribution)?void 0:d.risk_distribution)?void 0:h.Cao)||"N/A"}),v.jsx("div",{className:"text-xs text-gray-500",children:"Risk Gauge: Cnh bo"})]}),v.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-2 text-center",children:[v.jsx("div",{className:"flex justify-center mb-1",children:v.jsx(ye,{className:"w-3 h-3 text-purple-600"})}),v.jsx("div",{className:"text-xs font-medium text-gray-700 mb-1",children:"Dng tin"}),v.jsx("div",{className:"text-sm font-bold text-purple-600",children:(null==(m=null==(f=e.market_health)?void 0:f.market_cap_rotation)?void 0:m.rotation_theme)?"Tch cc":"N/A"}),v.jsx("div",{className:"text-xs text-gray-500",children:"Net Buy/Sell"})]}),v.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-2 text-center",children:[v.jsx("div",{className:"flex justify-center mb-1",children:v.jsx(Oe,{className:"w-3 h-3 text-indigo-600"})}),v.jsx("div",{className:"text-xs font-medium text-gray-700 mb-1",children:" tin cy"}),v.jsxs("div",{className:"text-sm font-bold text-indigo-600",children:[(null==(p=e.market_regime)?void 0:p.confidence)||"N/A","%"]}),v.jsx("div",{className:"text-xs text-gray-500",children:"Confidence"})]})]})},Ke=({children:e,className:t=""})=>v.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 sm:p-5 transition-all duration-300 h-full ${t}`,children:e}),He=({industries:e,analysisDate:t,lookbackPeriod:n,keyMetrics:r,getSentimentColor:i,marketOverview:a})=>{var s,o,l,c,u,d,h,f,m,p,g;if(!e||0===e.length)return null;const x=[v.jsxs(Ke,{className:"p-4 min-h-[140px]",children:[v.jsx("h4",{className:"font-normal text-gray-700 dark:text-gray-300 mb-2 text-sm",children:"Ngnh vt tri"}),v.jsx("div",{className:"text-lg font-semibold text-green-600",children:(null==r?void 0:r.outperforming_industries)||"N/A"}),v.jsx("div",{className:`text-sm ${i?i(null==r?void 0:r.industry_sentiment):""}`,children:(null==r?void 0:r.industry_sentiment)||"N/A"}),v.jsx("div",{className:"text-xs text-gray-500 mt-1",children:(null==r?void 0:r.outperforming_industries_pct)||"N/A"})]},"outperforming-industry"),v.jsxs(Ke,{className:"p-4 min-h-[140px]",children:[v.jsx("h4",{className:"font-normal text-gray-700 dark:text-gray-300 mb-2 text-sm",children:"C phiu vt tri"}),v.jsx("div",{className:"text-lg font-semibold text-green-600",children:(null==r?void 0:r.outperforming_symbols)||"N/A"}),v.jsx("div",{className:`text-sm ${i?i(null==r?void 0:r.symbol_sentiment):""}`,children:(null==r?void 0:r.symbol_sentiment)||"N/A"}),v.jsx("div",{className:"text-xs text-gray-500 mt-1",children:(null==r?void 0:r.outperforming_symbols_pct)||"N/A"})]},"outperforming-symbol"),v.jsxs(Ke,{className:"p-4 min-h-[140px]",children:[v.jsx("h4",{className:"font-normal text-gray-700 dark:text-gray-300 mb-2 text-sm",children:"Nhm vn ha vt tri"}),v.jsx("div",{className:"text-lg font-semibold text-green-600",children:(null==r?void 0:r.outperforming_groups)||"N/A"}),v.jsx("div",{className:`text-sm ${i?i(null==r?void 0:r.group_sentiment):""}`,children:(null==r?void 0:r.group_sentiment)||"N/A"}),v.jsx("div",{className:"text-xs text-gray-500 mt-1",children:(null==r?void 0:r.outperforming_groups_pct)||"N/A"})]},"outperforming-group"),v.jsxs(Ke,{className:"p-4 min-h-[140px]",children:[v.jsx("h4",{className:"font-normal text-gray-700 dark:text-gray-300 mb-2 text-sm",children:"Phn b Hiu sut"}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Outperforming:"}),v.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:e.filter(e=>{var t;return"Vt tri"===(null==(t=e.performance_summary)?void 0:t.crs_status)}).length})]}),v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Underperforming:"}),v.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:e.filter(e=>{var t;return"Km hiu qu"===(null==(t=e.performance_summary)?void 0:t.crs_status)}).length})]}),v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tng cng:"}),v.jsx("span",{className:"font-medium",children:e.length})]})]})]},"performance"),v.jsxs(Ke,{className:"p-4 min-h-[140px]",children:[v.jsx("h4",{className:"font-normal text-gray-700 dark:text-gray-300 mb-2 text-sm",children:"Phn b Xu hng"}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tng trng:"}),v.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:e.filter(e=>{var t;return"Tng trng"===(null==(t=e.performance_summary)?void 0:t.rs_trend)}).length})]}),v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Suy gim:"}),v.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:e.filter(e=>{var t;return"Suy gim"===(null==(t=e.performance_summary)?void 0:t.rs_trend)}).length})]}),v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Trung lp:"}),v.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:e.filter(e=>{var t;return"Trung lp"===(null==(t=e.performance_summary)?void 0:t.rs_trend)}).length})]})]})]},"trend"),v.jsxs(Ke,{className:"p-4 min-h-[140px]",children:[v.jsx("h4",{className:"font-normal text-gray-700 dark:text-gray-300 mb-2 text-sm",children:"Phn tch  bin ng"}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Thp (<3%):"}),v.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:e.filter(e=>{var t;return(null==(t=e.metrics)?void 0:t.rs_volatility)<.03}).length})]}),v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Trung bnh (3-6%):"}),v.jsx("span",{className:"font-medium text-yellow-600 dark:text-yellow-400",children:e.filter(e=>{var t,n;return(null==(t=e.metrics)?void 0:t.rs_volatility)>=.03&&(null==(n=e.metrics)?void 0:n.rs_volatility)<.06}).length})]}),v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Cao (>6%):"}),v.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:e.filter(e=>{var t;return(null==(t=e.metrics)?void 0:t.rs_volatility)>=.06}).length})]})]})]},"volatility"),v.jsxs(Ke,{className:"p-4 min-h-[140px]",children:[v.jsx("h4",{className:"font-normal text-gray-700 dark:text-gray-300 mb-2 text-sm",children:"Phn tch  n nh"}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tt (>60%):"}),v.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:e.filter(e=>{var t,n;return(null==(t=e.metrics)?void 0:t.outperforming_days)/(null==(n=e.metrics)?void 0:n.total_days)>.6}).length})]}),v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Trung bnh (40-60%):"}),v.jsx("span",{className:"font-medium text-yellow-600 dark:text-yellow-400",children:e.filter(e=>{var t,n,r,i;return(null==(t=e.metrics)?void 0:t.outperforming_days)/(null==(n=e.metrics)?void 0:n.total_days)>=.4&&(null==(r=e.metrics)?void 0:r.outperforming_days)/(null==(i=e.metrics)?void 0:i.total_days)<=.6}).length})]}),v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Km (<40%):"}),v.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:e.filter(e=>{var t,n;return(null==(t=e.metrics)?void 0:t.outperforming_days)/(null==(n=e.metrics)?void 0:n.total_days)<.4}).length})]})]})]},"consistency"),v.jsxs(Ke,{className:"p-4 min-h-[140px]",children:[v.jsx("h4",{className:"font-normal text-gray-700 dark:text-gray-300 mb-2 text-sm",children:"Phn tch Momentum"}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tng tc:"}),v.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:e.filter(e=>{var t,n;return(null==(t=e.speed_analysis)?void 0:t.short_term_momentum)>0&&(null==(n=e.speed_analysis)?void 0:n.long_term_momentum)>0}).length})]}),v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Gim tc:"}),v.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:e.filter(e=>{var t,n;return(null==(t=e.speed_analysis)?void 0:t.short_term_momentum)<0&&(null==(n=e.speed_analysis)?void 0:n.long_term_momentum)<0}).length})]}),v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Hn hp:"}),v.jsx("span",{className:"font-medium text-yellow-600 dark:text-yellow-400",children:e.filter(e=>{var t,n,r,i;return(null==(t=e.speed_analysis)?void 0:t.short_term_momentum)>0&&(null==(n=e.speed_analysis)?void 0:n.long_term_momentum)<0||(null==(r=e.speed_analysis)?void 0:r.short_term_momentum)<0&&(null==(i=e.speed_analysis)?void 0:i.long_term_momentum)>0}).length})]})]})]},"momentum"),v.jsxs(Ke,{className:"p-4 min-h-[140px]",children:[v.jsx("h4",{className:"font-normal text-gray-700 dark:text-gray-300 mb-2 text-sm",children:"nh gi Ri ro"}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Thp:"}),v.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:e.filter(e=>{var t;return"Thp"===(null==(t=e.risk_assessment)?void 0:t.risk_level)}).length})]}),v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Trung bnh:"}),v.jsx("span",{className:"font-medium text-yellow-600 dark:text-yellow-400",children:e.filter(e=>{var t;return"Trung bnh"===(null==(t=e.risk_assessment)?void 0:t.risk_level)}).length})]}),v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Cao:"}),v.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:e.filter(e=>{var t;return"Cao"===(null==(t=e.risk_assessment)?void 0:t.risk_level)}).length})]})]})]},"risk"),(null==(l=null==(o=null==(s=null==a?void 0:a.market_health)?void 0:s.key_metrics)?void 0:o.momentum_distribution)?void 0:l.momentum_categories)&&v.jsxs(Ke,{className:"p-4 min-h-[140px]",children:[v.jsx("h4",{className:"font-normal text-gray-700 dark:text-gray-300 mb-2 text-sm",children:"Phn b ng lng"}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Rt mnh:"}),v.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:(null==(c=a.market_health.key_metrics.momentum_distribution.momentum_categories)?void 0:c.very_strong)||"N/A"})]}),v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Mnh:"}),v.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:(null==(u=a.market_health.key_metrics.momentum_distribution.momentum_categories)?void 0:u.strong)||"N/A"})]}),v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Trung bnh:"}),v.jsx("span",{className:"font-medium text-yellow-600 dark:text-yellow-400",children:(null==(d=a.market_health.key_metrics.momentum_distribution.momentum_categories)?void 0:d.moderate)||"N/A"})]}),v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Yu:"}),v.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:(null==(h=a.market_health.key_metrics.momentum_distribution.momentum_categories)?void 0:h.weak)||"N/A"})]}),v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Gim:"}),v.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:(null==(f=a.market_health.key_metrics.momentum_distribution.momentum_categories)?void 0:f.declining)||"N/A"})]})]})]},"momentum-distribution"),(null==(g=null==(p=null==(m=null==a?void 0:a.market_health)?void 0:m.key_metrics)?void 0:p.momentum_distribution)?void 0:g.speed_distribution)&&v.jsxs(Ke,{className:"p-4 min-h-[140px]",children:[v.jsx("h4",{className:"font-normal text-gray-700 dark:text-gray-300 mb-2 text-sm",children:"Phn b tc "}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Nhanh:"}),v.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:a.market_health.key_metrics.momentum_distribution.speed_distribution.fast||"N/A"})]}),v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Trung bnh:"}),v.jsx("span",{className:"font-medium text-yellow-600 dark:text-yellow-400",children:a.market_health.key_metrics.momentum_distribution.speed_distribution.moderate||"N/A"})]}),v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Chm:"}),v.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:a.market_health.key_metrics.momentum_distribution.speed_distribution.slow||"N/A"})]})]})]},"speed-distribution")],y=x.length%3,b=0===y?0:3-y;return v.jsxs("div",{className:"space-y-6",children:[v.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center",children:"Thng k v Phn tch"}),v.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[x,[...Array(b)].map((e,t)=>v.jsx("div",{className:"invisible min-h-[140px]"},`placeholder-${t}`))]})]})},Ue=({marketOverview:e,topSectors:t,bottomSectors:n,industries:r,analyticsData:i,getSentimentColor:a})=>v.jsxs("div",{className:"lg:col-span-2 bg-white border border-gray-200 rounded-lg p-2",children:[v.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center",children:[v.jsx(se,{className:"w-3 h-3 mr-1 text-blue-600"}),"Thng k ngnh"]}),v.jsx(He,{industries:r,analysisDate:null==i?void 0:i.analysis_date,lookbackPeriod:null==i?void 0:i.lookback_period,keyMetrics:e.key_metrics,getSentimentColor:a,marketOverview:e})]}),Ye=({marketOverview:e,investmentStrategies:t,detailedAnalysis:n})=>{var r,i,a,s,o,l,c,u,d,h,f,m,p,g,x,y,b,_,w,j,N;const k=(null==t?void 0:t.macro_strategy)&&(t.macro_strategy.overall_positioning&&t.macro_strategy.overall_positioning.length>0||t.macro_strategy.market_phase_analysis&&t.macro_strategy.market_phase_analysis.length>0||t.macro_strategy.risk_management&&t.macro_strategy.risk_management.length>0),S=(null==t?void 0:t.sector_strategy)&&(t.sector_strategy.sector_rotation_signals&&t.sector_strategy.sector_rotation_signals.length>0||t.sector_strategy.sector_allocation&&t.sector_strategy.sector_allocation.length>0||t.sector_strategy.sector_risk_warnings&&t.sector_strategy.sector_risk_warnings.length>0),C=(null==t?void 0:t.group_strategy)&&(t.group_strategy.group_rotation_signals&&t.group_strategy.group_rotation_signals.length>0||t.group_strategy.group_allocation&&t.group_strategy.group_allocation.length>0||t.group_strategy.group_risk_warnings&&t.group_strategy.group_risk_warnings.length>0),E=(null==t?void 0:t.stock_strategy)&&(t.stock_strategy.momentum_strategy&&t.stock_strategy.momentum_strategy.length>0||t.stock_strategy.accumulation_strategy&&t.stock_strategy.accumulation_strategy.length>0||t.stock_strategy.risk_avoidance&&t.stock_strategy.risk_avoidance.length>0||t.stock_strategy.position_sizing&&t.stock_strategy.position_sizing.length>0),P=null==(r=null==n?void 0:n.risk_distribution)?void 0:r.risk_assessment,M=null==n?void 0:n.systemic_risks;return v.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-2",children:[v.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center",children:[v.jsx(Oe,{className:"w-3 h-3 mr-1 text-green-600"}),"Chin lc hnh ng"]}),v.jsxs("div",{className:"space-y-2",children:[(e.strategic_recommendation||k)&&v.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-2",children:[v.jsxs("div",{className:"font-medium text-green-800 mb-1 text-xs flex items-center",children:[v.jsx(Me,{className:"w-2.5 h-2.5 mr-1"}),"Chin lc tng th"]}),v.jsxs("div",{className:"space-y-1 text-xs",children:[(null==(i=e.strategic_recommendation)?void 0:i.stance)&&v.jsxs("div",{className:"text-green-700",children:[v.jsx("strong",{children:"V th:"})," ",e.strategic_recommendation.stance]}),(null==(a=e.strategic_recommendation)?void 0:a.confidence)&&v.jsxs("div",{className:"text-green-600",children:[v.jsx("strong",{children:" tin cy:"})," ",e.strategic_recommendation.confidence,"%"]}),(null==(s=e.market_regime)?void 0:s.momentum_score)&&v.jsxs("div",{className:"text-green-600 p-1 bg-green-100 rounded",children:[v.jsx("strong",{children:"iu kin:"})," Khi ng lng > ",(100*e.market_regime.momentum_score).toFixed(0),"%,",e.market_regime.momentum_score>.6?" tng cng mua vo":" thn trng"]}),k&&v.jsxs("div",{className:"mt-1",children:[null==(o=t.macro_strategy.overall_positioning)?void 0:o.slice(0,2).map((e,t)=>v.jsxs("div",{className:"text-green-700",children:[" ",e]},t)),null==(l=t.macro_strategy.risk_management)?void 0:l.slice(0,1).map((e,t)=>v.jsxs("div",{className:"text-green-700",children:[" ",e]},t))]})]})]}),(P||M)&&v.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-2",children:[v.jsxs("div",{className:"font-medium text-red-800 mb-1 text-xs flex items-center",children:[v.jsx(De,{className:"w-2.5 h-2.5 mr-1"}),"nh gi ri ro & Chin lc gim thiu"]}),v.jsxs("div",{className:"space-y-1 text-xs",children:[(null==P?void 0:P.environment)&&v.jsx("div",{className:"text-red-700 font-medium",children:P.environment}),(null==P?void 0:P.description)&&v.jsx("div",{className:"text-red-600",children:P.description}),P&&v.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[P.high_risk_percentage&&v.jsxs("span",{className:"bg-red-100 text-red-800 px-1 py-0.5 rounded text-xs",children:["Ri ro cao: ",P.high_risk_percentage]}),P.high_volatility_percentage&&v.jsxs("span",{className:"bg-orange-100 text-orange-800 px-1 py-0.5 rounded text-xs",children:["Bin ng cao: ",P.high_volatility_percentage]}),P.low_risk_percentage&&v.jsxs("span",{className:"bg-green-100 text-green-800 px-1 py-0.5 rounded text-xs",children:["Ri ro thp: ",P.low_risk_percentage]})]}),(null==M?void 0:M.overall_systemic_risk)&&v.jsx("div",{className:"mt-1 p-1 bg-red-100 rounded",children:v.jsxs("div",{className:"text-red-700 font-medium",children:[M.overall_systemic_risk.level," - ",M.overall_systemic_risk.description]})}),(null==M?void 0:M.systemic_risks)&&M.systemic_risks.length>0&&v.jsxs("div",{className:"mt-1",children:[v.jsx("div",{className:"text-red-700 font-medium",children:"Yu t ri ro chnh:"}),M.systemic_risks.slice(0,2).map((e,t)=>v.jsxs("div",{className:"text-red-600",children:[" ",e.type,": ",e.description]},t))]}),(null==M?void 0:M.mitigation_strategies)&&M.mitigation_strategies.length>0&&v.jsxs("div",{className:"mt-1",children:[v.jsx("div",{className:"text-blue-700 font-medium",children:"Chin lc gim thiu:"}),M.mitigation_strategies.slice(0,1).map((e,t)=>v.jsxs("div",{className:"text-blue-600",children:[" ",e.strategy,": ",e.description]},t))]}),(null==P?void 0:P.recommendation)&&v.jsx("div",{className:"text-blue-700 font-medium mt-1 pt-1 border-t border-red-200",children:P.recommendation})]})]}),((null==(c=e.market_health)?void 0:c.market_cap_rotation)||C)&&v.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-2",children:[v.jsxs("div",{className:"font-medium text-blue-800 mb-1 text-xs flex items-center",children:[v.jsx(Re,{className:"w-2.5 h-2.5 mr-1"}),"Chin lc vn ha"]}),v.jsxs("div",{className:"space-y-1 text-xs",children:[(null==(d=null==(u=e.market_health)?void 0:u.market_cap_rotation)?void 0:d.rotation_theme)&&v.jsxs("div",{className:"text-blue-700",children:[v.jsx("strong",{children:"Ch :"})," ",e.market_health.market_cap_rotation.rotation_theme]}),(null==(h=e.strategic_recommendation)?void 0:h.rationale)&&v.jsxs("div",{className:"text-blue-600",children:[v.jsx("strong",{children:"L do:"})," ",e.strategic_recommendation.rationale]}),(null==(f=e.market_health)?void 0:f.market_cap_rotation)&&v.jsxs("div",{className:"text-blue-600 p-1 bg-blue-100 rounded",children:[v.jsx("strong",{children:"Khuyn ngh:"}),"Vt tri"===(null==(m=e.market_health.market_cap_rotation.large_cap)?void 0:m.performance)?" u tin vn ha ln":"","Vt tri"===(null==(p=e.market_health.market_cap_rotation.mid_cap)?void 0:p.performance)?" u tin vn ha va":"","Vt tri"===(null==(g=e.market_health.market_cap_rotation.small_cap)?void 0:g.performance)?" u tin vn ha nh":""]}),C&&v.jsxs("div",{className:"mt-1",children:[null==(x=t.group_strategy.group_rotation_signals)?void 0:x.slice(0,2).map((e,t)=>v.jsxs("div",{className:"text-blue-700",children:[" ",e]},t)),null==(y=t.group_strategy.group_allocation)?void 0:y.slice(0,1).map((e,t)=>v.jsxs("div",{className:"text-blue-700",children:[" ",e]},t))]})]})]}),S&&v.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-2",children:[v.jsxs("div",{className:"font-medium text-indigo-800 mb-1 text-xs flex items-center",children:[v.jsx(te,{className:"w-2.5 h-2.5 mr-1"}),"Chin lc ngnh"]}),v.jsxs("div",{className:"space-y-1 text-xs",children:[null==(b=t.sector_strategy.sector_rotation_signals)?void 0:b.slice(0,2).map((e,t)=>v.jsxs("div",{className:"text-indigo-700",children:[" ",e]},t)),null==(_=t.sector_strategy.sector_allocation)?void 0:_.slice(0,1).map((e,t)=>v.jsxs("div",{className:"text-indigo-700",children:[" ",e]},t))]})]}),E&&v.jsxs("div",{className:"bg-teal-50 border border-teal-200 rounded-lg p-2",children:[v.jsxs("div",{className:"font-medium text-teal-800 mb-1 text-xs flex items-center",children:[v.jsx(Te,{className:"w-2.5 h-2.5 mr-1"}),"Chin lc c phiu"]}),v.jsxs("div",{className:"space-y-1 text-xs",children:[null==(w=t.stock_strategy.momentum_strategy)?void 0:w.slice(0,2).map((e,t)=>v.jsxs("div",{className:"text-teal-700",children:[" ",e]},t)),null==(j=t.stock_strategy.accumulation_strategy)?void 0:j.slice(0,1).map((e,t)=>v.jsxs("div",{className:"text-teal-700",children:[" ",e]},t))]})]}),(null==(N=e.market_regime)?void 0:N.supporting_evidence)&&e.market_regime.supporting_evidence.length>0&&v.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-2",children:[v.jsxs("div",{className:"font-medium text-gray-800 mb-1 flex items-center text-xs",children:[v.jsx(de,{className:"w-3 h-3 mr-1"}),"Bng chng h tr"]}),v.jsx("div",{className:"text-xs text-gray-700",children:v.jsx("ul",{className:"list-disc list-inside space-y-1",children:e.market_regime.supporting_evidence.slice(0,2).map((e,t)=>v.jsx("li",{children:e},t))})})]})]})]})},qe=({marketOverview:e,analyticsData:t,topSectors:n,bottomSectors:r,industries:i})=>{var a,s,o,l,c,u,d,h,f,m,p,g,x,y,b,_,w,j,N,k,S,C,E,P,M,O,A,T,D,R,I,L,z,F,B;const W=null==(s=null==(a=null==t?void 0:t.insights)?void 0:a.detailed_analysis)?void 0:s.sector_rotation,$=null==(l=null==(o=null==t?void 0:t.insights)?void 0:o.detailed_analysis)?void 0:l.market_cap_flow,V=(null==(u=null==(c=null==W?void 0:W.detailed_flow)?void 0:c.inflow_sectors)?void 0:u.slice(0,2))||[],K=(null==(h=null==(d=null==W?void 0:W.detailed_flow)?void 0:d.outflow_sectors)?void 0:h.slice(0,2))||[],H=(null==(p=null==(m=null==(f=null==W?void 0:W.sector_leadership)?void 0:f.emerging_leaders)?void 0:m.sectors)?void 0:p.slice(0,2))||[],U=(null==(x=null==(g=null==W?void 0:W.market_cap_flow)?void 0:g.top_large_cap)?void 0:x.slice(0,2))||[],Y=(null==(b=null==(y=null==W?void 0:W.market_cap_flow)?void 0:y.top_mid_cap)?void 0:b.slice(0,2))||[],q=(null==(w=null==(_=null==W?void 0:W.market_cap_flow)?void 0:_.top_small_cap)?void 0:w.slice(0,2))||[],G=(null==i?void 0:i.filter(e=>{var t;return(null==(t=e.metrics)?void 0:t.current_rs)>.1}).slice(0,3))||[];return v.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[v.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center",children:[v.jsx(we,{className:"w-3 h-3 mr-1 text-orange-600"}),"Bin ng & Dng tin"]}),v.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2 mb-3",children:[v.jsxs("div",{className:"bg-purple-50 p-2 rounded text-xs",children:[v.jsx("div",{className:"font-medium text-purple-700 mb-1",children:"Sc mnh gi"}),v.jsxs("div",{className:"space-y-1",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{children:"Mnh:"}),v.jsx("span",{className:"font-medium",children:(null==(S=null==(k=null==(N=null==(j=e.market_health)?void 0:j.key_metrics)?void 0:N.momentum_distribution)?void 0:k.momentum_categories)?void 0:S.strong)||"N/A"})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{children:"TB:"}),v.jsx("span",{className:"font-medium",children:(null==(M=null==(P=null==(E=null==(C=e.market_health)?void 0:C.key_metrics)?void 0:E.momentum_distribution)?void 0:P.momentum_categories)?void 0:M.moderate)||"N/A"})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{children:"Yu:"}),v.jsx("span",{className:"font-medium",children:(null==(D=null==(T=null==(A=null==(O=e.market_health)?void 0:O.key_metrics)?void 0:A.momentum_distribution)?void 0:T.momentum_categories)?void 0:D.weak)||"N/A"})]})]})]}),v.jsxs("div",{className:"bg-green-50 p-2 rounded text-xs",children:[v.jsxs("div",{className:"font-medium text-green-700 mb-1 flex items-center",children:[v.jsx(Te,{className:"w-2.5 h-2.5 mr-1"}),"Dng tin ngnh"]}),v.jsxs("div",{className:"space-y-1",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{children:"Vo:"}),v.jsx("span",{className:"font-medium text-green-600",children:(null==(R=null==W?void 0:W.money_flow_summary)?void 0:R.inflow_count)||"N/A"})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{children:"Ra:"}),v.jsx("span",{className:"font-medium text-red-600",children:(null==(I=null==W?void 0:W.money_flow_summary)?void 0:I.outflow_count)||"N/A"})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{children:"Tc :"}),v.jsx("span",{className:"font-medium",children:(null==(L=null==W?void 0:W.money_flow_summary)?void 0:L.flow_velocity)?`${(100*W.money_flow_summary.flow_velocity).toFixed(0)}%`:"N/A"})]})]})]}),v.jsxs("div",{className:"bg-blue-50 p-2 rounded text-xs",children:[v.jsx("div",{className:"font-medium text-blue-700 mb-1",children:"Dng tin nhm"}),v.jsxs("div",{className:"space-y-1",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{children:"Vt tri:"}),v.jsx("span",{className:"font-medium text-green-600",children:(null==$?void 0:$.outperforming_count)||"N/A"})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{children:"Km:"}),v.jsx("span",{className:"font-medium text-red-600",children:(null==$?void 0:$.underperforming_count)||"N/A"})]}),v.jsx("div",{className:"text-xs text-blue-600 truncate",children:(null==(z=null==$?void 0:$.flow_theme)?void 0:z.split(" ").slice(0,2).join(" "))||"N/A"})]})]}),(null==n?void 0:n.length)>0&&v.jsxs("div",{className:"bg-green-50 p-2 rounded text-xs",children:[v.jsx("div",{className:"font-medium text-green-700 mb-1",children:"Top Gainers"}),v.jsx("div",{className:"space-y-1",children:n.slice(0,3).map((e,t)=>{var n;return v.jsxs("div",{className:"flex justify-between",children:[v.jsxs("span",{className:"truncate",children:[e.name,":"]}),v.jsx("span",{className:"font-medium text-green-600",children:(null==(n=e.metrics)?void 0:n.current_rs)?`${(100*e.metrics.current_rs).toFixed(1)}%`:"N/A"})]},e.custom_id||e.id)})})]}),(null==r?void 0:r.length)>0&&v.jsxs("div",{className:"bg-red-50 p-2 rounded text-xs",children:[v.jsx("div",{className:"font-medium text-red-700 mb-1",children:"Top Losers"}),v.jsx("div",{className:"space-y-1",children:r.slice(0,3).map((e,t)=>{var n;return v.jsxs("div",{className:"flex justify-between",children:[v.jsxs("span",{className:"truncate",children:[e.name,":"]}),v.jsx("span",{className:"font-medium text-red-600",children:(null==(n=e.metrics)?void 0:n.current_rs)?`${(100*e.metrics.current_rs).toFixed(1)}%`:"N/A"})]},e.custom_id||e.id)})})]}),G.length>0&&v.jsxs("div",{className:"bg-blue-50 p-2 rounded text-xs",children:[v.jsx("div",{className:"font-medium text-blue-700 mb-1",children:"High Momentum"}),v.jsx("div",{className:"space-y-1",children:G.map((e,t)=>{var n;return v.jsxs("div",{className:"flex justify-between",children:[v.jsxs("span",{className:"truncate",children:[e.name,":"]}),v.jsx("span",{className:"font-medium text-blue-600",children:(null==(n=e.metrics)?void 0:n.current_rs)?`${(100*e.metrics.current_rs).toFixed(1)}%`:"N/A"})]},e.custom_id||e.id)})})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mb-3",children:[H.length>0&&v.jsxs("div",{className:"bg-yellow-50 p-2 rounded text-xs",children:[v.jsxs("div",{className:"font-medium text-yellow-700 mb-1 flex items-center",children:[v.jsx(Be,{className:"w-2.5 h-2.5 mr-1"}),"Ni ln (",(null==(B=null==(F=null==W?void 0:W.sector_leadership)?void 0:F.emerging_leaders)?void 0:B.count)||0,")"]}),v.jsx("div",{className:"space-y-1",children:H.map((e,t)=>v.jsxs("div",{className:"flex justify-between",children:[v.jsxs("span",{className:"truncate",children:[e.name,":"]}),v.jsxs("span",{className:"font-medium text-yellow-600",children:[(100*e.velocity).toFixed(0),"%"]})]},t))})]}),(V.length>0||K.length>0)&&v.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[V.length>0&&v.jsxs("div",{className:"bg-green-50 p-2 rounded text-xs",children:[v.jsxs("div",{className:"font-medium text-green-700 mb-1 flex items-center",children:[v.jsx(Te,{className:"w-2.5 h-2.5 mr-1"}),"Top  vo"]}),v.jsx("div",{className:"space-y-1",children:V.map((e,t)=>v.jsxs("div",{className:"flex justify-between",children:[v.jsxs("span",{className:"truncate",children:[e.name,":"]}),v.jsxs("span",{className:"font-medium text-green-600",children:[(100*e.velocity).toFixed(0),"%"]})]},t))})]}),K.length>0&&v.jsxs("div",{className:"bg-red-50 p-2 rounded text-xs",children:[v.jsxs("div",{className:"font-medium text-red-700 mb-1 flex items-center",children:[v.jsx(Ae,{className:"w-2.5 h-2.5 mr-1"}),"Top rt ra"]}),v.jsx("div",{className:"space-y-1",children:K.map((e,t)=>v.jsxs("div",{className:"flex justify-between",children:[v.jsxs("span",{className:"truncate",children:[e.name,":"]}),v.jsxs("span",{className:"font-medium text-red-600",children:[(100*e.velocity).toFixed(0),"%"]})]},t))})]})]})]}),(U.length>0||Y.length>0||q.length>0)&&v.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[U.length>0&&v.jsxs("div",{className:"bg-blue-50 p-2 rounded text-xs",children:[v.jsx("div",{className:"font-medium text-blue-700 mb-1",children:"VN30"}),v.jsx("div",{className:"space-y-1",children:U.map((e,t)=>v.jsxs("div",{className:"flex justify-between",children:[v.jsxs("span",{children:[e.symbol,":"]}),v.jsxs("span",{className:"font-medium text-blue-600",children:[(100*e.velocity).toFixed(0),"%"]})]},t))})]}),Y.length>0&&v.jsxs("div",{className:"bg-green-50 p-2 rounded text-xs",children:[v.jsx("div",{className:"font-medium text-green-700 mb-1",children:"VNMID"}),v.jsx("div",{className:"space-y-1",children:Y.map((e,t)=>v.jsxs("div",{className:"flex justify-between",children:[v.jsxs("span",{children:[e.symbol,":"]}),v.jsxs("span",{className:"font-medium text-green-600",children:[(100*e.velocity).toFixed(0),"%"]})]},t))})]}),q.length>0&&v.jsxs("div",{className:"bg-orange-50 p-2 rounded text-xs",children:[v.jsx("div",{className:"font-medium text-orange-700 mb-1",children:"VNSML"}),v.jsx("div",{className:"space-y-1",children:q.map((e,t)=>v.jsxs("div",{className:"flex justify-between",children:[v.jsxs("span",{children:[e.symbol,":"]}),v.jsxs("span",{className:"font-medium text-orange-600",children:[(100*e.velocity).toFixed(0),"%"]})]},t))})]})]})]})},Ge=({marketOverview:e})=>{var t;return(null==(t=e.market_health)?void 0:t.market_cap_rotation)?v.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-2",children:[v.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center",children:[v.jsx(Re,{className:"w-3 h-3 mr-1 text-purple-600"}),"Lun chuyn vn ha th trng"]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[e.market_health.market_cap_rotation.large_cap&&v.jsxs("div",{className:"border-l-4 border-blue-500 pl-2",children:[v.jsx("div",{className:"font-medium text-xs",children:e.market_health.market_cap_rotation.large_cap.name}),v.jsx("div",{className:"text-xs "+("Vt tri"===e.market_health.market_cap_rotation.large_cap.performance?"text-green-600":"text-red-600"),children:e.market_health.market_cap_rotation.large_cap.performance}),v.jsx("div",{className:"text-xs text-gray-500",children:e.market_health.market_cap_rotation.large_cap.interpretation})]}),e.market_health.market_cap_rotation.mid_cap&&v.jsxs("div",{className:"border-l-4 border-yellow-500 pl-2",children:[v.jsx("div",{className:"font-medium text-xs",children:e.market_health.market_cap_rotation.mid_cap.name}),v.jsx("div",{className:"text-xs "+("Vt tri"===e.market_health.market_cap_rotation.mid_cap.performance?"text-green-600":"text-red-600"),children:e.market_health.market_cap_rotation.mid_cap.performance}),v.jsx("div",{className:"text-xs text-gray-500",children:e.market_health.market_cap_rotation.mid_cap.interpretation})]}),e.market_health.market_cap_rotation.small_cap&&v.jsxs("div",{className:"border-l-4 border-red-500 pl-2",children:[v.jsx("div",{className:"font-medium text-xs",children:e.market_health.market_cap_rotation.small_cap.name}),v.jsx("div",{className:"text-xs "+("Vt tri"===e.market_health.market_cap_rotation.small_cap.performance?"text-green-600":"text-red-600"),children:e.market_health.market_cap_rotation.small_cap.performance}),v.jsx("div",{className:"text-xs text-gray-500",children:e.market_health.market_cap_rotation.small_cap.interpretation})]})]})]}):null},Xe=({marketOverview:e,getSentimentColor:t,breadth_detail:n,industries:r,analyticsData:i})=>{var a,s;const o=(null==(a=null==i?void 0:i.insights)?void 0:a.investment_strategies)||{},l=(null==(s=null==i?void 0:i.insights)?void 0:s.detailed_analysis)||{};if(!e||!e.title)return null;const c=(()=>{var t,n,r,i,a;const s=(null==(r=null==(n=null==(t=e.market_health)?void 0:t.key_metrics)?void 0:n.market_breadth)?void 0:r.score)||0,o=(null==(i=e.market_regime)?void 0:i.momentum_score)||0,l=(null==(a=e.market_regime)?void 0:a.confidence)||0;return Math.round(50*(s+o)+.5*l)})(),{top:u,bottom:d}=(()=>{if(!r||!Array.isArray(r))return{top:[],bottom:[]};const e=[...r].sort((e,t)=>{var n,r;const i=(null==(n=e.metrics)?void 0:n.current_rs)||0;return((null==(r=t.metrics)?void 0:r.current_rs)||0)-i});return{top:e.slice(0,3),bottom:e.slice(-3).reverse()}})();return v.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3 space-y-3",children:[v.jsx(We,{marketOverview:e}),v.jsx($e,{marketOverview:e,marketHealthScore:c}),v.jsx(Ve,{marketOverview:e}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3",children:[v.jsx(Ue,{marketOverview:e,topSectors:u,bottomSectors:d,industries:r,analyticsData:i,getSentimentColor:t}),v.jsx(Ye,{marketOverview:e,investmentStrategies:o,detailedAnalysis:l})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ge,{marketOverview:e}),v.jsx(qe,{marketOverview:e,analyticsData:i,topSectors:u,bottomSectors:d,industries:r})]})]})};
/**
     * @license lucide-react v0.525.0 - ISC
     *
     * This source code is licensed under the ISC license.
     * See the LICENSE file in the root directory of this source tree.
     */function Qe(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function Ze(...e){return t=>{let n=!1;const r=e.map(e=>{const r=Qe(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){const n=r[t];"function"==typeof n?n():Qe(e[t],null)}}}}function Je(...e){return N.useCallback(Ze(...e),e)}function et(e){const t=nt(e),n=N.forwardRef((e,n)=>{const r=e,{children:i}=r,a=m(r,["children"]),s=N.Children.toArray(i),o=s.find(it);if(o){const e=o.props.children,r=s.map(t=>t===o?N.Children.count(e)>1?N.Children.only(null):N.isValidElement(e)?e.props.children:null:t);return v.jsx(t,f(h({},a),{ref:n,children:N.isValidElement(e)?N.cloneElement(e,void 0,r):null}))}return v.jsx(t,f(h({},a),{ref:n,children:i}))});return n.displayName=`${e}.Slot`,n}var tt=et("Slot");function nt(e){const t=N.forwardRef((e,t)=>{const n=e,{children:r}=n,i=m(n,["children"]);if(N.isValidElement(r)){const e=function(e){var t,n;let r=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?e.ref:(r=null==(n=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:n.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}(r),n=function(e,t){const n=h({},t);for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...e)=>{const t=a(...e);return i(...e),t}:i&&(n[r]=i):"style"===r?n[r]=h(h({},i),a):"className"===r&&(n[r]=[i,a].filter(Boolean).join(" "))}return h(h({},e),n)}(i,r.props);return r.type!==N.Fragment&&(n.ref=t?Ze(t,e):e),N.cloneElement(r,n)}return N.Children.count(r)>1?N.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rt=Symbol("radix.slottable");function it(e){return N.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===rt}function at(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=at(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function st(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=at(e))&&(r&&(r+=" "),r+=t);return r}const ot=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,lt=st,ct=(e,t)=>n=>{var r;if(null==(null==t?void 0:t.variants))return lt(e,null==n?void 0:n.class,null==n?void 0:n.className);const{variants:i,defaultVariants:a}=t,s=Object.keys(i).map(e=>{const t=null==n?void 0:n[e],r=null==a?void 0:a[e];if(null===t)return null;const s=ot(t)||ot(r);return i[e][s]}),o=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{}),l=null==t||null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let n=t,{class:r,className:i}=n,s=m(n,["class","className"]);return Object.entries(s).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes(h(h({},a),o)[t]):h(h({},a),o)[t]===n})?[...e,r,i]:e},[]);return lt(e,s,l,null==n?void 0:n.class,null==n?void 0:n.className)},ut=(e,t)=>{var n;if(0===e.length)return t.classGroupId;const r=e[0],i=t.nextPart.get(r),a=i?ut(e.slice(1),i):void 0;if(a)return a;if(0===t.validators.length)return;const s=e.join("-");return null==(n=t.validators.find(({validator:e})=>e(s)))?void 0:n.classGroupId},dt=/^\[(.+)\]$/,ht=e=>{if(dt.test(e)){const t=dt.exec(e)[1],n=null==t?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},ft=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const i in n)mt(n[i],r,i,t);return r},mt=(e,t,n,r)=>{e.forEach(e=>{if("string"!=typeof e)return"function"==typeof e?gt(e)?void mt(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n}):void Object.entries(e).forEach(([e,i])=>{mt(i,pt(t,e),n,r)});(""===e?t:pt(t,e)).classGroupId=n})},pt=(e,t)=>{let n=e;return t.split("-").forEach(e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)}),n},gt=e=>e.isThemeGetter,xt=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(i,a)=>{n.set(i,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(i(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):i(e,t)}}},yt=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=e=>{const t=[];let n,r=0,i=0,a=0;for(let l=0;l<e.length;l++){let s=e[l];if(0===r&&0===i){if(":"===s){t.push(e.slice(a,l)),a=l+1;continue}if("/"===s){n=l;continue}}"["===s?r++:"]"===s?r--:"("===s?i++:")"===s&&i--}const s=0===t.length?e:e.substring(a),o=vt(s);return{modifiers:t,hasImportantModifier:o!==s,baseClassName:o,maybePostfixModifierPosition:n&&n>a?n-a:void 0}};if(t){const e=t+":",n=r;r=t=>t.startsWith(e)?n(t.substring(e.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:t,maybePostfixModifierPosition:void 0}}if(n){const e=r;r=t=>n({className:t,parseClassName:e})}return r},vt=e=>e.endsWith("!")?e.substring(0,e.length-1):e.startsWith("!")?e.substring(1):e,bt=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(e=>[e,!0]));return e=>{if(e.length<=1)return e;const n=[];let r=[];return e.forEach(e=>{"["===e[0]||t[e]?(n.push(...r.sort(),e),r=[]):r.push(e)}),n.push(...r.sort()),n}},_t=e=>h({cache:xt(e.cacheSize),parseClassName:yt(e),sortModifiers:bt(e)},(e=>{const t=ft(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),ut(n,t)||ht(e)},getConflictingClassGroupIds:(e,t)=>{const i=n[e]||[];return t&&r[e]?[...i,...r[e]]:i}}})(e)),wt=/\s+/;function jt(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=Nt(e))&&(r&&(r+=" "),r+=t);return r}const Nt=e=>{if("string"==typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Nt(e[r]))&&(n&&(n+=" "),n+=t);return n};function kt(e,...t){let n,r,i,a=function(o){const l=t.reduce((e,t)=>t(e),e());return n=_t(l),r=n.cache.get,i=n.cache.set,a=s,s(o)};function s(e){const t=r(e);if(t)return t;const a=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=t,s=[],o=e.trim().split(wt);let l="";for(let c=o.length-1;c>=0;c-=1){const e=o[c],{isExternal:t,modifiers:u,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:f}=n(e);if(t){l=e+(l.length>0?" "+l:l);continue}let m=!!f,p=r(m?h.substring(0,f):h);if(!p){if(!m){l=e+(l.length>0?" "+l:l);continue}if(p=r(h),!p){l=e+(l.length>0?" "+l:l);continue}m=!1}const g=a(u).join(":"),x=d?g+"!":g,y=x+p;if(s.includes(y))continue;s.push(y);const v=i(p,m);for(let n=0;n<v.length;++n){const e=v[n];s.push(x+e)}l=e+(l.length>0?" "+l:l)}return l})(e,n);return i(e,a),a}return function(){return a(jt.apply(null,arguments))}}const St=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},Ct=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Et=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Pt=/^\d+\/\d+$/,Mt=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ot=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,At=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Tt=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Dt=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Rt=e=>Pt.test(e),It=e=>!!e&&!Number.isNaN(Number(e)),Lt=e=>!!e&&Number.isInteger(Number(e)),zt=e=>e.endsWith("%")&&It(e.slice(0,-1)),Ft=e=>Mt.test(e),Bt=()=>!0,Wt=e=>Ot.test(e)&&!At.test(e),$t=()=>!1,Vt=e=>Tt.test(e),Kt=e=>Dt.test(e),Ht=e=>!Yt(e)&&!Jt(e),Ut=e=>on(e,dn,$t),Yt=e=>Ct.test(e),qt=e=>on(e,hn,Wt),Gt=e=>on(e,fn,It),Xt=e=>on(e,cn,$t),Qt=e=>on(e,un,Kt),Zt=e=>on(e,pn,Vt),Jt=e=>Et.test(e),en=e=>ln(e,hn),tn=e=>ln(e,mn),nn=e=>ln(e,cn),rn=e=>ln(e,dn),an=e=>ln(e,un),sn=e=>ln(e,pn,!0),on=(e,t,n)=>{const r=Ct.exec(e);return!!r&&(r[1]?t(r[1]):n(r[2]))},ln=(e,t,n=!1)=>{const r=Et.exec(e);return!!r&&(r[1]?t(r[1]):n)},cn=e=>"position"===e||"percentage"===e,un=e=>"image"===e||"url"===e,dn=e=>"length"===e||"size"===e||"bg-size"===e,hn=e=>"length"===e,fn=e=>"number"===e,mn=e=>"family-name"===e,pn=e=>"shadow"===e,gn=kt(()=>{const e=St("color"),t=St("font"),n=St("text"),r=St("font-weight"),i=St("tracking"),a=St("leading"),s=St("breakpoint"),o=St("container"),l=St("spacing"),c=St("radius"),u=St("shadow"),d=St("inset-shadow"),h=St("text-shadow"),f=St("drop-shadow"),m=St("blur"),p=St("perspective"),g=St("aspect"),x=St("ease"),y=St("animate"),v=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",Jt,Yt],b=()=>[Jt,Yt,l],_=()=>[Rt,"full","auto",...b()],w=()=>[Lt,"none","subgrid",Jt,Yt],j=()=>["auto",{span:["full",Lt,Jt,Yt]},Lt,Jt,Yt],N=()=>[Lt,"auto",Jt,Yt],k=()=>["auto","min","max","fr",Jt,Yt],S=()=>["auto",...b()],C=()=>[Rt,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...b()],E=()=>[e,Jt,Yt],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",nn,Xt,{position:[Jt,Yt]}],M=()=>["auto","cover","contain",rn,Ut,{size:[Jt,Yt]}],O=()=>[zt,en,qt],A=()=>["","none","full",c,Jt,Yt],T=()=>["",It,en,qt],D=()=>[It,zt,nn,Xt],R=()=>["","none",m,Jt,Yt],I=()=>["none",It,Jt,Yt],L=()=>["none",It,Jt,Yt],z=()=>[It,Jt,Yt],F=()=>[Rt,"full",...b()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ft],breakpoint:[Ft],color:[Bt],container:[Ft],"drop-shadow":[Ft],ease:["in","out","in-out"],font:[Ht],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ft],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ft],shadow:[Ft],spacing:["px",It],text:[Ft],"text-shadow":[Ft],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Rt,Yt,Jt,g]}],container:["container"],columns:[{columns:[It,Yt,Jt,o]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:v()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:_()}],"inset-x":[{"inset-x":_()}],"inset-y":[{"inset-y":_()}],start:[{start:_()}],end:[{end:_()}],top:[{top:_()}],right:[{right:_()}],bottom:[{bottom:_()}],left:[{left:_()}],visibility:["visible","invisible","collapse"],z:[{z:[Lt,"auto",Jt,Yt]}],basis:[{basis:[Rt,"full","auto",o,...b()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[It,Rt,"auto","initial","none",Yt]}],grow:[{grow:["",It,Jt,Yt]}],shrink:[{shrink:["",It,Jt,Yt]}],order:[{order:[Lt,"first","last","none",Jt,Yt]}],"grid-cols":[{"grid-cols":w()}],"col-start-end":[{col:j()}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":w()}],"row-start-end":[{row:j()}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":k()}],"auto-rows":[{"auto-rows":k()}],gap:[{gap:b()}],"gap-x":[{"gap-x":b()}],"gap-y":[{"gap-y":b()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:b()}],px:[{px:b()}],py:[{py:b()}],ps:[{ps:b()}],pe:[{pe:b()}],pt:[{pt:b()}],pr:[{pr:b()}],pb:[{pb:b()}],pl:[{pl:b()}],m:[{m:S()}],mx:[{mx:S()}],my:[{my:S()}],ms:[{ms:S()}],me:[{me:S()}],mt:[{mt:S()}],mr:[{mr:S()}],mb:[{mb:S()}],ml:[{ml:S()}],"space-x":[{"space-x":b()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":b()}],"space-y-reverse":["space-y-reverse"],size:[{size:C()}],w:[{w:[o,"screen",...C()]}],"min-w":[{"min-w":[o,"screen","none",...C()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[s]},...C()]}],h:[{h:["screen","lh",...C()]}],"min-h":[{"min-h":["screen","lh","none",...C()]}],"max-h":[{"max-h":["screen","lh",...C()]}],"font-size":[{text:["base",n,en,qt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Jt,Gt]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",zt,Yt]}],"font-family":[{font:[tn,Yt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Jt,Yt]}],"line-clamp":[{"line-clamp":[It,"none",Jt,Gt]}],leading:[{leading:[a,...b()]}],"list-image":[{"list-image":["none",Jt,Yt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Jt,Yt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:E()}],"text-color":[{text:E()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[It,"from-font","auto",Jt,qt]}],"text-decoration-color":[{decoration:E()}],"underline-offset":[{"underline-offset":[It,"auto",Jt,Yt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Jt,Yt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Jt,Yt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:P()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:M()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Lt,Jt,Yt],radial:["",Jt,Yt],conic:[Lt,Jt,Yt]},an,Qt]}],"bg-color":[{bg:E()}],"gradient-from-pos":[{from:O()}],"gradient-via-pos":[{via:O()}],"gradient-to-pos":[{to:O()}],"gradient-from":[{from:E()}],"gradient-via":[{via:E()}],"gradient-to":[{to:E()}],rounded:[{rounded:A()}],"rounded-s":[{"rounded-s":A()}],"rounded-e":[{"rounded-e":A()}],"rounded-t":[{"rounded-t":A()}],"rounded-r":[{"rounded-r":A()}],"rounded-b":[{"rounded-b":A()}],"rounded-l":[{"rounded-l":A()}],"rounded-ss":[{"rounded-ss":A()}],"rounded-se":[{"rounded-se":A()}],"rounded-ee":[{"rounded-ee":A()}],"rounded-es":[{"rounded-es":A()}],"rounded-tl":[{"rounded-tl":A()}],"rounded-tr":[{"rounded-tr":A()}],"rounded-br":[{"rounded-br":A()}],"rounded-bl":[{"rounded-bl":A()}],"border-w":[{border:T()}],"border-w-x":[{"border-x":T()}],"border-w-y":[{"border-y":T()}],"border-w-s":[{"border-s":T()}],"border-w-e":[{"border-e":T()}],"border-w-t":[{"border-t":T()}],"border-w-r":[{"border-r":T()}],"border-w-b":[{"border-b":T()}],"border-w-l":[{"border-l":T()}],"divide-x":[{"divide-x":T()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":T()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:E()}],"border-color-x":[{"border-x":E()}],"border-color-y":[{"border-y":E()}],"border-color-s":[{"border-s":E()}],"border-color-e":[{"border-e":E()}],"border-color-t":[{"border-t":E()}],"border-color-r":[{"border-r":E()}],"border-color-b":[{"border-b":E()}],"border-color-l":[{"border-l":E()}],"divide-color":[{divide:E()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[It,Jt,Yt]}],"outline-w":[{outline:["",It,en,qt]}],"outline-color":[{outline:E()}],shadow:[{shadow:["","none",u,sn,Zt]}],"shadow-color":[{shadow:E()}],"inset-shadow":[{"inset-shadow":["none",d,sn,Zt]}],"inset-shadow-color":[{"inset-shadow":E()}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:E()}],"ring-offset-w":[{"ring-offset":[It,qt]}],"ring-offset-color":[{"ring-offset":E()}],"inset-ring-w":[{"inset-ring":T()}],"inset-ring-color":[{"inset-ring":E()}],"text-shadow":[{"text-shadow":["none",h,sn,Zt]}],"text-shadow-color":[{"text-shadow":E()}],opacity:[{opacity:[It,Jt,Yt]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[It]}],"mask-image-linear-from-pos":[{"mask-linear-from":D()}],"mask-image-linear-to-pos":[{"mask-linear-to":D()}],"mask-image-linear-from-color":[{"mask-linear-from":E()}],"mask-image-linear-to-color":[{"mask-linear-to":E()}],"mask-image-t-from-pos":[{"mask-t-from":D()}],"mask-image-t-to-pos":[{"mask-t-to":D()}],"mask-image-t-from-color":[{"mask-t-from":E()}],"mask-image-t-to-color":[{"mask-t-to":E()}],"mask-image-r-from-pos":[{"mask-r-from":D()}],"mask-image-r-to-pos":[{"mask-r-to":D()}],"mask-image-r-from-color":[{"mask-r-from":E()}],"mask-image-r-to-color":[{"mask-r-to":E()}],"mask-image-b-from-pos":[{"mask-b-from":D()}],"mask-image-b-to-pos":[{"mask-b-to":D()}],"mask-image-b-from-color":[{"mask-b-from":E()}],"mask-image-b-to-color":[{"mask-b-to":E()}],"mask-image-l-from-pos":[{"mask-l-from":D()}],"mask-image-l-to-pos":[{"mask-l-to":D()}],"mask-image-l-from-color":[{"mask-l-from":E()}],"mask-image-l-to-color":[{"mask-l-to":E()}],"mask-image-x-from-pos":[{"mask-x-from":D()}],"mask-image-x-to-pos":[{"mask-x-to":D()}],"mask-image-x-from-color":[{"mask-x-from":E()}],"mask-image-x-to-color":[{"mask-x-to":E()}],"mask-image-y-from-pos":[{"mask-y-from":D()}],"mask-image-y-to-pos":[{"mask-y-to":D()}],"mask-image-y-from-color":[{"mask-y-from":E()}],"mask-image-y-to-color":[{"mask-y-to":E()}],"mask-image-radial":[{"mask-radial":[Jt,Yt]}],"mask-image-radial-from-pos":[{"mask-radial-from":D()}],"mask-image-radial-to-pos":[{"mask-radial-to":D()}],"mask-image-radial-from-color":[{"mask-radial-from":E()}],"mask-image-radial-to-color":[{"mask-radial-to":E()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[It]}],"mask-image-conic-from-pos":[{"mask-conic-from":D()}],"mask-image-conic-to-pos":[{"mask-conic-to":D()}],"mask-image-conic-from-color":[{"mask-conic-from":E()}],"mask-image-conic-to-color":[{"mask-conic-to":E()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:P()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:M()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Jt,Yt]}],filter:[{filter:["","none",Jt,Yt]}],blur:[{blur:R()}],brightness:[{brightness:[It,Jt,Yt]}],contrast:[{contrast:[It,Jt,Yt]}],"drop-shadow":[{"drop-shadow":["","none",f,sn,Zt]}],"drop-shadow-color":[{"drop-shadow":E()}],grayscale:[{grayscale:["",It,Jt,Yt]}],"hue-rotate":[{"hue-rotate":[It,Jt,Yt]}],invert:[{invert:["",It,Jt,Yt]}],saturate:[{saturate:[It,Jt,Yt]}],sepia:[{sepia:["",It,Jt,Yt]}],"backdrop-filter":[{"backdrop-filter":["","none",Jt,Yt]}],"backdrop-blur":[{"backdrop-blur":R()}],"backdrop-brightness":[{"backdrop-brightness":[It,Jt,Yt]}],"backdrop-contrast":[{"backdrop-contrast":[It,Jt,Yt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",It,Jt,Yt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[It,Jt,Yt]}],"backdrop-invert":[{"backdrop-invert":["",It,Jt,Yt]}],"backdrop-opacity":[{"backdrop-opacity":[It,Jt,Yt]}],"backdrop-saturate":[{"backdrop-saturate":[It,Jt,Yt]}],"backdrop-sepia":[{"backdrop-sepia":["",It,Jt,Yt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":b()}],"border-spacing-x":[{"border-spacing-x":b()}],"border-spacing-y":[{"border-spacing-y":b()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Jt,Yt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[It,"initial",Jt,Yt]}],ease:[{ease:["linear","initial",x,Jt,Yt]}],delay:[{delay:[It,Jt,Yt]}],animate:[{animate:["none",y,Jt,Yt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[p,Jt,Yt]}],"perspective-origin":[{"perspective-origin":v()}],rotate:[{rotate:I()}],"rotate-x":[{"rotate-x":I()}],"rotate-y":[{"rotate-y":I()}],"rotate-z":[{"rotate-z":I()}],scale:[{scale:L()}],"scale-x":[{"scale-x":L()}],"scale-y":[{"scale-y":L()}],"scale-z":[{"scale-z":L()}],"scale-3d":["scale-3d"],skew:[{skew:z()}],"skew-x":[{"skew-x":z()}],"skew-y":[{"skew-y":z()}],transform:[{transform:[Jt,Yt,"","none","gpu","cpu"]}],"transform-origin":[{origin:v()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:F()}],"translate-x":[{"translate-x":F()}],"translate-y":[{"translate-y":F()}],"translate-z":[{"translate-z":F()}],"translate-none":["translate-none"],accent:[{accent:E()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:E()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Jt,Yt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Jt,Yt]}],fill:[{fill:["none",...E()]}],"stroke-w":[{stroke:[It,en,qt,Gt]}],stroke:[{stroke:["none",...E()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function xn(...e){return gn(st(e))}const yn=ct("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function vn(e){var t=e,{className:n,variant:r,asChild:i=!1}=t,a=m(t,["className","variant","asChild"]);const s=i?tt:"span";return v.jsx(s,h({"data-slot":"badge",className:xn(yn({variant:r}),n)},a))}const bn=ct("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all cursor-pointer disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-11 rounded-md px-6 py-2.5 has-[>svg]:px-4 text-base",icon:"size-9"}},defaultVariants:{variant:"default",size:"lg"}});function _n(e){var t=e,{className:n,variant:r,size:i,asChild:a=!1}=t,s=m(t,["className","variant","size","asChild"]);const o=a?tt:"button";return v.jsx(o,h({"data-slot":"button",className:xn(bn({variant:r,size:i,className:n}))},s))}const wn=N.forwardRef((e,t)=>{var n=e,{className:r}=n,i=m(n,["className"]);return v.jsx("div",h({ref:t,className:xn("rounded-lg border bg-card text-card-foreground shadow-sm",r)},i))});wn.displayName="Card",N.forwardRef((e,t)=>{var n=e,{className:r}=n,i=m(n,["className"]);return v.jsx("div",h({ref:t,className:xn("flex flex-col space-y-1.5 p-6",r)},i))}).displayName="CardHeader",N.forwardRef((e,t)=>{var n=e,{className:r}=n,i=m(n,["className"]);return v.jsx("h3",h({ref:t,className:xn("text-2xl font-semibold leading-none tracking-tight",r)},i))}).displayName="CardTitle",N.forwardRef((e,t)=>{var n=e,{className:r}=n,i=m(n,["className"]);return v.jsx("p",h({ref:t,className:xn("text-sm text-muted-foreground",r)},i))}).displayName="CardDescription",N.forwardRef((e,t)=>{var n=e,{className:r}=n,i=m(n,["className"]);return v.jsx("div",h({ref:t,className:xn("p-6 pt-0",r)},i))}).displayName="CardContent",N.forwardRef((e,t)=>{var n=e,{className:r}=n,i=m(n,["className"]);return v.jsx("div",h({ref:t,className:xn("flex items-center p-6 pt-0",r)},i))}).displayName="CardFooter";var jn=W();const Nn=i(jn);var kn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const n=et(`Primitive.${t}`),r=N.forwardRef((e,r)=>{const i=e,{asChild:a}=i,s=m(i,["asChild"]),o=a?n:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),v.jsx(o,f(h({},s),{ref:r}))});return r.displayName=`Primitive.${t}`,f(h({},e),{[t]:r})},{});function Sn(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(null==e||e(r),!1===n||!r.defaultPrevented)return null==t?void 0:t(r)}}function Cn(e,t=[]){let n=[];const r=()=>{const t=n.map(e=>N.createContext(e));return function(n){const r=(null==n?void 0:n[e])||t;return N.useMemo(()=>({[`__scope${e}`]:f(h({},n),{[e]:r})}),[n,r])}};return r.scopeName=e,[function(t,r){const i=N.createContext(r),a=n.length;n=[...n,r];const s=t=>{var n;const r=t,{scope:s,children:o}=r,l=m(r,["scope","children"]),c=(null==(n=null==s?void 0:s[e])?void 0:n[a])||i,u=N.useMemo(()=>l,Object.values(l));return v.jsx(c.Provider,{value:u,children:o})};return s.displayName=t+"Provider",[s,function(n,s){var o;const l=(null==(o=null==s?void 0:s[e])?void 0:o[a])||i,c=N.useContext(l);if(c)return c;if(void 0!==r)return r;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},En(r,...t)]}function En(...e){const t=e[0];if(1===e.length)return t;const n=()=>{const n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){const r=n.reduce((t,{useScope:n,scopeName:r})=>{const i=n(e)[`__scope${r}`];return h(h({},t),i)},{});return N.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return n.scopeName=t.scopeName,n}function Pn(e){const t=e+"CollectionProvider",[n,r]=Cn(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=e=>{const{scope:t,children:n}=e,r=k.useRef(null),a=k.useRef(new Map).current;return v.jsx(i,{scope:t,itemMap:a,collectionRef:r,children:n})};s.displayName=t;const o=e+"CollectionSlot",l=et(o),c=k.forwardRef((e,t)=>{const{scope:n,children:r}=e,i=Je(t,a(o,n).collectionRef);return v.jsx(l,{ref:i,children:r})});c.displayName=o;const u=e+"CollectionItemSlot",d="data-radix-collection-item",p=et(u),g=k.forwardRef((e,t)=>{const n=e,{scope:r,children:i}=n,s=m(n,["scope","children"]),o=k.useRef(null),l=Je(t,o),c=a(u,r);return k.useEffect(()=>(c.itemMap.set(o,h({ref:o},s)),()=>{c.itemMap.delete(o)})),v.jsx(p,f(h({},{[d]:""}),{ref:l,children:i}))});return g.displayName=u,[{Provider:s,Slot:c,ItemSlot:g},function(t){const n=a(e+"CollectionConsumer",t);return k.useCallback(()=>{const e=n.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${d}]`));return Array.from(n.itemMap.values()).sort((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current))},[n.collectionRef,n.itemMap])},r]}var Mn=(null==globalThis?void 0:globalThis.document)?N.useLayoutEffect:()=>{},On=S[" useId ".trim().toString()]||(()=>{}),An=0;function Tn(e){const[t,n]=N.useState(On());return Mn(()=>{n(e=>null!=e?e:String(An++))},[e]),t?`radix-${t}`:""}function Dn(e){const t=N.useRef(e);return N.useEffect(()=>{t.current=e}),N.useMemo(()=>(...e)=>{var n;return null==(n=t.current)?void 0:n.call(t,...e)},[])}var Rn=S[" useInsertionEffect ".trim().toString()]||Mn;function In({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,s]=function({defaultProp:e,onChange:t}){const[n,r]=N.useState(e),i=N.useRef(n),a=N.useRef(t);return Rn(()=>{a.current=t},[t]),N.useEffect(()=>{var e;i.current!==n&&(null==(e=a.current)||e.call(a,n),i.current=n)},[n,i]),[n,r,a]}({defaultProp:t,onChange:n}),o=void 0!==e,l=o?e:i;{const t=N.useRef(void 0!==e);N.useEffect(()=>{t.current;t.current=o},[o,r])}const c=N.useCallback(t=>{var n;if(o){const r=function(e){return"function"==typeof e}(t)?t(e):t;r!==e&&(null==(n=s.current)||n.call(s,r))}else a(t)},[o,e,a,s]);return[l,c]}var Ln=N.createContext(void 0);function zn(e){const[t,n]=N.useState(void 0);return Mn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver(t=>{if(!Array.isArray(t))return;if(!t.length)return;const r=t[0];let i,a;if("borderBoxSize"in r){const e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;i=t.inlineSize,a=t.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),t}function Fn(e){const t=N.useRef({value:e,previous:e});return N.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Bn=e=>{const{present:t,children:n}=e,r=function(e){const[t,n]=N.useState(),r=N.useRef(null),i=N.useRef(e),a=N.useRef("none"),s=e?"mounted":"unmounted",[o,l]=function(e,t){return N.useReducer((e,n)=>{const r=t[e][n];return null!=r?r:e},e)}(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const e=Wn(r.current);a.current="mounted"===o?e:"none"},[o]),Mn(()=>{const t=r.current,n=i.current;if(n!==e){const r=a.current,s=Wn(t);e?l("MOUNT"):"none"===s||"none"===(null==t?void 0:t.display)?l("UNMOUNT"):l(n&&r!==s?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),Mn(()=>{var e;if(t){let n;const s=null!=(e=t.ownerDocument.defaultView)?e:window,o=e=>{const a=Wn(r.current).includes(e.animationName);if(e.target===t&&a&&(l("ANIMATION_END"),!i.current)){const e=t.style.animationFillMode;t.style.animationFillMode="forwards",n=s.setTimeout(()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=e)})}},c=e=>{e.target===t&&(a.current=Wn(r.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",o),t.addEventListener("animationend",o),()=>{s.clearTimeout(n),t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",o),t.removeEventListener("animationend",o)}}l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:N.useCallback(e=>{r.current=e?getComputedStyle(e):null,n(e)},[])}}(t),i="function"==typeof n?n({present:r.isPresent}):N.Children.only(n),a=Je(r.ref,function(e){var t,n;let r=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?e.ref:(r=null==(n=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:n.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}(i));return"function"==typeof n||r.isPresent?N.cloneElement(i,{ref:a}):null};function Wn(e){return(null==e?void 0:e.animationName)||"none"}function $n(e,[t,n]){return Math.min(n,Math.max(t,e))}Bn.displayName="Presence";var Vn,Kn="dismissableLayer.update",Hn="dismissableLayer.pointerDownOutside",Un="dismissableLayer.focusOutside",Yn=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),qn=N.forwardRef((e,t)=>{var n;const r=e,{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:l,onDismiss:c}=r,u=m(r,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),d=N.useContext(Yn),[p,g]=N.useState(null),x=null!=(n=null==p?void 0:p.ownerDocument)?n:null==globalThis?void 0:globalThis.document,[,y]=N.useState({}),b=Je(t,e=>g(e)),_=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),j=_.indexOf(w),k=p?_.indexOf(p):-1,S=d.layersWithOutsidePointerEventsDisabled.size>0,C=k>=j,E=function(e,t=(null==globalThis?void 0:globalThis.document)){const n=Dn(e),r=N.useRef(!1),i=N.useRef(()=>{});return N.useEffect(()=>{const e=e=>{if(e.target&&!r.current){let r=function(){Xn(Hn,n,a,{discrete:!0})};const a={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=r,t.addEventListener("click",i.current,{once:!0})):r()}else t.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}(e=>{const t=e.target,n=[...d.branches].some(e=>e.contains(t));C&&!n&&(null==s||s(e),null==l||l(e),e.defaultPrevented||null==c||c())},x),P=function(e,t=(null==globalThis?void 0:globalThis.document)){const n=Dn(e),r=N.useRef(!1);return N.useEffect(()=>{const e=e=>{e.target&&!r.current&&Xn(Un,n,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}(e=>{const t=e.target;[...d.branches].some(e=>e.contains(t))||(null==o||o(e),null==l||l(e),e.defaultPrevented||null==c||c())},x);return function(e,t=(null==globalThis?void 0:globalThis.document)){const n=Dn(e);N.useEffect(()=>{const e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[n,t])}(e=>{k===d.layers.size-1&&(null==a||a(e),!e.defaultPrevented&&c&&(e.preventDefault(),c()))},x),N.useEffect(()=>{if(p)return i&&(0===d.layersWithOutsidePointerEventsDisabled.size&&(Vn=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(p)),d.layers.add(p),Gn(),()=>{i&&1===d.layersWithOutsidePointerEventsDisabled.size&&(x.body.style.pointerEvents=Vn)}},[p,x,i,d]),N.useEffect(()=>()=>{p&&(d.layers.delete(p),d.layersWithOutsidePointerEventsDisabled.delete(p),Gn())},[p,d]),N.useEffect(()=>{const e=()=>y({});return document.addEventListener(Kn,e),()=>document.removeEventListener(Kn,e)},[]),v.jsx(kn.div,f(h({},u),{ref:b,style:h({pointerEvents:S?C?"auto":"none":void 0},e.style),onFocusCapture:Sn(e.onFocusCapture,P.onFocusCapture),onBlurCapture:Sn(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Sn(e.onPointerDownCapture,E.onPointerDownCapture)}))});function Gn(){const e=new CustomEvent(Kn);document.dispatchEvent(e)}function Xn(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?function(e,t){e&&jn.flushSync(()=>e.dispatchEvent(t))}(i,a):i.dispatchEvent(a)}qn.displayName="DismissableLayer",N.forwardRef((e,t)=>{const n=N.useContext(Yn),r=N.useRef(null),i=Je(t,r);return N.useEffect(()=>{const e=r.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),v.jsx(kn.div,f(h({},e),{ref:i}))}).displayName="DismissableLayerBranch";var Qn=0;function Zn(){N.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!=(e=n[0])?e:Jn()),document.body.insertAdjacentElement("beforeend",null!=(t=n[1])?t:Jn()),Qn++,()=>{1===Qn&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Qn--}},[])}function Jn(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var er="focusScope.autoFocusOnMount",tr="focusScope.autoFocusOnUnmount",nr={bubbles:!1,cancelable:!0},rr=N.forwardRef((e,t)=>{const n=e,{loop:r=!1,trapped:i=!1,onMountAutoFocus:a,onUnmountAutoFocus:s}=n,o=m(n,["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"]),[l,c]=N.useState(null),u=Dn(a),d=Dn(s),p=N.useRef(null),g=Je(t,e=>c(e)),x=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(i){let e=function(e){if(x.paused||!l)return;const t=e.target;l.contains(t)?p.current=t:or(p.current,{select:!0})},t=function(e){if(x.paused||!l)return;const t=e.relatedTarget;null!==t&&(l.contains(t)||or(p.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&or(l)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const r=new MutationObserver(n);return l&&r.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[i,l,x.paused]),N.useEffect(()=>{if(l){lr.add(x);const e=document.activeElement;if(!l.contains(e)){const t=new CustomEvent(er,nr);l.addEventListener(er,u),l.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(or(r,{select:t}),document.activeElement!==n)return}(ir(l).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&or(l))}return()=>{l.removeEventListener(er,u),setTimeout(()=>{const t=new CustomEvent(tr,nr);l.addEventListener(tr,d),l.dispatchEvent(t),t.defaultPrevented||or(null!=e?e:document.body,{select:!0}),l.removeEventListener(tr,d),lr.remove(x)},0)}}},[l,u,d,x]);const y=N.useCallback(e=>{if(!r&&!i)return;if(x.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=document.activeElement;if(t&&n){const t=e.currentTarget,[i,a]=function(e){const t=ir(e),n=ar(t,e),r=ar(t.reverse(),e);return[n,r]}(t);i&&a?e.shiftKey||n!==a?e.shiftKey&&n===i&&(e.preventDefault(),r&&or(a,{select:!0})):(e.preventDefault(),r&&or(i,{select:!0})):n===t&&e.preventDefault()}},[r,i,x.paused]);return v.jsx(kn.div,f(h({tabIndex:-1},o),{ref:g,onKeyDown:y}))});function ir(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ar(e,t){for(const n of e)if(!sr(n,{upTo:t}))return n}function sr(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function or(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}rr.displayName="FocusScope";var lr=function(){let e=[];return{add(t){const n=e[0];t!==n&&(null==n||n.pause()),e=cr(e,t),e.unshift(t)},remove(t){var n;e=cr(e,t),null==(n=e[0])||n.resume()}}}();function cr(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}const ur=["top","right","bottom","left"],dr=Math.min,hr=Math.max,fr=Math.round,mr=Math.floor,pr=e=>({x:e,y:e}),gr={left:"right",right:"left",bottom:"top",top:"bottom"},xr={start:"end",end:"start"};function yr(e,t,n){return hr(e,dr(t,n))}function vr(e,t){return"function"==typeof e?e(t):e}function br(e){return e.split("-")[0]}function _r(e){return e.split("-")[1]}function wr(e){return"x"===e?"y":"x"}function jr(e){return"y"===e?"height":"width"}function Nr(e){return["top","bottom"].includes(br(e))?"y":"x"}function kr(e){return wr(Nr(e))}function Sr(e){return e.replace(/start|end/g,e=>xr[e])}function Cr(e){return e.replace(/left|right|bottom|top/g,e=>gr[e])}function Er(e){return"number"!=typeof e?function(e){return h({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function Pr(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Mr(e,t,n){let{reference:r,floating:i}=e;const a=Nr(t),s=kr(t),o=jr(s),l=br(t),c="y"===a,u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[o]/2-i[o]/2;let f;switch(l){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-i.width,y:d};break;default:f={x:r.x,y:r.y}}switch(_r(t)){case"start":f[s]-=h*(n&&c?-1:1);break;case"end":f[s]+=h*(n&&c?-1:1)}return f}function Or(e,t){return g(this,null,function*(){var n;void 0===t&&(t={});const{x:r,y:i,platform:a,rects:s,elements:o,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=vr(t,e),m=Er(f),p=o[h?"floating"===d?"reference":"floating":d],g=Pr(yield a.getClippingRect({element:null==(n=yield null==a.isElement?void 0:a.isElement(p))||n?p:p.contextElement||(yield null==a.getDocumentElement?void 0:a.getDocumentElement(o.floating)),boundary:c,rootBoundary:u,strategy:l})),x="floating"===d?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,y=yield null==a.getOffsetParent?void 0:a.getOffsetParent(o.floating),v=(yield null==a.isElement?void 0:a.isElement(y))&&(yield null==a.getScale?void 0:a.getScale(y))||{x:1,y:1},b=Pr(a.convertOffsetParentRelativeRectToViewportRelativeRect?yield a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:y,strategy:l}):x);return{top:(g.top-b.top+m.top)/v.y,bottom:(b.bottom-g.bottom+m.bottom)/v.y,left:(g.left-b.left+m.left)/v.x,right:(b.right-g.right+m.right)/v.x}})}function Ar(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Tr(e){return ur.some(t=>e[t]>=0)}function Dr(){return"undefined"!=typeof window}function Rr(e){return zr(e)?(e.nodeName||"").toLowerCase():"#document"}function Ir(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Lr(e){var t;return null==(t=(zr(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function zr(e){return!!Dr()&&(e instanceof Node||e instanceof Ir(e).Node)}function Fr(e){return!!Dr()&&(e instanceof Element||e instanceof Ir(e).Element)}function Br(e){return!!Dr()&&(e instanceof HTMLElement||e instanceof Ir(e).HTMLElement)}function Wr(e){return!(!Dr()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof Ir(e).ShadowRoot)}function $r(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=qr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function Vr(e){return["table","td","th"].includes(Rr(e))}function Kr(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch(n){return!1}})}function Hr(e){const t=Ur(),n=Fr(e)?qr(e):e;return["transform","translate","scale","rotate","perspective"].some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","translate","scale","rotate","perspective","filter"].some(e=>(n.willChange||"").includes(e))||["paint","layout","strict","content"].some(e=>(n.contain||"").includes(e))}function Ur(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function Yr(e){return["html","body","#document"].includes(Rr(e))}function qr(e){return Ir(e).getComputedStyle(e)}function Gr(e){return Fr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Xr(e){if("html"===Rr(e))return e;const t=e.assignedSlot||e.parentNode||Wr(e)&&e.host||Lr(e);return Wr(t)?t.host:t}function Qr(e){const t=Xr(e);return Yr(t)?e.ownerDocument?e.ownerDocument.body:e.body:Br(t)&&$r(t)?t:Qr(t)}function Zr(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=Qr(e),a=i===(null==(r=e.ownerDocument)?void 0:r.body),s=Ir(i);if(a){const e=Jr(s);return t.concat(s,s.visualViewport||[],$r(i)?i:[],e&&n?Zr(e):[])}return t.concat(i,Zr(i,[],n))}function Jr(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ei(e){const t=qr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Br(e),a=i?e.offsetWidth:n,s=i?e.offsetHeight:r,o=fr(n)!==a||fr(r)!==s;return o&&(n=a,r=s),{width:n,height:r,$:o}}function ti(e){return Fr(e)?e:e.contextElement}function ni(e){const t=ti(e);if(!Br(t))return pr(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=ei(t);let s=(a?fr(n.width):n.width)/r,o=(a?fr(n.height):n.height)/i;return s&&Number.isFinite(s)||(s=1),o&&Number.isFinite(o)||(o=1),{x:s,y:o}}const ri=pr(0);function ii(e){const t=Ir(e);return Ur()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:ri}function ai(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),a=ti(e);let s=pr(1);t&&(r?Fr(r)&&(s=ni(r)):s=ni(e));const o=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==Ir(e))&&t}(a,n,r)?ii(a):pr(0);let l=(i.left+o.x)/s.x,c=(i.top+o.y)/s.y,u=i.width/s.x,d=i.height/s.y;if(a){const e=Ir(a),t=r&&Fr(r)?Ir(r):r;let n=e,i=Jr(n);for(;i&&r&&t!==n;){const e=ni(i),t=i.getBoundingClientRect(),r=qr(i),a=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,s=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=a,c+=s,n=Ir(i),i=Jr(n)}}return Pr({width:u,height:d,x:l,y:c})}function si(e,t){const n=Gr(e).scrollLeft;return t?t.left+n:ai(Lr(e)).left+n}function oi(e,t,n){void 0===n&&(n=!1);const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:si(e,r)),y:r.top+t.scrollTop}}function li(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=Ir(e),r=Lr(e),i=n.visualViewport;let a=r.clientWidth,s=r.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;const e=Ur();(!e||e&&"fixed"===t)&&(o=i.offsetLeft,l=i.offsetTop)}return{width:a,height:s,x:o,y:l}}(e,n);else if("document"===t)r=function(e){const t=Lr(e),n=Gr(e),r=e.ownerDocument.body,i=hr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=hr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+si(e);const o=-n.scrollTop;return"rtl"===qr(r).direction&&(s+=hr(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:s,y:o}}(Lr(e));else if(Fr(t))r=function(e,t){const n=ai(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=Br(e)?ni(e):pr(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:i*a.x,y:r*a.y}}(t,n);else{const n=ii(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return Pr(r)}function ci(e,t){const n=Xr(e);return!(n===t||!Fr(n)||Yr(n))&&("fixed"===qr(n).position||ci(n,t))}function ui(e,t,n){const r=Br(t),i=Lr(t),a="fixed"===n,s=ai(e,!0,a,t);let o={scrollLeft:0,scrollTop:0};const l=pr(0);function c(){l.x=si(i)}if(r||!r&&!a)if(("body"!==Rr(t)||$r(i))&&(o=Gr(t)),r){const e=ai(t,!0,a,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&c();a&&!r&&i&&c();const u=!i||r||a?pr(0):oi(i,o);return{x:s.left+o.scrollLeft-l.x-u.x,y:s.top+o.scrollTop-l.y-u.y,width:s.width,height:s.height}}function di(e){return"static"===qr(e).position}function hi(e,t){if(!Br(e)||"fixed"===qr(e).position)return null;if(t)return t(e);let n=e.offsetParent;return Lr(e)===n&&(n=n.ownerDocument.body),n}function fi(e,t){const n=Ir(e);if(Kr(e))return n;if(!Br(e)){let t=Xr(e);for(;t&&!Yr(t);){if(Fr(t)&&!di(t))return t;t=Xr(t)}return n}let r=hi(e,t);for(;r&&Vr(r)&&di(r);)r=hi(r,t);return r&&Yr(r)&&di(r)&&!Hr(r)?n:r||function(e){let t=Xr(e);for(;Br(t)&&!Yr(t);){if(Hr(t))return t;if(Kr(t))return null;t=Xr(t)}return null}(e)||n}const mi={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a="fixed"===i,s=Lr(r),o=!!t&&Kr(t.floating);if(r===s||o&&a)return n;let l={scrollLeft:0,scrollTop:0},c=pr(1);const u=pr(0),d=Br(r);if((d||!d&&!a)&&(("body"!==Rr(r)||$r(s))&&(l=Gr(r)),Br(r))){const e=ai(r);c=ni(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}const h=!s||d||a?pr(0):oi(s,l,!0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}},getDocumentElement:Lr,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[..."clippingAncestors"===n?Kr(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=Zr(e,[],!1).filter(e=>Fr(e)&&"body"!==Rr(e)),i=null;const a="fixed"===qr(e).position;let s=a?Xr(e):e;for(;Fr(s)&&!Yr(s);){const t=qr(s),n=Hr(s);n||"fixed"!==t.position||(i=null),(a?!n&&!i:!n&&"static"===t.position&&i&&["absolute","fixed"].includes(i.position)||$r(s)&&!n&&ci(e,s))?r=r.filter(e=>e!==s):i=t,s=Xr(s)}return t.set(e,r),r}(t,this._c):[].concat(n),r],s=a[0],o=a.reduce((e,n)=>{const r=li(t,n,i);return e.top=hr(r.top,e.top),e.right=dr(r.right,e.right),e.bottom=dr(r.bottom,e.bottom),e.left=hr(r.left,e.left),e},li(t,s,i));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}},getOffsetParent:fi,getElementRects:function(e){return g(this,null,function*(){const t=this.getOffsetParent||fi,n=this.getDimensions,r=yield n(e.floating);return{reference:ui(e.reference,yield t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}})},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=ei(e);return{width:t,height:n}},getScale:ni,isElement:Fr,isRTL:function(e){return"rtl"===qr(e).direction}};function pi(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function gi(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s="function"==typeof ResizeObserver,layoutShift:o="function"==typeof IntersectionObserver,animationFrame:l=!1}=r,c=ti(e),u=i||a?[...c?Zr(c):[],...Zr(t)]:[];u.forEach(e=>{i&&e.addEventListener("scroll",n,{passive:!0}),a&&e.addEventListener("resize",n)});const d=c&&o?function(e,t){let n,r=null;const i=Lr(e);function a(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function s(o,l){void 0===o&&(o=!1),void 0===l&&(l=1),a();const c=e.getBoundingClientRect(),{left:u,top:d,width:m,height:p}=c;if(o||t(),!m||!p)return;const g={rootMargin:-mr(d)+"px "+-mr(i.clientWidth-(u+m))+"px "+-mr(i.clientHeight-(d+p))+"px "+-mr(u)+"px",threshold:hr(0,dr(1,l))||1};let x=!0;function y(t){const r=t[0].intersectionRatio;if(r!==l){if(!x)return s();r?s(!1,r):n=setTimeout(()=>{s(!1,1e-7)},1e3)}1!==r||pi(c,e.getBoundingClientRect())||s(),x=!1}try{r=new IntersectionObserver(y,f(h({},g),{root:i.ownerDocument}))}catch(v){r=new IntersectionObserver(y,g)}r.observe(e)}(!0),a}(c,n):null;let m,p=-1,g=null;s&&(g=new ResizeObserver(e=>{let[r]=e;r&&r.target===c&&g&&(g.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=g)||e.observe(t)})),n()}),c&&!l&&g.observe(c),g.observe(t));let x=l?ai(e):null;return l&&function t(){const r=ai(e);x&&!pi(x,r)&&n(),x=r,m=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach(e=>{i&&e.removeEventListener("scroll",n),a&&e.removeEventListener("resize",n)}),null==d||d(),null==(e=g)||e.disconnect(),g=null,l&&cancelAnimationFrame(m)}}const xi=function(e){return void 0===e&&(e=0),{name:"offset",options:e,fn(t){return g(this,null,function*(){var n,r;const{x:i,y:a,placement:s,middlewareData:o}=t,l=yield function(e,t){return g(this,null,function*(){const{placement:n,platform:r,elements:i}=e,a=yield null==r.isRTL?void 0:r.isRTL(i.floating),s=br(n),o=_r(n),l="y"===Nr(n),c=["left","top"].includes(s)?-1:1,u=a&&l?-1:1,d=vr(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:m}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return o&&"number"==typeof m&&(f="end"===o?-1*m:m),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}})}(t,e);return s===(null==(n=o.offset)?void 0:n.placement)&&null!=(r=o.arrow)&&r.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:f(h({},l),{placement:s})}})}}},yi=function(e){return void 0===e&&(e={}),{name:"shift",options:e,fn(t){return g(this,null,function*(){const{x:n,y:r,placement:i}=t,a=vr(e,t),{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}}}=a,c=m(a,["mainAxis","crossAxis","limiter"]),u={x:n,y:r},d=yield Or(t,c),p=Nr(br(i)),g=wr(p);let x=u[g],y=u[p];if(s){const e="y"===g?"bottom":"right";x=yr(x+d["y"===g?"top":"left"],x,x-d[e])}if(o){const e="y"===p?"bottom":"right";y=yr(y+d["y"===p?"top":"left"],y,y-d[e])}const v=l.fn(f(h({},t),{[g]:x,[p]:y}));return f(h({},v),{data:{x:v.x-n,y:v.y-r,enabled:{[g]:s,[p]:o}}})})}}},vi=function(e){return void 0===e&&(e={}),{name:"flip",options:e,fn(t){return g(this,null,function*(){var n,r;const{placement:i,middlewareData:a,rects:s,initialPlacement:o,platform:l,elements:c}=t,u=vr(e,t),{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:x=!0}=u,y=m(u,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if(null!=(n=a.arrow)&&n.alignmentOffset)return{};const v=br(i),b=Nr(o),_=br(o)===o,w=yield null==l.isRTL?void 0:l.isRTL(c.floating),j=f||(_||!x?[Cr(o)]:function(e){const t=Cr(e);return[Sr(e),t,Sr(t)]}(o)),N="none"!==g;!f&&N&&j.push(...function(e,t,n,r){const i=_r(e);let a=function(e,t,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?a:s;default:return[]}}(br(e),"start"===n,r);return i&&(a=a.map(e=>e+"-"+i),t&&(a=a.concat(a.map(Sr)))),a}(o,x,g,w));const k=[o,...j],S=yield Or(t,y),C=[];let E=(null==(r=a.flip)?void 0:r.overflows)||[];if(d&&C.push(S[v]),h){const e=function(e,t,n){void 0===n&&(n=!1);const r=_r(e),i=kr(e),a=jr(i);let s="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[a]>t.floating[a]&&(s=Cr(s)),[s,Cr(s)]}(i,s,w);C.push(S[e[0]],S[e[1]])}if(E=[...E,{placement:i,overflows:C}],!C.every(e=>e<=0)){var P,M;const e=((null==(P=a.flip)?void 0:P.index)||0)+1,t=k[e];if(t&&("alignment"!==h||b===Nr(t)||E.every(e=>e.overflows[0]>0&&Nr(e.placement)===b)))return{data:{index:e,overflows:E},reset:{placement:t}};let n=null==(M=E.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:M.placement;if(!n)switch(p){case"bestFit":{var O;const e=null==(O=E.filter(e=>{if(N){const t=Nr(e.placement);return t===b||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:O[0];e&&(n=e);break}case"initialPlacement":n=o}if(i!==n)return{reset:{placement:n}}}return{}})}}},bi=function(e){return void 0===e&&(e={}),{name:"size",options:e,fn(t){return g(this,null,function*(){var n,r;const{placement:i,rects:a,platform:s,elements:o}=t,l=vr(e,t),{apply:c=()=>{}}=l,u=m(l,["apply"]),d=yield Or(t,u),p=br(i),g=_r(i),x="y"===Nr(i),{width:y,height:v}=a.floating;let b,_;"top"===p||"bottom"===p?(b=p,_=g===((yield null==s.isRTL?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(_=p,b="end"===g?"top":"bottom");const w=v-d.top-d.bottom,j=y-d.left-d.right,N=dr(v-d[b],w),k=dr(y-d[_],j),S=!t.middlewareData.shift;let C=N,E=k;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(E=j),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(C=w),S&&!g){const e=hr(d.left,0),t=hr(d.right,0),n=hr(d.top,0),r=hr(d.bottom,0);x?E=y-2*(0!==e||0!==t?e+t:hr(d.left,d.right)):C=v-2*(0!==n||0!==r?n+r:hr(d.top,d.bottom))}yield c(f(h({},t),{availableWidth:E,availableHeight:C}));const P=yield s.getDimensions(o.floating);return y!==P.width||v!==P.height?{reset:{rects:!0}}:{}})}}},_i=function(e){return void 0===e&&(e={}),{name:"hide",options:e,fn(t){return g(this,null,function*(){const{rects:n}=t,r=vr(e,t),{strategy:i="referenceHidden"}=r,a=m(r,["strategy"]);switch(i){case"referenceHidden":{const e=Ar(yield Or(t,f(h({},a),{elementContext:"reference"})),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:Tr(e)}}}case"escaped":{const e=Ar(yield Or(t,f(h({},a),{altBoundary:!0})),n.floating);return{data:{escapedOffsets:e,escaped:Tr(e)}}}default:return{}}})}}},wi=e=>({name:"arrow",options:e,fn(t){return g(this,null,function*(){const{x:n,y:r,placement:i,rects:a,platform:s,elements:o,middlewareData:l}=t,{element:c,padding:u=0}=vr(e,t)||{};if(null==c)return{};const d=Er(u),f={x:n,y:r},m=kr(i),p=jr(m),g=yield s.getDimensions(c),x="y"===m,y=x?"top":"left",v=x?"bottom":"right",b=x?"clientHeight":"clientWidth",_=a.reference[p]+a.reference[m]-f[m]-a.floating[p],w=f[m]-a.reference[m],j=yield null==s.getOffsetParent?void 0:s.getOffsetParent(c);let N=j?j[b]:0;N&&(yield null==s.isElement?void 0:s.isElement(j))||(N=o.floating[b]||a.floating[p]);const k=_/2-w/2,S=N/2-g[p]/2-1,C=dr(d[y],S),E=dr(d[v],S),P=C,M=N-g[p]-E,O=N/2-g[p]/2+k,A=yr(P,O,M),T=!l.arrow&&null!=_r(i)&&O!==A&&a.reference[p]/2-(O<P?C:E)-g[p]/2<0,D=T?O<P?O-P:O-M:0;return{[m]:f[m]+D,data:h({[m]:A,centerOffset:O-A-D},T&&{alignmentOffset:D}),reset:T}})}}),ji=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:a,middlewareData:s}=t,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=vr(e,t),u={x:n,y:r},d=Nr(i),f=wr(d);let m=u[f],p=u[d];const g=vr(o,t),x="number"==typeof g?{mainAxis:g,crossAxis:0}:h({mainAxis:0,crossAxis:0},g);if(l){const e="y"===f?"height":"width",t=a.reference[f]-a.floating[e]+x.mainAxis,n=a.reference[f]+a.reference[e]-x.mainAxis;m<t?m=t:m>n&&(m=n)}if(c){var y,v;const e="y"===f?"width":"height",t=["top","left"].includes(br(i)),n=a.reference[d]-a.floating[e]+(t&&(null==(y=s.offset)?void 0:y[d])||0)+(t?0:x.crossAxis),r=a.reference[d]+a.reference[e]+(t?0:(null==(v=s.offset)?void 0:v[d])||0)-(t?x.crossAxis:0);p<n?p=n:p>r&&(p=r)}return{[f]:m,[d]:p}}}},Ni=(e,t,n)=>{const r=new Map,i=h({platform:mi},n),a=f(h({},i.platform),{_c:r});return((e,t,n)=>g(null,null,function*(){const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:s}=n,o=a.filter(Boolean),l=yield null==s.isRTL?void 0:s.isRTL(t);let c=yield s.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=Mr(c,r,l),m=r,p={},g=0;for(let n=0;n<o.length;n++){const{name:a,fn:x}=o[n],{x:y,y:v,data:b,reset:_}=yield x({x:u,y:d,initialPlacement:r,placement:m,strategy:i,middlewareData:p,rects:c,platform:s,elements:{reference:e,floating:t}});u=null!=y?y:u,d=null!=v?v:d,p=f(h({},p),{[a]:h(h({},p[a]),b)}),_&&g<=50&&(g++,"object"==typeof _&&(_.placement&&(m=_.placement),_.rects&&(c=!0===_.rects?yield s.getElementRects({reference:e,floating:t,strategy:i}):_.rects),({x:u,y:d}=Mr(c,m,l))),n=-1)}return{x:u,y:d,placement:m,strategy:i,middlewareData:p}}))(e,t,f(h({},i),{platform:a}))};var ki="undefined"!=typeof document?N.useLayoutEffect:function(){};function Si(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!Si(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!==r--;){const n=i[r];if(!("_owner"===n&&e.$$typeof||Si(e[n],t[n])))return!1}return!0}return e!=e&&t!=t}function Ci(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ei(e,t){const n=Ci(e);return Math.round(t*n)/n}function Pi(e){const t=N.useRef(e);return ki(()=>{t.current=e}),t}const Mi=(e,t)=>f(h({},yi(e)),{options:[e,t]}),Oi=(e,t)=>f(h({},ji(e)),{options:[e,t]}),Ai=(e,t)=>f(h({},vi(e)),{options:[e,t]}),Ti=(e,t)=>f(h({},bi(e)),{options:[e,t]}),Di=(e,t)=>f(h({},_i(e)),{options:[e,t]}),Ri=(e,t)=>f(h({},(e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"==typeof e?e(t):e;return n&&(i=n,{}.hasOwnProperty.call(i,"current"))?null!=n.current?wi({element:n.current,padding:r}).fn(t):{}:n?wi({element:n,padding:r}).fn(t):{};var i}}))(e)),{options:[e,t]});var Ii=N.forwardRef((e,t)=>{const n=e,{children:r,width:i=10,height:a=5}=n,s=m(n,["children","width","height"]);return v.jsx(kn.svg,f(h({},s),{ref:t,width:i,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:v.jsx("polygon",{points:"0,0 30,0 15,10"})}))});Ii.displayName="Arrow";var Li=Ii,zi="Popper",[Fi,Bi]=Cn(zi),[Wi,$i]=Fi(zi),Vi=e=>{const{__scopePopper:t,children:n}=e,[r,i]=N.useState(null);return v.jsx(Wi,{scope:t,anchor:r,onAnchorChange:i,children:n})};Vi.displayName=zi;var Ki="PopperAnchor",Hi=N.forwardRef((e,t)=>{const n=e,{__scopePopper:r,virtualRef:i}=n,a=m(n,["__scopePopper","virtualRef"]),s=$i(Ki,r),o=N.useRef(null),l=Je(t,o);return N.useEffect(()=>{s.onAnchorChange((null==i?void 0:i.current)||o.current)}),i?null:v.jsx(kn.div,f(h({},a),{ref:l}))});Hi.displayName=Ki;var Ui="PopperContent",[Yi,qi]=Fi(Ui),Gi=N.forwardRef((e,t)=>{var n,r,i,a,s,o,l,c;const u=e,{__scopePopper:d,side:p="bottom",sideOffset:g=0,align:x="center",alignOffset:y=0,arrowPadding:b=0,avoidCollisions:_=!0,collisionBoundary:w=[],collisionPadding:j=0,sticky:k="partial",hideWhenDetached:S=!1,updatePositionStrategy:C="optimized",onPlaced:E}=u,P=m(u,["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"]),M=$i(Ui,d),[O,A]=N.useState(null),T=Je(t,e=>A(e)),[D,R]=N.useState(null),I=zn(D),L=null!=(n=null==I?void 0:I.width)?n:0,z=null!=(r=null==I?void 0:I.height)?r:0,F=p+("center"!==x?"-"+x:""),B="number"==typeof j?j:h({top:0,right:0,bottom:0,left:0},j),W=Array.isArray(w)?w:[w],$=W.length>0,V={padding:B,boundary:W.filter(Ji),altBoundary:$},{refs:K,floatingStyles:H,placement:U,isPositioned:Y,middlewareData:q}=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:s}={},transform:o=!0,whileElementsMounted:l,open:c}=e,[u,d]=N.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=N.useState(r);Si(m,r)||p(r);const[g,x]=N.useState(null),[y,v]=N.useState(null),b=N.useCallback(e=>{e!==k.current&&(k.current=e,x(e))},[]),_=N.useCallback(e=>{e!==S.current&&(S.current=e,v(e))},[]),w=a||g,j=s||y,k=N.useRef(null),S=N.useRef(null),C=N.useRef(u),E=null!=l,P=Pi(l),M=Pi(i),O=Pi(c),A=N.useCallback(()=>{if(!k.current||!S.current)return;const e={placement:t,strategy:n,middleware:m};M.current&&(e.platform=M.current),Ni(k.current,S.current,e).then(e=>{const t=f(h({},e),{isPositioned:!1!==O.current});T.current&&!Si(C.current,t)&&(C.current=t,jn.flushSync(()=>{d(t)}))})},[m,t,n,M,O]);ki(()=>{!1===c&&C.current.isPositioned&&(C.current.isPositioned=!1,d(e=>f(h({},e),{isPositioned:!1})))},[c]);const T=N.useRef(!1);ki(()=>(T.current=!0,()=>{T.current=!1}),[]),ki(()=>{if(w&&(k.current=w),j&&(S.current=j),w&&j){if(P.current)return P.current(w,j,A);A()}},[w,j,A,P,E]);const D=N.useMemo(()=>({reference:k,floating:S,setReference:b,setFloating:_}),[b,_]),R=N.useMemo(()=>({reference:w,floating:j}),[w,j]),I=N.useMemo(()=>{const e={position:n,left:0,top:0};if(!R.floating)return e;const t=Ei(R.floating,u.x),r=Ei(R.floating,u.y);return o?h(f(h({},e),{transform:"translate("+t+"px, "+r+"px)"}),Ci(R.floating)>=1.5&&{willChange:"transform"}):{position:n,left:t,top:r}},[n,o,R.floating,u.x,u.y]);return N.useMemo(()=>f(h({},u),{update:A,refs:D,elements:R,floatingStyles:I}),[u,A,D,R,I])}({strategy:"fixed",placement:F,whileElementsMounted:(...e)=>gi(...e,{animationFrame:"always"===C}),elements:{reference:M.anchor},middleware:[(G={mainAxis:g+z,alignmentAxis:y},f(h({},xi(G)),{options:[G,X]})),_&&Mi(h({mainAxis:!0,crossAxis:!1,limiter:"partial"===k?Oi():void 0},V)),_&&Ai(h({},V)),Ti(f(h({},V),{apply:({elements:e,rects:t,availableWidth:n,availableHeight:r})=>{const{width:i,height:a}=t.reference,s=e.floating.style;s.setProperty("--radix-popper-available-width",`${n}px`),s.setProperty("--radix-popper-available-height",`${r}px`),s.setProperty("--radix-popper-anchor-width",`${i}px`),s.setProperty("--radix-popper-anchor-height",`${a}px`)}})),D&&Ri({element:D,padding:b}),ea({arrowWidth:L,arrowHeight:z}),S&&Di(h({strategy:"referenceHidden"},V))]});var G,X;const[Q,Z]=ta(U),J=Dn(E);Mn(()=>{Y&&(null==J||J())},[Y,J]);const ee=null==(i=q.arrow)?void 0:i.x,te=null==(a=q.arrow)?void 0:a.y,ne=0!==(null==(s=q.arrow)?void 0:s.centerOffset),[re,ie]=N.useState();return Mn(()=>{O&&ie(window.getComputedStyle(O).zIndex)},[O]),v.jsx("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:h(f(h({},H),{transform:Y?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:re,"--radix-popper-transform-origin":[null==(o=q.transformOrigin)?void 0:o.x,null==(l=q.transformOrigin)?void 0:l.y].join(" ")}),(null==(c=q.hide)?void 0:c.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:v.jsx(Yi,{scope:d,placedSide:Q,onArrowChange:R,arrowX:ee,arrowY:te,shouldHideArrow:ne,children:v.jsx(kn.div,f(h({"data-side":Q,"data-align":Z},P),{ref:T,style:f(h({},P.style),{animation:Y?void 0:"none"})}))})})});Gi.displayName=Ui;var Xi="PopperArrow",Qi={top:"bottom",right:"left",bottom:"top",left:"right"},Zi=N.forwardRef(function(e,t){const n=e,{__scopePopper:r}=n,i=m(n,["__scopePopper"]),a=qi(Xi,r),s=Qi[a.placedSide];return v.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:v.jsx(Li,f(h({},i),{ref:t,style:f(h({},i.style),{display:"block"})}))})});function Ji(e){return null!==e}Zi.displayName=Xi;var ea=e=>({name:"transformOrigin",options:e,fn(t){var n,r,i,a,s;const{placement:o,rects:l,middlewareData:c}=t,u=0!==(null==(n=c.arrow)?void 0:n.centerOffset),d=u?0:e.arrowWidth,h=u?0:e.arrowHeight,[f,m]=ta(o),p={start:"0%",center:"50%",end:"100%"}[m],g=(null!=(i=null==(r=c.arrow)?void 0:r.x)?i:0)+d/2,x=(null!=(s=null==(a=c.arrow)?void 0:a.y)?s:0)+h/2;let y="",v="";return"bottom"===f?(y=u?p:`${g}px`,v=-h+"px"):"top"===f?(y=u?p:`${g}px`,v=`${l.floating.height+h}px`):"right"===f?(y=-h+"px",v=u?p:`${x}px`):"left"===f&&(y=`${l.floating.width+h}px`,v=u?p:`${x}px`),{data:{x:y,y:v}}}});function ta(e){const[t,n="center"]=e.split("-");return[t,n]}var na=Vi,ra=Hi,ia=Gi,aa=Zi,sa=N.forwardRef((e,t)=>{var n;const r=e,{container:i}=r,a=m(r,["container"]),[s,o]=N.useState(!1);Mn(()=>o(!0),[]);const l=i||s&&(null==(n=null==globalThis?void 0:globalThis.document)?void 0:n.body);return l?Nn.createPortal(v.jsx(kn.div,f(h({},a),{ref:t})),l):null});sa.displayName="Portal";var oa=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"});N.forwardRef((e,t)=>v.jsx(kn.span,f(h({},e),{ref:t,style:h(h({},oa),e.style)}))).displayName="VisuallyHidden";var la=new WeakMap,ca=new WeakMap,ua={},da=0,ha=function(e){return e&&(e.host||ha(e.parentNode))},fa=function(e,t,n,r){var i=function(e,t){return t.map(function(t){if(e.contains(t))return t;var n=ha(t);return n&&e.contains(n)?n:null}).filter(function(e){return Boolean(e)})}(t,Array.isArray(e)?e:[e]);ua[n]||(ua[n]=new WeakMap);var a=ua[n],s=[],o=new Set,l=new Set(i),c=function(e){e&&!o.has(e)&&(o.add(e),c(e.parentNode))};i.forEach(c);var u=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(o.has(e))u(e);else try{var t=e.getAttribute(r),i=null!==t&&"false"!==t,l=(la.get(e)||0)+1,c=(a.get(e)||0)+1;la.set(e,l),a.set(e,c),s.push(e),1===l&&i&&ca.set(e,!0),1===c&&e.setAttribute(n,"true"),i||e.setAttribute(r,"true")}catch(d){}})};return u(t),o.clear(),da++,function(){s.forEach(function(e){var t=la.get(e)-1,i=a.get(e)-1;la.set(e,t),a.set(e,i),t||(ca.has(e)||e.removeAttribute(r),ca.delete(e)),i||e.removeAttribute(n)}),--da||(la=new WeakMap,la=new WeakMap,ca=new WeakMap,ua={})}},ma=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),fa(r,i,n,"aria-hidden")):function(){return null}},pa=function(){return pa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},pa.apply(this,arguments)};function ga(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}"function"==typeof SuppressedError&&SuppressedError;var xa="right-scroll-bar-position",ya="width-before-scroll-bar";function va(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var ba="undefined"!=typeof window?N.useLayoutEffect:N.useEffect,_a=new WeakMap;function wa(e,t){var n,r,i,a=(n=null,r=function(t){return e.forEach(function(e){return va(e,t)})},(i=N.useState(function(){return{value:n,callback:r,facade:{get current(){return i.value},set current(e){var t=i.value;t!==e&&(i.value=e,i.callback(e,t))}}}})[0]).callback=r,i.facade);return ba(function(){var t=_a.get(a);if(t){var n=new Set(t),r=new Set(e),i=a.current;n.forEach(function(e){r.has(e)||va(e,null)}),r.forEach(function(e){n.has(e)||va(e,i)})}_a.set(a,e)},[e]),a}function ja(e){return e}var Na=function(e){var t=e.sideCar,n=ga(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return N.createElement(r,pa({},n))};Na.isSideCarExport=!0;var ka=function(e){void 0===e&&(e={});var t=function(e,t){void 0===t&&(t=ja);var n=[],r=!1;return{read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var i=t(e,r);return n.push(i),function(){n=n.filter(function(e){return e!==i})}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var i=n;n=[],i.forEach(e),t=n}var a=function(){var n=t;t=[],n.forEach(e)},s=function(){return Promise.resolve().then(a)};s(),n={push:function(e){t.push(e),s()},filter:function(e){return t=t.filter(e),n}}}}}(null);return t.options=pa({async:!0,ssr:!1},e),t}(),Sa=function(){},Ca=N.forwardRef(function(e,t){var n=N.useRef(null),r=N.useState({onScrollCapture:Sa,onWheelCapture:Sa,onTouchMoveCapture:Sa}),i=r[0],a=r[1],s=e.forwardProps,o=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,d=e.shards,h=e.sideCar,f=e.noRelative,m=e.noIsolation,p=e.inert,g=e.allowPinchZoom,x=e.as,y=void 0===x?"div":x,v=e.gapMode,b=ga(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,w=wa([n,t]),j=pa(pa({},b),i);return N.createElement(N.Fragment,null,u&&N.createElement(_,{sideCar:ka,removeScrollBar:c,shards:d,noRelative:f,noIsolation:m,inert:p,setCallbacks:a,allowPinchZoom:!!g,lockRef:n,gapMode:v}),s?N.cloneElement(N.Children.only(o),pa(pa({},j),{ref:w})):N.createElement(y,pa({},j,{className:l,ref:w}),o))});function Ea(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=function(){if("undefined"!=typeof __webpack_nonce__)return __webpack_nonce__}();return t&&e.setAttribute("nonce",t),e}Ca.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},Ca.classNames={fullWidth:ya,zeroRight:xa};var Pa=function(){var e=0,t=null;return{add:function(n){var r,i;0==e&&(t=Ea())&&(i=n,(r=t).styleSheet?r.styleSheet.cssText=i:r.appendChild(document.createTextNode(i)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Ma=function(){var e,t=(e=Pa(),function(t,n){N.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])});return function(e){var n=e.styles,r=e.dynamic;return t(n,r),null}},Oa={left:0,top:0,right:0,gap:0},Aa=function(e){return parseInt(e||"",10)||0},Ta=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return Oa;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[Aa(n),Aa(r),Aa(i)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Da=Ma(),Ra="data-scroll-locked",Ia=function(e,t,n,r){var i=e.left,a=e.top,s=e.right,o=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(o,"px ").concat(r,";\n  }\n  body[").concat(Ra,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(a,"px;\n    padding-right: ").concat(s,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(o,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(xa," {\n    right: ").concat(o,"px ").concat(r,";\n  }\n  \n  .").concat(ya," {\n    margin-right: ").concat(o,"px ").concat(r,";\n  }\n  \n  .").concat(xa," .").concat(xa," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(ya," .").concat(ya," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(Ra,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(o,"px;\n  }\n")},La=function(){var e=parseInt(document.body.getAttribute(Ra)||"0",10);return isFinite(e)?e:0},za=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=void 0===r?"margin":r;N.useEffect(function(){return document.body.setAttribute(Ra,(La()+1).toString()),function(){var e=La()-1;e<=0?document.body.removeAttribute(Ra):document.body.setAttribute(Ra,e.toString())}},[]);var a=N.useMemo(function(){return Ta(i)},[i]);return N.createElement(Da,{styles:Ia(a,!t,i,n?"":"!important")})},Fa=!1;if("undefined"!=typeof window)try{var Ba=Object.defineProperty({},"passive",{get:function(){return Fa=!0,!0}});window.addEventListener("test",Ba,Ba),window.removeEventListener("test",Ba,Ba)}catch(Wae){Fa=!1}var Wa=!!Fa&&{passive:!1},$a=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},Va=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!=typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),Ka(e,r)){var i=Ha(e,r);if(i[1]>i[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Ka=function(e,t){return"v"===e?function(e){return $a(e,"overflowY")}(t):function(e){return $a(e,"overflowX")}(t)},Ha=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},Ua=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ya=function(e){return[e.deltaX,e.deltaY]},qa=function(e){return e&&"current"in e?e.current:e},Ga=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},Xa=0,Qa=[];function Za(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Ja=(es=function(e){var t=N.useRef([]),n=N.useRef([0,0]),r=N.useRef(),i=N.useState(Xa++)[0],a=N.useState(Ma)[0],s=N.useRef(e);N.useEffect(function(){s.current=e},[e]),N.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([e.lockRef.current],(e.shards||[]).map(qa),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var o=N.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!s.current.allowPinchZoom;var i,a=Ua(e),o=n.current,l="deltaX"in e?e.deltaX:o[0]-a[0],c="deltaY"in e?e.deltaY:o[1]-a[1],u=e.target,d=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var h=Va(d,u);if(!h)return!0;if(h?i=d:(i="v"===d?"h":"v",h=Va(d,u)),!h)return!1;if(!r.current&&"changedTouches"in e&&(l||c)&&(r.current=i),!i)return!0;var f=r.current||i;return function(e,t,n,r){var i=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),a=i*r,s=n.target,o=t.contains(s),l=!1,c=a>0,u=0,d=0;do{if(!s)break;var h=Ha(e,s),f=h[0],m=h[1]-h[2]-i*f;(f||m)&&Ka(e,s)&&(u+=m,d+=f);var p=s.parentNode;s=p&&p.nodeType===Node.DOCUMENT_FRAGMENT_NODE?p.host:p}while(!o&&s!==document.body||o&&(t.contains(s)||t===s));return(c&&Math.abs(u)<1||!c&&Math.abs(d)<1)&&(l=!0),l}(f,t,e,"h"===f?l:c)},[]),l=N.useCallback(function(e){var n=e;if(Qa.length&&Qa[Qa.length-1]===a){var r="deltaY"in n?Ya(n):Ua(n),i=t.current.filter(function(e){return e.name===n.type&&(e.target===n.target||n.target===e.shadowParent)&&(t=e.delta,i=r,t[0]===i[0]&&t[1]===i[1]);var t,i})[0];if(i&&i.should)n.cancelable&&n.preventDefault();else if(!i){var l=(s.current.shards||[]).map(qa).filter(Boolean).filter(function(e){return e.contains(n.target)});(l.length>0?o(n,l[0]):!s.current.noIsolation)&&n.cancelable&&n.preventDefault()}}},[]),c=N.useCallback(function(e,n,r,i){var a={name:e,delta:n,target:r,should:i,shadowParent:Za(r)};t.current.push(a),setTimeout(function(){t.current=t.current.filter(function(e){return e!==a})},1)},[]),u=N.useCallback(function(e){n.current=Ua(e),r.current=void 0},[]),d=N.useCallback(function(t){c(t.type,Ya(t),t.target,o(t,e.lockRef.current))},[]),h=N.useCallback(function(t){c(t.type,Ua(t),t.target,o(t,e.lockRef.current))},[]);N.useEffect(function(){return Qa.push(a),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Wa),document.addEventListener("touchmove",l,Wa),document.addEventListener("touchstart",u,Wa),function(){Qa=Qa.filter(function(e){return e!==a}),document.removeEventListener("wheel",l,Wa),document.removeEventListener("touchmove",l,Wa),document.removeEventListener("touchstart",u,Wa)}},[]);var f=e.removeScrollBar,m=e.inert;return N.createElement(N.Fragment,null,m?N.createElement(a,{styles:Ga(i)}):null,f?N.createElement(za,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},ka.useMedium(es),Na);var es,ts=N.forwardRef(function(e,t){return N.createElement(Ca,pa({},e,{ref:t,sideCar:Ja}))});ts.classNames=Ca.classNames;var ns=[" ","Enter","ArrowUp","ArrowDown"],rs=[" ","Enter"],is="Select",[as,ss,os]=Pn(is),[ls,cs]=Cn(is,[os,Bi]),us=Bi(),[ds,hs]=ls(is),[fs,ms]=ls(is),ps="SelectTrigger",gs=N.forwardRef((e,t)=>{const n=e,{__scopeSelect:r,disabled:i=!1}=n,a=m(n,["__scopeSelect","disabled"]),s=us(r),o=hs(ps,r),l=o.disabled||i,c=Je(t,o.onTriggerChange),u=ss(r),d=N.useRef("touch"),[p,g,x]=eo(e=>{const t=u().filter(e=>!e.disabled),n=t.find(e=>e.value===o.value),r=to(t,e,n);void 0!==r&&o.onValueChange(r.value)}),y=e=>{l||(o.onOpenChange(!0),x()),e&&(o.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return v.jsx(ra,f(h({asChild:!0},s),{children:v.jsx(kn.button,f(h({type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Js(o.value)?"":void 0},a),{ref:c,onClick:Sn(a.onClick,e=>{e.currentTarget.focus(),"mouse"!==d.current&&y(e)}),onPointerDown:Sn(a.onPointerDown,e=>{d.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(y(e),e.preventDefault())}),onKeyDown:Sn(a.onKeyDown,e=>{const t=""!==p.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||g(e.key),t&&" "===e.key||ns.includes(e.key)&&(y(),e.preventDefault())})}))}))});gs.displayName=ps;var xs="SelectValue";N.forwardRef((e,t)=>{const n=e,{__scopeSelect:r,className:i,style:a,children:s,placeholder:o=""}=n,l=m(n,["__scopeSelect","className","style","children","placeholder"]),c=hs(xs,r),{onValueNodeHasChildrenChange:u}=c,d=void 0!==s,p=Je(t,c.onValueNodeChange);return Mn(()=>{u(d)},[u,d]),v.jsx(kn.span,f(h({},l),{ref:p,style:{pointerEvents:"none"},children:Js(c.value)?v.jsx(v.Fragment,{children:o}):s}))}).displayName=xs;var ys=N.forwardRef((e,t)=>{const n=e,{__scopeSelect:r,children:i}=n,a=m(n,["__scopeSelect","children"]);return v.jsx(kn.span,f(h({"aria-hidden":!0},a),{ref:t,children:i||""}))});ys.displayName="SelectIcon";var vs=e=>v.jsx(sa,h({asChild:!0},e));vs.displayName="SelectPortal";var bs="SelectContent",_s=N.forwardRef((e,t)=>{const n=hs(bs,e.__scopeSelect),[r,i]=N.useState();if(Mn(()=>{i(new DocumentFragment)},[]),!n.open){const t=r;return t?jn.createPortal(v.jsx(js,{scope:e.__scopeSelect,children:v.jsx(as.Slot,{scope:e.__scopeSelect,children:v.jsx("div",{children:e.children})})}),t):null}return v.jsx(Ss,f(h({},e),{ref:t}))});_s.displayName=bs;var ws=10,[js,Ns]=ls(bs),ks=et("SelectContent.RemoveScroll"),Ss=N.forwardRef((e,t)=>{const n=e,{__scopeSelect:r,position:i="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:p,collisionBoundary:g,collisionPadding:x,sticky:y,hideWhenDetached:b,avoidCollisions:_}=n,w=m(n,["__scopeSelect","position","onCloseAutoFocus","onEscapeKeyDown","onPointerDownOutside","side","sideOffset","align","alignOffset","arrowPadding","collisionBoundary","collisionPadding","sticky","hideWhenDetached","avoidCollisions"]),j=hs(bs,r),[k,S]=N.useState(null),[C,E]=N.useState(null),P=Je(t,e=>S(e)),[M,O]=N.useState(null),[A,T]=N.useState(null),D=ss(r),[R,I]=N.useState(!1),L=N.useRef(!1);N.useEffect(()=>{if(k)return ma(k)},[k]),Zn();const z=N.useCallback(e=>{const[t,...n]=D().map(e=>e.ref.current),[r]=n.slice(-1),i=document.activeElement;for(const a of e){if(a===i)return;if(null==a||a.scrollIntoView({block:"nearest"}),a===t&&C&&(C.scrollTop=0),a===r&&C&&(C.scrollTop=C.scrollHeight),null==a||a.focus(),document.activeElement!==i)return}},[D,C]),F=N.useCallback(()=>z([M,k]),[z,M,k]);N.useEffect(()=>{R&&F()},[R,F]);const{onOpenChange:B,triggerPointerDownPosRef:W}=j;N.useEffect(()=>{if(k){let e={x:0,y:0};const t=t=>{var n,r,i,a;e={x:Math.abs(Math.round(t.pageX)-(null!=(r=null==(n=W.current)?void 0:n.x)?r:0)),y:Math.abs(Math.round(t.pageY)-(null!=(a=null==(i=W.current)?void 0:i.y)?a:0))}},n=n=>{e.x<=10&&e.y<=10?n.preventDefault():k.contains(n.target)||B(!1),document.removeEventListener("pointermove",t),W.current=null};return null!==W.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",n,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",n,{capture:!0})}}},[k,B,W]),N.useEffect(()=>{const e=()=>B(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[B]);const[$,V]=eo(e=>{const t=D().filter(e=>!e.disabled),n=t.find(e=>e.ref.current===document.activeElement),r=to(t,e,n);r&&setTimeout(()=>r.ref.current.focus())}),K=N.useCallback((e,t,n)=>{const r=!L.current&&!n;(void 0!==j.value&&j.value===t||r)&&(O(e),r&&(L.current=!0))},[j.value]),H=N.useCallback(()=>null==k?void 0:k.focus(),[k]),U=N.useCallback((e,t,n)=>{const r=!L.current&&!n;(void 0!==j.value&&j.value===t||r)&&T(e)},[j.value]),Y="popper"===i?Es:Cs,q=Y===Es?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:p,collisionBoundary:g,collisionPadding:x,sticky:y,hideWhenDetached:b,avoidCollisions:_}:{};return v.jsx(js,{scope:r,content:k,viewport:C,onViewportChange:E,itemRefCallback:K,selectedItem:M,onItemLeave:H,itemTextRefCallback:U,focusSelectedItem:F,selectedItemText:A,position:i,isPositioned:R,searchRef:$,children:v.jsx(ts,{as:ks,allowPinchZoom:!0,children:v.jsx(rr,{asChild:!0,trapped:j.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:Sn(a,e=>{var t;null==(t=j.trigger)||t.focus({preventScroll:!0}),e.preventDefault()}),children:v.jsx(qn,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:v.jsx(Y,f(h(h({role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:e=>e.preventDefault()},w),q),{onPlaced:()=>I(!0),ref:P,style:h({display:"flex",flexDirection:"column",outline:"none"},w.style),onKeyDown:Sn(w.onKeyDown,e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||V(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=D().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const n=e.target,r=t.indexOf(n);t=t.slice(r+1)}setTimeout(()=>z(t)),e.preventDefault()}})}))})})})})});Ss.displayName="SelectContentImpl";var Cs=N.forwardRef((e,t)=>{const n=e,{__scopeSelect:r,onPlaced:i}=n,a=m(n,["__scopeSelect","onPlaced"]),s=hs(bs,r),o=Ns(bs,r),[l,c]=N.useState(null),[u,d]=N.useState(null),p=Je(t,e=>d(e)),g=ss(r),x=N.useRef(!1),y=N.useRef(!0),{viewport:b,selectedItem:_,selectedItemText:w,focusSelectedItem:j}=o,k=N.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&b&&_&&w){const e=s.trigger.getBoundingClientRect(),t=u.getBoundingClientRect(),n=s.valueNode.getBoundingClientRect(),r=w.getBoundingClientRect();if("rtl"!==s.dir){const i=r.left-t.left,a=n.left-i,s=e.left-a,o=e.width+s,c=Math.max(o,t.width),u=window.innerWidth-ws,d=$n(a,[ws,Math.max(ws,u-c)]);l.style.minWidth=o+"px",l.style.left=d+"px"}else{const i=t.right-r.right,a=window.innerWidth-n.right-i,s=window.innerWidth-e.right-a,o=e.width+s,c=Math.max(o,t.width),u=window.innerWidth-ws,d=$n(a,[ws,Math.max(ws,u-c)]);l.style.minWidth=o+"px",l.style.right=d+"px"}const a=g(),o=window.innerHeight-2*ws,c=b.scrollHeight,d=window.getComputedStyle(u),h=parseInt(d.borderTopWidth,10),f=parseInt(d.paddingTop,10),m=parseInt(d.borderBottomWidth,10),p=h+f+c+parseInt(d.paddingBottom,10)+m,y=Math.min(5*_.offsetHeight,p),v=window.getComputedStyle(b),j=parseInt(v.paddingTop,10),N=parseInt(v.paddingBottom,10),k=e.top+e.height/2-ws,S=o-k,C=_.offsetHeight/2,E=h+f+(_.offsetTop+C),P=p-E;if(E<=k){const e=a.length>0&&_===a[a.length-1].ref.current;l.style.bottom="0px";const t=u.clientHeight-b.offsetTop-b.offsetHeight,n=E+Math.max(S,C+(e?N:0)+t+m);l.style.height=n+"px"}else{const e=a.length>0&&_===a[0].ref.current;l.style.top="0px";const t=Math.max(k,h+b.offsetTop+(e?j:0)+C)+P;l.style.height=t+"px",b.scrollTop=E-k+b.offsetTop}l.style.margin=`${ws}px 0`,l.style.minHeight=y+"px",l.style.maxHeight=o+"px",null==i||i(),requestAnimationFrame(()=>x.current=!0)}},[g,s.trigger,s.valueNode,l,u,b,_,w,s.dir,i]);Mn(()=>k(),[k]);const[S,C]=N.useState();Mn(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const E=N.useCallback(e=>{e&&!0===y.current&&(k(),null==j||j(),y.current=!1)},[k,j]);return v.jsx(Ps,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:E,children:v.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:v.jsx(kn.div,f(h({},a),{ref:p,style:h({boxSizing:"border-box",maxHeight:"100%"},a.style)}))})})});Cs.displayName="SelectItemAlignedPosition";var Es=N.forwardRef((e,t)=>{const n=e,{__scopeSelect:r,align:i="start",collisionPadding:a=ws}=n,s=m(n,["__scopeSelect","align","collisionPadding"]),o=us(r);return v.jsx(ia,f(h(h({},o),s),{ref:t,align:i,collisionPadding:a,style:h(h({boxSizing:"border-box"},s.style),{"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"})}))});Es.displayName="SelectPopperPosition";var[Ps,Ms]=ls(bs,{}),Os="SelectViewport",As=N.forwardRef((e,t)=>{const n=e,{__scopeSelect:r,nonce:i}=n,a=m(n,["__scopeSelect","nonce"]),s=Ns(Os,r),o=Ms(Os,r),l=Je(t,s.onViewportChange),c=N.useRef(0);return v.jsxs(v.Fragment,{children:[v.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),v.jsx(as.Slot,{scope:r,children:v.jsx(kn.div,f(h({"data-radix-select-viewport":"",role:"presentation"},a),{ref:l,style:h({position:"relative",flex:1,overflow:"hidden auto"},a.style),onScroll:Sn(a.onScroll,e=>{const t=e.currentTarget,{contentWrapper:n,shouldExpandOnScrollRef:r}=o;if((null==r?void 0:r.current)&&n){const e=Math.abs(c.current-t.scrollTop);if(e>0){const r=window.innerHeight-2*ws,i=parseFloat(n.style.minHeight),a=parseFloat(n.style.height),s=Math.max(i,a);if(s<r){const i=s+e,a=Math.min(r,i),o=i-a;n.style.height=a+"px","0px"===n.style.bottom&&(t.scrollTop=o>0?o:0,n.style.justifyContent="flex-end")}}}c.current=t.scrollTop})}))})]})});As.displayName=Os;var Ts="SelectGroup",[Ds,Rs]=ls(Ts);N.forwardRef((e,t)=>{const n=e,{__scopeSelect:r}=n,i=m(n,["__scopeSelect"]),a=Tn();return v.jsx(Ds,{scope:r,id:a,children:v.jsx(kn.div,f(h({role:"group","aria-labelledby":a},i),{ref:t}))})}).displayName=Ts;var Is="SelectLabel",Ls=N.forwardRef((e,t)=>{const n=e,{__scopeSelect:r}=n,i=m(n,["__scopeSelect"]),a=Rs(Is,r);return v.jsx(kn.div,f(h({id:a.id},i),{ref:t}))});Ls.displayName=Is;var zs="SelectItem",[Fs,Bs]=ls(zs),Ws=N.forwardRef((e,t)=>{const n=e,{__scopeSelect:r,value:i,disabled:a=!1,textValue:s}=n,o=m(n,["__scopeSelect","value","disabled","textValue"]),l=hs(zs,r),c=Ns(zs,r),u=l.value===i,[d,p]=N.useState(null!=s?s:""),[g,x]=N.useState(!1),y=Je(t,e=>{var t;return null==(t=c.itemRefCallback)?void 0:t.call(c,e,i,a)}),b=Tn(),_=N.useRef("touch"),w=()=>{a||(l.onValueChange(i),l.onOpenChange(!1))};if(""===i)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return v.jsx(Fs,{scope:r,value:i,disabled:a,textId:b,isSelected:u,onItemTextChange:N.useCallback(e=>{p(t=>{var n;return t||(null!=(n=null==e?void 0:e.textContent)?n:"").trim()})},[]),children:v.jsx(as.ItemSlot,{scope:r,value:i,disabled:a,textValue:d,children:v.jsx(kn.div,f(h({role:"option","aria-labelledby":b,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1},o),{ref:y,onFocus:Sn(o.onFocus,()=>x(!0)),onBlur:Sn(o.onBlur,()=>x(!1)),onClick:Sn(o.onClick,()=>{"mouse"!==_.current&&w()}),onPointerUp:Sn(o.onPointerUp,()=>{"mouse"===_.current&&w()}),onPointerDown:Sn(o.onPointerDown,e=>{_.current=e.pointerType}),onPointerMove:Sn(o.onPointerMove,e=>{var t;_.current=e.pointerType,a?null==(t=c.onItemLeave)||t.call(c):"mouse"===_.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Sn(o.onPointerLeave,e=>{var t;e.currentTarget===document.activeElement&&(null==(t=c.onItemLeave)||t.call(c))}),onKeyDown:Sn(o.onKeyDown,e=>{var t;""!==(null==(t=c.searchRef)?void 0:t.current)&&" "===e.key||(rs.includes(e.key)&&w()," "===e.key&&e.preventDefault())})}))})})});Ws.displayName=zs;var $s="SelectItemText",Vs=N.forwardRef((e,t)=>{const n=e,{__scopeSelect:r,className:i,style:a}=n,s=m(n,["__scopeSelect","className","style"]),o=hs($s,r),l=Ns($s,r),c=Bs($s,r),u=ms($s,r),[d,p]=N.useState(null),g=Je(t,e=>p(e),c.onItemTextChange,e=>{var t;return null==(t=l.itemTextRefCallback)?void 0:t.call(l,e,c.value,c.disabled)}),x=null==d?void 0:d.textContent,y=N.useMemo(()=>v.jsx("option",{value:c.value,disabled:c.disabled,children:x},c.value),[c.disabled,c.value,x]),{onNativeOptionAdd:b,onNativeOptionRemove:_}=u;return Mn(()=>(b(y),()=>_(y)),[b,_,y]),v.jsxs(v.Fragment,{children:[v.jsx(kn.span,f(h({id:c.textId},s),{ref:g})),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?jn.createPortal(s.children,o.valueNode):null]})});Vs.displayName=$s;var Ks="SelectItemIndicator",Hs=N.forwardRef((e,t)=>{const n=e,{__scopeSelect:r}=n,i=m(n,["__scopeSelect"]);return Bs(Ks,r).isSelected?v.jsx(kn.span,f(h({"aria-hidden":!0},i),{ref:t})):null});Hs.displayName=Ks;var Us="SelectScrollUpButton",Ys=N.forwardRef((e,t)=>{const n=Ns(Us,e.__scopeSelect),r=Ms(Us,e.__scopeSelect),[i,a]=N.useState(!1),s=Je(t,r.onScrollButtonChange);return Mn(()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollTop>0;a(e)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),i?v.jsx(Xs,f(h({},e),{ref:s,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}})):null});Ys.displayName=Us;var qs="SelectScrollDownButton",Gs=N.forwardRef((e,t)=>{const n=Ns(qs,e.__scopeSelect),r=Ms(qs,e.__scopeSelect),[i,a]=N.useState(!1),s=Je(t,r.onScrollButtonChange);return Mn(()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,n=Math.ceil(t.scrollTop)<e;a(n)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),i?v.jsx(Xs,f(h({},e),{ref:s,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}})):null});Gs.displayName=qs;var Xs=N.forwardRef((e,t)=>{const n=e,{__scopeSelect:r,onAutoScroll:i}=n,a=m(n,["__scopeSelect","onAutoScroll"]),s=Ns("SelectScrollButton",r),o=N.useRef(null),l=ss(r),c=N.useCallback(()=>{null!==o.current&&(window.clearInterval(o.current),o.current=null)},[]);return N.useEffect(()=>()=>c(),[c]),Mn(()=>{var e;const t=l().find(e=>e.ref.current===document.activeElement);null==(e=null==t?void 0:t.ref.current)||e.scrollIntoView({block:"nearest"})},[l]),v.jsx(kn.div,f(h({"aria-hidden":!0},a),{ref:t,style:h({flexShrink:0},a.style),onPointerDown:Sn(a.onPointerDown,()=>{null===o.current&&(o.current=window.setInterval(i,50))}),onPointerMove:Sn(a.onPointerMove,()=>{var e;null==(e=s.onItemLeave)||e.call(s),null===o.current&&(o.current=window.setInterval(i,50))}),onPointerLeave:Sn(a.onPointerLeave,()=>{c()})}))}),Qs=N.forwardRef((e,t)=>{const n=e,{__scopeSelect:r}=n,i=m(n,["__scopeSelect"]);return v.jsx(kn.div,f(h({"aria-hidden":!0},i),{ref:t}))});Qs.displayName="SelectSeparator";var Zs="SelectArrow";function Js(e){return""===e||void 0===e}function eo(e){const t=Dn(e),n=N.useRef(""),r=N.useRef(0),i=N.useCallback(e=>{const i=n.current+e;t(i),function e(t){n.current=t,window.clearTimeout(r.current),""!==t&&(r.current=window.setTimeout(()=>e(""),1e3))}(i)},[t]),a=N.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return N.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function to(e,t,n){const r=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let a=(s=e,o=Math.max(i,0),s.map((e,t)=>s[(o+t)%s.length]));var s,o;1===r.length&&(a=a.filter(e=>e!==n));const l=a.find(e=>e.textValue.toLowerCase().startsWith(r.toLowerCase()));return l!==n?l:void 0}N.forwardRef((e,t)=>{const n=e,{__scopeSelect:r}=n,i=m(n,["__scopeSelect"]),a=us(r),s=hs(Zs,r),o=Ns(Zs,r);return s.open&&"popper"===o.position?v.jsx(aa,f(h(h({},a),i),{ref:t})):null}).displayName=Zs,N.forwardRef((e,t)=>{var n=e,{__scopeSelect:r,value:i}=n,a=m(n,["__scopeSelect","value"]);const s=N.useRef(null),o=Je(t,s),l=Fn(i);return N.useEffect(()=>{const e=s.current;if(!e)return;const t=window.HTMLSelectElement.prototype,n=Object.getOwnPropertyDescriptor(t,"value").set;if(l!==i&&n){const t=new Event("change",{bubbles:!0});n.call(e,i),e.dispatchEvent(t)}},[l,i]),v.jsx(kn.select,f(h({},a),{style:h(h({},oa),a.style),ref:o,defaultValue:i}))}).displayName="SelectBubbleInput";var no=gs,ro=ys,io=vs,ao=_s,so=As,oo=Ls,lo=Ws,co=Vs,uo=Hs,ho=Ys,fo=Gs,mo=Qs;N.forwardRef((e,t)=>{var n=e,{className:r,children:i}=n,a=m(n,["className","children"]);return v.jsxs(no,f(h({ref:t,className:xn("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r)},a),{children:[i,v.jsx(ro,{asChild:!0,children:v.jsx(le,{className:"h-4 w-4 opacity-50"})})]}))}).displayName=no.displayName;const po=N.forwardRef((e,t)=>{var n=e,{className:r}=n,i=m(n,["className"]);return v.jsx(ho,f(h({ref:t,className:xn("flex cursor-default items-center justify-center py-1",r)},i),{children:v.jsx(ce,{className:"h-4 w-4"})}))});po.displayName=ho.displayName;const go=N.forwardRef((e,t)=>{var n=e,{className:r}=n,i=m(n,["className"]);return v.jsx(fo,f(h({ref:t,className:xn("flex cursor-default items-center justify-center py-1",r)},i),{children:v.jsx(le,{className:"h-4 w-4"})}))});go.displayName=fo.displayName,N.forwardRef((e,t)=>{var n=e,{className:r,children:i,position:a="popper"}=n,s=m(n,["className","children","position"]);return v.jsx(io,{children:v.jsxs(ao,f(h({ref:t,className:xn("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:a},s),{children:[v.jsx(po,{}),v.jsx(so,{className:xn("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:i}),v.jsx(go,{})]}))})}).displayName=ao.displayName,N.forwardRef((e,t)=>{var n=e,{className:r}=n,i=m(n,["className"]);return v.jsx(oo,h({ref:t,className:xn("py-1.5 pl-8 pr-2 text-sm font-semibold",r)},i))}).displayName=oo.displayName,N.forwardRef((e,t)=>{var n=e,{className:r,children:i}=n,a=m(n,["className","children"]);return v.jsxs(lo,f(h({ref:t,className:xn("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r)},a),{children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(uo,{children:v.jsx(oe,{className:"h-4 w-4"})})}),v.jsx(co,{children:i})]}))}).displayName=lo.displayName,N.forwardRef((e,t)=>{var n=e,{className:r}=n,i=m(n,["className"]);return v.jsx(mo,h({ref:t,className:xn("-mx-1 my-1 h-px bg-muted",r)},i))}).displayName=mo.displayName;var xo="horizontal",yo=["horizontal","vertical"],vo=N.forwardRef((e,t)=>{const n=e,{decorative:r,orientation:i=xo}=n,a=m(n,["decorative","orientation"]),s=function(e){return yo.includes(e)}(i)?i:xo,o=r?{role:"none"}:{"aria-orientation":"vertical"===s?s:void 0,role:"separator"};return v.jsx(kn.div,f(h(h({"data-orientation":s},o),a),{ref:t}))});vo.displayName="Separator";var bo=vo;const _o=N.forwardRef((e,t)=>{var n=e,{className:r,orientation:i="horizontal",decorative:a=!0}=n,s=m(n,["className","orientation","decorative"]);return v.jsx(bo,h({ref:t,decorative:a,orientation:i,className:xn("shrink-0 bg-border","horizontal"===i?"h-[1px] w-full":"h-full w-[1px]",r)},s))});_o.displayName=bo.displayName;var wo=["PageUp","PageDown"],jo=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],No={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ko="Slider",[So,Co,Eo]=Pn(ko),[Po,Mo]=Cn(ko,[Eo]),[Oo,Ao]=Po(ko),To=N.forwardRef((e,t)=>{const n=e,{name:r,min:i=0,max:a=100,step:s=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[i],value:d,onValueChange:p=()=>{},onValueCommit:g=()=>{},inverted:x=!1,form:y}=n,b=m(n,["name","min","max","step","orientation","disabled","minStepsBetweenThumbs","defaultValue","value","onValueChange","onValueCommit","inverted","form"]),_=N.useRef(new Set),w=N.useRef(0),j="horizontal"===o?Io:Lo,[k=[],S]=In({prop:d,defaultProp:u,onChange:e=>{var t;null==(t=[..._.current][w.current])||t.focus(),p(e)}}),C=N.useRef(k);function E(e,t,{commit:n}={commit:!1}){const r=function(e){return(String(e).split(".")[1]||"").length}(s),o=function(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}(Math.round((e-i)/s)*s+i,r),l=$n(o,[i,a]);S((e=[])=>{const r=function(e=[],t,n){const r=[...e];return r[n]=t,r.sort((e,t)=>e-t)}(e,l,t);if(function(e,t){if(t>0){const n=function(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}(e);return Math.min(...n)>=t}return!0}(r,c*s)){w.current=r.indexOf(l);const t=String(r)!==String(e);return t&&n&&g(r),t?r:e}return e})}return v.jsx(Oo,{scope:e.__scopeSlider,name:r,disabled:l,min:i,max:a,valueIndexToChangeRef:w,thumbs:_.current,values:k,orientation:o,form:y,children:v.jsx(So.Provider,{scope:e.__scopeSlider,children:v.jsx(So.Slot,{scope:e.__scopeSlider,children:v.jsx(j,f(h({"aria-disabled":l,"data-disabled":l?"":void 0},b),{ref:t,onPointerDown:Sn(b.onPointerDown,()=>{l||(C.current=k)}),min:i,max:a,inverted:x,onSlideStart:l?void 0:function(e){const t=function(e,t){if(1===e.length)return 0;const n=e.map(e=>Math.abs(e-t)),r=Math.min(...n);return n.indexOf(r)}(k,e);E(e,t)},onSlideMove:l?void 0:function(e){E(e,w.current)},onSlideEnd:l?void 0:function(){const e=C.current[w.current];k[w.current]!==e&&g(k)},onHomeKeyDown:()=>!l&&E(i,0,{commit:!0}),onEndKeyDown:()=>!l&&E(a,k.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!l){const n=wo.includes(e.key)||e.shiftKey&&jo.includes(e.key)?10:1,r=w.current;E(k[r]+s*n*t,r,{commit:!0})}}}))})})})});To.displayName=ko;var[Do,Ro]=Po(ko,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Io=N.forwardRef((e,t)=>{const n=e,{min:r,max:i,dir:a,inverted:s,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u}=n,d=m(n,["min","max","dir","inverted","onSlideStart","onSlideMove","onSlideEnd","onStepKeyDown"]),[p,g]=N.useState(null),x=Je(t,e=>g(e)),y=N.useRef(void 0),b=function(e){const t=N.useContext(Ln);return e||t||"ltr"}(a),_="ltr"===b,w=_&&!s||!_&&s;function j(e){const t=y.current||p.getBoundingClientRect(),n=qo([0,t.width],w?[r,i]:[i,r]);return y.current=t,n(e-t.left)}return v.jsx(Do,{scope:e.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:v.jsx(zo,f(h({dir:b,"data-orientation":"horizontal"},d),{ref:x,style:f(h({},d.style),{"--radix-slider-thumb-transform":"translateX(-50%)"}),onSlideStart:e=>{const t=j(e.clientX);null==o||o(t)},onSlideMove:e=>{const t=j(e.clientX);null==l||l(t)},onSlideEnd:()=>{y.current=void 0,null==c||c()},onStepKeyDown:e=>{const t=No[w?"from-left":"from-right"].includes(e.key);null==u||u({event:e,direction:t?-1:1})}}))})}),Lo=N.forwardRef((e,t)=>{const n=e,{min:r,max:i,inverted:a,onSlideStart:s,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c}=n,u=m(n,["min","max","inverted","onSlideStart","onSlideMove","onSlideEnd","onStepKeyDown"]),d=N.useRef(null),p=Je(t,d),g=N.useRef(void 0),x=!a;function y(e){const t=g.current||d.current.getBoundingClientRect(),n=qo([0,t.height],x?[i,r]:[r,i]);return g.current=t,n(e-t.top)}return v.jsx(Do,{scope:e.__scopeSlider,startEdge:x?"bottom":"top",endEdge:x?"top":"bottom",size:"height",direction:x?1:-1,children:v.jsx(zo,f(h({"data-orientation":"vertical"},u),{ref:p,style:f(h({},u.style),{"--radix-slider-thumb-transform":"translateY(50%)"}),onSlideStart:e=>{const t=y(e.clientY);null==s||s(t)},onSlideMove:e=>{const t=y(e.clientY);null==o||o(t)},onSlideEnd:()=>{g.current=void 0,null==l||l()},onStepKeyDown:e=>{const t=No[x?"from-bottom":"from-top"].includes(e.key);null==c||c({event:e,direction:t?-1:1})}}))})}),zo=N.forwardRef((e,t)=>{const n=e,{__scopeSlider:r,onSlideStart:i,onSlideMove:a,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c}=n,u=m(n,["__scopeSlider","onSlideStart","onSlideMove","onSlideEnd","onHomeKeyDown","onEndKeyDown","onStepKeyDown"]),d=Ao(ko,r);return v.jsx(kn.span,f(h({},u),{ref:t,onKeyDown:Sn(e.onKeyDown,e=>{"Home"===e.key?(o(e),e.preventDefault()):"End"===e.key?(l(e),e.preventDefault()):wo.concat(jo).includes(e.key)&&(c(e),e.preventDefault())}),onPointerDown:Sn(e.onPointerDown,e=>{const t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),d.thumbs.has(t)?t.focus():i(e)}),onPointerMove:Sn(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&a(e)}),onPointerUp:Sn(e.onPointerUp,e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),s(e))})}))}),Fo="SliderTrack",Bo=N.forwardRef((e,t)=>{const n=e,{__scopeSlider:r}=n,i=m(n,["__scopeSlider"]),a=Ao(Fo,r);return v.jsx(kn.span,f(h({"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation},i),{ref:t}))});Bo.displayName=Fo;var Wo="SliderRange",$o=N.forwardRef((e,t)=>{const n=e,{__scopeSlider:r}=n,i=m(n,["__scopeSlider"]),a=Ao(Wo,r),s=Ro(Wo,r),o=Je(t,N.useRef(null)),l=a.values.length,c=a.values.map(e=>Yo(e,a.min,a.max)),u=l>1?Math.min(...c):0,d=100-Math.max(...c);return v.jsx(kn.span,f(h({"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0},i),{ref:o,style:f(h({},e.style),{[s.startEdge]:u+"%",[s.endEdge]:d+"%"})}))});$o.displayName=Wo;var Vo="SliderThumb",Ko=N.forwardRef((e,t)=>{const n=Co(e.__scopeSlider),[r,i]=N.useState(null),a=Je(t,e=>i(e)),s=N.useMemo(()=>r?n().findIndex(e=>e.ref.current===r):-1,[n,r]);return v.jsx(Ho,f(h({},e),{ref:a,index:s}))}),Ho=N.forwardRef((e,t)=>{const n=e,{__scopeSlider:r,index:i,name:a}=n,s=m(n,["__scopeSlider","index","name"]),o=Ao(Vo,r),l=Ro(Vo,r),[c,u]=N.useState(null),d=Je(t,e=>u(e)),p=!c||o.form||!!c.closest("form"),g=zn(c),x=o.values[i],y=void 0===x?0:Yo(x,o.min,o.max),b=function(e,t){return t>2?`Value ${e+1} of ${t}`:2===t?["Minimum","Maximum"][e]:void 0}(i,o.values.length),_=null==g?void 0:g[l.size],w=_?function(e,t,n){const r=e/2,i=qo([0,50],[0,r]);return(r-i(t)*n)*n}(_,y,l.direction):0;return N.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),v.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${y}% + ${w}px)`},children:[v.jsx(So.ItemSlot,{scope:e.__scopeSlider,children:v.jsx(kn.span,f(h({role:"slider","aria-label":e["aria-label"]||b,"aria-valuemin":o.min,"aria-valuenow":x,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0},s),{ref:d,style:void 0===x?{display:"none"}:e.style,onFocus:Sn(e.onFocus,()=>{o.valueIndexToChangeRef.current=i})}))}),p&&v.jsx(Uo,{name:null!=a?a:o.name?o.name+(o.values.length>1?"[]":""):void 0,form:o.form,value:x},i)]})});Ko.displayName=Vo;var Uo=N.forwardRef((e,t)=>{var n=e,{__scopeSlider:r,value:i}=n,a=m(n,["__scopeSlider","value"]);const s=N.useRef(null),o=Je(s,t),l=Fn(i);return N.useEffect(()=>{const e=s.current;if(!e)return;const t=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(t,"value").set;if(l!==i&&n){const t=new Event("input",{bubbles:!0});n.call(e,i),e.dispatchEvent(t)}},[l,i]),v.jsx(kn.input,f(h({style:{display:"none"}},a),{ref:o,defaultValue:i}))});function Yo(e,t,n){return $n(100/(n-t)*(e-t),[0,100])}function qo(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}Uo.displayName="RadioBubbleInput";var Go=To,Xo=Bo,Qo=$o,Zo=Ko;N.forwardRef((e,t)=>{var n=e,{className:r}=n,i=m(n,["className"]);return v.jsxs(Go,f(h({ref:t,className:xn("relative flex w-full touch-none select-none items-center",r)},i),{children:[v.jsx(Xo,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:v.jsx(Qo,{className:"absolute h-full bg-foreground"})}),v.jsx(Zo,{className:"block h-5 w-5 cursor-pointer rounded-full border-2 border-foreground bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}))}).displayName=Go.displayName;var Jo="Popover",[el,tl]=Cn(Jo,[Bi]),nl=Bi(),[rl,il]=el(Jo),al=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:s=!1}=e,o=nl(t),l=N.useRef(null),[c,u]=N.useState(!1),[d,m]=In({prop:r,defaultProp:null!=i&&i,onChange:a,caller:Jo});return v.jsx(na,f(h({},o),{children:v.jsx(rl,{scope:t,contentId:Tn(),triggerRef:l,open:d,onOpenChange:m,onOpenToggle:N.useCallback(()=>m(e=>!e),[m]),hasCustomAnchor:c,onCustomAnchorAdd:N.useCallback(()=>u(!0),[]),onCustomAnchorRemove:N.useCallback(()=>u(!1),[]),modal:s,children:n})}))};al.displayName=Jo;var sl="PopoverAnchor";N.forwardRef((e,t)=>{const n=e,{__scopePopover:r}=n,i=m(n,["__scopePopover"]),a=il(sl,r),s=nl(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return N.useEffect(()=>(o(),()=>l()),[o,l]),v.jsx(ra,f(h(h({},s),i),{ref:t}))}).displayName=sl;var ol="PopoverTrigger",ll=N.forwardRef((e,t)=>{const n=e,{__scopePopover:r}=n,i=m(n,["__scopePopover"]),a=il(ol,r),s=nl(r),o=Je(t,a.triggerRef),l=v.jsx(kn.button,f(h({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":bl(a.open)},i),{ref:o,onClick:Sn(e.onClick,a.onOpenToggle)}));return a.hasCustomAnchor?l:v.jsx(ra,f(h({asChild:!0},s),{children:l}))});ll.displayName=ol;var cl="PopoverPortal",[ul,dl]=el(cl,{forceMount:void 0}),hl=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,a=il(cl,t);return v.jsx(ul,{scope:t,forceMount:n,children:v.jsx(Bn,{present:n||a.open,children:v.jsx(sa,{asChild:!0,container:i,children:r})})})};hl.displayName=cl;var fl="PopoverContent",ml=N.forwardRef((e,t)=>{const n=dl(fl,e.__scopePopover),r=e,{forceMount:i=n.forceMount}=r,a=m(r,["forceMount"]),s=il(fl,e.__scopePopover);return v.jsx(Bn,{present:i||s.open,children:s.modal?v.jsx(gl,f(h({},a),{ref:t})):v.jsx(xl,f(h({},a),{ref:t}))})});ml.displayName=fl;var pl=et("PopoverContent.RemoveScroll"),gl=N.forwardRef((e,t)=>{const n=il(fl,e.__scopePopover),r=N.useRef(null),i=Je(t,r),a=N.useRef(!1);return N.useEffect(()=>{const e=r.current;if(e)return ma(e)},[]),v.jsx(ts,{as:pl,allowPinchZoom:!0,children:v.jsx(yl,f(h({},e),{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Sn(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),a.current||null==(t=n.triggerRef.current)||t.focus()}),onPointerDownOutside:Sn(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,r=2===t.button||n;a.current=r},{checkForDefaultPrevented:!1}),onFocusOutside:Sn(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})}))})}),xl=N.forwardRef((e,t)=>{const n=il(fl,e.__scopePopover),r=N.useRef(!1),i=N.useRef(!1);return v.jsx(yl,f(h({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var a,s;null==(a=e.onCloseAutoFocus)||a.call(e,t),t.defaultPrevented||(r.current||null==(s=n.triggerRef.current)||s.focus(),t.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:t=>{var a,s;null==(a=e.onInteractOutside)||a.call(e,t),t.defaultPrevented||(r.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));const o=t.target;(null==(s=n.triggerRef.current)?void 0:s.contains(o))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}}))}),yl=N.forwardRef((e,t)=>{const n=e,{__scopePopover:r,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d}=n,p=m(n,["__scopePopover","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside"]),g=il(fl,r),x=nl(r);return Zn(),v.jsx(rr,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:a,onUnmountAutoFocus:s,children:v.jsx(qn,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>g.onOpenChange(!1),children:v.jsx(ia,f(h(h({"data-state":bl(g.open),role:"dialog",id:g.contentId},x),p),{ref:t,style:h(h({},p.style),{"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"})}))})})}),vl="PopoverClose";function bl(e){return e?"open":"closed"}N.forwardRef((e,t)=>{const n=e,{__scopePopover:r}=n,i=m(n,["__scopePopover"]),a=il(vl,r);return v.jsx(kn.button,f(h({type:"button"},i),{ref:t,onClick:Sn(e.onClick,()=>a.onOpenChange(!1))}))}).displayName=vl,N.forwardRef((e,t)=>{const n=e,{__scopePopover:r}=n,i=m(n,["__scopePopover"]),a=nl(r);return v.jsx(aa,f(h(h({},a),i),{ref:t}))}).displayName="PopoverArrow";var _l=hl,wl=ml;const jl=al,Nl=ll,kl=N.forwardRef((e,t)=>{var n=e,{className:r,align:i="center",sideOffset:a=4}=n,s=m(n,["className","align","sideOffset"]);return v.jsx(_l,{children:v.jsx(wl,h({ref:t,align:i,sideOffset:a,className:xn("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none animate-in fade-in-0 zoom-in-95",r)},s))})});function Sl(e){var t=e.width,n=e.height;if(t<0)throw new Error("Negative width is not allowed for Size");if(n<0)throw new Error("Negative height is not allowed for Size");return{width:t,height:n}}function Cl(e,t){return e.width===t.width&&e.height===t.height}kl.displayName=wl.displayName;var El=function(){function e(e){var t=this;this._resolutionListener=function(){return t._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=e,this._installResolutionListener()}return e.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(e.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),e.prototype.subscribe=function(e){var t=this,n={next:e};return this._observers.push(n),{unsubscribe:function(){t._observers=t._observers.filter(function(e){return e!==n})}}},e.prototype._installResolutionListener=function(){if(null!==this._resolutionMediaQueryList)throw new Error("Resolution listener is already installed");var e=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(e,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},e.prototype._uninstallResolutionListener=function(){null!==this._resolutionMediaQueryList&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},e.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},e.prototype._onResolutionChanged=function(){var e=this;this._observers.forEach(function(t){return t.next(e._window.devicePixelRatio)}),this._reinstallResolutionListener()},e}(),Pl=function(){function e(e,t,n){var r;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=e,this._canvasElementClientSize=Sl({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=null!=t?t:function(e){return e},this._allowResizeObserver=null===(r=null==n?void 0:n.allowResizeObserver)||void 0===r||r,this._chooseAndInitObserver()}return e.prototype.dispose=function(){var e,t;if(null===this._canvasElement)throw new Error("Object is disposed");null===(e=this._canvasElementResizeObserver)||void 0===e||e.disconnect(),this._canvasElementResizeObserver=null,null===(t=this._devicePixelRatioObservable)||void 0===t||t.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(e.prototype,"canvasElement",{get:function(){if(null===this._canvasElement)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bitmapSize",{get:function(){return Sl({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),e.prototype.resizeCanvasElement=function(e){this._canvasElementClientSize=Sl(e),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},e.prototype.subscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners.push(e)},e.prototype.unsubscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(t){return t!==e})},Object.defineProperty(e.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),e.prototype.subscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners.push(e)},e.prototype.unsubscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(t){return t!==e})},e.prototype.applySuggestedBitmapSize=function(){if(null!==this._suggestedBitmapSize){var e=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(e),this._emitSuggestedBitmapSizeChanged(e,this._suggestedBitmapSize)}},e.prototype._resizeBitmap=function(e){var t=this.bitmapSize;Cl(t,e)||(this.canvasElement.width=e.width,this.canvasElement.height=e.height,this._emitBitmapSizeChanged(t,e))},e.prototype._emitBitmapSizeChanged=function(e,t){var n=this;this._bitmapSizeChangedListeners.forEach(function(r){return r.call(n,e,t)})},e.prototype._suggestNewBitmapSize=function(e){var t=this._suggestedBitmapSize,n=Sl(this._transformBitmapSize(e,this._canvasElementClientSize)),r=Cl(this.bitmapSize,n)?null:n;null===t&&null===r||null!==t&&null!==r&&Cl(t,r)||(this._suggestedBitmapSize=r,this._emitSuggestedBitmapSizeChanged(t,r))},e.prototype._emitSuggestedBitmapSizeChanged=function(e,t){var n=this;this._suggestedBitmapSizeChangedListeners.forEach(function(r){return r.call(n,e,t)})},e.prototype._chooseAndInitObserver=function(){var e=this;this._allowResizeObserver?new Promise(function(e){var t=new ResizeObserver(function(n){e(n.every(function(e){return"devicePixelContentBoxSize"in e})),t.disconnect()});t.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1}).then(function(t){return t?e._initResizeObserver():e._initDevicePixelRatioObservable()}):this._initDevicePixelRatioObservable()},e.prototype._initDevicePixelRatioObservable=function(){var e=this;if(null!==this._canvasElement){var t=Ml(this._canvasElement);if(null===t)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=function(e){return new El(e)}(t),this._devicePixelRatioObservable.subscribe(function(){return e._invalidateBitmapSize()}),this._invalidateBitmapSize()}},e.prototype._invalidateBitmapSize=function(){var e,t;if(null!==this._canvasElement){var n=Ml(this._canvasElement);if(null!==n){var r=null!==(t=null===(e=this._devicePixelRatioObservable)||void 0===e?void 0:e.value)&&void 0!==t?t:n.devicePixelRatio,i=this._canvasElement.getClientRects(),a=void 0!==i[0]?function(e,t){return Sl({width:Math.round(e.left*t+e.width*t)-Math.round(e.left*t),height:Math.round(e.top*t+e.height*t)-Math.round(e.top*t)})}(i[0],r):Sl({width:this._canvasElementClientSize.width*r,height:this._canvasElementClientSize.height*r});this._suggestNewBitmapSize(a)}}},e.prototype._initResizeObserver=function(){var e=this;null!==this._canvasElement&&(this._canvasElementResizeObserver=new ResizeObserver(function(t){var n=t.find(function(t){return t.target===e._canvasElement});if(n&&n.devicePixelContentBoxSize&&n.devicePixelContentBoxSize[0]){var r=n.devicePixelContentBoxSize[0],i=Sl({width:r.inlineSize,height:r.blockSize});e._suggestNewBitmapSize(i)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},e}();function Ml(e){return e.ownerDocument.defaultView}var Ol=function(){function e(e,t,n){if(0===t.width||0===t.height)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=t,0===n.width||0===n.height)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=n,this._context=e}return e.prototype.useMediaCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),e({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},e.prototype.useBitmapCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),e({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(e.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),e}();function Al(e,t){var n=e.canvasElementClientSize;if(0===n.width||0===n.height)return null;var r=e.bitmapSize;if(0===r.width||0===r.height)return null;var i=e.canvasElement.getContext("2d",t);return null===i?null:new Ol(i,n,r)}
/*!
     * @license
     * TradingView Lightweight Charts v5.0.8
     * Copyright (c) 2025 TradingView, Inc.
     * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
     */const Tl={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var Dl,Rl,Il;function Ll(e,t){const n={0:[],1:[e.lineWidth,e.lineWidth],2:[2*e.lineWidth,2*e.lineWidth],3:[6*e.lineWidth,6*e.lineWidth],4:[e.lineWidth,4*e.lineWidth]}[t];e.setLineDash(n)}function zl(e,t,n,r){e.beginPath();const i=e.lineWidth%2?.5:0;e.moveTo(n,t+i),e.lineTo(r,t+i),e.stroke()}function Fl(e,t){if(!e)throw new Error("Assertion failed"+(t?": "+t:""))}function Bl(e){if(void 0===e)throw new Error("Value is undefined");return e}function Wl(e){if(null===e)throw new Error("Value is null");return e}function $l(e){return Wl(Bl(e))}(Il=Dl||(Dl={}))[Il.Simple=0]="Simple",Il[Il.WithSteps=1]="WithSteps",Il[Il.Curved=2]="Curved",function(e){e[e.Solid=0]="Solid",e[e.Dotted=1]="Dotted",e[e.Dashed=2]="Dashed",e[e.LargeDashed=3]="LargeDashed",e[e.SparseDotted=4]="SparseDotted"}(Rl||(Rl={}));class Vl{constructor(){this.t=[]}i(e,t,n){const r={h:e,l:t,o:!0===n};this.t.push(r)}_(e){const t=this.t.findIndex(t=>e===t.h);t>-1&&this.t.splice(t,1)}u(e){this.t=this.t.filter(t=>t.l!==e)}p(e,t,n){const r=[...this.t];this.t=this.t.filter(e=>!e.o),r.forEach(r=>r.h(e,t,n))}v(){return this.t.length>0}m(){this.t=[]}}function Kl(e,...t){for(const n of t)for(const t in n)void 0!==n[t]&&Object.prototype.hasOwnProperty.call(n,t)&&!["__proto__","constructor","prototype"].includes(t)&&("object"!=typeof n[t]||void 0===e[t]||Array.isArray(n[t])?e[t]=n[t]:Kl(e[t],n[t]));return e}function Hl(e){return"number"==typeof e&&isFinite(e)}function Ul(e){return"number"==typeof e&&e%1==0}function Yl(e){return"string"==typeof e}function ql(e){return"boolean"==typeof e}function Gl(e){const t=e;if(!t||"object"!=typeof t)return t;let n,r,i;for(r in n=Array.isArray(t)?[]:{},t)t.hasOwnProperty(r)&&(i=t[r],n[r]=i&&"object"==typeof i?Gl(i):i);return n}function Xl(e){return null!==e}function Ql(e){return null===e?void 0:e}const Zl="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function Jl(e,t,n){return void 0===t&&(t=Zl),`${n=void 0!==n?`${n} `:""}${e}px ${t}`}let ec=class{constructor(e){this.M={S:1,C:5,P:NaN,k:"",T:"",R:"",D:"",V:0,I:0,B:0,A:0,L:0},this.O=e}N(){const e=this.M,t=this.F(),n=this.W();return e.P===t&&e.T===n||(e.P=t,e.T=n,e.k=Jl(t,n),e.A=2.5/12*t,e.V=e.A,e.I=t/12*e.C,e.B=t/12*e.C,e.L=0),e.R=this.H(),e.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}F(){return this.O.N().layout.fontSize}W(){return this.O.N().layout.fontFamily}};function tc(e){return e<0?0:e>255?255:Math.round(e)||0}function nc(e){return.199*e[0]+.687*e[1]+.114*e[2]}let rc=class{constructor(e,t){this.q=new Map,this.Y=e,t&&(this.q=t)}j(e,t){if("transparent"===e)return e;const n=this.K(e),r=n[3];return`rgba(${n[0]}, ${n[1]}, ${n[2]}, ${t*r})`}X(e){const t=this.K(e);return{Z:`rgb(${t[0]}, ${t[1]}, ${t[2]})`,G:nc(t)>160?"black":"white"}}J(e){return nc(this.K(e))}tt(e,t,n){const[r,i,a,s]=this.K(e),[o,l,c,u]=this.K(t),d=[tc(r+n*(o-r)),tc(i+n*(l-i)),tc(a+n*(c-a)),(h=s+n*(u-s),h<=0||h>1?Math.min(Math.max(h,0),1):Math.round(1e4*h)/1e4)];var h;return`rgba(${d[0]}, ${d[1]}, ${d[2]}, ${d[3]})`}K(e){const t=this.q.get(e);if(t)return t;const n=function(e){const t=document.createElement("div");t.style.display="none",document.body.appendChild(t),t.style.color=e;const n=window.getComputedStyle(t).color;return document.body.removeChild(t),n}(e).match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!n){if(this.Y.length)for(const t of this.Y){const n=t(e);if(n)return this.q.set(e,n),n}throw new Error(`Failed to parse color: ${e}`)}const r=[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),n[4]?parseFloat(n[4]):1];return this.q.set(e,r),r}},ic=class{constructor(){this.it=[]}st(e){this.it=e}nt(e,t,n){this.it.forEach(r=>{r.nt(e,t,n)})}};class ac{nt(e,t,n){e.useBitmapCoordinateSpace(e=>this.et(e,t,n))}}let sc=class extends ac{constructor(){super(...arguments),this.rt=null}ht(e){this.rt=e}et({context:e,horizontalPixelRatio:t,verticalPixelRatio:n}){if(null===this.rt||null===this.rt.lt)return;const r=this.rt.lt,i=this.rt,a=Math.max(1,Math.floor(t))%2/2,s=s=>{e.beginPath();for(let o=r.to-1;o>=r.from;--o){const r=i.ot[o],l=Math.round(r._t*t)+a,c=r.ut*n,u=s*n+a;e.moveTo(l,c),e.arc(l,c,u,0,2*Math.PI)}e.fill()};i.ct>0&&(e.fillStyle=i.dt,s(i.ft+i.ct)),e.fillStyle=i.vt,s(i.ft)}};function oc(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:"",dt:"",ft:0,ct:0,lt:null}}const lc={from:0,to:1};let cc=class{constructor(e,t,n){this.Mt=new ic,this.bt=[],this.St=[],this.xt=!0,this.O=e,this.Ct=t,this.Pt=n,this.Mt.st(this.bt)}kt(e){this.yt(),this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Mt}yt(){const e=this.Pt.Dt();e.length!==this.bt.length&&(this.St=e.map(oc),this.bt=this.St.map(e=>{const t=new sc;return t.ht(e),t}),this.Mt.st(this.bt))}Rt(){const e=2===this.Ct.N().mode||!this.Ct.Vt(),t=this.Pt.It(),n=this.Ct.Bt(),r=this.O.Et();this.yt(),t.forEach((t,i)=>{var a;const s=this.St[i],o=t.At(n),l=t.zt();!e&&null!==o&&t.Vt()&&null!==l?(s.vt=o.Lt,s.ft=o.ft,s.ct=o.Ot,s.ot[0].gt=o.gt,s.ot[0].ut=t.Ft().Nt(o.gt,l.Wt),s.dt=null!=(a=o.Ht)?a:this.O.Ut(s.ot[0].ut/t.Ft().$t()),s.ot[0].wt=n,s.ot[0]._t=r.qt(n),s.lt=lc):s.lt=null})}},uc=class extends ac{constructor(e){super(),this.Yt=e}et({context:e,bitmapSize:t,horizontalPixelRatio:n,verticalPixelRatio:r}){if(null===this.Yt)return;const i=this.Yt.jt.Vt,a=this.Yt.Kt.Vt;if(!i&&!a)return;const s=Math.round(this.Yt._t*n),o=Math.round(this.Yt.ut*r);e.lineCap="butt",i&&s>=0&&(e.lineWidth=Math.floor(this.Yt.jt.ct*n),e.strokeStyle=this.Yt.jt.R,e.fillStyle=this.Yt.jt.R,Ll(e,this.Yt.jt.Xt),function(e,t,n,r){e.beginPath();const i=e.lineWidth%2?.5:0;e.moveTo(t+i,0),e.lineTo(t+i,r),e.stroke()}(e,s,0,t.height)),a&&o>=0&&(e.lineWidth=Math.floor(this.Yt.Kt.ct*r),e.strokeStyle=this.Yt.Kt.R,e.fillStyle=this.Yt.Kt.R,Ll(e,this.Yt.Kt.Xt),zl(e,o,0,t.width))}},dc=class{constructor(e,t){this.xt=!0,this.Zt={jt:{ct:1,Xt:0,R:"",Vt:!1},Kt:{ct:1,Xt:0,R:"",Vt:!1},_t:0,ut:0},this.Gt=new uc(this.Zt),this.Jt=e,this.Pt=t}kt(){this.xt=!0}Tt(e){return this.xt&&(this.Rt(),this.xt=!1),this.Gt}Rt(){const e=this.Jt.Vt(),t=this.Pt.Qt().N().crosshair,n=this.Zt;if(2===t.mode)return n.Kt.Vt=!1,void(n.jt.Vt=!1);n.Kt.Vt=e&&this.Jt.ti(this.Pt),n.jt.Vt=e&&this.Jt.ii(),n.Kt.ct=t.horzLine.width,n.Kt.Xt=t.horzLine.style,n.Kt.R=t.horzLine.color,n.jt.ct=t.vertLine.width,n.jt.Xt=t.vertLine.style,n.jt.R=t.vertLine.color,n._t=this.Jt.si(),n.ut=this.Jt.ni()}};function hc(e,t,n,r,i,a){e.save(),e.globalCompositeOperation="copy",e.fillStyle=a,e.fillRect(t,n,r,i),e.restore()}function fc(e,t,n,r,i,a){e.beginPath(),e.roundRect?e.roundRect(t,n,r,i,a):(e.lineTo(t+r-a[1],n),0!==a[1]&&e.arcTo(t+r,n,t+r,n+a[1],a[1]),e.lineTo(t+r,n+i-a[2]),0!==a[2]&&e.arcTo(t+r,n+i,t+r-a[2],n+i,a[2]),e.lineTo(t+a[3],n+i),0!==a[3]&&e.arcTo(t,n+i,t,n+i-a[3],a[3]),e.lineTo(t,n+a[0]),0!==a[0]&&e.arcTo(t,n,t+a[0],n,a[0]))}function mc(e,t,n,r,i,a,s=0,o=[0,0,0,0],l=""){if(e.save(),!s||!l||l===a)return fc(e,t,n,r,i,o),e.fillStyle=a,e.fill(),void e.restore();const c=s/2;var u;fc(e,t+c,n+c,r-s,i-s,(u=-c,o.map(e=>0===e?e:e+u))),"transparent"!==a&&(e.fillStyle=a,e.fill()),"transparent"!==l&&(e.lineWidth=s,e.strokeStyle=l,e.closePath(),e.stroke()),e.restore()}function pc(e,t,n,r,i,a,s){e.save(),e.globalCompositeOperation="copy";const o=e.createLinearGradient(0,0,0,i);o.addColorStop(0,a),o.addColorStop(1,s),e.fillStyle=o,e.fillRect(t,n,r,i),e.restore()}let gc=class{constructor(e,t){this.ht(e,t)}ht(e,t){this.Yt=e,this.ei=t}$t(e,t){return this.Yt.Vt?e.P+e.A+e.V:0}nt(e,t,n,r){if(!this.Yt.Vt||0===this.Yt.ri.length)return;const i=this.Yt.R,a=this.ei.Z,s=e.useBitmapCoordinateSpace(e=>{const s=e.context;s.font=t.k;const o=this.hi(e,t,n,r),l=o.ai;return o.li?mc(s,l.oi,l._i,l.ui,l.ci,a,l.di,[l.ft,0,0,l.ft],a):mc(s,l.fi,l._i,l.ui,l.ci,a,l.di,[0,l.ft,l.ft,0],a),this.Yt.pi&&(s.fillStyle=i,s.fillRect(l.fi,l.mi,l.wi-l.fi,l.gi)),this.Yt.Mi&&(s.fillStyle=t.D,s.fillRect(o.li?l.bi-l.di:0,l._i,l.di,l.Si-l._i)),o});e.useMediaCoordinateSpace(({context:e})=>{const n=s.xi;e.font=t.k,e.textAlign=s.li?"right":"left",e.textBaseline="middle",e.fillStyle=i,e.fillText(this.Yt.ri,n.Ci,(n._i+n.Si)/2+n.Pi)})}hi(e,t,n,r){var i;const{context:a,bitmapSize:s,mediaSize:o,horizontalPixelRatio:l,verticalPixelRatio:c}=e,u=this.Yt.pi||!this.Yt.ki?t.C:0,d=this.Yt.yi?t.S:0,h=t.A+this.ei.Ti,f=t.V+this.ei.Ri,m=t.I,p=t.B,g=this.Yt.ri,x=t.P,y=n.Di(a,g),v=Math.ceil(n.Vi(a,g)),b=x+h+f,_=t.S+m+p+v+u,w=Math.max(1,Math.floor(c));let j=Math.round(b*c);j%2!=w%2&&(j+=1);const N=d>0?Math.max(1,Math.floor(d*l)):0,k=Math.round(_*l),S=Math.round(u*l),C=null!=(i=this.ei.Ii)?i:this.ei.Bi,E=Math.round(C*c)-Math.floor(.5*c),P=Math.floor(E+w/2-j/2),M=P+j,O="right"===r,A=O?o.width-d:d,T=O?s.width-N:N;let D,R,I;return O?(D=T-k,R=T-S,I=A-u-m-d):(D=T+k,R=T+S,I=A+u+m),{li:O,ai:{_i:P,mi:E,Si:M,ui:k,ci:j,ft:2*l,di:N,oi:D,fi:T,wi:R,gi:w,bi:s.width},xi:{_i:P/c,Si:M/c,Ci:I,Pi:y}}}},xc=class{constructor(e){this.Ei={Bi:0,Z:"#000",Ri:0,Ti:0},this.Ai={ri:"",Vt:!1,pi:!0,ki:!1,Ht:"",R:"#FFF",Mi:!1,yi:!1},this.zi={ri:"",Vt:!1,pi:!1,ki:!0,Ht:"",R:"#FFF",Mi:!0,yi:!0},this.xt=!0,this.Li=new(e||gc)(this.Ai,this.Ei),this.Oi=new(e||gc)(this.zi,this.Ei)}ri(){return this.Ni(),this.Ai.ri}Bi(){return this.Ni(),this.Ei.Bi}kt(){this.xt=!0}$t(e,t=!1){return Math.max(this.Li.$t(e,t),this.Oi.$t(e,t))}Fi(){return this.Ei.Ii||0}Wi(e){this.Ei.Ii=e}Hi(){return this.Ni(),this.Ai.Vt||this.zi.Vt}Ui(){return this.Ni(),this.Ai.Vt}Tt(e){return this.Ni(),this.Ai.pi=this.Ai.pi&&e.N().ticksVisible,this.zi.pi=this.zi.pi&&e.N().ticksVisible,this.Li.ht(this.Ai,this.Ei),this.Oi.ht(this.zi,this.Ei),this.Li}$i(){return this.Ni(),this.Li.ht(this.Ai,this.Ei),this.Oi.ht(this.zi,this.Ei),this.Oi}Ni(){this.xt&&(this.Ai.pi=!0,this.zi.pi=!1,this.qi(this.Ai,this.zi,this.Ei))}},yc=class extends xc{constructor(e,t,n){super(),this.Jt=e,this.Yi=t,this.ji=n}qi(e,t,n){if(e.Vt=!1,2===this.Jt.N().mode)return;const r=this.Jt.N().horzLine;if(!r.labelVisible)return;const i=this.Yi.zt();if(!this.Jt.Vt()||this.Yi.Ki()||null===i)return;const a=this.Yi.Xi().X(r.labelBackgroundColor);n.Z=a.Z,e.R=a.G;const s=2/12*this.Yi.P();n.Ti=s,n.Ri=s;const o=this.ji(this.Yi);n.Bi=o.Bi,e.ri=this.Yi.Zi(o.gt,i),e.Vt=!0}};const vc=/[1-9]/g;class bc{constructor(){this.Yt=null}ht(e){this.Yt=e}nt(e,t){if(null===this.Yt||!1===this.Yt.Vt||0===this.Yt.ri.length)return;const n=e.useMediaCoordinateSpace(({context:e})=>(e.font=t.k,Math.round(t.Gi.Vi(e,Wl(this.Yt).ri,vc))));if(n<=0)return;const r=t.Ji,i=n+2*r,a=i/2,s=this.Yt.Qi;let o=this.Yt.Bi,l=Math.floor(o-a)+.5;l<0?(o+=Math.abs(0-l),l=Math.floor(o-a)+.5):l+i>s&&(o-=Math.abs(s-(l+i)),l=Math.floor(o-a)+.5);const c=l+i,u=Math.ceil(0+t.S+t.C+t.A+t.P+t.V);e.useBitmapCoordinateSpace(({context:e,horizontalPixelRatio:n,verticalPixelRatio:r})=>{const i=Wl(this.Yt);e.fillStyle=i.Z;const a=Math.round(l*n),s=Math.round(0*r),o=Math.round(c*n),d=Math.round(u*r),h=Math.round(2*n);if(e.beginPath(),e.moveTo(a,s),e.lineTo(a,d-h),e.arcTo(a,d,a+h,d,h),e.lineTo(o-h,d),e.arcTo(o,d,o,d-h,h),e.lineTo(o,s),e.fill(),i.pi){const a=Math.round(i.Bi*n),o=s,l=Math.round((o+t.C)*r);e.fillStyle=i.R;const c=Math.max(1,Math.floor(n)),u=Math.floor(.5*n);e.fillRect(a-u,o,c,l-o)}}),e.useMediaCoordinateSpace(({context:e})=>{const n=Wl(this.Yt),i=0+t.S+t.C+t.A+t.P/2;e.font=t.k,e.textAlign="left",e.textBaseline="middle",e.fillStyle=n.R;const a=t.Gi.Di(e,"Apr0");e.translate(l+r,i+a),e.fillText(n.ri,0,0)})}}let _c=class{constructor(e,t,n){this.xt=!0,this.Gt=new bc,this.Zt={Vt:!1,Z:"#4c525e",R:"white",ri:"",Qi:0,Bi:NaN,pi:!0},this.Ct=e,this.ts=t,this.ji=n}kt(){this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Gt.ht(this.Zt),this.Gt}Rt(){const e=this.Zt;if(e.Vt=!1,2===this.Ct.N().mode)return;const t=this.Ct.N().vertLine;if(!t.labelVisible)return;const n=this.ts.Et();if(n.Ki())return;e.Qi=n.Qi();const r=this.ji();if(null===r)return;e.Bi=r.Bi;const i=n.ss(this.Ct.Bt());e.ri=n.ns(Wl(i)),e.Vt=!0;const a=this.ts.Xi().X(t.labelBackgroundColor);e.Z=a.Z,e.R=a.G,e.pi=n.N().ticksVisible}};class wc{constructor(){this.es=null,this.rs=0}hs(){return this.rs}ls(e){this.rs=e}Ft(){return this.es}_s(e){this.es=e}us(e){return[]}cs(){return[]}Vt(){return!0}}var jc;!function(e){e[e.Normal=0]="Normal",e[e.Magnet=1]="Magnet",e[e.Hidden=2]="Hidden",e[e.MagnetOHLC=3]="MagnetOHLC"}(jc||(jc={}));let Nc=class extends wc{constructor(e,t){super(),this.Pt=null,this.ds=NaN,this.fs=0,this.ps=!1,this.vs=new Map,this.ws=!1,this.gs=new WeakMap,this.Ms=new WeakMap,this.bs=NaN,this.Ss=NaN,this.xs=NaN,this.Cs=NaN,this.ts=e,this.Ps=t,this.ks=((e,t)=>n=>{const r=t(),i=e();if(n===Wl(this.Pt).ys())return{gt:i,Bi:r};{const e=Wl(n.zt());return{gt:n.Ts(r,e),Bi:r}}})(()=>this.ds,()=>this.Ss);const n=((e,t)=>()=>{const n=this.ts.Et().Rs(e()),r=t();return n&&Number.isFinite(r)?{wt:n,Bi:r}:null})(()=>this.fs,()=>this.si());this.Ds=new _c(this,e,n)}N(){return this.Ps}Vs(e,t){this.xs=e,this.Cs=t}Is(){this.xs=NaN,this.Cs=NaN}Bs(){return this.xs}Es(){return this.Cs}As(e,t,n){this.ws||(this.ws=!0),this.ps=!0,this.zs(e,t,n)}Bt(){return this.fs}si(){return this.bs}ni(){return this.Ss}Vt(){return this.ps}Ls(){this.ps=!1,this.Os(),this.ds=NaN,this.bs=NaN,this.Ss=NaN,this.Pt=null,this.Is(),this.Ns()}Fs(e){let t=this.gs.get(e);t||(t=new dc(this,e),this.gs.set(e,t));let n=this.Ms.get(e);return n||(n=new cc(this.ts,this,e),this.Ms.set(e,n)),[t,n]}ti(e){return e===this.Pt&&this.Ps.horzLine.visible}ii(){return this.Ps.vertLine.visible}Ws(e,t){this.ps&&this.Pt===e||this.vs.clear();const n=[];return this.Pt===e&&n.push(this.Hs(this.vs,t,this.ks)),n}cs(){return this.ps?[this.Ds]:[]}Us(){return this.Pt}Ns(){this.ts.$s().forEach(e=>{var t,n;null==(t=this.gs.get(e))||t.kt(),null==(n=this.Ms.get(e))||n.kt()}),this.vs.forEach(e=>e.kt()),this.Ds.kt()}qs(e){return e&&!e.ys().Ki()?e.ys():null}zs(e,t,n){this.Ys(e,t,n)&&this.Ns()}Ys(e,t,n){const r=this.bs,i=this.Ss,a=this.ds,s=this.fs,o=this.Pt,l=this.qs(n);this.fs=e,this.bs=isNaN(e)?NaN:this.ts.Et().qt(e),this.Pt=n;const c=null!==l?l.zt():null;return null!==l&&null!==c?(this.ds=t,this.Ss=l.Nt(t,c)):(this.ds=NaN,this.Ss=NaN),r!==this.bs||i!==this.Ss||s!==this.fs||a!==this.ds||o!==this.Pt}Os(){const e=this.ts.js().map(e=>e.Xs().Ks()).filter(Xl),t=0===e.length?null:Math.max(...e);this.fs=null!==t?t:NaN}Hs(e,t,n){let r=e.get(t);return void 0===r&&(r=new yc(this,t,n),e.set(t,r)),r}};function kc(e){return"left"===e||"right"===e}let Sc=class e{constructor(e){this.Zs=new Map,this.Gs=[],this.Js=e}Qs(e,t){const n=(r=this.Zs.get(e),i=t,void 0===r?i:{tn:Math.max(r.tn,i.tn),sn:r.sn||i.sn});var r,i;this.Zs.set(e,n)}nn(){return this.Js}en(e){const t=this.Zs.get(e);return void 0===t?{tn:this.Js}:{tn:Math.max(this.Js,t.tn),sn:t.sn}}rn(){this.hn(),this.Gs=[{an:0}]}ln(e){this.hn(),this.Gs=[{an:1,Wt:e}]}_n(e){this.un(),this.Gs.push({an:5,Wt:e})}hn(){this.un(),this.Gs.push({an:6})}cn(){this.hn(),this.Gs=[{an:4}]}dn(e){this.hn(),this.Gs.push({an:2,Wt:e})}fn(e){this.hn(),this.Gs.push({an:3,Wt:e})}pn(){return this.Gs}vn(e){for(const t of e.Gs)this.mn(t);this.Js=Math.max(this.Js,e.Js),e.Zs.forEach((e,t)=>{this.Qs(t,e)})}static wn(){return new e(2)}static gn(){return new e(3)}mn(e){switch(e.an){case 0:this.rn();break;case 1:this.ln(e.Wt);break;case 2:this.dn(e.Wt);break;case 3:this.fn(e.Wt);break;case 4:this.cn();break;case 5:this._n(e.Wt);break;case 6:this.un()}}un(){const e=this.Gs.findIndex(e=>5===e.an);-1!==e&&this.Gs.splice(e,1)}},Cc=class{formatTickmarks(e){return e.map(e=>this.format(e))}};function Ec(e,t){if(!Hl(e))return"n/a";if(!Ul(t))throw new TypeError("invalid length");if(t<0||t>16)throw new TypeError("invalid length");return 0===t?e.toString():("0000000000000000"+e.toString()).slice(-t)}class Pc extends Cc{constructor(e,t){if(super(),t||(t=1),Hl(e)&&Ul(e)||(e=100),e<0)throw new TypeError("invalid base");this.Yi=e,this.Mn=t,this.bn()}format(e){const t=e<0?"":"";return e=Math.abs(e),t+this.Sn(e)}bn(){if(this.xn=0,this.Yi>0&&this.Mn>0){let e=this.Yi;for(;e>1;)e/=10,this.xn++}}Sn(e){const t=this.Yi/this.Mn;let n=Math.floor(e),r="";const i=void 0!==this.xn?this.xn:NaN;if(t>1){let a=+(Math.round(e*t)-n*t).toFixed(this.xn);a>=t&&(a-=t,n+=1),r="."+Ec(+a.toFixed(this.xn)*this.Mn,i)}else n=Math.round(n*t)/t,i>0&&(r="."+Ec(0,i));return n.toFixed(0)+r}}class Mc extends Pc{constructor(e=100){super(e)}format(e){return`${super.format(e)}%`}}class Oc extends Cc{constructor(e){super(),this.Cn=e}format(e){let t="";return e<0&&(t="-",e=-e),e<995?t+this.Pn(e):e<999995?t+this.Pn(e/1e3)+"K":e<999999995?(e=1e3*Math.round(e/1e3),t+this.Pn(e/1e6)+"M"):(e=1e6*Math.round(e/1e6),t+this.Pn(e/1e9)+"B")}Pn(e){let t;const n=Math.pow(10,this.Cn);return t=(e=Math.round(e*n)/n)>=1e-15&&e<1?e.toFixed(this.Cn).replace(/\.?0+$/,""):String(e),t.replace(/(\.[1-9]*)0+$/,(e,t)=>t)}}const Ac=/[2-9]/g;class Tc{constructor(e=50){this.kn=0,this.yn=1,this.Tn=1,this.Rn={},this.Dn=new Map,this.Vn=e}In(){this.kn=0,this.Dn.clear(),this.yn=1,this.Tn=1,this.Rn={}}Vi(e,t,n){return this.Bn(e,t,n).width}Di(e,t,n){const r=this.Bn(e,t,n);return((r.actualBoundingBoxAscent||0)-(r.actualBoundingBoxDescent||0))/2}Bn(e,t,n){const r=n||Ac,i=String(t).replace(r,"0");if(this.Dn.has(i))return Bl(this.Dn.get(i)).En;if(this.kn===this.Vn){const e=this.Rn[this.Tn];delete this.Rn[this.Tn],this.Dn.delete(e),this.Tn++,this.kn--}e.save(),e.textBaseline="middle";const a=e.measureText(i);return e.restore(),0===a.width&&t.length||(this.Dn.set(i,{En:a,An:this.yn}),this.Rn[this.yn]=i,this.kn++,this.yn++),a}}class Dc{constructor(e){this.zn=null,this.M=null,this.Ln="right",this.On=e}Nn(e,t,n){this.zn=e,this.M=t,this.Ln=n}nt(e){null!==this.M&&null!==this.zn&&this.zn.nt(e,this.M,this.On,this.Ln)}}class Rc{constructor(e,t,n){this.Fn=e,this.On=new Tc(50),this.Wn=t,this.O=n,this.F=-1,this.Gt=new Dc(this.On)}Tt(){const e=this.O.Hn(this.Wn);if(null===e)return null;const t=e.Un(this.Wn)?e.$n():this.Wn.Ft();if(null===t)return null;const n=e.qn(t);if("overlay"===n)return null;const r=this.O.Yn();return r.P!==this.F&&(this.F=r.P,this.On.In()),this.Gt.Nn(this.Fn.$i(),r,n),this.Gt}}class Ic extends ac{constructor(){super(...arguments),this.Yt=null}ht(e){this.Yt=e}jn(e,t){var n;if(!(null==(n=this.Yt)?void 0:n.Vt))return null;const{ut:r,ct:i,Kn:a}=this.Yt;return t>=r-i-7&&t<=r+i+7?{Xn:this.Yt,Kn:a}:null}et({context:e,bitmapSize:t,horizontalPixelRatio:n,verticalPixelRatio:r}){if(null===this.Yt)return;if(!1===this.Yt.Vt)return;const i=Math.round(this.Yt.ut*r);i<0||i>t.height||(e.lineCap="butt",e.strokeStyle=this.Yt.R,e.lineWidth=Math.floor(this.Yt.ct*n),Ll(e,this.Yt.Xt),zl(e,i,0,t.width))}}class Lc{constructor(e){this.Zn={ut:0,R:"rgba(0, 0, 0, 0)",ct:1,Xt:0,Vt:!1},this.Gn=new Ic,this.xt=!0,this.Jn=e,this.Qn=e.Qt(),this.Gn.ht(this.Zn)}kt(){this.xt=!0}Tt(){return this.Jn.Vt()?(this.xt&&(this.te(),this.xt=!1),this.Gn):null}}class zc extends Lc{constructor(e){super(e)}te(){this.Zn.Vt=!1;const e=this.Jn.Ft(),t=e.ie().ie;if(2!==t&&3!==t)return;const n=this.Jn.N();if(!n.baseLineVisible||!this.Jn.Vt())return;const r=this.Jn.zt();null!==r&&(this.Zn.Vt=!0,this.Zn.ut=e.Nt(r.Wt,r.Wt),this.Zn.R=n.baseLineColor,this.Zn.ct=n.baseLineWidth,this.Zn.Xt=n.baseLineStyle)}}class Fc extends ac{constructor(){super(...arguments),this.Yt=null}ht(e){this.Yt=e}se(){return this.Yt}et({context:e,horizontalPixelRatio:t,verticalPixelRatio:n}){const r=this.Yt;if(null===r)return;const i=Math.max(1,Math.floor(t)),a=i%2/2,s=Math.round(r.ne.x*t)+a,o=r.ne.y*n;e.fillStyle=r.ee,e.beginPath();const l=Math.max(2,1.5*r.re)*t;e.arc(s,o,l,0,2*Math.PI,!1),e.fill(),e.fillStyle=r.he,e.beginPath(),e.arc(s,o,r.ft*t,0,2*Math.PI,!1),e.fill(),e.lineWidth=i,e.strokeStyle=r.ae,e.beginPath(),e.arc(s,o,r.ft*t+i/2,0,2*Math.PI,!1),e.stroke()}}const Bc=[{le:0,oe:.25,_e:4,ue:10,ce:.25,de:0,fe:.4,pe:.8},{le:.25,oe:.525,_e:10,ue:14,ce:0,de:0,fe:.8,pe:0},{le:.525,oe:1,_e:14,ue:14,ce:0,de:0,fe:0,pe:0}];class Wc{constructor(e){this.Gt=new Fc,this.xt=!0,this.ve=!0,this.me=performance.now(),this.we=this.me-1,this.ge=e}Me(){this.we=this.me-1,this.kt()}be(){if(this.kt(),2===this.ge.N().lastPriceAnimation){const e=performance.now(),t=this.we-e;if(t>0)return void(t<650&&(this.we+=2600));this.me=e,this.we=e+2600}}kt(){this.xt=!0}Se(){this.ve=!0}Vt(){return 0!==this.ge.N().lastPriceAnimation}xe(){switch(this.ge.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.we}}Tt(){return this.xt?(this.Rt(),this.xt=!1,this.ve=!1):this.ve&&(this.Ce(),this.ve=!1),this.Gt}Rt(){this.Gt.ht(null);const e=this.ge.Qt().Et(),t=e.Pe(),n=this.ge.zt();if(null===t||null===n)return;const r=this.ge.ke(!0);if(r.ye||!t.Te(r.Re))return;const i={x:e.qt(r.Re),y:this.ge.Ft().Nt(r.gt,n.Wt)},a=r.R,s=this.ge.N().lineWidth,o=this.De(this.Ve(),a);this.Gt.ht({ee:a,re:s,he:o.he,ae:o.ae,ft:o.ft,ne:i})}Ce(){const e=this.Gt.se();if(null!==e){const t=this.De(this.Ve(),e.ee);e.he=t.he,e.ae=t.ae,e.ft=t.ft}}Ve(){return this.xe()?performance.now()-this.me:2599}Ie(e,t,n,r){const i=n+(r-n)*t;return this.ge.Qt().Xi().j(e,i)}De(e,t){const n=e%2600/2600;let r;for(const l of Bc)if(n>=l.le&&n<=l.oe){r=l;break}Fl(void 0!==r,"Last price animation internal logic error");const i=(n-r.le)/(r.oe-r.le);return{he:this.Ie(t,i,r.ce,r.de),ae:this.Ie(t,i,r.fe,r.pe),ft:(a=i,s=r._e,o=r.ue,s+(o-s)*a)};var a,s,o}}class $c extends Lc{constructor(e){super(e)}te(){const e=this.Zn;e.Vt=!1;const t=this.Jn.N();if(!t.priceLineVisible||!this.Jn.Vt())return;const n=this.Jn.ke(0===t.priceLineSource);n.ye||(e.Vt=!0,e.ut=n.Bi,e.R=this.Jn.Be(n.R),e.ct=t.priceLineWidth,e.Xt=t.priceLineStyle)}}class Vc extends xc{constructor(e){super(),this.Jt=e}qi(e,t,n){e.Vt=!1,t.Vt=!1;const r=this.Jt;if(!r.Vt())return;const i=r.N(),a=i.lastValueVisible,s=""!==r.Ee(),o=0===i.seriesLastValueMode,l=r.ke(!1);if(l.ye)return;a&&(e.ri=this.Ae(l,a,o),e.Vt=0!==e.ri.length),(s||o)&&(t.ri=this.ze(l,a,s,o),t.Vt=t.ri.length>0);const c=r.Be(l.R),u=this.Jt.Qt().Xi().X(c);n.Z=u.Z,n.Bi=l.Bi,t.Ht=r.Qt().Ut(l.Bi/r.Ft().$t()),e.Ht=c,e.R=u.G,t.R=u.G}ze(e,t,n,r){let i="";const a=this.Jt.Ee();return n&&0!==a.length&&(i+=`${a} `),t&&r&&(i+=this.Jt.Ft().Le()?e.Oe:e.Ne),i.trim()}Ae(e,t,n){return t?n?this.Jt.Ft().Le()?e.Ne:e.Oe:e.ri:""}}function Kc(e,t,n,r){const i=Number.isFinite(t),a=Number.isFinite(n);return i&&a?e(t,n):i||a?i?t:n:r}class Hc{constructor(e,t){this.Fe=e,this.We=t}He(e){return null!==e&&this.Fe===e.Fe&&this.We===e.We}Ue(){return new Hc(this.Fe,this.We)}$e(){return this.Fe}qe(){return this.We}Ye(){return this.We-this.Fe}Ki(){return this.We===this.Fe||Number.isNaN(this.We)||Number.isNaN(this.Fe)}vn(e){return null===e?this:new Hc(Kc(Math.min,this.$e(),e.$e(),-1/0),Kc(Math.max,this.qe(),e.qe(),1/0))}je(e){if(!Hl(e))return;if(0===this.We-this.Fe)return;const t=.5*(this.We+this.Fe);let n=this.We-t,r=this.Fe-t;n*=e,r*=e,this.We=t+n,this.Fe=t+r}Ke(e){Hl(e)&&(this.We+=e,this.Fe+=e)}Xe(){return{minValue:this.Fe,maxValue:this.We}}static Ze(e){return null===e?null:new Hc(e.minValue,e.maxValue)}}class Uc{constructor(e,t){this.Ge=e,this.Je=t||null}Qe(){return this.Ge}tr(){return this.Je}Xe(){return{priceRange:null===this.Ge?null:this.Ge.Xe(),margins:this.Je||void 0}}static Ze(e){return null===e?null:new Uc(Hc.Ze(e.priceRange),e.margins)}}class Yc extends Lc{constructor(e,t){super(e),this.ir=t}te(){const e=this.Zn;e.Vt=!1;const t=this.ir.N();if(!this.Jn.Vt()||!t.lineVisible)return;const n=this.ir.sr();null!==n&&(e.Vt=!0,e.ut=n,e.R=t.color,e.ct=t.lineWidth,e.Xt=t.lineStyle,e.Kn=this.ir.N().id)}}class qc extends xc{constructor(e,t){super(),this.ge=e,this.ir=t}qi(e,t,n){e.Vt=!1,t.Vt=!1;const r=this.ir.N(),i=r.axisLabelVisible,a=""!==r.title,s=this.ge;if(!i||!s.Vt())return;const o=this.ir.sr();if(null===o)return;a&&(t.ri=r.title,t.Vt=!0),t.Ht=s.Qt().Ut(o/s.Ft().$t()),e.ri=this.nr(r.price),e.Vt=!0;const l=this.ge.Qt().Xi().X(r.axisLabelColor||r.color);n.Z=l.Z;const c=r.axisLabelTextColor||l.G;e.R=c,t.R=c,n.Bi=o}nr(e){const t=this.ge.zt();return null===t?"":this.ge.Ft().Zi(e,t.Wt)}}class Gc{constructor(e,t){this.ge=e,this.Ps=t,this.er=new Yc(e,this),this.Fn=new qc(e,this),this.rr=new Rc(this.Fn,e,e.Qt())}hr(e){Kl(this.Ps,e),this.kt(),this.ge.Qt().ar()}N(){return this.Ps}lr(){return this.er}_r(){return this.rr}ur(){return this.Fn}kt(){this.er.kt(),this.Fn.kt()}sr(){const e=this.ge,t=e.Ft();if(e.Qt().Et().Ki()||t.Ki())return null;const n=e.zt();return null===n?null:t.Nt(this.Ps.price,n.Wt)}}class Xc extends wc{constructor(e){super(),this.ts=e}Qt(){return this.ts}}const Qc={Bar:(e,t,n,r)=>{var i;const a=t.upColor,s=t.downColor,o=Wl(e(n,r)),l=$l(o.Wt[0])<=$l(o.Wt[3]);return{cr:null!=(i=o.R)?i:l?a:s}},Candlestick:(e,t,n,r)=>{var i,a,s;const o=t.upColor,l=t.downColor,c=t.borderUpColor,u=t.borderDownColor,d=t.wickUpColor,h=t.wickDownColor,f=Wl(e(n,r)),m=$l(f.Wt[0])<=$l(f.Wt[3]);return{cr:null!=(i=f.R)?i:m?o:l,dr:null!=(a=f.Ht)?a:m?c:u,pr:null!=(s=f.vr)?s:m?d:h}},Custom:(e,t,n,r)=>{var i;return{cr:null!=(i=Wl(e(n,r)).R)?i:t.color}},Area:(e,t,n,r)=>{var i,a,s,o;const l=Wl(e(n,r));return{cr:null!=(i=l.vt)?i:t.lineColor,vt:null!=(a=l.vt)?a:t.lineColor,mr:null!=(s=l.mr)?s:t.topColor,wr:null!=(o=l.wr)?o:t.bottomColor}},Baseline:(e,t,n,r)=>{var i,a,s,o,l,c;const u=Wl(e(n,r));return{cr:u.Wt[3]>=t.baseValue.price?t.topLineColor:t.bottomLineColor,gr:null!=(i=u.gr)?i:t.topLineColor,Mr:null!=(a=u.Mr)?a:t.bottomLineColor,br:null!=(s=u.br)?s:t.topFillColor1,Sr:null!=(o=u.Sr)?o:t.topFillColor2,Cr:null!=(l=u.Cr)?l:t.bottomFillColor1,Pr:null!=(c=u.Pr)?c:t.bottomFillColor2}},Line:(e,t,n,r)=>{var i,a;const s=Wl(e(n,r));return{cr:null!=(i=s.R)?i:t.color,vt:null!=(a=s.R)?a:t.color}},Histogram:(e,t,n,r)=>{var i;return{cr:null!=(i=Wl(e(n,r)).R)?i:t.color}}};class Zc{constructor(e){this.kr=(e,t)=>void 0!==t?t.Wt:this.ge.Xs().yr(e),this.ge=e,this.Tr=Qc[e.Rr()]}Dr(e,t){return this.Tr(this.kr,this.ge.N(),e,t)}}function Jc(e,t,n,r,i=0,a=t.length){let s=a-i;for(;0<s;){const a=s>>1,o=i+a;r(t[o],n)===e?(i=o+1,s-=a+1):s=a}return i}const eu=Jc.bind(null,!0),tu=Jc.bind(null,!1);var nu;!function(e){e[e.NearestLeft=-1]="NearestLeft",e[e.None=0]="None",e[e.NearestRight=1]="NearestRight"}(nu||(nu={}));const ru=30;class iu{constructor(){this.Vr=[],this.Ir=new Map,this.Br=new Map,this.Er=[]}Ar(){return this.zr()>0?this.Vr[this.Vr.length-1]:null}Lr(){return this.zr()>0?this.Or(0):null}Ks(){return this.zr()>0?this.Or(this.Vr.length-1):null}zr(){return this.Vr.length}Ki(){return 0===this.zr()}Te(e){return null!==this.Nr(e,0)}yr(e){return this.Fr(e)}Fr(e,t=0){const n=this.Nr(e,t);return null===n?null:f(h({},this.Wr(n)),{Re:this.Or(n)})}Hr(){return this.Vr}Ur(e,t,n){if(this.Ki())return null;let r=null;for(const i of n)r=au(r,this.$r(e,t,i));return r}ht(e){this.Br.clear(),this.Ir.clear(),this.Vr=e,this.Er=e.map(e=>e.Re)}qr(){return this.Er}Or(e){return this.Vr[e].Re}Wr(e){return this.Vr[e]}Nr(e,t){const n=this.Yr(e);if(null===n&&0!==t)switch(t){case-1:return this.jr(e);case 1:return this.Kr(e);default:throw new TypeError("Unknown search mode")}return n}jr(e){let t=this.Xr(e);return t>0&&(t-=1),t!==this.Vr.length&&this.Or(t)<e?t:null}Kr(e){const t=this.Zr(e);return t!==this.Vr.length&&e<this.Or(t)?t:null}Yr(e){const t=this.Xr(e);return t===this.Vr.length||e<this.Vr[t].Re?null:t}Xr(e){return eu(this.Vr,e,(e,t)=>e.Re<t)}Zr(e){return tu(this.Vr,e,(e,t)=>e.Re>t)}Gr(e,t,n){let r=null;for(let i=e;i<t;i++){const e=this.Vr[i].Wt[n];Number.isNaN(e)||(null===r?r={Jr:e,Qr:e}:(e<r.Jr&&(r.Jr=e),e>r.Qr&&(r.Qr=e)))}return r}$r(e,t,n){if(this.Ki())return null;let r=null;const i=Wl(this.Lr()),a=Wl(this.Ks()),s=Math.max(e,i),o=Math.min(t,a),l=Math.ceil(s/ru)*ru,c=Math.max(l,Math.floor(o/ru)*ru);{const e=this.Xr(s),i=this.Zr(Math.min(o,l,t));r=au(r,this.Gr(e,i,n))}let u=this.Ir.get(n);void 0===u&&(u=new Map,this.Ir.set(n,u));for(let d=Math.max(l+1,s);d<c;d+=ru){const e=Math.floor(d/ru);let t=u.get(e);if(void 0===t){const r=this.Xr(e*ru),i=this.Zr((e+1)*ru-1);t=this.Gr(r,i,n),u.set(e,t)}r=au(r,t)}{const e=this.Xr(c),t=this.Zr(o);r=au(r,this.Gr(e,t,n))}return r}}function au(e,t){return null===e?t:null===t?e:{Jr:Math.min(e.Jr,t.Jr),Qr:Math.max(e.Qr,t.Qr)}}class su{constructor(e){this.th=e}nt(e,t,n){this.th.draw(e)}ih(e,t,n){var r,i;null==(i=(r=this.th).drawBackground)||i.call(r,e)}}class ou{constructor(e){this.Dn=null,this.sh=e}Tt(){var e;const t=this.sh.renderer();if(null===t)return null;if((null==(e=this.Dn)?void 0:e.nh)===t)return this.Dn.eh;const n=new su(t);return this.Dn={nh:t,eh:n},n}rh(){var e,t,n;return null!=(n=null==(t=(e=this.sh).zOrder)?void 0:t.call(e))?n:"normal"}}class lu{constructor(e){this.hh=null,this.ah=e}oh(){return this.ah}Ns(){var e,t;null==(t=(e=this.ah).updateAllViews)||t.call(e)}Fs(){var e,t,n,r;const i=null!=(n=null==(t=(e=this.ah).paneViews)?void 0:t.call(e))?n:[];if((null==(r=this.hh)?void 0:r.nh)===i)return this.hh.eh;const a=i.map(e=>new ou(e));return this.hh={nh:i,eh:a},a}jn(e,t){var n,r,i;return null!=(i=null==(r=(n=this.ah).hitTest)?void 0:r.call(n,e,t))?i:null}}let cu=class extends lu{us(){return[]}};class uu{constructor(e){this.th=e}nt(e,t,n){this.th.draw(e)}ih(e,t,n){var r,i;null==(i=(r=this.th).drawBackground)||i.call(r,e)}}class du{constructor(e){this.Dn=null,this.sh=e}Tt(){var e;const t=this.sh.renderer();if(null===t)return null;if((null==(e=this.Dn)?void 0:e.nh)===t)return this.Dn.eh;const n=new uu(t);return this.Dn={nh:t,eh:n},n}rh(){var e,t,n;return null!=(n=null==(t=(e=this.sh).zOrder)?void 0:t.call(e))?n:"normal"}}function hu(e){var t,n,r,i,a;return{ri:e.text(),Bi:e.coordinate(),Ii:null==(t=e.fixedCoordinate)?void 0:t.call(e),R:e.textColor(),Z:e.backColor(),Vt:null==(r=null==(n=e.visible)?void 0:n.call(e))||r,pi:null==(a=null==(i=e.tickVisible)?void 0:i.call(e))||a}}class fu{constructor(e,t){this.Gt=new bc,this._h=e,this.uh=t}Tt(){return this.Gt.ht(h({Qi:this.uh.Qi()},hu(this._h))),this.Gt}}class mu extends xc{constructor(e,t){super(),this._h=e,this.Yi=t}qi(e,t,n){const r=hu(this._h);n.Z=r.Z,e.R=r.R;const i=2/12*this.Yi.P();n.Ti=i,n.Ri=i,n.Bi=r.Bi,n.Ii=r.Ii,e.ri=r.ri,e.Vt=r.Vt,e.pi=r.pi}}class pu extends lu{constructor(e,t){super(e),this.dh=null,this.fh=null,this.ph=null,this.mh=null,this.ge=t}cs(){var e,t,n,r;const i=null!=(n=null==(t=(e=this.ah).timeAxisViews)?void 0:t.call(e))?n:[];if((null==(r=this.dh)?void 0:r.nh)===i)return this.dh.eh;const a=this.ge.Qt().Et(),s=i.map(e=>new fu(e,a));return this.dh={nh:i,eh:s},s}Ws(){var e,t,n,r;const i=null!=(n=null==(t=(e=this.ah).priceAxisViews)?void 0:t.call(e))?n:[];if((null==(r=this.fh)?void 0:r.nh)===i)return this.fh.eh;const a=this.ge.Ft(),s=i.map(e=>new mu(e,a));return this.fh={nh:i,eh:s},s}wh(){var e,t,n,r;const i=null!=(n=null==(t=(e=this.ah).priceAxisPaneViews)?void 0:t.call(e))?n:[];if((null==(r=this.ph)?void 0:r.nh)===i)return this.ph.eh;const a=i.map(e=>new du(e));return this.ph={nh:i,eh:a},a}gh(){var e,t,n,r;const i=null!=(n=null==(t=(e=this.ah).timeAxisPaneViews)?void 0:t.call(e))?n:[];if((null==(r=this.mh)?void 0:r.nh)===i)return this.mh.eh;const a=i.map(e=>new du(e));return this.mh={nh:i,eh:a},a}Mh(e,t){var n,r,i;return null!=(i=null==(r=(n=this.ah).autoscaleInfo)?void 0:r.call(n,e,t))?i:null}}function gu(e,t,n,r){e.forEach(e=>{t(e).forEach(e=>{e.rh()===n&&r.push(e)})})}function xu(e){return e.Fs()}function yu(e){return e.wh()}function vu(e){return e.gh()}const bu=["Area","Line","Baseline"];class _u extends Xc{constructor(e,t,n,r,i){super(e),this.Yt=new iu,this.er=new $c(this),this.bh=[],this.Sh=new zc(this),this.xh=null,this.Ch=null,this.Ph=null,this.kh=[],this.Ps=n,this.yh=t;const a=new Vc(this);this.vs=[a],this.rr=new Rc(a,this,e),bu.includes(this.yh)&&(this.xh=new Wc(this)),this.Th(),this.sh=r(this,this.Qt(),i)}m(){null!==this.Ph&&clearTimeout(this.Ph)}Be(e){return this.Ps.priceLineColor||e}ke(e){const t={ye:!0},n=this.Ft();if(this.Qt().Et().Ki()||n.Ki()||this.Yt.Ki())return t;const r=this.Qt().Et().Pe(),i=this.zt();if(null===r||null===i)return t;let a,s;if(e){const e=this.Yt.Ar();if(null===e)return t;a=e,s=e.Re}else{const e=this.Yt.Fr(r.bi(),-1);if(null===e)return t;if(a=this.Yt.yr(e.Re),null===a)return t;s=e.Re}const o=a.Wt[3],l=this.Rh().Dr(s,{Wt:a}),c=n.Nt(o,i.Wt);return{ye:!1,gt:o,ri:n.Zi(o,i.Wt),Oe:n.Dh(o),Ne:n.Vh(o,i.Wt),R:l.cr,Bi:c,Re:s}}Rh(){return null!==this.Ch||(this.Ch=new Zc(this)),this.Ch}N(){return this.Ps}hr(e){const t=e.priceScaleId;void 0!==t&&t!==this.Ps.priceScaleId&&this.Qt().Ih(this,t),Kl(this.Ps,e),void 0!==e.priceFormat&&(this.Th(),this.Qt().Bh()),this.Qt().Eh(this),this.Qt().Ah(),this.sh.kt("options")}ht(e,t){this.Yt.ht(e),this.sh.kt("data"),null!==this.xh&&(t&&t.zh?this.xh.be():0===e.length&&this.xh.Me());const n=this.Qt().Hn(this);this.Qt().Lh(n),this.Qt().Eh(this),this.Qt().Ah(),this.Qt().ar()}Oh(e){const t=new Gc(this,e);return this.bh.push(t),this.Qt().Eh(this),t}Nh(e){const t=this.bh.indexOf(e);-1!==t&&this.bh.splice(t,1),this.Qt().Eh(this)}Fh(){return this.bh}Rr(){return this.yh}zt(){const e=this.Wh();return null===e?null:{Wt:e.Wt[3],Hh:e.wt}}Wh(){const e=this.Qt().Et().Pe();if(null===e)return null;const t=e.Uh();return this.Yt.Fr(t,1)}Xs(){return this.Yt}$h(e){const t=this.Yt.yr(e);return null===t?null:"Bar"===this.yh||"Candlestick"===this.yh||"Custom"===this.yh?{qh:t.Wt[0],Yh:t.Wt[1],jh:t.Wt[2],Kh:t.Wt[3]}:t.Wt[3]}Xh(e){const t=[];gu(this.kh,xu,"top",t);const n=this.xh;return null!==n&&n.Vt()?(null===this.Ph&&n.xe()&&(this.Ph=setTimeout(()=>{this.Ph=null,this.Qt().Zh()},0)),n.Se(),t.unshift(n),t):t}Fs(){const e=[];this.Gh()||e.push(this.Sh),e.push(this.sh,this.er);const t=this.bh.map(e=>e.lr());return e.push(...t),gu(this.kh,xu,"normal",e),e}Jh(){return this.Qh(xu,"bottom")}ta(e){return this.Qh(yu,e)}ia(e){return this.Qh(vu,e)}sa(e,t){return this.kh.map(n=>n.jn(e,t)).filter(e=>null!==e)}us(){return[this.rr,...this.bh.map(e=>e._r())]}Ws(e,t){if(t!==this.es&&!this.Gh())return[];const n=[...this.vs];for(const r of this.bh)n.push(r.ur());return this.kh.forEach(e=>{n.push(...e.Ws())}),n}cs(){const e=[];return this.kh.forEach(t=>{e.push(...t.cs())}),e}Mh(e,t){if(void 0!==this.Ps.autoscaleInfoProvider){const n=this.Ps.autoscaleInfoProvider(()=>{const n=this.na(e,t);return null===n?null:n.Xe()});return Uc.Ze(n)}return this.na(e,t)}ea(){return this.Ps.priceFormat.minMove}ra(){return this.ha}Ns(){var e;this.sh.kt();for(const t of this.vs)t.kt();for(const t of this.bh)t.kt();this.er.kt(),this.Sh.kt(),null==(e=this.xh)||e.kt(),this.kh.forEach(e=>e.Ns())}Ft(){return Wl(super.Ft())}At(e){if("Line"!==this.yh&&"Area"!==this.yh&&"Baseline"!==this.yh||!this.Ps.crosshairMarkerVisible)return null;const t=this.Yt.yr(e);return null===t?null:{gt:t.Wt[3],ft:this.aa(),Ht:this.la(),Ot:this.oa(),Lt:this._a(e)}}Ee(){return this.Ps.title}Vt(){return this.Ps.visible}ua(e){this.kh.push(new pu(e,this))}ca(e){this.kh=this.kh.filter(t=>t.oh()!==e)}da(){if("Custom"===this.yh)return e=>this.sh.fa(e)}pa(){if("Custom"===this.yh)return e=>this.sh.va(e)}ma(){return this.Yt.qr()}Gh(){return!kc(this.Ft().wa())}na(e,t){if(!Ul(e)||!Ul(t)||this.Yt.Ki())return null;const n="Line"===this.yh||"Area"===this.yh||"Baseline"===this.yh||"Histogram"===this.yh?[3]:[2,1],r=this.Yt.Ur(e,t,n);let i=null!==r?new Hc(r.Jr,r.Qr):null,a=null;if("Histogram"===this.Rr()){const e=this.Ps.base,t=new Hc(e,e);i=null!==i?i.vn(t):t}return this.kh.forEach(n=>{const r=n.Mh(e,t);if(null==r?void 0:r.priceRange){const e=new Hc(r.priceRange.minValue,r.priceRange.maxValue);i=null!==i?i.vn(e):e}(null==r?void 0:r.margins)&&(a=r.margins)}),new Uc(i,a)}aa(){switch(this.yh){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerRadius}return 0}la(){switch(this.yh){case"Line":case"Area":case"Baseline":{const e=this.Ps.crosshairMarkerBorderColor;if(0!==e.length)return e}}return null}oa(){switch(this.yh){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerBorderWidth}return 0}_a(e){switch(this.yh){case"Line":case"Area":case"Baseline":{const e=this.Ps.crosshairMarkerBackgroundColor;if(0!==e.length)return e}}return this.Rh().Dr(e).cr}Th(){var e;switch(this.Ps.priceFormat.type){case"custom":{const t=this.Ps.priceFormat.formatter;this.ha={format:t,formatTickmarks:null!=(e=this.Ps.priceFormat.tickmarksFormatter)?e:e=>e.map(t)};break}case"volume":this.ha=new Oc(this.Ps.priceFormat.precision);break;case"percent":this.ha=new Mc(this.Ps.priceFormat.precision);break;default:{const e=Math.pow(10,this.Ps.priceFormat.precision);this.ha=new Pc(e,this.Ps.priceFormat.minMove*e)}}null!==this.es&&this.es.ga()}Qh(e,t){const n=[];return gu(this.kh,e,t,n),n}}const wu=[3],ju=[0,1,2,3];class Nu{constructor(e){this.Ps=e}Ma(e,t,n){let r=e;if(0===this.Ps.mode)return r;const i=n.ys(),a=i.zt();if(null===a)return r;const s=i.Nt(e,a),o=n.ba().filter(e=>e instanceof _u).reduce((e,r)=>{if(n.Un(r)||!r.Vt())return e;const i=r.Ft(),a=r.Xs();if(i.Ki()||!a.Te(t))return e;const s=a.yr(t);if(null===s)return e;const o=$l(r.zt()),l=3===this.Ps.mode?ju:wu;return e.concat(l.map(e=>i.Nt(s.Wt[e],o.Wt)))},[]);if(0===o.length)return r;o.sort((e,t)=>Math.abs(e-s)-Math.abs(t-s));const l=o[0];return r=i.Ts(l,a),r}}function ku(e,t,n){return Math.min(Math.max(e,t),n)}function Su(e,t,n){return t-e<=n}class Cu extends ac{constructor(){super(...arguments),this.Yt=null}ht(e){this.Yt=e}et({context:e,bitmapSize:t,horizontalPixelRatio:n,verticalPixelRatio:r}){if(null===this.Yt)return;const i=Math.max(1,Math.floor(n));var a,s;e.lineWidth=i,s=()=>{const a=Wl(this.Yt);if(a.Sa){e.strokeStyle=a.xa,Ll(e,a.Ca),e.beginPath();for(const r of a.Pa){const a=Math.round(r.ka*n);e.moveTo(a,-i),e.lineTo(a,t.height+i)}e.stroke()}if(a.ya){e.strokeStyle=a.Ta,Ll(e,a.Ra),e.beginPath();for(const n of a.Da){const a=Math.round(n.ka*r);e.moveTo(-i,a),e.lineTo(t.width+i,a)}e.stroke()}},(a=e).save(),a.lineWidth%2&&a.translate(.5,.5),s(),a.restore()}}class Eu{constructor(e){this.Gt=new Cu,this.xt=!0,this.Pt=e}kt(){this.xt=!0}Tt(){if(this.xt){const e=this.Pt.Qt().N().grid,t={ya:e.horzLines.visible,Sa:e.vertLines.visible,Ta:e.horzLines.color,xa:e.vertLines.color,Ra:e.horzLines.style,Ca:e.vertLines.style,Da:this.Pt.ys().Va(),Pa:(this.Pt.Qt().Et().Va()||[]).map(e=>({ka:e.coord}))};this.Gt.ht(t),this.xt=!1}return this.Gt}}class Pu{constructor(e){this.sh=new Eu(e)}lr(){return this.sh}}const Mu={Ia:4,Ba:1e-4};function Ou(e,t){const n=100*(e-t)/t;return t<0?-n:n}function Au(e,t){const n=Ou(e.$e(),t),r=Ou(e.qe(),t);return new Hc(n,r)}function Tu(e,t){const n=100*(e-t)/t+100;return t<0?-n:n}function Du(e,t){const n=Tu(e.$e(),t),r=Tu(e.qe(),t);return new Hc(n,r)}function Ru(e,t){const n=Math.abs(e);if(n<1e-15)return 0;const r=Math.log10(n+t.Ba)+t.Ia;return e<0?-r:r}function Iu(e,t){const n=Math.abs(e);if(n<1e-15)return 0;const r=Math.pow(10,n-t.Ia)-t.Ba;return e<0?-r:r}function Lu(e,t){if(null===e)return null;const n=Ru(e.$e(),t),r=Ru(e.qe(),t);return new Hc(n,r)}function zu(e,t){if(null===e)return null;const n=Iu(e.$e(),t),r=Iu(e.qe(),t);return new Hc(n,r)}function Fu(e){if(null===e)return Mu;const t=Math.abs(e.qe()-e.$e());if(t>=1||t<1e-15)return Mu;const n=Math.ceil(Math.abs(Math.log10(t))),r=Mu.Ia+n;return{Ia:r,Ba:1/Math.pow(10,r)}}class Bu{constructor(e,t){if(this.Ea=e,this.Aa=t,function(e){if(e<0)return!1;for(let t=e;t>1;t/=10)if(t%10!=0)return!1;return!0}(this.Ea))this.za=[2,2.5,2];else{this.za=[];for(let e=this.Ea;1!==e;){if(e%2==0)this.za.push(2),e/=2;else{if(e%5!=0)throw new Error("unexpected base");this.za.push(2,2.5),e/=5}if(this.za.length>100)throw new Error("something wrong with base")}}}La(e,t,n){const r=0===this.Ea?0:1/this.Ea;let i=Math.pow(10,Math.max(0,Math.ceil(Math.log10(e-t)))),a=0,s=this.Aa[0];for(;;){const e=Su(i,r,1e-14)&&i>r+1e-14,t=Su(i,n*s,1e-14),o=Su(i,1,1e-14);if(!(e&&t&&o))break;i/=s,s=this.Aa[++a%this.Aa.length]}if(i<=r+1e-14&&(i=r),i=Math.max(1,i),this.za.length>0&&(o=i,Math.abs(o-1)<1e-14))for(a=0,s=this.za[0];Su(i,n*s,1e-14)&&i>r+1e-14;)i/=s,s=this.za[++a%this.za.length];var o;return i}}class Wu{constructor(e,t,n,r){this.Oa=[],this.Yi=e,this.Ea=t,this.Na=n,this.Fa=r}La(e,t){if(e<t)throw new Error("high < low");const n=this.Yi.$t(),r=(e-t)*this.Wa()/n,i=new Bu(this.Ea,[2,2.5,2]),a=new Bu(this.Ea,[2,2,2.5]),s=new Bu(this.Ea,[2.5,2,2]),o=[];return o.push(i.La(e,t,r),a.La(e,t,r),s.La(e,t,r)),function(e){if(e.length<1)throw Error("array is empty");let t=e[0];for(let n=1;n<e.length;++n)e[n]<t&&(t=e[n]);return t}(o)}Ha(){const e=this.Yi,t=e.zt();if(null===t)return void(this.Oa=[]);const n=e.$t(),r=this.Na(n-1,t),i=this.Na(0,t),a=this.Yi.N().entireTextOnly?this.Ua()/2:0,s=a,o=n-1-a,l=Math.max(r,i),c=Math.min(r,i);if(l===c)return void(this.Oa=[]);const u=this.La(l,c);if(this.$a(t,u,l,c,s,o),e.qa()&&this.Ya(u,c,l)){const e=this.Yi.ja();this.Ka(t,u,s,o,e,2*e)}const d=this.Oa.map(e=>e.Xa),h=this.Yi.Za(d);for(let f=0;f<this.Oa.length;f++)this.Oa[f].Ga=h[f]}Va(){return this.Oa}Ua(){return this.Yi.P()}Wa(){return Math.ceil(2.5*this.Ua())}$a(e,t,n,r,i,a){const s=this.Oa,o=this.Yi;let l=n%t;l+=l<0?t:0;const c=n>=r?1:-1;let u=null,d=0;for(let h=n-l;h>r;h-=t){const n=this.Fa(h,e,!0);null!==u&&Math.abs(n-u)<this.Wa()||n<i||n>a||(d<s.length?(s[d].ka=n,s[d].Ga=o.Ja(h),s[d].Xa=h):s.push({ka:n,Ga:o.Ja(h),Xa:h}),d++,u=n,o.Qa()&&(t=this.La(h*c,r)))}s.length=d}Ka(e,t,n,r,i,a){const s=this.Oa,o=this.tl(e,n,i,a),l=this.tl(e,r,-a,-i),c=this.Fa(0,e,!0)-this.Fa(t,e,!0);s.length>0&&s[0].ka-o.ka<c/2&&s.shift(),s.length>0&&l.ka-s[s.length-1].ka<c/2&&s.pop(),s.unshift(o),s.push(l)}tl(e,t,n,r){const i=(n+r)/2,a=this.Na(t+n,e),s=this.Na(t+r,e),o=Math.min(a,s),l=Math.max(a,s),c=Math.max(.1,this.La(l,o)),u=this.Na(t+i,e),d=u-u%c,h=this.Fa(d,e,!0);return{Ga:this.Yi.Ja(d),ka:h,Xa:d}}Ya(e,t,n){let r=$l(this.Yi.Qe());return this.Yi.Qa()&&(r=zu(r,this.Yi.il())),r.$e()-t<e&&n-r.qe()<e}}function $u(e){return e.slice().sort((e,t)=>Wl(e.hs())-Wl(t.hs()))}var Vu;!function(e){e[e.Normal=0]="Normal",e[e.Logarithmic=1]="Logarithmic",e[e.Percentage=2]="Percentage",e[e.IndexedTo100=3]="IndexedTo100"}(Vu||(Vu={}));const Ku=new Mc,Hu=new Pc(100,1);class Uu{constructor(e,t,n,r,i){this.sl=0,this.nl=null,this.Ge=null,this.el=null,this.rl={hl:!1,al:null},this.ll=!1,this.ol=0,this._l=0,this.ul=new Vl,this.cl=new Vl,this.dl=[],this.fl=null,this.pl=null,this.vl=null,this.ml=null,this.wl=null,this.ha=Hu,this.gl=Fu(null),this.Ml=e,this.Ps=t,this.bl=n,this.Sl=r,this.xl=i,this.Cl=new Wu(this,100,this.Pl.bind(this),this.kl.bind(this))}wa(){return this.Ml}N(){return this.Ps}hr(e){if(Kl(this.Ps,e),this.ga(),void 0!==e.mode&&this.yl({ie:e.mode}),void 0!==e.scaleMargins){const t=Bl(e.scaleMargins.top),n=Bl(e.scaleMargins.bottom);if(t<0||t>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${t}`);if(n<0||n>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${n}`);if(t+n>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${t+n}`);this.Tl(),this.vl=null}}Rl(){return this.Ps.autoScale}Dl(){return this.ll}Qa(){return 1===this.Ps.mode}Le(){return 2===this.Ps.mode}Vl(){return 3===this.Ps.mode}il(){return this.gl}ie(){return{sn:this.Ps.autoScale,Il:this.Ps.invertScale,ie:this.Ps.mode}}yl(e){const t=this.ie();let n=null;void 0!==e.sn&&(this.Ps.autoScale=e.sn),void 0!==e.ie&&(this.Ps.mode=e.ie,2!==e.ie&&3!==e.ie||(this.Ps.autoScale=!0),this.rl.hl=!1),1===t.ie&&e.ie!==t.ie&&(function(e,t){if(null===e)return!1;const n=Iu(e.$e(),t),r=Iu(e.qe(),t);return isFinite(n)&&isFinite(r)}(this.Ge,this.gl)?(n=zu(this.Ge,this.gl),null!==n&&this.Bl(n)):this.Ps.autoScale=!0),1===e.ie&&e.ie!==t.ie&&(n=Lu(this.Ge,this.gl),null!==n&&this.Bl(n));const r=t.ie!==this.Ps.mode;r&&(2===t.ie||this.Le())&&this.ga(),r&&(3===t.ie||this.Vl())&&this.ga(),void 0!==e.Il&&t.Il!==e.Il&&(this.Ps.invertScale=e.Il,this.El()),this.cl.p(t,this.ie())}Al(){return this.cl}P(){return this.bl.fontSize}$t(){return this.sl}zl(e){this.sl!==e&&(this.sl=e,this.Tl(),this.vl=null)}Ll(){if(this.nl)return this.nl;const e=this.$t()-this.Ol()-this.Nl();return this.nl=e,e}Qe(){return this.Fl(),this.Ge}Bl(e,t){const n=this.Ge;(t||null===n&&null!==e||null!==n&&!n.He(e))&&(this.vl=null,this.Ge=e)}Wl(e){this.Bl(e),this.Hl(null!==e)}Ki(){return this.Fl(),0===this.sl||!this.Ge||this.Ge.Ki()}Ul(e){return this.Il()?e:this.$t()-1-e}Nt(e,t){return this.Le()?e=Ou(e,t):this.Vl()&&(e=Tu(e,t)),this.kl(e,t)}$l(e,t,n){this.Fl();const r=this.Nl(),i=Wl(this.Qe()),a=i.$e(),s=i.qe(),o=this.Ll()-1,l=this.Il(),c=o/(s-a),u=void 0===n?0:n.from,d=void 0===n?e.length:n.to,h=this.ql();for(let f=u;f<d;f++){const n=e[f],i=n.gt;if(isNaN(i))continue;let s=i;null!==h&&(s=h(n.gt,t));const o=r+c*(s-a),u=l?o:this.sl-1-o;n.ut=u}}Yl(e,t,n){this.Fl();const r=this.Nl(),i=Wl(this.Qe()),a=i.$e(),s=i.qe(),o=this.Ll()-1,l=this.Il(),c=o/(s-a),u=void 0===n?0:n.from,d=void 0===n?e.length:n.to,h=this.ql();for(let f=u;f<d;f++){const n=e[f];let i=n.qh,s=n.Yh,o=n.jh,u=n.Kh;null!==h&&(i=h(n.qh,t),s=h(n.Yh,t),o=h(n.jh,t),u=h(n.Kh,t));let d=r+c*(i-a),m=l?d:this.sl-1-d;n.jl=m,d=r+c*(s-a),m=l?d:this.sl-1-d,n.Kl=m,d=r+c*(o-a),m=l?d:this.sl-1-d,n.Xl=m,d=r+c*(u-a),m=l?d:this.sl-1-d,n.Zl=m}}Ts(e,t){const n=this.Pl(e,t);return this.Gl(n,t)}Gl(e,t){let n=e;return this.Le()?(r=n,(i=t)<0&&(r=-r),n=r/100*i+i):this.Vl()&&(n=function(e,t){return e-=100,t<0&&(e=-e),e/100*t+t}(n,t)),n;var r,i}ba(){return this.dl}Dt(){return this.pl||(this.pl=$u(this.dl)),this.pl}Jl(e){-1===this.dl.indexOf(e)&&(this.dl.push(e),this.ga(),this.Ql())}io(e){const t=this.dl.indexOf(e);if(-1===t)throw new Error("source is not attached to scale");this.dl.splice(t,1),0===this.dl.length&&(this.yl({sn:!0}),this.Bl(null)),this.ga(),this.Ql()}zt(){let e=null;for(const t of this.dl){const n=t.zt();null!==n&&(null===e||n.Hh<e.Hh)&&(e=n)}return null===e?null:e.Wt}Il(){return this.Ps.invertScale}Va(){const e=null===this.zt();if(null!==this.vl&&(e||this.vl.so===e))return this.vl.Va;this.Cl.Ha();const t=this.Cl.Va();return this.vl={Va:t,so:e},this.ul.p(),t}no(){return this.ul}eo(e){this.Le()||this.Vl()||null===this.ml&&null===this.el&&(this.Ki()||(this.ml=this.sl-e,this.el=Wl(this.Qe()).Ue()))}ro(e){if(this.Le()||this.Vl())return;if(null===this.ml)return;this.yl({sn:!1}),(e=this.sl-e)<0&&(e=0);let t=(this.ml+.2*(this.sl-1))/(e+.2*(this.sl-1));const n=Wl(this.el).Ue();t=Math.max(t,.1),n.je(t),this.Bl(n)}ho(){this.Le()||this.Vl()||(this.ml=null,this.el=null)}ao(e){this.Rl()||null===this.wl&&null===this.el&&(this.Ki()||(this.wl=e,this.el=Wl(this.Qe()).Ue()))}lo(e){if(this.Rl())return;if(null===this.wl)return;const t=Wl(this.Qe()).Ye()/(this.Ll()-1);let n=e-this.wl;this.Il()&&(n*=-1);const r=n*t,i=Wl(this.el).Ue();i.Ke(r),this.Bl(i,!0),this.vl=null}oo(){this.Rl()||null!==this.wl&&(this.wl=null,this.el=null)}ra(){return this.ha||this.ga(),this.ha}Zi(e,t){switch(this.Ps.mode){case 2:return this._o(Ou(e,t));case 3:return this.ra().format(Tu(e,t));default:return this.nr(e)}}Ja(e){switch(this.Ps.mode){case 2:return this._o(e);case 3:return this.ra().format(e);default:return this.nr(e)}}Za(e){switch(this.Ps.mode){case 2:return this.uo(e);case 3:return this.ra().formatTickmarks(e);default:return this.co(e)}}Dh(e){return this.nr(e,Wl(this.fl).ra())}Vh(e,t){return e=Ou(e,t),this._o(e,Ku)}do(){return this.dl}fo(e){this.rl={al:e,hl:!1}}Ns(){this.dl.forEach(e=>e.Ns())}qa(){return this.Ps.ensureEdgeTickMarksVisible&&this.Rl()}ja(){return this.P()/2}ga(){this.vl=null;let e=1/0;this.fl=null;for(const n of this.dl)n.hs()<e&&(e=n.hs(),this.fl=n);let t=100;null!==this.fl&&(t=Math.round(1/this.fl.ea())),this.ha=Hu,this.Le()?(this.ha=Ku,t=100):this.Vl()?(this.ha=new Pc(100,1),t=100):null!==this.fl&&(this.ha=this.fl.ra()),this.Cl=new Wu(this,t,this.Pl.bind(this),this.kl.bind(this)),this.Cl.Ha()}Ql(){this.pl=null}Xi(){return this.xl}Hl(e){this.ll=e}Ol(){return this.Il()?this.Ps.scaleMargins.bottom*this.$t()+this._l:this.Ps.scaleMargins.top*this.$t()+this.ol}Nl(){return this.Il()?this.Ps.scaleMargins.top*this.$t()+this.ol:this.Ps.scaleMargins.bottom*this.$t()+this._l}Fl(){this.rl.hl||(this.rl.hl=!0,this.po())}Tl(){this.nl=null}kl(e,t){if(this.Fl(),this.Ki())return 0;e=this.Qa()&&e?Ru(e,this.gl):e;const n=Wl(this.Qe()),r=this.Nl()+(this.Ll()-1)*(e-n.$e())/n.Ye();return this.Ul(r)}Pl(e,t){if(this.Fl(),this.Ki())return 0;const n=this.Ul(e),r=Wl(this.Qe()),i=r.$e()+r.Ye()*((n-this.Nl())/(this.Ll()-1));return this.Qa()?Iu(i,this.gl):i}El(){this.vl=null,this.Cl.Ha()}po(){if(this.Dl()&&!this.Rl())return;const e=this.rl.al;if(null===e)return;let t=null;const n=this.do();let r=0,i=0;for(const o of n){if(!o.Vt())continue;const n=o.zt();if(null===n)continue;const a=o.Mh(e.Uh(),e.bi());let s=a&&a.Qe();if(null!==s){switch(this.Ps.mode){case 1:s=Lu(s,this.gl);break;case 2:s=Au(s,n.Wt);break;case 3:s=Du(s,n.Wt)}if(t=null===t?s:t.vn(Wl(s)),null!==a){const e=a.tr();null!==e&&(r=Math.max(r,e.above),i=Math.max(i,e.below))}}}if(this.qa()&&(r=Math.max(r,this.ja()),i=Math.max(i,this.ja())),r===this.ol&&i===this._l||(this.ol=r,this._l=i,this.vl=null,this.Tl()),null!==t){if(t.$e()===t.qe()){const e=this.fl,n=5*(null===e||this.Le()||this.Vl()?1:e.ea());this.Qa()&&(t=zu(t,this.gl)),t=new Hc(t.$e()-n,t.qe()+n),this.Qa()&&(t=Lu(t,this.gl))}if(this.Qa()){const e=zu(t,this.gl),n=Fu(e);if(a=n,s=this.gl,a.Ia!==s.Ia||a.Ba!==s.Ba){const r=null!==this.el?zu(this.el,this.gl):null;this.gl=n,t=Lu(e,n),null!==r&&(this.el=Lu(r,n))}}this.Bl(t)}else null===this.Ge&&(this.Bl(new Hc(-.5,.5)),this.gl=Fu(null));var a,s}ql(){return this.Le()?Ou:this.Vl()?Tu:this.Qa()?e=>Ru(e,this.gl):null}vo(e,t,n){return void 0===t?(void 0===n&&(n=this.ra()),n.format(e)):t(e)}mo(e,t,n){return void 0===t?(void 0===n&&(n=this.ra()),n.formatTickmarks(e)):t(e)}nr(e,t){return this.vo(e,this.Sl.priceFormatter,t)}co(e,t){var n;const r=this.Sl.priceFormatter;return this.mo(e,null!=(n=this.Sl.tickmarksPriceFormatter)?n:r?e=>e.map(r):void 0,t)}_o(e,t){return this.vo(e,this.Sl.percentageFormatter,t)}uo(e,t){var n;const r=this.Sl.percentageFormatter;return this.mo(e,null!=(n=this.Sl.tickmarksPercentageFormatter)?n:r?e=>e.map(r):void 0,t)}}function Yu(e){return e instanceof _u}class qu{constructor(e,t){this.dl=[],this.wo=new Map,this.sl=0,this.Mo=0,this.bo=1,this.pl=null,this.So=!1,this.xo=new Vl,this.kh=[],this.uh=e,this.ts=t,this.Co=new Pu(this);const n=t.N();this.Po=this.ko("left",n.leftPriceScale),this.yo=this.ko("right",n.rightPriceScale),this.Po.Al().i(this.To.bind(this,this.Po),this),this.yo.Al().i(this.To.bind(this,this.yo),this),this.Ro(n)}Ro(e){if(e.leftPriceScale&&this.Po.hr(e.leftPriceScale),e.rightPriceScale&&this.yo.hr(e.rightPriceScale),e.localization&&(this.Po.ga(),this.yo.ga()),e.overlayPriceScales){const t=Array.from(this.wo.values());for(const n of t){const t=Wl(n[0].Ft());t.hr(e.overlayPriceScales),e.localization&&t.ga()}}}Do(e){switch(e){case"left":return this.Po;case"right":return this.yo}return this.wo.has(e)?Bl(this.wo.get(e))[0].Ft():null}m(){this.Qt().Vo().u(this),this.Po.Al().u(this),this.yo.Al().u(this),this.dl.forEach(e=>{e.m&&e.m()}),this.kh=this.kh.filter(e=>{const t=e.oh();return t.detached&&t.detached(),!1}),this.xo.p()}Io(){return this.bo}Bo(e){this.bo=e}Qt(){return this.ts}Qi(){return this.Mo}$t(){return this.sl}Eo(e){this.Mo=e,this.Ao()}zl(e){this.sl=e,this.Po.zl(e),this.yo.zl(e),this.dl.forEach(t=>{if(this.Un(t)){const n=t.Ft();null!==n&&n.zl(e)}}),this.Ao()}zo(e){this.So=e}Lo(){return this.So}Oo(){return this.dl.filter(Yu)}ba(){return this.dl}Un(e){const t=e.Ft();return null===t||this.Po!==t&&this.yo!==t}Jl(e,t,n){this.No(e,t,n?e.hs():this.dl.length)}io(e,t){const n=this.dl.indexOf(e);Fl(-1!==n,"removeDataSource: invalid data source"),this.dl.splice(n,1),t||this.dl.forEach((e,t)=>e.ls(t));const r=Wl(e.Ft()).wa();if(this.wo.has(r)){const t=Bl(this.wo.get(r)),n=t.indexOf(e);-1!==n&&(t.splice(n,1),0===t.length&&this.wo.delete(r))}const i=e.Ft();i&&i.ba().indexOf(e)>=0&&(i.io(e),this.Fo(i)),this.pl=null}qn(e){return e===this.Po?"left":e===this.yo?"right":"overlay"}Wo(){return this.Po}Ho(){return this.yo}Uo(e,t){e.eo(t)}$o(e,t){e.ro(t),this.Ao()}qo(e){e.ho()}Yo(e,t){e.ao(t)}jo(e,t){e.lo(t),this.Ao()}Ko(e){e.oo()}Ao(){this.dl.forEach(e=>{e.Ns()})}ys(){let e=null;return this.ts.N().rightPriceScale.visible&&0!==this.yo.ba().length?e=this.yo:this.ts.N().leftPriceScale.visible&&0!==this.Po.ba().length?e=this.Po:0!==this.dl.length&&(e=this.dl[0].Ft()),null===e&&(e=this.yo),e}$n(){let e=null;return this.ts.N().rightPriceScale.visible?e=this.yo:this.ts.N().leftPriceScale.visible&&(e=this.Po),e}Fo(e){null!==e&&e.Rl()&&this.Xo(e)}Zo(e){const t=this.uh.Pe();e.yl({sn:!0}),null!==t&&e.fo(t),this.Ao()}Go(){this.Xo(this.Po),this.Xo(this.yo)}Jo(){this.Fo(this.Po),this.Fo(this.yo),this.dl.forEach(e=>{this.Un(e)&&this.Fo(e.Ft())}),this.Ao(),this.ts.ar()}Dt(){return null===this.pl&&(this.pl=$u(this.dl)),this.pl}Qo(e,t){t=ku(t,0,this.dl.length-1);const n=this.dl.indexOf(e);Fl(-1!==n,"setSeriesOrder: invalid data source"),this.dl.splice(n,1),this.dl.splice(t,0,e),this.dl.forEach((e,t)=>e.ls(t)),this.pl=null;for(const r of[this.Po,this.yo])r.Ql(),r.ga();this.ts.ar()}It(){return this.Dt().filter(Yu)}t_(){return this.xo}i_(){return this.Co}ua(e){this.kh.push(new cu(e))}ca(e){this.kh=this.kh.filter(t=>t.oh()!==e),e.detached&&e.detached(),this.ts.ar()}s_(){return this.kh}sa(e,t){return this.kh.map(n=>n.jn(e,t)).filter(e=>null!==e)}Xo(e){const t=e.do();if(t&&t.length>0&&!this.uh.Ki()){const t=this.uh.Pe();null!==t&&e.fo(t)}e.Ns()}No(e,t,n){let r=this.Do(t);if(null===r&&(r=this.ko(t,this.ts.N().overlayPriceScales)),this.dl.splice(n,0,e),!kc(t)){const n=this.wo.get(t)||[];n.push(e),this.wo.set(t,n)}e.ls(n),r.Jl(e),e._s(r),this.Fo(r),this.pl=null}To(e,t,n){t.ie!==n.ie&&this.Xo(e)}ko(e,t){const n=h({visible:!0,autoScale:!0},Gl(t)),r=new Uu(e,n,this.ts.N().layout,this.ts.N().localization,this.ts.Xi());return r.zl(this.$t()),r}}function Gu(e){return{n_:e.n_,e_:{Kn:e.r_.externalId},h_:e.r_.cursorStyle}}function Xu(e,t,n,r){for(const i of e){const e=i.Tt(r);if(null!==e&&e.jn){const r=e.jn(t,n);if(null!==r)return{a_:i,e_:r}}}return null}function Qu(e){return void 0!==e.Fs}function Zu(e,t,n){const r=[e,...e.Dt()],i=function(e,t,n){var r,i;let a,s;for(const c of e){const e=null!=(i=null==(r=c.sa)?void 0:r.call(c,t,n))?i:[];for(const t of e)o=t.zOrder,(!(l=null==a?void 0:a.zOrder)||"top"===o&&"top"!==l||"normal"===o&&"bottom"===l)&&(a=t,s=c)}var o,l;return a&&s?{r_:a,n_:s}:null}(r,t,n);if("top"===(null==i?void 0:i.r_.zOrder))return Gu(i);for(const a of r){if(i&&i.n_===a&&"bottom"!==i.r_.zOrder&&!i.r_.isBackground)return Gu(i);if(Qu(a)){const r=Xu(a.Fs(e),t,n,e);if(null!==r)return{n_:a,a_:r.a_,e_:r.e_}}if(i&&i.n_===a&&"bottom"!==i.r_.zOrder&&i.r_.isBackground)return Gu(i)}return(null==i?void 0:i.r_)?Gu(i):null}class Ju{constructor(e,t,n=50){this.kn=0,this.yn=1,this.Tn=1,this.Dn=new Map,this.Rn=new Map,this.l_=e,this.o_=t,this.Vn=n}__(e){const t=e.time,n=this.o_.cacheKey(t),r=this.Dn.get(n);if(void 0!==r)return r.u_;if(this.kn===this.Vn){const e=this.Rn.get(this.Tn);this.Rn.delete(this.Tn),this.Dn.delete(Bl(e)),this.Tn++,this.kn--}const i=this.l_(e);return this.Dn.set(n,{u_:i,An:this.yn}),this.Rn.set(this.yn,n),this.kn++,this.yn++,i}}class ed{constructor(e,t){Fl(e<=t,"right should be >= left"),this.c_=e,this.d_=t}Uh(){return this.c_}bi(){return this.d_}f_(){return this.d_-this.c_+1}Te(e){return this.c_<=e&&e<=this.d_}He(e){return this.c_===e.Uh()&&this.d_===e.bi()}}function td(e,t){return null===e||null===t?e===t:e.He(t)}class nd{constructor(){this.p_=new Map,this.Dn=null,this.v_=!1}m_(e){this.v_=e,this.Dn=null}w_(e,t){this.g_(t),this.Dn=null;for(let n=t;n<e.length;++n){const t=e[n];let r=this.p_.get(t.timeWeight);void 0===r&&(r=[],this.p_.set(t.timeWeight,r)),r.push({index:n,time:t.time,weight:t.timeWeight,originalTime:t.originalTime})}}M_(e,t,n,r,i){const a=Math.ceil(t/e);return null!==this.Dn&&this.Dn.b_===a&&i===this.Dn.S_&&n===this.Dn.x_||(this.Dn={S_:i,x_:n,Va:this.C_(a,n,r),b_:a}),this.Dn.Va}g_(e){if(0===e)return void this.p_.clear();const t=[];this.p_.forEach((n,r)=>{e<=n[0].index?t.push(r):n.splice(eu(n,e,t=>t.index<e),1/0)});for(const n of t)this.p_.delete(n)}C_(e,t,n){let r=[];const i=e=>!t||n.has(e.index);for(const a of Array.from(this.p_.keys()).sort((e,t)=>t-e)){if(!this.p_.get(a))continue;const t=r;r=[];const n=t.length;let s=0;const o=Bl(this.p_.get(a)),l=o.length;let c=1/0,u=-1/0;for(let a=0;a<l;a++){const l=o[a],d=l.index;for(;s<n;){const e=t[s],n=e.index;if(!(n<d&&i(e))){c=n;break}s++,r.push(e),u=n,c=1/0}if(c-d>=e&&d-u>=e&&i(l))r.push(l),u=d;else if(this.v_)return t}for(;s<n;s++)i(t[s])&&r.push(t[s])}return r}}class rd{constructor(e){this.P_=e}k_(){return null===this.P_?null:new ed(Math.floor(this.P_.Uh()),Math.ceil(this.P_.bi()))}y_(){return this.P_}static T_(){return new rd(null)}}function id(e,t){return e.weight>t.weight?e:t}class ad{constructor(e,t,n,r){this.Mo=0,this.R_=null,this.D_=[],this.wl=null,this.ml=null,this.V_=new nd,this.I_=new Map,this.B_=rd.T_(),this.E_=!0,this.A_=new Vl,this.z_=new Vl,this.L_=new Vl,this.O_=null,this.N_=null,this.F_=new Map,this.W_=-1,this.H_=[],this.Ps=t,this.Sl=n,this.U_=t.rightOffset,this.q_=t.barSpacing,this.ts=e,this.o_=r,this.Y_(),this.V_.m_(t.uniformDistribution),this.j_()}N(){return this.Ps}K_(e){Kl(this.Sl,e),this.X_(),this.Y_()}hr(e,t){var n;Kl(this.Ps,e),this.Ps.fixLeftEdge&&this.Z_(),this.Ps.fixRightEdge&&this.G_(),void 0!==e.barSpacing&&this.ts.dn(e.barSpacing),void 0!==e.rightOffset&&this.ts.fn(e.rightOffset),void 0===e.minBarSpacing&&void 0===e.maxBarSpacing||this.ts.dn(null!=(n=e.barSpacing)?n:this.q_),void 0!==e.ignoreWhitespaceIndices&&e.ignoreWhitespaceIndices!==this.Ps.ignoreWhitespaceIndices&&this.j_(),this.X_(),this.Y_(),this.L_.p()}Rs(e){var t,n;return null!=(n=null==(t=this.D_[e])?void 0:t.time)?n:null}ss(e){var t;return null!=(t=this.D_[e])?t:null}J_(e,t){if(this.D_.length<1)return null;if(this.o_.key(e)>this.o_.key(this.D_[this.D_.length-1].time))return t?this.D_.length-1:null;const n=eu(this.D_,this.o_.key(e),(e,t)=>this.o_.key(e.time)<t);return this.o_.key(e)<this.o_.key(this.D_[n].time)?t?n:null:n}Ki(){return 0===this.Mo||0===this.D_.length||null===this.R_}Q_(){return this.D_.length>0}Pe(){return this.tu(),this.B_.k_()}iu(){return this.tu(),this.B_.y_()}su(){const e=this.Pe();if(null===e)return null;const t={from:e.Uh(),to:e.bi()};return this.nu(t)}nu(e){const t=Math.round(e.from),n=Math.round(e.to),r=Wl(this.eu()),i=Wl(this.ru());return{from:Wl(this.ss(Math.max(r,t))),to:Wl(this.ss(Math.min(i,n)))}}hu(e){return{from:Wl(this.J_(e.from,!0)),to:Wl(this.J_(e.to,!0))}}Qi(){return this.Mo}Eo(e){if(!isFinite(e)||e<=0)return;if(this.Mo===e)return;const t=this.iu(),n=this.Mo;if(this.Mo=e,this.E_=!0,this.Ps.lockVisibleTimeRangeOnResize&&0!==n){const t=this.q_*e/n;this.q_=t}if(this.Ps.fixLeftEdge&&null!==t&&t.Uh()<=0){const t=n-e;this.U_-=Math.round(t/this.q_)+1,this.E_=!0}this.au(),this.lu()}qt(e){if(this.Ki()||!Ul(e))return 0;const t=this.ou()+this.U_-e;return this.Mo-(t+.5)*this.q_-1}_u(e,t){const n=this.ou(),r=void 0===t?0:t.from,i=void 0===t?e.length:t.to;for(let a=r;a<i;a++){const t=e[a].wt,r=n+this.U_-t,i=this.Mo-(r+.5)*this.q_-1;e[a]._t=i}}uu(e,t){const n=Math.ceil(this.cu(e));return t&&this.Ps.ignoreWhitespaceIndices&&!this.du(n)?this.fu(n):n}fn(e){this.E_=!0,this.U_=e,this.lu(),this.ts.pu(),this.ts.ar()}vu(){return this.q_}dn(e){this.mu(e),this.lu(),this.ts.pu(),this.ts.ar()}wu(){return this.U_}Va(){if(this.Ki())return null;if(null!==this.N_)return this.N_;const e=this.q_,t=5*(this.ts.N().layout.fontSize+4)/8*(this.Ps.tickMarkMaxCharacterLength||8),n=Math.round(t/e),r=Wl(this.Pe()),i=Math.max(r.Uh(),r.Uh()-n),a=Math.max(r.bi(),r.bi()-n),s=this.V_.M_(e,t,this.Ps.ignoreWhitespaceIndices,this.F_,this.W_),o=this.eu()+n,l=this.ru()-n,c=this.gu(),u=this.Ps.fixLeftEdge||c,d=this.Ps.fixRightEdge||c;let h=0;for(const f of s){if(!(i<=f.index&&f.index<=a))continue;let e;h<this.H_.length?(e=this.H_[h],e.coord=this.qt(f.index),e.label=this.Mu(f),e.weight=f.weight):(e={needAlignCoordinate:!1,coord:this.qt(f.index),label:this.Mu(f),weight:f.weight},this.H_.push(e)),this.q_>t/2&&!c?e.needAlignCoordinate=!1:e.needAlignCoordinate=u&&f.index<=o||d&&f.index>=l,h++}return this.H_.length=h,this.N_=this.H_,this.H_}bu(){this.E_=!0,this.dn(this.Ps.barSpacing),this.fn(this.Ps.rightOffset)}Su(e){this.E_=!0,this.R_=e,this.lu(),this.Z_()}xu(e,t){const n=this.cu(e),r=this.vu(),i=r+t*(r/10);this.dn(i),this.Ps.rightBarStaysOnScroll||this.fn(this.wu()+(n-this.cu(e)))}eo(e){this.wl&&this.oo(),null===this.ml&&null===this.O_&&(this.Ki()||(this.ml=e,this.Cu()))}ro(e){if(null===this.O_)return;const t=ku(this.Mo-e,0,this.Mo),n=ku(this.Mo-Wl(this.ml),0,this.Mo);0!==t&&0!==n&&this.dn(this.O_.vu*t/n)}ho(){null!==this.ml&&(this.ml=null,this.Pu())}ao(e){null===this.wl&&null===this.O_&&(this.Ki()||(this.wl=e,this.Cu()))}lo(e){if(null===this.wl)return;const t=(this.wl-e)/this.vu();this.U_=Wl(this.O_).wu+t,this.E_=!0,this.lu()}oo(){null!==this.wl&&(this.wl=null,this.Pu())}ku(){this.yu(this.Ps.rightOffset)}yu(e,t=400){if(!isFinite(e))throw new RangeError("offset is required and must be finite number");if(!isFinite(t)||t<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const n=this.U_,r=performance.now();this.ts._n({Tu:e=>(e-r)/t>=1,Ru:i=>{const a=(i-r)/t;return a>=1?e:n+(e-n)*a}})}kt(e,t){this.E_=!0,this.D_=e,this.V_.w_(e,t),this.lu()}Du(){return this.A_}Vu(){return this.z_}Iu(){return this.L_}ou(){return this.R_||0}Bu(e){const t=e.f_();this.mu(this.Mo/t),this.U_=e.bi()-this.ou(),this.lu(),this.E_=!0,this.ts.pu(),this.ts.ar()}Eu(){const e=this.eu(),t=this.ru();null!==e&&null!==t&&this.Bu(new ed(e,t+this.Ps.rightOffset))}Au(e){const t=new ed(e.from,e.to);this.Bu(t)}ns(e){return void 0!==this.Sl.timeFormatter?this.Sl.timeFormatter(e.originalTime):this.o_.formatHorzItem(e.time)}j_(){if(!this.Ps.ignoreWhitespaceIndices)return;this.F_.clear();const e=this.ts.js();for(const t of e)for(const e of t.ma())this.F_.set(e,!0);this.W_++}gu(){const e=this.ts.N().handleScroll,t=this.ts.N().handleScale;return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||t.axisDoubleClickReset.time||t.axisPressedMouseMove.time||t.mouseWheel||t.pinch)}eu(){return 0===this.D_.length?null:0}ru(){return 0===this.D_.length?null:this.D_.length-1}zu(e){return(this.Mo-1-e)/this.q_}cu(e){const t=this.zu(e),n=this.ou()+this.U_-t;return Math.round(1e6*n)/1e6}mu(e){const t=this.q_;this.q_=e,this.au(),t!==this.q_&&(this.E_=!0,this.Lu())}tu(){if(!this.E_)return;if(this.E_=!1,this.Ki())return void this.Ou(rd.T_());const e=this.ou(),t=this.Mo/this.q_,n=this.U_+e,r=new ed(n-t+1,n);this.Ou(new rd(r))}au(){const e=ku(this.q_,this.Nu(),this.Fu());this.q_!==e&&(this.q_=e,this.E_=!0)}Fu(){return this.Ps.maxBarSpacing>0?this.Ps.maxBarSpacing:.5*this.Mo}Nu(){return this.Ps.fixLeftEdge&&this.Ps.fixRightEdge&&0!==this.D_.length?this.Mo/this.D_.length:this.Ps.minBarSpacing}lu(){const e=this.Wu();null!==e&&this.U_<e&&(this.U_=e,this.E_=!0);const t=this.Hu();this.U_>t&&(this.U_=t,this.E_=!0)}Wu(){const e=this.eu(),t=this.R_;return null===e||null===t?null:e-t-1+(this.Ps.fixLeftEdge?this.Mo/this.q_:Math.min(2,this.D_.length))}Hu(){return this.Ps.fixRightEdge?0:this.Mo/this.q_-Math.min(2,this.D_.length)}Cu(){this.O_={vu:this.vu(),wu:this.wu()}}Pu(){this.O_=null}Mu(e){let t=this.I_.get(e.weight);return void 0===t&&(t=new Ju(e=>this.Uu(e),this.o_),this.I_.set(e.weight,t)),t.__(e)}Uu(e){return this.o_.formatTickmark(e,this.Sl)}Ou(e){const t=this.B_;this.B_=e,td(t.k_(),this.B_.k_())||this.A_.p(),td(t.y_(),this.B_.y_())||this.z_.p(),this.Lu()}Lu(){this.N_=null}X_(){this.Lu(),this.I_.clear()}Y_(){this.o_.updateFormatter(this.Sl)}Z_(){if(!this.Ps.fixLeftEdge)return;const e=this.eu();if(null===e)return;const t=this.Pe();if(null===t)return;const n=t.Uh()-e;if(n<0){const e=this.U_-n-1;this.fn(e)}this.au()}G_(){this.lu(),this.au()}du(e){return!this.Ps.ignoreWhitespaceIndices||this.F_.get(e)||!1}fu(e){const t=function*(e){const t=Math.round(e),n=t<e;let r=1;for(;;)n?(yield t+r,yield t-r):(yield t-r,yield t+r),r++}(e),n=this.ru();for(;n;){const e=t.next().value;if(this.F_.get(e))return e;if(e<0||e>n)break}return e}}var sd,od,ld,cd,ud;!function(e){e[e.OnTouchEnd=0]="OnTouchEnd",e[e.OnNextTap=1]="OnNextTap"}(sd||(sd={}));class dd{constructor(e,t,n){this.$u=[],this.qu=[],this.Mo=0,this.Yu=null,this.ju=new Vl,this.Ku=new Vl,this.Xu=null,this.Zu=e,this.Ps=t,this.o_=n,this.xl=new rc(this.Ps.layout.colorParsers),this.Gu=new ec(this),this.uh=new ad(this,t.timeScale,this.Ps.localization,n),this.Ct=new Nc(this,t.crosshair),this.Ju=new Nu(t.crosshair),t.addDefaultPane&&(this.Qu(0),this.$u[0].Bo(2)),this.tc=this.sc(0),this.nc=this.sc(1)}Bh(){this.ec(Sc.gn())}ar(){this.ec(Sc.wn())}Zh(){this.ec(new Sc(1))}Eh(e){const t=this.rc(e);this.ec(t)}hc(){return this.Yu}ac(e){var t,n,r,i;if((null==(t=this.Yu)?void 0:t.n_)===(null==e?void 0:e.n_)&&(null==(r=null==(n=this.Yu)?void 0:n.e_)?void 0:r.Kn)===(null==(i=null==e?void 0:e.e_)?void 0:i.Kn))return;const a=this.Yu;this.Yu=e,null!==a&&this.Eh(a.n_),null!==e&&e.n_!==(null==a?void 0:a.n_)&&this.Eh(e.n_)}N(){return this.Ps}hr(e){Kl(this.Ps,e),this.$u.forEach(t=>t.Ro(e)),void 0!==e.timeScale&&this.uh.hr(e.timeScale),void 0!==e.localization&&this.uh.K_(e.localization),(e.leftPriceScale||e.rightPriceScale)&&this.ju.p(),this.tc=this.sc(0),this.nc=this.sc(1),this.Bh()}lc(e,t,n=0){const r=this.$u[n];if(void 0===r)return;if("left"===e)return Kl(this.Ps,{leftPriceScale:t}),r.Ro({leftPriceScale:t}),this.ju.p(),void this.Bh();if("right"===e)return Kl(this.Ps,{rightPriceScale:t}),r.Ro({rightPriceScale:t}),this.ju.p(),void this.Bh();const i=this.oc(e,n);null!==i&&(i.Ft.hr(t),this.ju.p())}oc(e,t){const n=this.$u[t];if(void 0===n)return null;const r=n.Do(e);return null!==r?{Us:n,Ft:r}:null}Et(){return this.uh}$s(){return this.$u}_c(){return this.Ct}uc(){return this.Ku}cc(e,t){e.zl(t),this.pu()}Eo(e){this.Mo=e,this.uh.Eo(this.Mo),this.$u.forEach(t=>t.Eo(e)),this.pu()}dc(e){1!==this.$u.length&&(Fl(e>=0&&e<this.$u.length,"Invalid pane index"),this.$u.splice(e,1),this.Bh())}fc(e,t){if(this.$u.length<2)return;Fl(e>=0&&e<this.$u.length,"Invalid pane index");const n=this.$u[e],r=this.$u.reduce((e,t)=>e+t.Io(),0),i=this.$u.reduce((e,t)=>e+t.$t(),0),a=i-30*(this.$u.length-1);t=Math.min(a,Math.max(30,t));const s=r/i,o=n.$t();n.Bo(t*s);let l=t-o,c=this.$u.length-1;for(const u of this.$u)if(u!==n){const e=Math.min(a,Math.max(30,u.$t()-l/c));l-=u.$t()-e,c-=1;const t=e*s;u.Bo(t)}this.Bh()}vc(e,t){Fl(e>=0&&e<this.$u.length&&t>=0&&t<this.$u.length,"Invalid pane index");const n=this.$u[e],r=this.$u[t];this.$u[e]=r,this.$u[t]=n,this.Bh()}mc(e,t){if(Fl(e>=0&&e<this.$u.length&&t>=0&&t<this.$u.length,"Invalid pane index"),e===t)return;const[n]=this.$u.splice(e,1);this.$u.splice(t,0,n),this.Bh()}Uo(e,t,n){e.Uo(t,n)}$o(e,t,n){e.$o(t,n),this.Ah(),this.ec(this.wc(e,2))}qo(e,t){e.qo(t),this.ec(this.wc(e,2))}Yo(e,t,n){t.Rl()||e.Yo(t,n)}jo(e,t,n){t.Rl()||(e.jo(t,n),this.Ah(),this.ec(this.wc(e,2)))}Ko(e,t){t.Rl()||(e.Ko(t),this.ec(this.wc(e,2)))}Zo(e,t){e.Zo(t),this.ec(this.wc(e,2))}gc(e){this.uh.eo(e)}Mc(e,t){const n=this.Et();if(n.Ki()||0===t)return;const r=n.Qi();e=Math.max(1,Math.min(e,r)),n.xu(e,t),this.pu()}bc(e){this.Sc(0),this.xc(e),this.Cc()}Pc(e){this.uh.ro(e),this.pu()}kc(){this.uh.ho(),this.ar()}Sc(e){this.uh.ao(e)}xc(e){this.uh.lo(e),this.pu()}Cc(){this.uh.oo(),this.ar()}js(){return this.qu}yc(e,t,n,r,i){this.Ct.Vs(e,t);let a=NaN,s=this.uh.uu(e,!0);const o=this.uh.Pe();null!==o&&(s=Math.min(Math.max(o.Uh(),s),o.bi()));const l=r.ys(),c=l.zt();if(null!==c&&(a=l.Ts(t,c)),a=this.Ju.Ma(a,s,r),this.Ct.As(s,a,r),this.Zh(),!i){const i=Zu(r,e,t);this.ac(i&&{n_:i.n_,e_:i.e_,h_:i.h_||null}),this.Ku.p(this.Ct.Bt(),{x:e,y:t},n)}}Tc(e,t,n){const r=n.ys(),i=r.zt(),a=r.Nt(e,Wl(i)),s=this.uh.J_(t,!0),o=this.uh.qt(Wl(s));this.yc(o,a,null,n,!0)}Rc(e){this._c().Ls(),this.Zh(),e||this.Ku.p(null,null,null)}Ah(){const e=this.Ct.Us();if(null!==e){const t=this.Ct.Bs(),n=this.Ct.Es();this.yc(t,n,null,e)}this.Ct.Ns()}Dc(e,t,n){const r=this.uh.Rs(0);void 0!==t&&void 0!==n&&this.uh.kt(t,n);const i=this.uh.Rs(0),a=this.uh.ou(),s=this.uh.Pe();if(null!==s&&null!==r&&null!==i){const t=s.Te(a),o=this.o_.key(r)>this.o_.key(i),l=null!==e&&e>a&&!o,c=this.uh.N().allowShiftVisibleRangeOnWhitespaceReplacement,u=t&&(!(void 0===n)||c)&&this.uh.N().shiftVisibleRangeOnNewBar;if(l&&!u){const t=e-a;this.uh.fn(this.uh.wu()-t)}}this.uh.Su(e)}Lh(e){null!==e&&e.Jo()}Hn(e){if(e instanceof qu)return e;const t=this.$u.find(t=>t.Dt().includes(e));return void 0===t?null:t}pu(){this.$u.forEach(e=>e.Jo()),this.Ah()}m(){this.$u.forEach(e=>e.m()),this.$u.length=0,this.Ps.localization.priceFormatter=void 0,this.Ps.localization.percentageFormatter=void 0,this.Ps.localization.timeFormatter=void 0}Vc(){return this.Gu}Yn(){return this.Gu.N()}Vo(){return this.ju}Ic(e,t){const n=this.Qu(t);this.Bc(e,n),this.qu.push(e),1===this.qu.length?this.Bh():this.ar()}Ec(e){const t=this.Hn(e),n=this.qu.indexOf(e);Fl(-1!==n,"Series not found");const r=Wl(t);this.qu.splice(n,1),r.io(e),e.m&&e.m(),this.uh.j_(),this.Ac(r)}Ih(e,t){const n=Wl(this.Hn(e));n.io(e,!0),n.Jl(e,t,!0)}Eu(){const e=Sc.wn();e.rn(),this.ec(e)}zc(e){const t=Sc.wn();t.ln(e),this.ec(t)}cn(){const e=Sc.wn();e.cn(),this.ec(e)}dn(e){const t=Sc.wn();t.dn(e),this.ec(t)}fn(e){const t=Sc.wn();t.fn(e),this.ec(t)}_n(e){const t=Sc.wn();t._n(e),this.ec(t)}hn(){const e=Sc.wn();e.hn(),this.ec(e)}Lc(){return this.Ps.rightPriceScale.visible?"right":"left"}Oc(e,t){if(Fl(t>=0,"Index should be greater or equal to 0"),t===this.Nc(e))return;const n=Wl(this.Hn(e));n.io(e);const r=this.Qu(t);this.Bc(e,r),0===n.ba().length&&this.Ac(n),this.Bh()}Fc(){return this.nc}$(){return this.tc}Ut(e){const t=this.nc,n=this.tc;if(t===n)return t;if(e=Math.max(0,Math.min(100,Math.round(100*e))),null===this.Xu||this.Xu.mr!==n||this.Xu.wr!==t)this.Xu={mr:n,wr:t,Wc:new Map};else{const t=this.Xu.Wc.get(e);if(void 0!==t)return t}const r=this.xl.tt(n,t,e/100);return this.Xu.Wc.set(e,r),r}Hc(e){return this.$u.indexOf(e)}Xi(){return this.xl}Uc(){return this.$c()}$c(e){const t=new qu(this.uh,this);this.$u.push(t);const n=null!=e?e:this.$u.length-1,r=Sc.gn();return r.Qs(n,{tn:0,sn:!0}),this.ec(r),t}Qu(e){return Fl(e>=0,"Index should be greater or equal to 0"),(e=Math.min(this.$u.length,e))<this.$u.length?this.$u[e]:this.$c(e)}Nc(e){return this.$u.findIndex(t=>t.Oo().includes(e))}wc(e,t){const n=new Sc(t);if(null!==e){const r=this.$u.indexOf(e);n.Qs(r,{tn:t})}return n}rc(e,t){return void 0===t&&(t=2),this.wc(this.Hn(e),t)}ec(e){this.Zu&&this.Zu(e),this.$u.forEach(e=>e.i_().lr().kt())}Bc(e,t){const n=e.N().priceScaleId,r=void 0!==n?n:this.Lc();t.Jl(e,r),kc(r)||e.hr(e.N())}sc(e){const t=this.Ps.layout;return"gradient"===t.background.type?0===e?t.background.topColor:t.background.bottomColor:t.background.color}Ac(e){!e.Lo()&&0===e.ba().length&&this.$u.length>1&&this.$u.splice(this.Hc(e),1)}}function hd(e){return!Hl(e)&&!Yl(e)}function fd(e){return Hl(e)}!function(e){e[e.Disabled=0]="Disabled",e[e.Continuous=1]="Continuous",e[e.OnDataUpdate=2]="OnDataUpdate"}(od||(od={})),function(e){e[e.LastBar=0]="LastBar",e[e.LastVisible=1]="LastVisible"}(ld||(ld={})),function(e){e.Solid="solid",e.VerticalGradient="gradient"}(cd||(cd={})),function(e){e[e.Year=0]="Year",e[e.Month=1]="Month",e[e.DayOfMonth=2]="DayOfMonth",e[e.Time=3]="Time",e[e.TimeWithSeconds=4]="TimeWithSeconds"}(ud||(ud={}));const md=e=>e.getUTCFullYear();class pd{constructor(e="yyyy-MM-dd",t="default"){this.qc=e,this.Yc=t}__(e){return function(e,t,n){return t.replace(/yyyy/g,(r=e,Ec(md(r),4))).replace(/yy/g,(e=>Ec(md(e)%100,2))(e)).replace(/MMMM/g,((e,t)=>new Date(e.getUTCFullYear(),e.getUTCMonth(),1).toLocaleString(t,{month:"long"}))(e,n)).replace(/MMM/g,((e,t)=>new Date(e.getUTCFullYear(),e.getUTCMonth(),1).toLocaleString(t,{month:"short"}))(e,n)).replace(/MM/g,(e=>Ec(e.getUTCMonth()+1,2))(e)).replace(/dd/g,(e=>Ec(e.getUTCDate(),2))(e));var r}(e,this.qc,this.Yc)}}class gd{constructor(e){this.jc=e||"%h:%m:%s"}__(e){return this.jc.replace("%h",Ec(e.getUTCHours(),2)).replace("%m",Ec(e.getUTCMinutes(),2)).replace("%s",Ec(e.getUTCSeconds(),2))}}const xd={Kc:"yyyy-MM-dd",Xc:"%h:%m:%s",Zc:" ",Gc:"default"};class yd{constructor(e={}){const t=h(h({},xd),e);this.Jc=new pd(t.Kc,t.Gc),this.Qc=new gd(t.Xc),this.td=t.Zc}__(e){return`${this.Jc.__(e)}${this.td}${this.Qc.__(e)}`}}function vd(e){return 60*e*60*1e3}function bd(e){return 60*e*1e3}const _d=[{sd:1e3,nd:10},{sd:bd(1),nd:20},{sd:bd(5),nd:21},{sd:bd(30),nd:22},{sd:vd(1),nd:30},{sd:vd(3),nd:31},{sd:vd(6),nd:32},{sd:vd(12),nd:33}];function wd(e,t){if(e.getUTCFullYear()!==t.getUTCFullYear())return 70;if(e.getUTCMonth()!==t.getUTCMonth())return 60;if(e.getUTCDate()!==t.getUTCDate())return 50;for(let n=_d.length-1;n>=0;--n)if(Math.floor(t.getTime()/_d[n].sd)!==Math.floor(e.getTime()/_d[n].sd))return _d[n].nd;return 0}function jd(e){let t=e;if(Yl(e)&&(t=kd(e)),!hd(t))throw new Error("time must be of type BusinessDay");const n=new Date(Date.UTC(t.year,t.month-1,t.day,0,0,0,0));return{ed:Math.round(n.getTime()/1e3),rd:t}}function Nd(e){if(!fd(e))throw new Error("time must be of type isUTCTimestamp");return{ed:e}}function kd(e){const t=new Date(e);if(isNaN(t.getTime()))throw new Error(`Invalid date string=${e}, expected format=yyyy-mm-dd`);return{day:t.getUTCDate(),month:t.getUTCMonth()+1,year:t.getUTCFullYear()}}function Sd(e){Yl(e.time)&&(e.time=kd(e.time))}class Cd{options(){return this.Ps}setOptions(e){this.Ps=e,this.updateFormatter(e.localization)}preprocessData(e){Array.isArray(e)?e.forEach(Sd):Sd(e)}createConverterToInternalObj(e){return Wl(0===(t=e).length?null:hd(t[0].time)||Yl(t[0].time)?jd:Nd);var t}key(e){return"object"==typeof e&&"ed"in e?e.ed:this.key(this.convertHorzItemToInternal(e))}cacheKey(e){const t=e;return void 0===t.rd?new Date(1e3*t.ed).getTime():new Date(Date.UTC(t.rd.year,t.rd.month-1,t.rd.day)).getTime()}convertHorzItemToInternal(e){return fd(t=e)?Nd(t):hd(t)?jd(t):jd(kd(t));var t}updateFormatter(e){if(!this.Ps)return;const t=e.dateFormat;this.Ps.timeScale.timeVisible?this.hd=new yd({Kc:t,Xc:this.Ps.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",Zc:"   ",Gc:e.locale}):this.hd=new pd(t,e.locale)}formatHorzItem(e){const t=e;return this.hd.__(new Date(1e3*t.ed))}formatTickmark(e,t){const n=function(e,t,n){switch(e){case 0:case 10:return t?n?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return t?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(e.weight,this.Ps.timeScale.timeVisible,this.Ps.timeScale.secondsVisible),r=this.Ps.timeScale;if(void 0!==r.tickMarkFormatter){const i=r.tickMarkFormatter(e.originalTime,n,t.locale);if(null!==i)return i}return function(e,t,n){const r={};switch(t){case 0:r.year="numeric";break;case 1:r.month="short";break;case 2:r.day="numeric";break;case 3:r.hour12=!1,r.hour="2-digit",r.minute="2-digit";break;case 4:r.hour12=!1,r.hour="2-digit",r.minute="2-digit",r.second="2-digit"}const i=void 0===e.rd?new Date(1e3*e.ed):new Date(Date.UTC(e.rd.year,e.rd.month-1,e.rd.day));return new Date(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()).toLocaleString(n,r)}(e.time,n,t.locale)}maxTickMarkWeight(e){let t=e.reduce(id,e[0]).weight;return t>30&&t<50&&(t=30),t}fillWeightsForPoints(e,t){!function(e,t=0){if(0===e.length)return;let n=0===t?null:e[t-1].time.ed,r=null!==n?new Date(1e3*n):null,i=0;for(let a=t;a<e.length;++a){const t=e[a],s=new Date(1e3*t.time.ed);null!==r&&(t.timeWeight=wd(s,r)),i+=t.time.ed-(n||t.time.ed),n=t.time.ed,r=s}if(0===t&&e.length>1){const t=Math.ceil(i/(e.length-1)),n=new Date(1e3*(e[0].time.ed-t));e[0].timeWeight=wd(new Date(1e3*e[0].time.ed),n)}}(e,t)}static ad(e){return Kl({localization:{dateFormat:"dd MMM 'yy"}},null!=e?e:{})}}const Ed="undefined"!=typeof window;function Pd(){return!!Ed&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function Md(){return!!Ed&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function Od(e){return e+e%2}class Ad{constructor(e,t,n){this.ld=0,this.od=null,this._d={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.ud=0,this.dd=null,this.fd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.pd=null,this.vd=!1,this.md=null,this.wd=null,this.gd=!1,this.Md=!1,this.bd=!1,this.Sd=null,this.xd=null,this.Cd=null,this.Pd=null,this.kd=null,this.yd=null,this.Td=null,this.Rd=0,this.Dd=!1,this.Vd=!1,this.Id=!1,this.Bd=0,this.Ed=null,this.Ad=!Md(),this.zd=e=>{this.Ld(e)},this.Od=e=>{if(this.Nd(e)){const t=this.Fd(e);if(++this.ud,this.dd&&this.ud>1){const{Wd:n}=this.Hd(Rd(e),this.fd);n<30&&!this.bd&&this.Ud(t,this.qd.$d),this.Yd()}}else{const t=this.Fd(e);if(++this.ld,this.od&&this.ld>1){const{Wd:n}=this.Hd(Rd(e),this._d);n<5&&!this.Md&&this.jd(t,this.qd.Kd),this.Xd()}}},this.Zd=e,this.qd=t,this.Ps=n,this.Gd()}m(){null!==this.Sd&&(this.Sd(),this.Sd=null),null!==this.xd&&(this.xd(),this.xd=null),null!==this.Pd&&(this.Pd(),this.Pd=null),null!==this.kd&&(this.kd(),this.kd=null),null!==this.yd&&(this.yd(),this.yd=null),null!==this.Cd&&(this.Cd(),this.Cd=null),this.Jd(),this.Xd()}Qd(e){this.Pd&&this.Pd();const t=this.tf.bind(this);if(this.Pd=()=>{this.Zd.removeEventListener("mousemove",t)},this.Zd.addEventListener("mousemove",t),this.Nd(e))return;const n=this.Fd(e);this.jd(n,this.qd.if),this.Ad=!0}Xd(){null!==this.od&&clearTimeout(this.od),this.ld=0,this.od=null,this._d={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}Yd(){null!==this.dd&&clearTimeout(this.dd),this.ud=0,this.dd=null,this.fd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}tf(e){if(this.Id||null!==this.wd)return;if(this.Nd(e))return;const t=this.Fd(e);this.jd(t,this.qd.sf),this.Ad=!0}nf(e){const t=Ld(e.changedTouches,Wl(this.Ed));if(null===t)return;if(this.Bd=Id(e),null!==this.Td)return;if(this.Vd)return;this.Dd=!0;const n=this.Hd(Rd(t),Wl(this.wd)),{ef:r,rf:i,Wd:a}=n;if(this.gd||!(a<5)){if(!this.gd){const e=.5*r,t=i>=e&&!this.Ps.hf(),n=e>i&&!this.Ps.af();t||n||(this.Vd=!0),this.gd=!0,this.bd=!0,this.Jd(),this.Yd()}if(!this.Vd){const n=this.Fd(e,t);this.Ud(n,this.qd.lf),Dd(e)}}}_f(e){if(0!==e.button)return;const t=this.Hd(Rd(e),Wl(this.md)),{Wd:n}=t;if(n>=5&&(this.Md=!0,this.Xd()),this.Md){const t=this.Fd(e);this.jd(t,this.qd.uf)}}Hd(e,t){const n=Math.abs(t._t-e._t),r=Math.abs(t.ut-e.ut);return{ef:n,rf:r,Wd:n+r}}cf(e){let t=Ld(e.changedTouches,Wl(this.Ed));if(null===t&&0===e.touches.length&&(t=e.changedTouches[0]),null===t)return;this.Ed=null,this.Bd=Id(e),this.Jd(),this.wd=null,this.yd&&(this.yd(),this.yd=null);const n=this.Fd(e,t);if(this.Ud(n,this.qd.df),++this.ud,this.dd&&this.ud>1){const{Wd:e}=this.Hd(Rd(t),this.fd);e<30&&!this.bd&&this.Ud(n,this.qd.$d),this.Yd()}else this.bd||(this.Ud(n,this.qd.ff),this.qd.ff&&Dd(e));0===this.ud&&Dd(e),0===e.touches.length&&this.vd&&(this.vd=!1,Dd(e))}Ld(e){if(0!==e.button)return;const t=this.Fd(e);if(this.md=null,this.Id=!1,this.kd&&(this.kd(),this.kd=null),Pd()&&this.Zd.ownerDocument.documentElement.removeEventListener("mouseleave",this.zd),!this.Nd(e))if(this.jd(t,this.qd.pf),++this.ld,this.od&&this.ld>1){const{Wd:n}=this.Hd(Rd(e),this._d);n<5&&!this.Md&&this.jd(t,this.qd.Kd),this.Xd()}else this.Md||this.jd(t,this.qd.vf)}Jd(){null!==this.pd&&(clearTimeout(this.pd),this.pd=null)}mf(e){if(null!==this.Ed)return;const t=e.changedTouches[0];this.Ed=t.identifier,this.Bd=Id(e);const n=this.Zd.ownerDocument.documentElement;this.bd=!1,this.gd=!1,this.Vd=!1,this.wd=Rd(t),this.yd&&(this.yd(),this.yd=null);{const t=this.nf.bind(this),r=this.cf.bind(this);this.yd=()=>{n.removeEventListener("touchmove",t),n.removeEventListener("touchend",r)},n.addEventListener("touchmove",t,{passive:!1}),n.addEventListener("touchend",r,{passive:!1}),this.Jd(),this.pd=setTimeout(this.wf.bind(this,e),240)}const r=this.Fd(e,t);this.Ud(r,this.qd.gf),this.dd||(this.ud=0,this.dd=setTimeout(this.Yd.bind(this),500),this.fd=Rd(t))}Mf(e){if(0!==e.button)return;const t=this.Zd.ownerDocument.documentElement;Pd()&&t.addEventListener("mouseleave",this.zd),this.Md=!1,this.md=Rd(e),this.kd&&(this.kd(),this.kd=null);{const e=this._f.bind(this),n=this.Ld.bind(this);this.kd=()=>{t.removeEventListener("mousemove",e),t.removeEventListener("mouseup",n)},t.addEventListener("mousemove",e),t.addEventListener("mouseup",n)}if(this.Id=!0,this.Nd(e))return;const n=this.Fd(e);this.jd(n,this.qd.bf),this.od||(this.ld=0,this.od=setTimeout(this.Xd.bind(this),500),this._d=Rd(e))}Gd(){this.Zd.addEventListener("mouseenter",this.Qd.bind(this)),this.Zd.addEventListener("touchcancel",this.Jd.bind(this));{const e=this.Zd.ownerDocument,t=e=>{this.qd.Sf&&(e.composed&&this.Zd.contains(e.composedPath()[0])||e.target&&this.Zd.contains(e.target)||this.qd.Sf())};this.xd=()=>{e.removeEventListener("touchstart",t)},this.Sd=()=>{e.removeEventListener("mousedown",t)},e.addEventListener("mousedown",t),e.addEventListener("touchstart",t,{passive:!0})}Md()&&(this.Cd=()=>{this.Zd.removeEventListener("dblclick",this.Od)},this.Zd.addEventListener("dblclick",this.Od)),this.Zd.addEventListener("mouseleave",this.xf.bind(this)),this.Zd.addEventListener("touchstart",this.mf.bind(this),{passive:!0}),function(e){Ed&&void 0!==window.chrome&&e.addEventListener("mousedown",e=>{if(1===e.button)return e.preventDefault(),!1})}(this.Zd),this.Zd.addEventListener("mousedown",this.Mf.bind(this)),this.Cf(),this.Zd.addEventListener("touchmove",()=>{},{passive:!1})}Cf(){void 0===this.qd.Pf&&void 0===this.qd.kf&&void 0===this.qd.yf||(this.Zd.addEventListener("touchstart",e=>this.Tf(e.touches),{passive:!0}),this.Zd.addEventListener("touchmove",e=>{if(2===e.touches.length&&null!==this.Td&&void 0!==this.qd.kf){const t=Td(e.touches[0],e.touches[1])/this.Rd;this.qd.kf(this.Td,t),Dd(e)}},{passive:!1}),this.Zd.addEventListener("touchend",e=>{this.Tf(e.touches)}))}Tf(e){1===e.length&&(this.Dd=!1),2!==e.length||this.Dd||this.vd?this.Rf():this.Df(e)}Df(e){const t=this.Zd.getBoundingClientRect()||{left:0,top:0};this.Td={_t:(e[0].clientX-t.left+(e[1].clientX-t.left))/2,ut:(e[0].clientY-t.top+(e[1].clientY-t.top))/2},this.Rd=Td(e[0],e[1]),void 0!==this.qd.Pf&&this.qd.Pf(),this.Jd()}Rf(){null!==this.Td&&(this.Td=null,void 0!==this.qd.yf&&this.qd.yf())}xf(e){if(this.Pd&&this.Pd(),this.Nd(e))return;if(!this.Ad)return;const t=this.Fd(e);this.jd(t,this.qd.Vf),this.Ad=!Md()}wf(e){const t=Ld(e.touches,Wl(this.Ed));if(null===t)return;const n=this.Fd(e,t);this.Ud(n,this.qd.If),this.bd=!0,this.vd=!0}Nd(e){return e.sourceCapabilities&&void 0!==e.sourceCapabilities.firesTouchEvents?e.sourceCapabilities.firesTouchEvents:Id(e)<this.Bd+500}Ud(e,t){t&&t.call(this.qd,e)}jd(e,t){t&&t.call(this.qd,e)}Fd(e,t){const n=t||e,r=this.Zd.getBoundingClientRect()||{left:0,top:0};return{clientX:n.clientX,clientY:n.clientY,pageX:n.pageX,pageY:n.pageY,screenX:n.screenX,screenY:n.screenY,localX:n.clientX-r.left,localY:n.clientY-r.top,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,Bf:!e.type.startsWith("mouse")&&"contextmenu"!==e.type&&"click"!==e.type,Ef:e.type,Af:n.target,a_:e.view,zf:()=>{"touchstart"!==e.type&&Dd(e)}}}}function Td(e,t){const n=e.clientX-t.clientX,r=e.clientY-t.clientY;return Math.sqrt(n*n+r*r)}function Dd(e){e.cancelable&&e.preventDefault()}function Rd(e){return{_t:e.pageX,ut:e.pageY}}function Id(e){return e.timeStamp||performance.now()}function Ld(e,t){for(let n=0;n<e.length;++n)if(e[n].identifier===t)return e[n];return null}class zd{constructor(e,t,n){this.Lf=null,this.Of=null,this.Nf=!0,this.Ff=null,this.Wf=e,this.Hf=e.Uf()[t],this.$f=e.Uf()[n],this.qf=document.createElement("tr"),this.qf.style.height="1px",this.Yf=document.createElement("td"),this.Yf.style.position="relative",this.Yf.style.padding="0",this.Yf.style.margin="0",this.Yf.setAttribute("colspan","3"),this.jf(),this.qf.appendChild(this.Yf),this.Nf=this.Wf.N().layout.panes.enableResize,this.Nf?this.Kf():(this.Lf=null,this.Of=null)}m(){null!==this.Of&&this.Of.m()}Xf(){return this.qf}Zf(){return Sl({width:this.Hf.Zf().width,height:1})}Gf(){return Sl({width:this.Hf.Gf().width,height:1*window.devicePixelRatio})}Jf(e,t,n){const r=this.Gf();e.fillStyle=this.Wf.N().layout.panes.separatorColor,e.fillRect(t,n,r.width,r.height)}kt(){this.jf(),this.Wf.N().layout.panes.enableResize!==this.Nf&&(this.Nf=this.Wf.N().layout.panes.enableResize,this.Nf?this.Kf():(null!==this.Lf&&(this.Yf.removeChild(this.Lf.Qf),this.Yf.removeChild(this.Lf.tp),this.Lf=null),null!==this.Of&&(this.Of.m(),this.Of=null)))}Kf(){const e=document.createElement("div"),t=e.style;t.position="fixed",t.display="none",t.zIndex="49",t.top="0",t.left="0",t.width="100%",t.height="100%",t.cursor="row-resize",this.Yf.appendChild(e);const n=document.createElement("div"),r=n.style;r.position="absolute",r.zIndex="50",r.top="-4px",r.height="9px",r.width="100%",r.backgroundColor="",r.cursor="row-resize",this.Yf.appendChild(n);const i={if:this.ip.bind(this),Vf:this.sp.bind(this),bf:this.np.bind(this),gf:this.np.bind(this),uf:this.ep.bind(this),lf:this.ep.bind(this),pf:this.rp.bind(this),df:this.rp.bind(this)};this.Of=new Ad(n,i,{hf:()=>!1,af:()=>!0}),this.Lf={tp:n,Qf:e}}jf(){this.Yf.style.background=this.Wf.N().layout.panes.separatorColor}ip(e){null!==this.Lf&&(this.Lf.tp.style.backgroundColor=this.Wf.N().layout.panes.separatorHoverColor)}sp(e){null!==this.Lf&&null===this.Ff&&(this.Lf.tp.style.backgroundColor="")}np(e){if(null===this.Lf)return;const t=this.Hf.hp().Io()+this.$f.hp().Io(),n=t/(this.Hf.Zf().height+this.$f.Zf().height),r=30*n;t<=2*r||(this.Ff={ap:e.pageY,lp:this.Hf.hp().Io(),op:t-r,_p:t,up:n,cp:r},this.Lf.Qf.style.display="block")}ep(e){const t=this.Ff;if(null===t)return;const n=(e.pageY-t.ap)*t.up,r=ku(t.lp+n,t.cp,t.op);this.Hf.hp().Bo(r),this.$f.hp().Bo(t._p-r),this.Wf.Qt().Bh()}rp(e){null!==this.Ff&&null!==this.Lf&&(this.Ff=null,this.Lf.Qf.style.display="none")}}function Fd(e,t){return e.dp-t.dp}function Bd(e,t,n){const r=(e.dp-t.dp)/(e.wt-t.wt);return Math.sign(r)*Math.min(Math.abs(r),n)}class Wd{constructor(e,t,n,r){this.fp=null,this.pp=null,this.vp=null,this.mp=null,this.wp=null,this.gp=0,this.Mp=0,this.bp=e,this.Sp=t,this.xp=n,this.Mn=r}Cp(e,t){if(null!==this.fp){if(this.fp.wt===t)return void(this.fp.dp=e);if(Math.abs(this.fp.dp-e)<this.Mn)return}this.mp=this.vp,this.vp=this.pp,this.pp=this.fp,this.fp={wt:t,dp:e}}le(e,t){if(null===this.fp||null===this.pp)return;if(t-this.fp.wt>50)return;let n=0;const r=Bd(this.fp,this.pp,this.Sp),i=Fd(this.fp,this.pp),a=[r],s=[i];if(n+=i,null!==this.vp){const e=Bd(this.pp,this.vp,this.Sp);if(Math.sign(e)===Math.sign(r)){const t=Fd(this.pp,this.vp);if(a.push(e),s.push(t),n+=t,null!==this.mp){const e=Bd(this.vp,this.mp,this.Sp);if(Math.sign(e)===Math.sign(r)){const t=Fd(this.vp,this.mp);a.push(e),s.push(t),n+=t}}}}let o=0;for(let l=0;l<a.length;++l)o+=s[l]/n*a[l];Math.abs(o)<this.bp||(this.wp={dp:e,wt:t},this.Mp=o,this.gp=function(e,t){const n=Math.log(t);return Math.log(1*n/-e)/n}(Math.abs(o),this.xp))}Ru(e){const t=Wl(this.wp),n=e-t.wt;return t.dp+this.Mp*(Math.pow(this.xp,n)-1)/Math.log(this.xp)}Tu(e){return null===this.wp||this.Pp(e)===this.gp}Pp(e){const t=e-Wl(this.wp).wt;return Math.min(t,this.gp)}}class $d{constructor(e,t){this.kp=void 0,this.yp=void 0,this.Tp=void 0,this.ps=!1,this.Rp=e,this.Dp=t,this.Vp()}kt(){this.Vp()}Ip(){this.kp&&this.Rp.removeChild(this.kp),this.yp&&this.Rp.removeChild(this.yp),this.kp=void 0,this.yp=void 0}Bp(){return this.ps!==this.Ep()||this.Tp!==this.Ap()}Ap(){return this.Dp.Qt().Xi().J(this.Dp.N().layout.textColor)>160?"dark":"light"}Ep(){return this.Dp.N().layout.attributionLogo}zp(){const e=new URL(location.href);return e.hostname?"&utm_source="+e.hostname+e.pathname:""}Vp(){this.Bp()&&(this.Ip(),this.ps=this.Ep(),this.ps&&(this.Tp=this.Ap(),this.yp=document.createElement("style"),this.yp.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.kp=document.createElement("a"),this.kp.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.zp()}`,this.kp.title="Charting by TradingView",this.kp.id="tv-attr-logo",this.kp.target="_blank",this.kp.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.kp.toggleAttribute("data-dark","dark"===this.Tp),this.Rp.appendChild(this.yp),this.Rp.appendChild(this.kp)))}}function Vd(e,t){const n=Wl(e.ownerDocument).createElement("canvas");e.appendChild(n);const r=new Pl(n,(i={options:{allowResizeObserver:!0},transform:(e,t)=>({width:Math.max(e.width,t.width),height:Math.max(e.height,t.height)})}).transform,i.options);var i;return r.resizeCanvasElement(t),r}function Kd(e){var t;e.width=1,e.height=1,null==(t=e.getContext("2d"))||t.clearRect(0,0,1,1)}function Hd(e,t,n,r){e.ih&&e.ih(t,n,r)}function Ud(e,t,n,r){e.nt(t,n,r)}function Yd(e,t,n,r){const i=e(n,r);for(const a of i){const e=a.Tt(r);null!==e&&t(e)}}function qd(e,t){return n=>{var r,i,a,s;return void 0===n.Ft||(null!=(i=null==(r=n.Ft())?void 0:r.wa())?i:"")!==t?[]:null!=(s=null==(a=n.ta)?void 0:a.call(n,e))?s:[]}}function Gd(e,t,n,r){if(!e.length)return;let i=0;const a=e[0].$t(r,!0);let s=1===t?n/2-(e[0].Fi()-a/2):e[0].Fi()-a/2-n/2;s=Math.max(0,s);for(let o=1;o<e.length;o++){const a=e[o],l=e[o-1],c=l.$t(r,!1),u=a.Fi(),d=l.Fi();if(1===t?u>d-c:u<d+c){const r=d-c*t;a.Wi(r);const o=r-t*c/2;if((1===t?o<0:o>n)&&s>0){const r=1===t?-1-o:o-n,a=Math.min(r,s);for(let n=i;n<e.length;n++)e[n].Wi(e[n].Fi()+t*a);s-=a}}else i=o,s=1===t?d-c-u:u-(d+c)}}class Xd{constructor(e,t,n,r){this.Yi=null,this.Lp=null,this.Op=!1,this.Np=new Tc(200),this.Fp=null,this.Wp=0,this.Hp=!1,this.Up=()=>{this.Hp||this.Pt.$p().Qt().ar()},this.qp=()=>{this.Hp||this.Pt.$p().Qt().ar()},this.Pt=e,this.Ps=t,this.bl=t.layout,this.Gu=n,this.Yp="left"===r,this.jp=qd("normal",r),this.Kp=qd("top",r),this.Xp=qd("bottom",r),this.Yf=document.createElement("div"),this.Yf.style.height="100%",this.Yf.style.overflow="hidden",this.Yf.style.width="25px",this.Yf.style.left="0",this.Yf.style.position="relative",this.Zp=Vd(this.Yf,Sl({width:16,height:16})),this.Zp.subscribeSuggestedBitmapSizeChanged(this.Up);const i=this.Zp.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.Gp=Vd(this.Yf,Sl({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.qp);const a=this.Gp.canvasElement;a.style.position="absolute",a.style.zIndex="2",a.style.left="0",a.style.top="0";const s={bf:this.np.bind(this),gf:this.np.bind(this),uf:this.ep.bind(this),lf:this.ep.bind(this),Sf:this.Jp.bind(this),pf:this.rp.bind(this),df:this.rp.bind(this),Kd:this.Qp.bind(this),$d:this.Qp.bind(this),if:this.tv.bind(this),Vf:this.sp.bind(this)};this.Of=new Ad(this.Gp.canvasElement,s,{hf:()=>!this.Ps.handleScroll.vertTouchDrag,af:()=>!0})}m(){this.Of.m(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.qp),Kd(this.Gp.canvasElement),this.Gp.dispose(),this.Zp.unsubscribeSuggestedBitmapSizeChanged(this.Up),Kd(this.Zp.canvasElement),this.Zp.dispose(),null!==this.Yi&&this.Yi.no().u(this),this.Yi=null}Xf(){return this.Yf}P(){return this.bl.fontSize}iv(){const e=this.Gu.N();return this.Fp!==e.k&&(this.Np.In(),this.Fp=e.k),e}sv(){if(null===this.Yi)return 0;let e=0;const t=this.iv(),n=Wl(this.Zp.canvasElement.getContext("2d",{colorSpace:this.Pt.$p().N().layout.colorSpace}));n.save();const r=this.Yi.Va();n.font=this.nv(),r.length>0&&(e=Math.max(this.Np.Vi(n,r[0].Ga),this.Np.Vi(n,r[r.length-1].Ga)));const i=this.ev();for(let l=i.length;l--;){const t=this.Np.Vi(n,i[l].ri());t>e&&(e=t)}const a=this.Yi.zt();if(null!==a&&null!==this.Lp&&2!==(s=this.Ps.crosshair).mode&&s.horzLine.visible&&s.horzLine.labelVisible){const t=this.Yi.Ts(1,a),r=this.Yi.Ts(this.Lp.height-2,a);e=Math.max(e,this.Np.Vi(n,this.Yi.Zi(Math.floor(Math.min(t,r))+.11111111111111,a)),this.Np.Vi(n,this.Yi.Zi(Math.ceil(Math.max(t,r))-.11111111111111,a)))}var s;n.restore();const o=e||34;return Od(Math.ceil(t.S+t.C+t.I+t.B+5+o))}rv(e){null!==this.Lp&&Cl(this.Lp,e)||(this.Lp=e,this.Hp=!0,this.Zp.resizeCanvasElement(e),this.Gp.resizeCanvasElement(e),this.Hp=!1,this.Yf.style.width=`${e.width}px`,this.Yf.style.height=`${e.height}px`)}hv(){return Wl(this.Lp).width}_s(e){this.Yi!==e&&(null!==this.Yi&&this.Yi.no().u(this),this.Yi=e,e.no().i(this.ul.bind(this),this))}Ft(){return this.Yi}In(){const e=this.Pt.hp();this.Pt.$p().Qt().Zo(e,Wl(this.Ft()))}av(e){if(null===this.Lp)return;const t={colorSpace:this.Pt.$p().N().layout.colorSpace};if(1!==e){this.lv(),this.Zp.applySuggestedBitmapSize();const e=Al(this.Zp,t);null!==e&&(e.useBitmapCoordinateSpace(e=>{this.ov(e),this._v(e)}),this.Pt.uv(e,this.Xp),this.cv(e),this.Pt.uv(e,this.jp),this.dv(e))}this.Gp.applySuggestedBitmapSize();const n=Al(this.Gp,t);null!==n&&(n.useBitmapCoordinateSpace(({context:e,bitmapSize:t})=>{e.clearRect(0,0,t.width,t.height)}),this.fv(n),this.Pt.uv(n,this.Kp))}Gf(){return this.Zp.bitmapSize}Jf(e,t,n){const r=this.Gf();r.width>0&&r.height>0&&e.drawImage(this.Zp.canvasElement,t,n)}kt(){var e;null==(e=this.Yi)||e.Va()}np(e){if(null===this.Yi||this.Yi.Ki()||!this.Ps.handleScale.axisPressedMouseMove.price)return;const t=this.Pt.$p().Qt(),n=this.Pt.hp();this.Op=!0,t.Uo(n,this.Yi,e.localY)}ep(e){if(null===this.Yi||!this.Ps.handleScale.axisPressedMouseMove.price)return;const t=this.Pt.$p().Qt(),n=this.Pt.hp(),r=this.Yi;t.$o(n,r,e.localY)}Jp(){if(null===this.Yi||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.Pt.$p().Qt(),t=this.Pt.hp(),n=this.Yi;this.Op&&(this.Op=!1,e.qo(t,n))}rp(e){if(null===this.Yi||!this.Ps.handleScale.axisPressedMouseMove.price)return;const t=this.Pt.$p().Qt(),n=this.Pt.hp();this.Op=!1,t.qo(n,this.Yi)}Qp(e){this.Ps.handleScale.axisDoubleClickReset.price&&this.In()}tv(e){null!==this.Yi&&(!this.Pt.$p().Qt().N().handleScale.axisPressedMouseMove.price||this.Yi.Le()||this.Yi.Vl()||this.pv(1))}sp(e){this.pv(0)}ev(){const e=[],t=null===this.Yi?void 0:this.Yi;return(n=>{for(let r=0;r<n.length;++r){const i=n[r].Ws(this.Pt.hp(),t);for(let t=0;t<i.length;t++)e.push(i[t])}})(this.Pt.hp().Dt()),e}ov({context:e,bitmapSize:t}){const{width:n,height:r}=t,i=this.Pt.hp().Qt(),a=i.$(),s=i.Fc();a===s?hc(e,0,0,n,r,a):pc(e,0,0,n,r,a,s)}_v({context:e,bitmapSize:t,horizontalPixelRatio:n}){if(null===this.Lp||null===this.Yi||!this.Yi.N().borderVisible)return;e.fillStyle=this.Yi.N().borderColor;const r=Math.max(1,Math.floor(this.iv().S*n));let i;i=this.Yp?t.width-r:0,e.fillRect(i,0,r,t.height)}cv(e){if(null===this.Lp||null===this.Yi)return;const t=this.Yi.Va(),n=this.Yi.N(),r=this.iv(),i=this.Yp?this.Lp.width-r.C:0;n.borderVisible&&n.ticksVisible&&e.useBitmapCoordinateSpace(({context:e,horizontalPixelRatio:a,verticalPixelRatio:s})=>{e.fillStyle=n.borderColor;const o=Math.max(1,Math.floor(s)),l=Math.floor(.5*s),c=Math.round(r.C*a);e.beginPath();for(const n of t)e.rect(Math.floor(i*a),Math.round(n.ka*s)-l,c,o);e.fill()}),e.useMediaCoordinateSpace(({context:e})=>{var a;e.font=this.nv(),e.fillStyle=null!=(a=n.textColor)?a:this.bl.textColor,e.textAlign=this.Yp?"right":"left",e.textBaseline="middle";const s=this.Yp?Math.round(i-r.I):Math.round(i+r.C+r.I),o=t.map(t=>this.Np.Di(e,t.Ga));for(let n=t.length;n--;){const r=t[n];e.fillText(r.Ga,s,r.ka+o[n])}})}lv(){if(null===this.Lp||null===this.Yi)return;let e=this.Lp.height/2;const t=[],n=this.Yi.Dt().slice(),r=this.Pt.hp(),i=this.iv();this.Yi===r.$n()&&this.Pt.hp().Dt().forEach(e=>{r.Un(e)&&n.push(e)});const a=this.Yi.ba()[0],s=this.Yi;n.forEach(n=>{const i=n.Ws(r,s);i.forEach(e=>{e.Wi(null),e.Hi()&&t.push(e)}),a===n&&i.length>0&&(e=i[0].Bi())}),t.forEach(e=>e.Wi(e.Bi())),this.Yi.N().alignLabels&&this.vv(t,i,e)}vv(e,t,n){if(null===this.Lp)return;const r=e.filter(e=>e.Bi()<=n),i=e.filter(e=>e.Bi()>n);r.sort((e,t)=>t.Bi()-e.Bi()),r.length&&i.length&&i.push(r[0]),i.sort((e,t)=>e.Bi()-t.Bi());for(const a of e){const e=Math.floor(a.$t(t)/2),n=a.Bi();n>-e&&n<e&&a.Wi(e),n>this.Lp.height-e&&n<this.Lp.height+e&&a.Wi(this.Lp.height-e)}Gd(r,1,this.Lp.height,t),Gd(i,-1,this.Lp.height,t)}dv(e){if(null===this.Lp)return;const t=this.ev(),n=this.iv(),r=this.Yp?"right":"left";t.forEach(t=>{t.Ui()&&t.Tt(Wl(this.Yi)).nt(e,n,this.Np,r)})}fv(e){if(null===this.Lp||null===this.Yi)return;const t=this.Pt.$p().Qt(),n=[],r=this.Pt.hp(),i=t._c().Ws(r,this.Yi);i.length&&n.push(i);const a=this.iv(),s=this.Yp?"right":"left";n.forEach(t=>{t.forEach(t=>{t.Tt(Wl(this.Yi)).nt(e,a,this.Np,s)})})}pv(e){this.Yf.style.cursor=1===e?"ns-resize":"default"}ul(){const e=this.sv();this.Wp<e&&this.Pt.$p().Qt().Bh(),this.Wp=e}nv(){return Jl(this.bl.fontSize,this.bl.fontFamily)}}function Qd(e,t){var n,r;return null!=(r=null==(n=e.Jh)?void 0:n.call(e,t))?r:[]}function Zd(e,t){var n,r;return null!=(r=null==(n=e.Fs)?void 0:n.call(e,t))?r:[]}function Jd(e,t){var n,r;return null!=(r=null==(n=e.us)?void 0:n.call(e,t))?r:[]}function eh(e,t){var n,r;return null!=(r=null==(n=e.Xh)?void 0:n.call(e,t))?r:[]}class th{constructor(e,t){this.Lp=Sl({width:0,height:0}),this.mv=null,this.wv=null,this.gv=null,this.Mv=null,this.bv=!1,this.Sv=new Vl,this.xv=new Vl,this.Cv=0,this.Pv=!1,this.kv=null,this.yv=!1,this.Tv=null,this.Rv=null,this.Hp=!1,this.Up=()=>{this.Hp||null===this.Dv||this.ts().ar()},this.qp=()=>{this.Hp||null===this.Dv||this.ts().ar()},this.Dp=e,this.Dv=t,this.Dv.t_().i(this.Vv.bind(this),this,!0),this.Iv=document.createElement("td"),this.Iv.style.padding="0",this.Iv.style.position="relative";const n=document.createElement("div");n.style.width="100%",n.style.height="100%",n.style.position="relative",n.style.overflow="hidden",this.Bv=document.createElement("td"),this.Bv.style.padding="0",this.Ev=document.createElement("td"),this.Ev.style.padding="0",this.Iv.appendChild(n),this.Zp=Vd(n,Sl({width:16,height:16})),this.Zp.subscribeSuggestedBitmapSizeChanged(this.Up);const r=this.Zp.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Gp=Vd(n,Sl({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.qp);const i=this.Gp.canvasElement;i.style.position="absolute",i.style.zIndex="2",i.style.left="0",i.style.top="0",this.qf=document.createElement("tr"),this.qf.appendChild(this.Bv),this.qf.appendChild(this.Iv),this.qf.appendChild(this.Ev),this.Av(),this.Of=new Ad(this.Gp.canvasElement,this,{hf:()=>null===this.kv&&!this.Dp.N().handleScroll.vertTouchDrag,af:()=>null===this.kv&&!this.Dp.N().handleScroll.horzTouchDrag})}m(){null!==this.mv&&this.mv.m(),null!==this.wv&&this.wv.m(),this.gv=null,this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.qp),Kd(this.Gp.canvasElement),this.Gp.dispose(),this.Zp.unsubscribeSuggestedBitmapSizeChanged(this.Up),Kd(this.Zp.canvasElement),this.Zp.dispose(),null!==this.Dv&&(this.Dv.t_().u(this),this.Dv.m()),this.Of.m()}hp(){return Wl(this.Dv)}zv(e){var t,n;null!==this.Dv&&this.Dv.t_().u(this),this.Dv=e,null!==this.Dv&&this.Dv.t_().i(th.prototype.Vv.bind(this),this,!0),this.Av(),this.Dp.Uf().indexOf(this)===this.Dp.Uf().length-1?(this.gv=null!=(t=this.gv)?t:new $d(this.Iv,this.Dp),this.gv.kt()):(null==(n=this.gv)||n.Ip(),this.gv=null)}$p(){return this.Dp}Xf(){return this.qf}Av(){if(null!==this.Dv&&(this.Lv(),0!==this.ts().js().length)){if(null!==this.mv){const e=this.Dv.Wo();this.mv._s(Wl(e))}if(null!==this.wv){const e=this.Dv.Ho();this.wv._s(Wl(e))}}}Ov(){null!==this.mv&&this.mv.kt(),null!==this.wv&&this.wv.kt()}Io(){return null!==this.Dv?this.Dv.Io():0}Bo(e){this.Dv&&this.Dv.Bo(e)}if(e){if(!this.Dv)return;this.Nv();const t=e.localX,n=e.localY;this.Fv(t,n,e)}bf(e){this.Nv(),this.Wv(),this.Fv(e.localX,e.localY,e)}sf(e){if(!this.Dv)return;this.Nv();const t=e.localX,n=e.localY;this.Fv(t,n,e)}vf(e){null!==this.Dv&&(this.Nv(),this.Hv(e))}Kd(e){null!==this.Dv&&this.Uv(this.xv,e)}$d(e){this.Kd(e)}uf(e){this.Nv(),this.$v(e),this.Fv(e.localX,e.localY,e)}pf(e){null!==this.Dv&&(this.Nv(),this.Pv=!1,this.qv(e))}ff(e){null!==this.Dv&&this.Hv(e)}If(e){if(this.Pv=!0,null===this.kv){const t={x:e.localX,y:e.localY};this.Yv(t,t,e)}}Vf(e){null!==this.Dv&&(this.Nv(),this.Dv.Qt().ac(null),this.jv())}Kv(){return this.Sv}Xv(){return this.xv}Pf(){this.Cv=1,this.ts().hn()}kf(e,t){if(!this.Dp.N().handleScale.pinch)return;const n=5*(t-this.Cv);this.Cv=t,this.ts().Mc(e._t,n)}gf(e){this.Pv=!1,this.yv=null!==this.kv,this.Wv();const t=this.ts()._c();null!==this.kv&&t.Vt()&&(this.Tv={x:t.si(),y:t.ni()},this.kv={x:e.localX,y:e.localY})}lf(e){if(null===this.Dv)return;const t=e.localX,n=e.localY;if(null===this.kv)this.$v(e);else{this.yv=!1;const r=Wl(this.Tv),i=r.x+(t-this.kv.x),a=r.y+(n-this.kv.y);this.Fv(i,a,e)}}df(e){0===this.$p().N().trackingMode.exitMode&&(this.yv=!0),this.Zv(),this.qv(e)}jn(e,t){const n=this.Dv;return null===n?null:Zu(n,e,t)}Gv(e,t){Wl("left"===t?this.mv:this.wv).rv(Sl({width:e,height:this.Lp.height}))}Zf(){return this.Lp}rv(e){Cl(this.Lp,e)||(this.Lp=e,this.Hp=!0,this.Zp.resizeCanvasElement(e),this.Gp.resizeCanvasElement(e),this.Hp=!1,this.Iv.style.width=e.width+"px",this.Iv.style.height=e.height+"px")}Jv(){const e=Wl(this.Dv);e.Fo(e.Wo()),e.Fo(e.Ho());for(const t of e.ba())if(e.Un(t)){const n=t.Ft();null!==n&&e.Fo(n),t.Ns()}for(const t of e.s_())t.Ns()}Gf(){return this.Zp.bitmapSize}Jf(e,t,n){const r=this.Gf();r.width>0&&r.height>0&&e.drawImage(this.Zp.canvasElement,t,n)}av(e){if(0===e)return;if(null===this.Dv)return;e>1&&this.Jv(),null!==this.mv&&this.mv.av(e),null!==this.wv&&this.wv.av(e);const t={colorSpace:this.Dp.N().layout.colorSpace};if(1!==e){this.Zp.applySuggestedBitmapSize();const e=Al(this.Zp,t);null!==e&&(e.useBitmapCoordinateSpace(e=>{this.ov(e)}),this.Dv&&(this.Qv(e,Qd),this.tm(e),this.Qv(e,Zd),this.Qv(e,Jd)))}this.Gp.applySuggestedBitmapSize();const n=Al(this.Gp,t);null!==n&&(n.useBitmapCoordinateSpace(({context:e,bitmapSize:t})=>{e.clearRect(0,0,t.width,t.height)}),this.im(n),this.Qv(n,eh),this.Qv(n,Jd))}sm(){return this.mv}nm(){return this.wv}uv(e,t){this.Qv(e,t)}Vv(){null!==this.Dv&&this.Dv.t_().u(this),this.Dv=null}Hv(e){this.Uv(this.Sv,e)}Uv(e,t){const n=t.localX,r=t.localY;e.v()&&e.p(this.ts().Et().uu(n),{x:n,y:r},t)}ov({context:e,bitmapSize:t}){const{width:n,height:r}=t,i=this.ts(),a=i.$(),s=i.Fc();a===s?hc(e,0,0,n,r,s):pc(e,0,0,n,r,a,s)}tm(e){const t=Wl(this.Dv),n=t.i_().lr().Tt(t);null!==n&&n.nt(e,!1)}im(e){this.rm(e,Zd,Ud,this.ts()._c())}Qv(e,t){const n=Wl(this.Dv),r=n.Dt(),i=n.s_();for(const a of i)this.rm(e,t,Hd,a);for(const a of r)this.rm(e,t,Hd,a);for(const a of i)this.rm(e,t,Ud,a);for(const a of r)this.rm(e,t,Ud,a)}rm(e,t,n,r){const i=Wl(this.Dv),a=i.Qt().hc(),s=null!==a&&a.n_===r,o=null!==a&&s&&void 0!==a.e_?a.e_.Xn:void 0;Yd(t,t=>n(t,e,s,o),r,i)}Lv(){if(null===this.Dv)return;const e=this.Dp,t=this.Dv.Wo().N().visible,n=this.Dv.Ho().N().visible;t||null===this.mv||(this.Bv.removeChild(this.mv.Xf()),this.mv.m(),this.mv=null),n||null===this.wv||(this.Ev.removeChild(this.wv.Xf()),this.wv.m(),this.wv=null);const r=e.Qt().Vc();t&&null===this.mv&&(this.mv=new Xd(this,e.N(),r,"left"),this.Bv.appendChild(this.mv.Xf())),n&&null===this.wv&&(this.wv=new Xd(this,e.N(),r,"right"),this.Ev.appendChild(this.wv.Xf()))}hm(e){return e.Bf&&this.Pv||null!==this.kv}am(e){return Math.max(0,Math.min(e,this.Lp.width-1))}lm(e){return Math.max(0,Math.min(e,this.Lp.height-1))}Fv(e,t,n){this.ts().yc(this.am(e),this.lm(t),n,Wl(this.Dv))}jv(){this.ts().Rc()}Zv(){this.yv&&(this.kv=null,this.jv())}Yv(e,t,n){this.kv=e,this.yv=!1,this.Fv(t.x,t.y,n);const r=this.ts()._c();this.Tv={x:r.si(),y:r.ni()}}ts(){return this.Dp.Qt()}qv(e){if(!this.bv)return;const t=this.ts(),n=this.hp();if(t.Ko(n,n.ys()),this.Mv=null,this.bv=!1,t.Cc(),null!==this.Rv){const e=performance.now(),n=t.Et();this.Rv.le(n.wu(),e),this.Rv.Tu(e)||t._n(this.Rv)}}Nv(){this.kv=null}Wv(){if(this.Dv){if(this.ts().hn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)Wl(document.activeElement).blur();else{const e=document.getSelection();null!==e&&e.removeAllRanges()}!this.Dv.ys().Ki()&&this.ts().Et().Ki()}}$v(e){if(null===this.Dv)return;const t=this.ts(),n=t.Et();if(n.Ki())return;const r=this.Dp.N(),i=r.handleScroll,a=r.kineticScroll;if((!i.pressedMouseMove||e.Bf)&&(!i.horzTouchDrag&&!i.vertTouchDrag||!e.Bf))return;const s=this.Dv.ys(),o=performance.now();if(null!==this.Mv||this.hm(e)||(this.Mv={x:e.clientX,y:e.clientY,ed:o,om:e.localX,_m:e.localY}),null!==this.Mv&&!this.bv&&(this.Mv.x!==e.clientX||this.Mv.y!==e.clientY)){if(e.Bf&&a.touch||!e.Bf&&a.mouse){const e=n.vu();this.Rv=new Wd(.2/e,7/e,.997,15/e),this.Rv.Cp(n.wu(),this.Mv.ed)}else this.Rv=null;s.Ki()||t.Yo(this.Dv,s,e.localY),t.Sc(e.localX),this.bv=!0}this.bv&&(s.Ki()||t.jo(this.Dv,s,e.localY),t.xc(e.localX),null!==this.Rv&&this.Rv.Cp(n.wu(),o))}}class nh{constructor(e,t,n,r,i){this.xt=!0,this.Lp=Sl({width:0,height:0}),this.Up=()=>this.av(3),this.Yp="left"===e,this.Gu=n.Vc,this.Ps=t,this.um=r,this.dm=i,this.Yf=document.createElement("div"),this.Yf.style.width="25px",this.Yf.style.height="100%",this.Yf.style.overflow="hidden",this.Zp=Vd(this.Yf,Sl({width:16,height:16})),this.Zp.subscribeSuggestedBitmapSizeChanged(this.Up)}m(){this.Zp.unsubscribeSuggestedBitmapSizeChanged(this.Up),Kd(this.Zp.canvasElement),this.Zp.dispose()}Xf(){return this.Yf}Zf(){return this.Lp}rv(e){Cl(this.Lp,e)||(this.Lp=e,this.Zp.resizeCanvasElement(e),this.Yf.style.width=`${e.width}px`,this.Yf.style.height=`${e.height}px`,this.xt=!0)}av(e){if(e<3&&!this.xt)return;if(0===this.Lp.width||0===this.Lp.height)return;this.xt=!1,this.Zp.applySuggestedBitmapSize();const t=Al(this.Zp,{colorSpace:this.Ps.layout.colorSpace});null!==t&&t.useBitmapCoordinateSpace(e=>{this.ov(e),this._v(e)})}Gf(){return this.Zp.bitmapSize}Jf(e,t,n){const r=this.Gf();r.width>0&&r.height>0&&e.drawImage(this.Zp.canvasElement,t,n)}_v({context:e,bitmapSize:t,horizontalPixelRatio:n,verticalPixelRatio:r}){if(!this.um())return;e.fillStyle=this.Ps.timeScale.borderColor;const i=Math.floor(this.Gu.N().S*n),a=Math.floor(this.Gu.N().S*r),s=this.Yp?t.width-i:0;e.fillRect(s,0,i,a)}ov({context:e,bitmapSize:t}){hc(e,0,0,t.width,t.height,this.dm())}}function rh(e){return t=>{var n,r;return null!=(r=null==(n=t.ia)?void 0:n.call(t,e))?r:[]}}const ih=rh("normal"),ah=rh("top"),sh=rh("bottom");class oh{constructor(e,t){this.fm=null,this.pm=null,this.M=null,this.vm=!1,this.Lp=Sl({width:0,height:0}),this.wm=new Vl,this.Np=new Tc(5),this.Hp=!1,this.Up=()=>{this.Hp||this.Dp.Qt().ar()},this.qp=()=>{this.Hp||this.Dp.Qt().ar()},this.Dp=e,this.o_=t,this.Ps=e.N().layout,this.kp=document.createElement("tr"),this.gm=document.createElement("td"),this.gm.style.padding="0",this.Mm=document.createElement("td"),this.Mm.style.padding="0",this.Yf=document.createElement("td"),this.Yf.style.height="25px",this.Yf.style.padding="0",this.bm=document.createElement("div"),this.bm.style.width="100%",this.bm.style.height="100%",this.bm.style.position="relative",this.bm.style.overflow="hidden",this.Yf.appendChild(this.bm),this.Zp=Vd(this.bm,Sl({width:16,height:16})),this.Zp.subscribeSuggestedBitmapSizeChanged(this.Up);const n=this.Zp.canvasElement;n.style.position="absolute",n.style.zIndex="1",n.style.left="0",n.style.top="0",this.Gp=Vd(this.bm,Sl({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.qp);const r=this.Gp.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.kp.appendChild(this.gm),this.kp.appendChild(this.Yf),this.kp.appendChild(this.Mm),this.Sm(),this.Dp.Qt().Vo().i(this.Sm.bind(this),this),this.Of=new Ad(this.Gp.canvasElement,this,{hf:()=>!0,af:()=>!this.Dp.N().handleScroll.horzTouchDrag})}m(){this.Of.m(),null!==this.fm&&this.fm.m(),null!==this.pm&&this.pm.m(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.qp),Kd(this.Gp.canvasElement),this.Gp.dispose(),this.Zp.unsubscribeSuggestedBitmapSizeChanged(this.Up),Kd(this.Zp.canvasElement),this.Zp.dispose()}Xf(){return this.kp}xm(){return this.fm}Cm(){return this.pm}bf(e){if(this.vm)return;this.vm=!0;const t=this.Dp.Qt();!t.Et().Ki()&&this.Dp.N().handleScale.axisPressedMouseMove.time&&t.gc(e.localX)}gf(e){this.bf(e)}Sf(){const e=this.Dp.Qt();!e.Et().Ki()&&this.vm&&(this.vm=!1,this.Dp.N().handleScale.axisPressedMouseMove.time&&e.kc())}uf(e){const t=this.Dp.Qt();!t.Et().Ki()&&this.Dp.N().handleScale.axisPressedMouseMove.time&&t.Pc(e.localX)}lf(e){this.uf(e)}pf(){this.vm=!1;const e=this.Dp.Qt();e.Et().Ki()&&!this.Dp.N().handleScale.axisPressedMouseMove.time||e.kc()}df(){this.pf()}Kd(){this.Dp.N().handleScale.axisDoubleClickReset.time&&this.Dp.Qt().cn()}$d(){this.Kd()}if(){this.Dp.Qt().N().handleScale.axisPressedMouseMove.time&&this.pv(1)}Vf(){this.pv(0)}Zf(){return this.Lp}Pm(){return this.wm}km(e,t,n){Cl(this.Lp,e)||(this.Lp=e,this.Hp=!0,this.Zp.resizeCanvasElement(e),this.Gp.resizeCanvasElement(e),this.Hp=!1,this.Yf.style.width=`${e.width}px`,this.Yf.style.height=`${e.height}px`,this.wm.p(e)),null!==this.fm&&this.fm.rv(Sl({width:t,height:e.height})),null!==this.pm&&this.pm.rv(Sl({width:n,height:e.height}))}ym(){const e=this.Tm();return Math.ceil(e.S+e.C+e.P+e.A+e.V+e.Rm)}kt(){this.Dp.Qt().Et().Va()}Gf(){return this.Zp.bitmapSize}Jf(e,t,n){const r=this.Gf();r.width>0&&r.height>0&&e.drawImage(this.Zp.canvasElement,t,n)}av(e){if(0===e)return;const t={colorSpace:this.Ps.colorSpace};if(1!==e){this.Zp.applySuggestedBitmapSize();const n=Al(this.Zp,t);null!==n&&(n.useBitmapCoordinateSpace(e=>{this.ov(e),this._v(e),this.Dm(n,sh)}),this.cv(n),this.Dm(n,ih)),null!==this.fm&&this.fm.av(e),null!==this.pm&&this.pm.av(e)}this.Gp.applySuggestedBitmapSize();const n=Al(this.Gp,t);null!==n&&(n.useBitmapCoordinateSpace(({context:e,bitmapSize:t})=>{e.clearRect(0,0,t.width,t.height)}),this.Vm([...this.Dp.Qt().js(),this.Dp.Qt()._c()],n),this.Dm(n,ah))}Dm(e,t){const n=this.Dp.Qt().js();for(const r of n)Yd(t,t=>Hd(t,e,!1,void 0),r,void 0);for(const r of n)Yd(t,t=>Ud(t,e,!1,void 0),r,void 0)}ov({context:e,bitmapSize:t}){hc(e,0,0,t.width,t.height,this.Dp.Qt().Fc())}_v({context:e,bitmapSize:t,verticalPixelRatio:n}){if(this.Dp.N().timeScale.borderVisible){e.fillStyle=this.Im();const r=Math.max(1,Math.floor(this.Tm().S*n));e.fillRect(0,0,t.width,r)}}cv(e){const t=this.Dp.Qt().Et(),n=t.Va();if(!n||0===n.length)return;const r=this.o_.maxTickMarkWeight(n),i=this.Tm(),a=t.N();a.borderVisible&&a.ticksVisible&&e.useBitmapCoordinateSpace(({context:e,horizontalPixelRatio:t,verticalPixelRatio:r})=>{e.strokeStyle=this.Im(),e.fillStyle=this.Im();const a=Math.max(1,Math.floor(t)),s=Math.floor(.5*t);e.beginPath();const o=Math.round(i.C*r);for(let i=n.length;i--;){const r=Math.round(n[i].coord*t);e.rect(r-s,0,a,o)}e.fill()}),e.useMediaCoordinateSpace(({context:e})=>{const t=i.S+i.C+i.A+i.P/2;e.textAlign="center",e.textBaseline="middle",e.fillStyle=this.H(),e.font=this.nv();for(const i of n)if(i.weight<r){const n=i.needAlignCoordinate?this.Bm(e,i.coord,i.label):i.coord;e.fillText(i.label,n,t)}this.Dp.N().timeScale.allowBoldLabels&&(e.font=this.Em());for(const i of n)if(i.weight>=r){const n=i.needAlignCoordinate?this.Bm(e,i.coord,i.label):i.coord;e.fillText(i.label,n,t)}})}Bm(e,t,n){const r=this.Np.Vi(e,n),i=r/2,a=Math.floor(t-i)+.5;return a<0?t+=Math.abs(0-a):a+r>this.Lp.width&&(t-=Math.abs(this.Lp.width-(a+r))),t}Vm(e,t){const n=this.Tm();for(const r of e)for(const e of r.cs())e.Tt().nt(t,n)}Im(){return this.Dp.N().timeScale.borderColor}H(){return this.Ps.textColor}F(){return this.Ps.fontSize}nv(){return Jl(this.F(),this.Ps.fontFamily)}Em(){return Jl(this.F(),this.Ps.fontFamily,"bold")}Tm(){null===this.M&&(this.M={S:1,L:NaN,A:NaN,V:NaN,Ji:NaN,C:5,P:NaN,k:"",Gi:new Tc,Rm:0});const e=this.M,t=this.nv();if(e.k!==t){const n=this.F();e.P=n,e.k=t,e.A=3*n/12,e.V=3*n/12,e.Ji=9*n/12,e.L=0,e.Rm=4*n/12,e.Gi.In()}return this.M}pv(e){this.Yf.style.cursor=1===e?"ew-resize":"default"}Sm(){const e=this.Dp.Qt(),t=e.N();t.leftPriceScale.visible||null===this.fm||(this.gm.removeChild(this.fm.Xf()),this.fm.m(),this.fm=null),t.rightPriceScale.visible||null===this.pm||(this.Mm.removeChild(this.pm.Xf()),this.pm.m(),this.pm=null);const n={Vc:this.Dp.Qt().Vc()},r=()=>t.leftPriceScale.borderVisible&&e.Et().N().borderVisible,i=()=>e.Fc();t.leftPriceScale.visible&&null===this.fm&&(this.fm=new nh("left",t,n,r,i),this.gm.appendChild(this.fm.Xf())),t.rightPriceScale.visible&&null===this.pm&&(this.pm=new nh("right",t,n,r,i),this.Mm.appendChild(this.pm.Xf()))}}const lh=!!Ed&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(e=>e.brand.includes("Chromium"))&&!!Ed&&((null==(t=null==navigator?void 0:navigator.userAgentData)?void 0:t.platform)?"Windows"===navigator.userAgentData.platform:navigator.userAgent.toLowerCase().indexOf("win")>=0);class ch{constructor(e,t,n){var r;this.Am=[],this.zm=[],this.Lm=0,this.sl=0,this.Mo=0,this.Om=0,this.Nm=0,this.Fm=null,this.Wm=!1,this.Sv=new Vl,this.xv=new Vl,this.Ku=new Vl,this.Hm=null,this.Um=null,this.Rp=e,this.Ps=t,this.o_=n,this.kp=document.createElement("div"),this.kp.classList.add("tv-lightweight-charts"),this.kp.style.overflow="hidden",this.kp.style.direction="ltr",this.kp.style.width="100%",this.kp.style.height="100%",(r=this.kp).style.userSelect="none",r.style.webkitUserSelect="none",r.style.msUserSelect="none",r.style.MozUserSelect="none",r.style.webkitTapHighlightColor="transparent",this.$m=document.createElement("table"),this.$m.setAttribute("cellspacing","0"),this.kp.appendChild(this.$m),this.qm=this.Ym.bind(this),uh(this.Ps)&&this.jm(!0),this.ts=new dd(this.Zu.bind(this),this.Ps,n),this.Qt().uc().i(this.Km.bind(this),this),this.Xm=new oh(this,this.o_),this.$m.appendChild(this.Xm.Xf());const i=t.autoSize&&this.Zm();let a=this.Ps.width,s=this.Ps.height;if(i||0===a||0===s){const t=e.getBoundingClientRect();a=a||t.width,s=s||t.height}this.Gm(a,s),this.Jm(),e.appendChild(this.kp),this.Qm(),this.ts.Et().Iu().i(this.ts.Bh.bind(this.ts),this),this.ts.Vo().i(this.ts.Bh.bind(this.ts),this)}Qt(){return this.ts}N(){return this.Ps}Uf(){return this.Am}tw(){return this.Xm}m(){this.jm(!1),0!==this.Lm&&window.cancelAnimationFrame(this.Lm),this.ts.uc().u(this),this.ts.Et().Iu().u(this),this.ts.Vo().u(this),this.ts.m();for(const e of this.Am)this.$m.removeChild(e.Xf()),e.Kv().u(this),e.Xv().u(this),e.m();this.Am=[];for(const e of this.zm)this.iw(e);this.zm=[],Wl(this.Xm).m(),null!==this.kp.parentElement&&this.kp.parentElement.removeChild(this.kp),this.Ku.m(),this.Sv.m(),this.xv.m(),this.sw()}Gm(e,t,n=!1){if(this.sl===t&&this.Mo===e)return;const r=function(e){const t=Math.floor(e.width),n=Math.floor(e.height);return Sl({width:t-t%2,height:n-n%2})}(Sl({width:e,height:t}));this.sl=r.height,this.Mo=r.width;const i=this.sl+"px",a=this.Mo+"px";Wl(this.kp).style.height=i,Wl(this.kp).style.width=a,this.$m.style.height=i,this.$m.style.width=a,n?this.nw(Sc.gn(),performance.now()):this.ts.Bh()}av(e){void 0===e&&(e=Sc.gn());for(let t=0;t<this.Am.length;t++)this.Am[t].av(e.en(t).tn);this.Ps.timeScale.visible&&this.Xm.av(e.nn())}hr(e){var t;const n=uh(this.Ps);this.ts.hr(e);const r=uh(this.Ps);r!==n&&this.jm(r),(null==(t=e.layout)?void 0:t.panes)&&this.ew(),this.Qm(),this.rw(e)}Kv(){return this.Sv}Xv(){return this.xv}uc(){return this.Ku}hw(){null!==this.Fm&&(this.nw(this.Fm,performance.now()),this.Fm=null);const e=this.aw(null),t=document.createElement("canvas");t.width=e.width,t.height=e.height;const n=Wl(t.getContext("2d"));return this.aw(n),t}lw(e){return"left"===e&&!this.ow()||"right"===e&&!this._w()||0===this.Am.length?0:Wl("left"===e?this.Am[0].sm():this.Am[0].nm()).hv()}uw(){return this.Ps.autoSize&&null!==this.Hm}tp(){return this.kp}cw(e){this.Um=e,this.Um?this.tp().style.setProperty("cursor",e):this.tp().style.removeProperty("cursor")}dw(){return this.Um}fw(e){return Bl(this.Am[e]).Zf()}ew(){this.zm.forEach(e=>{e.kt()})}rw(e){(void 0!==e.autoSize||!this.Hm||void 0===e.width&&void 0===e.height)&&(e.autoSize&&!this.Hm&&this.Zm(),!1===e.autoSize&&null!==this.Hm&&this.sw(),e.autoSize||void 0===e.width&&void 0===e.height||this.Gm(e.width||this.Mo,e.height||this.sl))}aw(e){let t=0,n=0;const r=this.Am[0],i=(t,n)=>{let r=0;for(let i=0;i<this.Am.length;i++){const a=this.Am[i],s=Wl("left"===t?a.sm():a.nm()),o=s.Gf();if(null!==e&&s.Jf(e,n,r),r+=o.height,i<this.Am.length-1){const t=this.zm[i],a=t.Gf();null!==e&&t.Jf(e,n,r),r+=a.height}}};this.ow()&&(i("left",0),t+=Wl(r.sm()).Gf().width);for(let s=0;s<this.Am.length;s++){const r=this.Am[s],i=r.Gf();if(null!==e&&r.Jf(e,t,n),n+=i.height,s<this.Am.length-1){const r=this.zm[s],i=r.Gf();null!==e&&r.Jf(e,t,n),n+=i.height}}t+=r.Gf().width,this._w()&&(i("right",t),t+=Wl(r.nm()).Gf().width);const a=(t,n,r)=>{Wl("left"===t?this.Xm.xm():this.Xm.Cm()).Jf(Wl(e),n,r)};if(this.Ps.timeScale.visible){const t=this.Xm.Gf();if(null!==e){let i=0;this.ow()&&(a("left",i,n),i=Wl(r.sm()).Gf().width),this.Xm.Jf(e,i,n),i+=t.width,this._w()&&a("right",i,n)}n+=t.height}return Sl({width:t,height:n})}pw(){let e=0,t=0,n=0;for(const p of this.Am)this.ow()&&(t=Math.max(t,Wl(p.sm()).sv(),this.Ps.leftPriceScale.minimumWidth)),this._w()&&(n=Math.max(n,Wl(p.nm()).sv(),this.Ps.rightPriceScale.minimumWidth)),e+=p.Io();t=Od(t),n=Od(n);const r=this.Mo,i=this.sl,a=Math.max(r-t-n,0),s=1*this.zm.length,o=this.Ps.timeScale.visible;let l=o?Math.max(this.Xm.ym(),this.Ps.timeScale.minimumHeight):0;var c;l=(c=l)+c%2;const u=s+l,d=i<u?0:i-u,h=d/e;let f=0;const m=window.devicePixelRatio||1;for(let p=0;p<this.Am.length;++p){const e=this.Am[p];e.zv(this.ts.$s()[p]);let r=0,i=0;i=p===this.Am.length-1?Math.ceil((d-f)*m)/m:Math.round(e.Io()*h*m)/m,r=Math.max(i,2),f+=r,e.rv(Sl({width:a,height:r})),this.ow()&&e.Gv(t,"left"),this._w()&&e.Gv(n,"right"),e.hp()&&this.ts.cc(e.hp(),r)}this.Xm.km(Sl({width:o?a:0,height:l}),o?t:0,o?n:0),this.ts.Eo(a),this.Om!==t&&(this.Om=t),this.Nm!==n&&(this.Nm=n)}jm(e){e?this.kp.addEventListener("wheel",this.qm,{passive:!1}):this.kp.removeEventListener("wheel",this.qm)}mw(e){switch(e.deltaMode){case e.DOM_DELTA_PAGE:return 120;case e.DOM_DELTA_LINE:return 32}return lh?1/window.devicePixelRatio:1}Ym(e){if(!(0!==e.deltaX&&this.Ps.handleScroll.mouseWheel||0!==e.deltaY&&this.Ps.handleScale.mouseWheel))return;const t=this.mw(e),n=t*e.deltaX/100,r=-t*e.deltaY/100;if(e.cancelable&&e.preventDefault(),0!==r&&this.Ps.handleScale.mouseWheel){const t=Math.sign(r)*Math.min(1,Math.abs(r)),n=e.clientX-this.kp.getBoundingClientRect().left;this.Qt().Mc(n,t)}0!==n&&this.Ps.handleScroll.mouseWheel&&this.Qt().bc(-80*n)}nw(e,t){var n;const r=e.nn();3===r&&this.ww(),3!==r&&2!==r||(this.gw(e),this.Mw(e,t),this.Xm.kt(),this.Am.forEach(e=>{e.Ov()}),3===(null==(n=this.Fm)?void 0:n.nn())&&(this.Fm.vn(e),this.ww(),this.gw(this.Fm),this.Mw(this.Fm,t),e=this.Fm,this.Fm=null)),this.av(e)}Mw(e,t){for(const n of e.pn())this.mn(n,t)}gw(e){const t=this.ts.$s();for(let n=0;n<t.length;n++)e.en(n).sn&&t[n].Go()}mn(e,t){const n=this.ts.Et();switch(e.an){case 0:n.Eu();break;case 1:n.Au(e.Wt);break;case 2:n.dn(e.Wt);break;case 3:n.fn(e.Wt);break;case 4:n.bu();break;case 5:e.Wt.Tu(t)||n.fn(e.Wt.Ru(t))}}Zu(e){null!==this.Fm?this.Fm.vn(e):this.Fm=e,this.Wm||(this.Wm=!0,this.Lm=window.requestAnimationFrame(e=>{if(this.Wm=!1,this.Lm=0,null!==this.Fm){const t=this.Fm;this.Fm=null,this.nw(t,e);for(const n of t.pn())if(5===n.an&&!n.Wt.Tu(e)){this.Qt()._n(n.Wt);break}}}))}ww(){this.Jm()}iw(e){this.$m.removeChild(e.Xf()),e.m()}Jm(){const e=this.ts.$s(),t=e.length,n=this.Am.length;for(let r=t;r<n;r++){const e=Bl(this.Am.pop());this.$m.removeChild(e.Xf()),e.Kv().u(this),e.Xv().u(this),e.m();const t=this.zm.pop();void 0!==t&&this.iw(t)}for(let r=n;r<t;r++){const t=new th(this,e[r]);if(t.Kv().i(this.bw.bind(this,t),this),t.Xv().i(this.Sw.bind(this,t),this),this.Am.push(t),r>0){const e=new zd(this,r-1,r);this.zm.push(e),this.$m.insertBefore(e.Xf(),this.Xm.Xf())}this.$m.insertBefore(t.Xf(),this.Xm.Xf())}for(let r=0;r<t;r++){const t=e[r],n=this.Am[r];n.hp()!==t?n.zv(t):n.Av()}this.Qm(),this.pw()}xw(e,t,n,r){var i;const a=new Map;let s;if(null!==e&&this.ts.js().forEach(t=>{const n=t.Xs().Fr(e);null!==n&&a.set(t,n)}),null!==e){const t=null==(i=this.ts.Et().ss(e))?void 0:i.originalTime;void 0!==t&&(s=t)}const o=this.Qt().hc(),l=null!==o&&o.n_ instanceof _u?o.n_:void 0,c=null!==o&&void 0!==o.e_?o.e_.Kn:void 0,u=this.Cw(r);return{Pw:s,Re:null!=e?e:void 0,kw:null!=t?t:void 0,yw:-1!==u?u:void 0,Tw:l,Rw:a,Dw:c,Vw:null!=n?n:void 0}}Cw(e){let t=-1;if(e)t=this.Am.indexOf(e);else{const e=this.Qt()._c().Us();null!==e&&(t=this.Qt().$s().indexOf(e))}return t}bw(e,t,n,r){this.Sv.p(()=>this.xw(t,n,r,e))}Sw(e,t,n,r){this.xv.p(()=>this.xw(t,n,r,e))}Km(e,t,n){var r,i;this.cw(null!=(i=null==(r=this.Qt().hc())?void 0:r.h_)?i:null),this.Ku.p(()=>this.xw(e,t,n))}Qm(){const e=this.Ps.timeScale.visible?"":"none";this.Xm.Xf().style.display=e}ow(){return this.Am[0].hp().Wo().N().visible}_w(){return this.Am[0].hp().Ho().N().visible}Zm(){return"ResizeObserver"in window&&(this.Hm=new ResizeObserver(e=>{const t=e[e.length-1];t&&this.Gm(t.contentRect.width,t.contentRect.height)}),this.Hm.observe(this.Rp,{box:"border-box"}),!0)}sw(){null!==this.Hm&&this.Hm.disconnect(),this.Hm=null}}function uh(e){return Boolean(e.handleScroll.mouseWheel||e.handleScale.mouseWheel)}function dh(e,t,n,r){const i=n.value,a={Re:t,wt:e,Wt:[i,i,i,i],Pw:r};return void 0!==n.color&&(a.R=n.color),a}function hh(e,t,n,r){const i=n.value,a={Re:t,wt:e,Wt:[i,i,i,i],Pw:r};return void 0!==n.lineColor&&(a.vt=n.lineColor),void 0!==n.topColor&&(a.mr=n.topColor),void 0!==n.bottomColor&&(a.wr=n.bottomColor),a}function fh(e,t,n,r){const i=n.value,a={Re:t,wt:e,Wt:[i,i,i,i],Pw:r};return void 0!==n.topLineColor&&(a.gr=n.topLineColor),void 0!==n.bottomLineColor&&(a.Mr=n.bottomLineColor),void 0!==n.topFillColor1&&(a.br=n.topFillColor1),void 0!==n.topFillColor2&&(a.Sr=n.topFillColor2),void 0!==n.bottomFillColor1&&(a.Cr=n.bottomFillColor1),void 0!==n.bottomFillColor2&&(a.Pr=n.bottomFillColor2),a}function mh(e,t,n,r){const i={Re:t,wt:e,Wt:[n.open,n.high,n.low,n.close],Pw:r};return void 0!==n.color&&(i.R=n.color),i}function ph(e,t,n,r){const i={Re:t,wt:e,Wt:[n.open,n.high,n.low,n.close],Pw:r};return void 0!==n.color&&(i.R=n.color),void 0!==n.borderColor&&(i.Ht=n.borderColor),void 0!==n.wickColor&&(i.vr=n.wickColor),i}function gh(e,t,n,r,i){const a=Bl(i)(n),s=Math.max(...a),o=Math.min(...a),l=a[a.length-1],c=[l,s,o,l],u=n,{time:d,color:h}=u;return{Re:t,wt:e,Wt:c,Pw:r,se:m(u,["time","color"]),R:h}}function xh(e){return void 0!==e.Wt}function yh(e,t){return void 0!==t.customValues&&(e.Iw=t.customValues),e}function vh(e){return(t,n,r,i,a,s)=>{return o=r,((l=s)?l(o):function(e){return void 0===e.open&&void 0===e.value}(o))?yh({wt:t,Re:n,Pw:i},r):yh(e(t,n,r,i,a),r);var o,l}}function bh(e){return{Candlestick:vh(ph),Bar:vh(mh),Area:vh(hh),Baseline:vh(fh),Histogram:vh(dh),Line:vh(dh),Custom:vh(gh)}[e]}function _h(e){return{Re:0,Bw:new Map,Hh:e}}function wh(e,t){if(void 0!==e&&0!==e.length)return{Ew:t.key(e[0].wt),Aw:t.key(e[e.length-1].wt)}}function jh(e){let t;return e.forEach(e=>{void 0===t&&(t=e.Pw)}),Bl(t)}class Nh{constructor(e){this.zw=new Map,this.Lw=new Map,this.Ow=new Map,this.Nw=[],this.o_=e}m(){this.zw.clear(),this.Lw.clear(),this.Ow.clear(),this.Nw=[]}Fw(e,t){let n=0!==this.zw.size,r=!1;const i=this.Lw.get(e);if(void 0!==i)if(1===this.Lw.size)n=!1,r=!0,this.zw.clear();else for(const o of this.Nw)o.pointData.Bw.delete(e)&&(r=!0);let a=[];if(0!==t.length){const n=t.map(e=>e.time),i=this.o_.createConverterToInternalObj(t),s=bh(e.Rr()),o=e.da(),l=e.pa();a=t.map((t,a)=>{const c=i(t.time),u=this.o_.key(c);let d=this.zw.get(u);void 0===d&&(d=_h(c),this.zw.set(u,d),r=!0);const h=s(c,d.Re,t,n[a],o,l);return d.Bw.set(e,h),h})}n&&this.Ww(),this.Hw(e,a);let s=-1;if(r){const e=[];this.zw.forEach(t=>{e.push({timeWeight:0,time:t.Hh,pointData:t,originalTime:jh(t.Bw)})}),e.sort((e,t)=>this.o_.key(e.time)-this.o_.key(t.time)),s=this.Uw(e)}return this.$w(e,s,function(e,t,n){const r=wh(e,n),i=wh(t,n);if(void 0!==r&&void 0!==i)return{qw:!1,zh:r.Aw>=i.Aw&&r.Ew>=i.Ew}}(this.Lw.get(e),i,this.o_))}Ec(e){return this.Fw(e,[])}Yw(e,t,n){const r=t;var i;void 0===(i=r).Pw&&(i.Pw=i.time),this.o_.preprocessData(t);const a=this.o_.createConverterToInternalObj([t])(t.time),s=this.Ow.get(e);if(!n&&void 0!==s&&this.o_.key(a)<this.o_.key(s))throw new Error(`Cannot update oldest data, last time=${s}, new time=${a}`);let o=this.zw.get(this.o_.key(a));if(n&&void 0===o)throw new Error("Cannot update non-existing data point when historicalUpdate is true");const l=void 0===o;void 0===o&&(o=_h(a),this.zw.set(this.o_.key(a),o));const c=bh(e.Rr()),u=e.da(),d=e.pa(),h=c(a,o.Re,t,r.Pw,u,d);o.Bw.set(e,h),n?this.jw(e,h,o.Re):this.Kw(e,h);const f={zh:xh(h),qw:n};if(!l)return this.$w(e,-1,f);const m={timeWeight:0,time:o.Hh,pointData:o,originalTime:jh(o.Bw)},p=eu(this.Nw,this.o_.key(m.time),(e,t)=>this.o_.key(e.time)<t);this.Nw.splice(p,0,m);for(let g=p;g<this.Nw.length;++g)kh(this.Nw[g].pointData,g);return this.o_.fillWeightsForPoints(this.Nw,p),this.$w(e,p,f)}Kw(e,t){let n=this.Lw.get(e);void 0===n&&(n=[],this.Lw.set(e,n));const r=0!==n.length?n[n.length-1]:null;null===r||this.o_.key(t.wt)>this.o_.key(r.wt)?xh(t)&&n.push(t):xh(t)?n[n.length-1]=t:n.splice(-1,1),this.Ow.set(e,t.wt)}jw(e,t,n){const r=this.Lw.get(e);if(void 0===r)return;const i=eu(r,n,(e,t)=>e.Re<t);xh(t)?r[i]=t:r.splice(i,1)}Hw(e,t){0!==t.length?(this.Lw.set(e,t.filter(xh)),this.Ow.set(e,t[t.length-1].wt)):(this.Lw.delete(e),this.Ow.delete(e))}Ww(){for(const e of this.Nw)0===e.pointData.Bw.size&&this.zw.delete(this.o_.key(e.time))}Uw(e){let t=-1;for(let n=0;n<this.Nw.length&&n<e.length;++n){const r=this.Nw[n],i=e[n];if(this.o_.key(r.time)!==this.o_.key(i.time)){t=n;break}i.timeWeight=r.timeWeight,kh(i.pointData,n)}if(-1===t&&this.Nw.length!==e.length&&(t=Math.min(this.Nw.length,e.length)),-1===t)return-1;for(let n=t;n<e.length;++n)kh(e[n].pointData,n);return this.o_.fillWeightsForPoints(e,t),this.Nw=e,t}Xw(){if(0===this.Lw.size)return null;let e=0;return this.Lw.forEach(t=>{0!==t.length&&(e=Math.max(e,t[t.length-1].Re))}),e}$w(e,t,n){const r={Oo:new Map,Et:{ou:this.Xw()}};if(-1!==t)this.Lw.forEach((t,i)=>{r.Oo.set(i,{se:t,Zw:i===e?n:void 0})}),this.Lw.has(e)||r.Oo.set(e,{se:[],Zw:n}),r.Et.Gw=this.Nw,r.Et.Jw=t;else{const t=this.Lw.get(e);r.Oo.set(e,{se:t||[],Zw:n})}return r}}function kh(e,t){e.Re=t,e.Bw.forEach(e=>{e.Re=t})}function Sh(e,t){return e.wt<t}function Ch(e,t){return t<e.wt}let Eh=class{constructor(e,t,n){this.Qw=!0,this.tg=!0,this.ig=!0,this.sg=[],this.ng=null,this.Jn=e,this.Qn=t,this.eg=n}kt(e){this.Qw=!0,"data"===e&&(this.tg=!0),"options"===e&&(this.ig=!0)}Tt(){return this.Jn.Vt()?(this.rg(),null===this.ng?null:this.hg):null}ag(){this.sg=this.sg.map(e=>h(h({},e),this.Jn.Rh().Dr(e.wt)))}lg(){this.ng=null}rg(){this.tg&&(this.og(),this.tg=!1),this.ig&&(this.ag(),this.ig=!1),this.Qw&&(this._g(),this.Qw=!1)}_g(){const e=this.Jn.Ft(),t=this.Qn.Et();if(this.lg(),t.Ki()||e.Ki())return;const n=t.Pe();if(null===n)return;if(0===this.Jn.Xs().zr())return;const r=this.Jn.zt();null!==r&&(this.ng=function(e,t,n){const r=t.Uh(),i=t.bi(),a=eu(e,r,Sh),s=tu(e,i,Ch);if(!n)return{from:a,to:s};let o=a,l=s;return a>0&&a<e.length&&e[a].wt>=r&&(o=a-1),s>0&&s<e.length&&e[s-1].wt<=i&&(l=s+1),{from:o,to:l}}(this.sg,n,this.eg),this.ug(e,t,r.Wt),this.cg())}};class Ph{constructor(e,t){this.dg=e,this.Yi=t}nt(e,t,n){this.dg.draw(e,this.Yi,t,n)}}class Mh extends Eh{constructor(e,t,n){super(e,t,!1),this.sh=n,this.hg=new Ph(this.sh.renderer(),t=>{const n=e.zt();return null===n?null:e.Ft().Nt(t,n.Wt)})}fa(e){return this.sh.priceValueBuilder(e)}va(e){return this.sh.isWhitespace(e)}og(){const e=this.Jn.Rh();this.sg=this.Jn.Xs().Hr().map(t=>f(h({wt:t.Re,_t:NaN},e.Dr(t.Re)),{fg:t.se}))}ug(e,t){t._u(this.sg,Ql(this.ng))}cg(){this.sh.update({bars:this.sg.map(Oh),barSpacing:this.Qn.Et().vu(),visibleRange:this.ng},this.Jn.N())}}function Oh(e){return{x:e._t,time:e.wt,originalData:e.fg,barColor:e.cr}}const Ah={color:"#2196f3"},Th=(e,t,n)=>{const r=$l(n);return new Mh(e,t,r)};function Dh(e){const t={value:e.Wt[3],time:e.Pw};return void 0!==e.Iw&&(t.customValues=e.Iw),t}function Rh(e){const t=Dh(e);return void 0!==e.R&&(t.color=e.R),t}function Ih(e){const t=Dh(e);return void 0!==e.vt&&(t.lineColor=e.vt),void 0!==e.mr&&(t.topColor=e.mr),void 0!==e.wr&&(t.bottomColor=e.wr),t}function Lh(e){const t=Dh(e);return void 0!==e.gr&&(t.topLineColor=e.gr),void 0!==e.Mr&&(t.bottomLineColor=e.Mr),void 0!==e.br&&(t.topFillColor1=e.br),void 0!==e.Sr&&(t.topFillColor2=e.Sr),void 0!==e.Cr&&(t.bottomFillColor1=e.Cr),void 0!==e.Pr&&(t.bottomFillColor2=e.Pr),t}function zh(e){const t={open:e.Wt[0],high:e.Wt[1],low:e.Wt[2],close:e.Wt[3],time:e.Pw};return void 0!==e.Iw&&(t.customValues=e.Iw),t}function Fh(e){const t=zh(e);return void 0!==e.R&&(t.color=e.R),t}function Bh(e){const t=zh(e),{R:n,Ht:r,vr:i}=e;return void 0!==n&&(t.color=n),void 0!==r&&(t.borderColor=r),void 0!==i&&(t.wickColor=i),t}function Wh(e){return{Area:Ih,Line:Rh,Baseline:Lh,Histogram:Rh,Bar:Fh,Candlestick:Bh,Custom:$h}[e]}function $h(e){const t=e.Pw;return f(h({},e.se),{time:t})}const Vh={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},Kh={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},Hh={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:Zl,panes:{enableResize:!0,separatorColor:"#E0E3EB",separatorHoverColor:"rgba(178, 181, 189, 0.2)"},attributionLogo:!0,colorSpace:"srgb",colorParsers:[]},Uh={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0,ensureEdgeTickMarksVisible:!1},Yh={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1};function qh(){return{addDefaultPane:!0,width:0,height:0,autoSize:!1,layout:Hh,crosshair:Vh,grid:Kh,overlayPriceScales:h({},Uh),leftPriceScale:f(h({},Uh),{visible:!1}),rightPriceScale:f(h({},Uh),{visible:!0}),timeScale:Yh,localization:{locale:Ed?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class Gh{constructor(e,t,n){this.Wf=e,this.pg=t,this.vg=null!=n?n:0}applyOptions(e){this.Wf.Qt().lc(this.pg,e,this.vg)}options(){return this.Yi().N()}width(){return kc(this.pg)?this.Wf.lw(this.pg):0}setVisibleRange(e){this.setAutoScale(!1),this.Yi().Wl(new Hc(e.from,e.to))}getVisibleRange(){const e=this.Yi().Qe();return null===e?null:{from:e.$e(),to:e.qe()}}setAutoScale(e){this.applyOptions({autoScale:e})}Yi(){return Wl(this.Wf.Qt().oc(this.pg,this.vg)).Ft}}class Xh{constructor(e,t,n,r){this.Wf=e,this.Pt=n,this.mg=t,this.wg=r}getHeight(){return this.Pt.$t()}setHeight(e){const t=this.Wf.Qt(),n=t.Hc(this.Pt);t.fc(n,e)}getStretchFactor(){return this.Pt.Io()}setStretchFactor(e){this.Pt.Bo(e),this.Wf.Qt().Bh()}paneIndex(){return this.Wf.Qt().Hc(this.Pt)}moveTo(e){const t=this.paneIndex();t!==e&&(Fl(e>=0&&e<this.Wf.Uf().length,"Invalid pane index"),this.Wf.Qt().mc(t,e))}getSeries(){var e;return null!=(e=this.Pt.Oo().map(e=>this.mg(e)))?e:[]}getHTMLElement(){const e=this.Wf.Uf();return e&&0!==e.length&&e[this.paneIndex()]?e[this.paneIndex()].Xf():null}attachPrimitive(e){this.Pt.ua(e),e.attached&&e.attached({chart:this.wg,requestUpdate:()=>this.Pt.Qt().Bh()})}detachPrimitive(e){this.Pt.ca(e)}priceScale(e){if(null===this.Pt.Do(e))throw new Error(`Cannot find price scale with id: ${e}`);return new Gh(this.Wf,e,this.paneIndex())}setPreserveEmptyPane(e){this.Pt.zo(e)}preserveEmptyPane(){return this.Pt.Lo()}addCustomSeries(e,t={},n=0){return this.wg.addCustomSeries(e,t,n)}addSeries(e,t={}){return this.wg.addSeries(e,t,this.paneIndex())}}const Qh={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class Zh{constructor(e){this.ir=e}applyOptions(e){this.ir.hr(e)}options(){return this.ir.N()}gg(){return this.ir}}class Jh{constructor(e,t,n,r,i,a){this.Mg=new Vl,this.Jn=e,this.bg=t,this.Sg=n,this.o_=i,this.wg=r,this.xg=a}m(){this.Mg.m()}priceFormatter(){return this.Jn.ra()}priceToCoordinate(e){const t=this.Jn.zt();return null===t?null:this.Jn.Ft().Nt(e,t.Wt)}coordinateToPrice(e){const t=this.Jn.zt();return null===t?null:this.Jn.Ft().Ts(e,t.Wt)}barsInLogicalRange(e){if(null===e)return null;const t=new rd(new ed(e.from,e.to)).k_(),n=this.Jn.Xs();if(n.Ki())return null;const r=n.Fr(t.Uh(),1),i=n.Fr(t.bi(),-1),a=Wl(n.Lr()),s=Wl(n.Ks());if(null!==r&&null!==i&&r.Re>i.Re)return{barsBefore:e.from-a,barsAfter:s-e.to};const o={barsBefore:null===r||r.Re===a?e.from-a:r.Re-a,barsAfter:null===i||i.Re===s?s-e.to:s-i.Re};return null!==r&&null!==i&&(o.from=r.Pw,o.to=i.Pw),o}setData(e){this.o_,this.Jn.Rr(),this.bg.Cg(this.Jn,e),this.Pg("full")}update(e,t=!1){this.Jn.Rr(),this.bg.kg(this.Jn,e,t),this.Pg("update")}dataByIndex(e,t){const n=this.Jn.Xs().Fr(e,t);return null===n?null:Wh(this.seriesType())(n)}data(){const e=Wh(this.seriesType());return this.Jn.Xs().Hr().map(t=>e(t))}subscribeDataChanged(e){this.Mg.i(e)}unsubscribeDataChanged(e){this.Mg._(e)}applyOptions(e){this.Jn.hr(e)}options(){return Gl(this.Jn.N())}priceScale(){return this.Sg.priceScale(this.Jn.Ft().wa(),this.getPane().paneIndex())}createPriceLine(e){const t=Kl(Gl(Qh),e),n=this.Jn.Oh(t);return new Zh(n)}removePriceLine(e){this.Jn.Nh(e.gg())}priceLines(){return this.Jn.Fh().map(e=>new Zh(e))}seriesType(){return this.Jn.Rr()}attachPrimitive(e){this.Jn.ua(e),e.attached&&e.attached({chart:this.wg,series:this,requestUpdate:()=>this.Jn.Qt().Bh(),horzScaleBehavior:this.o_})}detachPrimitive(e){this.Jn.ca(e),e.detached&&e.detached(),this.Jn.Qt().Bh()}getPane(){const e=this.Jn,t=Wl(this.Jn.Qt().Hn(e));return this.xg(t)}moveToPane(e){this.Jn.Qt().Oc(this.Jn,e)}seriesOrder(){const e=this.Jn.Qt().Hn(this.Jn);return null===e?-1:e.Oo().indexOf(this.Jn)}setSeriesOrder(e){const t=this.Jn.Qt().Hn(this.Jn);null!==t&&t.Qo(this.Jn,e)}Pg(e){this.Mg.v()&&this.Mg.p(e)}}class ef{constructor(e,t,n){this.yg=new Vl,this.z_=new Vl,this.wm=new Vl,this.ts=e,this.uh=e.Et(),this.Xm=t,this.uh.Du().i(this.Tg.bind(this)),this.uh.Vu().i(this.Rg.bind(this)),this.Xm.Pm().i(this.Dg.bind(this)),this.o_=n}m(){this.uh.Du().u(this),this.uh.Vu().u(this),this.Xm.Pm().u(this),this.yg.m(),this.z_.m(),this.wm.m()}scrollPosition(){return this.uh.wu()}scrollToPosition(e,t){t?this.uh.yu(e,1e3):this.ts.fn(e)}scrollToRealTime(){this.uh.ku()}getVisibleRange(){const e=this.uh.su();return null===e?null:{from:e.from.originalTime,to:e.to.originalTime}}setVisibleRange(e){const t={from:this.o_.convertHorzItemToInternal(e.from),to:this.o_.convertHorzItemToInternal(e.to)},n=this.uh.hu(t);this.ts.zc(n)}getVisibleLogicalRange(){const e=this.uh.iu();return null===e?null:{from:e.Uh(),to:e.bi()}}setVisibleLogicalRange(e){Fl(e.from<=e.to,"The from index cannot be after the to index."),this.ts.zc(e)}resetTimeScale(){this.ts.cn()}fitContent(){this.ts.Eu()}logicalToCoordinate(e){const t=this.ts.Et();return t.Ki()?null:t.qt(e)}coordinateToLogical(e){return this.uh.Ki()?null:this.uh.uu(e)}timeToIndex(e,t){const n=this.o_.convertHorzItemToInternal(e);return this.uh.J_(n,t)}timeToCoordinate(e){const t=this.timeToIndex(e,!1);return null===t?null:this.uh.qt(t)}coordinateToTime(e){const t=this.ts.Et(),n=t.uu(e),r=t.ss(n);return null===r?null:r.originalTime}width(){return this.Xm.Zf().width}height(){return this.Xm.Zf().height}subscribeVisibleTimeRangeChange(e){this.yg.i(e)}unsubscribeVisibleTimeRangeChange(e){this.yg._(e)}subscribeVisibleLogicalRangeChange(e){this.z_.i(e)}unsubscribeVisibleLogicalRangeChange(e){this.z_._(e)}subscribeSizeChange(e){this.wm.i(e)}unsubscribeSizeChange(e){this.wm._(e)}applyOptions(e){this.uh.hr(e)}options(){return f(h({},Gl(this.uh.N())),{barSpacing:this.uh.vu()})}Tg(){this.yg.v()&&this.yg.p(this.getVisibleRange())}Rg(){this.z_.v()&&this.z_.p(this.getVisibleLogicalRange())}Dg(e){this.wm.p(e.width,e.height)}}function tf(e){return function(e){if(ql(e.handleScale)){const t=e.handleScale;e.handleScale={axisDoubleClickReset:{time:t,price:t},axisPressedMouseMove:{time:t,price:t},mouseWheel:t,pinch:t}}else if(void 0!==e.handleScale){const{axisPressedMouseMove:t,axisDoubleClickReset:n}=e.handleScale;ql(t)&&(e.handleScale.axisPressedMouseMove={time:t,price:t}),ql(n)&&(e.handleScale.axisDoubleClickReset={time:n,price:n})}const t=e.handleScroll;ql(t)&&(e.handleScroll={horzTouchDrag:t,vertTouchDrag:t,mouseWheel:t,pressedMouseMove:t})}(e),e}class nf{constructor(e,t,n){this.Vg=new Map,this.Ig=new Map,this.Bg=new Vl,this.Eg=new Vl,this.Ag=new Vl,this.$u=new WeakMap,this.zg=new Nh(t);const r=void 0===n?Gl(qh()):Kl(Gl(qh()),tf(n));this.Lg=t,this.Wf=new ch(e,r,t),this.Wf.Kv().i(e=>{this.Bg.v()&&this.Bg.p(this.Og(e()))},this),this.Wf.Xv().i(e=>{this.Eg.v()&&this.Eg.p(this.Og(e()))},this),this.Wf.uc().i(e=>{this.Ag.v()&&this.Ag.p(this.Og(e()))},this);const i=this.Wf.Qt();this.Ng=new ef(i,this.Wf.tw(),this.Lg)}remove(){this.Wf.Kv().u(this),this.Wf.Xv().u(this),this.Wf.uc().u(this),this.Ng.m(),this.Wf.m(),this.Vg.clear(),this.Ig.clear(),this.Bg.m(),this.Eg.m(),this.Ag.m(),this.zg.m()}resize(e,t,n){this.autoSizeActive()||this.Wf.Gm(e,t,n)}addCustomSeries(e,t={},n=0){const r=(i=$l(e),{type:"Custom",isBuiltIn:!1,defaultOptions:h(h({},Ah),i.defaultOptions()),Fg:Th,Wg:i});var i;return this.Hg(r,t,n)}addSeries(e,t={},n=0){return this.Hg(e,t,n)}removeSeries(e){const t=Bl(this.Vg.get(e)),n=this.zg.Ec(t);this.Wf.Qt().Ec(t),this.Ug(n),this.Vg.delete(e),this.Ig.delete(t)}Cg(e,t){this.Ug(this.zg.Fw(e,t))}kg(e,t,n){this.Ug(this.zg.Yw(e,t,n))}subscribeClick(e){this.Bg.i(e)}unsubscribeClick(e){this.Bg._(e)}subscribeCrosshairMove(e){this.Ag.i(e)}unsubscribeCrosshairMove(e){this.Ag._(e)}subscribeDblClick(e){this.Eg.i(e)}unsubscribeDblClick(e){this.Eg._(e)}priceScale(e,t=0){return new Gh(this.Wf,e,t)}timeScale(){return this.Ng}applyOptions(e){this.Wf.hr(tf(e))}options(){return this.Wf.N()}takeScreenshot(){return this.Wf.hw()}addPane(e=!1){const t=this.Wf.Qt().Uc();return t.zo(e),this.$g(t)}removePane(e){this.Wf.Qt().dc(e)}swapPanes(e,t){this.Wf.Qt().vc(e,t)}autoSizeActive(){return this.Wf.uw()}chartElement(){return this.Wf.tp()}panes(){return this.Wf.Qt().$s().map(e=>this.$g(e))}paneSize(e=0){const t=this.Wf.fw(e);return{height:t.height,width:t.width}}setCrosshairPosition(e,t,n){const r=this.Vg.get(n);if(void 0===r)return;const i=this.Wf.Qt().Hn(r);null!==i&&this.Wf.Qt().Tc(e,t,i)}clearCrosshairPosition(){this.Wf.Qt().Rc(!0)}horzBehaviour(){return this.Lg}Hg(e,t={},n=0){var r;Fl(void 0!==e.Fg),function(e){if(void 0===e||"custom"===e.type)return;const t=e;void 0!==t.minMove&&void 0===t.precision&&(t.precision=function(e){if(e>=1)return 0;let t=0;for(;t<8;t++){const n=Math.round(e);if(Math.abs(n-e)<1e-8)return t;e*=10}return t}(t.minMove))}(t.priceFormat),"Candlestick"===e.type&&(void 0!==(r=t).borderColor&&(r.borderUpColor=r.borderColor,r.borderDownColor=r.borderColor),void 0!==r.wickColor&&(r.wickUpColor=r.wickColor,r.wickDownColor=r.wickColor));const i=Kl(Gl(Tl),Gl(e.defaultOptions),t),a=e.Fg,s=new _u(this.Wf.Qt(),e.type,i,a,e.Wg);this.Wf.Qt().Ic(s,n);const o=new Jh(s,this,this,this,this.Lg,e=>this.$g(e));return this.Vg.set(o,s),this.Ig.set(s,o),o}Ug(e){const t=this.Wf.Qt();t.Dc(e.Et.ou,e.Et.Gw,e.Et.Jw),e.Oo.forEach((e,t)=>t.ht(e.se,e.Zw)),t.Et().j_(),t.pu()}qg(e){return Bl(this.Ig.get(e))}Og(e){const t=new Map;e.Rw.forEach((e,n)=>{const r=n.Rr(),i=Wh(r)(e);if("Custom"!==r)Fl(function(e){return void 0!==e.open||function(e){return void 0!==e.value}(e)}(i));else{const e=n.pa();Fl(!e||!1===e(i))}t.set(this.qg(n),i)});const n=void 0!==e.Tw&&this.Ig.has(e.Tw)?this.qg(e.Tw):void 0;return{time:e.Pw,logical:e.Re,point:e.kw,paneIndex:e.yw,hoveredSeries:n,hoveredObjectId:e.Dw,seriesData:t,sourceEvent:e.Vw}}$g(e){let t=this.$u.get(e);return t||(t=new Xh(this.Wf,e=>this.qg(e),e,this),this.$u.set(e,t)),t}}function rf(e,t,n){const r=function(e){if(Yl(e)){const t=document.getElementById(e);return Fl(null!==t,`Cannot find element in DOM with id=${e}`),t}return e}(e),i=new nf(r,t,n);return t.setOptions(i.options()),i}function af(e,t){return rf(e,new Cd,Cd.ad(t))}class sf extends Eh{constructor(e,t){super(e,t,!0)}ug(e,t,n){t._u(this.sg,Ql(this.ng)),e.$l(this.sg,n,Ql(this.ng))}Yg(e,t){return{wt:e,gt:t,_t:NaN,ut:NaN}}og(){const e=this.Jn.Rh();this.sg=this.Jn.Xs().Hr().map(t=>{const n=t.Wt[3];return this.jg(t.Re,n,e)})}}function of(e,t){return{_t:e._t-t._t,ut:e.ut-t.ut}}function lf(e,t){return{_t:e._t/t,ut:e.ut/t}}function cf(e,t,n){const r=Math.max(0,t-1),i=Math.min(e.length-1,n+1);var a,s;return[(a=e[t],s=lf(of(e[n],e[r]),6),{_t:a._t+s._t,ut:a.ut+s.ut}),of(e[n],lf(of(e[i],e[t]),6))]}function uf(e,t){const n=e.context;n.strokeStyle=t,n.stroke()}let df=class extends ac{constructor(){super(...arguments),this.rt=null}ht(e){this.rt=e}et(e){if(null===this.rt)return;const{ot:t,lt:n,Kg:r,Xg:i,ct:a,Xt:s,Zg:o}=this.rt;if(null===n)return;const l=e.context;l.lineCap="butt",l.lineWidth=a*e.verticalPixelRatio,Ll(l,s),l.lineJoin="round";const c=this.Gg.bind(this);void 0!==i&&function(e,t,n,r,i,a,s){if(0===t.length||r.from>=t.length||r.to<=0)return;const{context:o,horizontalPixelRatio:l,verticalPixelRatio:c}=e,u=t[r.from];let d=a(e,u),h=u;if(r.to-r.from<2){const t=i/2;o.beginPath();const n={_t:u._t-t,ut:u.ut},r={_t:u._t+t,ut:u.ut};o.moveTo(n._t*l,n.ut*c),o.lineTo(r._t*l,r.ut*c),s(e,d,n,r)}else{const i=(t,n)=>{s(e,d,h,n),o.beginPath(),d=t,h=n};let f=h;o.beginPath(),o.moveTo(u._t*l,u.ut*c);for(let s=r.from+1;s<r.to;++s){f=t[s];const r=a(e,f);switch(n){case 0:o.lineTo(f._t*l,f.ut*c);break;case 1:o.lineTo(f._t*l,t[s-1].ut*c),r!==d&&(i(r,f),o.lineTo(f._t*l,t[s-1].ut*c)),o.lineTo(f._t*l,f.ut*c);break;case 2:{const[e,n]=cf(t,s-1,s);o.bezierCurveTo(e._t*l,e.ut*c,n._t*l,n.ut*c,f._t*l,f.ut*c);break}}1!==n&&r!==d&&(i(r,f),o.moveTo(f._t*l,f.ut*c))}(h!==f||h===f&&1===n)&&s(e,d,h,f)}}(e,t,i,n,r,c,uf),o&&function(e,t,n,r,i){if(r.to-r.from<=0)return;const{horizontalPixelRatio:a,verticalPixelRatio:s,context:o}=e;let l=null;const c=Math.max(1,Math.floor(a))%2/2,u=n*s+c;for(let d=r.to-1;d>=r.from;--d){const n=t[d];if(n){const t=i(e,n);t!==l&&(o.beginPath(),null!==l&&o.fill(),o.fillStyle=t,l=t);const r=Math.round(n._t*a)+c,d=n.ut*s;o.moveTo(r,d),o.arc(r,d,u,0,2*Math.PI)}}o.fill()}(e,t,o,n,c)}},hf=class extends df{Gg(e,t){return t.vt}};class ff extends sf{constructor(){super(...arguments),this.hg=new hf}jg(e,t,n){return h(h({},this.Yg(e,t)),n.Dr(e))}cg(){const e=this.Jn.N(),t={ot:this.sg,Xt:e.lineStyle,Xg:e.lineVisible?e.lineType:void 0,ct:e.lineWidth,Zg:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,lt:this.ng,Kg:this.Qn.Et().vu()};this.hg.ht(t)}}const mf={type:"Line",isBuiltIn:!0,defaultOptions:{color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},Fg:(e,t)=>new ff(e,t)};let pf=class extends ac{constructor(){super(...arguments),this.Yt=null,this.SM=0,this.xM=0}ht(e){this.Yt=e}et({context:e,horizontalPixelRatio:t,verticalPixelRatio:n}){if(null===this.Yt||0===this.Yt.Xs.length||null===this.Yt.lt)return;this.SM=this.CM(t),this.SM>=2&&Math.max(1,Math.floor(t))%2!=this.SM%2&&this.SM--,this.xM=this.Yt.PM?Math.min(this.SM,Math.floor(t)):this.SM;let r=null;const i=this.xM<=this.SM&&this.Yt.vu>=Math.floor(1.5*t);for(let a=this.Yt.lt.from;a<this.Yt.lt.to;++a){const s=this.Yt.Xs[a];r!==s.cr&&(e.fillStyle=s.cr,r=s.cr);const o=Math.floor(.5*this.xM),l=Math.round(s._t*t),c=l-o,u=this.xM,d=c+u-1,h=Math.min(s.Kl,s.Xl),f=Math.max(s.Kl,s.Xl),m=Math.round(h*n)-o,p=Math.round(f*n)+o,g=Math.max(p-m,this.xM);e.fillRect(c,m,u,g);const x=Math.ceil(1.5*this.SM);if(i){if(this.Yt.kM){const t=l-x;let r=Math.max(m,Math.round(s.jl*n)-o),i=r+u-1;i>m+g-1&&(i=m+g-1,r=i-u+1),e.fillRect(t,r,c-t,i-r+1)}const t=l+x;let r=Math.max(m,Math.round(s.Zl*n)-o),i=r+u-1;i>m+g-1&&(i=m+g-1,r=i-u+1),e.fillRect(d+1,r,t-d,i-r+1)}}}CM(e){const t=Math.floor(e);return Math.max(t,Math.floor((n=Wl(this.Yt).vu,r=e,Math.floor(.3*n*r))));var n,r}};class gf extends Eh{constructor(e,t){super(e,t,!1)}ug(e,t,n){t._u(this.sg,Ql(this.ng)),e.Yl(this.sg,n,Ql(this.ng))}yM(e,t,n){return{wt:e,qh:t.Wt[0],Yh:t.Wt[1],jh:t.Wt[2],Kh:t.Wt[3],_t:NaN,jl:NaN,Kl:NaN,Xl:NaN,Zl:NaN}}og(){const e=this.Jn.Rh();this.sg=this.Jn.Xs().Hr().map(t=>this.jg(t.Re,t,e))}}let xf=class extends gf{constructor(){super(...arguments),this.hg=new pf}jg(e,t,n){return h(h({},this.yM(e,t,n)),n.Dr(e))}cg(){const e=this.Jn.N();this.hg.ht({Xs:this.sg,vu:this.Qn.Et().vu(),kM:e.openVisible,PM:e.thinBars,lt:this.ng})}};const yf={type:"Bar",isBuiltIn:!0,defaultOptions:{upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},Fg:(e,t)=>new xf(e,t)};let vf=class extends ac{constructor(){super(...arguments),this.Yt=null,this.IM=[]}ht(e){this.Yt=e,this.IM=[]}et({context:e,horizontalPixelRatio:t,verticalPixelRatio:n}){if(null===this.Yt||0===this.Yt.ot.length||null===this.Yt.lt)return;this.IM.length||this.BM(t);const r=Math.max(1,Math.floor(n)),i=Math.round(this.Yt.EM*n)-Math.floor(r/2),a=i+r;for(let s=this.Yt.lt.from;s<this.Yt.lt.to;s++){const t=this.Yt.ot[s],o=this.IM[s-this.Yt.lt.from],l=Math.round(t.ut*n);let c,u;e.fillStyle=t.cr,l<=i?(c=l,u=a):(c=i,u=l-Math.floor(r/2)+r),e.fillRect(o.Uh,c,o.bi-o.Uh+1,u-c)}}BM(e){if(null===this.Yt||0===this.Yt.ot.length||null===this.Yt.lt)return void(this.IM=[]);const t=Math.ceil(this.Yt.vu*e)<=1?0:Math.max(1,Math.floor(e)),n=Math.round(this.Yt.vu*e)-t;this.IM=new Array(this.Yt.lt.to-this.Yt.lt.from);for(let i=this.Yt.lt.from;i<this.Yt.lt.to;i++){const t=this.Yt.ot[i],r=Math.round(t._t*e);let a,s;if(n%2){const e=(n-1)/2;a=r-e,s=r+e}else{const e=n/2;a=r-e,s=r+e-1}this.IM[i-this.Yt.lt.from]={Uh:a,bi:s,AM:r,ne:t._t*e,wt:t.wt}}for(let i=this.Yt.lt.from+1;i<this.Yt.lt.to;i++){const e=this.IM[i-this.Yt.lt.from],n=this.IM[i-this.Yt.lt.from-1];e.wt===n.wt+1&&e.Uh-n.bi!==t+1&&(n.AM>n.ne?n.bi=e.Uh-t-1:e.Uh=n.bi+t+1)}let r=Math.ceil(this.Yt.vu*e);for(let i=this.Yt.lt.from;i<this.Yt.lt.to;i++){const e=this.IM[i-this.Yt.lt.from];e.bi<e.Uh&&(e.bi=e.Uh);const t=e.bi-e.Uh+1;r=Math.min(t,r)}if(t>0&&r<4)for(let i=this.Yt.lt.from;i<this.Yt.lt.to;i++){const e=this.IM[i-this.Yt.lt.from];e.bi-e.Uh+1>r&&(e.AM>e.ne?e.bi-=1:e.Uh+=1)}}},bf=class extends sf{constructor(){super(...arguments),this.hg=new vf}jg(e,t,n){return h(h({},this.Yg(e,t)),n.Dr(e))}cg(){const e={ot:this.sg,vu:this.Qn.Et().vu(),lt:this.ng,EM:this.Jn.Ft().Nt(this.Jn.N().base,Wl(this.Jn.zt()).Wt)};this.hg.ht(e)}};const _f={type:"Histogram",isBuiltIn:!0,defaultOptions:{color:"#26a69a",base:0},Fg:(e,t)=>new bf(e,t)};h({},Tl);const wf=new Map,jf=new Map,Nf={IDLE:"idle",LOADING:"loading",SUCCESS:"success",ERROR:"error"},kf={RRG_ANALYSIS:{files:e=>[`analysis/analyze_rs/rrg_data_${e}.json`,`analysis/analyze_rs/analyze_rs_${e}.json`,`analysis/analyze_rs/rs_21bar_viz_${e}.json`],processor:Cf},MARKET_BREADTH:{files:e=>[`analysis/analyze_breadth_${e}.json`],processor:Ef},VSA_ANALYSIS:{files:e=>[`analysis/analyze_vsa/vsa_market_analysis_${e}.json`],processor:function([e]){return f(h({},e),{processed_at:(new Date).toISOString()})}},INDUSTRY_STRENGTH:{files:()=>["industry_strength_analysis.json","industry_strength_time_series.json"],processor:function([e,t]){return{analysis:e,timeSeries:t,processed_at:(new Date).toISOString()}}},ABNORMAL_SIGNALS:{files:e=>[`filters/abnormal_signals${"intra"===e?"_intra":""}.json`],processor:function([e]){return f(h({},e),{processed_at:(new Date).toISOString()})}},VCP_ANALYSIS:{files:e=>[`filters/filter_vcp_${e}.json`],processor:Pf},vcp_analysis:{files:e=>[`filters/filter_vcp_${e}.json`],processor:Pf},MACRO_DATA:{files:()=>["gdp_year.json","gdp_quarter.json","cpi_month.json","cpi_year.json","fdi_month.json","fdi_year.json","import_export_month.json","import_export_year.json","retail_sales_month.json","retail_sales_year.json","industrial_production_month.json","industrial_production_year.json","money_supply_month.json","money_supply_year.json"],processor:function(e){const t={};return e.forEach((e,n)=>{const r=kf.MACRO_DATA.files()[n].replace(".json","");t[r]=e}),t.processed_at=(new Date).toISOString(),t}},MARKET_OVERVIEW:{files:()=>["market_overview_dashboard.json"],processor:function([e]){return f(h({},e),{processed_at:(new Date).toISOString()})}},TOP_PERFORMERS:{files:()=>["top_gainers_vnindex_20.json","top_losers_vnindex_20.json","top_by_value_vnindex_20.json","top_by_volume_vnindex_20.json","top_deals_vnindex_20.json","foreign_buy_20.json","foreign_sell_20.json"],processor:function(e){const t={};return e.forEach((e,n)=>{const r=kf.TOP_PERFORMERS.files()[n].replace(".json","");t[r]=e}),t.processed_at=(new Date).toISOString(),t}},RS_21BAR_HEATMAP:{files:e=>[`analysis/analyze_rs/rs_21bar_viz_${e}.json`,`analysis/analyze_rs/analyze_rs_${e}.json`],processor:function([e,t]){const n={};return(null==t?void 0:t.industries)&&t.industries.forEach(e=>{var t,r,i,a,s;n[e.custom_id]={current_crs:null==(t=e.metrics)?void 0:t.current_crs,crs_status:null==(r=e.metrics)?void 0:r.crs_status,rs_trend_fast:null==(i=e.metrics)?void 0:i.rs_trend_fast,rs_trend_slow:null==(a=e.metrics)?void 0:a.rs_trend_slow,trend_strength:null==(s=e.metrics)?void 0:s.trend_strength}}),{industries:((null==e?void 0:e.industries)||(null==e?void 0:e.items)||[]).map(e=>h(h({},e),n[e.custom_id])),symbols:(null==e?void 0:e.symbols)||[]}}},RS_21BAR_INDUSTRY:{files:e=>[`analysis/analyze_rs/rs_21bar_viz_${e}.json`,`analysis/analyze_rs/analyze_rs_${e}.json`],processor:function([e,t]){const n={};(null==t?void 0:t.industries)&&t.industries.forEach(e=>{var t,r,i,a,s;n[e.custom_id]={current_crs:null==(t=e.metrics)?void 0:t.current_crs,crs_status:null==(r=e.metrics)?void 0:r.crs_status,rs_trend_fast:null==(i=e.metrics)?void 0:i.rs_trend_fast,rs_trend_slow:null==(a=e.metrics)?void 0:a.rs_trend_slow,trend_strength:null==(s=e.metrics)?void 0:s.trend_strength}});const r={industries:((null==e?void 0:e.industries)||(null==e?void 0:e.items)||[]).map(e=>h(h({},e),n[e.custom_id]))};return r.industries.length,r}},RS_21BAR_TICKER:{files:e=>[`analysis/analyze_rs/rs_21bar_viz_${e}.json`,`analysis/analyze_rs/analyze_rs_${e}.json`],processor:function([e,t]){const n={};return(null==t?void 0:t.symbols)&&t.symbols.forEach(e=>{var t,r,i,a,s;n[e.symbol]={current_crs:null==(t=e.metrics)?void 0:t.current_crs,crs_status:null==(r=e.metrics)?void 0:r.crs_status,rs_trend_fast:null==(i=e.metrics)?void 0:i.rs_trend_fast,rs_trend_slow:null==(a=e.metrics)?void 0:a.rs_trend_slow,trend_strength:null==(s=e.metrics)?void 0:s.trend_strength}}),{symbols:((null==e?void 0:e.symbols)||[]).map(e=>h(h({},e),n[e.symbol]))}}},analyze_breadth:{files:()=>["analysis/analyze_breadth.json"],processor:Ef},analyze_breadth_5:{files:()=>["analysis/analyze_breadth_5.json"],processor:Ef},analyze_breadth_4:{files:()=>["analysis/analyze_breadth_4.json"],processor:Ef},breadth_data:{files:(e="market")=>"market"===e?["analysis/analyze_breadth5/market.json"]:[`analysis/analyze_breadth5/industries/${e}.json`],processor:Ef},breadth_industries_summary:{files:()=>["analysis/analyze_breadth5/industries/summary.json"],processor:([e])=>e},analyze_groups_mfi:{files:()=>["analysis/analyze_groups_mfi.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},rs_analysis:{files:e=>[`analysis/analyze_rs/analyze_rs_${e}.json`],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},vsa_market_analysis:{files:e=>[`analysis/analyze_vsa/vsa_market_analysis_${e}.json`],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},industry_strength_time_series:{files:()=>["industry_strength_time_series.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},top_gainers:{files:()=>["top_gainers_vnindex_20.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},top_losers:{files:()=>["top_losers_vnindex_20.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},top_by_volume:{files:()=>["top_by_volume_vnindex_20.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},top_by_value:{files:()=>["top_by_value_vnindex_20.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},top_deals:{files:()=>["top_deals_vnindex_20.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},foreign_buy:{files:()=>["foreign_buy_20.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},foreign_sell:{files:()=>["foreign_sell_20.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},gdp_quarter:{files:()=>["gdp_quarter.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},money_supply_month:{files:()=>["money_supply_month.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},retail_sales_year:{files:()=>["retail_sales_year.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},retail_sales_month:{files:()=>["retail_sales_month.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},cpi_month:{files:()=>["cpi_month.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},cpi_year:{files:()=>["cpi_year.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},ppi_month:{files:()=>["ppi_month.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},pce_month:{files:()=>["pce_month.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},commodities_data:{files:()=>["commodities_data.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},inflation_analysis:{files:()=>["inflation_analysis.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},pe_ratio:{files:()=>["pe_ratio_5y.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},pb_ratio:{files:()=>["pb_ratio_5y.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},market_overview:{files:()=>["market_overview_dashboard.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},abnormal_signals:{files:e=>[`filters/abnormal_signals${"intra"===e?"_intra":""}.json`],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},abnormal_signals_intra:{files:()=>["filters/abnormal_signals_intra.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},analyze_greed_fear:{files:()=>["analysis/analyze_greed_fear.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},companies:{files:()=>["data/data/companies.json"],processor:([e])=>e},industries:{files:()=>["data/data/industries.json"],processor:([e])=>e},rrg_analysis:{files:e=>[`analysis/analyze_rs/rrg_data_${e}.json`,`analysis/analyze_rs/analyze_rs_${e}.json`],processor:Cf}};function Sf(e){return g(this,null,function*(){const t=e;if(wf.has(t))return wf.get(t);try{let n;n=e.startsWith("data/")?`/embed-tools/vnindex-analysis/${e}`:`/embed-tools/vnindex-analysis/data/${e}`;const r=yield fetch(n);if(!r.ok)throw new Error(`Failed to load ${e}: ${r.status}`);const i=yield r.json();return wf.set(t,i),i}catch(n){throw n}})}function Cf([e,t,n]){const r=t.industries||[],i=t.groups||[],a=t.symbols||[],s=e.series.filter(e=>"industry"===e.type),o=e.series.filter(e=>"group"===e.type),l=e.series.filter(e=>"symbol"===e.type),c=r.map(e=>{const t=s.find(t=>t.custom_id===e.custom_id);return f(h({},e),{tail:(null==t?void 0:t.tail)||[],rrg_position:(null==t?void 0:t.tail)&&t.tail.length>0?Of(t.tail[t.tail.length-1]):null})}),u=i.map(e=>{const t=o.find(t=>t.custom_id===e.custom_id);return f(h({},e),{tail:(null==t?void 0:t.tail)||[],rrg_position:(null==t?void 0:t.tail)&&t.tail.length>0?Of(t.tail[t.tail.length-1]):null})}),d=a.map(e=>{const t=l.find(t=>t.custom_id===e.symbol),n=f(h({},e),{tail:(null==t?void 0:t.tail)||[],rrg_position:(null==t?void 0:t.tail)&&t.tail.length>0?Of(t.tail[t.tail.length-1]):null,industries:e.industries||[]});if(e.industry_id&&!n.industries.length){const t=r.find(t=>t.custom_id===e.industry_id);t&&(n.industries=[t])}if(!n.industries.length){const t=r.find(t=>t.symbols&&t.symbols.includes(e.symbol));t&&(n.industries=[t])}return n}).map(e=>{if(null==n?void 0:n.symbols){const t=n.symbols.find(t=>t.id===e.symbol);if(t)return f(h({},e),{rs_bars:t.rs_bars||[]})}if((null==n?void 0:n.industries)&&e.industries&&e.industries.length>0){const t=e.industries[0],r=n.industries.find(e=>e.id===t.custom_id);if(r&&r.rs_bars)return f(h({},e),{rs_bars:r.rs_bars||[]})}return e});return{industries:c.map(Mf),groups:u.map(Mf),symbols:d.map(Mf),tickers:d.map(Mf),insights:t.insights||{},analysis_date:t.analysis_date,timeframe:t.timeframe,rs21BarData:n||null}}function Ef([e]){return f(h({},e),{processed_at:(new Date).toISOString()})}function Pf([e]){return f(h({},e),{processed_at:(new Date).toISOString()})}function Mf(e){var t,n,r,i,a,s,o,l,c,u,d,m,p,g,x,y;const v=Array.isArray(e.tail)&&e.tail.length>0?e.tail[e.tail.length-1]:{};return f(h({},e),{industry:e.name,rs:null!=(n=null==(t=e.metrics)?void 0:t.current_rs)?n:null,crs:null!=(i=null==(r=e.metrics)?void 0:r.current_crs)?i:null,momentum:null!=(s=null==(a=e.speed_analysis)?void 0:a.weighted_speed)?s:null,direction:null!=(l=null==(o=e.direction_analysis)?void 0:o.direction)?l:null,trend_strength:null!=(u=null==(c=e.direction_analysis)?void 0:c.trend_strength)?u:null,momentum_confirmed:null!=(m=null==(d=e.direction_analysis)?void 0:d.momentum_confirmed)?m:null,signal_to_noise_ratio:null!=(g=null==(p=e.direction_analysis)?void 0:p.signal_to_noise_ratio)?g:null,rs_ratio:null!=(x=v.x)?x:null,rs_momentum:null!=(y=v.y)?y:null})}function Of(e){if(!e||"number"!=typeof e.x||"number"!=typeof e.y)return null;const t=e.x,n=e.y;return t>100&&n>100?"Leading (Dn dt)":t>100&&n<=100?"Weakening (Suy yu)":t<=100&&n<=100?"Lagging (Tt hu)":t<=100&&n>100?"Improving (Ci thin)":null}function Af(e){for(const t of wf.keys())t.startsWith(e+"_")&&wf.delete(t)}function Tf(e){const t=new CustomEvent("dataReloaded",{detail:{dataType:e}});window.dispatchEvent(t)}function Df(e,t=null,n=[],r={}){const[i,a]=N.useState(Nf.IDLE),[s,o]=N.useState(null),[l,c]=N.useState(null),[u,d]=N.useState(null),h=N.useCallback(()=>g(null,null,function*(){if(i===Nf.LOADING)return;const n=`${e}_${t||"1D"}`;if(wf.has(n)){const e=wf.get(n);if(s===e)return}a(Nf.LOADING),c(null);try{const n=yield function(e,t=null){return g(this,null,function*(){const n=kf[e];if(!n)throw new Error(`Unknown data type: ${e}`);const r="string"==typeof t?t:t&&"object"==typeof t&&t.timeframe||"1D",i=`${e}_${r}`;if(wf.has(i))return wf.get(i);if(jf.has(i)){for(;jf.has(i);)yield new Promise(e=>setTimeout(e,10));if(wf.has(i))return wf.get(i)}jf.set(i,!0);try{const t=n.files(r),a=yield Promise.all(t.map(Sf)),s=n.processor(a);return wf.set(i,s),jf.delete(i),Tf(e),s}catch(l){throw l}finally{jf.delete(i)}})}(e,t);o(n),d(new Date),a(Nf.SUCCESS)}catch(Wae){c(Wae),a(Nf.ERROR)}}),[e,t,i,s]);return N.useEffect(()=>{h()},[h]),N.useEffect(()=>{const t=t=>{var n;const r=null==(n=t.detail)?void 0:n.dataType;r&&r!==e||h()};return window.addEventListener("dataReloaded",t),()=>{window.removeEventListener("dataReloaded",t)}},[e,h]),N.useEffect(()=>{if(r.refreshInterval){const e=setInterval(()=>{h()},r.refreshInterval);return()=>clearInterval(e)}},[r.refreshInterval,e,h]),{data:s,loading:i===Nf.LOADING||!s&&!l,error:l,lastUpdated:u,refresh:()=>{h(),Tf(e)},reload:h}}function Rf(e="1D"){return Df("RRG_ANALYSIS",e)}function If(){return Df("companies")}function Lf(){return Df("industries")}function zf(e,t="industry"){let n;return n="industry"===t?"RS_21BAR_INDUSTRY":"ticker"===t?"RS_21BAR_TICKER":"RS_21BAR_HEATMAP",Df(n,e)}const Ff={clearCache:()=>wf.clear(),getCacheSize:()=>wf.size,getCacheKeys:()=>Array.from(wf.keys()),removeFromCache:e=>wf.delete(e),getCacheStats:()=>({size:wf.size,keys:Array.from(wf.keys()),totalSize:Array.from(wf.values()).reduce((e,t)=>e+JSON.stringify(t).length,0)})};function Bf(e,t){const n=N.useCallback(n=>{if(!e||!t)return null;const r=e[n];if(!r)return null;const i=t[r.industry_id];return{ticker:n,name:r.name,industry:i?i.name:"Unknown",industry_id:r.industry_id}},[e,t]),r=N.useCallback(t=>e?Object.entries(e).filter(([e,n])=>n.industry_id===t).map(([e])=>e):[],[e]),i=N.useCallback(e=>{if(!t)return"Unknown";const n=t[e];return n?n.name:"Unknown"},[t]);return{companies:e,industries:t,getTickerInfo:n,getIndustryTickers:r,getIndustryName:i,loading:!e||!t}}const Wf={useDataLoader:Df,useRRGAnalysis:Rf,useMarketBreadth:function(e="1D"){return Df("MARKET_BREADTH",e)},useVSAAnalysis:function(e="1D"){return Df("VSA_ANALYSIS",e)},useIndustryStrength:function(){return Df("INDUSTRY_STRENGTH")},useAbnormalSignals:function(e="1D"){return Df("ABNORMAL_SIGNALS",e)},useVCPAnalysis:function(e="1D"){return Df("VCP_ANALYSIS",e)},useMacroData:function(){return Df("MACRO_DATA")},useMarketOverview:function(){return Df("MARKET_OVERVIEW")},useTopPerformers:function(){return Df("TOP_PERFORMERS")},useCompanies:If,useIndustries:Lf,useTickerInfo:function(){const{data:e}=If(),{data:t}=Lf(),n=N.useCallback(n=>{if(!e||!t)return null;const r=e[n];if(!r)return null;const i=t[r.industry_id];return{ticker:n,name:r.name,industry:i?i.name:"Unknown",industry_id:r.industry_id}},[e,t]),r=N.useCallback(t=>e?Object.entries(e).filter(([e,n])=>n.industry_id===t).map(([e])=>e):[],[e]),i=N.useCallback(e=>{if(!t)return"Unknown";const n=t[e];return n?n.name:"Unknown"},[t]);return{companies:e,industries:t,getTickerInfo:n,getIndustryTickers:r,getIndustryName:i,loading:!e||!t}},useTickerInfoWithData:Bf,useRS21BarHeatmap:zf,useCacheStats:function(){const[e,t]=N.useState({total:0,valid:0,expired:0}),n=N.useCallback(()=>{const e=Ff.getCacheStats();t({total:e.size,valid:e.size,expired:0})},[]);return N.useEffect(()=>{n()},[]),{stats:e,updateStats:n}},cacheUtils:Ff,loadTicker:function(e){return g(this,null,function*(){try{const t=`data/tickers/${e}.json`;return yield Sf(t)}catch(t){throw t}})},DATA_TYPES:kf,LOADING_STATES:Nf};var $f,Vf={},Kf={};function Hf(){return $f||($f=1,e=Kf,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isUnsafeProperty=function(e){return"__proto__"===e}),Kf;var e}var Uf,Yf={};function qf(){return Uf||(Uf=1,e=Yf,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}),Yf;var e}var Gf,Xf={};function Qf(){return Gf||(Gf=1,e=Xf,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.toKey=function(e){var t;return"string"==typeof e||"symbol"==typeof e?e:Object.is(null==(t=null==e?void 0:e.valueOf)?void 0:t.call(e),-0)?"-0":String(e)}),Xf;var e}var Zf,Jf,em,tm,nm={};function rm(){return Zf||(Zf=1,e=nm,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.toPath=function(e){const t=[],n=e.length;if(0===n)return t;let r=0,i="",a="",s=!1;for(46===e.charCodeAt(0)&&(t.push(""),r++);r<n;){const o=e[r];a?"\\"===o&&r+1<n?(r++,i+=e[r]):o===a?a="":i+=o:s?'"'===o||"'"===o?a=o:"]"===o?(s=!1,t.push(i),i=""):i+=o:"["===o?(s=!0,i&&(t.push(i),i="")):"."===o?i&&(t.push(i),i=""):i+=o,r++}return i&&t.push(i),t}),nm;var e}function im(){return Jf||(Jf=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hf(),n=qf(),r=Qf(),i=rm();e.get=function e(a,s,o){if(null==a)return o;switch(typeof s){case"string":{if(t.isUnsafeProperty(s))return o;const r=a[s];return void 0===r?n.isDeepKey(s)?e(a,i.toPath(s),o):o:r}case"number":case"symbol":{"number"==typeof s&&(s=r.toKey(s));const e=a[s];return void 0===e?o:e}default:{if(Array.isArray(s))return function(e,n,r){if(0===n.length)return r;let i=e;for(let a=0;a<n.length;a++){if(null==i)return r;if(t.isUnsafeProperty(n[a]))return r;i=i[n[a]]}return void 0===i?r:i}(a,s,o);if(s=Object.is(null==s?void 0:s.valueOf(),-0)?"-0":String(s),t.isUnsafeProperty(s))return o;const e=a[s];return void 0===e?o:e}}}}(Vf)),Vf}function am(){return tm?em:(tm=1,em=im().get)}const sm=i(am());var om,lm,cm={exports:{}},um={},dm=(lm||(lm=1,cm.exports=function(){if(om)return um;om=1;var e="function"==typeof Symbol&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,o=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,u=e?Symbol.for("react.forward_ref"):60112,d=e?Symbol.for("react.suspense"):60113,h=e?Symbol.for("react.suspense_list"):60120,f=e?Symbol.for("react.memo"):60115,m=e?Symbol.for("react.lazy"):60116,p=e?Symbol.for("react.block"):60121,g=e?Symbol.for("react.fundamental"):60117,x=e?Symbol.for("react.responder"):60118,y=e?Symbol.for("react.scope"):60119;function v(e){if("object"==typeof e&&null!==e){var h=e.$$typeof;switch(h){case t:switch(e=e.type){case l:case c:case r:case a:case i:case d:return e;default:switch(e=e&&e.$$typeof){case o:case u:case m:case f:case s:return e;default:return h}}case n:return h}}}function b(e){return v(e)===c}return um.AsyncMode=l,um.ConcurrentMode=c,um.ContextConsumer=o,um.ContextProvider=s,um.Element=t,um.ForwardRef=u,um.Fragment=r,um.Lazy=m,um.Memo=f,um.Portal=n,um.Profiler=a,um.StrictMode=i,um.Suspense=d,um.isAsyncMode=function(e){return b(e)||v(e)===l},um.isConcurrentMode=b,um.isContextConsumer=function(e){return v(e)===o},um.isContextProvider=function(e){return v(e)===s},um.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},um.isForwardRef=function(e){return v(e)===u},um.isFragment=function(e){return v(e)===r},um.isLazy=function(e){return v(e)===m},um.isMemo=function(e){return v(e)===f},um.isPortal=function(e){return v(e)===n},um.isProfiler=function(e){return v(e)===a},um.isStrictMode=function(e){return v(e)===i},um.isSuspense=function(e){return v(e)===d},um.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===c||e===a||e===i||e===d||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===f||e.$$typeof===s||e.$$typeof===o||e.$$typeof===u||e.$$typeof===g||e.$$typeof===x||e.$$typeof===y||e.$$typeof===p)},um.typeOf=v,um}()),cm.exports),hm=e=>0===e?0:e>0?1:-1,fm=e=>"number"==typeof e&&e!=+e,mm=e=>"string"==typeof e&&e.indexOf("%")===e.length-1,pm=e=>("number"==typeof e||e instanceof Number)&&!fm(e),gm=e=>pm(e)||"string"==typeof e,xm=0,ym=e=>{var t=++xm;return"".concat(e||"").concat(t)},vm=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!pm(e)&&"string"!=typeof e)return r;if(mm(e)){if(null==t)return r;var a=e.indexOf("%");n=t*parseFloat(e.slice(0,a))/100}else n=+e;return fm(n)&&(n=r),i&&null!=t&&n>t&&(n=t),n},bm=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1},_m=(e,t)=>pm(e)&&pm(t)?n=>e+n*(t-e):()=>t;function wm(e,t,n){return pm(e)&&pm(t)?e+n*(t-e):t}function jm(e,t,n){if(e&&e.length)return e.find(e=>e&&("function"==typeof t?t(e):sm(e,t))===n)}var Nm=e=>null==e,km=e=>Nm(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),Sm=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Cm=["points","pathLength"],Em={svg:["viewBox","children"],polygon:Cm,polyline:Cm},Pm=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Mm=(e,t)=>{if(!e||"function"==typeof e||"boolean"==typeof e)return null;var n=e;if(N.isValidElement(e)&&(n=e.props),"object"!=typeof n&&"function"!=typeof n)return null;var r={};return Object.keys(n).forEach(e=>{Pm.includes(e)&&(r[e]=t=>n[e](n,t))}),r},Om=(e,t,n)=>{if(null===e||"object"!=typeof e&&"function"!=typeof e)return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];Pm.includes(i)&&"function"==typeof a&&(r||(r={}),r[i]=((e,t,n)=>r=>(e(t,n,r),null))(a,t,n))}),r},Am=e=>"string"==typeof e?e:e?e.displayName||e.name||"Component":"",Tm=null,Dm=null,Rm=e=>{if(e===Tm&&Array.isArray(Dm))return Dm;var t=[];return N.Children.forEach(e,e=>{Nm(e)||(dm.isFragment(e)?t=t.concat(Rm(e.props.children)):t.push(e))}),Dm=t,Tm=e,t};function Im(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(e=>Am(e)):[Am(t)],Rm(e).forEach(e=>{var t=sm(e,"type.displayName")||sm(e,"type.name");-1!==r.indexOf(t)&&n.push(e)}),n}var Lm=e=>!e||"object"!=typeof e||!("clipDot"in e)||Boolean(e.clipDot),zm=(e,t,n)=>{if(!e||"function"==typeof e||"boolean"==typeof e)return null;var r=e;if(N.isValidElement(e)&&(r=e.props),"object"!=typeof r&&"function"!=typeof r)return null;var i={};return Object.keys(r).forEach(e=>{var a;((e,t,n,r)=>{var i,a=null!==(i=r&&(null==Em?void 0:Em[r]))&&void 0!==i?i:[];return t.startsWith("data-")||"function"!=typeof e&&(r&&a.includes(t)||Sm.includes(t))||n&&Pm.includes(t)})(null===(a=r)||void 0===a?void 0:a[e],e,t,n)&&(i[e]=r[e])}),i},Fm=["children","width","height","viewBox","className","style","title","desc"];function Bm(){return Bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bm.apply(null,arguments)}var Wm=N.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:o,title:l,desc:c}=e,u=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Fm),d=a||{width:r,height:i,x:0,y:0},h=st("recharts-surface",s);return N.createElement("svg",Bm({},zm(u,!0,"svg"),{className:h,width:r,height:i,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),N.createElement("title",null,l),N.createElement("desc",null,c),n)}),$m=["children","className"];function Vm(){return Vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vm.apply(null,arguments)}var Km=N.forwardRef((e,t)=>{var{children:n,className:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,$m),a=st("recharts-layer",r);return N.createElement("g",Vm({className:a},zm(i,!0),{ref:t}),n)}),Hm=N.createContext(null);function Um(e){return function(){return e}}const Ym=Math.abs,qm=Math.atan2,Gm=Math.cos,Xm=Math.max,Qm=Math.min,Zm=Math.sin,Jm=Math.sqrt,ep=1e-12,tp=Math.PI,np=tp/2,rp=2*tp;function ip(e){return e>=1?np:e<=-1?-np:Math.asin(e)}const ap=Math.PI,sp=2*ap,op=1e-6,lp=sp-op;function cp(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}let up=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?cp:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return cp;const n=u(10,t);return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,i,a){this._append`C${+e},${+t},${+n},${+r},${this._x1=+i},${this._y1=+a}`}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let a=this._x1,s=this._y1,o=n-e,l=r-t,c=a-e,u=s-t,d=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>op)if(Math.abs(u*o-l*c)>op&&i){let h=n-a,f=r-s,m=o*o+l*l,p=h*h+f*f,g=Math.sqrt(m),x=Math.sqrt(d),y=i*Math.tan((ap-Math.acos((m+d-p)/(2*g*x)))/2),v=y/x,b=y/g;Math.abs(v-1)>op&&this._append`L${e+v*c},${t+v*u}`,this._append`A${i},${i},0,0,${+(u*h>c*f)},${this._x1=e+b*o},${this._y1=t+b*l}`}else this._append`L${this._x1=e},${this._y1=t}`}arc(e,t,n,r,i,a){if(e=+e,t=+t,a=!!a,(n=+n)<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(r),o=n*Math.sin(r),l=e+s,c=t+o,u=1^a,d=a?r-i:i-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>op||Math.abs(this._y1-c)>op)&&this._append`L${l},${c}`,n&&(d<0&&(d=d%sp+sp),d>lp?this._append`A${n},${n},0,1,${u},${e-s},${t-o}A${n},${n},0,1,${u},${this._x1=l},${this._y1=c}`:d>op&&this._append`A${n},${n},0,${+(d>=ap)},${u},${this._x1=e+n*Math.cos(i)},${this._y1=t+n*Math.sin(i)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}};function dp(){return new up}function hp(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new up(t)}function fp(e){return e.innerRadius}function mp(e){return e.outerRadius}function pp(e){return e.startAngle}function gp(e){return e.endAngle}function xp(e){return e&&e.padAngle}function yp(e,t,n,r,i,a,s){var o=e-n,l=t-r,c=(s?a:-a)/Jm(o*o+l*l),u=c*l,d=-c*o,h=e+u,f=t+d,m=n+u,p=r+d,g=(h+m)/2,x=(f+p)/2,y=m-h,v=p-f,b=y*y+v*v,_=i-a,w=h*p-m*f,j=(v<0?-1:1)*Jm(Xm(0,_*_*b-w*w)),N=(w*v-y*j)/b,k=(-w*y-v*j)/b,S=(w*v+y*j)/b,C=(-w*y+v*j)/b,E=N-g,P=k-x,M=S-g,O=C-x;return E*E+P*P>M*M+O*O&&(N=S,k=C),{cx:N,cy:k,x01:-u,y01:-d,x11:N*(i/_-1),y11:k*(i/_-1)}}dp.prototype=up.prototype;var vp=Array.prototype.slice;function bp(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function _p(e){this._context=e}function wp(e){return new _p(e)}function jp(e){return e[0]}function Np(e){return e[1]}function kp(e,t){var n=Um(!0),r=null,i=wp,a=null,s=hp(o);function o(o){var l,c,u,d=(o=bp(o)).length,h=!1;for(null==r&&(a=i(u=s())),l=0;l<=d;++l)!(l<d&&n(c=o[l],l,o))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(c,l,o),+t(c,l,o));if(u)return a=null,u+""||null}return e="function"==typeof e?e:void 0===e?jp:Um(e),t="function"==typeof t?t:void 0===t?Np:Um(t),o.x=function(t){return arguments.length?(e="function"==typeof t?t:Um(+t),o):e},o.y=function(e){return arguments.length?(t="function"==typeof e?e:Um(+e),o):t},o.defined=function(e){return arguments.length?(n="function"==typeof e?e:Um(!!e),o):n},o.curve=function(e){return arguments.length?(i=e,null!=r&&(a=i(r)),o):i},o.context=function(e){return arguments.length?(null==e?r=a=null:a=i(r=e),o):r},o}function Sp(e,t,n){var r=null,i=Um(!0),a=null,s=wp,o=null,l=hp(c);function c(c){var u,d,h,f,m,p=(c=bp(c)).length,g=!1,x=new Array(p),y=new Array(p);for(null==a&&(o=s(m=l())),u=0;u<=p;++u){if(!(u<p&&i(f=c[u],u,c))===g)if(g=!g)d=u,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),h=u-1;h>=d;--h)o.point(x[h],y[h]);o.lineEnd(),o.areaEnd()}g&&(x[u]=+e(f,u,c),y[u]=+t(f,u,c),o.point(r?+r(f,u,c):x[u],n?+n(f,u,c):y[u]))}if(m)return o=null,m+""||null}function u(){return kp().defined(i).curve(s).context(a)}return e="function"==typeof e?e:void 0===e?jp:Um(+e),t="function"==typeof t?t:Um(void 0===t?0:+t),n="function"==typeof n?n:void 0===n?Np:Um(+n),c.x=function(t){return arguments.length?(e="function"==typeof t?t:Um(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:Um(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:Um(+e),c):r},c.y=function(e){return arguments.length?(t="function"==typeof e?e:Um(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"==typeof e?e:Um(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:Um(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"==typeof e?e:Um(!!e),c):i},c.curve=function(e){return arguments.length?(s=e,null!=a&&(o=s(a)),c):s},c.context=function(e){return arguments.length?(null==e?a=o=null:o=s(a=e),c):a},c}function Cp(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function Ep(e){return e}_p.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var Pp=Op(wp);function Mp(e){this._curve=e}function Op(e){function t(t){return new Mp(e(t))}return t._curve=e,t}function Ap(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(Op(e)):t()._curve},e}function Tp(){return Ap(kp().curve(Pp))}function Dp(){var e=Sp().curve(Pp),t=e.curve,n=e.lineX0,r=e.lineX1,i=e.lineY0,a=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return Ap(n())},delete e.lineX0,e.lineEndAngle=function(){return Ap(r())},delete e.lineX1,e.lineInnerRadius=function(){return Ap(i())},delete e.lineY0,e.lineOuterRadius=function(){return Ap(a())},delete e.lineY1,e.curve=function(e){return arguments.length?t(Op(e)):t()._curve},e}function Rp(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}Mp.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};class Ip{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}class Lp{constructor(e){this._context=e}lineStart(){this._point=0}lineEnd(){}point(e,t){if(e=+e,t=+t,0===this._point)this._point=1;else{const n=Rp(this._x0,this._y0),r=Rp(this._x0,this._y0=(this._y0+t)/2),i=Rp(e,this._y0),a=Rp(e,t);this._context.moveTo(...n),this._context.bezierCurveTo(...r,...i,...a)}this._x0=e,this._y0=t}}function zp(e){return new Ip(e,!0)}function Fp(e){return new Ip(e,!1)}function Bp(e){return new Lp(e)}function Wp(e){return e.source}function $p(e){return e.target}function Vp(e){let t=Wp,n=$p,r=jp,i=Np,a=null,s=null,o=hp(l);function l(){let l;const c=vp.call(arguments),u=t.apply(this,c),d=n.apply(this,c);if(null==a&&(s=e(l=o())),s.lineStart(),c[0]=u,s.point(+r.apply(this,c),+i.apply(this,c)),c[0]=d,s.point(+r.apply(this,c),+i.apply(this,c)),s.lineEnd(),l)return s=null,l+""||null}return l.source=function(e){return arguments.length?(t=e,l):t},l.target=function(e){return arguments.length?(n=e,l):n},l.x=function(e){return arguments.length?(r="function"==typeof e?e:Um(+e),l):r},l.y=function(e){return arguments.length?(i="function"==typeof e?e:Um(+e),l):i},l.context=function(t){return arguments.length?(null==t?a=s=null:s=e(a=t),l):a},l}const Kp=Jm(3),Hp={draw(e,t){const n=.59436*Jm(t+Qm(t/28,.75)),r=n/2,i=r*Kp;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},Up={draw(e,t){const n=Jm(t/tp);e.moveTo(n,0),e.arc(0,0,n,0,rp)}},Yp={draw(e,t){const n=Jm(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},qp=Jm(1/3),Gp=2*qp,Xp={draw(e,t){const n=Jm(t/Gp),r=n*qp;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Qp={draw(e,t){const n=.62625*Jm(t);e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},Zp={draw(e,t){const n=.87559*Jm(t-Qm(t/7,2));e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},Jp={draw(e,t){const n=Jm(t),r=-n/2;e.rect(r,r,n,n)}},eg={draw(e,t){const n=.4431*Jm(t);e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},tg=Zm(tp/10)/Zm(7*tp/10),ng=Zm(rp/10)*tg,rg=-Gm(rp/10)*tg,ig={draw(e,t){const n=Jm(.8908130915292852*t),r=ng*n,i=rg*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const t=rp*a/5,s=Gm(t),o=Zm(t);e.lineTo(o*n,-s*n),e.lineTo(s*r-o*i,o*r+s*i)}e.closePath()}},ag=Jm(3),sg={draw(e,t){const n=-Jm(t/(3*ag));e.moveTo(0,2*n),e.lineTo(-ag*n,-n),e.lineTo(ag*n,-n),e.closePath()}},og=Jm(3),lg={draw(e,t){const n=.6824*Jm(t),r=n/2,i=n*og/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},cg=-.5,ug=Jm(3)/2,dg=1/Jm(12),hg=3*(dg/2+1),fg={draw(e,t){const n=Jm(t/hg),r=n/2,i=n*dg,a=r,s=n*dg+n,o=-a,l=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(cg*r-ug*i,ug*r+cg*i),e.lineTo(cg*a-ug*s,ug*a+cg*s),e.lineTo(cg*o-ug*l,ug*o+cg*l),e.lineTo(cg*r+ug*i,cg*i-ug*r),e.lineTo(cg*a+ug*s,cg*s-ug*a),e.lineTo(cg*o+ug*l,cg*l-ug*o),e.closePath()}},mg={draw(e,t){const n=.6189*Jm(t-Qm(t/6,1.7));e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},pg=[Up,Yp,Xp,Jp,ig,sg,fg],gg=[Up,Zp,mg,lg,Hp,eg,Qp];function xg(e,t){let n=null,r=hp(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"==typeof e?e:Um(e||Up),t="function"==typeof t?t:Um(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"==typeof t?t:Um(t),i):e},i.size=function(e){return arguments.length?(t="function"==typeof e?e:Um(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}function yg(){}function vg(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function bg(e){this._context=e}function _g(e){return new bg(e)}function wg(e){this._context=e}function jg(e){return new wg(e)}function Ng(e){this._context=e}function kg(e){return new Ng(e)}function Sg(e,t){this._basis=new bg(e),this._beta=t}bg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:vg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:vg(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},wg.prototype={areaStart:yg,areaEnd:yg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:vg(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Ng.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:vg(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Sg.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],a=t[0],s=e[n]-i,o=t[n]-a,l=-1;++l<=n;)r=l/n,this._basis.point(this._beta*e[l]+(1-this._beta)*(i+r*s),this._beta*t[l]+(1-this._beta)*(a+r*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const Cg=function e(t){function n(e){return 1===t?new bg(e):new Sg(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function Eg(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Pg(e,t){this._context=e,this._k=(1-t)/6}Pg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Eg(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Eg(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Mg=function e(t){function n(e){return new Pg(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Og(e,t){this._context=e,this._k=(1-t)/6}Og.prototype={areaStart:yg,areaEnd:yg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Eg(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Ag=function e(t){function n(e){return new Og(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Tg(e,t){this._context=e,this._k=(1-t)/6}Tg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Eg(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Dg=function e(t){function n(e){return new Tg(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Rg(e,t,n){var r=e._x1,i=e._y1,a=e._x2,s=e._y2;if(e._l01_a>ep){var o=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*o-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*o-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>ep){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*c+e._x1*e._l23_2a-t*e._l12_2a)/u,s=(s*c+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(r,i,a,s,e._x2,e._y2)}function Ig(e,t){this._context=e,this._alpha=t}Ig.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Rg(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Lg=function e(t){function n(e){return t?new Ig(e,t):new Pg(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function zg(e,t){this._context=e,this._alpha=t}zg.prototype={areaStart:yg,areaEnd:yg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Rg(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Fg=function e(t){function n(e){return t?new zg(e,t):new Og(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Bg(e,t){this._context=e,this._alpha=t}Bg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Rg(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Wg=function e(t){function n(e){return t?new Bg(e,t):new Tg(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function $g(e){this._context=e}function Vg(e){return new $g(e)}function Kg(e){return e<0?-1:1}function Hg(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(Kg(a)+Kg(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function Ug(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Yg(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-r)/3;e._context.bezierCurveTo(r+o,i+o*t,a-o,s-o*n,a,s)}function qg(e){this._context=e}function Gg(e){this._context=new Xg(e)}function Xg(e){this._context=e}function Qg(e){return new qg(e)}function Zg(e){return new Gg(e)}function Jg(e){this._context=e}function ex(e){var t,n,r=e.length-1,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function tx(e){return new Jg(e)}function nx(e,t){this._context=e,this._t=t}function rx(e){return new nx(e,.5)}function ix(e){return new nx(e,0)}function ax(e){return new nx(e,1)}function sx(e,t){if((i=e.length)>1)for(var n,r,i,a=1,s=e[t[0]],o=s.length;a<i;++a)for(r=s,s=e[t[a]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function ox(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function lx(e,t){return e[t]}function cx(e){const t=[];return t.key=e,t}function ux(){var e=Um([]),t=ox,n=sx,r=lx;function i(i){var a,s,o=Array.from(e.apply(this,arguments),cx),l=o.length,c=-1;for(const e of i)for(a=0,++c;a<l;++a)(o[a][c]=[0,+r(e,o[a].key,c,i)]).data=e;for(a=0,s=bp(t(o));a<l;++a)o[s[a]].index=a;return n(o,s),o}return i.keys=function(t){return arguments.length?(e="function"==typeof t?t:Um(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"==typeof e?e:Um(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?ox:"function"==typeof e?e:Um(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?sx:e,i):n},i}function dx(e,t){if((r=e.length)>0){for(var n,r,i,a=0,s=e[0].length;a<s;++a){for(i=n=0;n<r;++n)i+=e[n][a][1]||0;if(i)for(n=0;n<r;++n)e[n][a][1]/=i}sx(e,t)}}function hx(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],a=i.length;r<a;++r){for(var s=0,o=0;s<n;++s)o+=e[s][r][1]||0;i[r][1]+=i[r][0]=-o/2}sx(e,t)}}function fx(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,a=0,s=1;s<r;++s){for(var o=0,l=0,c=0;o<i;++o){for(var u=e[t[o]],d=u[s][1]||0,h=(d-(u[s-1][1]||0))/2,f=0;f<o;++f){var m=e[t[f]];h+=(m[s][1]||0)-(m[s-1][1]||0)}l+=d,c+=h*d}n[s-1][1]+=n[s-1][0]=a,l&&(a-=c/l)}n[s-1][1]+=n[s-1][0]=a,sx(e,t)}}function mx(e){var t=e.map(px);return ox(e).sort(function(e,n){return t[e]-t[n]})}function px(e){for(var t,n=-1,r=0,i=e.length,a=-1/0;++n<i;)(t=+e[n][1])>a&&(a=t,r=n);return r}function gx(e){var t=e.map(xx);return ox(e).sort(function(e,n){return t[e]-t[n]})}function xx(e){for(var t,n=0,r=-1,i=e.length;++r<i;)(t=+e[r][1])&&(n+=t);return n}$g.prototype={areaStart:yg,areaEnd:yg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},qg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Yg(this,this._t0,Ug(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Yg(this,Ug(this,n=Hg(this,e,t)),n);break;default:Yg(this,this._t0,n=Hg(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Gg.prototype=Object.create(qg.prototype)).point=function(e,t){qg.prototype.point.call(this,t,e)},Xg.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}},Jg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=ex(e),i=ex(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},nx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var yx=["type","size","sizeType"];function vx(){return vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vx.apply(null,arguments)}function bx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bx(Object(n),!0).forEach(function(t){wx(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bx(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function wx(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jx={symbolCircle:Up,symbolCross:Yp,symbolDiamond:Xp,symbolSquare:Jp,symbolStar:ig,symbolTriangle:sg,symbolWye:fg},Nx=Math.PI/180,kx=e=>{var t,n,{type:r="circle",size:i=64,sizeType:a="area"}=e,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,yx),o=_x(_x({},s),{},{type:r,size:i,sizeType:a}),{className:l,cx:c,cy:d}=o,h=zm(o,!0);return c===+c&&d===+d&&i===+i?N.createElement("path",vx({},h,{className:st("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(d,")"),d:(t=(e=>{var t="symbol".concat(km(e));return jx[t]||Up})(r),n=xg().type(t).size(((e,t,n)=>{if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*Nx;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*u(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(i,a,r)),n())})):null};function Sx(){return Sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sx.apply(null,arguments)}function Cx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ex(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}kx.registerSymbol=(e,t)=>{jx["symbol".concat(km(e))]=t};var Px=32;class Mx extends N.PureComponent{renderIcon(e,t){var{inactiveColor:n}=this.props,r=16,i=Px/6,a=Px/3,s=e.inactive?n:e.color,o=null!=t?t:e.type;if("none"===o)return null;if("plainline"===o)return N.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:r,x2:Px,y2:r,className:"recharts-legend-icon"});if("line"===o)return N.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(r,"h").concat(a,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(2*a,",").concat(r,"\n            H").concat(Px,"M").concat(2*a,",").concat(r,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(a,",").concat(r),className:"recharts-legend-icon"});if("rect"===o)return N.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(4,"h").concat(Px,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(N.isValidElement(e.legendIcon)){var l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cx(Object(n),!0).forEach(function(t){Ex(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cx(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return delete l.legendIcon,N.cloneElement(e.legendIcon,l)}return N.createElement(kx,{fill:s,cx:r,cy:r,size:Px,sizeType:"diameter",type:o})}renderItems(){var{payload:e,iconSize:t,layout:n,formatter:r,inactiveColor:i,iconType:a}=this.props,s={x:0,y:0,width:Px,height:Px},o={display:"horizontal"===n?"inline-block":"block",marginRight:10},l={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((e,n)=>{var c=e.formatter||r,u=st({"recharts-legend-item":!0,["legend-item-".concat(n)]:!0,inactive:e.inactive});if("none"===e.type)return null;var d=e.inactive?i:e.color,h=c?c(e.value,e,n):e.value;return N.createElement("li",Sx({className:u,style:o,key:"legend-item-".concat(n)},Om(this.props,e,n)),N.createElement(Wm,{width:t,height:t,viewBox:s,style:l,"aria-label":"".concat(h," legend icon")},this.renderIcon(e,a)),N.createElement("span",{className:"recharts-legend-item-text",style:{color:d}},h))})}render(){var{payload:e,layout:t,align:n}=this.props;if(!e||!e.length)return null;var r={padding:0,margin:0,textAlign:"horizontal"===t?n:"left"};return N.createElement("ul",{className:"recharts-default-legend",style:r},this.renderItems())}}Ex(Mx,"displayName","Legend"),Ex(Mx,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Ox,Ax={},Tx={};function Dx(){return Ox||(Ox=1,e=Tx,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.uniqBy=function(e,t){const n=new Map;for(let r=0;r<e.length;r++){const i=e[r],a=t(i);n.has(a)||n.set(a,i)}return Array.from(n.values())}),Tx;var e}var Rx,Ix={};function Lx(){return Rx||(Rx=1,e=Ix,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.identity=function(e){return e}),Ix;var e}var zx,Fx,Bx={},Wx={},$x={};function Vx(){return zx||(zx=1,e=$x,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}),$x;var e}function Kx(){return Fx||(Fx=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vx();e.isArrayLike=function(e){return null!=e&&"function"!=typeof e&&t.isLength(e.length)}}(Wx)),Wx}var Hx,Ux,Yx={};function qx(){return Hx||(Hx=1,e=Yx,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isObjectLike=function(e){return"object"==typeof e&&null!==e}),Yx;var e}function Gx(){return Ux||(Ux=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kx(),n=qx();e.isArrayLikeObject=function(e){return n.isObjectLike(e)&&t.isArrayLike(e)}}(Bx)),Bx}var Xx,Qx={},Zx={};function Jx(){return Xx||(Xx=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=im();e.property=function(e){return function(n){return t.get(n,e)}}}(Zx)),Zx}var ey,ty={},ny={},ry={},iy={};function ay(){return ey||(ey=1,e=iy,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isObject=function(e){return null!==e&&("object"==typeof e||"function"==typeof e)}),iy;var e}var sy,oy={};function ly(){return sy||(sy=1,e=oy,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isPrimitive=function(e){return null==e||"object"!=typeof e&&"function"!=typeof e}),oy;var e}var cy,uy,dy,hy={};function fy(){return cy||(cy=1,e=hy,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}),hy;var e}function my(){return uy||(uy=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=py(),n=ay(),r=ly(),i=fy();function a(e,t,l,c){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,n,i){if(null==t)return!0;if(Array.isArray(t))return s(e,t,n,i);if(t instanceof Map)return function(e,t,n,r){if(0===t.size)return!0;if(!(e instanceof Map))return!1;for(const[i,a]of t.entries())if(!1===n(e.get(i),a,i,e,t,r))return!1;return!0}(e,t,n,i);if(t instanceof Set)return o(e,t,n,i);const a=Object.keys(t);if(null==e)return 0===a.length;if(0===a.length)return!0;if(i&&i.has(t))return i.get(t)===e;i&&i.set(t,e);try{for(let s=0;s<a.length;s++){const o=a[s];if(!r.isPrimitive(e)&&!(o in e))return!1;if(void 0===t[o]&&void 0!==e[o])return!1;if(null===t[o]&&null!==e[o])return!1;if(!n(e[o],t[o],o,e,t,i))return!1}return!0}finally{i&&i.delete(t)}}(e,t,l,c);case"function":return Object.keys(t).length>0?a(e,h({},t),l,c):i.eq(e,t);default:return n.isObject(e)?"string"!=typeof t||""===t:i.eq(e,t)}}function s(e,t,n,r){if(0===t.length)return!0;if(!Array.isArray(e))return!1;const i=new Set;for(let a=0;a<t.length;a++){const s=t[a];let o=!1;for(let l=0;l<e.length;l++){if(i.has(l))continue;let c=!1;if(n(e[l],s,a,e,t,r)&&(c=!0),c){i.add(l),o=!0;break}}if(!o)return!1}return!0}function o(e,t,n,r){return 0===t.size||e instanceof Set&&s([...e],[...t],n,r)}e.isMatchWith=function(e,n,r){return"function"!=typeof r?t.isMatch(e,n):a(e,n,function e(t,n,i,s,o,l){const c=r(t,n,i,s,o,l);return void 0!==c?Boolean(c):a(t,n,e,l)},new Map)},e.isSetMatch=o}(ry)),ry}function py(){return dy||(dy=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=my();e.isMatch=function(e,n){return t.isMatchWith(e,n,()=>{})}}(ny)),ny}var gy,xy={},yy={},vy={};function by(){return gy||(gy=1,e=vy,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}),vy;var e}var _y,wy={};function jy(){return _y||(_y=1,e=wy,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}),wy;var e}var Ny,ky={};function Sy(){return Ny||(Ny=1,e=ky,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.argumentsTag="[object Arguments]",e.arrayBufferTag="[object ArrayBuffer]",e.arrayTag="[object Array]",e.bigInt64ArrayTag="[object BigInt64Array]",e.bigUint64ArrayTag="[object BigUint64Array]",e.booleanTag="[object Boolean]",e.dataViewTag="[object DataView]",e.dateTag="[object Date]",e.errorTag="[object Error]",e.float32ArrayTag="[object Float32Array]",e.float64ArrayTag="[object Float64Array]",e.functionTag="[object Function]",e.int16ArrayTag="[object Int16Array]",e.int32ArrayTag="[object Int32Array]",e.int8ArrayTag="[object Int8Array]",e.mapTag="[object Map]",e.numberTag="[object Number]",e.objectTag="[object Object]",e.regexpTag="[object RegExp]",e.setTag="[object Set]",e.stringTag="[object String]",e.symbolTag="[object Symbol]",e.uint16ArrayTag="[object Uint16Array]",e.uint32ArrayTag="[object Uint32Array]",e.uint8ArrayTag="[object Uint8Array]",e.uint8ClampedArrayTag="[object Uint8ClampedArray]"),ky;var e}var Cy,Ey,Py,My,Oy={};function Ay(){return Cy||(Cy=1,e=Oy,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}),Oy;var e}function Ty(){return Ey||(Ey=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=by(),n=jy(),r=Sy(),i=ly(),a=Ay();function s(e,t,l,c=new Map,u=void 0){const d=null==u?void 0:u(e,t,l,c);if(null!=d)return d;if(i.isPrimitive(e))return e;if(c.has(e))return c.get(e);if(Array.isArray(e)){const t=new Array(e.length);c.set(e,t);for(let n=0;n<e.length;n++)t[n]=s(e[n],n,l,c,u);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;c.set(e,t);for(const[n,r]of e)t.set(n,s(r,n,l,c,u));return t}if(e instanceof Set){const t=new Set;c.set(e,t);for(const n of e)t.add(s(n,void 0,l,c,u));return t}if("undefined"!=typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(a.isTypedArray(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);c.set(e,t);for(let n=0;n<e.length;n++)t[n]=s(e[n],n,l,c,u);return t}if(e instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return c.set(e,t),o(t,e,l,c,u),t}if("undefined"!=typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return c.set(e,t),o(t,e,l,c,u),t}if(e instanceof Blob){const t=new Blob([e],{type:e.type});return c.set(e,t),o(t,e,l,c,u),t}if(e instanceof Error){const t=new e.constructor;return c.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,o(t,e,l,c,u),t}if("object"==typeof e&&function(e){switch(n.getTag(e)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return c.set(e,t),o(t,e,l,c,u),t}return e}function o(e,n,r=e,i,a){const o=[...Object.keys(n),...t.getSymbols(n)];for(let t=0;t<o.length;t++){const l=o[t],c=Object.getOwnPropertyDescriptor(e,l);(null==c||c.writable)&&(e[l]=s(n[l],l,r,i,a))}}e.cloneDeepWith=function(e,t){return s(e,void 0,e,new Map,t)},e.cloneDeepWithImpl=s,e.copyProperties=o}(yy)),yy}function Dy(){return Py||(Py=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ty();e.cloneDeep=function(e){return t.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}}(xy)),xy}function Ry(){return My||(My=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=py(),n=Dy();e.matches=function(e){return e=n.cloneDeep(e),n=>t.isMatch(n,e)}}(ty)),ty}var Iy,Ly,zy={},Fy={},By={};function Wy(){return Iy||(Iy=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ty(),n=Sy();e.cloneDeepWith=function(e,r){return t.cloneDeepWith(e,(i,a,s,o)=>{const l=null==r?void 0:r(i,a,s,o);if(null!=l)return l;if("object"==typeof e)switch(Object.prototype.toString.call(e)){case n.numberTag:case n.stringTag:case n.booleanTag:{const n=new e.constructor(null==e?void 0:e.valueOf());return t.copyProperties(n,e),n}case n.argumentsTag:{const n={};return t.copyProperties(n,e),n.length=e.length,n[Symbol.iterator]=e[Symbol.iterator],n}default:return}})}}(By)),By}function $y(){return Ly||(Ly=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wy();e.cloneDeep=function(e){return t.cloneDeepWith(e)}}(Fy)),Fy}var Vy,Ky={},Hy={};function Uy(){return Vy||(Vy=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;e.isIndex=function(e,n=Number.MAX_SAFE_INTEGER){switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<n;case"symbol":return!1;case"string":return t.test(e)}}}(Hy)),Hy}var Yy,qy,Gy,Xy,Qy,Zy,Jy,ev={};function tv(){return Yy||(Yy=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jy();e.isArguments=function(e){return null!==e&&"object"==typeof e&&"[object Arguments]"===t.getTag(e)}}(ev)),ev}function nv(){return qy||(qy=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qf(),n=Uy(),r=tv(),i=rm();e.has=function(e,a){let s;if(s=Array.isArray(a)?a:"string"==typeof a&&t.isDeepKey(a)&&null==(null==e?void 0:e[a])?i.toPath(a):[a],0===s.length)return!1;let o=e;for(let t=0;t<s.length;t++){const e=s[t];if(!(null!=o&&Object.hasOwn(o,e)||(Array.isArray(o)||r.isArguments(o))&&n.isIndex(e)&&e<o.length))return!1;o=o[e]}return!0}}(Ky)),Ky}function rv(){return Gy||(Gy=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=py(),n=Qf(),r=$y(),i=im(),a=nv();e.matchesProperty=function(e,s){switch(typeof e){case"object":Object.is(null==e?void 0:e.valueOf(),-0)&&(e="-0");break;case"number":e=n.toKey(e)}return s=r.cloneDeep(s),function(n){const r=i.get(n,e);return void 0===r?a.has(n,e):void 0===s?void 0===r:t.isMatch(r,s)}}}(zy)),zy}function iv(){return Xy||(Xy=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lx(),n=Jx(),r=Ry(),i=rv();e.iteratee=function(e){if(null==e)return t.identity;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&2===e.length?i.matchesProperty(e[0],e[1]):r.matches(e);case"string":case"symbol":case"number":return n.property(e)}}}(Qx)),Qx}function av(){return Jy?Zy:(Jy=1,Zy=(Qy||(Qy=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dx(),n=Lx(),r=Gx(),i=iv();e.uniqBy=function(e,a=n.identity){return r.isArrayLikeObject(e)?t.uniqBy(Array.from(e),i.iteratee(a)):[]}}(Ax)),Ax).uniqBy)}const sv=i(av());function ov(e,t,n){return!0===t?sv(e,n):"function"==typeof t?sv(e,t):e}var lv,cv,uv,dv,hv={exports:{}},fv={},mv={exports:{}},pv={};function gv(){return cv||(cv=1,mv.exports=function(){if(lv)return pv;lv=1;var e=j(),t="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=e.useState,r=e.useEffect,i=e.useLayoutEffect,a=e.useDebugValue;function s(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!t(e,r)}catch(i){return!0}}var o="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var o=t(),l=n({inst:{value:o,getSnapshot:t}}),c=l[0].inst,u=l[1];return i(function(){c.value=o,c.getSnapshot=t,s(c)&&u({inst:c})},[e,o,t]),r(function(){return s(c)&&u({inst:c}),e(function(){s(c)&&u({inst:c})})},[e]),a(o),o};return pv.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:o,pv}()),mv.exports}
/**
     * @license React
     * use-sync-external-store-shim/with-selector.production.js
     *
     * Copyright (c) Meta Platforms, Inc. and affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */var xv=(dv||(dv=1,hv.exports=function(){if(uv)return fv;uv=1;var e=j(),t=gv(),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=t.useSyncExternalStore,i=e.useRef,a=e.useEffect,s=e.useMemo,o=e.useDebugValue;return fv.useSyncExternalStoreWithSelector=function(e,t,l,c,u){var d=i(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=s(function(){function e(e){if(!a){if(a=!0,r=e,e=c(e),void 0!==u&&h.hasValue){var t=h.value;if(u(t,e))return i=t}return i=e}if(t=i,n(r,e))return t;var s=c(e);return void 0!==u&&u(t,s)?(r=e,t):(r=e,i=s)}var r,i,a=!1,s=void 0===l?null:l;return[function(){return e(t())},null===s?void 0:function(){return e(s())}]},[t,l,c,u]);var f=r(e,d[0],d[1]);return a(function(){h.hasValue=!0,h.value=f},[f]),o(f),f},fv}()),hv.exports),yv=N.createContext(null),vv=e=>e,bv=()=>{var e=N.useContext(yv);return e?e.store.dispatch:vv},_v=()=>{},wv=()=>_v,jv=(e,t)=>e===t;function Nv(e){var t=N.useContext(yv);return xv.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:wv,t?t.store.getState:_v,t?t.store.getState:_v,t?e:_v,jv)}var kv=e=>Array.isArray(e)?e:[e];function Sv(e){const t=Array.isArray(e[0])?e[0]:e;return function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(e=>"function"==typeof e)){const n=e.map(e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e).join(", ");throw new TypeError(`${t}[${n}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}var Cv="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function Ev(){return{s:0,v:void 0,o:null,p:null}}function Pv(e,t={}){let n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:r}=t;let i,a=0;function s(){var t,s;let o=n;const{length:l}=arguments;for(let e=0,n=l;e<n;e++){const t=arguments[e];if("function"==typeof t||"object"==typeof t&&null!==t){let e=o.o;null===e&&(o.o=e=new WeakMap);const n=e.get(t);void 0===n?(o=Ev(),e.set(t,o)):o=n}else{let e=o.p;null===e&&(o.p=e=new Map);const n=e.get(t);void 0===n?(o=Ev(),e.set(t,o)):o=n}}const c=o;let u;if(1===o.s)u=o.v;else if(u=e.apply(null,arguments),a++,r){const e=null!=(s=null==(t=null==i?void 0:i.deref)?void 0:t.call(i))?s:i;null!=e&&r(e,u)&&(u=e,0!==a&&a--),i="object"==typeof u&&null!==u||"function"==typeof u?new Cv(u):u}return c.s=1,c.v=u,u}return s.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function Mv(e,...t){const n="function"==typeof e?{memoize:e,memoizeOptions:t}:e,r=(...e)=>{let t,r=0,i=0,a={},s=e.pop();"object"==typeof s&&(a=s,s=e.pop()),function(e,t="expected a function, instead received "+typeof e){if("function"!=typeof e)throw new TypeError(t)}(s,`createSelector expects an output function after the inputs, but received: [${typeof s}]`);const o=h(h({},n),a),{memoize:l,memoizeOptions:c=[],argsMemoize:u=Pv,argsMemoizeOptions:d=[]}=o,f=kv(c),m=kv(d),p=Sv(e),g=l(function(){return r++,s.apply(null,arguments)},...f),x=u(function(){i++;const e=function(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}(p,arguments);return t=g.apply(null,e),t},...m);return Object.assign(x,{resultFunc:s,memoizedResultFunc:g,dependencies:p,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>t,recomputations:()=>r,resetRecomputations:()=>{r=0},memoize:l,argsMemoize:u})};return Object.assign(r,{withTypes:()=>r}),r}var Ov,Av=Mv(Pv),Tv=Object.assign((e,t=Av)=>{!function(e,t="expected an object, instead received "+typeof e){if("object"!=typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const n=Object.keys(e);return t(n.map(t=>e[t]),(...e)=>e.reduce((e,t,r)=>(e[n[r]]=t,e),{}))},{withTypes:()=>Tv}),Dv={},Rv={},Iv={};function Lv(){return Ov||(Ov=1,function(e){function t(e){return"symbol"==typeof e?1:null===e?2:void 0===e?3:e!=e?4:0}Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.compareValues=(e,n,r)=>{if(e!==n){const i=t(e),a=t(n);if(i===a&&0===i){if(e<n)return"desc"===r?1:-1;if(e>n)return"desc"===r?-1:1}return"desc"===r?a-i:i-a}return 0}}(Iv)),Iv}var zv,Fv,Bv,Wv={},$v={};function Vv(){return zv||(zv=1,e=$v,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isSymbol=function(e){return"symbol"==typeof e||e instanceof Symbol}),$v;var e}function Kv(){return Fv||(Fv=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vv(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;e.isKey=function(e,i){return!Array.isArray(e)&&(!("number"!=typeof e&&"boolean"!=typeof e&&null!=e&&!t.isSymbol(e))||"string"==typeof e&&(r.test(e)||!n.test(e))||null!=i&&Object.hasOwn(i,e))}}(Wv)),Wv}function Hv(){return Bv||(Bv=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lv(),n=Kv(),r=rm();e.orderBy=function(e,i,a,s){if(null==e)return[];a=s?void 0:a,Array.isArray(e)||(e=Object.values(e)),Array.isArray(i)||(i=null==i?[null]:[i]),0===i.length&&(i=[null]),Array.isArray(a)||(a=null==a?[]:[a]),a=a.map(e=>String(e));const o=(e,t)=>{let n=e;for(let r=0;r<t.length&&null!=n;++r)n=n[t[r]];return n},l=i.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"==typeof e||Array.isArray(e)||n.isKey(e)?e:{key:e,path:r.toPath(e)}));return e.map(e=>({original:e,criteria:l.map(t=>((e,t)=>null==t||null==e?t:"object"==typeof e&&"key"in e?Object.hasOwn(t,e.key)?t[e.key]:o(t,e.path):"function"==typeof e?e(t):Array.isArray(e)?o(t,e):"object"==typeof t?t[e]:t)(t,e))})).slice().sort((e,n)=>{for(let r=0;r<l.length;r++){const i=t.compareValues(e.criteria[r],n.criteria[r],a[r]);if(0!==i)return i}return 0}).map(e=>e.original)}}(Rv)),Rv}var Uv,Yv={};function qv(){return Uv||(Uv=1,e=Yv,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.flatten=function(e,t=1){const n=[],r=Math.floor(t),i=(e,t)=>{for(let a=0;a<e.length;a++){const s=e[a];Array.isArray(s)&&t<r?i(s,t+1):n.push(s)}};return i(e,0),n}),Yv;var e}var Gv,Xv,Qv,Zv,Jv={};function eb(){return Gv||(Gv=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uy(),n=Kx(),r=ay(),i=fy();e.isIterateeCall=function(e,a,s){return!!r.isObject(s)&&!!("number"==typeof a&&n.isArrayLike(s)&&t.isIndex(a)&&a<s.length||"string"==typeof a&&a in s)&&i.eq(s[a],e)}}(Jv)),Jv}function tb(){return Zv?Qv:(Zv=1,Qv=(Xv||(Xv=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hv(),n=qv(),r=eb();e.sortBy=function(e,...i){const a=i.length;return a>1&&r.isIterateeCall(e,i[0],i[1])?i=[]:a>2&&r.isIterateeCall(i[0],i[1],i[2])&&(i=[i[0]]),t.orderBy(e,n.flatten(i),["asc"])}}(Dv)),Dv).sortBy)}const nb=i(tb());var rb=e=>e.legend.settings,ib=Av([e=>e.legend.payload,rb],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?nb(r,n):r});function ab(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[t,n]=N.useState({height:0,left:0,top:0,width:0}),r=N.useCallback(e=>{if(null!=e){var r=e.getBoundingClientRect(),i={height:r.height,left:r.left,top:r.top,width:r.width};(Math.abs(i.height-t.height)>1||Math.abs(i.left-t.left)>1||Math.abs(i.top-t.top)>1||Math.abs(i.width-t.width)>1)&&n({height:i.height,left:i.left,top:i.top,width:i.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function sb(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var ob=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),lb=()=>Math.random().toString(36).substring(7).split("").join("."),cb={INIT:`@@redux/INIT${lb()}`,REPLACE:`@@redux/REPLACE${lb()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${lb()}`};function ub(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function db(e,t,n){if("function"!=typeof e)throw new Error(sb(2));if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(sb(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(sb(1));return n(db)(e,t)}let r=e,i=t,a=new Map,s=a,o=0,l=!1;function c(){s===a&&(s=new Map,a.forEach((e,t)=>{s.set(t,e)}))}function u(){if(l)throw new Error(sb(3));return i}function d(e){if("function"!=typeof e)throw new Error(sb(4));if(l)throw new Error(sb(5));let t=!0;c();const n=o++;return s.set(n,e),function(){if(t){if(l)throw new Error(sb(6));t=!1,c(),s.delete(n),a=null}}}function h(e){if(!ub(e))throw new Error(sb(7));if(void 0===e.type)throw new Error(sb(8));if("string"!=typeof e.type)throw new Error(sb(17));if(l)throw new Error(sb(9));try{l=!0,i=r(i,e)}finally{l=!1}return(a=s).forEach(e=>{e()}),e}return h({type:cb.INIT}),{dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw new Error(sb(10));r=e,h({type:cb.REPLACE})},[ob]:function(){const e=d;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(sb(11));function n(){const e=t;e.next&&e.next(u())}return n(),{unsubscribe:e(n)}},[ob](){return this}}}}}function hb(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const r=t[s];"function"==typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let i;try{!function(e){Object.keys(e).forEach(t=>{const n=e[t];if(void 0===n(void 0,{type:cb.INIT}))throw new Error(sb(12));if(void 0===n(void 0,{type:cb.PROBE_UNKNOWN_ACTION()}))throw new Error(sb(13))})}(n)}catch(a){i=a}return function(e={},t){if(i)throw i;let a=!1;const s={};for(let i=0;i<r.length;i++){const o=r[i],l=n[o],c=e[o],u=l(c,t);if(void 0===u)throw t&&t.type,new Error(sb(14));s[o]=u,a=a||u!==c}return a=a||r.length!==Object.keys(e).length,a?s:e}}function fb(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,t)=>(...n)=>e(t(...n)))}function mb(e){return ub(e)&&"type"in e&&"string"==typeof e.type}var pb=Symbol.for("immer-nothing"),gb=Symbol.for("immer-draftable"),xb=Symbol.for("immer-state");function yb(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var vb=Object.getPrototypeOf;function bb(e){return!!e&&!!e[xb]}function _b(e){var t;return!!e&&(jb(e)||Array.isArray(e)||!!e[gb]||!!(null==(t=e.constructor)?void 0:t[gb])||Eb(e)||Pb(e))}var wb=Object.prototype.constructor.toString();function jb(e){if(!e||"object"!=typeof e)return!1;const t=vb(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===wb}function Nb(e,t){0===kb(e)?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function kb(e){const t=e[xb];return t?t.type_:Array.isArray(e)?1:Eb(e)?2:Pb(e)?3:0}function Sb(e,t){return 2===kb(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Cb(e,t,n){const r=kb(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Eb(e){return e instanceof Map}function Pb(e){return e instanceof Set}function Mb(e){return e.copy_||e.base_}function Ob(e,t){if(Eb(e))return new Map(e);if(Pb(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=jb(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[xb];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(vb(e),t)}{const t=vb(e);if(null!==t&&n)return h({},e);const r=Object.create(t);return Object.assign(r,e)}}function Ab(e,t=!1){return Db(e)||bb(e)||!_b(e)||(kb(e)>1&&(e.set=e.add=e.clear=e.delete=Tb),Object.freeze(e),t&&Object.entries(e).forEach(([e,t])=>Ab(t,!0))),e}function Tb(){yb(2)}function Db(e){return Object.isFrozen(e)}var Rb,Ib={};function Lb(e){const t=Ib[e];return t||yb(0),t}function zb(){return Rb}function Fb(e,t){t&&(Lb("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Bb(e){Wb(e),e.drafts_.forEach(Vb),e.drafts_=null}function Wb(e){e===Rb&&(Rb=e.parent_)}function $b(e){return Rb={drafts_:[],parent_:Rb,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Vb(e){const t=e[xb];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Kb(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[xb].modified_&&(Bb(t),yb(4)),_b(e)&&(e=Hb(t,e),t.parent_||Yb(t,e)),t.patches_&&Lb("Patches").generateReplacementPatches_(n[xb].base_,e,t.patches_,t.inversePatches_)):e=Hb(t,n,[]),Bb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==pb?e:void 0}function Hb(e,t,n){if(Db(t))return t;const r=t[xb];if(!r)return Nb(t,(i,a)=>Ub(e,r,t,i,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Yb(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,a=!1;3===r.type_&&(i=new Set(t),t.clear(),a=!0),Nb(i,(i,s)=>Ub(e,r,t,i,s,n,a)),Yb(e,t,!1),n&&e.patches_&&Lb("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Ub(e,t,n,r,i,a,s){if(bb(i)){const s=Hb(e,i,a&&t&&3!==t.type_&&!Sb(t.assigned_,r)?a.concat(r):void 0);if(Cb(n,r,s),!bb(s))return;e.canAutoFreeze_=!1}else s&&n.add(i);if(_b(i)&&!Db(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Hb(e,i),t&&t.scope_.parent_||"symbol"==typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||Yb(e,i)}}function Yb(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Ab(t,n)}var qb={get(e,t){if(t===xb)return e;const n=Mb(e);if(!Sb(n,t))return function(e,t,n){var r;const i=Qb(t,n);return i?"value"in i?i.value:null==(r=i.get)?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!_b(r)?r:r===Xb(e.base_,t)?(Jb(e),e.copy_[t]=e_(r,e)):r},has:(e,t)=>t in Mb(e),ownKeys:e=>Reflect.ownKeys(Mb(e)),set(e,t,n){const r=Qb(Mb(e),t);if(null==r?void 0:r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=Xb(Mb(e),t),s=null==r?void 0:r[xb];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((i=n)===(a=r)?0!==i||1/i==1/a:i!=i&&a!=a)&&(void 0!==n||Sb(e.base_,t)))return!0;Jb(e),Zb(e)}var i,a;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Xb(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Jb(e),Zb(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=Mb(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){yb(11)},getPrototypeOf:e=>vb(e.base_),setPrototypeOf(){yb(12)}},Gb={};function Xb(e,t){const n=e[xb];return(n?Mb(n):e)[t]}function Qb(e,t){if(!(t in e))return;let n=vb(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=vb(n)}}function Zb(e){e.modified_||(e.modified_=!0,e.parent_&&Zb(e.parent_))}function Jb(e){e.copy_||(e.copy_=Ob(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function e_(e,t){const n=Eb(e)?Lb("MapSet").proxyMap_(e,t):Pb(e)?Lb("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:zb(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=qb;n&&(i=[r],a=Gb);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}(e,t);return(t?t.scope_:zb()).drafts_.push(n),n}function t_(e){return bb(e)||yb(10),n_(e)}function n_(e){if(!_b(e)||Db(e))return e;const t=e[xb];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Ob(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Ob(e,!0);return Nb(n,(e,t)=>{Cb(n,e,n_(t))}),t&&(t.finalized_=!1),n}Nb(qb,(e,t)=>{Gb[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Gb.deleteProperty=function(e,t){return Gb.set.call(this,e,t,void 0)},Gb.set=function(e,t,n){return qb.set.call(this,e[0],t,n,e[0])};var r_=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"==typeof e&&"function"!=typeof t){const n=t;t=e;const r=this;return function(e=n,...i){return r.produce(e,e=>t.call(this,e,...i))}}let r;if("function"!=typeof t&&yb(6),void 0!==n&&"function"!=typeof n&&yb(7),_b(e)){const i=$b(this),a=e_(e,void 0);let s=!0;try{r=t(a),s=!1}finally{s?Bb(i):Wb(i)}return Fb(i,n),Kb(r,i)}if(!e||"object"!=typeof e){if(r=t(e),void 0===r&&(r=e),r===pb&&(r=void 0),this.autoFreeze_&&Ab(r,!0),n){const t=[],i=[];Lb("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}yb(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...n)=>this.produceWithPatches(t,t=>e(t,...n));let n,r;return[this.produce(e,t,(e,t)=>{n=e,r=t}),n,r]},"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof(null==e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){_b(e)||yb(8),bb(e)&&(e=t_(e));const t=$b(this),n=e_(e,void 0);return n[xb].isManual_=!0,Wb(t),n}finishDraft(e,t){const n=e&&e[xb];n&&n.isManual_||yb(9);const{scope_:r}=n;return Fb(r,t),Kb(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=Lb("Patches").applyPatches_;return bb(e)?r(e,t):this.produce(e,e=>r(e,t))}},i_=r_.produce;function a_(e){return({dispatch:t,getState:n})=>r=>i=>"function"==typeof i?i(t,n,e):r(i)}r_.produceWithPatches.bind(r_),r_.setAutoFreeze.bind(r_),r_.setUseStrictShallowCopy.bind(r_),r_.applyPatches.bind(r_),r_.createDraft.bind(r_),r_.finishDraft.bind(r_);var s_=a_(),o_=a_,l_="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?fb:fb.apply(null,arguments)};function c_(e,t){function n(...n){if(t){let r=t(...n);if(!r)throw new Error(nw(0));return h(h({type:e,payload:r.payload},"meta"in r&&{meta:r.meta}),"error"in r&&{error:r.error})}return{type:e,payload:n[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=t=>mb(t)&&t.type===e,n}var u_=class e extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...e){return super.concat.apply(this,e)}prepend(...t){return 1===t.length&&Array.isArray(t[0])?new e(...t[0].concat(this)):new e(...t.concat(this))}};function d_(e){return _b(e)?i_(e,()=>{}):e}function h_(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var f_=e=>t=>{setTimeout(t,e)},m_=e=>function(t){const{autoBatch:n=!0}=null!=t?t:{};let r=new u_(e);return n&&r.push(((e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,s=!1;const o=new Set,l="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:f_(10):"callback"===e.type?e.queueNotification:f_(e.timeout),c=()=>{s=!1,a&&(a=!1,o.forEach(e=>e()))};return Object.assign({},r,{subscribe(e){const t=r.subscribe(()=>i&&e());return o.add(e),()=>{t(),o.delete(e)}},dispatch(e){var t;try{return i=!(null==(t=null==e?void 0:e.meta)?void 0:t.RTK_autoBatch),a=!i,a&&(s||(s=!0,l(c))),r.dispatch(e)}finally{i=!0}}})})("object"==typeof n?n:void 0)),r};function p_(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=null!=e?e:{};let a=new u_;return t&&("boolean"==typeof t?a.push(s_):a.push(o_(t.extraArgument))),a},{reducer:n,middleware:r,devTools:i=!0,preloadedState:a,enhancers:s}=e||{};let o,l;if("function"==typeof n)o=n;else{if(!ub(n))throw new Error(nw(1));o=hb(n)}l="function"==typeof r?r(t):t();let c=fb;i&&(c=l_(h({trace:!1},"object"==typeof i&&i)));const u=function(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(sb(15))};const s={getState:i.getState,dispatch:(e,...t)=>a(e,...t)},o=e.map(e=>e(s));return a=fb(...o)(i.dispatch),f(h({},i),{dispatch:a})}}(...l),d=m_(u);return db(o,a,c(..."function"==typeof s?s(d):d()))}function g_(e){const t={},n=[];let r;const i={addCase(e,n){const r="string"==typeof e?e:e.type;if(!r)throw new Error(nw(28));if(r in t)throw new Error(nw(29));return t[r]=n,i},addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(r=e,i)};return e(i),[t,n,r]}var x_=(e=21)=>{let t="",n=e;for(;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},y_=Symbol.for("rtk-slice-createasyncthunk");function v_(e,t){return`${e}/${t}`}function b_({creators:e}={}){var t;const n=null==(t=null==e?void 0:e.asyncThunk)?void 0:t[y_];return function(e){const{name:t,reducerPath:r=t}=e;if(!t)throw new Error(nw(11));const i=("function"==typeof e.reducers?e.reducers(function(){function e(e,t){return h({_reducerDefinitionType:"asyncThunk",payloadCreator:e},t)}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name]:(...t)=>e(...t)}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},a=Object.keys(i),s={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},o={addCase(e,t){const n="string"==typeof e?e:e.type;if(!n)throw new Error(nw(12));if(n in s.sliceCaseReducersByType)throw new Error(nw(13));return s.sliceCaseReducersByType[n]=t,o},addMatcher:(e,t)=>(s.sliceMatchers.push({matcher:e,reducer:t}),o),exposeAction:(e,t)=>(s.actionCreators[e]=t,o),exposeCaseReducer:(e,t)=>(s.sliceCaseReducersByName[e]=t,o)};function l(){const[t={},n=[],r]="function"==typeof e.extraReducers?g_(e.extraReducers):[e.extraReducers],i=h(h({},t),s.sliceCaseReducersByType);return function(e,t){let n,[r,i,a]=g_(t);if("function"==typeof e)n=()=>d_(e());else{const t=d_(e);n=()=>t}function s(e=n(),t){let s=[r[t.type],...i.filter(({matcher:e})=>e(t)).map(({reducer:e})=>e)];return 0===s.filter(e=>!!e).length&&(s=[a]),s.reduce((e,n)=>{if(n){if(bb(e)){const r=n(e,t);return void 0===r?e:r}if(_b(e))return i_(e,e=>n(e,t));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e},e)}return s.getInitialState=n,s}(e.initialState,e=>{for(let t in i)e.addCase(t,i[t]);for(let t of s.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)})}a.forEach(r=>{const a=i[r],s={reducerName:r,type:v_(t,r),createNotation:"function"==typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(a)?function({type:e,reducerName:t,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(r))throw new Error(nw(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?c_(e,s):c_(e))}(s,a,o):function({type:e,reducerName:t},n,r,i){if(!i)throw new Error(nw(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:c,options:u}=n,d=i(e,a,u);r.exposeAction(t,d),s&&r.addCase(d.fulfilled,s),o&&r.addCase(d.pending,o),l&&r.addCase(d.rejected,l),c&&r.addMatcher(d.settled,c),r.exposeCaseReducer(t,{fulfilled:s||j_,pending:o||j_,rejected:l||j_,settled:c||j_})}(s,a,o,n)});const c=e=>e,u=new Map,d=new WeakMap;let p;function g(e,t){return p||(p=l()),p(e,t)}function x(){return p||(p=l()),p.getInitialState()}function y(t,n=!1){function r(e){let i=e[t];return void 0===i&&n&&(i=h_(d,r,x)),i}function i(t=c){const r=h_(u,n,()=>new WeakMap);return h_(r,t,()=>{var r;const i={};for(const[a,s]of Object.entries(null!=(r=e.selectors)?r:{}))i[a]=__(s,t,()=>h_(d,t,x),n);return i})}return{reducerPath:t,getSelectors:i,get selectors(){return i(r)},selectSlice:r}}const v=f(h({name:t,reducer:g,actions:s.actionCreators,caseReducers:s.sliceCaseReducersByName,getInitialState:x},y(r)),{injectInto(e,t={}){var n=t,{reducerPath:i}=n,a=m(n,["reducerPath"]);const s=null!=i?i:r;return e.inject({reducerPath:s,reducer:g},a),h(h({},v),y(s,!0))}});return v}}function __(e,t,n,r){function i(i,...a){let s=t(i);return void 0===s&&r&&(s=n()),e(s,...a)}return i.unwrapped=e,i}var w_=b_();function j_(){}var N_="listener",k_="completed",S_="cancelled",C_=`task-${S_}`,E_=`task-${k_}`,P_=`${N_}-${S_}`,M_=`${N_}-${k_}`,O_=class{constructor(e){p(this,"name","TaskAbortError"),p(this,"message"),this.code=e,this.message=`task ${S_} (reason: ${e})`}},A_=(e,t)=>{if("function"!=typeof e)throw new TypeError(nw(32))},T_=()=>{},D_=(e,t=T_)=>(e.catch(t),e),R_=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),I_=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},L_=e=>{if(e.aborted){const{reason:t}=e;throw new O_(t)}};function z_(e,t){let n=T_;return new Promise((r,i)=>{const a=()=>i(new O_(e.reason));e.aborted?a():(n=R_(e,a),t.finally(()=>n()).then(r,i))}).finally(()=>{n=T_})}var F_=e=>t=>D_(z_(e,t).then(t=>(L_(e),t))),B_=e=>{const t=F_(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:W_}=Object,$_={},V_="listenerMiddleware",K_=(e,t)=>(n,r)=>{A_(n);const i=new AbortController;var a;a=i,R_(e,()=>I_(a,e.reason));const s=(o=()=>g(null,null,function*(){L_(e),L_(i.signal);const t=yield n({pause:F_(i.signal),delay:B_(i.signal),signal:i.signal});return L_(i.signal),t}),l=()=>I_(i,E_),g(null,null,function*(){try{return yield Promise.resolve(),{status:"ok",value:yield o()}}catch(e){return{status:e instanceof O_?"cancelled":"rejected",error:e}}finally{null==l||l()}}));var o,l;return(null==r?void 0:r.autoJoin)&&t.push(s.catch(T_)),{result:F_(e)(s),cancel(){I_(i,C_)}}},H_=(e,t)=>(n,r)=>D_(((n,r)=>g(null,null,function*(){L_(t);let i=()=>{};const a=[new Promise((t,r)=>{let a=e({predicate:n,effect:(e,n)=>{n.unsubscribe(),t([e,n.getState(),n.getOriginalState()])}});i=()=>{a(),r()}})];null!=r&&a.push(new Promise(e=>setTimeout(e,r,null)));try{const e=yield z_(t,Promise.race(a));return L_(t),e}finally{i()}}))(n,r)),U_=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=c_(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(nw(21));return A_(a),{predicate:i,type:t,effect:a}},Y_=W_(e=>{const{type:t,predicate:n,effect:r}=U_(e);return{id:x_(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(nw(22))}}},{withTypes:()=>Y_}),q_=(e,t)=>{const{type:n,effect:r,predicate:i}=U_(t);return Array.from(e.values()).find(e=>("string"==typeof n?e.type===n:e.predicate===i)&&e.effect===r)},G_=e=>{e.pending.forEach(e=>{I_(e,P_)})},X_=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},Q_=W_(c_(`${V_}/add`),{withTypes:()=>Q_}),Z_=c_(`${V_}/removeAll`),J_=W_(c_(`${V_}/remove`),{withTypes:()=>J_}),ew=(...e)=>{},tw=(e={})=>{const t=new Map,{extra:n,onError:r=ew}=e;A_(r);const i=e=>{var n;return(e=>(e.unsubscribe=()=>t.delete(e.id),t.set(e.id,e),t=>{e.unsubscribe(),(null==t?void 0:t.cancelActive)&&G_(e)}))(null!=(n=q_(t,e))?n:Y_(e))};W_(i,{withTypes:()=>i});const a=e=>{const n=q_(t,e);return n&&(n.unsubscribe(),e.cancelActive&&G_(n)),!!n};W_(a,{withTypes:()=>a});const s=(e,a,s,o)=>g(null,null,function*(){const l=new AbortController,c=H_(i,l.signal),u=[];try{e.pending.add(l),yield Promise.resolve(e.effect(a,W_({},s,{getOriginalState:o,condition:(e,t)=>c(e,t).then(Boolean),take:c,delay:B_(l.signal),pause:F_(l.signal),extra:n,signal:l.signal,fork:K_(l.signal,u),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,n)=>{e!==l&&(I_(e,P_),n.delete(e))})},cancel:()=>{I_(l,P_),e.pending.delete(l)},throwIfCancelled:()=>{L_(l.signal)}})))}catch(d){d instanceof O_||X_(r,d,{raisedBy:"effect"})}finally{yield Promise.all(u),I_(l,M_),e.pending.delete(l)}}),o=(e=>()=>{e.forEach(G_),e.clear()})(t);return{middleware:e=>n=>l=>{if(!mb(l))return n(l);if(Q_.match(l))return i(l.payload);if(Z_.match(l))return void o();if(J_.match(l))return a(l.payload);let c=e.getState();const u=()=>{if(c===$_)throw new Error(nw(23));return c};let d;try{if(d=n(l),t.size>0){const n=e.getState(),i=Array.from(t.values());for(const t of i){let i=!1;try{i=t.predicate(l,n,c)}catch(h){i=!1,X_(r,h,{raisedBy:"predicate"})}i&&s(t,l,e,u)}}}finally{c=$_}return d},startListening:i,stopListening:a,clearListeners:o}};function nw(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var rw=w_({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:iw,setLayout:aw,setChartSize:sw,setScale:ow}=rw.actions,lw=rw.reducer;function cw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function uw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cw(Object(n),!0).forEach(function(t){dw(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cw(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function dw(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hw=Math.PI/180,fw=e=>180*e/Math.PI,mw=(e,t,n,r)=>({x:e+Math.cos(-hw*r)*n,y:t+Math.sin(-hw*r)*n}),pw=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},gw=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,s=((e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt(u(n-i,2)+u(r-a,2))})({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(n-i)/s,l=Math.acos(o);return r>a&&(l=2*Math.PI-l),{radius:s,angle:fw(l),angleInRadian:l}},xw=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360);return e+360*Math.min(i,a)},yw=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:a}=gw({x:n,y:r},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o)return null;if(0===i)return null;var l,{startAngle:c,endAngle:u}=(e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-360*a,endAngle:n-360*a}})(t),d=a;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;l=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;l=d>=u&&d<=c}return l?uw(uw({},t),{},{radius:i,angle:xw(d,t)}):null};function vw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vw(Object(n),!0).forEach(function(t){_w(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vw(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _w(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ww(e,t,n){return Nm(e)||Nm(t)?n:gm(t)?sm(e,t,n):"function"==typeof t?t(e):n}var jw=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,Nw=(e,t,n,r)=>{if(r)return e.map(e=>e.coordinate);var i,a,s=e.map(e=>(e.coordinate===t&&(i=!0),e.coordinate===n&&(a=!0),e.coordinate));return i||s.push(t),a||s.push(n),s},kw=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:d,niceTicks:h,axisType:f}=e;if(!s)return null;var m="scaleBand"===o&&s.bandwidth?s.bandwidth()/2:2,p="category"===i&&s.bandwidth?s.bandwidth()/m:0;return p="angleAxis"===f&&a&&a.length>=2?2*hm(a[0]-a[1])*p:p,d||h?(d||h||[]).map((e,t)=>{var n=r?r.indexOf(e):e;return{coordinate:s(n)+p,value:e,offset:p,index:t}}).filter(e=>!fm(e.coordinate)):l&&c?c.map((e,t)=>({coordinate:s(e)+p,value:e,index:t,offset:p})):s.ticks&&null!=u?s.ticks(u).map((e,t)=>({coordinate:s(e)+p,value:e,offset:p,index:t})):s.domain().map((e,t)=>({coordinate:s(e)+p,value:r?r[e]:e,index:t,offset:p}))},Sw=1e-4,Cw={sign:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,s=0;s<t;++s){var o=fm(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=i,e[s][n][1]=i+o,i=e[s][n][1]):(e[s][n][0]=a,e[s][n][1]=a+o,a=e[s][n][1])}},expand:dx,none:sx,silhouette:hx,wiggle:fx,positive:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var s=fm(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}}},Ew=(e,t,n)=>{var r=Cw[n];return ux().keys(t).value((e,t)=>+ww(e,t,0)).order(ox).offset(r)(e)};function Pw(e){return null==e?void 0:String(e)}function Mw(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=e;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!Nm(i[t.dataKey])){var o=jm(n,"value",i[t.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=ww(i,Nm(s)?t.dataKey:s);return Nm(l)?null:t.scale(l)}var Ow=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:a,index:s}=e;if("category"===t.type)return n[s]?n[s].coordinate+r:null;var o=ww(a,t.dataKey,t.scale.domain()[s]);return Nm(o)?null:t.scale(o)-i/2+r},Aw=(e,t,n)=>{var r;if(null!=e)return[(r=Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:s}=a,o=s.reduce((e,r)=>{var i,a,s=(i=r.slice(t,n+1),a=i.flat(2).filter(pm),[Math.min(...a),Math.max(...a)]);return[Math.min(e[0],s[0]),Math.max(e[1],s[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))[0]===1/0?0:r[0],r[1]===-1/0?0:r[1]]},Tw=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Dw=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Rw=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=nb(t,e=>e.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],c=i[s-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function Iw(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return bw(bw({},t),{},{dataKey:n,payload:r,value:i,name:a})}function Lw(e,t){return e?String(e):"string"==typeof t?t:void 0}var zw=e=>e.layout.width,Fw=e=>e.layout.height,Bw=e=>e.layout.scale,Ww=e=>e.layout.margin,$w=Av(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Vw=Av(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Kw="data-recharts-item-index",Hw="data-recharts-item-data-key";function Uw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Yw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uw(Object(n),!0).forEach(function(t){qw(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uw(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function qw(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gw=Av([zw,Fw,Ww,e=>e.brush.height,$w,Vw,rb,e=>e.legend.size],(e,t,n,r,i,a,s,o)=>{var l=a.reduce((e,t)=>{var{orientation:n}=t;if(!t.mirror&&!t.hide){var r="number"==typeof t.width?t.width:60;return Yw(Yw({},e),{},{[n]:e[n]+r})}return e},{left:n.left||0,right:n.right||0}),c=i.reduce((e,t)=>{var{orientation:n}=t;return t.mirror||t.hide?e:Yw(Yw({},e),{},{[n]:sm(e,"".concat(n))+t.height})},{top:n.top||0,bottom:n.bottom||0}),u=Yw(Yw({},c),l),d=u.bottom;u.bottom+=r,u=((e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:o}=t;if(("vertical"===o||"horizontal"===o&&"middle"===s)&&"center"!==a&&pm(e[a]))return bw(bw({},e),{},{[a]:e[a]+(r||0)});if(("horizontal"===o||"vertical"===o&&"center"===a)&&"middle"!==s&&pm(e[s]))return bw(bw({},e),{},{[s]:e[s]+(i||0)})}return e})(u,s,o);var h=e-u.left-u.right,f=t-u.top-u.bottom;return Yw(Yw({brushBottom:d},u),{},{width:Math.max(h,0),height:Math.max(f,0)})}),Xw=Av(Gw,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Qw=Av(zw,Fw,(e,t)=>({x:0,y:0,width:e,height:t})),Zw=N.createContext(null),Jw=()=>null!=N.useContext(Zw),ej=e=>e.brush,tj=Av([ej,Gw,Ww],(e,t,n)=>({height:e.height,x:pm(e.x)?e.x:t.left,y:pm(e.y)?e.y:t.top+t.height+t.brushBottom-((null==n?void 0:n.bottom)||0),width:pm(e.width)?e.width:t.width})),nj=()=>{var e,t=Jw(),n=Nv(Xw),r=Nv(tj),i=null===(e=Nv(ej))||void 0===e?void 0:e.padding;return t&&r&&i?{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}:n},rj={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},ij=()=>{var e;return null!==(e=Nv(Gw))&&void 0!==e?e:rj},aj=()=>Nv(zw),sj=()=>Nv(Fw),oj={top:0,right:0,bottom:0,left:0},lj=e=>e.layout.layoutType,cj=()=>Nv(lj),uj=w_({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=t_(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:dj,setLegendSettings:hj,addLegendPayload:fj,removeLegendPayload:mj}=uj.actions,pj=uj.reducer,gj=["contextPayload"];function xj(){return xj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xj.apply(null,arguments)}function yj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function vj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yj(Object(n),!0).forEach(function(t){bj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function bj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _j(e){return e.value}function wj(e){var{contextPayload:t}=e,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,gj),r=ov(t,e.payloadUniqBy,_j),i=vj(vj({},n),{},{payload:r});return N.isValidElement(e.content)?N.cloneElement(e.content,i):"function"==typeof e.content?N.createElement(e.content,i):N.createElement(Mx,i)}function jj(e){var t=bv();return N.useEffect(()=>{t(hj(e))},[t,e]),null}function Nj(e){var t=bv();return N.useEffect(()=>(t(dj(e)),()=>{t(dj({width:0,height:0}))}),[t,e]),null}function kj(e){var t,n=Nv(ib),r=N.useContext(Hm),i=null!==(t=Nv(e=>e.layout.margin))&&void 0!==t?t:oj,{width:a,height:s,wrapperStyle:o,portal:l}=e,[c,u]=ab([n]),d=aj(),h=sj(),f=d-(i.left||0)-(i.right||0),m=Sj.getWidthOrHeight(e.layout,s,a,f),p=l?o:vj(vj({position:"absolute",width:(null==m?void 0:m.width)||a||"auto",height:(null==m?void 0:m.height)||s||"auto"},function(e,t,n,r,i,a){var s,o,{layout:l,align:c,verticalAlign:u}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(s="center"===c&&"vertical"===l?{left:((r||0)-a.width)/2}:"right"===c?{right:n&&n.right||0}:{left:n&&n.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(o="middle"===u?{top:((i||0)-a.height)/2}:"bottom"===u?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),vj(vj({},s),o)}(o,e,i,d,h,c)),o),g=null!=l?l:r;if(null==g)return null;var x=N.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:u},N.createElement(jj,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),N.createElement(Nj,{width:c.width,height:c.height}),N.createElement(wj,xj({},e,m,{margin:i,chartWidth:d,chartHeight:h,contextPayload:n})));return jn.createPortal(x,g)}class Sj extends N.PureComponent{static getWidthOrHeight(e,t,n,r){return"vertical"===e&&pm(t)?{height:t}:"horizontal"===e?{width:n||r}:null}render(){return N.createElement(kj,this.props)}}function Cj(){return Cj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cj.apply(null,arguments)}function Ej(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Pj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ej(Object(n),!0).forEach(function(t){Mj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ej(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Mj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oj(e){return Array.isArray(e)&&gm(e[0])&&gm(e[1])?e.join(" ~ "):e}bj(Sj,"displayName","Legend"),bj(Sj,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});var Aj=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:c,label:u,labelFormatter:d,accessibilityLayer:h=!1}=e,f=Pj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),m=Pj({margin:0},i),p=!Nm(u),g=p?u:"",x=st("recharts-default-tooltip",l),y=st("recharts-tooltip-label",c);p&&d&&null!=a&&(g=d(u,a));var v=h?{role:"status","aria-live":"assertive"}:{};return N.createElement("div",Cj({className:x,style:f},v),N.createElement("p",{className:y,style:m},N.isValidElement(g)?g:"".concat(g)),(()=>{if(a&&a.length){var e=(o?nb(a,o):a).map((e,n)=>{if("none"===e.type)return null;var i=e.formatter||s||Oj,{value:o,name:l}=e,c=o,u=l;if(i){var d=i(o,l,e,n,a);if(Array.isArray(d))[c,u]=d;else{if(null==d)return null;c=d}}var h=Pj({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},r);return N.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(n),style:h},gm(u)?N.createElement("span",{className:"recharts-tooltip-item-name"},u):null,gm(u)?N.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,N.createElement("span",{className:"recharts-tooltip-item-value"},c),N.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return N.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},Tj="recharts-tooltip-wrapper",Dj={visibility:"hidden"};function Rj(e){var{coordinate:t,translateX:n,translateY:r}=e;return st(Tj,{["".concat(Tj,"-right")]:pm(n)&&t&&pm(t.x)&&n>=t.x,["".concat(Tj,"-left")]:pm(n)&&t&&pm(t.x)&&n<t.x,["".concat(Tj,"-bottom")]:pm(r)&&t&&pm(t.y)&&r>=t.y,["".concat(Tj,"-top")]:pm(r)&&t&&pm(t.y)&&r<t.y})}function Ij(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(a&&pm(a[r]))return a[r];var u=n[r]-o-(i>0?i:0),d=n[r]+i;if(t[r])return s[r]?u:d;var h=l[r];return null==h?0:s[r]?u<h?Math.max(d,h):Math.max(u,h):null==c?0:d+o>h+c?Math.max(u,h):Math.max(d,h)}function Lj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lj(Object(n),!0).forEach(function(t){Fj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Fj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Bj extends N.PureComponent{constructor(){super(...arguments),Fj(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Fj(this,"handleKeyDown",e=>{var t,n,r,i;"Escape"===e.key&&this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(t=null===(n=this.props.coordinate)||void 0===n?void 0:n.x)&&void 0!==t?t:0,y:null!==(r=null===(i=this.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==r?r:0}})})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}render(){var{active:e,allowEscapeViewBox:t,animationDuration:n,animationEasing:r,children:i,coordinate:a,hasPayload:s,isAnimationActive:o,offset:l,position:c,reverseDirection:u,useTranslate3d:d,viewBox:h,wrapperStyle:f,lastBoundingBox:m,innerRef:p,hasPortalFromProps:g}=this.props,{cssClasses:x,cssProperties:y}=function(e){var t,n,r,{allowEscapeViewBox:i,coordinate:a,offsetTopLeft:s,position:o,reverseDirection:l,tooltipBox:c,useTranslate3d:u,viewBox:d}=e;return t=c.height>0&&c.width>0&&a?function(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:n=Ij({allowEscapeViewBox:i,coordinate:a,key:"x",offsetTopLeft:s,position:o,reverseDirection:l,tooltipDimension:c.width,viewBox:d,viewBoxDimension:d.width}),translateY:r=Ij({allowEscapeViewBox:i,coordinate:a,key:"y",offsetTopLeft:s,position:o,reverseDirection:l,tooltipDimension:c.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:u}):Dj,{cssProperties:t,cssClasses:Rj({translateX:n,translateY:r,coordinate:a})}}({allowEscapeViewBox:t,coordinate:a,offsetTopLeft:l,position:c,reverseDirection:u,tooltipBox:{height:m.height,width:m.width},useTranslate3d:d,viewBox:h}),v=g?{}:zj(zj({transition:o&&e?"transform ".concat(n,"ms ").concat(r):void 0},y),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&s?"visible":"hidden",position:"absolute",top:0,left:0}),b=zj(zj({},v),{},{visibility:!this.state.dismissed&&e&&s?"visible":"hidden"},f);return N.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:x,style:b,ref:p},i)}}var Wj=!("undefined"!=typeof window&&window.document&&Boolean(window.document.createElement)&&window.setTimeout),$j=()=>Nv(e=>e.rootProps.accessibilityLayer);function Vj(e){return Number.isFinite(e)}function Kj(e){return"number"==typeof e&&e>0&&Number.isFinite(e)}function Hj(){return Hj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hj.apply(null,arguments)}function Uj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Yj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uj(Object(n),!0).forEach(function(t){qj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function qj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gj={curveBasisClosed:jg,curveBasisOpen:kg,curveBasis:_g,curveBumpX:zp,curveBumpY:Fp,curveLinearClosed:Vg,curveLinear:wp,curveMonotoneX:Qg,curveMonotoneY:Zg,curveNatural:tx,curveStep:rx,curveStepAfter:ax,curveStepBefore:ix},Xj=e=>Vj(e.x)&&Vj(e.y),Qj=e=>e.x,Zj=e=>e.y,Jj=e=>{var t,{type:n="linear",points:r=[],baseLine:i,layout:a,connectNulls:s=!1}=e,o=((e,t)=>{if("function"==typeof e)return e;var n="curve".concat(km(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?Gj[n]||wp:Gj["".concat(n).concat("vertical"===t?"Y":"X")]})(n,a),l=s?r.filter(Xj):r;if(Array.isArray(i)){var c=s?i.filter(e=>Xj(e)):i,u=l.map((e,t)=>Yj(Yj({},e),{},{base:c[t]}));return(t="vertical"===a?Sp().y(Zj).x1(Qj).x0(e=>e.base.x):Sp().x(Qj).y1(Zj).y0(e=>e.base.y)).defined(Xj).curve(o),t(u)}return(t="vertical"===a&&pm(i)?Sp().y(Zj).x1(Qj).x0(i):pm(i)?Sp().x(Qj).y1(Zj).y0(i):kp().x(Qj).y(Zj)).defined(Xj).curve(o),t(l)},eN=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if(!(n&&n.length||r))return null;var a=n&&n.length?Jj(e):r;return N.createElement("path",Hj({},zm(e,!1),Mm(e),{className:st("recharts-curve",t),d:null===a?void 0:a,ref:i}))},tN=["x","y","top","left","width","height","className"];function nN(){return nN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nN.apply(null,arguments)}function rN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function iN(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var aN=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),sN=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:o}=e,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,tN),c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rN(Object(n),!0).forEach(function(t){iN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:t,y:n,top:r,left:i,width:a,height:s},l);return pm(t)&&pm(n)&&pm(a)&&pm(s)&&pm(r)&&pm(i)?N.createElement("path",nN({},zm(c,!0),{className:st("recharts-cross",o),d:aN(t,n,a,s,r,i)})):null};function oN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lN(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cN(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oN(Object(n),!0).forEach(function(t){lN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e),r=t;return Object.keys(t).reduce((e,t)=>(void 0===e[t]&&void 0!==r[t]&&(e[t]=r[t]),e),n)}var uN,dN,hN={},fN={},mN={};function pN(){return uN||(uN=1,e=mN,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isPlainObject=function(e){if(!e||"object"!=typeof e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t))&&"[object Object]"===Object.prototype.toString.call(e)}),mN;var e}function gN(){return dN||(dN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pN(),n=by(),r=jy(),i=Sy(),a=fy();function s(e,t,n,r,i,a,s){const l=s(e,t,n,r,i,a);if(void 0!==l)return l;if(typeof e==typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return e===t;case"number":return e===t||Object.is(e,t);case"object":return o(e,t,a,s)}return o(e,t,a,s)}function o(e,l,c,u){if(Object.is(e,l))return!0;let d=r.getTag(e),h=r.getTag(l);if(d===i.argumentsTag&&(d=i.objectTag),h===i.argumentsTag&&(h=i.objectTag),d!==h)return!1;switch(d){case i.stringTag:return e.toString()===l.toString();case i.numberTag:{const t=e.valueOf(),n=l.valueOf();return a.eq(t,n)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(e.valueOf(),l.valueOf());case i.regexpTag:return e.source===l.source&&e.flags===l.flags;case i.functionTag:return e===l}const f=(c=null!=c?c:new Map).get(e),m=c.get(l);if(null!=f&&null!=m)return f===l;c.set(e,l),c.set(l,e);try{switch(d){case i.mapTag:if(e.size!==l.size)return!1;for(const[t,n]of e.entries())if(!l.has(t)||!s(n,l.get(t),t,e,l,c,u))return!1;return!0;case i.setTag:{if(e.size!==l.size)return!1;const t=Array.from(e.values()),n=Array.from(l.values());for(let r=0;r<t.length;r++){const i=t[r],a=n.findIndex(t=>s(i,t,void 0,e,l,c,u));if(-1===a)return!1;n.splice(a,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:if("undefined"!=typeof Buffer&&Buffer.isBuffer(e)!==Buffer.isBuffer(l))return!1;if(e.length!==l.length)return!1;for(let t=0;t<e.length;t++)if(!s(e[t],l[t],t,e,l,c,u))return!1;return!0;case i.arrayBufferTag:return e.byteLength===l.byteLength&&o(new Uint8Array(e),new Uint8Array(l),c,u);case i.dataViewTag:return e.byteLength===l.byteLength&&e.byteOffset===l.byteOffset&&o(new Uint8Array(e),new Uint8Array(l),c,u);case i.errorTag:return e.name===l.name&&e.message===l.message;case i.objectTag:{if(!(o(e.constructor,l.constructor,c,u)||t.isPlainObject(e)&&t.isPlainObject(l)))return!1;const r=[...Object.keys(e),...n.getSymbols(e)],i=[...Object.keys(l),...n.getSymbols(l)];if(r.length!==i.length)return!1;for(let t=0;t<r.length;t++){const n=r[t],i=e[n];if(!Object.hasOwn(l,n))return!1;if(!s(i,l[n],n,e,l,c,u))return!1}return!0}default:return!1}}finally{c.delete(e),c.delete(l)}}e.isEqualWith=function(e,t,n){return s(e,t,void 0,void 0,void 0,void 0,n)}}(fN)),fN}var xN,yN,vN,bN,_N={};function wN(){return xN||(xN=1,e=_N,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.noop=function(){}),_N;var e}function jN(){return bN?vN:(bN=1,vN=(yN||(yN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gN(),n=wN();e.isEqual=function(e,r){return t.isEqualWith(e,r,n.noop)}}(hN)),hN).isEqual)}const NN=i(jN());var kN=1e-4,SN=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],CN=(e,t)=>e.map((e,n)=>e*u(t,n)).reduce((e,t)=>e+t),EN=(e,t)=>n=>{var r=SN(e,t);return CN(r,n)},PN=function(){for(var e,t,n,r,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];if(1===a.length)switch(a[0]){case"linear":[e,n,t,r]=[0,0,1,1];break;case"ease":[e,n,t,r]=[.25,.1,.25,1];break;case"ease-in":[e,n,t,r]=[.42,0,1,1];break;case"ease-out":[e,n,t,r]=[.42,0,.58,1];break;case"ease-in-out":[e,n,t,r]=[0,0,.58,1];break;default:var o=a[0].split("(");"cubic-bezier"===o[0]&&4===o[1].split(")")[0].split(",").length&&([e,n,t,r]=o[1].split(")")[0].split(",").map(e=>parseFloat(e)))}else 4===a.length&&([e,n,t,r]=a);var l,c,u=EN(e,t),d=EN(n,r),h=(l=e,c=t,e=>{var t=[...SN(l,c).map((e,t)=>e*t).slice(1),0];return CN(t,e)}),f=e=>e>1?1:e<0?0:e,m=e=>{for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=u(n)-t,a=h(n);if(Math.abs(i-t)<kN||a<kN)return d(n);n=f(n-i/a)}return d(n)};return m.isStepper=!1,m},MN=e=>{if("string"==typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return PN(e);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:n=8,dt:r=17}=e,i=(e,i,a)=>{var s=a+(-(e-i)*t-a*n)*r/1e3,o=a*r/1e3+e;return Math.abs(o-i)<kN&&Math.abs(s)<kN?[i,0]:[o,s]};return i.isStepper=!0,i.dt=r,i}();default:if("cubic-bezier"===e.split("(")[0])return PN(e)}return"function"==typeof e?e:null};function ON(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function AN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ON(Object(n),!0).forEach(function(t){TN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ON(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function TN(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var DN=(e,t)=>Object.keys(t).reduce((n,r)=>AN(AN({},n),{},{[r]:e(r,t[r])}),{});function RN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function IN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RN(Object(n),!0).forEach(function(t){LN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function LN(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zN=(e,t,n)=>e+(t-e)*n,FN=e=>{var{from:t,to:n}=e;return t!==n},BN=(e,t,n)=>{var r=DN((t,n)=>{if(FN(n)){var[r,i]=e(n.from,n.to,n.velocity);return IN(IN({},n),{},{from:r,velocity:i})}return n},t);return n<1?DN((e,t)=>FN(t)?IN(IN({},t),{},{velocity:zN(t.velocity,r[e].velocity,n),from:zN(t.from,r[e].from,n)}):t,t):BN(e,r,n-1)};function WN(e,t,n,r,i,a){var s,o=r.reduce((n,r)=>IN(IN({},n),{},{[r]:{from:e[r],velocity:0,to:t[r]}}),{}),l=null,c=r=>{s||(s=r);var u=(r-s)/n.dt;o=BN(n,o,u),i(IN(IN(IN({},e),t),DN((e,t)=>t.from,o))),s=r,Object.values(o).filter(FN).length&&(l=a.setTimeout(c))};return()=>(l=a.setTimeout(c),()=>{l()})}const $N=(e,t,n,r,i,a)=>{var s,o,l=(s=e,o=t,[Object.keys(s),Object.keys(o)].reduce((e,t)=>e.filter(e=>t.includes(e))));return!0===n.isStepper?WN(e,t,n,l,i,a):function(e,t,n,r,i,a,s){var o,l=null,c=i.reduce((n,r)=>IN(IN({},n),{},{[r]:[e[r],t[r]]}),{}),u=i=>{o||(o=i);var d=(i-o)/r,h=DN((e,t)=>zN(...t,n(d)),c);if(a(IN(IN(IN({},e),t),h)),d<1)l=s.setTimeout(u);else{var f=DN((e,t)=>zN(...t,n(1)),c);a(IN(IN(IN({},e),t),f))}};return()=>(l=s.setTimeout(u),()=>{l()})}(e,t,n,r,l,i,a)};class VN{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=performance.now(),r=null,i=a=>{a-n>=t?e(a):"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(i))};return r=requestAnimationFrame(i),()=>{cancelAnimationFrame(r)}}}var KN=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function HN(){return HN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HN.apply(null,arguments)}function UN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function YN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UN(Object(n),!0).forEach(function(t){qN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function qN(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GN(){return e=new VN,t=()=>null,n=!1,r=null,i=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,[o,...l]=s;return"number"==typeof o?void(r=e.setTimeout(i.bind(null,l),o)):(i(o),void(r=e.setTimeout(i.bind(null,l))))}"object"==typeof a&&t(a),"function"==typeof a&&a()}},{stop:()=>{n=!0},start:e=>{n=!1,r&&(r(),r=null),i(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e};var e,t,n,r,i}class XN extends N.PureComponent{constructor(e,t){super(e,t),qN(this,"mounted",!1),qN(this,"manager",null),qN(this,"stopJSAnimation",null),qN(this,"unSubscribe",null);var{isActive:n,attributeName:r,from:i,to:a,children:s,duration:o,animationManager:l}=this.props;if(this.manager=l,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||o<=0)return this.state={style:{}},void("function"==typeof s&&(this.state={style:a}));if(i){if("function"==typeof s)return void(this.state={style:i});this.state={style:r?{[r]:i}:i}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:t}=this.props;this.mounted=!0,e&&t&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:t,canBegin:n,attributeName:r,shouldReAnimate:i,to:a,from:s}=this.props,{style:o}=this.state;if(n)if(t){if(!(NN(e.to,a)&&e.canBegin&&e.isActive)){var l=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var c=l||i?s:e.to;if(this.state&&o){var u={style:r?{[r]:c}:c};(r&&o[r]!==c||!r&&o!==c)&&this.setState(u)}this.runAnimation(YN(YN({},this.props),{},{from:c,begin:0}))}}else{var d={style:r?{[r]:a}:a};this.state&&o&&(r&&o[r]!==a||!r&&o!==a)&&this.setState(d)}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:t,to:n,duration:r,easing:i,begin:a,onAnimationEnd:s,onAnimationStart:o}=e,l=$N(t,n,MN(i),r,this.changeStyle,this.manager.getTimeoutController());this.manager.start([o,a,()=>{this.stopJSAnimation=l()},r,s])}runAnimation(e){var{begin:t,duration:n,attributeName:r,to:i,easing:a,onAnimationStart:s,onAnimationEnd:o,children:l}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),"function"!=typeof a&&"function"!=typeof l&&"spring"!==a){var c=r?{[r]:i}:i,u=((e,t,n)=>e.map(e=>{return"".concat((r=e,r.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())))," ").concat(t,"ms ").concat(n);var r}).join(","))(Object.keys(c),n,a);this.manager.start([s,t,YN(YN({},c),{},{transition:u}),n,o])}else this.runJSAnimation(e)}render(){var e=this.props,{children:t,begin:n,duration:r,attributeName:i,easing:a,isActive:s,from:o,to:l,canBegin:c,onAnimationEnd:u,shouldReAnimate:d,onAnimationReStart:h,animationManager:f}=e,m=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,KN),p=N.Children.count(t),g=this.state.style;if("function"==typeof t)return t(g);if(!s||0===p||r<=0)return t;var x=e=>{var{style:t={},className:n}=e.props;return N.cloneElement(e,YN(YN({},m),{},{style:YN(YN({},t),g),className:n}))};return 1===p?x(N.Children.only(t)):N.createElement("div",null,N.Children.map(t,e=>x(e)))}}qN(XN,"displayName","Animate"),qN(XN,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var QN=N.createContext(null);function ZN(e){var t,n,r=N.useContext(QN);return N.createElement(XN,HN({},e,{animationManager:null!==(t=null!==(n=e.animationManager)&&void 0!==n?n:r)&&void 0!==t?t:GN()}))}function JN(){return JN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JN.apply(null,arguments)}var ek=(e,t,n,r,i)=>{var a,s=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(s>0&&i instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=i[d]>s?s:i[d];a="M".concat(e,",").concat(t+o*u[0]),u[0]>0&&(a+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),a+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(a+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+o*u[1])),a+="L ".concat(e+n,",").concat(t+r-o*u[2]),u[2]>0&&(a+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),a+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(a+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-o*u[3])),a+="Z"}else if(s>0&&i===+i&&i>0){var h=Math.min(s,i);a="M ".concat(e,",").concat(t+o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+o*h,"\n            L ").concat(e+n,",").concat(t+r-o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-o*h," Z")}else a="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return a},tk={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nk=e=>{var t=cN(e,tk),n=N.useRef(null),[r,i]=N.useState(-1);N.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&i(e)}catch(t){}},[]);var{x:a,y:s,width:o,height:l,radius:c,className:u}=t,{animationEasing:d,animationDuration:h,animationBegin:f,isAnimationActive:m,isUpdateAnimationActive:p}=t;if(a!==+a||s!==+s||o!==+o||l!==+l||0===o||0===l)return null;var g=st("recharts-rectangle",u);return p?N.createElement(ZN,{canBegin:r>0,from:{width:o,height:l,x:a,y:s},to:{width:o,height:l,x:a,y:s},duration:h,animationEasing:d,isActive:p},e=>{var{width:i,height:a,x:s,y:o}=e;return N.createElement(ZN,{canBegin:r>0,from:"0px ".concat(-1===r?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:f,duration:h,isActive:m,easing:d},N.createElement("path",JN({},zm(t,!0),{className:g,d:ek(s,o,i,a,c),ref:n})))}):N.createElement("path",JN({},zm(t,!0),{className:g,d:ek(a,s,o,l,c)}))};function rk(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e;return{points:[mw(t,n,r,i),mw(t,n,r,a)],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function ik(){return ik=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ik.apply(null,arguments)}var ak=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,c=o*(s?1:-1)+r,u=Math.asin(o/c)/hw,d=l?i:i+a*u,h=l?i-a*u:i;return{center:mw(t,n,c,d),circleTangency:mw(t,n,r,d),lineTangency:mw(t,n,c*Math.cos(u*hw),h),theta:u}},sk=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=e,o=((e,t)=>hm(t-e)*Math.min(Math.abs(t-e),359.999))(a,s),l=a+o,c=mw(t,n,i,a),u=mw(t,n,i,l),d="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(o)>180),",").concat(+(a>l),",\n    ").concat(u.x,",").concat(u.y,"\n  ");if(r>0){var h=mw(t,n,r,a),f=mw(t,n,r,l);d+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(o)>180),",").concat(+(a<=l),",\n            ").concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(t,",").concat(n," Z");return d},ok={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},lk=e=>{var t=cN(e,ok),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u,className:d}=t;if(a<i||c===u)return null;var h,f=st("recharts-sector",d),m=a-i,p=vm(s,m,0,!0);return h=p>0&&Math.abs(c-u)<360?(e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:c}=e,u=hm(c-l),{circleTangency:d,lineTangency:h,theta:f}=ak({cx:t,cy:n,radius:i,angle:l,sign:u,cornerRadius:a,cornerIsExternal:o}),{circleTangency:m,lineTangency:p,theta:g}=ak({cx:t,cy:n,radius:i,angle:c,sign:-u,cornerRadius:a,cornerIsExternal:o}),x=o?Math.abs(l-c):Math.abs(l-c)-f-g;if(x<0)return s?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*a,",0\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*-a,",0\n      "):sk({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var y="M ".concat(h.x,",").concat(h.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(x>180),",").concat(+(u<0),",").concat(m.x,",").concat(m.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(p.x,",").concat(p.y,"\n  ");if(r>0){var{circleTangency:v,lineTangency:b,theta:_}=ak({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:w,lineTangency:j,theta:N}=ak({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),k=o?Math.abs(l-c):Math.abs(l-c)-_-N;if(k<0&&0===a)return"".concat(y,"L").concat(t,",").concat(n,"Z");y+="L".concat(j.x,",").concat(j.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(w.x,",").concat(w.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(k>180),",").concat(+(u>0),",").concat(v.x,",").concat(v.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(b.x,",").concat(b.y,"Z")}else y+="L".concat(t,",").concat(n,"Z");return y})({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(p,m/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}):sk({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u}),N.createElement("path",ik({},zm(t,!0),{className:f,d:h}))};function ck(e,t,n){var r,i,a,s;if("horizontal"===e)a=r=t.x,i=n.top,s=n.top+n.height;else if("vertical"===e)s=i=t.y,r=n.left,a=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return rk(t);var{cx:o,cy:l,innerRadius:c,outerRadius:u,angle:d}=t,h=mw(o,l,c,d),f=mw(o,l,u,d);r=h.x,i=h.y,a=f.x,s=f.y}return[{x:r,y:i},{x:a,y:s}]}var uk,dk,hk,fk,mk,pk={},gk={},xk={};function yk(){return uk||(uk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vv();e.toNumber=function(e){return t.isSymbol(e)?NaN:Number(e)}}(xk)),xk}function vk(){return dk||(dk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yk();e.toFinite=function(e){return e?(e=t.toNumber(e))===1/0||e===-1/0?(e<0?-1:1)*Number.MAX_VALUE:e==e?e:0:0===e?e:0}}(gk)),gk}function bk(){return mk?fk:(mk=1,fk=(hk||(hk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eb(),n=vk();e.range=function(e,r,i){i&&"number"!=typeof i&&t.isIterateeCall(e,r,i)&&(r=i=void 0),e=n.toFinite(e),void 0===r?(r=e,e=0):r=n.toFinite(r),i=void 0===i?e<r?1:-1:n.toFinite(i);const a=Math.max(Math.ceil((r-e)/(i||1)),0),s=new Array(a);for(let t=0;t<a;t++)s[t]=e,e+=i;return s}}(pk)),pk).range)}const _k=i(bk());function wk(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function jk(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Nk(e){let t,n,r;function i(e,r,i=0,a=e.length){if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<0?i=t+1:a=t}while(i<a)}return i}return 2!==e.length?(t=wk,n=(t,n)=>wk(e(t),n),r=(t,n)=>e(t)-n):(t=e===wk||e===jk?e:kk,n=e,r=e),{left:i,center:function(e,t,n=0,a=e.length){const s=i(e,t,n,a-1);return s>n&&r(e[s-1],t)>-r(e[s],t)?s-1:s},right:function(e,r,i=0,a=e.length){if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<=0?i=t+1:a=t}while(i<a)}return i}}}function kk(){return 0}function Sk(e){return null===e?NaN:+e}const Ck=Nk(wk),Ek=Ck.right,Pk=Ck.left,Mk=Nk(Sk).center,Ok=Tk(Ik),Ak=Tk(function(e){const t=Ik(e);return(e,n,r,i,a)=>{t(e,n,0+(r<<=2),0+(i<<=2),a<<=2),t(e,n,r+1,i+1,a),t(e,n,r+2,i+2,a),t(e,n,r+3,i+3,a)}});function Tk(e){return function(t,n,r=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:i,width:a,height:s}=t;if(!((a=Math.floor(a))>=0))throw new RangeError("invalid width");if(!((s=Math.floor(void 0!==s?s:i.length/a))>=0))throw new RangeError("invalid height");if(!a||!s||!n&&!r)return t;const o=n&&e(n),l=r&&e(r),c=i.slice();return o&&l?(Dk(o,c,i,a,s),Dk(o,i,c,a,s),Dk(o,c,i,a,s),Rk(l,i,c,a,s),Rk(l,c,i,a,s),Rk(l,i,c,a,s)):o?(Dk(o,i,c,a,s),Dk(o,c,i,a,s),Dk(o,i,c,a,s)):l&&(Rk(l,i,c,a,s),Rk(l,c,i,a,s),Rk(l,i,c,a,s)),t}}function Dk(e,t,n,r,i){for(let a=0,s=r*i;a<s;)e(t,n,a,a+=r,1)}function Rk(e,t,n,r,i){for(let a=0,s=r*i;a<r;++a)e(t,n,a,a+s,r)}function Ik(e){const t=Math.floor(e);if(t===e)return function(e){const t=2*e+1;return(n,r,i,a,s)=>{if(!((a-=s)>=i))return;let o=e*r[i];const l=s*e;for(let e=i,t=i+l;e<t;e+=s)o+=r[Math.min(a,e)];for(let e=i,c=a;e<=c;e+=s)o+=r[Math.min(a,e+l)],n[e]=o/t,o-=r[Math.max(i,e-l)]}}(e);const n=e-t,r=2*e+1;return(e,i,a,s,o)=>{if(!((s-=o)>=a))return;let l=t*i[a];const c=o*t,u=c+o;for(let t=a,n=a+c;t<n;t+=o)l+=i[Math.min(s,t)];for(let t=a,d=s;t<=d;t+=o)l+=i[Math.min(s,t+c)],e[t]=(l+n*(i[Math.max(a,t-u)]+i[Math.min(s,t+u)]))/r,l-=i[Math.max(a,t-c)]}}function Lk(e,t){let n=0;if(void 0===t)for(let r of e)null!=r&&(r=+r)>=r&&++n;else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(i=+i)>=i&&++n}return n}function zk(e){return 0|e.length}function Fk(e){return!(e>0)}function Bk(e){return"object"!=typeof e||"length"in e?e:Array.from(e)}function Wk(e,t){let n,r=0,i=0,a=0;if(void 0===t)for(let s of e)null!=s&&(s=+s)>=s&&(n=s-i,i+=n/++r,a+=n*(s-i));else{let s=-1;for(let o of e)null!=(o=t(o,++s,e))&&(o=+o)>=o&&(n=o-i,i+=n/++r,a+=n*(o-i))}if(r>1)return a/(r-1)}function $k(e,t){const n=Wk(e,t);return n?Math.sqrt(n):n}function Vk(e,t){let n,r;if(void 0===t)for(const i of e)null!=i&&(void 0===n?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of e)null!=(a=t(a,++i,e))&&(void 0===n?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class Kk{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const t=this._partials;let n=0;for(let r=0;r<this._n&&r<32;r++){const i=t[r],a=e+i,s=Math.abs(e)<Math.abs(i)?e-(a-i):i-(a-e);s&&(t[n++]=s),e=a}return t[n]=e,this._n=n+1,this}valueOf(){const e=this._partials;let t,n,r,i=this._n,a=0;if(i>0){for(a=e[--i];i>0&&(t=a,n=e[--i],a=t+n,r=n-(a-t),!r););i>0&&(r<0&&e[i-1]<0||r>0&&e[i-1]>0)&&(n=2*r,t=a+n,n==t-a&&(a=t))}return a}}class Hk extends Map{constructor(e,t=Xk){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(Yk(this,e))}has(e){return super.has(Yk(this,e))}set(e,t){return super.set(qk(this,e),t)}delete(e){return super.delete(Gk(this,e))}}class Uk extends Set{constructor(e,t=Xk){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const n of e)this.add(n)}has(e){return super.has(Yk(this,e))}add(e){return super.add(qk(this,e))}delete(e){return super.delete(Gk(this,e))}}function Yk({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function qk({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Gk({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Xk(e){return null!==e&&"object"==typeof e?e.valueOf():e}function Qk(e){return e}function Zk(e,...t){return iS(e,Qk,Qk,t)}function Jk(e,...t){return iS(e,Array.from,Qk,t)}function eS(e,t){for(let n=1,r=t.length;n<r;++n)e=e.flatMap(e=>e.pop().map(([t,n])=>[...e,t,n]));return e}function tS(e,t,...n){return iS(e,Qk,t,n)}function nS(e,t,...n){return iS(e,Array.from,t,n)}function rS(e){if(1!==e.length)throw new Error("duplicate key");return e[0]}function iS(e,t,n,r){return function e(i,a){if(a>=r.length)return n(i);const s=new Hk,o=r[a++];let l=-1;for(const t of i){const e=o(t,++l,i),n=s.get(e);n?n.push(t):s.set(e,[t])}for(const[t,n]of s)s.set(t,e(n,a));return t(s)}(e,0)}function aS(e,t){return Array.from(t,t=>e[t])}function sS(e,...t){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&2!==n.length||t.length>1){const r=Uint32Array.from(e,(e,t)=>t);return t.length>1?(t=t.map(t=>e.map(t)),r.sort((e,n)=>{for(const r of t){const t=lS(r[e],r[n]);if(t)return t}})):(n=e.map(n),r.sort((e,t)=>lS(n[e],n[t]))),aS(e,r)}return e.sort(oS(n))}function oS(e=wk){if(e===wk)return lS;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function lS(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}var cS=Array.prototype.slice;function uS(e){return()=>e}const dS=Math.sqrt(50),hS=Math.sqrt(10),fS=Math.sqrt(2);function mS(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=dS?10:a>=hS?5:a>=fS?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=n&&n<2?mS(e,t,2*n):[o,l,c]}function pS(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,a,s]=r?mS(t,e,n):mS(e,t,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function gS(e,t,n){return mS(e=+e,t=+t,n=+n)[2]}function xS(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?gS(t,e,n):gS(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function yS(e,t,n){let r;for(;;){const i=gS(e,t,n);if(i===r||0===i||!isFinite(i))return[e,t];i>0?(e=Math.floor(e/i)*i,t=Math.ceil(t/i)*i):i<0&&(e=Math.ceil(e*i)/i,t=Math.floor(t*i)/i),r=i}}function vS(e){return Math.max(1,Math.ceil(Math.log(Lk(e))/Math.LN2)+1)}function bS(){var e=Qk,t=Vk,n=vS;function r(r){Array.isArray(r)||(r=Array.from(r));var i,a,s,o=r.length,l=new Array(o);for(i=0;i<o;++i)l[i]=e(r[i],i,r);var c=t(l),u=c[0],d=c[1],h=n(l,u,d);if(!Array.isArray(h)){const e=d,n=+h;if(t===Vk&&([u,d]=yS(u,d,n)),(h=pS(u,d,n))[0]<=u&&(s=gS(u,d,n)),h[h.length-1]>=d)if(e>=d&&t===Vk){const e=gS(u,d,n);isFinite(e)&&(e>0?d=(Math.floor(d/e)+1)*e:e<0&&(d=(Math.ceil(d*-e)+1)/-e))}else h.pop()}for(var f=h.length,m=0,p=f;h[m]<=u;)++m;for(;h[p-1]>d;)--p;(m||p<f)&&(h=h.slice(m,p),f=p-m);var g,x=new Array(f+1);for(i=0;i<=f;++i)(g=x[i]=[]).x0=i>0?h[i-1]:u,g.x1=i<f?h[i]:d;if(isFinite(s)){if(s>0)for(i=0;i<o;++i)null!=(a=l[i])&&u<=a&&a<=d&&x[Math.min(f,Math.floor((a-u)/s))].push(r[i]);else if(s<0)for(i=0;i<o;++i)if(null!=(a=l[i])&&u<=a&&a<=d){const e=Math.floor((u-a)*s);x[Math.min(f,e+(h[e]<=a))].push(r[i])}}else for(i=0;i<o;++i)null!=(a=l[i])&&u<=a&&a<=d&&x[Ek(h,a,0,f)].push(r[i]);return x}return r.value=function(t){return arguments.length?(e="function"==typeof t?t:uS(t),r):e},r.domain=function(e){return arguments.length?(t="function"==typeof e?e:uS([e[0],e[1]]),r):t},r.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:uS(Array.isArray(e)?cS.call(e):e),r):n},r}function _S(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function wS(e,t){let n,r=-1,i=-1;if(void 0===t)for(const a of e)++i,null!=a&&(n<a||void 0===n&&a>=a)&&(n=a,r=i);else for(let a of e)null!=(a=t(a,++i,e))&&(n<a||void 0===n&&a>=a)&&(n=a,r=i);return r}function jS(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function NS(e,t){let n,r=-1,i=-1;if(void 0===t)for(const a of e)++i,null!=a&&(n>a||void 0===n&&a>=a)&&(n=a,r=i);else for(let a of e)null!=(a=t(a,++i,e))&&(n>a||void 0===n&&a>=a)&&(n=a,r=i);return r}function kS(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?lS:oS(i);r>n;){if(r-n>600){const a=r-n+1,s=t-n+1,o=Math.log(a),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(a-l)/a)*(s-a/2<0?-1:1);kS(e,t,Math.max(n,Math.floor(t-s*l/a+c)),Math.min(r,Math.floor(t+(a-s)*l/a+c)),i)}const a=e[t];let s=n,o=r;for(SS(e,n,t),i(e[r],a)>0&&SS(e,n,r);s<o;){for(SS(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}0===i(e[n],a)?SS(e,n,o):(++o,SS(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function SS(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function CS(e,t=wk){let n,r=!1;if(1===t.length){let i;for(const a of e){const e=t(a);(r?wk(e,i)>0:0===wk(e,e))&&(n=a,i=e,r=!0)}}else for(const i of e)(r?t(i,n)>0:0===t(i,i))&&(n=i,r=!0);return n}function ES(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return jS(e);if(t>=1)return _S(e);var r,i=(r-1)*t,a=Math.floor(i),s=_S(kS(e,a).subarray(0,a+1));return s+(jS(e.subarray(a+1))-s)*(i-a)}}function PS(e,t,n=Sk){if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e);return s+(+n(e[a+1],a+1,e)-s)*(i-a)}}function MS(e,t,n=Sk){if(!isNaN(t=+t)){if(r=Float64Array.from(e,(t,r)=>Sk(n(e[r],r,e))),t<=0)return NS(r);if(t>=1)return wS(r);var r,i=Uint32Array.from(e,(e,t)=>t),a=r.length-1,s=Math.floor(a*t);return kS(i,s,0,a,(e,t)=>lS(r[e],r[t])),(s=CS(i.subarray(0,s+1),e=>r[e]))>=0?s:-1}}function OS(e){return Array.from(function*(e){for(const t of e)yield*y(t)}(e))}function AS(e,t){return[e,t]}function TS(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a}function DS(e,t=wk){if(1===t.length)return NS(e,t);let n,r=-1,i=-1;for(const a of e)++i,(r<0?0===t(a,a):t(a,n)<0)&&(n=a,r=i);return r}const RS=IS(Math.random);function IS(e){return function(t,n=0,r=t.length){let i=r-(n=+n);for(;i;){const r=e()*i--|0,a=t[i+n];t[i+n]=t[r+n],t[r+n]=a}return t}}function LS(e){if(!(i=e.length))return[];for(var t=-1,n=jS(e,zS),r=new Array(n);++t<n;)for(var i,a=-1,s=r[t]=new Array(i);++a<i;)s[a]=e[a][t];return r}function zS(e){return e.length}function FS(e){return e instanceof Uk?e:new Uk(e)}function BS(e,t){const n=e[Symbol.iterator](),r=new Set;for(const i of t){const e=WS(i);if(r.has(e))continue;let t,a;for(;({value:t,done:a}=n.next());){if(a)return!1;const n=WS(t);if(r.add(n),Object.is(e,n))break}}return!0}function WS(e){return null!==e&&"object"==typeof e?e.valueOf():e}function $S(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function VS(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const KS=Symbol("implicit");function HS(){var e=new Hk,t=[],n=[],r=KS;function i(i){let a=e.get(i);if(void 0===a){if(r!==KS)return r;e.set(i,a=t.push(i)-1)}return n[a%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Hk;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return HS(t,n).unknown(r)},$S.apply(i,arguments),i}function US(){var e,t,n=HS().unknown(void 0),r=n.domain,i=n.range,a=0,s=1,o=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=s<a,h=d?s:a,f=d?a:s;e=(f-h)/Math.max(1,n-l+2*c),o&&(e=Math.floor(e)),h+=(f-h-e*(n-l))*u,t=e*(1-l),o&&(h=Math.round(h),t=Math.round(t));var m=TS(n).map(function(t){return h+e*t});return i(d?m.reverse():m)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([a,s]=e,a=+a,s=+s,d()):[a,s]},n.rangeRound=function(e){return[a,s]=e,a=+a,s=+s,o=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(o=!!e,d()):o},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return US(r(),[a,s]).round(o).paddingInner(l).paddingOuter(c).align(u)},$S.apply(d(),arguments)}function YS(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return YS(t())},e}function qS(){return YS(US.apply(null,arguments).paddingInner(1))}function GS(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function XS(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function QS(){}var ZS=.7,JS=1/ZS,eC="\\s*([+-]?\\d+)\\s*",tC="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nC="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rC=/^#([0-9a-f]{3,8})$/,iC=new RegExp(`^rgb\\(${eC},${eC},${eC}\\)$`),aC=new RegExp(`^rgb\\(${nC},${nC},${nC}\\)$`),sC=new RegExp(`^rgba\\(${eC},${eC},${eC},${tC}\\)$`),oC=new RegExp(`^rgba\\(${nC},${nC},${nC},${tC}\\)$`),lC=new RegExp(`^hsl\\(${tC},${nC},${nC}\\)$`),cC=new RegExp(`^hsla\\(${tC},${nC},${nC},${tC}\\)$`),uC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function dC(){return this.rgb().formatHex()}function hC(){return this.rgb().formatRgb()}function fC(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=rC.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?mC(t):3===n?new yC(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?pC(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?pC(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=iC.exec(e))?new yC(t[1],t[2],t[3],1):(t=aC.exec(e))?new yC(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=sC.exec(e))?pC(t[1],t[2],t[3],t[4]):(t=oC.exec(e))?pC(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=lC.exec(e))?NC(t[1],t[2]/100,t[3]/100,1):(t=cC.exec(e))?NC(t[1],t[2]/100,t[3]/100,t[4]):uC.hasOwnProperty(e)?mC(uC[e]):"transparent"===e?new yC(NaN,NaN,NaN,0):null}function mC(e){return new yC(e>>16&255,e>>8&255,255&e,1)}function pC(e,t,n,r){return r<=0&&(e=t=n=NaN),new yC(e,t,n,r)}function gC(e){return e instanceof QS||(e=fC(e)),e?new yC((e=e.rgb()).r,e.g,e.b,e.opacity):new yC}function xC(e,t,n,r){return 1===arguments.length?gC(e):new yC(e,t,n,null==r?1:r)}function yC(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function vC(){return`#${jC(this.r)}${jC(this.g)}${jC(this.b)}`}function bC(){const e=_C(this.opacity);return`${1===e?"rgb(":"rgba("}${wC(this.r)}, ${wC(this.g)}, ${wC(this.b)}${1===e?")":`, ${e})`}`}function _C(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function wC(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function jC(e){return((e=wC(e))<16?"0":"")+e.toString(16)}function NC(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new CC(e,t,n,r)}function kC(e){if(e instanceof CC)return new CC(e.h,e.s,e.l,e.opacity);if(e instanceof QS||(e=fC(e)),!e)return new CC;if(e instanceof CC)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(s=t===a?(n-r)/o+6*(n<r):n===a?(r-t)/o+2:(t-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new CC(s,o,l,e.opacity)}function SC(e,t,n,r){return 1===arguments.length?kC(e):new CC(e,t,n,null==r?1:r)}function CC(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function EC(e){return(e=(e||0)%360)<0?e+360:e}function PC(e){return Math.max(0,Math.min(1,e||0))}function MC(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}GS(QS,fC,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:dC,formatHex:dC,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return kC(this).formatHsl()},formatRgb:hC,toString:hC}),GS(yC,xC,XS(QS,{brighter(e){return e=null==e?JS:Math.pow(JS,e),new yC(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?ZS:Math.pow(ZS,e),new yC(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new yC(wC(this.r),wC(this.g),wC(this.b),_C(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vC,formatHex:vC,formatHex8:function(){return`#${jC(this.r)}${jC(this.g)}${jC(this.b)}${jC(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:bC,toString:bC})),GS(CC,SC,XS(QS,{brighter(e){return e=null==e?JS:Math.pow(JS,e),new CC(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?ZS:Math.pow(ZS,e),new CC(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new yC(MC(e>=240?e-240:e+120,i,r),MC(e,i,r),MC(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new CC(EC(this.h),PC(this.s),PC(this.l),_C(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_C(this.opacity);return`${1===e?"hsl(":"hsla("}${EC(this.h)}, ${100*PC(this.s)}%, ${100*PC(this.l)}%${1===e?")":`, ${e})`}`}}));const OC=Math.PI/180,AC=180/Math.PI,TC=.96422,DC=.82521,RC=4/29,IC=6/29,LC=3*IC*IC,zC=IC*IC*IC;function FC(e){if(e instanceof WC)return new WC(e.l,e.a,e.b,e.opacity);if(e instanceof qC)return GC(e);e instanceof yC||(e=gC(e));var t,n,r=HC(e.r),i=HC(e.g),a=HC(e.b),s=$C((.2225045*r+.7168786*i+.0606169*a)/1);return r===i&&i===a?t=n=s:(t=$C((.4360747*r+.3850649*i+.1430804*a)/TC),n=$C((.0139322*r+.0971045*i+.7141733*a)/DC)),new WC(116*s-16,500*(t-s),200*(s-n),e.opacity)}function BC(e,t,n,r){return 1===arguments.length?FC(e):new WC(e,t,n,null==r?1:r)}function WC(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function $C(e){return e>zC?Math.pow(e,1/3):e/LC+RC}function VC(e){return e>IC?e*e*e:LC*(e-RC)}function KC(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function HC(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function UC(e){if(e instanceof qC)return new qC(e.h,e.c,e.l,e.opacity);if(e instanceof WC||(e=FC(e)),0===e.a&&0===e.b)return new qC(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*AC;return new qC(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function YC(e,t,n,r){return 1===arguments.length?UC(e):new qC(e,t,n,null==r?1:r)}function qC(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function GC(e){if(isNaN(e.h))return new WC(e.l,0,0,e.opacity);var t=e.h*OC;return new WC(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}GS(WC,BC,XS(QS,{brighter(e){return new WC(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker(e){return new WC(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new yC(KC(3.1338561*(t=TC*VC(t))-1.6168667*(e=1*VC(e))-.4906146*(n=DC*VC(n))),KC(-.9787684*t+1.9161415*e+.033454*n),KC(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),GS(qC,YC,XS(QS,{brighter(e){return new qC(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker(e){return new qC(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb(){return GC(this).rgb()}}));var XC=-.14861,QC=1.78277,ZC=-.29227,JC=-.90649,eE=1.97294,tE=eE*JC,nE=eE*QC,rE=QC*ZC-JC*XC;function iE(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof aE)return new aE(e.h,e.s,e.l,e.opacity);e instanceof yC||(e=gC(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(rE*r+tE*t-nE*n)/(rE+tE-nE),a=r-i,s=(eE*(n-i)-ZC*a)/JC,o=Math.sqrt(s*s+a*a)/(eE*i*(1-i)),l=o?Math.atan2(s,a)*AC-120:NaN;return new aE(l<0?l+360:l,o,i,e.opacity)}(e):new aE(e,t,n,null==r?1:r)}function aE(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function sE(e,t,n,r,i){var a=e*e,s=a*e;return((1-3*e+3*a-s)*t+(4-6*a+3*s)*n+(1+3*e+3*a-3*s)*r+s*i)/6}function oE(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],s=r>0?e[r-1]:2*i-a,o=r<t-1?e[r+2]:2*a-i;return sE((n-r/t)*t,s,i,a,o)}}function lE(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],s=e[(r+1)%t],o=e[(r+2)%t];return sE((n-r/t)*t,i,a,s,o)}}GS(aE,iE,XS(QS,{brighter(e){return e=null==e?JS:Math.pow(JS,e),new aE(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?ZS:Math.pow(ZS,e),new aE(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*OC,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new yC(255*(t+n*(XC*r+QC*i)),255*(t+n*(ZC*r+JC*i)),255*(t+n*(eE*r)),this.opacity)}}));const cE=e=>()=>e;function uE(e,t){return function(n){return e+n*t}}function dE(e,t){var n=t-e;return n?uE(e,n>180||n<-180?n-360*Math.round(n/360):n):cE(isNaN(e)?t:e)}function hE(e){return 1===(e=+e)?fE:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):cE(isNaN(t)?n:t)}}function fE(e,t){var n=t-e;return n?uE(e,n):cE(isNaN(e)?t:e)}const mE=function e(t){var n=hE(t);function r(e,t){var r=n((e=xC(e)).r,(t=xC(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),s=fE(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=s(t),e+""}}return r.gamma=e,r}(1);function pE(e){return function(t){var n,r,i=t.length,a=new Array(i),s=new Array(i),o=new Array(i);for(n=0;n<i;++n)r=xC(t[n]),a[n]=r.r||0,s[n]=r.g||0,o[n]=r.b||0;return a=e(a),s=e(s),o=e(o),r.opacity=1,function(e){return r.r=a(e),r.g=s(e),r.b=o(e),r+""}}}var gE=pE(oE),xE=pE(lE);function yE(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}}function vE(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function bE(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,a=new Array(i),s=new Array(r);for(n=0;n<i;++n)a[n]=CE(e[n],t[n]);for(;n<r;++n)s[n]=t[n];return function(e){for(n=0;n<i;++n)s[n]=a[n](e);return s}}function _E(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function wE(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function jE(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=CE(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var NE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,kE=new RegExp(NE.source,"g");function SE(e,t){var n,r,i,a=NE.lastIndex=kE.lastIndex=0,s=-1,o=[],l=[];for(e+="",t+="";(n=NE.exec(e))&&(r=kE.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(r=r[0])?o[s]?o[s]+=r:o[++s]=r:(o[++s]=null,l.push({i:s,x:wE(n,r)})),a=kE.lastIndex;return a<t.length&&(i=t.slice(a),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)o[(n=l[r]).i]=n.x(e);return o.join("")})}function CE(e,t){var n,r=typeof t;return null==t||"boolean"===r?cE(t):("number"===r?wE:"string"===r?(n=fC(t))?(t=n,mE):SE:t instanceof fC?mE:t instanceof Date?_E:vE(t)?yE:Array.isArray(t)?bE:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?jE:wE)(e,t)}function EE(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var PE,ME=180/Math.PI,OE={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function AE(e,t,n,r,i,a){var s,o,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,l/=o),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*ME,skewX:Math.atan(l)*ME,scaleX:s,scaleY:o}}function TE(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(a,s){var o=[],l=[];return a=e(a),s=e(s),function(e,r,i,a,s,o){if(e!==i||r!==a){var l=s.push("translate(",null,t,null,n);o.push({i:l-4,x:wE(e,i)},{i:l-2,x:wE(r,a)})}else(i||a)&&s.push("translate("+i+t+a+n)}(a.translateX,a.translateY,s.translateX,s.translateY,o,l),function(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:wE(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(a.rotate,s.rotate,o,l),function(e,t,n,a){e!==t?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:wE(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(a.skewX,s.skewX,o,l),function(e,t,n,r,a,s){if(e!==n||t!==r){var o=a.push(i(a)+"scale(",null,",",null,")");s.push({i:o-4,x:wE(e,n)},{i:o-2,x:wE(t,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,s.scaleX,s.scaleY,o,l),a=s=null,function(e){for(var t,n=-1,r=l.length;++n<r;)o[(t=l[n]).i]=t.x(e);return o.join("")}}}var DE=TE(function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?OE:AE(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),RE=TE(function(e){return null==e?OE:(PE||(PE=document.createElementNS("http://www.w3.org/2000/svg","g")),PE.setAttribute("transform",e),(e=PE.transform.baseVal.consolidate())?AE((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):OE)},", ",")",")");function IE(e){return((e=Math.exp(e))+1/e)/2}const LE=function e(t,n,r){function i(e,i){var a,s,o=e[0],l=e[1],c=e[2],u=i[0],d=i[1],h=i[2],f=u-o,m=d-l,p=f*f+m*m;if(p<1e-12)s=Math.log(h/c)/t,a=function(e){return[o+e*f,l+e*m,c*Math.exp(t*e*s)]};else{var g=Math.sqrt(p),x=(h*h-c*c+r*p)/(2*c*n*g),y=(h*h-c*c-r*p)/(2*h*n*g),v=Math.log(Math.sqrt(x*x+1)-x),b=Math.log(Math.sqrt(y*y+1)-y);s=(b-v)/t,a=function(e){var r,i=e*s,a=IE(v),u=c/(n*g)*(a*(r=t*i+v,((r=Math.exp(2*r))-1)/(r+1))-function(e){return((e=Math.exp(e))-1/e)/2}(v));return[o+u*f,l+u*m,c*a/IE(t*i+v)]}}return a.duration=1e3*s*t/Math.SQRT2,a}return i.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},i}(Math.SQRT2,2,4);function zE(e){return function(t,n){var r=e((t=SC(t)).h,(n=SC(n)).h),i=fE(t.s,n.s),a=fE(t.l,n.l),s=fE(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=i(e),t.l=a(e),t.opacity=s(e),t+""}}}const FE=zE(dE);var BE=zE(fE);function WE(e){return function(t,n){var r=e((t=YC(t)).h,(n=YC(n)).h),i=fE(t.c,n.c),a=fE(t.l,n.l),s=fE(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=i(e),t.l=a(e),t.opacity=s(e),t+""}}}const $E=WE(dE);var VE=WE(fE);function KE(e){return function t(n){function r(t,r){var i=e((t=iE(t)).h,(r=iE(r)).h),a=fE(t.s,r.s),s=fE(t.l,r.l),o=fE(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=a(e),t.l=s(Math.pow(e,n)),t.opacity=o(e),t+""}}return n=+n,r.gamma=t,r}(1)}const HE=KE(dE);var UE=KE(fE);function YE(e,t){void 0===t&&(t=e,e=CE);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return a[t](e-t)}}function qE(e){return+e}var GE=[0,1];function XE(e){return e}function QE(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function ZE(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=QE(i,r),a=n(s,a)):(r=QE(r,i),a=n(a,s)),function(e){return a(r(e))}}function JE(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=QE(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(t){var n=Ek(e,t,1,r)-1;return a[n](i[n](t))}}function eP(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function tP(){var e,t,n,r,i,a,s=GE,o=GE,l=CE,c=XE;function u(){var e=Math.min(s.length,o.length);return c!==XE&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(s[0],s[e-1])),r=e>2?JE:ZE,i=a=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(s.map(e),o,l)))(e(c(t)))}return d.invert=function(n){return c(t((a||(a=r(o,s.map(e),wE)))(n)))},d.domain=function(e){return arguments.length?(s=Array.from(e,qE),u()):s.slice()},d.range=function(e){return arguments.length?(o=Array.from(e),u()):o.slice()},d.rangeRound=function(e){return o=Array.from(e),l=EE,u()},d.clamp=function(e){return arguments.length?(c=!!e||XE,u()):c!==XE},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function nP(){return tP()(XE,XE)}function rP(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function iP(e){return(e=rP(Math.abs(e)))?e[1]:NaN}var aP,sP=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function oP(e){if(!(t=sP.exec(e)))throw new Error("invalid format: "+e);var t;return new lP({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function lP(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function cP(e,t){var n=rP(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}oP.prototype=lP.prototype,lP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const uP={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>cP(100*e,t),r:cP,s:function(e,t){var n=rP(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(aP=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+rP(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function dP(e){return e}var hP,fP,mP,pP=Array.prototype.map,gP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function xP(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?dP:(t=pP.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(e.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?dP:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(pP.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=oP(e)).fill,n=e.align,d=e.sign,h=e.symbol,f=e.zero,m=e.width,p=e.comma,g=e.precision,x=e.trim,y=e.type;"n"===y?(p=!0,y="g"):uP[y]||(void 0===g&&(g=12),x=!0,y="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var v="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===h?a:/[%p]/.test(y)?l:"",_=uP[y],w=/[defgprs%]/.test(y);function j(e){var i,a,l,h=v,j=b;if("c"===y)j=_(e)+j,e="";else{var N=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:_(Math.abs(e),g),x&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),N&&0===+e&&"+"!==d&&(N=!1),h=(N?"("===d?d:c:"-"===d||"("===d?"":d)+h,j=("s"===y?gP[8+aP/3]:"")+j+(N&&"("===d?")":""),w)for(i=-1,a=e.length;++i<a;)if(48>(l=e.charCodeAt(i))||l>57){j=(46===l?s+e.slice(i+1):e.slice(i))+j,e=e.slice(0,i);break}}p&&!f&&(e=r(e,1/0));var k=h.length+e.length+j.length,S=k<m?new Array(m-k+1).join(t):"";switch(p&&f&&(e=r(S+e,S.length?m-j.length:1/0),S=""),n){case"<":e=h+e+j+S;break;case"=":e=h+S+e+j;break;case"^":e=S.slice(0,k=S.length>>1)+h+e+j+S.slice(k);break;default:e=S+h+e+j}return o(e)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),j.toString=function(){return e+""},j}return{format:d,formatPrefix:function(e,t){var n=d(((e=oP(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(iP(t)/3))),i=Math.pow(10,-r),a=gP[8+r/3];return function(e){return n(i*e)+a}}}}function yP(e){return hP=xP(e),fP=hP.format,mP=hP.formatPrefix,hP}function vP(e){return Math.max(0,-iP(Math.abs(e)))}function bP(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(iP(t)/3)))-iP(Math.abs(e)))}function _P(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,iP(t)-iP(e))+1}function wP(e,t,n,r){var i,a=xS(e,t,n);switch((r=oP(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=bP(a,s))||(r.precision=i),mP(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=_P(a,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=vP(a))||(r.precision=i-2*("%"===r.type))}return fP(r)}function jP(e){var t=e.domain;return e.ticks=function(e){var n=t();return pS(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return wP(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,a=t(),s=0,o=a.length-1,l=a[s],c=a[o],u=10;for(c<l&&(i=l,l=c,c=i,i=s,s=o,o=i);u-- >0;){if((i=gS(l,c,n))===r)return a[s]=l,a[o]=c,t(a);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function NP(){var e=nP();return e.copy=function(){return eP(e,NP())},$S.apply(e,arguments),jP(e)}function kP(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,qE),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return kP(e).unknown(t)},e=arguments.length?Array.from(e,qE):[0,1],jP(n)}function SP(e,t){var n,r=0,i=(e=e.slice()).length-1,a=e[r],s=e[i];return s<a&&(n=r,r=i,i=n,n=a,a=s,s=n),e[r]=t.floor(a),e[i]=t.ceil(s),e}function CP(e){return Math.log(e)}function EP(e){return Math.exp(e)}function PP(e){return-Math.log(-e)}function MP(e){return-Math.exp(-e)}function OP(e){return isFinite(e)?+("1e"+e):e<0?0:e}function AP(e){return(t,n)=>-e(-t,n)}function TP(e){const t=e(CP,EP),n=t.domain;let r,i,a=10;function s(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(a),i=function(e){return 10===e?OP:e===Math.E?Math.exp:t=>Math.pow(e,t)}(a),n()[0]<0?(r=AP(r),i=AP(i),e(PP,MP)):e(CP,EP),t}return t.base=function(e){return arguments.length?(a=+e,s()):a},t.domain=function(e){return arguments.length?(n(e),s()):n()},t.ticks=e=>{const t=n();let s=t[0],o=t[t.length-1];const l=o<s;l&&([s,o]=[o,s]);let c,u,d=r(s),h=r(o);const f=null==e?10:+e;let m=[];if(!(a%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),s>0){for(;d<=h;++d)for(c=1;c<a;++c)if(u=d<0?c/i(-d):c*i(d),!(u<s)){if(u>o)break;m.push(u)}}else for(;d<=h;++d)for(c=a-1;c>=1;--c)if(u=d>0?c/i(-d):c*i(d),!(u<s)){if(u>o)break;m.push(u)}2*m.length<f&&(m=pS(s,o,f))}else m=pS(d,h,Math.min(h-d,f)).map(i);return l?m.reverse():m},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===a?"s":","),"function"!=typeof n&&(a%1||null!=(n=oP(n)).precision||(n.trim=!0),n=fP(n)),e===1/0)return n;const s=Math.max(1,a*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*a<a-.5&&(t*=a),t<=s?n(e):""}},t.nice=()=>n(SP(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function DP(){const e=TP(tP()).domain([1,10]);return e.copy=()=>eP(e,DP()).base(e.base()),$S.apply(e,arguments),e}function RP(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function IP(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function LP(e){var t=1,n=e(RP(t),IP(t));return n.constant=function(n){return arguments.length?e(RP(t=+n),IP(t)):t},jP(n)}function zP(){var e=LP(tP());return e.copy=function(){return eP(e,zP()).constant(e.constant())},$S.apply(e,arguments)}function FP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function BP(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function WP(e){return e<0?-e*e:e*e}function $P(e){var t=e(XE,XE),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(XE,XE):.5===n?e(BP,WP):e(FP(n),FP(1/n)):n},jP(t)}function VP(){var e=$P(tP());return e.copy=function(){return eP(e,VP()).exponent(e.exponent())},$S.apply(e,arguments),e}function KP(){return VP.apply(null,arguments).exponent(.5)}function HP(e){return Math.sign(e)*e*e}function UP(){var e,t=nP(),n=[0,1],r=!1;function i(n){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(i)?e:r?Math.round(i):i}return i.invert=function(e){return t.invert(HP(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,qE)).map(HP)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return UP(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},$S.apply(i,arguments),jP(i)}function YP(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=PS(t,e/i);return a}function a(t){return null==t||isNaN(t=+t)?e:n[Ek(r,t)]}return a.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},a.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(wk),i()},a.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return r.slice()},a.copy=function(){return YP().domain(t).range(n).unknown(e)},$S.apply(a,arguments)}function qP(){var e,t=0,n=1,r=1,i=[.5],a=[0,1];function s(t){return null!=t&&t<=t?a[Ek(i,t,0,r)]:e}function o(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return s}return s.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,o()):[t,n]},s.range=function(e){return arguments.length?(r=(a=Array.from(e)).length-1,o()):a.slice()},s.invertExtent=function(e){var s=a.indexOf(e);return s<0?[NaN,NaN]:s<1?[t,i[0]]:s>=r?[i[r-1],n]:[i[s-1],i[s]]},s.unknown=function(t){return arguments.length?(e=t,s):s},s.thresholds=function(){return i.slice()},s.copy=function(){return qP().domain([t,n]).range(a).unknown(e)},$S.apply(jP(s),arguments)}function GP(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[Ek(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return GP().domain(t).range(n).unknown(e)},$S.apply(i,arguments)}yP({thousands:",",grouping:[3],currency:["$",""]});const XP=new Date,QP=new Date;function ZP(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,a)=>{const s=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r&&a>0))return s;let o;do{s.push(o=new Date(+n)),t(n,a),e(n)}while(o<n&&n<r);return s},i.filter=n=>ZP(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(i.count=(t,r)=>(XP.setTime(+t),QP.setTime(+r),e(XP),e(QP),Math.floor(n(XP,QP))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const JP=ZP(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);JP.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?ZP(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):JP:null);const eM=JP.range,tM=1e3,nM=6e4,rM=36e5,iM=864e5,aM=6048e5,sM=2592e6,oM=31536e6,lM=ZP(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*tM)},(e,t)=>(t-e)/tM,e=>e.getUTCSeconds()),cM=lM.range,uM=ZP(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*tM)},(e,t)=>{e.setTime(+e+t*nM)},(e,t)=>(t-e)/nM,e=>e.getMinutes()),dM=uM.range,hM=ZP(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*nM)},(e,t)=>(t-e)/nM,e=>e.getUTCMinutes()),fM=hM.range,mM=ZP(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*tM-e.getMinutes()*nM)},(e,t)=>{e.setTime(+e+t*rM)},(e,t)=>(t-e)/rM,e=>e.getHours()),pM=mM.range,gM=ZP(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*rM)},(e,t)=>(t-e)/rM,e=>e.getUTCHours()),xM=gM.range,yM=ZP(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*nM)/iM,e=>e.getDate()-1),vM=yM.range,bM=ZP(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/iM,e=>e.getUTCDate()-1),_M=bM.range,wM=ZP(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/iM,e=>Math.floor(e/iM)),jM=wM.range;function NM(e){return ZP(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*nM)/aM)}const kM=NM(0),SM=NM(1),CM=NM(2),EM=NM(3),PM=NM(4),MM=NM(5),OM=NM(6),AM=kM.range,TM=SM.range,DM=CM.range,RM=EM.range,IM=PM.range,LM=MM.range,zM=OM.range;function FM(e){return ZP(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/aM)}const BM=FM(0),WM=FM(1),$M=FM(2),VM=FM(3),KM=FM(4),HM=FM(5),UM=FM(6),YM=BM.range,qM=WM.range,GM=$M.range,XM=VM.range,QM=KM.range,ZM=HM.range,JM=UM.range,eO=ZP(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth()),tO=eO.range,nO=ZP(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth()),rO=nO.range,iO=ZP(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());iO.every=e=>isFinite(e=Math.floor(e))&&e>0?ZP(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null;const aO=iO.range,sO=ZP(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());sO.every=e=>isFinite(e=Math.floor(e))&&e>0?ZP(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null;const oO=sO.range;function lO(e,t,n,r,i,a){const s=[[lM,1,tM],[lM,5,5e3],[lM,15,15e3],[lM,30,3e4],[a,1,nM],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,rM],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,iM],[r,2,1728e5],[n,1,aM],[t,1,sM],[t,3,7776e6],[e,1,oM]];function o(t,n,r){const i=Math.abs(n-t)/r,a=Nk(([,,e])=>e).right(s,i);if(a===s.length)return e.every(xS(t/oM,n/oM,r));if(0===a)return JP.every(Math.max(xS(t,n,r),1));const[o,l]=s[i/s[a-1][2]<s[a][2]/i?a-1:a];return o.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"==typeof n.range?n:o(e,t,n),a=i?i.range(e,+t+1):[];return r?a.reverse():a},o]}const[cO,uO]=lO(sO,nO,BM,wM,gM,hM),[dO,hO]=lO(iO,eO,kM,yM,mM,uM);function fO(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function mO(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function pO(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function gO(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=EO(i),u=PO(i),d=EO(a),h=PO(a),f=EO(s),m=PO(s),p=EO(o),g=PO(o),x=EO(l),y=PO(l),v={a:function(e){return s[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return o[e.getMonth()]},c:null,d:XO,e:XO,f:tA,g:hA,G:mA,H:QO,I:ZO,j:JO,L:eA,m:nA,M:rA,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:LA,s:zA,S:iA,u:aA,U:sA,V:lA,w:cA,W:uA,x:null,X:null,y:dA,Y:fA,Z:pA,"%":IA},b={a:function(e){return s[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return o[e.getUTCMonth()]},c:null,d:gA,e:gA,f:_A,g:AA,G:DA,H:xA,I:yA,j:vA,L:bA,m:wA,M:jA,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:LA,s:zA,S:NA,u:kA,U:SA,V:EA,w:PA,W:MA,x:null,X:null,y:OA,Y:TA,Z:RA,"%":IA},_={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=m.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=x.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=p.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return N(e,t,n,r)},d:BO,e:BO,f:UO,g:IO,G:RO,H:$O,I:$O,j:WO,L:HO,m:FO,M:VO,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:zO,Q:qO,s:GO,S:KO,u:OO,U:AO,V:TO,w:MO,W:DO,x:function(e,t,r){return N(e,n,t,r)},X:function(e,t,n){return N(e,r,t,n)},y:IO,Y:RO,Z:LO,"%":YO};function w(e,t){return function(n){var r,i,a,s=[],o=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++o<c;)37===e.charCodeAt(o)&&(s.push(e.slice(l,o)),null!=(i=wO[r=e.charAt(++o)])?r=e.charAt(++o):i="e"===r?" ":"0",(a=t[r])&&(r=a(n,i)),s.push(r),l=o+1);return s.push(e.slice(l,o)),s.join("")}}function j(e,t){return function(n){var r,i,a=pO(1900,void 0,1);if(N(a,e,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=mO(pO(a.y,0,1))).getUTCDay(),r=i>4||0===i?WM.ceil(r):WM(r),r=bM.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=fO(pO(a.y,0,1))).getDay(),r=i>4||0===i?SM.ceil(r):SM(r),r=yM.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?mO(pO(a.y,0,1)).getUTCDay():fO(pO(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,mO(a)):fO(a)}}function N(e,t,n,r){for(var i,a,s=0,o=t.length,l=n.length;s<o;){if(r>=l)return-1;if(37===(i=t.charCodeAt(s++))){if(i=t.charAt(s++),!(a=_[i in wO?t.charAt(s++):i])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return v.x=w(n,v),v.X=w(r,v),v.c=w(t,v),b.x=w(n,b),b.X=w(r,b),b.c=w(t,b),{format:function(e){var t=w(e+="",v);return t.toString=function(){return e},t},parse:function(e){var t=j(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=j(e+="",!0);return t.toString=function(){return e},t}}}var xO,yO,vO,bO,_O,wO={"-":"",_:" ",0:"0"},jO=/^\s*\d+/,NO=/^%/,kO=/[\\^$*+?|[\]().{}]/g;function SO(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function CO(e){return e.replace(kO,"\\$&")}function EO(e){return new RegExp("^(?:"+e.map(CO).join("|")+")","i")}function PO(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function MO(e,t,n){var r=jO.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function OO(e,t,n){var r=jO.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function AO(e,t,n){var r=jO.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function TO(e,t,n){var r=jO.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function DO(e,t,n){var r=jO.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function RO(e,t,n){var r=jO.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function IO(e,t,n){var r=jO.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function LO(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function zO(e,t,n){var r=jO.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function FO(e,t,n){var r=jO.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function BO(e,t,n){var r=jO.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function WO(e,t,n){var r=jO.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function $O(e,t,n){var r=jO.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function VO(e,t,n){var r=jO.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function KO(e,t,n){var r=jO.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function HO(e,t,n){var r=jO.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function UO(e,t,n){var r=jO.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function YO(e,t,n){var r=NO.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function qO(e,t,n){var r=jO.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function GO(e,t,n){var r=jO.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function XO(e,t){return SO(e.getDate(),t,2)}function QO(e,t){return SO(e.getHours(),t,2)}function ZO(e,t){return SO(e.getHours()%12||12,t,2)}function JO(e,t){return SO(1+yM.count(iO(e),e),t,3)}function eA(e,t){return SO(e.getMilliseconds(),t,3)}function tA(e,t){return eA(e,t)+"000"}function nA(e,t){return SO(e.getMonth()+1,t,2)}function rA(e,t){return SO(e.getMinutes(),t,2)}function iA(e,t){return SO(e.getSeconds(),t,2)}function aA(e){var t=e.getDay();return 0===t?7:t}function sA(e,t){return SO(kM.count(iO(e)-1,e),t,2)}function oA(e){var t=e.getDay();return t>=4||0===t?PM(e):PM.ceil(e)}function lA(e,t){return e=oA(e),SO(PM.count(iO(e),e)+(4===iO(e).getDay()),t,2)}function cA(e){return e.getDay()}function uA(e,t){return SO(SM.count(iO(e)-1,e),t,2)}function dA(e,t){return SO(e.getFullYear()%100,t,2)}function hA(e,t){return SO((e=oA(e)).getFullYear()%100,t,2)}function fA(e,t){return SO(e.getFullYear()%1e4,t,4)}function mA(e,t){var n=e.getDay();return SO((e=n>=4||0===n?PM(e):PM.ceil(e)).getFullYear()%1e4,t,4)}function pA(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+SO(t/60|0,"0",2)+SO(t%60,"0",2)}function gA(e,t){return SO(e.getUTCDate(),t,2)}function xA(e,t){return SO(e.getUTCHours(),t,2)}function yA(e,t){return SO(e.getUTCHours()%12||12,t,2)}function vA(e,t){return SO(1+bM.count(sO(e),e),t,3)}function bA(e,t){return SO(e.getUTCMilliseconds(),t,3)}function _A(e,t){return bA(e,t)+"000"}function wA(e,t){return SO(e.getUTCMonth()+1,t,2)}function jA(e,t){return SO(e.getUTCMinutes(),t,2)}function NA(e,t){return SO(e.getUTCSeconds(),t,2)}function kA(e){var t=e.getUTCDay();return 0===t?7:t}function SA(e,t){return SO(BM.count(sO(e)-1,e),t,2)}function CA(e){var t=e.getUTCDay();return t>=4||0===t?KM(e):KM.ceil(e)}function EA(e,t){return e=CA(e),SO(KM.count(sO(e),e)+(4===sO(e).getUTCDay()),t,2)}function PA(e){return e.getUTCDay()}function MA(e,t){return SO(WM.count(sO(e)-1,e),t,2)}function OA(e,t){return SO(e.getUTCFullYear()%100,t,2)}function AA(e,t){return SO((e=CA(e)).getUTCFullYear()%100,t,2)}function TA(e,t){return SO(e.getUTCFullYear()%1e4,t,4)}function DA(e,t){var n=e.getUTCDay();return SO((e=n>=4||0===n?KM(e):KM.ceil(e)).getUTCFullYear()%1e4,t,4)}function RA(){return"+0000"}function IA(){return"%"}function LA(e){return+e}function zA(e){return Math.floor(+e/1e3)}function FA(e){return xO=gO(e),yO=xO.format,vO=xO.parse,bO=xO.utcFormat,_O=xO.utcParse,xO}FA({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var BA="%Y-%m-%dT%H:%M:%S.%LZ",WA=Date.prototype.toISOString?function(e){return e.toISOString()}:bO(BA),$A=+new Date("2000-01-01T00:00:00.000Z")?function(e){var t=new Date(e);return isNaN(t)?null:t}:_O(BA);function VA(e){return new Date(e)}function KA(e){return e instanceof Date?+e:+new Date(+e)}function HA(e,t,n,r,i,a,s,o,l,c){var u=nP(),d=u.invert,h=u.domain,f=c(".%L"),m=c(":%S"),p=c("%I:%M"),g=c("%I %p"),x=c("%a %d"),y=c("%b %d"),v=c("%B"),b=c("%Y");function _(e){return(l(e)<e?f:o(e)<e?m:s(e)<e?p:a(e)<e?g:r(e)<e?i(e)<e?x:y:n(e)<e?v:b)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,KA)):h().map(VA)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?_:c(t)},u.nice=function(e){var n=h();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(SP(n,e)):u},u.copy=function(){return eP(u,HA(e,t,n,r,i,a,s,o,l,c))},u}function UA(){return $S.apply(HA(dO,hO,iO,eO,kM,yM,mM,uM,lM,yO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function YA(){return $S.apply(HA(cO,uO,sO,nO,BM,bM,gM,hM,lM,bO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function qA(){var e,t,n,r,i,a=0,s=1,o=XE,l=!1;function c(t){return null==t||isNaN(t=+t)?i:o(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,o=e(n,r),c):[o(0),o(1)]}}return c.domain=function(i){return arguments.length?([a,s]=i,e=r(a=+a),t=r(s=+s),n=e===t?0:1/(t-e),c):[a,s]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(o=e,c):o},c.range=u(CE),c.rangeRound=u(EE),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(a),t=i(s),n=e===t?0:1/(t-e),c}}function GA(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function XA(){var e=jP(qA()(XE));return e.copy=function(){return GA(e,XA())},VS.apply(e,arguments)}function QA(){var e=TP(qA()).domain([1,10]);return e.copy=function(){return GA(e,QA()).base(e.base())},VS.apply(e,arguments)}function ZA(){var e=LP(qA());return e.copy=function(){return GA(e,ZA()).constant(e.constant())},VS.apply(e,arguments)}function JA(){var e=$P(qA());return e.copy=function(){return GA(e,JA()).exponent(e.exponent())},VS.apply(e,arguments)}function eT(){return JA.apply(null,arguments).exponent(.5)}function tT(){var e=[],t=XE;function n(n){if(null!=n&&!isNaN(n=+n))return t((Ek(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(wk),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((n,r)=>t(r/(e.length-1)))},n.quantiles=function(t){return Array.from({length:t+1},(n,r)=>ES(e,r/t))},n.copy=function(){return tT(t).domain(e)},VS.apply(n,arguments)}function nT(){var e,t,n,r,i,a,s,o=0,l=.5,c=1,u=1,d=XE,h=!1;function f(e){return isNaN(e=+e)?s:(e=.5+((e=+a(e))-t)*(u*e<u*t?r:i),d(h?Math.max(0,Math.min(1,e)):e))}function m(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,d=YE(e,[n,r,i]),f):[d(0),d(.5),d(1)]}}return f.domain=function(s){return arguments.length?([o,l,c]=s,e=a(o=+o),t=a(l=+l),n=a(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f):[o,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=m(CE),f.rangeRound=m(EE),f.unknown=function(e){return arguments.length?(s=e,f):s},function(s){return a=s,e=s(o),t=s(l),n=s(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f}}function rT(){var e=jP(nT()(XE));return e.copy=function(){return GA(e,rT())},VS.apply(e,arguments)}function iT(){var e=TP(nT()).domain([.1,1,10]);return e.copy=function(){return GA(e,iT()).base(e.base())},VS.apply(e,arguments)}function aT(){var e=LP(nT());return e.copy=function(){return GA(e,aT()).constant(e.constant())},VS.apply(e,arguments)}function sT(){var e=$P(nT());return e.copy=function(){return GA(e,sT()).exponent(e.exponent())},VS.apply(e,arguments)}function oT(){return sT.apply(null,arguments).exponent(.5)}const lT=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:US,scaleDiverging:rT,scaleDivergingLog:iT,scaleDivergingPow:sT,scaleDivergingSqrt:oT,scaleDivergingSymlog:aT,scaleIdentity:kP,scaleImplicit:KS,scaleLinear:NP,scaleLog:DP,scaleOrdinal:HS,scalePoint:qS,scalePow:VP,scaleQuantile:YP,scaleQuantize:qP,scaleRadial:UP,scaleSequential:XA,scaleSequentialLog:QA,scaleSequentialPow:JA,scaleSequentialQuantile:tT,scaleSequentialSqrt:eT,scaleSequentialSymlog:ZA,scaleSqrt:KP,scaleSymlog:zP,scaleThreshold:GP,scaleTime:UA,scaleUtc:YA,tickFormat:wP},Symbol.toStringTag,{value:"Module"}));var cT=e=>e.chartData,uT=Av([cT],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),dT=(e,t,n,r)=>r?uT(e):cT(e);function hT(e){if(Array.isArray(e)&&2===e.length){var[t,n]=e;if(Vj(t)&&Vj(n))return!0}return!1}function fT(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}var mT,pT=1e9,gT=!0,xT="[DecimalError] ",yT=xT+"Invalid argument: ",vT=xT+"Exponent out of range: ",bT=Math.floor,_T=Math.pow,wT=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,jT=1e7,NT=9007199254740991,kT=bT(1286742750677284.5),ST={};function CT(e,t){var n,r,i,a,s,o,l,c,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),gT?LT(t,d):t;if(l=e.d,c=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i){for(a<0?(r=l,a=-a,o=c.length):(r=c,i=s,o=l.length),a>(o=(s=Math.ceil(d/7))>o?s+1:o+1)&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for((o=l.length)-(a=c.length)<0&&(a=o,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/jT|0,l[a]%=jT;for(n&&(l.unshift(n),++i),o=l.length;0==l[--o];)l.pop();return t.d=l,t.e=i,gT?LT(t,d):t}function ET(e,t,n){if(e!==~~e||e<t||e>n)throw Error(yT+e)}function PT(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(a+=DT(n)),a+=r;(n=7-(r=(s=e[t])+"").length)&&(a+=DT(n))}else if(0===s)return"0";for(;s%10==0;)s/=10;return a+s}ST.absoluteValue=ST.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},ST.comparedTo=ST.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(t=0,n=(r=a.d.length)<(i=e.d.length)?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1},ST.decimalPlaces=ST.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},ST.dividedBy=ST.div=function(e){return MT(this,new this.constructor(e))},ST.dividedToIntegerBy=ST.idiv=function(e){var t=this.constructor;return LT(MT(this,new t(e),0,1),t.precision)},ST.equals=ST.eq=function(e){return!this.cmp(e)},ST.exponent=function(){return AT(this)},ST.greaterThan=ST.gt=function(e){return this.cmp(e)>0},ST.greaterThanOrEqualTo=ST.gte=function(e){return this.cmp(e)>=0},ST.isInteger=ST.isint=function(){return this.e>this.d.length-2},ST.isNegative=ST.isneg=function(){return this.s<0},ST.isPositive=ST.ispos=function(){return this.s>0},ST.isZero=function(){return 0===this.s},ST.lessThan=ST.lt=function(e){return this.cmp(e)<0},ST.lessThanOrEqualTo=ST.lte=function(e){return this.cmp(e)<1},ST.logarithm=ST.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(mT))throw Error(xT+"NaN");if(n.s<1)throw Error(xT+(n.s?"NaN":"-Infinity"));return n.eq(mT)?new r(0):(gT=!1,t=MT(RT(n,a),RT(e,a),a),gT=!0,LT(t,i))},ST.minus=ST.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?zT(t,e):CT(t,(e.s=-e.s,e))},ST.modulo=ST.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(xT+"NaN");return n.s?(gT=!1,t=MT(n,e,0,1).times(e),gT=!0,n.minus(t)):LT(new r(n),i)},ST.naturalExponential=ST.exp=function(){return OT(this)},ST.naturalLogarithm=ST.ln=function(){return RT(this)},ST.negated=ST.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},ST.plus=ST.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?CT(t,e):zT(t,(e.s=-e.s,e))},ST.precision=ST.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(yT+e);if(t=AT(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},ST.squareRoot=ST.sqrt=function(){var e,t,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(xT+"NaN")}for(e=AT(o),gT=!1,0==(i=Math.sqrt(+o))||i==1/0?(((t=PT(o.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=bT((e+1)/2)-(e<0||e%2),r=new l(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new l(i.toString()),i=s=(n=l.precision)+3;;)if(r=(a=r).plus(MT(o,a,s+2)).times(.5),PT(a.d).slice(0,s)===(t=PT(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&"4999"==t){if(LT(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if("9999"!=t)break;s+=4}return gT=!0,LT(r,n)},ST.times=ST.mul=function(e){var t,n,r,i,a,s,o,l,c,u=this,d=u.constructor,h=u.d,f=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,n=u.e+e.e,(l=h.length)<(c=f.length)&&(a=h,h=f,f=a,s=l,l=c,c=s),a=[],r=s=l+c;r--;)a.push(0);for(r=c;--r>=0;){for(t=0,i=l+r;i>r;)o=a[i]+f[r]*h[i-r-1]+t,a[i--]=o%jT|0,t=o/jT|0;a[i]=(a[i]+t)%jT|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,gT?LT(e,d.precision):e},ST.toDecimalPlaces=ST.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(ET(e,0,pT),void 0===t?t=r.rounding:ET(t,0,8),LT(n,e+AT(n)+1,t))},ST.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=FT(r,!0):(ET(e,0,pT),void 0===t?t=i.rounding:ET(t,0,8),n=FT(r=LT(new i(r),e+1,t),!0,e+1)),n},ST.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?FT(i):(ET(e,0,pT),void 0===t?t=a.rounding:ET(t,0,8),n=FT((r=LT(new a(i),e+AT(i)+1,t)).abs(),!1,e+AT(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},ST.toInteger=ST.toint=function(){var e=this,t=e.constructor;return LT(new t(e),AT(e)+1,t.rounding)},ST.toNumber=function(){return+this},ST.toPower=ST.pow=function(e){var t,n,r,i,a,s,o=this,l=o.constructor,c=+(e=new l(e));if(!e.s)return new l(mT);if(!(o=new l(o)).s){if(e.s<1)throw Error(xT+"Infinity");return o}if(o.eq(mT))return o;if(r=l.precision,e.eq(mT))return LT(o,r);if(s=(t=e.e)>=(n=e.d.length-1),a=o.s,s){if((n=c<0?-c:c)<=NT){for(i=new l(mT),t=Math.ceil(r/7+4),gT=!1;n%2&&BT((i=i.times(o)).d,t),0!==(n=bT(n/2));)BT((o=o.times(o)).d,t);return gT=!0,e.s<0?new l(mT).div(i):LT(i,r)}}else if(a<0)throw Error(xT+"NaN");return a=a<0&&1&e.d[Math.max(t,n)]?-1:1,o.s=1,gT=!1,i=e.times(RT(o,r+12)),gT=!0,(i=OT(i)).s=a,i},ST.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?r=FT(i,(n=AT(i))<=a.toExpNeg||n>=a.toExpPos):(ET(e,1,pT),void 0===t?t=a.rounding:ET(t,0,8),r=FT(i=LT(new a(i),e,t),e<=(n=AT(i))||n<=a.toExpNeg,e)),r},ST.toSignificantDigits=ST.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(ET(e,1,pT),void 0===t?t=n.rounding:ET(t,0,8)),LT(new n(this),e,t)},ST.toString=ST.valueOf=ST.val=ST.toJSON=ST[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=AT(e),n=e.constructor;return FT(e,t<=n.toExpNeg||t>=n.toExpPos)};var MT=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%jT|0,r=n/jT|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,a;if(n!=r)a=n>r?1:-1;else for(i=a=0;i<n;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*jT+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,a,s){var o,l,c,u,d,h,f,m,p,g,x,y,v,b,_,w,j,N,k=r.constructor,S=r.s==i.s?1:-1,C=r.d,E=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(xT+"Division by zero");for(l=r.e-i.e,j=E.length,_=C.length,m=(f=new k(S)).d=[],c=0;E[c]==(C[c]||0);)++c;if(E[c]>(C[c]||0)&&--l,(y=null==a?a=k.precision:s?a+(AT(r)-AT(i))+1:a)<0)return new k(0);if(y=y/7+2|0,c=0,1==j)for(u=0,E=E[0],y++;(c<_||u)&&y--;c++)v=u*jT+(C[c]||0),m[c]=v/E|0,u=v%E|0;else{for((u=jT/(E[0]+1)|0)>1&&(E=e(E,u),C=e(C,u),j=E.length,_=C.length),b=j,g=(p=C.slice(0,j)).length;g<j;)p[g++]=0;(N=E.slice()).unshift(0),w=E[0],E[1]>=jT/2&&++w;do{u=0,(o=t(E,p,j,g))<0?(x=p[0],j!=g&&(x=x*jT+(p[1]||0)),(u=x/w|0)>1?(u>=jT&&(u=jT-1),1==(o=t(d=e(E,u),p,h=d.length,g=p.length))&&(u--,n(d,j<h?N:E,h))):(0==u&&(o=u=1),d=E.slice()),(h=d.length)<g&&d.unshift(0),n(p,d,g),-1==o&&(o=t(E,p,j,g=p.length))<1&&(u++,n(p,j<g?N:E,g)),g=p.length):0===o&&(u++,p=[0]),m[c++]=u,o&&p[0]?p[g++]=C[b]||0:(p=[C[b]],g=1)}while((b++<_||void 0!==p[0])&&y--)}return m[0]||m.shift(),f.e=l,LT(f,s?a+AT(f)+1:a)}}();function OT(e,t){var n,r,i,a,s,o=0,l=0,c=e.constructor,u=c.precision;if(AT(e)>16)throw Error(vT+AT(e));if(!e.s)return new c(mT);for(gT=!1,s=u,a=new c(.03125);e.abs().gte(.1);)e=e.times(a),l+=5;for(s+=Math.log(_T(2,l))/Math.LN10*2+5|0,n=r=i=new c(mT),c.precision=s;;){if(r=LT(r.times(e),s),n=n.times(++o),PT((a=i.plus(MT(r,n,s))).d).slice(0,s)===PT(i.d).slice(0,s)){for(;l--;)i=LT(i.times(i),s);return c.precision=u,null==t?(gT=!0,LT(i,u)):i}i=a}}function AT(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function TT(e,t,n){if(t>e.LN10.sd())throw gT=!0,n&&(e.precision=n),Error(xT+"LN10 precision limit exceeded");return LT(new e(e.LN10),t)}function DT(e){for(var t="";e--;)t+="0";return t}function RT(e,t){var n,r,i,a,s,o,l,c,u,d=1,h=e,f=h.d,m=h.constructor,p=m.precision;if(h.s<1)throw Error(xT+(h.s?"NaN":"-Infinity"));if(h.eq(mT))return new m(0);if(null==t?(gT=!1,c=p):c=t,h.eq(10))return null==t&&(gT=!0),TT(m,c);if(c+=10,m.precision=c,r=(n=PT(f)).charAt(0),a=AT(h),!(Math.abs(a)<15e14))return l=TT(m,c+2,p).times(a+""),h=RT(new m(r+"."+n.slice(1)),c-10).plus(l),m.precision=p,null==t?(gT=!0,LT(h,p)):h;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=PT((h=h.times(e)).d)).charAt(0),d++;for(a=AT(h),r>1?(h=new m("0."+n),a++):h=new m(r+"."+n.slice(1)),o=s=h=MT(h.minus(mT),h.plus(mT),c),u=LT(h.times(h),c),i=3;;){if(s=LT(s.times(u),c),PT((l=o.plus(MT(s,new m(i),c))).d).slice(0,c)===PT(o.d).slice(0,c))return o=o.times(2),0!==a&&(o=o.plus(TT(m,c+2,p).times(a+""))),o=MT(o,new m(d),c),m.precision=p,null==t?(gT=!0,LT(o,p)):o;o=l,i+=2}}function IT(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=bT(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),gT&&(e.e>kT||e.e<-kT))throw Error(vT+n)}else e.s=0,e.e=0,e.d=[0];return e}function LT(e,t,n){var r,i,a,s,o,l,c,u,d=e.d;for(s=1,a=d[0];a>=10;a/=10)s++;if((r=t-s)<0)r+=7,i=t,c=d[u=0];else{if((u=Math.ceil((r+1)/7))>=(a=d.length))return e;for(c=a=d[u],s=1;a>=10;a/=10)s++;i=(r%=7)-7+s}if(void 0!==n&&(o=c/(a=_T(10,s-i-1))%10|0,l=t<0||void 0!==d[u+1]||c%a,l=n<4?(o||l)&&(0==n||n==(e.s<0?3:2)):o>5||5==o&&(4==n||l||6==n&&(r>0?i>0?c/_T(10,s-i):0:d[u-1])%10&1||n==(e.s<0?8:7))),t<1||!d[0])return l?(a=AT(e),d.length=1,t=t-a-1,d[0]=_T(10,(7-t%7)%7),e.e=bT(-t/7)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(0==r?(d.length=u,a=1,u--):(d.length=u+1,a=_T(10,7-r),d[u]=i>0?(c/_T(10,s-i)%_T(10,i)|0)*a:0),l)for(;;){if(0==u){(d[0]+=a)==jT&&(d[0]=1,++e.e);break}if(d[u]+=a,d[u]!=jT)break;d[u--]=0,a=1}for(r=d.length;0===d[--r];)d.pop();if(gT&&(e.e>kT||e.e<-kT))throw Error(vT+AT(e));return e}function zT(e,t){var n,r,i,a,s,o,l,c,u,d,h=e.constructor,f=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),gT?LT(t,f):t;if(l=e.d,d=t.d,r=t.e,c=e.e,l=l.slice(),s=c-r){for((u=s<0)?(n=l,s=-s,o=d.length):(n=d,r=c,o=l.length),s>(i=Math.max(Math.ceil(f/7),o)+2)&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for((u=(i=l.length)<(o=d.length))&&(o=i),i=0;i<o;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}s=0}for(u&&(n=l,l=d,d=n,t.s=-t.s),o=l.length,i=d.length-o;i>0;--i)l[o++]=0;for(i=d.length;i>s;){if(l[--i]<d[i]){for(a=i;a&&0===l[--a];)l[a]=jT-1;--l[a],l[i]+=jT}l[i]-=d[i]}for(;0===l[--o];)l.pop();for(;0===l[0];l.shift())--r;return l[0]?(t.d=l,t.e=r,gT?LT(t,f):t):new h(0)}function FT(e,t,n){var r,i=AT(e),a=PT(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+DT(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+DT(-i-1)+a,n&&(r=n-s)>0&&(a+=DT(r))):i>=s?(a+=DT(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+DT(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=DT(r))),e.s<0?"-"+a:a}function BT(e,t){if(e.length>t)return e.length=t,!0}function WT(e){if(!e||"object"!=typeof e)throw Error(xT+"Object expected");var t,n,r,i=["precision",1,pT,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(bT(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(yT+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(yT+n+": "+r);this[n]=new this(r)}return this}var $T=function e(t){var n,r,i;function a(e){var t=this;if(!(t instanceof a))return new a(e);if(t.constructor=a,e instanceof a)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(yT+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):IT(t,e.toString())}if("string"!=typeof e)throw Error(yT+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!wT.test(e))throw Error(yT+e);IT(t,e)}if(a.prototype=ST,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e,a.config=a.set=WT,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return a.config(t),a}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});mT=new $T(1);const VT=$T;var KT=e=>e,HT={},UT=e=>e===HT,YT=e=>function t(){return 0===arguments.length||1===arguments.length&&UT(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},qT=(e,t)=>1===e?t:YT(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(e=>e!==HT).length;return a>=e?t(...r):qT(e-a,YT(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var a=r.map(e=>UT(e)?n.shift():e);return t(...a,...n)}))}),GT=e=>qT(e.length,e),XT=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},QT=GT((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)),ZT=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),JT=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t&&i.every((e,n)=>{var r;return e===(null===(r=t)||void 0===r?void 0:r[n])})?n:(t=i,n=e(...i))}};function eD(e){return 0===e?1:Math.floor(new VT(e).abs().log(10).toNumber())+1}function tD(e,t,n){for(var r=new VT(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}GT((e,t,n)=>{var r=+e;return r+n*(+t-r)}),GT((e,t,n)=>{var r=t-+e;return(n-e)/(r=r||1/0)}),GT((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var nD=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},rD=(e,t,n)=>{if(e.lte(0))return new VT(0);var r=eD(e.toNumber()),i=new VT(10).pow(r),a=e.div(i),s=1!==r?.05:.1,o=new VT(Math.ceil(a.div(s).toNumber())).add(n).mul(s).mul(i);return new VT(t?o.toNumber():Math.ceil(o.toNumber()))},iD=(e,t,n)=>{var r=new VT(1),i=new VT(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new VT(10).pow(eD(e)-1),i=new VT(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new VT(Math.floor(e)))}else 0===e?i=new VT(Math.floor((t-1)/2)):n||(i=new VT(Math.floor(e)));var s=Math.floor((t-1)/2),o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return KT;var r=t.reverse(),i=r[0],a=r.slice(1);return function(){return a.reduce((e,t)=>t(e),i(...arguments))}}(QT(e=>i.add(new VT(e-s).mul(r)).toNumber()),XT);return o(0,t)},aD=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new VT(0),tickMin:new VT(0),tickMax:new VT(0)};var a,s=rD(new VT(t).sub(e).div(n-1),r,i);a=e<=0&&t>=0?new VT(0):(a=new VT(e).add(t).div(2)).sub(new VT(a).mod(s));var o=Math.ceil(a.sub(e).div(s).toNumber()),l=Math.ceil(new VT(t).sub(a).div(s).toNumber()),c=o+l+1;return c>n?aD(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,o=t>0?o:o+(n-c)),{step:s,tickMin:a.sub(new VT(o).mul(s)),tickMax:a.add(new VT(l).mul(s))})},sD=JT(function(e){var[t,n]=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(r,2),[s,o]=nD([t,n]);if(s===-1/0||o===1/0){var l=o===1/0?[s,...XT(0,r-1).map(()=>1/0)]:[...XT(0,r-1).map(()=>-1/0),o];return t>n?ZT(l):l}if(s===o)return iD(s,r,i);var{step:c,tickMin:u,tickMax:d}=aD(s,o,a,i,0),h=tD(u,d.add(new VT(.1).mul(c)),c);return t>n?ZT(h):h}),oD=JT(function(e,t){var[n,r]=e,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],[a,s]=nD([n,r]);if(a===-1/0||s===1/0)return[n,r];if(a===s)return[a];var o=Math.max(t,2),l=rD(new VT(s).sub(a).div(o-1),i,0),c=[...tD(new VT(a),new VT(s).sub(new VT(.99).mul(l)),l),s];return n>r?ZT(c):c}),lD=e=>e.rootProps.maxBarSize,cD=e=>e.rootProps.barCategoryGap,uD=e=>e.rootProps.stackOffset,dD=e=>e.options.chartName,hD=e=>e.rootProps.syncId,fD=e=>e.rootProps.syncMethod,mD=e=>e.options.eventEmitter,pD=0,gD="auto",xD=!0,yD=!1,vD=!0,bD=0,_D="auto",wD=!0,jD=5,ND=(e,t)=>{if(e&&t)return null!=e&&e.reversed?[t[1],t[0]]:t},kD={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:pD,includeHidden:!1,name:void 0,reversed:!1,scale:gD,tick:xD,tickCount:void 0,ticks:void 0,type:"category",unit:void 0},SD={allowDataOverflow:yD,allowDecimals:!1,allowDuplicatedCategory:vD,dataKey:void 0,domain:void 0,id:bD,includeHidden:!1,name:void 0,reversed:!1,scale:_D,tick:wD,tickCount:jD,ticks:void 0,type:"number",unit:void 0},CD={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:pD,includeHidden:!1,name:void 0,reversed:!1,scale:gD,tick:xD,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},ED={allowDataOverflow:yD,allowDecimals:!1,allowDuplicatedCategory:vD,dataKey:void 0,domain:void 0,id:bD,includeHidden:!1,name:void 0,reversed:!1,scale:_D,tick:wD,tickCount:jD,ticks:void 0,type:"category",unit:void 0},PD=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?CD:kD,MD=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?ED:SD,OD=e=>e.polarOptions,AD=Av([zw,Fw,Gw],pw),TD=Av([OD,AD],(e,t)=>{if(null!=e)return vm(e.innerRadius,t,0)}),DD=Av([OD,AD],(e,t)=>{if(null!=e)return vm(e.outerRadius,t,.8*t)}),RD=Av([OD],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]});Av([PD,RD],ND);var ID=Av([AD,TD,DD],(e,t,n)=>{if(null!=e&&null!=t&&null!=n)return[t,n]});Av([MD,ID],ND);var LD=Av([lj,OD,TD,DD,zw,Fw],(e,t,n,r,i,a)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=n&&null!=r){var{cx:s,cy:o,startAngle:l,endAngle:c}=t;return{cx:vm(s,i,i/2),cy:vm(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),zD=(e,t)=>t,FD=(e,t,n)=>n;function BD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function WD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BD(Object(n),!0).forEach(function(t){$D(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $D(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var VD=[0,"auto"],KD={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},HD=(e,t)=>{var n=e.cartesianAxis.xAxis[t];return null==n?KD:n},UD={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:VD,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},YD=(e,t)=>{var n=e.cartesianAxis.yAxis[t];return null==n?UD:n},qD={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},GD=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return null==n?qD:n},XD=(e,t,n)=>{switch(t){case"xAxis":return HD(e,n);case"yAxis":return YD(e,n);case"zAxis":return GD(e,n);case"angleAxis":return PD(e,n);case"radiusAxis":return MD(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},QD=(e,t,n)=>{switch(t){case"xAxis":return HD(e,n);case"yAxis":return YD(e,n);case"angleAxis":return PD(e,n);case"radiusAxis":return MD(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},ZD=e=>e.graphicalItems.countOfBars>0;function JD(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var eR=e=>e.graphicalItems.cartesianItems,tR=Av([zD,FD],JD),nR=(e,t,n)=>e.filter(n).filter(e=>!0===(null==t?void 0:t.includeHidden)||!e.hide),rR=Av([eR,XD,tR],nR),iR=e=>e.filter(e=>void 0===e.stackId),aR=Av([rR],iR),sR=e=>e.map(e=>e.data).filter(Boolean).flat(1),oR=Av([rR],sR),lR=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},cR=Av([oR,dT],lR),uR=(e,t,n)=>null!=(null==t?void 0:t.dataKey)?e.map(e=>({value:ww(e,t.dataKey)})):n.length>0?n.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:ww(e,t)}))):e.map(e=>({value:e})),dR=Av([cR,XD,rR],uR);function hR(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function fR(e){return e.filter(e=>gm(e)||e instanceof Date).map(Number).filter(e=>!1===fm(e))}function mR(e,t,n){return!n||"number"!=typeof t||fm(t)?[]:n.length?fR(n.flatMap(n=>{var r,i,a=ww(e,n.dataKey);if(Array.isArray(a)?[r,i]=a:r=i=a,Vj(r)&&Vj(i))return[t-r,t+i]})):[]}var pR=(e,t,n)=>{var r=t.reduce((e,t)=>(null==t.stackId||(null==e[t.stackId]&&(e[t.stackId]=[]),e[t.stackId].push(t)),e),{});return Object.fromEntries(Object.entries(r).map(t=>{var[r,i]=t,a=i.map(e=>e.dataKey);return[r,{stackedData:Ew(e,a,n),graphicalItems:i}]}))},gR=Av([cR,rR,uD],pR),xR=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:i}=t;if("zAxis"!==n){var a=Aw(e,r,i);if(null==a||0!==a[0]||0!==a[1])return a}},yR=Av([gR,cT,zD],xR),vR=(e,t,n,r)=>n.length>0?e.flatMap(e=>n.flatMap(n=>{var i,a,s=null===(i=n.errorBars)||void 0===i?void 0:i.filter(e=>hR(r,e)),o=ww(e,null!==(a=t.dataKey)&&void 0!==a?a:n.dataKey);return{value:o,errorDomain:mR(e,o,s)}})).filter(Boolean):null!=(null==t?void 0:t.dataKey)?e.map(e=>({value:ww(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]})),bR=Av(cR,XD,aR,zD,vR);function _R(e){var{value:t}=e;if(gm(t)||t instanceof Date)return t}var wR=e=>{var t;if(null==e||!("domain"in e))return VD;if(null!=e.domain)return e.domain;if(null!=e.ticks){if("number"===e.type){var n=fR(e.ticks);return[Math.min(...n),Math.max(...n)]}if("category"===e.type)return e.ticks.map(String)}return null!==(t=null==e?void 0:e.domain)&&void 0!==t?t:VD},jR=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);if(0!==r.length){var i=r.flat();return[Math.min(...i),Math.max(...i)]}},NR=e=>e.referenceElements.dots,kR=(e,t,n)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===n:e.yAxisId===n),SR=Av([NR,zD,FD],kR),CR=e=>e.referenceElements.areas,ER=Av([CR,zD,FD],kR),PR=e=>e.referenceElements.lines,MR=Av([PR,zD,FD],kR),OR=(e,t)=>{var n=fR(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},AR=Av(SR,zD,OR),TR=(e,t)=>{var n=fR(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},DR=Av([ER,zD],TR),RR=(e,t)=>{var n=fR(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},IR=Av(MR,zD,RR),LR=Av(AR,IR,DR,(e,t,n)=>jR(e,n,t)),zR=Av([XD],wR),FR=(e,t,n,r,i)=>{var a=function(e,t){if(t&&"function"!=typeof e&&Array.isArray(e)&&2===e.length){var n,r,[i,a]=e;if(Vj(i))n=i;else if("function"==typeof i)return;if(Vj(a))r=a;else if("function"==typeof a)return;var s=[n,r];if(hT(s))return s}}(t,e.allowDataOverflow);return null!=a?a:function(e,t,n){if(n||null!=t){if("function"==typeof e&&null!=t)try{var r=e(t,n);if(hT(r))return fT(r,t,n)}catch(f){}if(Array.isArray(e)&&2===e.length){var i,a,[s,o]=e;if("auto"===s)null!=t&&(i=Math.min(...t));else if(pm(s))i=s;else if("function"==typeof s)try{null!=t&&(i=s(null==t?void 0:t[0]))}catch(m){}else if("string"==typeof s&&Tw.test(s)){var l=Tw.exec(s);if(null==l||null==t)i=void 0;else{var c=+l[1];i=t[0]-c}}else i=null==t?void 0:t[0];if("auto"===o)null!=t&&(a=Math.max(...t));else if(pm(o))a=o;else if("function"==typeof o)try{null!=t&&(a=o(null==t?void 0:t[1]))}catch(p){}else if("string"==typeof o&&Dw.test(o)){var u=Dw.exec(o);if(null==u||null==t)a=void 0;else{var d=+u[1];a=t[1]+d}}else a=null==t?void 0:t[1];var h=[i,a];if(hT(h))return null==t?h:fT(h,t,n)}}}(t,jR(n,i,(e=>{var t=fR(e.flatMap(e=>[e.value,e.errorDomain]).flat(1));if(0!==t.length)return[Math.min(...t),Math.max(...t)]})(r)),e.allowDataOverflow)},BR=Av([XD,zR,yR,bR,LR],FR),WR=[0,1],$R=(e,t,n,r,i,a,s)=>{if(null!=e&&null!=n&&0!==n.length){var{dataKey:o,type:l}=e,c=jw(t,a);return c&&null==o?_k(0,n.length):"category"===l?((e,t,n)=>{var r=e.map(_R).filter(e=>null!=e);return n&&(null==t.dataKey||t.allowDuplicatedCategory&&bm(r))?_k(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))})(r,e,c):"expand"===i?WR:s}},VR=Av([XD,lj,cR,dR,uD,zD,BR],$R),KR=(e,t,n,r,i)=>{if(null!=e){var{scale:a,type:s}=e;if("auto"===a)return"radial"===t&&"radiusAxis"===i?"band":"radial"===t&&"angleAxis"===i?"linear":"category"===s&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":"category"===s?"band":"linear";if("string"==typeof a){var o="scale".concat(km(a));return o in lT?o:"point"}}},HR=Av([XD,lj,ZD,dD,zD],KR);function UR(e,t,n,r){if(null!=n&&null!=r){if("function"==typeof e.scale)return e.scale.copy().domain(n).range(r);var i=function(e){if(null!=e){if(e in lT)return lT[e]();var t="scale".concat(km(e));return t in lT?lT[t]():void 0}}(t);if(null!=i){var a=i.domain(n).range(r);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-Sw,a=Math.max(r[0],r[1])+Sw,s=e(t[0]),o=e(t[n-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[n-1]])}})(a),a}}}var YR=(e,t,n)=>{var r=wR(t);if("auto"===n||"linear"===n)return null!=t&&t.tickCount&&Array.isArray(r)&&("auto"===r[0]||"auto"===r[1])&&hT(e)?sD(e,t.tickCount,t.allowDecimals):null!=t&&t.tickCount&&"number"===t.type&&hT(e)?oD(e,t.tickCount,t.allowDecimals):void 0},qR=Av([VR,QD,HR],YR),GR=(e,t,n,r)=>{if("angleAxis"!==r&&"number"===(null==e?void 0:e.type)&&hT(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],s=t[1],o=n[n.length-1];return[Math.min(i,a),Math.max(s,o)]}return t},XR=Av([XD,VR,qR,zD],GR),QR=Av(dR,XD,(e,t)=>{if(t&&"number"===t.type){var n=1/0,r=Array.from(fR(e.map(e=>e.value))).sort((e,t)=>e-t);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(0===i)return 1/0;for(var a=0;a<r.length-1;a++){var s=r[a+1]-r[a];n=Math.min(n,s)}return n/i}}),ZR=Av(QR,lj,cD,Gw,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!Vj(e))return 0;var a="vertical"===t?r.height:r.width;if("gap"===i)return e*a/2;if("no-gap"===i){var s=vm(n,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),JR=Av(HD,(e,t)=>{var n=HD(e,t);return null==n||"string"!=typeof n.padding?0:ZR(e,"xAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{left:0,right:0};var{padding:i}=e;return"string"==typeof i?{left:t,right:t}:{left:(null!==(n=i.left)&&void 0!==n?n:0)+t,right:(null!==(r=i.right)&&void 0!==r?r:0)+t}}),eI=Av(YD,(e,t)=>{var n=YD(e,t);return null==n||"string"!=typeof n.padding?0:ZR(e,"yAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{top:0,bottom:0};var{padding:i}=e;return"string"==typeof i?{top:t,bottom:t}:{top:(null!==(n=i.top)&&void 0!==n?n:0)+t,bottom:(null!==(r=i.bottom)&&void 0!==r?r:0)+t}}),tI=Av([Gw,JR,tj,ej,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),nI=Av([Gw,lj,eI,tj,ej,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:"horizontal"===t?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),rI=(e,t,n,r)=>{var i;switch(t){case"xAxis":return tI(e,n,r);case"yAxis":return nI(e,n,r);case"zAxis":return null===(i=GD(e,n))||void 0===i?void 0:i.range;case"angleAxis":return RD(e);case"radiusAxis":return ID(e,n);default:return}},iI=Av([XD,rI],ND),aI=Av([XD,HR,XR,iI],UR);function sI(e,t){return e.id<t.id?-1:e.id>t.id?1:0}Av(rR,zD,(e,t)=>e.flatMap(e=>{var t;return null!==(t=e.errorBars)&&void 0!==t?t:[]}).filter(e=>hR(t,e)));var oI=(e,t)=>t,lI=(e,t,n)=>n,cI=Av($w,oI,lI,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(sI)),uI=Av(Vw,oI,lI,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(sI)),dI=(e,t)=>({width:e.width,height:t.height}),hI=Av(Gw,HD,dI),fI=Av(Fw,Gw,cI,oI,lI,(e,t,n,r,i)=>{var a,s={};return n.forEach(n=>{var o=dI(t,n);null==a&&(a=((e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}})(t,r,e));var l="top"===r&&!i||"bottom"===r&&i;s[n.id]=a-Number(l)*o.height,a+=(l?-1:1)*o.height}),s}),mI=Av(zw,Gw,uI,oI,lI,(e,t,n,r,i)=>{var a,s={};return n.forEach(n=>{var o=((e,t)=>({width:"number"==typeof t.width?t.width:60,height:e.height}))(t,n);null==a&&(a=((e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}})(t,r,e));var l="left"===r&&!i||"right"===r&&i;s[n.id]=a-Number(l)*o.width,a+=(l?-1:1)*o.width}),s}),pI=Av(Gw,YD,(e,t)=>({width:"number"==typeof t.width?t.width:60,height:e.height})),gI=(e,t,n)=>{switch(t){case"xAxis":return hI(e,n).width;case"yAxis":return pI(e,n).height;default:return}},xI=(e,t,n,r)=>{if(null!=n){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,o=jw(e,r),l=t.map(e=>e.value);return s&&o&&"category"===a&&i&&bm(l)?l:void 0}},yI=Av([lj,dR,XD,zD],xI),vI=(e,t,n,r)=>{if(null!=n&&null!=n.dataKey){var{type:i,scale:a}=n;return!jw(e,r)||"number"!==i&&"auto"===a?void 0:t.map(e=>e.value)}},bI=Av([lj,dR,QD,zD],vI),_I=Av([lj,(e,t,n)=>{switch(t){case"xAxis":return HD(e,n);case"yAxis":return YD(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},HR,aI,yI,bI,rI,qR,zD],(e,t,n,r,i,a,s,o,l)=>{if(null==t)return null;var c=jw(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:o,range:s,realScaleType:n,scale:r}}),wI=Av([lj,QD,HR,aI,qR,rI,yI,bI,zD],(e,t,n,r,i,a,s,o,l)=>{if(null!=t&&null!=r){var c=jw(e,l),{type:u,ticks:d,tickCount:h}=t,f="scaleBand"===n&&"function"==typeof r.bandwidth?r.bandwidth()/2:2,m="category"===u&&r.bandwidth?r.bandwidth()/f:0;m="angleAxis"===l&&null!=a&&a.length>=2?2*hm(a[0]-a[1])*m:m;var p=d||i;return p?p.map((e,t)=>{var n=s?s.indexOf(e):e;return{index:t,coordinate:r(n)+m,value:e,offset:m}}).filter(e=>!fm(e.coordinate)):c&&o?o.map((e,t)=>({coordinate:r(e)+m,value:e,index:t,offset:m})):r.ticks?r.ticks(h).map(e=>({coordinate:r(e)+m,value:e,offset:m})):r.domain().map((e,t)=>({coordinate:r(e)+m,value:s?s[e]:e,index:t,offset:m}))}}),jI=Av([lj,QD,aI,rI,yI,bI,zD],(e,t,n,r,i,a,s)=>{if(null!=t&&null!=n&&null!=r&&r[0]!==r[1]){var o=jw(e,s),{tickCount:l}=t,c=0;return c="angleAxis"===s&&(null==r?void 0:r.length)>=2?2*hm(r[0]-r[1])*c:c,o&&a?a.map((e,t)=>({coordinate:n(e)+c,value:e,index:t,offset:c})):n.ticks?n.ticks(l).map(e=>({coordinate:n(e)+c,value:e,offset:c})):n.domain().map((e,t)=>({coordinate:n(e)+c,value:i?i[e]:e,index:t,offset:c}))}}),NI=Av(XD,aI,(e,t)=>{if(null!=e&&null!=t)return WD(WD({},e),{},{scale:t})}),kI=Av([XD,HR,VR,iI],UR),SI=Av((e,t,n)=>GD(e,n),kI,(e,t)=>{if(null!=e&&null!=t)return WD(WD({},e),{},{scale:t})}),CI=Av([lj,$w,Vw],(e,t,n)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),EI=e=>e.options.defaultTooltipEventType,PI=e=>e.options.validateTooltipEventTypes;function MI(e,t,n){if(null==e)return t;var r=e?"axis":"item";return null==n?t:n.includes(r)?r:t}function OI(e,t){return MI(t,EI(e),PI(e))}var AI=(e,t)=>{var n,r=Number(t);if(!fm(r)&&null!=t)return r>=0?null==e||null===(n=e[r])||void 0===n?void 0:n.value:void 0},TI={active:!1,index:null,dataKey:void 0,coordinate:void 0},DI=w_({name:"tooltip",initialState:{itemInteraction:{click:TI,hover:TI},axisInteraction:{click:TI,hover:TI},keyboardInteraction:TI,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=t_(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:RI,removeTooltipEntrySettings:II,setTooltipSettingsState:LI,setActiveMouseOverItemIndex:zI,mouseLeaveItem:FI,mouseLeaveChart:BI,setActiveClickItemIndex:WI,setMouseOverAxisIndex:$I,setMouseClickAxisIndex:VI,setSyncInteraction:KI,setKeyboardInteraction:HI}=DI.actions,UI=DI.reducer;function YI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YI(Object(n),!0).forEach(function(t){GI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function GI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var XI=(e,t,n,r)=>{if(null==t)return TI;var i=function(e,t,n){return"axis"===t?"click"===n?e.axisInteraction.click:e.axisInteraction.hover:"click"===n?e.itemInteraction.click:e.itemInteraction.hover}(e,t,n);if(null==i)return TI;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var a=!0===e.settings.active;if(null!=i.index){if(a)return qI(qI({},i),{},{active:!0})}else if(null!=r)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return qI(qI({},TI),{},{coordinate:i.coordinate})},QI=(e,t)=>{var n=null==e?void 0:e.index;if(null==n)return null;var r=Number(n);if(!Vj(r))return n;var i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(0,Math.min(r,i)))},ZI=(e,t,n,r,i,a,s,o)=>{if(null!=a&&null!=o){var l=s[0],c=null==l?void 0:o(l.positions,a);if(null!=c)return c;var u=null==i?void 0:i[Number(a)];if(u)return"horizontal"===n?{x:u.coordinate,y:(r.top+t)/2}:{x:(r.left+e)/2,y:u.coordinate}}},JI=(e,t,n,r)=>{return"axis"===t?e.tooltipItemPayloads:0===e.tooltipItemPayloads.length?[]:null==(i="hover"===n?e.itemInteraction.hover.dataKey:e.itemInteraction.click.dataKey)&&null!=r?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(e=>{var t;return(null===(t=e.settings)||void 0===t?void 0:t.dataKey)===i});var i},eL=e=>e.options.tooltipPayloadSearcher,tL=e=>e.tooltip,nL=e=>{var t=lj(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},rL=e=>e.tooltip.settings.axisId,iL=e=>{var t=nL(e),n=rL(e);return QD(e,t,n)},aL=Av([iL,lj,ZD,dD,nL],KR),sL=Av([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),oL=Av([nL,rL],JD),lL=Av([sL,iL,oL],nR),cL=Av([lL],sR),uL=Av([cL,cT],lR),dL=Av([uL,iL,lL],uR),hL=Av([iL],wR),fL=Av([uL,lL,uD],pR),mL=Av([fL,cT,nL],xR),pL=Av([lL],iR),gL=Av([uL,iL,pL,nL],vR),xL=Av([NR,nL,rL],kR),yL=Av([xL,nL],OR),vL=Av([CR,nL,rL],kR),bL=Av([vL,nL],TR),_L=Av([PR,nL,rL],kR),wL=Av([_L,nL],RR),jL=Av([yL,wL,bL],jR),NL=Av([iL,hL,mL,gL,jL],FR),kL=Av([iL,lj,uL,dL,uD,nL,NL],$R),SL=Av([kL,iL,aL],YR),CL=Av([iL,kL,SL,nL],GR),EL=e=>{var t=nL(e),n=rL(e);return rI(e,t,n,!1)},PL=Av([iL,EL],ND),ML=Av([iL,aL,CL,PL],UR),OL=Av([lj,dL,iL,nL],xI),AL=Av([lj,dL,iL,nL],vI),TL=Av([lj,iL,aL,ML,EL,OL,AL,nL],(e,t,n,r,i,a,s,o)=>{if(t){var{type:l}=t,c=jw(e,o);if(r){var u="scaleBand"===n&&r.bandwidth?r.bandwidth()/2:2,d="category"===l&&r.bandwidth?r.bandwidth()/u:0;return d="angleAxis"===o&&null!=i&&(null==i?void 0:i.length)>=2?2*hm(i[0]-i[1])*d:d,c&&s?s.map((e,t)=>({coordinate:r(e)+d,value:e,index:t,offset:d})):r.domain().map((e,t)=>({coordinate:r(e)+d,value:a?a[e]:e,index:t,offset:d}))}}}),DL=Av([EI,PI,e=>e.tooltip.settings],(e,t,n)=>MI(n.shared,e,t)),RL=e=>e.tooltip.settings.trigger,IL=e=>e.tooltip.settings.defaultIndex,LL=Av([tL,DL,RL,IL],XI),zL=Av([LL,uL],QI),FL=Av([TL,zL],AI),BL=Av([LL],e=>{if(e)return e.dataKey}),WL=Av([tL,DL,RL,IL],JI),$L=Av([zw,Fw,lj,Gw,TL,IL,WL,eL],ZI),VL=Av([LL,$L],(e,t)=>null!=e&&e.coordinate?e.coordinate:t),KL=Av([LL],e=>e.active);function HL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function UL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HL(Object(n),!0).forEach(function(t){YL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function YL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qL=()=>Nv(iL);function GL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function XL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GL(Object(n),!0).forEach(function(t){QL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function QL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ZL=()=>Nv(dD),JL=(e,t)=>t,ez=(e,t,n)=>n,tz=(e,t,n,r)=>r,nz=Av(TL,e=>nb(e,e=>e.coordinate)),rz=Av([tL,JL,ez,tz],XI),iz=Av([rz,uL],QI),az=Av([tL,JL,ez,tz],JI),sz=Av([zw,Fw,lj,Gw,TL,tz,az,eL],ZI),oz=Av([rz,sz],(e,t)=>{var n;return null!==(n=e.coordinate)&&void 0!==n?n:t}),lz=Av(TL,iz,AI),cz=Av([az,iz,cT,iL,lz,eL,JL],(e,t,n,r,i,a,s)=>{if(null!=t&&null!=a){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:u}=n;return e.reduce((e,n)=>{var d,h,f,m,p,g,{dataDefinedOnItem:x,settings:y}=n,v=function(e,t){return null!=e?e:t}(x,o),b=(h=v,f=c,m=u,Array.isArray(h)&&h&&f+m!==0?h.slice(f,m+1):h),_=null!==(d=null==y?void 0:y.dataKey)&&void 0!==d?d:null==r?void 0:r.dataKey,w=null==y?void 0:y.nameKey;return p=null==r||!r.dataKey||null!=r&&r.allowDuplicatedCategory||!Array.isArray(b)||"axis"!==s?a(b,t,l,w):jm(b,r.dataKey,i),Array.isArray(p)?p.forEach(t=>{var n=XL(XL({},y),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(Iw({tooltipEntrySettings:n,dataKey:t.dataKey,payload:t.payload,value:ww(t.payload,t.dataKey),name:t.name}))}):e.push(Iw({tooltipEntrySettings:y,dataKey:_,payload:p,value:ww(p,_),name:null!==(g=ww(p,w))&&void 0!==g?g:null==y?void 0:y.name})),e},[])}}),uz=Av([rz],e=>({isActive:e.active,activeIndex:e.index}));function dz(){return dz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dz.apply(null,arguments)}function hz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hz(Object(n),!0).forEach(function(t){mz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function mz(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pz(e){var t,n,{coordinate:r,payload:i,index:a,offset:s,tooltipAxisBandSize:o,layout:l,cursor:c,tooltipEventType:u,chartName:d}=e,h=r,f=i,m=a;if(!c||!h||"ScatterChart"!==d&&"axis"!==u)return null;if("ScatterChart"===d)t=h,n=sN;else if("BarChart"===d)t=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(l,h,s,o),n=nk;else if("radial"===l){var{cx:p,cy:g,radius:x,startAngle:y,endAngle:v}=rk(h);t={cx:p,cy:g,startAngle:y,endAngle:v,innerRadius:x,outerRadius:x},n=lk}else t={points:ck(l,h,s)},n=eN;var b="object"==typeof c&&"className"in c?c.className:void 0,_=fz(fz(fz(fz({stroke:"#ccc",pointerEvents:"none"},s),t),zm(c,!1)),{},{payload:f,payloadIndex:m,className:st("recharts-tooltip-cursor",b)});return N.isValidElement(c)?N.cloneElement(c,_):N.createElement(n,_)}function gz(e){var t,n,r,i=(t=qL(),n=Nv(TL),r=Nv(ML),Rw(UL(UL({},t),{},{scale:r}),n)),a=ij(),s=cj(),o=ZL();return N.createElement(pz,dz({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:a,layout:s,tooltipAxisBandSize:i,chartName:o}))}var xz,yz=N.createContext(null),vz={exports:{}},bz=(xz||(xz=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var o=new i(r,a||e,s),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),o.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,s=new Array(a);i<a;i++)s[i]=r[i].fn;return s},o.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},o.prototype.emit=function(e,t,r,i,a,s){var o=n?n+e:e;if(!this._events[o])return!1;var l,c,u=this._events[o],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,a),!0;case 6:return u.fn.call(u.context,t,r,i,a,s),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},o.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return s(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||i&&!o.once||r&&o.context!==r||s(this,a);else{for(var l=0,c=[],u=o.length;l<u;l++)(o[l].fn!==t||i&&!o[l].once||r&&o[l].context!==r)&&c.push(o[l]);c.length?this._events[a]=1===c.length?c[0]:c:s(this,a)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o}(vz)),vz.exports),_z=new(i(bz)),wz="recharts.syncEvent.tooltip",jz="recharts.syncEvent.brush";function Nz(e,t){if(t){var n=Number.parseInt(t,10);if(!fm(n))return null==e?void 0:e[n]}}var kz=w_({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Sz=kz.reducer,{createEventEmitter:Cz}=kz.actions;function Ez(e){return e.tooltip.syncInteraction}var Pz=w_({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload)return e.dataStartIndex=0,void(e.dataEndIndex=0);t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;null!=n&&(e.dataStartIndex=n),null!=r&&(e.dataEndIndex=r)}}}),{setChartData:Mz,setDataStartEndIndexes:Oz,setComputedData:Az}=Pz.actions,Tz=Pz.reducer,Dz=()=>{};function Rz(){var e=bv();N.useEffect(()=>{e(Cz())},[e]),function(){var e=Nv(hD),t=Nv(mD),n=bv(),r=Nv(fD),i=Nv(TL),a=cj(),s=nj(),o=Nv(e=>e.rootProps.className);N.useEffect(()=>{if(null==e)return Dz;var o=(o,l,c)=>{if(t!==c&&e===o)if("index"!==r){if(null!=i){var u;if("function"==typeof r){var d={activeTooltipIndex:null==l.payload.index?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:null==l.payload.index?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate},h=r(i,d);u=i[h]}else"value"===r&&(u=i.find(e=>String(e.value)===l.payload.label));var{coordinate:f}=l.payload;if(null!=u&&!1!==l.payload.active&&null!=f&&null!=s){var{x:m,y:p}=f,g=Math.min(m,s.x+s.width),x=Math.min(p,s.y+s.height),y={x:"horizontal"===a?u.coordinate:g,y:"horizontal"===a?x:u.coordinate},v=KI({active:l.payload.active,coordinate:y,dataKey:l.payload.dataKey,index:String(u.index),label:l.payload.label});n(v)}else n(KI({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}))}}else n(l)};return _z.on(wz,o),()=>{_z.off(wz,o)}},[o,n,t,e,r,i,a,s])}(),function(){var e=Nv(hD),t=Nv(mD),n=bv();N.useEffect(()=>{if(null==e)return Dz;var r=(r,i,a)=>{t!==a&&e===r&&n(Oz(i))};return _z.on(jz,r),()=>{_z.off(jz,r)}},[n,t,e])}()}function Iz(e,t,n,r,i,a){var s=Nv(n=>((e,t,n)=>{if(null!=t){var r=tL(e);return"axis"===t?"hover"===n?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:"hover"===n?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}})(n,e,t)),o=Nv(mD),l=Nv(hD),c=Nv(fD),u=Nv(Ez),d=null==u?void 0:u.active;N.useEffect(()=>{if(!d&&null!=l&&null!=o){var e=KI({active:a,coordinate:n,dataKey:s,index:i,label:"number"==typeof r?String(r):r});_z.emit(wz,l,e,o)}},[d,n,s,i,r,o,l,c,a])}function Lz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lz(Object(n),!0).forEach(function(t){Fz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Fz(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bz(e){return e.dataKey}var Wz=[],$z={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Wj,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Vz(e){var t=cN(e,$z),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,content:s,filterNull:o,isAnimationActive:l,offset:c,payloadUniqBy:u,position:d,reverseDirection:h,useTranslate3d:f,wrapperStyle:m,cursor:p,shared:g,trigger:x,defaultIndex:y,portal:v,axisId:b}=t,_=bv(),w="number"==typeof y?String(y):y;N.useEffect(()=>{_(LI({shared:g,trigger:x,axisId:b,active:n,defaultIndex:w}))},[_,g,x,b,n,w]);var j=nj(),k=$j(),S=function(e){return Nv(t=>OI(t,e))}(g),{activeIndex:C,isActive:E}=Nv(e=>uz(e,S,x,w)),P=Nv(e=>cz(e,S,x,w)),M=Nv(e=>lz(e,S,x,w)),O=Nv(e=>oz(e,S,x,w)),A=P,T=N.useContext(yz),D=null!=n?n:E,[R,I]=ab([A,D]),L="axis"===S?M:void 0;Iz(S,x,O,L,C,D);var z=null!=v?v:T;if(null==z)return null;var F=null!=A?A:Wz;D||(F=Wz),o&&F.length&&(F=ov(A.filter(e=>null!=e.value&&(!0!==e.hide||t.includeHidden)),u,Bz));var B=F.length>0,W=N.createElement(Bj,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:l,active:D,coordinate:O,hasPayload:B,offset:c,position:d,reverseDirection:h,useTranslate3d:f,viewBox:j,wrapperStyle:m,lastBoundingBox:R,innerRef:I,hasPortalFromProps:Boolean(v)},function(e,t){return N.isValidElement(e)?N.cloneElement(e,t):"function"==typeof e?N.createElement(e,t):N.createElement(Aj,t)}(s,zz(zz({},t),{},{payload:F,label:L,active:D,coordinate:O,accessibilityLayer:k})));return N.createElement(N.Fragment,null,jn.createPortal(W,z),D&&N.createElement(gz,{cursor:p,tooltipEventType:S,coordinate:O,payload:A,index:C}))}var Kz,Hz,Uz,Yz,qz,Gz={},Xz={},Qz={};function Zz(){return Kz||(Kz=1,e=Qz,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.debounce=function(e,t,{signal:n,edges:r}={}){let i,a=null;const s=null!=r&&r.includes("leading"),o=null==r||r.includes("trailing"),l=()=>{null!==a&&(e.apply(i,a),i=void 0,a=null)};let c=null;const u=()=>{null!=c&&clearTimeout(c),c=setTimeout(()=>{c=null,o&&l(),h()},t)},d=()=>{null!==c&&(clearTimeout(c),c=null)},h=()=>{d(),i=void 0,a=null},f=function(...e){if(null==n?void 0:n.aborted)return;i=this,a=e;const t=null==c;u(),s&&t&&l()};return f.schedule=u,f.cancel=h,f.flush=()=>{d(),l()},null==n||n.addEventListener("abort",h,{once:!0}),f}),Qz;var e}function Jz(){return Hz||(Hz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zz();e.debounce=function(e,n=0,r={}){"object"!=typeof r&&(r={});const{leading:i=!1,trailing:a=!0,maxWait:s}=r,o=Array(2);let l;i&&(o[0]="leading"),a&&(o[1]="trailing");let c=null;const u=t.debounce(function(...t){l=e.apply(this,t),c=null},n,{edges:o}),d=function(...t){return null!=s&&(null===c&&(c=Date.now()),Date.now()-c>=s)?(l=e.apply(this,t),c=Date.now(),u.cancel(),u.schedule(),l):(u.apply(this,t),l)};return d.cancel=u.cancel,d.flush=()=>(u.flush(),l),d}}(Xz)),Xz}function eF(){return qz?Yz:(qz=1,Yz=(Uz||(Uz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jz();e.throttle=function(e,n=0,r={}){"object"!=typeof r&&(r={});const{leading:i=!0,trailing:a=!0}=r;return t.debounce(e,n,{leading:i,trailing:a,maxWait:n})}}(Gz)),Gz).throttle)}const tF=i(eF());var nF=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]};function rF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function iF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rF(Object(n),!0).forEach(function(t){aF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function aF(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sF=N.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:s=0,minHeight:o,maxHeight:l,children:c,debounce:u=0,id:d,className:h,onResize:f,style:m={}}=e,p=N.useRef(null),g=N.useRef();g.current=f,N.useImperativeHandle(t,()=>p.current);var[x,y]=N.useState({containerWidth:r.width,containerHeight:r.height}),v=N.useCallback((e,t)=>{y(n=>{var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}})},[]);N.useEffect(()=>{var e=e=>{var t,{width:n,height:r}=e[0].contentRect;v(n,r),null===(t=g.current)||void 0===t||t.call(g,n,r)};u>0&&(e=tF(e,u,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:n,height:r}=p.current.getBoundingClientRect();return v(n,r),t.observe(p.current),()=>{t.disconnect()}},[v,u]);var b=N.useMemo(()=>{var{containerWidth:e,containerHeight:t}=x;if(e<0||t<0)return null;nF(mm(i)||mm(a),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",i,a),nF(!n||n>0,"The aspect(%s) must be greater than zero.",n);var r=mm(i)?e:i,u=mm(a)?t:a;return n&&n>0&&(r?u=r/n:u&&(r=u*n),l&&u>l&&(u=l)),nF(r>0||u>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",r,u,i,a,s,o,n),N.Children.map(c,e=>N.cloneElement(e,{width:r,height:u,style:iF({height:"100%",width:"100%",maxHeight:u,maxWidth:r},e.props.style)}))},[n,c,a,l,o,s,x,i]);return N.createElement("div",{id:d?"".concat(d):void 0,className:st("recharts-responsive-container",h),style:iF(iF({},m),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:p},b)}),oF=e=>null;function lF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function cF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lF(Object(n),!0).forEach(function(t){uF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function uF(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}oF.displayName="Cell";var dF={widthCache:{},cacheCount:0},hF={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},fF="recharts_measurement_span",mF=function(e){if(null==e||Wj)return{width:0,height:0};var t,n=(t=cF({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),Object.keys(t).forEach(e=>{t[e]||delete t[e]}),t),r=JSON.stringify({text:e,copyStyle:n});if(dF.widthCache[r])return dF.widthCache[r];try{var i=document.getElementById(fF);i||((i=document.createElement("span")).setAttribute("id",fF),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var a=cF(cF({},hF),n);Object.assign(i.style,a),i.textContent="".concat(e);var s=i.getBoundingClientRect(),o={width:s.width,height:s.height};return dF.widthCache[r]=o,++dF.cacheCount>2e3&&(dF.cacheCount=0,dF.widthCache={}),o}catch(l){return{width:0,height:0}}},pF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xF=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,yF=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,vF={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},bF=Object.keys(vF),_F="NaN";class wF{static parse(e){var t,[,n,r]=null!==(t=yF.exec(e))&&void 0!==t?t:[];return new wF(parseFloat(n),null!=r?r:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,fm(e)&&(this.unit=""),""===t||xF.test(t)||(this.num=NaN,this.unit=""),bF.includes(t)&&(this.num=function(e,t){return e*vF[t]}(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new wF(NaN,""):new wF(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new wF(NaN,""):new wF(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new wF(NaN,""):new wF(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new wF(NaN,""):new wF(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return fm(this.num)}}function jF(e){if(e.includes(_F))return _F;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=null!==(n=pF.exec(t))&&void 0!==n?n:[],s=wF.parse(null!=r?r:""),o=wF.parse(null!=a?a:""),l="*"===i?s.multiply(o):s.divide(o);if(l.isNaN())return _F;t=t.replace(pF,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,d,h]=null!==(c=gF.exec(t))&&void 0!==c?c:[],f=wF.parse(null!=u?u:""),m=wF.parse(null!=h?h:""),p="+"===d?f.add(m):f.subtract(m);if(p.isNaN())return _F;t=t.replace(gF,p.toString())}return t}var NF=/\(([^()]*)\)/;function kF(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t,n=e;null!=(t=NF.exec(n));){var[,r]=t;n=n.replace(NF,jF(r))}return n}(t),t=jF(t)}function SF(e){var t=function(e){try{return kF(e)}catch(t){return _F}}(e.slice(5,-1));return t===_F?"":t}var CF=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],EF=["dx","dy","angle","className","breakAll"];function PF(){return PF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PF.apply(null,arguments)}function MF(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var OF=/[ \f\n\r\t\v\u2028\u2029]+/,AF=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];return Nm(t)||(i=n?t.toString().split(""):t.toString().split(OF)),{wordsWithComputedWidth:i.map(e=>({word:e,width:mF(e,r).width})),spaceWidth:n?0:mF("",r).width}}catch(a){return null}},TF=e=>[{words:Nm(e)?[]:e.toString().split(OF)}],DF=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=e;if((t||n)&&!Wj){var o=AF({breakAll:a,children:r,style:i});if(!o)return TF(r);var{wordsWithComputedWidth:l,spaceWidth:c}=o;return((e,t,n,r,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,c=pm(a),u=s,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((e,t)=>{var{word:a,width:s}=t,o=e[e.length-1];if(o&&(null==r||i||o.width+s+n<Number(r)))o.words.push(a),o.width+=s+n;else{var l={words:[a],width:s};e.push(l)}return e},[])},h=d(t),f=e=>e.reduce((e,t)=>e.width>t.width?e:t);if(!c||i)return h;if(!(h.length>a||f(h).width>Number(r)))return h;for(var m,p=e=>{var t=u.slice(0,e),n=AF({breakAll:l,style:o,children:t+""}).wordsWithComputedWidth,i=d(n);return[i.length>a||f(i).width>Number(r),i]},g=0,x=u.length-1,y=0;g<=x&&y<=u.length-1;){var v=Math.floor((g+x)/2),b=v-1,[_,w]=p(b),[j]=p(v);if(_||j||(g=v+1),_&&j&&(x=v-1),!_&&j){m=w;break}y++}return m||h})({breakAll:a,children:r,maxLines:s,style:i},l,c,t,n)}return TF(r)},RF="#808080",IF=N.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:s=!1,textAnchor:o="start",verticalAnchor:l="end",fill:c=RF}=e,u=MF(e,CF),d=N.useMemo(()=>DF({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:s,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,s,u.style,u.width]),{dx:h,dy:f,angle:m,className:p,breakAll:g}=u,x=MF(u,EF);if(!gm(n)||!gm(r))return null;var y,v=n+(pm(h)?h:0),b=r+(pm(f)?f:0);switch(l){case"start":y=SF("calc(".concat(a,")"));break;case"middle":y=SF("calc(".concat((d.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:y=SF("calc(".concat(d.length-1," * -").concat(i,")"))}var _=[];if(s){var w=d[0].width,{width:j}=u;_.push("scale(".concat(pm(j)?j/w:1,")"))}return m&&_.push("rotate(".concat(m,", ").concat(v,", ").concat(b,")")),_.length&&(x.transform=_.join(" ")),N.createElement("text",PF({},zm(x,!0),{ref:t,x:v,y:b,className:st("recharts-text",p),textAnchor:o,fill:c.includes("url")?RF:c}),d.map((e,t)=>{var n=e.words.join(g?"":" ");return N.createElement("tspan",{x:v,dy:0===t?y:i,key:"".concat(n,"-").concat(t)},n)}))});IF.displayName="Text";var LF=["offset"],zF=["labelRef"];function FF(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function BF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function WF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BF(Object(n),!0).forEach(function(t){$F(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $F(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VF(){return VF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VF.apply(null,arguments)}var KF=e=>null!=e&&"function"==typeof e,HF=(e,t,n)=>{var r,i,{position:a,viewBox:s,offset:o,className:l}=e,{cx:c,cy:u,innerRadius:d,outerRadius:h,startAngle:f,endAngle:m,clockWise:p}=s,g=(d+h)/2,x=((e,t)=>hm(t-e)*Math.min(Math.abs(t-e),360))(f,m),y=x>=0?1:-1;"insideStart"===a?(r=f+y*o,i=p):"insideEnd"===a?(r=m-y*o,i=!p):"end"===a&&(r=m+y*o,i=p),i=x<=0?i:!i;var v=mw(c,u,g,r),b=mw(c,u,g,r+359*(i?1:-1)),_="M".concat(v.x,",").concat(v.y,"\n    A").concat(g,",").concat(g,",0,1,").concat(i?0:1,",\n    ").concat(b.x,",").concat(b.y),w=Nm(e.id)?ym("recharts-radial-line-"):e.id;return N.createElement("text",VF({},n,{dominantBaseline:"central",className:st("recharts-radial-bar-label",l)}),N.createElement("defs",null,N.createElement("path",{id:w,d:_})),N.createElement("textPath",{xlinkHref:"#".concat(w)},t))};function UF(e){var t,{offset:n=5}=e,r=WF({offset:n},FF(e,LF)),{viewBox:i,position:a,value:s,children:o,content:l,className:c="",textBreakAll:u,labelRef:d}=r,h=nj(),f=i||h;if(!f||Nm(s)&&Nm(o)&&!N.isValidElement(l)&&"function"!=typeof l)return null;if(N.isValidElement(l)){var{labelRef:m}=r,p=FF(r,zF);return N.cloneElement(l,p)}if("function"==typeof l){if(t=N.createElement(l,r),N.isValidElement(t))return t}else t=(e=>{var{value:t,formatter:n}=e,r=Nm(e.children)?t:e.children;return"function"==typeof n?n(r):r})(r);var g=(e=>"cx"in e&&pm(e.cx))(f),x=zm(r,!0);if(g&&("insideStart"===a||"insideEnd"===a||"end"===a))return HF(r,t,x);var y=g?(e=>{var{viewBox:t,offset:n,position:r}=e,{cx:i,cy:a,innerRadius:s,outerRadius:o,startAngle:l,endAngle:c}=t,u=(l+c)/2;if("outside"===r){var{x:d,y:h}=mw(i,a,o+n,u);return{x:d,y:h,textAnchor:d>=i?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:i,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:i,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:i,y:a,textAnchor:"middle",verticalAnchor:"end"};var f=(s+o)/2,{x:m,y:p}=mw(i,a,f,u);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}})(r):((e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,{x:a,y:s,width:o,height:l}=t,c=l>=0?1:-1,u=c*r,d=c>0?"end":"start",h=c>0?"start":"end",f=o>=0?1:-1,m=f*r,p=f>0?"end":"start",g=f>0?"start":"end";if("top"===i)return WF(WF({},{x:a+o/2,y:s-c*r,textAnchor:"middle",verticalAnchor:d}),n?{height:Math.max(s-n.y,0),width:o}:{});if("bottom"===i)return WF(WF({},{x:a+o/2,y:s+l+u,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(n.y+n.height-(s+l),0),width:o}:{});if("left"===i){var x={x:a-m,y:s+l/2,textAnchor:p,verticalAnchor:"middle"};return WF(WF({},x),n?{width:Math.max(x.x-n.x,0),height:l}:{})}if("right"===i){var y={x:a+o+m,y:s+l/2,textAnchor:g,verticalAnchor:"middle"};return WF(WF({},y),n?{width:Math.max(n.x+n.width-y.x,0),height:l}:{})}var v=n?{width:o,height:l}:{};return"insideLeft"===i?WF({x:a+m,y:s+l/2,textAnchor:g,verticalAnchor:"middle"},v):"insideRight"===i?WF({x:a+o-m,y:s+l/2,textAnchor:p,verticalAnchor:"middle"},v):"insideTop"===i?WF({x:a+o/2,y:s+u,textAnchor:"middle",verticalAnchor:h},v):"insideBottom"===i?WF({x:a+o/2,y:s+l-u,textAnchor:"middle",verticalAnchor:d},v):"insideTopLeft"===i?WF({x:a+m,y:s+u,textAnchor:g,verticalAnchor:h},v):"insideTopRight"===i?WF({x:a+o-m,y:s+u,textAnchor:p,verticalAnchor:h},v):"insideBottomLeft"===i?WF({x:a+m,y:s+l-u,textAnchor:g,verticalAnchor:d},v):"insideBottomRight"===i?WF({x:a+o-m,y:s+l-u,textAnchor:p,verticalAnchor:d},v):i&&"object"==typeof i&&(pm(i.x)||mm(i.x))&&(pm(i.y)||mm(i.y))?WF({x:a+vm(i.x,o),y:s+vm(i.y,l),textAnchor:"end",verticalAnchor:"end"},v):WF({x:a+o/2,y:s+l/2,textAnchor:"middle",verticalAnchor:"middle"},v)})(r,f);return N.createElement(IF,VF({ref:d,className:st("recharts-label",c)},x,y,{breakAll:u}),t)}UF.displayName="Label";var YF=e=>{var{cx:t,cy:n,angle:r,startAngle:i,endAngle:a,r:s,radius:o,innerRadius:l,outerRadius:c,x:u,y:d,top:h,left:f,width:m,height:p,clockWise:g,labelViewBox:x}=e;if(x)return x;if(pm(m)&&pm(p)){if(pm(u)&&pm(d))return{x:u,y:d,width:m,height:p};if(pm(h)&&pm(f))return{x:h,y:f,width:m,height:p}}return pm(u)&&pm(d)?{x:u,y:d,width:0,height:0}:pm(t)&&pm(n)?{cx:t,cy:n,startAngle:i||r||0,endAngle:a||r||0,innerRadius:l||0,outerRadius:c||o||s||0,clockWise:g}:e.viewBox?e.viewBox:void 0};UF.parseViewBox=YF,UF.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var{children:r,labelRef:i}=e,a=YF(e),s=Im(r,UF).map((e,n)=>N.cloneElement(e,{viewBox:t||a,key:"label-".concat(n)}));if(!n)return s;var o=((e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return!0===e?N.createElement(UF,VF({key:"label-implicit"},r)):gm(e)?N.createElement(UF,VF({key:"label-implicit",value:e},r)):N.isValidElement(e)?e.type===UF?N.cloneElement(e,WF({key:"label-implicit"},r)):N.createElement(UF,VF({key:"label-implicit",content:e},r)):KF(e)?N.createElement(UF,VF({key:"label-implicit",content:e},r)):e&&"object"==typeof e?N.createElement(UF,VF({},e,{key:"label-implicit"},r)):null})(e.label,t||a,i);return[o,...s]};var qF,GF={},XF={};function QF(){return qF||(qF=1,e=XF,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.last=function(e){return e[e.length-1]}),XF;var e}var ZF,JF,eB,tB,nB={};function rB(){return ZF||(ZF=1,e=nB,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}),nB;var e}function iB(){return tB?eB:(tB=1,eB=(JF||(JF=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QF(),n=rB(),r=Kx();e.last=function(e){if(r.isArrayLike(e))return t.last(n.toArray(e))}}(GF)),GF).last)}const aB=i(iB());var sB=["valueAccessor"],oB=["data","dataKey","clockWise","id","textBreakAll"];function lB(){return lB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lB.apply(null,arguments)}function cB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function uB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cB(Object(n),!0).forEach(function(t){dB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function dB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hB(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var fB=e=>Array.isArray(e.value)?aB(e.value):e.value;function mB(e){var{valueAccessor:t=fB}=e,n=hB(e,sB),{data:r,dataKey:i,clockWise:a,id:s,textBreakAll:o}=n,l=hB(n,oB);return r&&r.length?N.createElement(Km,{className:"recharts-label-list"},r.map((e,n)=>{var r=Nm(i)?t(e,n):ww(e&&e.payload,i),c=Nm(s)?{}:{id:"".concat(s,"-").concat(n)};return N.createElement(UF,lB({},zm(e,!0),l,c,{parentViewBox:e.parentViewBox,value:r,textBreakAll:o,viewBox:UF.parseViewBox(Nm(a)?e:uB(uB({},e),{},{clockWise:a})),key:"label-".concat(n),index:n}))})):null}function pB(){return pB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pB.apply(null,arguments)}mB.displayName="LabelList",mB.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var{children:r}=e,i=Im(r,mB).map((e,n)=>N.cloneElement(e,{data:t,key:"labelList-".concat(n)}));return n?[function(e,t){return e?!0===e?N.createElement(mB,{key:"labelList-implicit",data:t}):N.isValidElement(e)||KF(e)?N.createElement(mB,{key:"labelList-implicit",data:t,content:e}):"object"==typeof e?N.createElement(mB,lB({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t),...i]:i};var gB=e=>{var{cx:t,cy:n,r:r,className:i}=e,a=st("recharts-dot",i);return t===+t&&n===+n&&r===+r?N.createElement("circle",pB({},zm(e,!1),Mm(e),{className:a,cx:t,cy:n,r:r})):null},xB=e=>e.graphicalItems.polarItems,yB=Av([zD,FD],JD),vB=Av([xB,XD,yB],nR),bB=Av([vB],sR),_B=Av([bB,uT],lR),wB=Av([_B,XD,vB],uR),jB=Av([_B,XD,vB],(e,t,n)=>n.length>0?e.flatMap(e=>n.flatMap(n=>{var r;return{value:ww(e,null!==(r=t.dataKey)&&void 0!==r?r:n.dataKey),errorDomain:[]}})).filter(Boolean):null!=(null==t?void 0:t.dataKey)?e.map(e=>({value:ww(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]}))),NB=()=>{},kB=Av([XD,zR,NB,jB,NB],FR),SB=Av([XD,lj,_B,wB,uD,zD,kB],$R),CB=Av([SB,XD,HR],YR);Av([XD,SB,CB,zD],GR);var EB=w_({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:PB,removeRadiusAxis:MB,addAngleAxis:OB,removeAngleAxis:AB}=EB.actions,TB=EB.reducer;function DB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function RB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DB(Object(n),!0).forEach(function(t){IB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function IB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var LB=(e,t)=>t,zB=[],FB=(e,t,n)=>0===(null==n?void 0:n.length)?zB:n,BB=Av([uT,LB,FB],(e,t,n)=>{var r,{chartData:i}=e;if((r=null!=(null==t?void 0:t.data)&&t.data.length>0?t.data:i)&&r.length||null==n||(r=n.map(e=>RB(RB({},t.presentationProps),e.props))),null!=r)return r}),WB=Av([BB,LB,FB],(e,t,n)=>{if(null!=e)return e.map((e,r)=>{var i,a,s=ww(e,t.nameKey,t.name);return a=null!=n&&null!==(i=n[r])&&void 0!==i&&null!==(i=i.props)&&void 0!==i&&i.fill?n[r].props.fill:"object"==typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:Lw(s,t.dataKey),color:a,payload:e,type:t.legendType}})}),$B=Av([xB,LB],(e,t)=>{if(e.some(e=>"pie"===e.type&&t.dataKey===e.dataKey&&t.data===e.data))return t}),VB=Av([BB,$B,FB,Gw],(e,t,n,r)=>{if(null!=t&&null!=e)return function(e){var t,n,r,{pieSettings:i,displayedData:a,cells:s,offset:o}=e,{cornerRadius:l,startAngle:c,endAngle:u,dataKey:d,nameKey:h,tooltipType:f}=i,m=Math.abs(i.minAngle),p=((e,t)=>{var n=hm(t-e),r=Math.min(Math.abs(t-e),360);return n*r})(c,u),g=Math.abs(p),x=a.length<=1?0:null!==(t=i.paddingAngle)&&void 0!==t?t:0,y=a.filter(e=>0!==ww(e,d,0)).length,v=g-y*m-(g>=360?y:y-1)*x,b=a.reduce((e,t)=>{var n=ww(t,d,0);return e+(pm(n)?n:0)},0);return b>0&&(n=a.map((e,t)=>{var n,a=ww(e,d,0),u=ww(e,h,t),g=((e,t,n)=>{var{top:r,left:i,width:a,height:s}=t,o=pw(a,s),l=i+vm(e.cx,a,a/2),c=r+vm(e.cy,s,s/2),u=vm(e.innerRadius,o,0),d=((e,t,n)=>"function"==typeof t?t(e):vm(t,n,.8*n))(n,e.outerRadius,o),h=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:h}})(i,o,e),y=(pm(a)?a:0)/b,_=MW(MW({},e),s&&s[t]&&s[t].props),w=(n=t?r.endAngle+hm(p)*x*(0!==a?1:0):c)+hm(p)*((0!==a?m:0)+y*v),j=(n+w)/2,N=(g.innerRadius+g.outerRadius)/2,k=[{name:u,value:a,payload:_,dataKey:d,type:f}],S=mw(g.cx,g.cy,N,j);return r=MW(MW(MW(MW({},i.presentationProps),{},{percent:y,cornerRadius:l,name:u,tooltipPayload:k,midAngle:j,middleRadius:N,tooltipPosition:S},_),g),{},{value:ww(e,d),startAngle:n,endAngle:w,payload:_,paddingAngle:hm(p)*x})})),n}({offset:r,pieSettings:t,displayedData:e,cells:n})}),KB=w_({name:"graphicalItems",initialState:{countOfBars:0,cartesianItems:[],polarItems:[]},reducers:{addBar(e){e.countOfBars+=1},removeBar(e){e.countOfBars-=1},addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},removeCartesianGraphicalItem(e,t){var n=t_(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=t_(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addBar:HB,removeBar:UB,addCartesianGraphicalItem:YB,removeCartesianGraphicalItem:qB,addPolarGraphicalItem:GB,removePolarGraphicalItem:XB}=KB.actions,QB=KB.reducer;function ZB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function JB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZB(Object(n),!0).forEach(function(t){eW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eW(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tW(e){var t=bv();return N.useEffect(()=>{var n=JB(JB({},e),{},{stackId:Pw(e.stackId)});return t(YB(n)),()=>{t(qB(n))}},[t,e]),null}function nW(e){var t=bv();return N.useEffect(()=>(t(GB(e)),()=>{t(XB(e))}),[t,e]),null}var rW,iW,aW,sW={};function oW(){return aW?iW:(aW=1,iW=(rW||(rW=1,e=sW,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isPlainObject=function(e){var t;if("object"!=typeof e)return!1;if(null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){const n=e[Symbol.toStringTag];return null!=n&&!!(null==(t=Object.getOwnPropertyDescriptor(e,Symbol.toStringTag))?void 0:t.writable)&&e.toString()===`[object ${n}]`}let n=e;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}),sW).isPlainObject);var e}const lW=i(oW());function cW(){return cW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cW.apply(null,arguments)}var uW=(e,t,n,r,i)=>{var a,s=n-r;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+n,",").concat(t),a+="L ".concat(e+n-s/2,",").concat(t+i),a+="L ".concat(e+n-s/2-r,",").concat(t+i),a+="L ".concat(e,",").concat(t," Z")},dW={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hW=e=>{var t=cN(e,dW),n=N.useRef(),[r,i]=N.useState(-1);N.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&i(e)}catch(t){}},[]);var{x:a,y:s,upperWidth:o,lowerWidth:l,height:c,className:u}=t,{animationEasing:d,animationDuration:h,animationBegin:f,isUpdateAnimationActive:m}=t;if(a!==+a||s!==+s||o!==+o||l!==+l||c!==+c||0===o&&0===l||0===c)return null;var p=st("recharts-trapezoid",u);return m?N.createElement(ZN,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:c,x:a,y:s},to:{upperWidth:o,lowerWidth:l,height:c,x:a,y:s},duration:h,animationEasing:d,isActive:m},e=>{var{upperWidth:i,lowerWidth:a,height:s,x:o,y:l}=e;return N.createElement(ZN,{canBegin:r>0,from:"0px ".concat(-1===r?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:f,duration:h,easing:d},N.createElement("path",cW({},zm(t,!0),{className:p,d:uW(o,l,i,a,s),ref:n})))}):N.createElement("g",null,N.createElement("path",cW({},zm(t,!0),{className:p,d:uW(a,s,o,l,c)})))},fW=["option","shapeType","propTransformer","activeClassName","isActive"];function mW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mW(Object(n),!0).forEach(function(t){gW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function gW(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xW(e,t){return pW(pW({},t),e)}function yW(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return N.createElement(nk,n);case"trapezoid":return N.createElement(hW,n);case"sector":return N.createElement(lk,n);case"symbols":if(function(e){return"symbols"===e}(t))return N.createElement(kx,n);break;default:return null}}function vW(e){var t,{option:n,shapeType:r,propTransformer:i=xW,activeClassName:a="recharts-active-shape",isActive:s}=e,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,fW);if(N.isValidElement(n))t=N.cloneElement(n,pW(pW({},o),function(e){return N.isValidElement(e)?e.props:e}(n)));else if("function"==typeof n)t=n(o);else if(lW(n)&&"boolean"!=typeof n){var l=i(n,o);t=N.createElement(yW,{shapeType:r,elementProps:l})}else{var c=o;t=N.createElement(yW,{shapeType:r,elementProps:c})}return s?N.createElement(Km,{className:a},t):t}var bW=(e,t)=>{var n=bv();return(r,i)=>a=>{null==e||e(r,i,a),n(zI({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},_W=e=>{var t=bv();return(n,r)=>i=>{null==e||e(n,r,i),t(FI())}},wW=(e,t)=>{var n=bv();return(r,i)=>a=>{null==e||e(r,i,a),n(WI({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function jW(e){var{fn:t,args:n}=e,r=bv(),i=Jw();return N.useEffect(()=>{if(!i){var e=t(n);return r(RI(e)),()=>{r(II(e))}}},[t,n,r,i]),null}var NW=()=>{};function kW(e){var{legendPayload:t}=e,n=bv(),r=Jw();return N.useEffect(()=>r?NW:(n(fj(t)),()=>{n(mj(t))}),[n,r,t]),null}function SW(e){var{legendPayload:t}=e,n=bv(),r=Nv(lj);return N.useEffect(()=>"centric"!==r&&"radial"!==r?NW:(n(fj(t)),()=>{n(mj(t))}),[n,r,t]),null}function CW(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",n=N.useRef(ym(t)),r=N.useRef(e);return r.current!==e&&(n.current=ym(t),r.current=e),n.current}var EW=["onMouseEnter","onClick","onMouseLeave"];function PW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function MW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PW(Object(n),!0).forEach(function(t){OW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function OW(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AW(){return AW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AW.apply(null,arguments)}function TW(e){var t=N.useMemo(()=>zm(e,!1),[e]),n=N.useMemo(()=>Im(e.children,oF),[e.children]),r=N.useMemo(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:t}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,t]),i=Nv(e=>WB(e,r,n));return N.createElement(SW,{legendPayload:i})}function DW(e){var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:c}=e;return{dataDefinedOnItem:null==r?void 0:r.map(e=>e.tooltipPayload),positions:null==r?void 0:r.map(e=>e.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:n,name:Lw(o,t),hide:l,type:c,color:s,unit:""}}}function RW(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:a,dataKey:s}=n;if(!r||!i||!t)return null;var o=zm(n,!1),l=zm(i,!1),c=zm(a,!1),u="object"==typeof i&&"offsetRadius"in i&&i.offsetRadius||20,d=t.map((e,t)=>{var n,r,d=(e.startAngle+e.endAngle)/2,h=mw(e.cx,e.cy,e.outerRadius+u,d),f=MW(MW(MW(MW({},o),e),{},{stroke:"none"},l),{},{index:t,textAnchor:(n=h.x,r=e.cx,n>r?"start":n<r?"end":"middle")},h),m=MW(MW(MW(MW({},o),e),{},{fill:"none",stroke:e.fill},c),{},{index:t,points:[mw(e.cx,e.cy,e.outerRadius,d),h],key:"line"});return N.createElement(Km,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(t)},a&&((e,t)=>{if(N.isValidElement(e))return N.cloneElement(e,t);if("function"==typeof e)return e(t);var n=st("recharts-pie-label-line","boolean"!=typeof e?e.className:"");return N.createElement(eN,AW({},t,{type:"linear",className:n}))})(a,m),((e,t,n)=>{if(N.isValidElement(e))return N.cloneElement(e,t);var r=n;if("function"==typeof e&&(r=e(t),N.isValidElement(r)))return r;var i=st("recharts-pie-label-text","boolean"!=typeof e&&"function"!=typeof e?e.className:"");return N.createElement(IF,AW({},t,{alignmentBaseline:"middle",className:i}),r)})(i,f,ww(e,s)))});return N.createElement(Km,{className:"recharts-pie-labels"},d)}function IW(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,showLabels:a}=e,s=Nv(zL),{onMouseEnter:o,onClick:l,onMouseLeave:c}=i,u=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(i,EW),d=bW(o,i.dataKey),h=_W(c),f=wW(l,i.dataKey);return null==t?null:N.createElement(N.Fragment,null,t.map((e,a)=>{if(0===(null==e?void 0:e.startAngle)&&0===(null==e?void 0:e.endAngle)&&1!==t.length)return null;var o=n&&String(a)===s,l=o?n:s?r:null,c=MW(MW({},e),{},{stroke:e.stroke,tabIndex:-1,[Kw]:a,[Hw]:i.dataKey});return N.createElement(Km,AW({tabIndex:-1,className:"recharts-pie-sector"},Om(u,e,a),{onMouseEnter:d(e,a),onMouseLeave:h(e,a),onClick:f(e,a),key:"sector-".concat(null==e?void 0:e.startAngle,"-").concat(null==e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(a)}),N.createElement(vW,AW({option:l,isActive:o,shapeType:"sector"},c)))}),N.createElement(RW,{sectors:t,props:i,showLabels:a}))}function LW(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:i,animationBegin:a,animationDuration:s,animationEasing:o,activeShape:l,inactiveShape:c,onAnimationStart:u,onAnimationEnd:d}=t,h=CW(t,"recharts-pie-"),f=n.current,[m,p]=N.useState(!0),g=N.useCallback(()=>{"function"==typeof d&&d(),p(!1)},[d]),x=N.useCallback(()=>{"function"==typeof u&&u(),p(!0)},[u]);return N.createElement(ZN,{begin:a,duration:s,isActive:i,easing:o,from:{t:0},to:{t:1},onAnimationStart:x,onAnimationEnd:g,key:h},e=>{var{t:i}=e,a=[],s=(r&&r[0]).startAngle;return r.forEach((e,t)=>{var n=f&&f[t],r=t>0?sm(e,"paddingAngle",0):0;if(n){var o=_m(n.endAngle-n.startAngle,e.endAngle-e.startAngle),l=MW(MW({},e),{},{startAngle:s+r,endAngle:s+o(i)+r});a.push(l),s=l.endAngle}else{var{endAngle:c,startAngle:u}=e,d=_m(0,c-u)(i),h=MW(MW({},e),{},{startAngle:s+r,endAngle:s+d+r});a.push(h),s=h.endAngle}}),n.current=a,N.createElement(Km,null,N.createElement(IW,{sectors:a,activeShape:l,inactiveShape:c,allOtherPieProps:t,showLabels:!m}))})}function zW(e){var{sectors:t,isAnimationActive:n,activeShape:r,inactiveShape:i}=e,a=N.useRef(null),s=a.current;return n&&t&&t.length&&(!s||s!==t)?N.createElement(LW,{props:e,previousSectorsRef:a}):N.createElement(IW,{sectors:t,activeShape:r,inactiveShape:i,allOtherPieProps:e,showLabels:!0})}function FW(e){var{hide:t,className:n,rootTabIndex:r}=e,i=st("recharts-pie",n);return t?null:N.createElement(Km,{tabIndex:r,className:i},N.createElement(zW,e))}var BW={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Wj,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function WW(e){var t=cN(e,BW),n=N.useMemo(()=>Im(e.children,oF),[e.children]),r=zm(t,!1),i=N.useMemo(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:r}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,r]),a=Nv(e=>VB(e,i,n));return N.createElement(N.Fragment,null,N.createElement(jW,{fn:DW,args:MW(MW({},t),{},{sectors:a})}),N.createElement(FW,AW({},t,{sectors:a})))}class $W extends N.PureComponent{constructor(){super(...arguments),OW(this,"id",ym("recharts-pie-"))}render(){return N.createElement(N.Fragment,null,N.createElement(nW,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),N.createElement(TW,this.props),N.createElement(WW,this.props),this.props.children)}}function VW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function KW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VW(Object(n),!0).forEach(function(t){HW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function HW(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UW(e){var t,{points:n,mainColor:r,activeDot:i,itemDataKey:a}=e,s=qL(),o=Nv(zL),l=Nv(FL);if(!o)return null;var c=s.dataKey;return t=c&&!s.allowDuplicatedCategory?jm(n,"function"==typeof c?e=>c(e.payload):"payload.".concat(c),l):null==n?void 0:n[Number(o)],Nm(t)?null:(e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=e;if(!1===i||null==t.x||null==t.y)return null;var s,o=KW(KW({index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:null!=r?r:"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},zm(i,!1)),Mm(i));return s=N.isValidElement(i)?N.cloneElement(i,o):"function"==typeof i?i(o):N.createElement(gB,o),N.createElement(Km,{className:"recharts-active-dot"},s)})({point:t,childIndex:Number(o),mainColor:r,dataKey:a,activeDot:i})}OW($W,"displayName","Pie"),OW($W,"defaultProps",BW);var YW=()=>{var e=bv();return N.useEffect(()=>(e(HB()),()=>{e(UB())})),null},qW=["children"],GW=()=>{},XW=N.createContext({addErrorBar:GW,removeErrorBar:GW}),QW={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ZW=N.createContext(QW);function JW(e){var{children:t}=e,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,qW);return N.createElement(ZW.Provider,{value:n},t)}var e$=e=>{var{children:t,xAxisId:n,yAxisId:r,zAxisId:i,dataKey:a,data:s,stackId:o,hide:l,type:c,barSize:u}=e,[d,h]=N.useState([]),f=N.useCallback(e=>{h(t=>[...t,e])},[h]),m=N.useCallback(e=>{h(t=>t.filter(t=>t!==e))},[h]),p=Jw();return N.createElement(XW.Provider,{value:{addErrorBar:f,removeErrorBar:m}},N.createElement(tW,{type:c,data:s,xAxisId:n,yAxisId:r,zAxisId:i,dataKey:a,errorBars:d,stackId:o,hide:l,barSize:u,isPanorama:p}),t)};function t$(e){var{addErrorBar:t,removeErrorBar:n}=N.useContext(XW);return N.useEffect(()=>(t(e),()=>{n(e)}),[t,n,e]),null}var n$=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function r$(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i$(){return i$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i$.apply(null,arguments)}function a$(e){var{direction:t,width:n,dataKey:r,isAnimationActive:i,animationBegin:a,animationDuration:s,animationEasing:o}=e,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,n$),c=zm(l,!1),{data:u,dataPointFormatter:d,xAxisId:h,yAxisId:f,errorBarOffset:m}=N.useContext(ZW),p=(e=>{var t=Jw();return Nv(n=>NI(n,"xAxis",e,t))})(h),g=(e=>{var t=Jw();return Nv(n=>NI(n,"yAxis",e,t))})(f);if(null==(null==p?void 0:p.scale)||null==(null==g?void 0:g.scale)||null==u)return null;if("x"===t&&"number"!==p.type)return null;var x=u.map(e=>{var{x:l,y:u,value:h,errorVal:f}=d(e,r,t);if(!f)return null;var x,y,v=[];if(Array.isArray(f)?[x,y]=f:x=y=f,"x"===t){var{scale:b}=p,_=u+m,w=_+n,j=_-n,k=b(h-x),S=b(h+y);v.push({x1:S,y1:w,x2:S,y2:j}),v.push({x1:k,y1:_,x2:S,y2:_}),v.push({x1:k,y1:w,x2:k,y2:j})}else if("y"===t){var{scale:C}=g,E=l+m,P=E-n,M=E+n,O=C(h-x),A=C(h+y);v.push({x1:P,y1:A,x2:M,y2:A}),v.push({x1:E,y1:O,x2:E,y2:A}),v.push({x1:P,y1:O,x2:M,y2:O})}var T="".concat(l+m,"px ").concat(u+m,"px");return N.createElement(Km,i$({className:"recharts-errorBar",key:"bar-".concat(v.map(e=>"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)))},c),v.map(e=>{var t=i?{transformOrigin:"".concat(e.x1-5,"px")}:void 0;return N.createElement(ZN,{from:{transform:"scaleY(0)",transformOrigin:T},to:{transform:"scaleY(1)",transformOrigin:T},begin:a,easing:o,isActive:i,duration:s,key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2),style:{transformOrigin:T}},N.createElement("line",i$({},e,{style:t})))}))});return N.createElement(Km,{className:"recharts-errorBars"},x)}var s$=N.createContext(void 0);function o$(e){var{direction:t,children:n}=e;return N.createElement(s$.Provider,{value:t},n)}var l$={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function c$(e){var t,n,r=(t=e.direction,n=N.useContext(s$),null!=t?t:null!=n?n:"x"),{width:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l}=cN(e,l$);return N.createElement(N.Fragment,null,N.createElement(t$,{dataKey:e.dataKey,direction:r}),N.createElement(a$,i$({},e,{direction:r,width:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l})))}class u$ extends N.Component{render(){return N.createElement(c$,this.props)}}r$(u$,"defaultProps",l$),r$(u$,"displayName","ErrorBar");var d$=["x","y"];function h$(){return h$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h$.apply(null,arguments)}function f$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f$(Object(n),!0).forEach(function(t){p$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p$(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g$(e,t){var{x:n,y:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,d$),a="".concat(n),s=parseInt(a,10),o="".concat(r),l=parseInt(o,10),c="".concat(t.height||i.height),u=parseInt(c,10),d="".concat(t.width||i.width),h=parseInt(d,10);return m$(m$(m$(m$(m$({},t),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function x$(e){return N.createElement(vW,h$({shapeType:"rectangle",propTransformer:g$,activeClassName:"recharts-active-bar"},e))}var y$=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(n,r)=>{if(pm(e))return e;var i=pm(n)||Nm(n);return i?e(n,r):(i||function(){throw new Error("Invariant failed")}(),t)}};function v$(e,t){var n,r,i=Nv(t=>HD(t,e)),a=Nv(e=>YD(e,t)),s=null!==(n=null==i?void 0:i.allowDataOverflow)&&void 0!==n?n:KD.allowDataOverflow,o=null!==(r=null==a?void 0:a.allowDataOverflow)&&void 0!==r?r:UD.allowDataOverflow;return{needClip:s||o,needClipX:s,needClipY:o}}function b$(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=ij(),{needClipX:a,needClipY:s,needClip:o}=v$(t,n);if(!o)return null;var{left:l,top:c,width:u,height:d}=i;return N.createElement("clipPath",{id:"clipPath-".concat(r)},N.createElement("rect",{x:a?l:l-u/2,y:s?c:c-d/2,width:a?u:2*u,height:s?d:2*d}))}var _$=["onMouseEnter","onMouseLeave","onClick"],w$=["value","background","tooltipPosition"],j$=["onMouseEnter","onClick","onMouseLeave"];function N$(){return N$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N$.apply(null,arguments)}function k$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function S$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k$(Object(n),!0).forEach(function(t){C$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function C$(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E$(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var P$=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:Lw(n,t),payload:e}]};function M$(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:a,hide:s,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:Lw(a,t),hide:s,type:e.tooltipType,color:e.fill,unit:o}}}function O$(e){var t=Nv(zL),{data:n,dataKey:r,background:i,allOtherBarProps:a}=e,{onMouseEnter:s,onMouseLeave:o,onClick:l}=a,c=E$(a,_$),u=bW(s,r),d=_W(o),h=wW(l,r);if(!i||null==n)return null;var f=zm(i,!1);return N.createElement(N.Fragment,null,n.map((e,n)=>{var{value:a,background:s,tooltipPosition:o}=e,l=E$(e,w$);if(!s)return null;var m=u(e,n),p=d(e,n),g=h(e,n),x=S$(S$(S$(S$(S$({option:i,isActive:String(n)===t},l),{},{fill:"#eee"},s),f),Om(c,e,n)),{},{onMouseEnter:m,onMouseLeave:p,onClick:g,dataKey:r,index:n,className:"recharts-bar-background-rectangle"});return N.createElement(x$,N$({key:"background-bar-".concat(n)},x))}))}function A$(e){var{data:t,props:n,showLabels:r}=e,i=zm(n,!1),{shape:a,dataKey:s,activeBar:o}=n,l=Nv(zL),c=Nv(BL),{onMouseEnter:u,onClick:d,onMouseLeave:h}=n,f=E$(n,j$),m=bW(u,s),p=_W(h),g=wW(d,s);return t?N.createElement(N.Fragment,null,t.map((e,t)=>{var n=o&&String(t)===l&&(null==c||s===c),r=n?o:a,u=S$(S$(S$({},i),e),{},{isActive:n,option:r,index:t,dataKey:s});return N.createElement(Km,N$({className:"recharts-bar-rectangle"},Om(f,e,t),{onMouseEnter:m(e,t),onMouseLeave:p(e,t),onClick:g(e,t),key:"rectangle-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.value,"-").concat(t)}),N.createElement(x$,u))}),r&&mB.renderCallByParent(n,t)):null}function T$(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=t,d=n.current,h=CW(t,"recharts-bar-"),[f,m]=N.useState(!1),p=N.useCallback(()=>{"function"==typeof c&&c(),m(!1)},[c]),g=N.useCallback(()=>{"function"==typeof u&&u(),m(!0)},[u]);return N.createElement(ZN,{begin:s,duration:o,isActive:a,easing:l,from:{t:0},to:{t:1},onAnimationEnd:p,onAnimationStart:g,key:h},e=>{var{t:a}=e,s=1===a?r:r.map((e,t)=>{var n=d&&d[t];if(n){var r=_m(n.x,e.x),s=_m(n.y,e.y),o=_m(n.width,e.width),l=_m(n.height,e.height);return S$(S$({},e),{},{x:r(a),y:s(a),width:o(a),height:l(a)})}if("horizontal"===i){var c=_m(0,e.height)(a);return S$(S$({},e),{},{y:e.y+e.height-c,height:c})}var u=_m(0,e.width)(a);return S$(S$({},e),{},{width:u})});return a>0&&(n.current=s),N.createElement(Km,null,N.createElement(A$,{props:t,data:s,showLabels:!f}))})}function D$(e){var{data:t,isAnimationActive:n}=e,r=N.useRef(null);return n&&t&&t.length&&(null==r.current||r.current!==t)?N.createElement(T$,{previousRectanglesRef:r,props:e}):N.createElement(A$,{props:e,data:t,showLabels:!0})}var R$=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:ww(e,t)}};class I$ extends N.PureComponent{constructor(){super(...arguments),C$(this,"id",ym("recharts-bar-"))}render(){var{hide:e,data:t,dataKey:n,className:r,xAxisId:i,yAxisId:a,needClip:s,background:o,id:l,layout:c}=this.props;if(e)return null;var u=st("recharts-bar",r),d=Nm(l)?this.id:l;return N.createElement(Km,{className:u},s&&N.createElement("defs",null,N.createElement(b$,{clipPathId:d,xAxisId:i,yAxisId:a})),N.createElement(Km,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(d,")"):null},N.createElement(O$,{data:t,dataKey:n,background:o,allOtherBarProps:this.props}),N.createElement(D$,this.props)),N.createElement(o$,{direction:"horizontal"===c?"y":"x"},this.props.children))}}var L$={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Wj,legendType:"rect",minPointSize:0,xAxisId:0,yAxisId:0};function z$(e){var t,{xAxisId:n,yAxisId:r,hide:i,legendType:a,minPointSize:s,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=cN(e,L$),{needClip:h}=v$(n,r),f=cj(),m=Jw(),p=N.useMemo(()=>({barSize:e.barSize,data:void 0,dataKey:e.dataKey,maxBarSize:e.maxBarSize,minPointSize:s,stackId:Pw(e.stackId)}),[e.barSize,e.dataKey,e.maxBarSize,s,e.stackId]),g=Im(e.children,oF),x=Nv(e=>eV(e,n,r,m,p,g));if("vertical"!==f&&"horizontal"!==f)return null;var y=null==x?void 0:x[0];return t=null==y||null==y.height||null==y.width?0:"vertical"===f?y.height/2:y.width/2,N.createElement(JW,{xAxisId:n,yAxisId:r,data:x,dataPointFormatter:R$,errorBarOffset:t},N.createElement(I$,N$({},e,{layout:f,needClip:h,data:x,xAxisId:n,yAxisId:r,hide:i,legendType:a,minPointSize:s,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function F$(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:s,yAxis:o,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:d,offset:h,cells:f}=e,m="horizontal"===t?o:s,p=u?m.scale.domain():null,g=(e=>{var{numericAxis:t}=e,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]})({numericAxis:m});return d.map((e,d)=>{var m,x,y,v,b,_;u?m=((e,t)=>{if(!t||2!==t.length||!pm(t[0])||!pm(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!pm(e[0])||e[0]<n)&&(i[0]=n),(!pm(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i})(u[d],p):(m=ww(e,n),Array.isArray(m)||(m=[g,m]));var w=y$(r,0)(m[1],d);if("horizontal"===t){var j,[N,k]=[o.scale(m[0]),o.scale(m[1])];x=Ow({axis:s,ticks:l,bandSize:a,offset:i.offset,entry:e,index:d}),y=null!==(j=null!=k?k:N)&&void 0!==j?j:void 0,v=i.size;var S=N-k;if(b=fm(S)?0:S,_={x:x,y:h.top,width:v,height:h.height},Math.abs(w)>0&&Math.abs(b)<Math.abs(w)){var C=hm(b||w)*(Math.abs(w)-Math.abs(b));y-=C,b+=C}}else{var[E,P]=[s.scale(m[0]),s.scale(m[1])];x=E,y=Ow({axis:o,ticks:c,bandSize:a,offset:i.offset,entry:e,index:d}),v=P-E,b=i.size,_={x:h.left,y:y,width:h.width,height:b},Math.abs(w)>0&&Math.abs(v)<Math.abs(w)&&(v+=hm(v||w)*(Math.abs(w)-Math.abs(v)))}return S$(S$({},e),{},{x:x,y:y,width:v,height:b,value:u?m:m[1],payload:e,background:_,tooltipPosition:{x:x+v/2,y:y+b/2}},f&&f[d]&&f[d].props)})}class B$ extends N.PureComponent{render(){return N.createElement(e$,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},N.createElement(YW,null),N.createElement(kW,{legendPayload:P$(this.props)}),N.createElement(jW,{fn:M$,args:this.props}),N.createElement(z$,this.props))}}function W$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W$(Object(n),!0).forEach(function(t){V$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function V$(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}C$(B$,"displayName","Bar"),C$(B$,"defaultProps",L$);var K$=(e,t,n,r,i)=>i,H$=(e,t,n)=>{var r=null!=n?n:e;if(!Nm(r))return vm(r,t,0)},U$=Av([lj,eR,(e,t)=>t,(e,t,n)=>n,(e,t,n,r)=>r],(e,t,n,r,i)=>t.filter(t=>"horizontal"===e?t.xAxisId===n:t.yAxisId===r).filter(e=>e.isPanorama===i).filter(e=>!1===e.hide).filter(e=>"bar"===e.type));function Y$(e){return null!=e.stackId&&null!=e.dataKey}var q$=Av([U$,e=>e.rootProps.barSize,(e,t,n)=>"horizontal"===lj(e)?gI(e,"xAxis",t):gI(e,"yAxis",n)],(e,t,n)=>{var r=e.filter(Y$),i=e.filter(e=>null==e.stackId),a=r.reduce((e,t)=>(e[t.stackId]||(e[t.stackId]=[]),e[t.stackId].push(t),e),{});return[...Object.entries(a).map(e=>{var[r,i]=e;return{stackId:r,dataKeys:i.map(e=>e.dataKey),barSize:H$(t,n,i[0].barSize)}}),...i.map(e=>({stackId:void 0,dataKeys:[e.dataKey].filter(e=>null!=e),barSize:H$(t,n,e.barSize)}))]}),G$=(e,t,n,r)=>{var i,a;return"horizontal"===lj(e)?(i=NI(e,"xAxis",t,r),a=jI(e,"xAxis",t,r)):(i=NI(e,"yAxis",n,r),a=jI(e,"yAxis",n,r)),Rw(i,a)},X$=Av([q$,lD,e=>e.rootProps.barGap,cD,(e,t,n,r,i)=>{var a,s,o,l,c=lj(e),u=lD(e),{maxBarSize:d}=i,h=Nm(d)?u:d;return"horizontal"===c?(o=NI(e,"xAxis",t,r),l=jI(e,"xAxis",t,r)):(o=NI(e,"yAxis",n,r),l=jI(e,"yAxis",n,r)),null!==(a=null!==(s=Rw(o,l,!0))&&void 0!==s?s:h)&&void 0!==a?a:0},G$,(e,t,n,r,i)=>i.maxBarSize],(e,t,n,r,i,a,s)=>{var o=Nm(s)?t:s,l=function(e,t,n,r,i){var a=r.length;if(!(a<1)){var s,o=vm(e,n,0,!0),l=[];if(Vj(r[0].barSize)){var c=!1,u=n/a,d=r.reduce((e,t)=>e+(t.barSize||0),0);(d+=(a-1)*o)>=n&&(d-=(a-1)*o,o=0),d>=n&&u>0&&(c=!0,d=a*(u*=.9));var h={offset:((n-d)/2|0)-o,size:0};s=r.reduce((e,t)=>{var n,r=[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:h.offset+h.size+o,size:c?u:null!==(n=t.barSize)&&void 0!==n?n:0}}];return h=r[r.length-1].position,r},l)}else{var f=vm(t,n,0,!0);n-2*f-(a-1)*o<=0&&(o=0);var m=(n-2*f-(a-1)*o)/a;m>1&&(m>>=0);var p=Vj(i)?Math.min(m,i):m;s=r.reduce((e,t,n)=>[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:f+(m+o)*n+(m-p)/2,size:p}}],l)}return s}}(n,r,i!==a?i:a,e,o);return i!==a&&null!=l&&(l=l.map(e=>$$($$({},e),{},{position:$$($$({},e.position),{},{offset:e.position.offset-i/2})}))),l}),Q$=Av([X$,K$],(e,t)=>{if(null!=e){var n=e.find(e=>e.stackId===t.stackId&&e.dataKeys.includes(t.dataKey));if(null!=n)return n.position}}),Z$=Av([eR,K$],(e,t)=>{if(e.some(e=>"bar"===e.type&&t.dataKey===e.dataKey&&t.stackId===e.stackId&&t.stackId===e.stackId))return t}),J$=Av([(e,t,n,r)=>"horizontal"===lj(e)?gR(e,"yAxis",n,r):gR(e,"xAxis",t,r),K$],(e,t)=>{if(e&&null!=(null==t?void 0:t.dataKey)){var{stackId:n}=t;if(null!=n){var r=e[n];if(r){var{stackedData:i}=r;if(i)return i.find(e=>e.key===t.dataKey)}}}}),eV=Av([Gw,(e,t,n,r)=>NI(e,"xAxis",t,r),(e,t,n,r)=>NI(e,"yAxis",n,r),(e,t,n,r)=>jI(e,"xAxis",t,r),(e,t,n,r)=>jI(e,"yAxis",n,r),Q$,lj,dT,G$,J$,Z$,(e,t,n,r,i,a)=>a],(e,t,n,r,i,a,s,o,l,c,u,d)=>{var{chartData:h,dataStartIndex:f,dataEndIndex:m}=o;if(null!=u&&null!=a&&("horizontal"===s||"vertical"===s)&&null!=t&&null!=n&&null!=r&&null!=i&&null!=l){var p,{data:g}=u;if(null!=(p=null!=g&&g.length>0?g:null==h?void 0:h.slice(f,m+1)))return F$({layout:s,barSettings:u,pos:a,bandSize:l,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,stackedData:c,displayedData:p,offset:e,cells:d})}}),tV=e=>{var{chartData:t}=e,n=bv(),r=Jw();return N.useEffect(()=>r?()=>{}:(n(Mz(t)),()=>{n(Mz(void 0))}),[t,n,r]),null},nV={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},rV=w_({name:"brush",initialState:nV,reducers:{setBrushSettings:(e,t)=>null==t.payload?nV:t.payload}}),{setBrushSettings:iV}=rV.actions,aV=rV.reducer;function sV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sV(Object(n),!0).forEach(function(t){lV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function lV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cV=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return{x:Math.min(n,i),y:Math.min(r,a),width:Math.abs(i-n),height:Math.abs(a-r)}};class uV{static create(e){return new uV(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==e){if(n)switch(n){case"start":default:return this.scale(e);case"middle":var r=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+r;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}if(t){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}lV(uV,"EPS",1e-4);var dV=e=>{var t=Object.keys(e).reduce((t,n)=>oV(oV({},t),{},{[n]:uV.create(e[n])}),{});return oV(oV({},t),{},{apply(e){var{bandAware:n,position:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.fromEntries(Object.entries(e).map(e=>{var[i,a]=e;return[i,t[i].apply(a,{bandAware:n,position:r})]}))},isInRange:e=>Object.keys(e).every(n=>t[n].isInRange(e[n]))})},hV=w_({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=t_(e).dots.findIndex(e=>e===t.payload);-1!==n&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=t_(e).areas.findIndex(e=>e===t.payload);-1!==n&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=t_(e).lines.findIndex(e=>e===t.payload);-1!==n&&e.lines.splice(n,1)}}}),{addDot:fV,removeDot:mV,addArea:pV,removeArea:gV,addLine:xV,removeLine:yV}=hV.actions,vV=hV.reducer,bV=N.createContext(void 0),_V=e=>{var{children:t}=e,[n]=N.useState("".concat(ym("recharts"),"-clip")),r=ij();if(null==r)return null;var{left:i,top:a,height:s,width:o}=r;return N.createElement(bV.Provider,{value:n},N.createElement("defs",null,N.createElement("clipPath",{id:n},N.createElement("rect",{x:i,y:a,height:s,width:o}))),t)},wV=()=>N.useContext(bV);function jV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function NV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jV(Object(n),!0).forEach(function(t){kV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function kV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SV(){return SV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SV.apply(null,arguments)}function CV(e){var t=bv();return N.useEffect(()=>(t(xV(e)),()=>{t(yV(e))})),null}function EV(e){var{x:t,y:n,segment:r,xAxisId:i,yAxisId:a,shape:s,className:o,ifOverflow:l}=e,c=Jw(),u=wV(),d=Nv(e=>HD(e,i)),h=Nv(e=>YD(e,a)),f=Nv(e=>aI(e,"xAxis",i,c)),m=Nv(e=>aI(e,"yAxis",a,c)),p=nj(),g=gm(t),x=gm(n);if(!u||!p||null==d||null==h||null==f||null==m)return null;var y=((e,t,n,r,i,a,s,o,l)=>{var{x:c,y:u,width:d,height:h}=i;if(n){var{y:f}=l,m=e.y.apply(f,{position:a});if(fm(m))return null;if("discard"===l.ifOverflow&&!e.y.isInRange(m))return null;var p=[{x:c+d,y:m},{x:c,y:m}];return"left"===o?p.reverse():p}if(t){var{x:g}=l,x=e.x.apply(g,{position:a});if(fm(x))return null;if("discard"===l.ifOverflow&&!e.x.isInRange(x))return null;var y=[{x:x,y:u+h},{x:x,y:u}];return"top"===s?y.reverse():y}if(r){var{segment:v}=l,b=v.map(t=>e.apply(t,{position:a}));return"discard"===l.ifOverflow&&b.some(t=>!e.isInRange(t))?null:b}return null})(dV({x:f,y:m}),g,x,r&&2===r.length,p,e.position,d.orientation,h.orientation,e);if(!y)return null;var[{x:v,y:b},{x:_,y:w}]=y,j=NV(NV({clipPath:"hidden"===l?"url(#".concat(u,")"):void 0},zm(e,!0)),{},{x1:v,y1:b,x2:_,y2:w});return N.createElement(Km,{className:st("recharts-reference-line",o)},((e,t)=>N.isValidElement(e)?N.cloneElement(e,t):"function"==typeof e?e(t):N.createElement("line",SV({},t,{className:"recharts-reference-line-line"})))(s,j),UF.renderCallByParent(e,(e=>{var{x1:t,y1:n,x2:r,y2:i}=e;return cV({x:t,y:n},{x:r,y:i})})({x1:v,y1:b,x2:_,y2:w})))}function PV(e){return N.createElement(N.Fragment,null,N.createElement(CV,{yAxisId:e.yAxisId,xAxisId:e.xAxisId,ifOverflow:e.ifOverflow,x:e.x,y:e.y}),N.createElement(EV,e))}class MV extends N.Component{render(){return N.createElement(PV,this.props)}}function OV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function AV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OV(Object(n),!0).forEach(function(t){TV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function TV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DV(){return DV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DV.apply(null,arguments)}function RV(e){var t=bv();return N.useEffect(()=>(t(pV(e)),()=>{t(gV(e))})),null}function IV(e){var{x1:t,x2:n,y1:r,y2:i,className:a,shape:s,xAxisId:o,yAxisId:l}=e,c=wV(),u=Jw(),d=Nv(e=>aI(e,"xAxis",o,u)),h=Nv(e=>aI(e,"yAxis",l,u));if(null==d||null==!h)return null;var f=gm(t),m=gm(n),p=gm(r),g=gm(i);if(!(f||m||p||g||s))return null;var x=((e,t,n,r,i,a,s)=>{var{x1:o,x2:l,y1:c,y2:u}=s;if(null==i||null==a)return null;var d=dV({x:i,y:a}),h={x:e?d.x.apply(o,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(c,{position:"start"}):d.y.rangeMin},f={x:t?d.x.apply(l,{position:"end"}):d.x.rangeMax,y:r?d.y.apply(u,{position:"end"}):d.y.rangeMax};return"discard"!==s.ifOverflow||d.isInRange(h)&&d.isInRange(f)?cV(h,f):null})(f,m,p,g,d,h,e);if(!x&&!s)return null;var y="hidden"===e.ifOverflow?"url(#".concat(c,")"):void 0;return N.createElement(Km,{className:st("recharts-reference-area",a)},((e,t)=>N.isValidElement(e)?N.cloneElement(e,t):"function"==typeof e?e(t):N.createElement(nk,DV({},t,{className:"recharts-reference-area-rect"})))(s,AV(AV({clipPath:y},zm(e,!0)),x)),UF.renderCallByParent(e,x))}function LV(e){return N.createElement(N.Fragment,null,N.createElement(RV,{yAxisId:e.yAxisId,xAxisId:e.xAxisId,ifOverflow:e.ifOverflow,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}),N.createElement(IV,e))}kV(MV,"displayName","ReferenceLine"),kV(MV,"defaultProps",{ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});class zV extends N.Component{render(){return N.createElement(LV,this.props)}}function FV(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function BV(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function WV(e,t,n){return function(e){var{width:t,height:n}=e,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,a=Math.atan(n/t),s=i>a&&i<Math.PI-a?n/Math.sin(i):t/Math.cos(i);return Math.abs(s)}({width:e.width+t.width,height:e.height+t.height},n)}function $V(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function VV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function KV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VV(Object(n),!0).forEach(function(t){HV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function HV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UV(e,t,n){var r,{tick:i,ticks:a,viewBox:s,minTickGap:o,orientation:l,interval:c,tickFormatter:u,unit:d,angle:h}=e;if(!a||!a.length||!i)return[];if(pm(c)||Wj)return null!==(r=function(e,t){return BV(e,t+1)}(a,pm(c)?c:0))&&void 0!==r?r:[];var f=[],m="top"===l||"bottom"===l?"width":"height",p=d&&"width"===m?mF(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},g=(e,r)=>{var i="function"==typeof u?u(e.value,r):e.value;return"width"===m?WV(mF(i,{fontSize:t,letterSpacing:n}),p,h):mF(i,{fontSize:t,letterSpacing:n})[m]},x=a.length>=2?hm(a[1].coordinate-a[0].coordinate):1,y=function(e,t,n){var r="width"===n,{x:i,y:a,width:s,height:o}=e;return 1===t?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}(s,x,m);return"equidistantPreserveStart"===c?function(e,t,n,r,i){for(var a,s=(r||[]).slice(),{start:o,end:l}=t,c=0,u=1,d=o,h=function(){var t=null==r?void 0:r[c];if(void 0===t)return{v:BV(r,u)};var a,s=c,h=()=>(void 0===a&&(a=n(t,s)),a),f=t.coordinate,m=0===c||$V(e,f,h,d,l);m||(c=0,d=o,u+=1),m&&(d=f+e*(h()/2+i),c+=u)};u<=s.length;)if(a=h())return a.v;return[]}(x,y,g,a,o):(f="preserveStart"===c||"preserveStartEnd"===c?function(e,t,n,r,i,a){var s=(r||[]).slice(),o=s.length,{start:l,end:c}=t;if(a){var u=r[o-1],d=n(u,o-1),h=e*(u.coordinate+e*d/2-c);s[o-1]=u=KV(KV({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),$V(e,u.tickCoord,()=>d,l,c)&&(c=u.tickCoord-e*(d/2+i),s[o-1]=KV(KV({},u),{},{isShow:!0}))}for(var f=a?o-1:o,m=function(t){var r,a=s[t],o=()=>(void 0===r&&(r=n(a,t)),r);if(0===t){var u=e*(a.coordinate-e*o()/2-l);s[t]=a=KV(KV({},a),{},{tickCoord:u<0?a.coordinate-u*e:a.coordinate})}else s[t]=a=KV(KV({},a),{},{tickCoord:a.coordinate});$V(e,a.tickCoord,o,l,c)&&(l=a.tickCoord+e*(o()/2+i),s[t]=KV(KV({},a),{},{isShow:!0}))},p=0;p<f;p++)m(p);return s}(x,y,g,a,o,"preserveStartEnd"===c):function(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,c=function(t){var r,c=a[t],u=()=>(void 0===r&&(r=n(c,t)),r);if(t===s-1){var d=e*(c.coordinate+e*u()/2-l);a[t]=c=KV(KV({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else a[t]=c=KV(KV({},c),{},{tickCoord:c.coordinate});$V(e,c.tickCoord,u,o,l)&&(l=c.tickCoord-e*(u()/2+i),a[t]=KV(KV({},c),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return a}(x,y,g,a,o),f.filter(e=>e.isShow))}TV(zV,"displayName","ReferenceArea"),TV(zV,"defaultProps",{ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});var YV=["viewBox"],qV=["viewBox"];function GV(){return GV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GV.apply(null,arguments)}function XV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function QV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XV(Object(n),!0).forEach(function(t){JV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ZV(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function JV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class eK extends N.Component{constructor(e){super(e),this.tickRefs=N.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,t){var{viewBox:n}=e,r=ZV(e,YV),i=this.props,{viewBox:a}=i,s=ZV(i,qV);return!FV(n,a)||!FV(r,s)||!FV(t,this.state)}getTickLineCoord(e){var t,n,r,i,a,s,{x:o,y:l,width:c,height:u,orientation:d,tickSize:h,mirror:f,tickMargin:m}=this.props,p=f?-1:1,g=e.tickSize||h,x=pm(e.tickCoord)?e.tickCoord:e.coordinate;switch(d){case"top":t=n=e.coordinate,s=(r=(i=l+ +!f*u)-p*g)-p*m,a=x;break;case"left":r=i=e.coordinate,a=(t=(n=o+ +!f*c)-p*g)-p*m,s=x;break;case"right":r=i=e.coordinate,a=(t=(n=o+ +f*c)+p*g)+p*m,s=x;break;default:t=n=e.coordinate,s=(r=(i=l+ +f*u)+p*g)+p*m,a=x}return{line:{x1:t,y1:r,x2:n,y2:i},tick:{x:a,y:s}}}getTickTextAnchor(){var e,{orientation:t,mirror:n}=this.props;switch(t){case"left":e=n?"start":"end";break;case"right":e=n?"end":"start";break;default:e="middle"}return e}getTickVerticalAnchor(){var{orientation:e,mirror:t}=this.props;switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}renderAxisLine(){var{x:e,y:t,width:n,height:r,orientation:i,mirror:a,axisLine:s}=this.props,o=QV(QV(QV({},zm(this.props,!1)),zm(s,!1)),{},{fill:"none"});if("top"===i||"bottom"===i){var l=+("top"===i&&!a||"bottom"===i&&a);o=QV(QV({},o),{},{x1:e,y1:t+l*r,x2:e+n,y2:t+l*r})}else{var c=+("left"===i&&!a||"right"===i&&a);o=QV(QV({},o),{},{x1:e+c*n,y1:t,x2:e+c*n,y2:t+r})}return N.createElement("line",GV({},o,{className:st("recharts-cartesian-axis-line",sm(s,"className"))}))}static renderTickItem(e,t,n){var r,i=st(t.className,"recharts-cartesian-axis-tick-value");if(N.isValidElement(e))r=N.cloneElement(e,QV(QV({},t),{},{className:i}));else if("function"==typeof e)r=e(QV(QV({},t),{},{className:i}));else{var a="recharts-cartesian-axis-tick-value";"boolean"!=typeof e&&(a=st(a,e.className)),r=N.createElement(IF,GV({},t,{className:a}),n)}return r}renderTicks(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],{tickLine:r,stroke:i,tick:a,tickFormatter:s,unit:o}=this.props,l=UV(QV(QV({},this.props),{},{ticks:n}),e,t),c=this.getTickTextAnchor(),u=this.getTickVerticalAnchor(),d=zm(this.props,!1),h=zm(a,!1),f=QV(QV({},d),{},{fill:"none"},zm(r,!1)),m=l.map((e,t)=>{var{line:n,tick:m}=this.getTickLineCoord(e),p=QV(QV(QV(QV({textAnchor:c,verticalAnchor:u},d),{},{stroke:"none",fill:i},h),m),{},{index:t,payload:e,visibleTicksCount:l.length,tickFormatter:s});return N.createElement(Km,GV({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},Om(this.props,e,t)),r&&N.createElement("line",GV({},f,n,{className:st("recharts-cartesian-axis-tick-line",sm(r,"className"))})),a&&eK.renderTickItem(a,p,"".concat("function"==typeof s?s(e.value,t):e.value).concat(o||"")))});return m.length>0?N.createElement("g",{className:"recharts-cartesian-axis-ticks"},m):null}render(){var{axisLine:e,width:t,height:n,className:r,hide:i}=this.props;if(i)return null;var{ticks:a}=this.props;return null!=t&&t<=0||null!=n&&n<=0?null:N.createElement(Km,{className:st("recharts-cartesian-axis",r),ref:e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(t);var n=t[0];if(n){var r=window.getComputedStyle(n).fontSize,i=window.getComputedStyle(n).letterSpacing;r===this.state.fontSize&&i===this.state.letterSpacing||this.setState({fontSize:window.getComputedStyle(n).fontSize,letterSpacing:window.getComputedStyle(n).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,a),UF.renderCallByParent(this.props))}}JV(eK,"displayName","CartesianAxis"),JV(eK,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var tK=["x1","y1","x2","y2","key"],nK=["offset"],rK=["xAxisId","yAxisId"],iK=["xAxisId","yAxisId"];function aK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aK(Object(n),!0).forEach(function(t){oK(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aK(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oK(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lK(){return lK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lK.apply(null,arguments)}function cK(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var uK=e=>{var{fill:t}=e;if(!t||"none"===t)return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:o}=e;return N.createElement("rect",{x:r,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function dK(e,t){var n;if(N.isValidElement(e))n=N.cloneElement(e,t);else if("function"==typeof e)n=e(t);else{var{x1:r,y1:i,x2:a,y2:s,key:o}=t,l=cK(t,tK),c=zm(l,!1),{offset:u}=c,d=cK(c,nK);n=N.createElement("line",lK({},d,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:o}))}return n}function hK(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=cK(e,rK),l=i.map((e,i)=>{var a=sK(sK({},o),{},{x1:t,y1:e,x2:t+n,y2:e,key:"line-".concat(i),index:i});return dK(r,a)});return N.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function fK(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=cK(e,iK),l=i.map((e,i)=>{var a=sK(sK({},o),{},{x1:e,y1:t,x2:e,y2:t+n,key:"line-".concat(i),index:i});return dK(r,a)});return N.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function mK(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length)return null;var c=o.map(e=>Math.round(e+i-i)).sort((e,t)=>e-t);i!==c[0]&&c.unshift(0);var u=c.map((e,o)=>{var l=c[o+1]?c[o+1]-e:i+s-e;if(l<=0)return null;var u=o%t.length;return N.createElement("rect",{key:"react-".concat(o),y:e,x:r,height:l,width:a,stroke:"none",fill:t[u],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function pK(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:o,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var c=l.map(e=>Math.round(e+i-i)).sort((e,t)=>e-t);i!==c[0]&&c.unshift(0);var u=c.map((e,t)=>{var l=c[t+1]?c[t+1]-e:i+s-e;if(l<=0)return null;var u=t%n.length;return N.createElement("rect",{key:"react-".concat(t),x:e,y:a,width:l,height:o,stroke:"none",fill:n[u],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var gK=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return Nw(UV(sK(sK(sK({},eK.defaultProps),n),{},{ticks:kw(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},xK=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return Nw(UV(sK(sK(sK({},eK.defaultProps),n),{},{ticks:kw(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},yK={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function vK(e){var t=aj(),n=sj(),r=ij(),i=sK(sK({},cN(e,yK)),{},{x:pm(e.x)?e.x:r.left,y:pm(e.y)?e.y:r.top,width:pm(e.width)?e.width:r.width,height:pm(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:c,height:u,syncWithTicks:d,horizontalValues:h,verticalValues:f}=i,m=Jw(),p=Nv(e=>_I(e,"xAxis",a,m)),g=Nv(e=>_I(e,"yAxis",s,m));if(!pm(c)||c<=0||!pm(u)||u<=0||!pm(o)||o!==+o||!pm(l)||l!==+l)return null;var x=i.verticalCoordinatesGenerator||gK,y=i.horizontalCoordinatesGenerator||xK,{horizontalPoints:v,verticalPoints:b}=i;if(!(v&&v.length||"function"!=typeof y)){var _=h&&h.length,w=y({yAxis:g?sK(sK({},g),{},{ticks:_?h:g.ticks}):void 0,width:t,height:n,offset:r},!!_||d);nF(Array.isArray(w),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof w,"]")),Array.isArray(w)&&(v=w)}if(!(b&&b.length||"function"!=typeof x)){var j=f&&f.length,k=x({xAxis:p?sK(sK({},p),{},{ticks:j?f:p.ticks}):void 0,width:t,height:n,offset:r},!!j||d);nF(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(b=k)}return N.createElement("g",{className:"recharts-cartesian-grid"},N.createElement(uK,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),N.createElement(mK,lK({},i,{horizontalPoints:v})),N.createElement(pK,lK({},i,{verticalPoints:b})),N.createElement(hK,lK({},i,{offset:r,horizontalPoints:v,xAxis:p,yAxis:g})),N.createElement(fK,lK({},i,{offset:r,verticalPoints:b,xAxis:p,yAxis:g})))}vK.displayName="CartesianGrid";var bK=(e,t,n,r)=>NI(e,"xAxis",t,r),_K=(e,t,n,r)=>jI(e,"xAxis",t,r),wK=(e,t,n,r)=>NI(e,"yAxis",n,r),jK=(e,t,n,r)=>jI(e,"yAxis",n,r),NK=Av([lj,bK,wK,_K,jK],(e,t,n,r,i)=>jw(e,"xAxis")?Rw(t,r,!1):Rw(n,i,!1)),kK=Av([eR,(e,t,n,r,i)=>i],(e,t)=>{if(e.some(e=>"line"===e.type&&t.dataKey===e.dataKey&&t.data===e.data))return t}),SK=Av([lj,bK,wK,_K,jK,kK,NK,dT],(e,t,n,r,i,a,s,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=o;if(null!=a&&null!=t&&null!=n&&null!=r&&null!=i&&0!==r.length&&0!==i.length&&null!=s){var d,{dataKey:h,data:f}=a;if(null!=(d=null!=f&&f.length>0?f:null==l?void 0:l.slice(c,u+1)))return function(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:l}=e;return l.map((e,l)=>{var c=ww(e,s);return"horizontal"===t?{x:Mw({axis:n,ticks:i,bandSize:o,entry:e,index:l}),y:Nm(c)?null:r.scale(c),value:c,payload:e}:{x:Nm(c)?null:n.scale(c),y:Mw({axis:r,ticks:a,bandSize:o,entry:e,index:l}),value:c,payload:e}})}({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:h,bandSize:s,displayedData:d})}}),CK=["type","layout","connectNulls","needClip"],EK=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function PK(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function MK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function OK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MK(Object(n),!0).forEach(function(t){AK(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MK(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function AK(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TK(){return TK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TK.apply(null,arguments)}var DK=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:Lw(n,t),payload:e}]};function RK(e){var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:l}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:Lw(s,t),hide:o,type:e.tooltipType,color:e.stroke,unit:l}}}var IK=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function LK(e,t){for(var n=e.length%2!=0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}function zK(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:a,needClip:s}=r;if(!function(e,t){return null!=e&&(!!t||1===e.length)}(n,i))return null;var o=Lm(i),l=zm(r,!1),c=zm(i,!0),u=n.map((e,t)=>{var r=OK(OK(OK({key:"dot-".concat(t),r:3},l),c),{},{index:t,cx:e.x,cy:e.y,dataKey:a,value:e.value,payload:e.payload,points:n});return function(e,t){var n;if(N.isValidElement(e))n=N.cloneElement(e,t);else if("function"==typeof e)n=e(t);else{var r=st("recharts-line-dot","boolean"!=typeof e?e.className:"");n=N.createElement(gB,TK({},t,{className:r}))}return n}(i,r)}),d={clipPath:s?"url(#clipPath-".concat(o?"":"dots-").concat(t,")"):null};return N.createElement(Km,TK({className:"recharts-line-dots",key:"dots"},d),u)}function FK(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:a,showLabels:s}=e,{type:o,layout:l,connectNulls:c,needClip:u}=a,d=PK(a,CK),h=OK(OK({},zm(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):null,points:r,type:o,layout:l,connectNulls:c,strokeDasharray:null!=i?i:a.strokeDasharray});return N.createElement(N.Fragment,null,(null==r?void 0:r.length)>1&&N.createElement(eN,TK({},h,{pathRef:n})),N.createElement(zK,{points:r,clipPathId:t,props:a}),s&&mB.renderCallByParent(a,r))}function BK(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:s,strokeDasharray:o,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:d,animateNewValues:h,width:f,height:m,onAnimationEnd:p,onAnimationStart:g}=n,x=i.current,y=CW(n,"recharts-line-"),[v,b]=N.useState(!1),_=N.useCallback(()=>{"function"==typeof p&&p(),b(!1)},[p]),w=N.useCallback(()=>{"function"==typeof g&&g(),b(!0)},[g]),j=function(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}(r.current),k=a.current;return N.createElement(ZN,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},onAnimationEnd:_,onAnimationStart:w,key:y},e=>{var l,{t:c}=e,u=_m(k,j+k),d=Math.min(u(c),j);if(o){var p="".concat(o).split(/[,\s]+/gim).map(e=>parseFloat(e));l=((e,t,n)=>{var r=n.reduce((e,t)=>e+t);if(!r)return IK(t,e);for(var i=Math.floor(e/r),a=e%r,s=t-e,o=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>a){o=[...n.slice(0,l),a-c];break}var u=o.length%2==0?[0,s]:[s];return[...LK(n,i),...o,...u].map(e=>"".concat(e,"px")).join(", ")})(d,j,p)}else l=IK(j,d);if(x){var g=x.length/s.length,y=1===c?s:s.map((e,t)=>{var n=Math.floor(t*g);if(x[n]){var r=x[n],i=_m(r.x,e.x),a=_m(r.y,e.y);return OK(OK({},e),{},{x:i(c),y:a(c)})}if(h){var s=_m(2*f,e.x),o=_m(m/2,e.y);return OK(OK({},e),{},{x:s(c),y:o(c)})}return OK(OK({},e),{},{x:e.x,y:e.y})});return i.current=y,N.createElement(FK,{props:n,points:y,clipPathId:t,pathRef:r,showLabels:!v,strokeDasharray:l})}return c>0&&j>0&&(i.current=s,a.current=d),N.createElement(FK,{props:n,points:s,clipPathId:t,pathRef:r,showLabels:!v,strokeDasharray:l})})}function WK(e){var{clipPathId:t,props:n}=e,{points:r,isAnimationActive:i}=n,a=N.useRef(null),s=N.useRef(0),o=N.useRef(null),l=a.current;return i&&r&&r.length&&l!==r?N.createElement(BK,{props:n,clipPathId:t,previousPointsRef:a,longestAnimatedLengthRef:s,pathRef:o}):N.createElement(FK,{props:n,points:r,clipPathId:t,pathRef:o,showLabels:!0})}var $K=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:ww(e.payload,t)});class VK extends N.Component{constructor(){super(...arguments),AK(this,"id",ym("recharts-line-"))}render(){var e,{hide:t,dot:n,points:r,className:i,xAxisId:a,yAxisId:s,top:o,left:l,width:c,height:u,id:d,needClip:h,layout:f}=this.props;if(t)return null;var m=st("recharts-line",i),p=Nm(d)?this.id:d,{r:g=3,strokeWidth:x=2}=null!==(e=zm(n,!1))&&void 0!==e?e:{r:3,strokeWidth:2},y=Lm(n),v=2*g+x;return N.createElement(N.Fragment,null,N.createElement(Km,{className:m},h&&N.createElement("defs",null,N.createElement(b$,{clipPathId:p,xAxisId:a,yAxisId:s}),!y&&N.createElement("clipPath",{id:"clipPath-dots-".concat(p)},N.createElement("rect",{x:l-v/2,y:o-v/2,width:c+v,height:u+v}))),N.createElement(WK,{props:this.props,clipPathId:p}),N.createElement(o$,{direction:"horizontal"===f?"y":"x"},N.createElement(JW,{xAxisId:a,yAxisId:s,data:r,dataPointFormatter:$K,errorBarOffset:0},this.props.children))),N.createElement(UW,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var KK={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Wj,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function HK(e){var t=cN(e,KK),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,hide:c,isAnimationActive:u,label:d,legendType:h,xAxisId:f,yAxisId:m}=t,p=PK(t,EK),{needClip:g}=v$(f,m),{height:x,width:y,left:v,top:b}=ij(),_=cj(),w=Jw(),j=N.useMemo(()=>({dataKey:e.dataKey,data:e.data}),[e.dataKey,e.data]),k=Nv(e=>SK(e,f,m,w,j));return"horizontal"!==_&&"vertical"!==_?null:N.createElement(VK,TK({},p,{connectNulls:o,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:u,hide:c,label:d,legendType:h,xAxisId:f,yAxisId:m,points:k,layout:_,height:x,width:y,left:v,top:b,needClip:g}))}class UK extends N.PureComponent{render(){return N.createElement(e$,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},N.createElement(kW,{legendPayload:DK(this.props)}),N.createElement(jW,{fn:RK,args:this.props}),N.createElement(HK,this.props))}}AK(UK,"displayName","Line"),AK(UK,"defaultProps",KK);var YK=(e,t,n,r)=>NI(e,"xAxis",t,r),qK=(e,t,n,r)=>jI(e,"xAxis",t,r),GK=(e,t,n,r)=>NI(e,"yAxis",n,r),XK=(e,t,n,r)=>jI(e,"yAxis",n,r),QK=Av([lj,YK,GK,qK,XK],(e,t,n,r,i)=>jw(e,"xAxis")?Rw(t,r,!1):Rw(n,i,!1)),ZK=Av([eR,(e,t,n,r,i)=>i],(e,t)=>{if(e.some(e=>"area"===e.type&&t.dataKey===e.dataKey&&Pw(t.stackId)===e.stackId&&t.data===e.data))return t}),JK=Av([lj,YK,GK,qK,XK,(e,t,n,r,i)=>{var a,s,o=lj(e);if(null!=(s=jw(o,"xAxis")?gR(e,"yAxis",n,r):gR(e,"xAxis",t,r))){var{dataKey:l,stackId:c}=i;if(null!=c){var u=null===(a=s[c])||void 0===a?void 0:a.stackedData;return null==u?void 0:u.find(e=>e.key===l)}}},dT,QK,ZK],(e,t,n,r,i,a,s,o,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=s;if(null!=l&&("horizontal"===e||"vertical"===e)&&null!=t&&null!=n&&null!=r&&null!=i&&0!==r.length&&0!==i.length&&null!=o){var h,{data:f}=l;if(null!=(h=f&&f.length>0?f:null==c?void 0:c.slice(u,d+1)))return function(e){var t,{areaSettings:{connectNulls:n,baseValue:r,dataKey:i},stackedData:a,layout:s,chartBaseValue:o,xAxis:l,yAxis:c,displayedData:u,dataStartIndex:d,xAxisTicks:h,yAxisTicks:f,bandSize:m}=e,p=a&&a.length,g=((e,t,n,r,i)=>{var a=null!=n?n:t;if(pm(a))return a;var s="horizontal"===e?i:r,o=s.scale.domain();if("number"===s.type){var l=Math.max(o[0],o[1]),c=Math.min(o[0],o[1]);return"dataMin"===a?c:"dataMax"===a||l<0?l:Math.max(Math.min(o[0],o[1]),0)}return"dataMin"===a?o[0]:"dataMax"===a?o[1]:o[0]})(s,o,r,l,c),x="horizontal"===s,y=!1,v=u.map((e,t)=>{var r;p?r=a[d+t]:(r=ww(e,i),Array.isArray(r)?y=!0:r=[g,r]);var s=null==r[1]||p&&!n&&null==ww(e,i);return x?{x:Mw({axis:l,ticks:h,bandSize:m,entry:e,index:t}),y:s?null:c.scale(r[1]),value:r,payload:e}:{x:s?null:l.scale(r[1]),y:Mw({axis:c,ticks:f,bandSize:m,entry:e,index:t}),value:r,payload:e}});return t=p||y?v.map(e=>{var t=Array.isArray(e.value)?e.value[0]:null;return x?{x:e.x,y:null!=t&&null!=e.y?c.scale(t):null}:{x:null!=t?l.scale(t):null,y:e.y}}):x?c.scale(g):l.scale(g),{points:v,baseLine:t,isRange:y}}({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:u,areaSettings:l,stackedData:a,displayedData:h,chartBaseValue:void 0,bandSize:o})}}),eH=["layout","type","stroke","connectNulls","isRange"],tH=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function nH(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function iH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rH(Object(n),!0).forEach(function(t){aH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function aH(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sH(){return sH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sH.apply(null,arguments)}function oH(e,t){return e&&"none"!==e?e:t}var lH=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:oH(r,i),value:Lw(n,t),payload:e}]};function cH(e){var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:l}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:Lw(s,t),hide:o,type:e.tooltipType,color:oH(r,a),unit:l}}}function uH(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:a,dataKey:s}=r;if(!function(e,t){return null!=e&&(!!t||1===e.length)}(n,a))return null;var o=Lm(a),l=zm(r,!1),c=zm(a,!0),u=n.map((e,t)=>{var r=iH(iH(iH({key:"dot-".concat(t),r:3},l),c),{},{index:t,cx:e.x,cy:e.y,dataKey:s,value:e.value,payload:e.payload,points:n});return((e,t)=>{var n;if(N.isValidElement(e))n=N.cloneElement(e,t);else if("function"==typeof e)n=e(t);else{var r=st("recharts-area-dot","boolean"!=typeof e?e.className:"");n=N.createElement(gB,sH({},t,{className:r}))}return n})(a,r)}),d={clipPath:i?"url(#clipPath-".concat(o?"":"dots-").concat(t,")"):void 0};return N.createElement(Km,sH({className:"recharts-area-dots"},d),u)}function dH(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:a,showLabels:s}=e,{layout:o,type:l,stroke:c,connectNulls:u,isRange:d}=a,h=nH(a,eH);return N.createElement(N.Fragment,null,(null==t?void 0:t.length)>1&&N.createElement(Km,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},N.createElement(eN,sH({},zm(h,!0),{points:t,connectNulls:u,type:l,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),"none"!==c&&N.createElement(eN,sH({},zm(a,!1),{className:"recharts-area-curve",layout:o,type:l,connectNulls:u,fill:"none",points:t})),"none"!==c&&d&&N.createElement(eN,sH({},zm(a,!1),{className:"recharts-area-curve",layout:o,type:l,connectNulls:u,fill:"none",points:n}))),N.createElement(uH,{points:t,props:a,clipPathId:i}),s&&mB.renderCallByParent(a,t))}function hH(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].y,s=r[r.length-1].y;if(!Vj(a)||!Vj(s))return null;var o=t*Math.abs(a-s),l=Math.max(...r.map(e=>e.x||0));return pm(n)?l=Math.max(n,l):n&&Array.isArray(n)&&n.length&&(l=Math.max(...n.map(e=>e.x||0),l)),pm(l)?N.createElement("rect",{x:0,y:a<s?a:a-o,width:l+(i?parseInt("".concat(i),10):1),height:Math.floor(o)}):null}function fH(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].x,s=r[r.length-1].x;if(!Vj(a)||!Vj(s))return null;var o=t*Math.abs(a-s),l=Math.max(...r.map(e=>e.y||0));return pm(n)?l=Math.max(n,l):n&&Array.isArray(n)&&n.length&&(l=Math.max(...n.map(e=>e.y||0),l)),pm(l)?N.createElement("rect",{x:a<s?a:a-o,y:0,width:o,height:Math.floor(l+(i?parseInt("".concat(i),10):1))}):null}function mH(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:a}=e;return"vertical"===n?N.createElement(hH,{alpha:t,points:r,baseLine:i,strokeWidth:a}):N.createElement(fH,{alpha:t,points:r,baseLine:i,strokeWidth:a})}function pH(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=e,{points:s,baseLine:o,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:d,onAnimationStart:h,onAnimationEnd:f}=r,m=CW(r,"recharts-area-"),[p,g]=N.useState(!0),x=N.useCallback(()=>{"function"==typeof f&&f(),g(!1)},[f]),y=N.useCallback(()=>{"function"==typeof h&&h(),g(!0)},[h]),v=i.current,b=a.current;return N.createElement(ZN,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},onAnimationEnd:x,onAnimationStart:y,key:m},e=>{var{t:l}=e;if(v){var c,u=v.length/s.length,d=1===l?s:s.map((e,t)=>{var n=Math.floor(t*u);if(v[n]){var r=v[n];return iH(iH({},e),{},{x:wm(r.x,e.x,l),y:wm(r.y,e.y,l)})}return e});return c=pm(o)?wm(b,o,l):Nm(o)||fm(o)?wm(b,0,l):o.map((e,t)=>{var n=Math.floor(t*u);if(Array.isArray(b)&&b[n]){var r=b[n];return iH(iH({},e),{},{x:wm(r.x,e.x,l),y:wm(r.y,e.y,l)})}return e}),l>0&&(i.current=d,a.current=c),N.createElement(dH,{points:d,baseLine:c,needClip:t,clipPathId:n,props:r,showLabels:!p})}return l>0&&(i.current=s,a.current=o),N.createElement(Km,null,N.createElement("defs",null,N.createElement("clipPath",{id:"animationClipPath-".concat(n)},N.createElement(mH,{alpha:l,points:s,baseLine:o,layout:r.layout,strokeWidth:r.strokeWidth}))),N.createElement(Km,{clipPath:"url(#animationClipPath-".concat(n,")")},N.createElement(dH,{points:s,baseLine:o,needClip:t,clipPathId:n,props:r,showLabels:!0})))})}function gH(e){var{needClip:t,clipPathId:n,props:r}=e,{points:i,baseLine:a,isAnimationActive:s}=r,o=N.useRef(null),l=N.useRef(),c=o.current,u=l.current;return s&&i&&i.length&&(c!==i||u!==a)?N.createElement(pH,{needClip:t,clipPathId:n,props:r,previousPointsRef:o,previousBaselineRef:l}):N.createElement(dH,{points:i,baseLine:a,needClip:t,clipPathId:n,props:r,showLabels:!0})}class xH extends N.PureComponent{constructor(){super(...arguments),aH(this,"id",ym("recharts-area-"))}render(){var e,{hide:t,dot:n,points:r,className:i,top:a,left:s,needClip:o,xAxisId:l,yAxisId:c,width:u,height:d,id:h,baseLine:f}=this.props;if(t)return null;var m=st("recharts-area",i),p=Nm(h)?this.id:h,{r:g=3,strokeWidth:x=2}=null!==(e=zm(n,!1))&&void 0!==e?e:{r:3,strokeWidth:2},y=Lm(n),v=2*g+x;return N.createElement(N.Fragment,null,N.createElement(Km,{className:m},o&&N.createElement("defs",null,N.createElement(b$,{clipPathId:p,xAxisId:l,yAxisId:c}),!y&&N.createElement("clipPath",{id:"clipPath-dots-".concat(p)},N.createElement("rect",{x:s-v/2,y:a-v/2,width:u+v,height:d+v}))),N.createElement(gH,{needClip:o,clipPathId:p,props:this.props})),N.createElement(UW,{points:r,mainColor:oH(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(f)&&N.createElement(UW,{points:f,mainColor:oH(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var yH={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!Wj,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function vH(e){var t,n=cN(e,yH),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,fill:c,fillOpacity:u,hide:d,isAnimationActive:h,legendType:f,stroke:m,xAxisId:p,yAxisId:g}=n,x=nH(n,tH),y=cj(),v=ZL(),{needClip:b}=v$(p,g),_=Jw(),w=N.useMemo(()=>({baseValue:e.baseValue,stackId:e.stackId,connectNulls:o,data:e.data,dataKey:e.dataKey}),[e.baseValue,e.stackId,o,e.data,e.dataKey]),{points:j,isRange:k,baseLine:S}=null!==(t=Nv(e=>JK(e,p,g,_,w)))&&void 0!==t?t:{},{height:C,width:E,left:P,top:M}=ij();return"horizontal"!==y&&"vertical"!==y||"AreaChart"!==v&&"ComposedChart"!==v?null:N.createElement(xH,sH({},x,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,baseLine:S,connectNulls:o,dot:l,fill:c,fillOpacity:u,height:C,hide:d,layout:y,isAnimationActive:h,isRange:k,legendType:f,needClip:b,points:j,stroke:m,width:E,left:P,top:M,xAxisId:p,yAxisId:g}))}class bH extends N.PureComponent{render(){return N.createElement(e$,{type:"area",data:this.props.data,dataKey:this.props.dataKey,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,stackId:this.props.stackId,hide:this.props.hide,barSize:void 0},N.createElement(kW,{legendPayload:lH(this.props)}),N.createElement(jW,{fn:cH,args:this.props}),N.createElement(vH,this.props))}}function _H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function wH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_H(Object(n),!0).forEach(function(t){jH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_H(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function jH(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}aH(bH,"displayName","Area"),aH(bH,"defaultProps",yH);var NH=w_({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=wH(wH({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:kH,removeXAxis:SH,addYAxis:CH,removeYAxis:EH,addZAxis:PH,removeZAxis:MH,updateYAxisWidth:OH}=NH.actions,AH=NH.reducer;function TH(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DH(e){var t=bv();return N.useEffect(()=>(t(PH(e)),()=>{t(MH(e))}),[e,t]),null}class RH extends N.Component{render(){return N.createElement(DH,{domain:this.props.domain,id:this.props.zAxisId,dataKey:this.props.dataKey,name:this.props.name,unit:this.props.unit,range:this.props.range,scale:this.props.scale,type:this.props.type,allowDuplicatedCategory:qD.allowDuplicatedCategory,allowDataOverflow:qD.allowDataOverflow,reversed:qD.reversed,includeHidden:qD.includeHidden})}}TH(RH,"displayName","ZAxis"),TH(RH,"defaultProps",{zAxisId:0,range:qD.range,scale:qD.scale,type:qD.type});var IH=["option","isActive"];function LH(){return LH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LH.apply(null,arguments)}function zH(e){var{option:t,isActive:n}=e,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,IH);return"string"==typeof t?N.createElement(vW,LH({option:N.createElement(kx,LH({type:t},r)),isActive:n,shapeType:"symbols"},r)):N.createElement(vW,LH({option:t,isActive:n,shapeType:"symbols"},r))}var FH=Av([eR,(e,t,n,r,i)=>i],(e,t)=>{if(e.some(e=>"scatter"===e.type&&t.dataKey===e.dataKey&&t.data===e.data))return t}),BH=Av([(e,t,n,r,i,a,s)=>dT(e,0,0,s),(e,t,n,r,i,a,s)=>NI(e,"xAxis",t,s),(e,t,n,r,i,a,s)=>jI(e,"xAxis",t,s),(e,t,n,r,i,a,s)=>NI(e,"yAxis",n,s),(e,t,n,r,i,a,s)=>jI(e,"yAxis",n,s),(e,t,n,r)=>SI(e,"zAxis",r,!1),FH,(e,t,n,r,i,a)=>a],(e,t,n,r,i,a,s,o)=>{var l,{chartData:c,dataStartIndex:u,dataEndIndex:d}=e;if(null!=s&&null!=(l=null!=(null==s?void 0:s.data)&&s.data.length>0?s.data:null==c?void 0:c.slice(u,d+1))&&null!=t&&null!=r&&null!=n&&null!=i&&0!==(null==n?void 0:n.length)&&0!==(null==i?void 0:i.length))return function(e){var{displayedData:t,xAxis:n,yAxis:r,zAxis:i,scatterSettings:a,xAxisTicks:s,yAxisTicks:o,cells:l}=e,c=Nm(n.dataKey)?a.dataKey:n.dataKey,u=Nm(r.dataKey)?a.dataKey:r.dataKey,d=i&&i.dataKey,h=i?i.range:RH.defaultProps.range,f=h&&h[0],m=n.scale.bandwidth?n.scale.bandwidth():0,p=r.scale.bandwidth?r.scale.bandwidth():0;return t.map((e,t)=>{var h=ww(e,c),g=ww(e,u),x=!Nm(d)&&ww(e,d)||"-",y=[{name:Nm(n.dataKey)?a.name:n.name||n.dataKey,unit:n.unit||"",value:h,payload:e,dataKey:c,type:a.tooltipType},{name:Nm(r.dataKey)?a.name:r.name||r.dataKey,unit:r.unit||"",value:g,payload:e,dataKey:u,type:a.tooltipType}];"-"!==x&&y.push({name:i.name||i.dataKey,unit:i.unit||"",value:x,payload:e,dataKey:d,type:a.tooltipType});var v=Mw({axis:n,ticks:s,bandSize:m,entry:e,index:t,dataKey:c}),b=Mw({axis:r,ticks:o,bandSize:p,entry:e,index:t,dataKey:u}),_="-"!==x?i.scale(x):f,w=Math.sqrt(Math.max(_,0)/Math.PI);return UH(UH({},e),{},{cx:v,cy:b,x:v-w,y:b-w,width:2*w,height:2*w,size:_,node:{x:h,y:g,z:x},tooltipPayload:y,tooltipPosition:{x:v,y:b},payload:e},l&&l[t]&&l[t].props)})}({displayedData:l,xAxis:t,yAxis:r,zAxis:a,scatterSettings:s,xAxisTicks:n,yAxisTicks:i,cells:o})}),WH=["onMouseEnter","onClick","onMouseLeave"],$H=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function VH(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function KH(){return KH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KH.apply(null,arguments)}function HH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function UH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HH(Object(n),!0).forEach(function(t){YH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function YH(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qH=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:Lw(n,t),payload:e}]};function GH(e){var{points:t,props:n}=e,{line:r,lineType:i,lineJointType:a}=n;if(!r)return null;var s,o,l=zm(n,!1),c=zm(r,!1);if("joint"===i)s=t.map(e=>({x:e.cx,y:e.cy}));else if("fitting"===i){var{xmin:u,xmax:d,a:h,b:f}=(e=>{if(!e||!e.length)return null;for(var t=e.length,n=0,r=0,i=0,a=0,s=1/0,o=-1/0,l=0,c=0,u=0;u<t;u++)n+=l=e[u].cx||0,r+=c=e[u].cy||0,i+=l*c,a+=l*l,s=Math.min(s,l),o=Math.max(o,l);var d=t*a!==n*n?(t*i-n*r)/(t*a-n*n):0;return{xmin:s,xmax:o,a:d,b:(r-d*n)/t}})(t),m=e=>h*e+f;s=[{x:u,y:m(u)},{x:d,y:m(d)}]}var p=UH(UH(UH({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:s});return o=N.isValidElement(r)?N.cloneElement(r,p):"function"==typeof r?r(p):N.createElement(eN,KH({},p,{type:a})),N.createElement(Km,{className:"recharts-scatter-line",key:"recharts-scatter-line"},o)}function XH(e){var{points:t,showLabels:n,allOtherScatterProps:r}=e,{shape:i,activeShape:a,dataKey:s}=r,o=zm(r,!1),l=Nv(zL),{onMouseEnter:c,onClick:u,onMouseLeave:d}=r,h=VH(r,WH),f=bW(c,r.dataKey),m=_W(d),p=wW(u,r.dataKey);return null==t?null:N.createElement(N.Fragment,null,N.createElement(GH,{points:t,props:r}),t.map((e,t)=>{var n=a&&l===String(t),r=n?a:i,c=UH(UH(UH({key:"symbol-".concat(t)},o),e),{},{[Kw]:t,[Hw]:String(s)});return N.createElement(Km,KH({className:"recharts-scatter-symbol"},Om(h,e,t),{onMouseEnter:f(e,t),onMouseLeave:m(e,t),onClick:p(e,t),key:"symbol-".concat(null==e?void 0:e.cx,"-").concat(null==e?void 0:e.cy,"-").concat(null==e?void 0:e.size,"-").concat(t)}),N.createElement(zH,KH({option:r,isActive:n},c)))}),n&&mB.renderCallByParent(r,t))}function QH(e){var{previousPointsRef:t,props:n}=e,{points:r,isAnimationActive:i,animationBegin:a,animationDuration:s,animationEasing:o}=n,l=t.current,c=CW(n,"recharts-scatter-"),[u,d]=N.useState(!1),h=N.useCallback(()=>{d(!1)},[]),f=N.useCallback(()=>{d(!0)},[]);return N.createElement(ZN,{begin:a,duration:s,isActive:i,easing:o,from:{t:0},to:{t:1},onAnimationEnd:h,onAnimationStart:f,key:c},e=>{var{t:i}=e,a=1===i?r:r.map((e,t)=>{var n=l&&l[t];if(n){var r=_m(n.cx,e.cx),a=_m(n.cy,e.cy),s=_m(n.size,e.size);return UH(UH({},e),{},{cx:r(i),cy:a(i),size:s(i)})}var o=_m(0,e.size);return UH(UH({},e),{},{size:o(i)})});return i>0&&(t.current=a),N.createElement(Km,null,N.createElement(XH,{points:a,allOtherScatterProps:n,showLabels:!u}))})}function ZH(e){var{points:t,isAnimationActive:n}=e,r=N.useRef(null),i=r.current;return n&&t&&t.length&&(!i||i!==t)?N.createElement(QH,{props:e,previousPointsRef:r}):N.createElement(XH,{points:t,allOtherScatterProps:e,showLabels:!0})}function JH(e){var{dataKey:t,points:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,tooltipType:l}=e;return{dataDefinedOnItem:null==n?void 0:n.map(e=>e.tooltipPayload),positions:null==n?void 0:n.map(e=>e.tooltipPosition),settings:{stroke:r,strokeWidth:i,fill:a,nameKey:void 0,dataKey:t,name:Lw(s,t),hide:o,type:l,color:a,unit:""}}}var eU=(e,t,n)=>({x:e.cx,y:e.cy,value:"x"===n?+e.node.x:+e.node.y,errorVal:ww(e,t)});function tU(e){var t=N.useRef(ym("recharts-scatter-")),{hide:n,points:r,className:i,needClip:a,xAxisId:s,yAxisId:o,id:l,children:c}=e;if(n)return null;var u=st("recharts-scatter",i),d=Nm(l)?t.current:l;return N.createElement(Km,{className:u,clipPath:a?"url(#clipPath-".concat(d,")"):null},a&&N.createElement("defs",null,N.createElement(b$,{clipPathId:d,xAxisId:s,yAxisId:o})),N.createElement(JW,{xAxisId:s,yAxisId:o,data:r,dataPointFormatter:eU,errorBarOffset:0},c),N.createElement(Km,{key:"recharts-scatter-symbols"},N.createElement(ZH,e)))}var nU={xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Wj,animationBegin:0,animationDuration:400,animationEasing:"linear"};function rU(e){var t=cN(e,nU),{animationBegin:n,animationDuration:r,animationEasing:i,hide:a,isAnimationActive:s,legendType:o,lineJointType:l,lineType:c,shape:u,xAxisId:d,yAxisId:h,zAxisId:f}=t,m=VH(t,$H),{needClip:p}=v$(d,h),g=N.useMemo(()=>Im(e.children,oF),[e.children]),x=N.useMemo(()=>({name:e.name,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey}),[e.data,e.dataKey,e.name,e.tooltipType]),y=Jw(),v=Nv(e=>BH(e,d,h,f,x,g,y));return null==p?null:N.createElement(N.Fragment,null,N.createElement(jW,{fn:JH,args:UH(UH({},e),{},{points:v})}),N.createElement(tU,KH({},m,{xAxisId:d,yAxisId:h,zAxisId:f,lineType:c,lineJointType:l,legendType:o,shape:u,hide:a,isAnimationActive:s,animationBegin:n,animationDuration:r,animationEasing:i,points:v,needClip:p})))}class iU extends N.Component{render(){return N.createElement(e$,{type:"scatter",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:this.props.zAxisId,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},N.createElement(kW,{legendPayload:qH(this.props)}),N.createElement(rU,this.props))}}YH(iU,"displayName","Scatter"),YH(iU,"defaultProps",nU);var aU=["children"],sU=["dangerouslySetInnerHTML","ticks"];function oU(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lU(){return lU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lU.apply(null,arguments)}function cU(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function uU(e){var t=bv(),n=N.useMemo(()=>{var{children:t}=e;return cU(e,aU)},[e]),r=Nv(e=>HD(e,n.id)),i=n===r;return N.useEffect(()=>(t(kH(n)),()=>{t(SH(n))}),[n,t]),i?e.children:null}var dU=e=>{var{xAxisId:t,className:n}=e,r=Nv(Qw),i=Jw(),a="xAxis",s=Nv(e=>aI(e,a,t,i)),o=Nv(e=>wI(e,a,t,i)),l=Nv(e=>hI(e,t)),c=Nv(e=>((e,t)=>{var n=Gw(e),r=HD(e,t);if(null!=r){var i=fI(e,r.orientation,r.mirror)[t];return null==i?{x:n.left,y:0}:{x:n.left,y:i}}})(e,t));if(null==l||null==c)return null;var{dangerouslySetInnerHTML:u,ticks:d}=e,h=cU(e,sU);return N.createElement(eK,lU({},h,{scale:s,x:c.x,y:c.y,width:l.width,height:l.height,className:st("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:o}))},hU=e=>{var t,n,r,i,a;return N.createElement(uU,{interval:null!==(t=e.interval)&&void 0!==t?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:null!==(n=e.includeHidden)&&void 0!==n&&n,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(r=e.angle)&&void 0!==r?r:0,minTickGap:null!==(i=e.minTickGap)&&void 0!==i?i:5,tick:null===(a=e.tick)||void 0===a||a,tickFormatter:e.tickFormatter},N.createElement(dU,e))};class fU extends N.Component{render(){return N.createElement(hU,this.props)}}oU(fU,"displayName","XAxis"),oU(fU,"defaultProps",{allowDataOverflow:KD.allowDataOverflow,allowDecimals:KD.allowDecimals,allowDuplicatedCategory:KD.allowDuplicatedCategory,height:KD.height,hide:!1,mirror:KD.mirror,orientation:KD.orientation,padding:KD.padding,reversed:KD.reversed,scale:KD.scale,tickCount:KD.tickCount,type:KD.type,xAxisId:0});var mU=["dangerouslySetInnerHTML","ticks"];function pU(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gU(){return gU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gU.apply(null,arguments)}function xU(e){var t=bv();return N.useEffect(()=>(t(CH(e)),()=>{t(EH(e))}),[e,t]),null}var yU=e=>{var t,{yAxisId:n,className:r,width:i,label:a}=e,s=N.useRef(null),o=N.useRef(null),l=Nv(Qw),c=Jw(),u=bv(),d="yAxis",h=Nv(e=>aI(e,d,n,c)),f=Nv(e=>pI(e,n)),m=Nv(e=>((e,t)=>{var n=Gw(e),r=YD(e,t);if(null!=r){var i=mI(e,r.orientation,r.mirror)[t];return null==i?{x:0,y:n.top}:{x:i,y:n.top}}})(e,n)),p=Nv(e=>wI(e,d,n,c));if(N.useLayoutEffect(()=>{var e;if("auto"===i&&f&&!KF(a)&&!N.isValidElement(a)){var t=s.current,r=null==t||null===(e=t.tickRefs)||void 0===e?void 0:e.current,{tickSize:l,tickMargin:c}=t.props,d=(e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){t.forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>s&&(s=t.width)}});var o=n?n.getBoundingClientRect().width:0,l=s+(i+a)+o+(n?r:0);return Math.round(l)}return 0})({ticks:r,label:o.current,labelGapWithTick:5,tickSize:l,tickMargin:c});Math.round(f.width)!==Math.round(d)&&u(OH({id:n,width:d}))}},[s,null==s||null===(t=s.current)||void 0===t||null===(t=t.tickRefs)||void 0===t?void 0:t.current,null==f?void 0:f.width,f,u,a,n,i]),null==f||null==m)return null;var{dangerouslySetInnerHTML:g,ticks:x}=e,y=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,mU);return N.createElement(eK,gU({},y,{ref:s,labelRef:o,scale:h,x:m.x,y:m.y,width:f.width,height:f.height,className:st("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:p}))},vU=e=>{var t,n,r,i,a;return N.createElement(N.Fragment,null,N.createElement(xU,{interval:null!==(t=e.interval)&&void 0!==t?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:null!==(n=e.includeHidden)&&void 0!==n&&n,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(r=e.angle)&&void 0!==r?r:0,minTickGap:null!==(i=e.minTickGap)&&void 0!==i?i:5,tick:null===(a=e.tick)||void 0===a||a,tickFormatter:e.tickFormatter}),N.createElement(yU,e))},bU={allowDataOverflow:UD.allowDataOverflow,allowDecimals:UD.allowDecimals,allowDuplicatedCategory:UD.allowDuplicatedCategory,hide:!1,mirror:UD.mirror,orientation:UD.orientation,padding:UD.padding,reversed:UD.reversed,scale:UD.scale,tickCount:UD.tickCount,type:UD.type,width:UD.width,yAxisId:0};class _U extends N.Component{render(){return N.createElement(vU,this.props)}}pU(_U,"displayName","YAxis"),pU(_U,"defaultProps",bU);var wU,jU,NU={exports:{}},kU={};jU||(jU=1,NU.exports=function(){if(wU)return kU;wU=1;var e=j(),t="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=e.useSyncExternalStore,r=e.useRef,i=e.useEffect,a=e.useMemo,s=e.useDebugValue;return kU.useSyncExternalStoreWithSelector=function(e,o,l,c,u){var d=r(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=a(function(){function e(e){if(!i){if(i=!0,n=e,e=c(e),void 0!==u&&h.hasValue){var a=h.value;if(u(a,e))return r=a}return r=e}if(a=r,t(n,e))return a;var s=c(e);return void 0!==u&&u(a,s)?(n=e,a):(n=e,r=s)}var n,r,i=!1,a=void 0===l?null:l;return[function(){return e(o())},null===a?void 0:function(){return e(a())}]},[o,l,c,u]);var f=n(e,d[0],d[1]);return i(function(){h.hasValue=!0,h.value=f},[f]),s(f),f},kU}()),NU.exports;var SU={notify(){},get:()=>[]},CU=(()=>!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement))(),EU=(()=>"undefined"!=typeof navigator&&"ReactNative"===navigator.product)(),PU=(()=>CU||EU?N.useLayoutEffect:N.useEffect)(),MU=Symbol.for("react-redux-context"),OU="undefined"!=typeof globalThis?globalThis:{};function AU(){var e;if(!N.createContext)return{};const t=null!=(e=OU[MU])?e:OU[MU]=new Map;let n=t.get(N.createContext);return n||(n=N.createContext(null),t.set(N.createContext,n)),n}var TU=AU(),DU=function(e){const{children:t,context:n,serverState:r,store:i}=e,a=N.useMemo(()=>{const e=function(e){let t,n=SU,r=0,i=!1;function a(){l.onStateChange&&l.onStateChange()}function s(){r++,t||(t=e.subscribe(a),n=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){(()=>{let t=e;for(;t;)t.callback(),t=t.next})()},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function o(){r--,t&&0===r&&(t(),t=void 0,n.clear(),n=SU)}const l={addNestedSub:function(e){s();const t=n.subscribe(e);let r=!1;return()=>{r||(r=!0,t(),o())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:a,isSubscribed:function(){return i},trySubscribe:function(){i||(i=!0,s())},tryUnsubscribe:function(){i&&(i=!1,o())},getListeners:()=>n};return l}(i);return{store:i,subscription:e,getServerState:r?()=>r:void 0}},[i,r]),s=N.useMemo(()=>i.getState(),[i]);PU(()=>{const{subscription:e}=a;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==i.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[a,s]);const o=n||TU;return N.createElement(o.Provider,{value:a},t)},RU=Av([(e,t)=>t,lj,LD,nL,PL,TL,nz,Gw],(e,t,n,r,i,a,s,o)=>{if(e&&t&&r&&i&&a){var l=function(e,t,n,r,i){return"horizontal"===n||"vertical"===n?e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height?{x:e,y:t}:null:r?yw({x:e,y:t},r):null}(e.chartX,e.chartY,t,n,o);if(l){var c=((e,t)=>"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius)(l,t),u=((e,t,n,r,i)=>{var a,s=-1,o=null!==(a=null==t?void 0:t.length)&&void 0!==a?a:0;if(o<=1||null==e)return 0;if("angleAxis"===r&&null!=i&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var c=l>0?n[l-1].coordinate:n[o-1].coordinate,u=n[l].coordinate,d=l>=o-1?n[0].coordinate:n[l+1].coordinate,h=void 0;if(hm(u-c)!==hm(d-u)){var f=[];if(hm(d-u)===hm(i[1]-i[0])){h=d;var m=u+i[1]-i[0];f[0]=Math.min(m,(m+c)/2),f[1]=Math.max(m,(m+c)/2)}else{h=c;var p=d+i[1]-i[0];f[0]=Math.min(u,(p+u)/2),f[1]=Math.max(u,(p+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){({index:s}=n[l]);break}}else{var x=Math.min(c,d),y=Math.max(c,d);if(e>(x+u)/2&&e<=(y+u)/2){({index:s}=n[l]);break}}}else if(t)for(var v=0;v<o;v++)if(0===v&&e<=(t[v].coordinate+t[v+1].coordinate)/2||v>0&&v<o-1&&e>(t[v].coordinate+t[v-1].coordinate)/2&&e<=(t[v].coordinate+t[v+1].coordinate)/2||v===o-1&&e>(t[v].coordinate+t[v-1].coordinate)/2){({index:s}=t[v]);break}return s})(c,s,a,r,i),d=((e,t,n,r)=>{var i=t.find(e=>e&&e.index===n);if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var a=i.coordinate,{radius:s}=r;return bw(bw(bw({},r),mw(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=r;return bw(bw(bw({},r),mw(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{x:0,y:0}})(t,a,u,l);return{activeIndex:String(u),activeCoordinate:d}}}}),IU=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},LU=c_("mouseClick"),zU=tw();zU.startListening({actionCreator:LU,effect:(e,t)=>{var n=e.payload,r=RU(t.getState(),IU(n));null!=(null==r?void 0:r.activeIndex)&&t.dispatch(VI({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var FU=c_("mouseMove"),BU=tw();function WU(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}BU.startListening({actionCreator:FU,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=OI(r,r.tooltip.settings.shared),a=RU(r,IU(n));"axis"===i&&(null!=(null==a?void 0:a.activeIndex)?t.dispatch($I({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(BI()))}});var $U={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},VU=w_({name:"rootProps",initialState:$U,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!==(n=t.payload.barGap)&&void 0!==n?n:$U.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),KU=VU.reducer,{updateOptions:HU}=VU.actions,UU=w_({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:YU}=UU.actions,qU=UU.reducer,GU=c_("keyDown"),XU=c_("focus"),QU=tw();QU.startListening({actionCreator:GU,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip,i=e.payload;if("ArrowRight"===i||"ArrowLeft"===i||"Enter"===i){var a=Number(QI(r,uL(n))),s=TL(n);if("Enter"!==i){var o=a+("ArrowRight"===i?1:-1)*("left-to-right"===CI(n)?1:-1);if(!(null==s||o>=s.length||o<0)){var l=sz(n,"axis","hover",String(o));t.dispatch(HI({active:!0,activeIndex:o.toString(),activeDataKey:void 0,activeCoordinate:l}))}}else{var c=sz(n,"axis","hover",String(r.index));t.dispatch(HI({active:!r.active,activeIndex:r.index,activeDataKey:r.dataKey,activeCoordinate:c}))}}}}}),QU.startListening({actionCreator:XU,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip;if(!r.active&&null==r.index){var i=sz(n,"axis","hover",String("0"));t.dispatch(HI({activeDataKey:void 0,active:!0,activeIndex:"0",activeCoordinate:i}))}}}});var ZU=c_("externalEvent"),JU=tw();JU.startListening({actionCreator:ZU,effect:(e,t)=>{if(null!=e.payload.handler){var n=t.getState(),r={activeCoordinate:VL(n),activeDataKey:BL(n),activeIndex:zL(n),activeLabel:FL(n),activeTooltipIndex:zL(n),isTooltipActive:KL(n)};e.payload.handler(r,e.payload.reactEvent)}}});var eY=Av([tL],e=>e.tooltipItemPayloads),tY=Av([eY,eL,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(e=>e.settings.dataKey===r);if(null!=i){var{positions:a}=i;if(null!=a)return t(a,n)}}),nY=c_("touchMove"),rY=tw();rY.startListening({actionCreator:nY,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=OI(r,r.tooltip.settings.shared);if("axis"===i){var a=RU(r,IU({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));null!=(null==a?void 0:a.activeIndex)&&t.dispatch($I({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if("item"===i){var s,o=n.touches[0],l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(Kw),u=null!==(s=l.getAttribute(Hw))&&void 0!==s?s:void 0,d=tY(t.getState(),c,u);t.dispatch(zI({activeDataKey:u,activeIndex:c,activeCoordinate:d}))}}});var iY=hb({brush:aV,cartesianAxis:AH,chartData:Tz,graphicalItems:QB,layout:lw,legend:pj,options:Sz,polarAxis:TB,polarOptions:qU,referenceElements:vV,rootProps:KU,tooltip:UI});function aY(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Jw(),a=N.useRef(null);if(i)return n;null==a.current&&(a.current=function(e){return p_({reducer:iY,preloadedState:e,middleware:e=>e({serializableCheck:!1}).concat([zU.middleware,BU.middleware,QU.middleware,JU.middleware,rY.middleware]),devTools:{serialize:{replacer:WU},name:"recharts-".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart")}})}(t,r));var s=yv;return N.createElement(DU,{context:s,store:a.current},n)}function sY(e){var{layout:t,width:n,height:r,margin:i}=e,a=bv(),s=Jw();return N.useEffect(()=>{s||(a(aw(t)),a(sw({width:n,height:r})),a(iw(i)))},[a,s,t,n,r,i]),null}function oY(e){var t=bv();return N.useEffect(()=>{t(HU(e))},[t,e]),null}var lY=["children"];function cY(){return cY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cY.apply(null,arguments)}var uY={width:"100%",height:"100%"},dY=N.forwardRef((e,t)=>{var n=aj(),r=sj(),i=$j();if(!Kj(n)||!Kj(r))return null;var a,s,{children:o,otherAttributes:l,title:c,desc:u}=e;return a="number"==typeof l.tabIndex?l.tabIndex:i?0:void 0,s="string"==typeof l.role?l.role:i?"application":void 0,N.createElement(Wm,cY({},l,{title:c,desc:u,role:s,tabIndex:a,width:n,height:r,style:uY,ref:t}),o)}),hY=e=>{var{children:t}=e,n=Nv(tj);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return N.createElement(Wm,{width:r,height:i,x:s,y:a},t)},fY=N.forwardRef((e,t)=>{var{children:n}=e,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,lY);return Jw()?N.createElement(hY,null,n):N.createElement(dY,cY({ref:t},r),n)});function mY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mY(Object(n),!0).forEach(function(t){gY(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mY(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function gY(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xY=N.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:u,onMouseMove:d,onMouseUp:h,onTouchEnd:f,onTouchMove:m,onTouchStart:p,style:g,width:x}=e,y=bv(),[v,b]=N.useState(null),[_,w]=N.useState(null);Rz();var j=function(){var e=bv(),[t,n]=N.useState(null),r=Nv(Bw);return N.useEffect(()=>{if(null!=t){var n=t.getBoundingClientRect().width/t.offsetWidth;Vj(n)&&n!==r&&e(ow(n))}},[t,e,r]),n}(),k=N.useCallback(e=>{j(e),"function"==typeof t&&t(e),b(e),w(e)},[j,t,b,w]),S=N.useCallback(e=>{y(LU(e)),y(ZU({handler:a,reactEvent:e}))},[y,a]),C=N.useCallback(e=>{y(FU(e)),y(ZU({handler:c,reactEvent:e}))},[y,c]),E=N.useCallback(e=>{y(BI()),y(ZU({handler:u,reactEvent:e}))},[y,u]),P=N.useCallback(e=>{y(FU(e)),y(ZU({handler:d,reactEvent:e}))},[y,d]),M=N.useCallback(()=>{y(XU())},[y]),O=N.useCallback(e=>{y(GU(e.key))},[y]),A=N.useCallback(e=>{y(ZU({handler:s,reactEvent:e}))},[y,s]),T=N.useCallback(e=>{y(ZU({handler:o,reactEvent:e}))},[y,o]),D=N.useCallback(e=>{y(ZU({handler:l,reactEvent:e}))},[y,l]),R=N.useCallback(e=>{y(ZU({handler:h,reactEvent:e}))},[y,h]),I=N.useCallback(e=>{y(ZU({handler:p,reactEvent:e}))},[y,p]),L=N.useCallback(e=>{y(nY(e)),y(ZU({handler:m,reactEvent:e}))},[y,m]),z=N.useCallback(e=>{y(ZU({handler:f,reactEvent:e}))},[y,f]);return N.createElement(yz.Provider,{value:v},N.createElement(Hm.Provider,{value:_},N.createElement("div",{className:st("recharts-wrapper",r),style:pY({position:"relative",cursor:"default",width:x,height:i},g),role:"application",onClick:S,onContextMenu:A,onDoubleClick:T,onFocus:M,onKeyDown:O,onMouseDown:D,onMouseEnter:C,onMouseLeave:E,onMouseMove:P,onMouseUp:R,onTouchEnd:z,onTouchMove:L,onTouchStart:I,ref:k},n)))}),yY=["children","className","width","height","style","compact","title","desc"],vY=N.forwardRef((e,t)=>{var{children:n,className:r,width:i,height:a,style:s,compact:o,title:l,desc:c}=e,u=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,yY),d=zm(u,!1);return o?N.createElement(fY,{otherAttributes:d,title:l,desc:c},n):N.createElement(xY,{className:r,style:s,width:i,height:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},N.createElement(fY,{otherAttributes:d,title:l,desc:c,ref:t},N.createElement(_V,null,n)))}),bY=["width","height"];function _Y(){return _Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_Y.apply(null,arguments)}var wY={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},jY=N.forwardRef(function(e,t){var n,r=cN(e.categoricalChartProps,wY),{width:i,height:a}=r,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(r,bY);if(!Kj(i)||!Kj(a))return null;var{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,categoricalChartProps:d}=e,h={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return N.createElement(aY,{preloadedState:{options:h},reduxStoreName:null!==(n=d.id)&&void 0!==n?n:o},N.createElement(tV,{chartData:d.data}),N.createElement(sY,{width:i,height:a,layout:r.layout,margin:r.margin}),N.createElement(oY,{accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className}),N.createElement(vY,_Y({},s,{width:i,height:a,ref:t})))}),NY=["axis"],kY=N.forwardRef((e,t)=>N.createElement(jY,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:NY,tooltipPayloadSearcher:Nz,categoricalChartProps:e,ref:t})),SY=["axis","item"],CY=N.forwardRef((e,t)=>N.createElement(jY,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:SY,tooltipPayloadSearcher:Nz,categoricalChartProps:e,ref:t}));function EY(e){var t=bv();return N.useEffect(()=>{t(YU(e))},[t,e]),null}var PY=["width","height","layout"];function MY(){return MY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},MY.apply(null,arguments)}var OY={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial"},AY=N.forwardRef(function(e,t){var n,r=cN(e.categoricalChartProps,OY),{width:i,height:a,layout:s}=r,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(r,PY);if(!Kj(i)||!Kj(a))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d}=e,h={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return N.createElement(aY,{preloadedState:{options:h},reduxStoreName:null!==(n=r.id)&&void 0!==n?n:l},N.createElement(tV,{chartData:r.data}),N.createElement(sY,{width:i,height:a,layout:s,margin:r.margin}),N.createElement(oY,{accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className}),N.createElement(EY,{cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius}),N.createElement(vY,MY({width:i,height:a},o,{ref:t})))}),TY=["item"],DY={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},RY=N.forwardRef((e,t)=>{var n=cN(e,DY);return N.createElement(AY,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:TY,tooltipPayloadSearcher:Nz,categoricalChartProps:n,ref:t})}),IY=["axis"],LY=N.forwardRef((e,t)=>N.createElement(jY,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:IY,tooltipPayloadSearcher:Nz,categoricalChartProps:e,ref:t})),zY=["axis"],FY=N.forwardRef((e,t)=>N.createElement(jY,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:zY,tooltipPayloadSearcher:Nz,categoricalChartProps:e,ref:t}));const BY=()=>{var e,t,n;const[r,i]=N.useState("cho_mua"),[a,s]=N.useState(!0),[o,l]=N.useState(!1),[c,u]=N.useState(null),d=N.useRef(null),h=N.useRef([]),{data:f,loading:m,error:p}=Df("analyze_breadth");N.useEffect(()=>{if(!c)return;let e;function t(){c.clientWidth>0&&!d.current&&setTimeout(()=>{if(c.clientWidth>0&&!d.current)try{const e=af(c,{width:c.clientWidth,height:c.clientHeight,layout:{background:{color:"#fff"},textColor:"#222"},grid:{vertLines:{color:"#e5e7eb"},horzLines:{color:"#e5e7eb"}},crosshair:{mode:1},rightPriceScale:{borderColor:"#d1d5db"},timeScale:{borderColor:"#d1d5db",timeVisible:!0,secondsVisible:!1}});d.current=e,l(!0)}catch(e){l(!1)}},50)}return e=new window.ResizeObserver(()=>{t()}),e.observe(c),t(),()=>{if(e&&e.disconnect(),d.current){try{d.current.remove()}catch(t){}d.current=null,l(!1)}}},[c]),N.useEffect(()=>{if(!o||!f)return;const e=d.current;if(e){if(e)try{h.current.forEach(t=>{t&&"function"==typeof t.remove&&e.removeSeries(t)}),h.current=[]}catch(t){h.current=[]}if(f.vnindex){const n=f.vnindex.dates.map((e,t)=>{var n,r,i,a;const s=null!=(r=null==(n=f.vnindex.open)?void 0:n[t])?r:f.vnindex.close[t],o=null==(i=f.vnindex.high)?void 0:i[t],l=null==(a=f.vnindex.low)?void 0:a[t],c=f.vnindex.close[t];return[s,o,l,c].some(e=>null==e||isNaN(e))?null:{time:e.slice(0,10),open:Number(s),high:Number(o),low:Number(l),close:Number(c)}}).filter(Boolean);if(n.length)try{const t=e.addSeries(yf,{upColor:"#26a69a",downColor:"#ef5350"},0);t.setData(n),h.current.push(t)}catch(t){}const r=f.vnindex.dates.map((e,t)=>{const n=f.vnindex.volume[t];return null==n||isNaN(n)?null:{time:e.slice(0,10),value:Number(n)}}).filter(Boolean);if(r.length)try{const t=e.addSeries(_f,{color:"#c792ea",priceFormat:{type:"volume"},scaleMargins:{top:.8,bottom:0}},1);t.setData(r),h.current.push(t)}catch(t){}}if(f.market_breadth){const{dates:n,indicators:r}=f.market_breadth,i={cho_mua:{name:"Ch mua",color:"#10b981"},cho_ban:{name:"Ch bn",color:"#ef4444"},ban:{name:"Bn",color:"#991b1b"},mua:{name:"Mua",color:"#065f46"},ap_luc_ban:{name:"p lc bn",color:"#f59e0b"}};["cho_mua","cho_ban","ban","mua","ap_luc_ban"].forEach(a=>{const s=r[a];if(!s)return;const o=n.map((e,t)=>{const n=s.smoothed[t];return null==n||isNaN(n)?null:{time:e.slice(0,10),value:Number(n)}}).filter(Boolean);if(o.length)try{const t=e.addSeries(mf,{color:i[a].color,lineWidth:2},2);t.setData(o),h.current.push(t)}catch(t){}})}try{e.timeScale().fitContent();const t=e.panes();t[0]&&t[0].setHeight(400),t[1]&&t[1].setHeight(150),t[2]&&t[2].setHeight(200)}catch(t){}}},[f,o]);const g=["#10b981","#065f46","#ef4444","#991b1b","#f59e0b"];function x({data:e,date:t}){if(!e||!Array.isArray(e)||0===e.length)return null;const n=e.filter(e=>e&&"string"==typeof e.name&&"number"==typeof e.value&&!isNaN(e.value)&&e.value>=0),r=n.reduce((e,t)=>e+t.value,0);if(0===n.length||0===r)return v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx("div",{className:"w-[120px] h-[120px] flex items-center justify-center border-2 border-dashed border-gray-300 rounded-full overflow-visible",children:v.jsx("span",{className:"text-xs text-gray-400",children:"No data"})}),v.jsx("div",{className:"text-xs mt-1 text-gray-500 dark:text-gray-400",children:t})]});const i=Math.PI/180;return v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx("div",{style:{width:280,height:280},className:"overflow-visible flex items-center justify-center",children:v.jsx(RY,{width:280,height:280,children:v.jsx($W,{data:n,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:30,outerRadius:40,paddingAngle:1,label:({cx:e,cy:t,midAngle:n,outerRadius:r,name:a,value:s,fill:o,index:l})=>{const c=r+32,u=e+c*Math.cos(-n*i),d=t+c*Math.sin(-n*i);return v.jsx("text",{x:u,y:d,fill:o||(0===l||1===l?"#065f46":"#ef4444"),textAnchor:u>e?"start":"end",dominantBaseline:"central",fontSize:13,fontWeight:500,children:`${a}: ${s}`})},labelLine:!0,children:n.map((e,t)=>v.jsx(oF,{fill:g[t%g.length]},`cell-${t}`))})})}),v.jsx("div",{className:"text-xs mt-1 text-gray-500 dark:text-gray-400",children:t})]})}let y=[];if((null==(e=null==f?void 0:f.market_breadth)?void 0:e.dates)&&(null==(t=f.market_breadth)?void 0:t.indicators)){const{dates:e,indicators:t}=f.market_breadth,n=["cho_mua","mua","cho_ban","ban","ap_luc_ban"],r=["Ch mua","Mua","Ch bn","Bn","p lc bn"],i=e.length;for(let a=Math.max(0,i-7);a<i;++a){const i=n.map((e,n)=>{var i,s;return{name:r[n],value:"number"==typeof(null==(s=null==(i=t[e])?void 0:i.raw)?void 0:s[a])?t[e].raw[a]:0}});y.push({date:new Date(e[a]).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),data:i})}}if(p)return v.jsxs(wn,{className:"p-6 text-center text-red-600",children:["Li ti d liu: ",p.message]});const b={cho_mua:{name:"Ch mua",color:"#10b981"},cho_ban:{name:"Ch bn",color:"#ef4444"},ban:{name:"Bn",color:"#991b1b"},mua:{name:"Mua",color:"#065f46"},ap_luc_ban:{name:"p lc bn",color:"#f59e0b"}},_=(null==(n=null==f?void 0:f.market_breadth)?void 0:n.indicators)||{};return v.jsxs(wn,{className:"p-6",children:[v.jsx("div",{className:"mb-6",children:v.jsx("h3",{className:"text-lg font-semibold mb-4",children:"p lc mua bn trn th trng"})}),y.length>0&&v.jsxs("div",{className:"mt-8",children:[v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:y.map((e,t)=>v.jsx(x,{data:e.data,date:e.date},t))}),v.jsx("div",{className:"flex justify-center gap-4 mt-4 text-xs",children:["Ch mua","Mua","Ch bn","Bn","p lc bn"].map((e,t)=>v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx("span",{className:"inline-block w-3 h-3 rounded-full",style:{backgroundColor:g[t]}}),e]},e))})]}),v.jsx("div",{className:"my-8 border-t border-gray-200 dark:border-gray-700"}),v.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[v.jsxs("div",{className:"flex-1 min-w-0 relative",children:[v.jsx("div",{ref:u,className:"border",style:{width:"100%",background:"#fff",minHeight:"750px"}}),(m||!o)&&v.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-white/70 z-10",children:[v.jsx("div",{className:"animate-spin h-8 w-8 border-b-2 border-primary rounded-full"}),v.jsx("p",{className:"mt-2 text-muted-foreground",children:"ang ti d liu v biu ..."})]})]}),v.jsx("div",{className:"w-full md:w-64 flex-shrink-0 space-y-4",children:["cho_mua","cho_ban","ban","mua","ap_luc_ban"].map(e=>{const t=_[e];if(!t)return null;const n=b[e],r=t.smoothed.at(-1)||0;return v.jsxs("div",{className:"text-center p-3 bg-muted rounded-lg",children:[v.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:n.name}),v.jsx("div",{className:"text-lg font-semibold",style:{color:n.color},children:r.toFixed(1)})]},e)})})]}),v.jsxs("div",{className:"mt-8 p-6 bg-gray-50 dark:bg-slate-900 rounded-lg border border-gray-200 dark:border-slate-700",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[v.jsx(he,{className:"h-6 w-6 text-blue-500 dark:text-blue-400"}),v.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Cch c Biu  p Lc Mua Bn"})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium text-gray-700 dark:text-gray-300 mb-3",children:"nh ngha cc tn hiu"}),v.jsx("ul",{className:"space-y-3",children:Object.entries({cho_mua:{name:"Ch Mua",color:"#10b981",description:"Khi nhiu c phiu ng lot pht tn hiu Mua tim nng, v d: RSI thp (di ngng 40), gi ang tim cn y ngn hn, khi lng phin trc cao hn ngng trung bnh."},cho_ban:{name:"Ch Bn",color:"#ef4444",description:"Khi nhiu c phiu ng lot pht tn hiu Bn tim nng, v d: RSI cao (trn ngng 60), gi ang tim cn nh ngn hn, khi lng phin trc cao hn ngng trung bnh."},mua:{name:"Mua Mnh",color:"#065f46",description:"Khi p lc Mua chim u th r rt, nhiu c phiu vt nh trong 4 phin lin tip v khi lng ln."},ban:{name:"Bn Mnh",color:"#991b1b",description:"Khi p lc Bn chim u th r rt, nhiu c phiu ph y trong 8 phin lin tip v khi lng ln."},ap_luc_ban:{name:"p Lc Bn",color:"#f59e0b",description:"o lng tnh hung th trng ang chu sc p gim gi rng khp, th hin qua: nhiu c phiu lp y ngn hn (4 phin) hoc c phiu gim mnh trn 10% so vi nh 3 phin trc, km khi lng tng cao."}}).map(([e,t])=>v.jsxs("li",{className:"flex items-start gap-3",children:[v.jsx("span",{className:"mt-1 flex-shrink-0 h-3 w-3 rounded-full",style:{backgroundColor:t.color},"aria-hidden":"true"}),v.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[v.jsxs("span",{className:"font-semibold text-gray-800 dark:text-gray-100",children:[t.name,":"]})," ",t.description]})]},e))})]}),v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Tng quan"}),v.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Biu  p Lc MuaBn tng hp tn hiu k thut t ton b c phiu trong r, ri lm mt (EMA)  xc nh xu hng chung."})]}),v.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-slate-800 border-l-4 border-blue-500 dark:border-blue-400 rounded-r-lg",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(Ne,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 flex-shrink-0"}),v.jsx("h5",{className:"font-semibold text-blue-800 dark:text-blue-300",children:"Cch s dng"})]}),v.jsxs("div",{className:"mt-2 text-sm text-blue-700 dark:text-slate-300 pl-8 space-y-2",children:[v.jsx("p",{children:v.jsx("strong",{children:"Quan st cc ng:"})}),v.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[v.jsx("li",{children:"ng Mua (xanh) v Ch Mua (xanh m)"}),v.jsx("li",{children:"ng Bn () v Ch Bn (hng)"}),v.jsx("li",{children:"ng p Lc Bn (cam)"})]}),v.jsx("p",{children:v.jsx("strong",{children:"Giao ct tn hiu:"})}),v.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[v.jsx("li",{children:"Khi ng Mua vt ln trn ng Bn: du hiu th trng tch cc"}),v.jsx("li",{children:"Khi ng Bn chc xung di ng Mua: cnh bo xu hng tiu cc"})]}),v.jsx("p",{children:v.jsx("strong",{children:"Xc nhn p lc:"})}),v.jsx("ul",{className:"list-disc list-inside space-y-1 ml-2",children:v.jsx("li",{children:"p Lc Bn  mc cao (> ngng 50): nhiu c phiu ang chu sc p gim mnh, nn thn trng"})}),v.jsxs("p",{className:"text-xs mt-3 italic",children:[v.jsx("strong",{children:"Lu :"})," Khng nn da duy nht vo ch bo ny  ra quyt nh mua/bn. Hy kt hp phn tch gi, khi lng, tin tc c bn v qun tr ri ro."]})]})]})]})]})]})]})};var WY={},$Y={};function VY(e){return e}var KY=1e-6;function HY(e){return"translate("+e+",0)"}function UY(e){return"translate(0,"+e+")"}function YY(e){return t=>+e(t)}function qY(e,t){return t=Math.max(0,e.bandwidth()-2*t)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function GY(){return!this.__axis}function XY(e,t){var n=[],r=null,i=null,a=6,s=6,o=3,l="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,c=1===e||4===e?-1:1,u=4===e||2===e?"x":"y",d=1===e||3===e?HY:UY;function h(h){var f=null==r?t.ticks?t.ticks.apply(t,n):t.domain():r,m=null==i?t.tickFormat?t.tickFormat.apply(t,n):VY:i,p=Math.max(a,0)+o,g=t.range(),x=+g[0]+l,y=+g[g.length-1]+l,v=(t.bandwidth?qY:YY)(t.copy(),l),b=h.selection?h.selection():h,_=b.selectAll(".domain").data([null]),w=b.selectAll(".tick").data(f,t).order(),j=w.exit(),N=w.enter().append("g").attr("class","tick"),k=w.select("line"),S=w.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(N),k=k.merge(N.append("line").attr("stroke","currentColor").attr(u+"2",c*a)),S=S.merge(N.append("text").attr("fill","currentColor").attr(u,c*p).attr("dy",1===e?"0em":3===e?"0.71em":"0.32em")),h!==b&&(_=_.transition(h),w=w.transition(h),k=k.transition(h),S=S.transition(h),j=j.transition(h).attr("opacity",KY).attr("transform",function(e){return isFinite(e=v(e))?d(e+l):this.getAttribute("transform")}),N.attr("opacity",KY).attr("transform",function(e){var t=this.parentNode.__axis;return d((t&&isFinite(t=t(e))?t:v(e))+l)})),j.remove(),_.attr("d",4===e||2===e?s?"M"+c*s+","+x+"H"+l+"V"+y+"H"+c*s:"M"+l+","+x+"V"+y:s?"M"+x+","+c*s+"V"+l+"H"+y+"V"+c*s:"M"+x+","+l+"H"+y),w.attr("opacity",1).attr("transform",function(e){return d(v(e)+l)}),k.attr(u+"2",c*a),S.attr(u,c*p).text(m),b.filter(GY).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===e?"start":4===e?"end":"middle"),b.each(function(){this.__axis=v})}return h.scale=function(e){return arguments.length?(t=e,h):t},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(e){return arguments.length?(n=null==e?[]:Array.from(e),h):n.slice()},h.tickValues=function(e){return arguments.length?(r=null==e?null:Array.from(e),h):r&&r.slice()},h.tickFormat=function(e){return arguments.length?(i=e,h):i},h.tickSize=function(e){return arguments.length?(a=s=+e,h):a},h.tickSizeInner=function(e){return arguments.length?(a=+e,h):a},h.tickSizeOuter=function(e){return arguments.length?(s=+e,h):s},h.tickPadding=function(e){return arguments.length?(o=+e,h):o},h.offset=function(e){return arguments.length?(l=+e,h):l},h}var QY={value:()=>{}};function ZY(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new JY(r)}function JY(e){this._=e}function eq(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function tq(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=QY,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}JY.prototype=ZY.prototype={constructor:JY,on:function(e,t){var n,r,i=this._,a=(r=i,(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}})),s=-1,o=a.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++s<o;)if(n=(e=a[s]).type)i[n]=tq(i[n],e.name,t);else if(null==t)for(n in i)i[n]=tq(i[n],e.name,null);return this}for(;++s<o;)if((n=(e=a[s]).type)&&(n=eq(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new JY(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,n=(r=this._[e]).length;a<n;++a)r[a].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};var nq="http://www.w3.org/1999/xhtml";const rq={svg:"http://www.w3.org/2000/svg",xhtml:nq,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function iq(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),rq.hasOwnProperty(t)?{space:rq[t],local:e}:e}function aq(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===nq&&t.documentElement.namespaceURI===nq?t.createElement(e):t.createElementNS(n,e)}}function sq(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function oq(e){var t=iq(e);return(t.local?sq:aq)(t)}function lq(){}function cq(e){return null==e?lq:function(){return this.querySelector(e)}}function uq(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}function dq(){return[]}function hq(e){return null==e?dq:function(){return this.querySelectorAll(e)}}function fq(e){return function(){return this.matches(e)}}function mq(e){return function(t){return t.matches(e)}}var pq=Array.prototype.find;function gq(){return this.firstElementChild}var xq=Array.prototype.filter;function yq(){return Array.from(this.children)}function vq(e){return new Array(e.length)}function bq(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function _q(e,t,n,r,i,a){for(var s,o=0,l=t.length,c=a.length;o<c;++o)(s=t[o])?(s.__data__=a[o],r[o]=s):n[o]=new bq(e,a[o]);for(;o<l;++o)(s=t[o])&&(i[o]=s)}function wq(e,t,n,r,i,a,s){var o,l,c,u=new Map,d=t.length,h=a.length,f=new Array(d);for(o=0;o<d;++o)(l=t[o])&&(f[o]=c=s.call(l,l.__data__,o,t)+"",u.has(c)?i[o]=l:u.set(c,l));for(o=0;o<h;++o)c=s.call(e,a[o],o,a)+"",(l=u.get(c))?(r[o]=l,l.__data__=a[o],u.delete(c)):n[o]=new bq(e,a[o]);for(o=0;o<d;++o)(l=t[o])&&u.get(f[o])===l&&(i[o]=l)}function jq(e){return e.__data__}function Nq(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function kq(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Sq(e){return function(){this.removeAttribute(e)}}function Cq(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Eq(e,t){return function(){this.setAttribute(e,t)}}function Pq(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Mq(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function Oq(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Aq(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Tq(e){return function(){this.style.removeProperty(e)}}function Dq(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Rq(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Iq(e,t){return e.style.getPropertyValue(t)||Aq(e).getComputedStyle(e,null).getPropertyValue(t)}function Lq(e){return function(){delete this[e]}}function zq(e,t){return function(){this[e]=t}}function Fq(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function Bq(e){return e.trim().split(/^|\s+/)}function Wq(e){return e.classList||new $q(e)}function $q(e){this._node=e,this._names=Bq(e.getAttribute("class")||"")}function Vq(e,t){for(var n=Wq(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Kq(e,t){for(var n=Wq(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Hq(e){return function(){Vq(this,e)}}function Uq(e){return function(){Kq(this,e)}}function Yq(e,t){return function(){(t.apply(this,arguments)?Vq:Kq)(this,e)}}function qq(){this.textContent=""}function Gq(e){return function(){this.textContent=e}}function Xq(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function Qq(){this.innerHTML=""}function Zq(e){return function(){this.innerHTML=e}}function Jq(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function eG(){this.nextSibling&&this.parentNode.appendChild(this)}function tG(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function nG(){return null}function rG(){var e=this.parentNode;e&&e.removeChild(this)}function iG(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function aG(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function sG(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,a=t.length;r<a;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function oG(e,t,n){return function(){var r,i=this.__on,a=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var s=0,o=i.length;s<o;++s)if((r=i[s]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),void(r.value=t);this.addEventListener(e.type,a,n),r={type:e.type,name:e.name,value:t,listener:a,options:n},i?i.push(r):this.__on=[r]}}function lG(e,t,n){var r=Aq(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function cG(e,t){return function(){return lG(this,e,t)}}function uG(e,t){return function(){return lG(this,e,t.apply(this,arguments))}}bq.prototype={constructor:bq,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},$q.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var dG=[null];function hG(e,t){this._groups=e,this._parents=t}function fG(){return new hG([[document.documentElement]],dG)}function mG(e){return"string"==typeof e?new hG([[document.querySelector(e)]],[document.documentElement]):new hG([[e]],dG)}hG.prototype=fG.prototype={constructor:hG,select:function(e){"function"!=typeof e&&(e=cq(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,s,o=t[i],l=o.length,c=r[i]=new Array(l),u=0;u<l;++u)(a=o[u])&&(s=e.call(a,a.__data__,u,o))&&("__data__"in a&&(s.__data__=a.__data__),c[u]=s);return new hG(r,this._parents)},selectAll:function(e){e="function"==typeof e?function(e){return function(){return uq(e.apply(this,arguments))}}(e):hq(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var s,o=t[a],l=o.length,c=0;c<l;++c)(s=o[c])&&(r.push(e.call(s,s.__data__,c,o)),i.push(s));return new hG(r,i)},selectChild:function(e){return this.select(null==e?gq:function(e){return function(){return pq.call(this.children,e)}}("function"==typeof e?e:mq(e)))},selectChildren:function(e){return this.selectAll(null==e?yq:function(e){return function(){return xq.call(this.children,e)}}("function"==typeof e?e:mq(e)))},filter:function(e){"function"!=typeof e&&(e=fq(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,s=t[i],o=s.length,l=r[i]=[],c=0;c<o;++c)(a=s[c])&&e.call(a,a.__data__,c,s)&&l.push(a);return new hG(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,jq);var n,r=t?wq:_q,i=this._parents,a=this._groups;"function"!=typeof e&&(n=e,e=function(){return n});for(var s=a.length,o=new Array(s),l=new Array(s),c=new Array(s),u=0;u<s;++u){var d=i[u],h=a[u],f=h.length,m=Nq(e.call(d,d&&d.__data__,u,i)),p=m.length,g=l[u]=new Array(p),x=o[u]=new Array(p);r(d,h,g,x,c[u]=new Array(f),m,t);for(var y,v,b=0,_=0;b<p;++b)if(y=g[b]){for(b>=_&&(_=b+1);!(v=x[_])&&++_<p;);y._next=v||null}}return(o=new hG(o,i))._enter=l,o._exit=c,o},enter:function(){return new hG(this._enter||this._groups.map(vq),this._parents)},exit:function(){return new hG(this._exit||this._groups.map(vq),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,a=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,s=Math.min(i,a),o=new Array(i),l=0;l<s;++l)for(var c,u=n[l],d=r[l],h=u.length,f=o[l]=new Array(h),m=0;m<h;++m)(c=u[m]||d[m])&&(f[m]=c);for(;l<i;++l)o[l]=n[l];return new hG(o,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],a=i.length-1,s=i[a];--a>=0;)(r=i[a])&&(s&&4^r.compareDocumentPosition(s)&&s.parentNode.insertBefore(r,s),s=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=kq);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var s,o=n[a],l=o.length,c=i[a]=new Array(l),u=0;u<l;++u)(s=o[u])&&(c[u]=s);c.sort(t)}return new hG(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var s=r[i];if(s)return s}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,a=t[n],s=0,o=a.length;s<o;++s)(i=a[s])&&e.call(i,i.__data__,s,a);return this},attr:function(e,t){var n=iq(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?Cq:Sq:"function"==typeof t?n.local?Oq:Mq:n.local?Pq:Eq)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?Tq:"function"==typeof t?Rq:Dq)(e,t,null==n?"":n)):Iq(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?Lq:"function"==typeof t?Fq:zq)(e,t)):this.node()[e]},classed:function(e,t){var n=Bq(e+"");if(arguments.length<2){for(var r=Wq(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?Yq:t?Hq:Uq)(n,t))},text:function(e){return arguments.length?this.each(null==e?qq:("function"==typeof e?Xq:Gq)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?Qq:("function"==typeof e?Jq:Zq)(e)):this.node().innerHTML},raise:function(){return this.each(eG)},lower:function(){return this.each(tG)},append:function(e){var t="function"==typeof e?e:oq(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"==typeof e?e:oq(e),r=null==t?nG:"function"==typeof t?t:cq(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(rG)},clone:function(e){return this.select(e?aG:iG)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,a=function(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}(e+""),s=a.length;if(!(arguments.length<2)){for(o=t?oG:sG,r=0;r<s;++r)this.each(o(a[r],t,n));return this}var o=this.node().__on;if(o)for(var l,c=0,u=o.length;c<u;++c)for(r=0,l=o[c];r<s;++r)if((i=a[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?uG:cG)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,i=e[t],a=0,s=i.length;a<s;++a)(r=i[a])&&(yield r)}};var pG=0;function gG(){return new xG}function xG(){this._="@"+(++pG).toString(36)}function yG(e){let t;for(;t=e.sourceEvent;)e=t;return e}function vG(e,t){if(e=yG(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}xG.prototype=gG.prototype={constructor:xG,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};const bG={passive:!1},_G={capture:!0,passive:!1};function wG(e){e.stopImmediatePropagation()}function jG(e){e.preventDefault(),e.stopImmediatePropagation()}function NG(e){var t=e.document.documentElement,n=mG(e).on("dragstart.drag",jG,_G);"onselectstart"in t?n.on("selectstart.drag",jG,_G):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function kG(e,t){var n=e.document.documentElement,r=mG(e).on("dragstart.drag",null);t&&(r.on("click.drag",jG,_G),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const SG=e=>()=>e;function CG(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:a,x:s,y:o,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}function EG(e){return!e.ctrlKey&&!e.button}function PG(){return this.parentNode}function MG(e,t){return null==t?{x:e.x,y:e.y}:t}function OG(){return navigator.maxTouchPoints||"ontouchstart"in this}CG.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var AG,TG,DG=0,RG=0,IG=0,LG=0,zG=0,FG=0,BG="object"==typeof performance&&performance.now?performance:Date,WG="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function $G(){return zG||(WG(VG),zG=BG.now()+FG)}function VG(){zG=0}function KG(){this._call=this._time=this._next=null}function HG(e,t,n){var r=new KG;return r.restart(e,t,n),r}function UG(){$G(),++DG;for(var e,t=AG;t;)(e=zG-t._time)>=0&&t._call.call(void 0,e),t=t._next;--DG}function YG(){zG=(LG=BG.now())+FG,DG=RG=0;try{UG()}finally{DG=0,function(){for(var e,t,n=AG,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:AG=t);TG=e,GG(r)}(),zG=0}}function qG(){var e=BG.now(),t=e-LG;t>1e3&&(FG-=t,LG=e)}function GG(e){DG||(RG&&(RG=clearTimeout(RG)),e-zG>24?(e<1/0&&(RG=setTimeout(YG,e-BG.now()-FG)),IG&&(IG=clearInterval(IG))):(IG||(LG=BG.now(),IG=setInterval(qG,1e3)),DG=1,WG(YG)))}function XG(e,t,n){var r=new KG;return t=null==t?0:+t,r.restart(n=>{r.stop(),e(n+t)},t,n),r}KG.prototype=HG.prototype={constructor:KG,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?$G():+n)+(null==t?0:+t),this._next||TG===this||(TG?TG._next=this:AG=this,TG=this),this._call=e,this._time=n,GG()},stop:function(){this._call&&(this._call=null,this._time=1/0,GG())}};var QG=ZY("start","end","cancel","interrupt"),ZG=[];function JG(e,t,n,r,i,a){var s=e.__transition;if(s){if(n in s)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function a(e){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=e&&s(e-n.delay)}function s(a){var c,u,d,h;if(1!==n.state)return l();for(c in i)if((h=i[c]).name===n.name){if(3===h.state)return XG(s);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete i[c]):+c<t&&(h.state=6,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete i[c])}if(XG(function(){3===n.state&&(n.state=4,n.timer.restart(o,n.delay,n.time),o(a))}),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(d=n.tween.length),c=0,u=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=h);r.length=u+1}}function o(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=5,1),a=-1,s=r.length;++a<s;)r[a].call(e,i);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=HG(a,0,n.time)}(e,n,{name:t,index:r,group:i,on:QG,tween:ZG,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function eX(e,t){var n=nX(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function tX(e,t){var n=nX(e,t);if(n.state>3)throw new Error("too late; already running");return n}function nX(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function rX(e,t){var n,r,i,a=e.__transition,s=!0;if(a){for(i in t=null==t?null:t+"",a)(n=a[i]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete a[i]):s=!1;s&&delete e.__transition}}function iX(e,t){var n,r;return function(){var i=tX(this,e),a=i.tween;if(a!==n)for(var s=0,o=(r=n=a).length;s<o;++s)if(r[s].name===t){(r=r.slice()).splice(s,1);break}i.tween=r}}function aX(e,t,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var a=tX(this,e),s=a.tween;if(s!==r){i=(r=s).slice();for(var o={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=o;break}l===c&&i.push(o)}a.tween=i}}function sX(e,t,n){var r=e._id;return e.each(function(){var e=tX(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return nX(e,r).value[t]}}function oX(e,t){var n;return("number"==typeof t?wE:t instanceof fC?mE:(n=fC(t))?(t=n,mE):SE)(e,t)}function lX(e){return function(){this.removeAttribute(e)}}function cX(e){return function(){this.removeAttributeNS(e.space,e.local)}}function uX(e,t,n){var r,i,a=n+"";return function(){var s=this.getAttribute(e);return s===a?null:s===r?i:i=t(r=s,n)}}function dX(e,t,n){var r,i,a=n+"";return function(){var s=this.getAttributeNS(e.space,e.local);return s===a?null:s===r?i:i=t(r=s,n)}}function hX(e,t,n){var r,i,a;return function(){var s,o,l=n(this);if(null!=l)return(s=this.getAttribute(e))===(o=l+"")?null:s===r&&o===i?a:(i=o,a=t(r=s,l));this.removeAttribute(e)}}function fX(e,t,n){var r,i,a;return function(){var s,o,l=n(this);if(null!=l)return(s=this.getAttributeNS(e.space,e.local))===(o=l+"")?null:s===r&&o===i?a:(i=o,a=t(r=s,l));this.removeAttributeNS(e.space,e.local)}}function mX(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,i)),n}return i._value=t,i}function pX(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,i)),n}return i._value=t,i}function gX(e,t){return function(){eX(this,e).delay=+t.apply(this,arguments)}}function xX(e,t){return t=+t,function(){eX(this,e).delay=t}}function yX(e,t){return function(){tX(this,e).duration=+t.apply(this,arguments)}}function vX(e,t){return t=+t,function(){tX(this,e).duration=t}}var bX=fG.prototype.constructor;function _X(e){return function(){this.style.removeProperty(e)}}var wX=0;function jX(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function NX(e){return fG().transition(e)}function kX(){return++wX}var SX=fG.prototype;function CX(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function EX(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}jX.prototype=NX.prototype={constructor:jX,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=cq(e));for(var r=this._groups,i=r.length,a=new Array(i),s=0;s<i;++s)for(var o,l,c=r[s],u=c.length,d=a[s]=new Array(u),h=0;h<u;++h)(o=c[h])&&(l=e.call(o,o.__data__,h,c))&&("__data__"in o&&(l.__data__=o.__data__),d[h]=l,JG(d[h],t,n,h,d,nX(o,n)));return new jX(a,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=hq(e));for(var r=this._groups,i=r.length,a=[],s=[],o=0;o<i;++o)for(var l,c=r[o],u=c.length,d=0;d<u;++d)if(l=c[d]){for(var h,f=e.call(l,l.__data__,d,c),m=nX(l,n),p=0,g=f.length;p<g;++p)(h=f[p])&&JG(h,t,n,p,f,m);a.push(f),s.push(l)}return new jX(a,s,t,n)},selectChild:SX.selectChild,selectChildren:SX.selectChildren,filter:function(e){"function"!=typeof e&&(e=fq(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,s=t[i],o=s.length,l=r[i]=[],c=0;c<o;++c)(a=s[c])&&e.call(a,a.__data__,c,s)&&l.push(a);return new jX(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),s=new Array(r),o=0;o<a;++o)for(var l,c=t[o],u=n[o],d=c.length,h=s[o]=new Array(d),f=0;f<d;++f)(l=c[f]||u[f])&&(h[f]=l);for(;o<r;++o)s[o]=t[o];return new jX(s,this._parents,this._name,this._id)},selection:function(){return new bX(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=kX(),r=this._groups,i=r.length,a=0;a<i;++a)for(var s,o=r[a],l=o.length,c=0;c<l;++c)if(s=o[c]){var u=nX(s,t);JG(s,e,n,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new jX(r,this._parents,e,n)},call:SX.call,nodes:SX.nodes,node:SX.node,size:SX.size,empty:SX.empty,each:SX.each,on:function(e,t){var n=this._id;return arguments.length<2?nX(this.node(),n).on.on(e):this.each(function(e,t,n){var r,i,a=function(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(t)?eX:tX;return function(){var s=a(this,e),o=s.on;o!==r&&(i=(r=o).copy()).on(t,n),s.on=i}}(n,e,t))},attr:function(e,t){var n=iq(e),r="transform"===n?RE:oX;return this.attrTween(e,"function"==typeof t?(n.local?fX:hX)(n,r,sX(this,"attr."+e,t)):null==t?(n.local?cX:lX)(n):(n.local?dX:uX)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=iq(e);return this.tween(n,(r.local?mX:pX)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?DE:oX;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var a=Iq(this,e),s=(this.style.removeProperty(e),Iq(this,e));return a===s?null:a===n&&s===r?i:i=t(n=a,r=s)}}(e,r)).on("end.style."+e,_X(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,i,a;return function(){var s=Iq(this,e),o=n(this),l=o+"";return null==o&&(this.style.removeProperty(e),l=o=Iq(this,e)),s===l?null:s===r&&l===i?a:(i=l,a=t(r=s,o))}}(e,r,sX(this,"style."+e,t))).each(function(e,t){var n,r,i,a,s="style."+t,o="end."+s;return function(){var l=tX(this,e),c=l.on,u=null==l.value[s]?a||(a=_X(t)):void 0;c===n&&i===u||(r=(n=c).copy()).on(o,i=u),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,a=n+"";return function(){var s=Iq(this,e);return s===a?null:s===r?i:i=t(r=s,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,i;function a(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,a,n)),r}return a._value=t,a}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(sX(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=nX(this.node(),n).tween,a=0,s=i.length;a<s;++a)if((r=i[a]).name===e)return r.value;return null}return this.each((null==t?iX:aX)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?gX:xX)(t,e)):nX(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?yX:vX)(t,e)):nX(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){tX(this,e).ease=t}}(t,e)):nX(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;tX(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(a,s){var o={value:s},l={value:function(){0===--i&&a()}};n.each(function(){var n=tX(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(o),t._.interrupt.push(o),t._.end.push(l)),n.on=t}),0===i&&a()})},[Symbol.iterator]:SX[Symbol.iterator]};var PX=function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n}(3),MX=function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),OX=function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3),AX=Math.PI,TX=AX/2;function DX(e){return(1-Math.cos(AX*e))/2}function RX(e){return 1.0009775171065494*(Math.pow(2,-10*e)-.0009765625)}function IX(e){return((e*=2)<=1?RX(1-e):2-RX(e-1))/2}function LX(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var zX=4/11,FX=6/11,BX=8/11,WX=9/11,$X=10/11,VX=21/22,KX=7.5625;function HX(e){return(e=+e)<zX?KX*e*e:e<BX?KX*(e-=FX)*e+.75:e<$X?KX*(e-=WX)*e+.9375:KX*(e-=VX)*e+.984375}var UX=1.70158,YX=function e(t){function n(e){return(e=+e)*e*(t*(e-1)+e)}return t=+t,n.overshoot=e,n}(UX),qX=function e(t){function n(e){return--e*e*((e+1)*t+e)+1}return t=+t,n.overshoot=e,n}(UX),GX=function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(UX),XX=2*Math.PI,QX=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=XX);function i(e){return t*RX(- --e)*Math.sin((r-e)/n)}return i.amplitude=function(t){return e(t,n*XX)},i.period=function(n){return e(t,n)},i}(1,.3),ZX=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=XX);function i(e){return 1-t*RX(e=+e)*Math.sin((e+r)/n)}return i.amplitude=function(t){return e(t,n*XX)},i.period=function(n){return e(t,n)},i}(1,.3),JX=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=XX);function i(e){return((e=2*e-1)<0?t*RX(-e)*Math.sin((r-e)/n):2-t*RX(e)*Math.sin((r+e)/n))/2}return i.amplitude=function(t){return e(t,n*XX)},i.period=function(n){return e(t,n)},i}(1,.3),eQ={time:null,delay:0,duration:250,ease:EX};function tQ(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}fG.prototype.interrupt=function(e){return this.each(function(){rX(this,e)})},fG.prototype.transition=function(e){var t,n;e instanceof jX?(t=e._id,e=e._name):(t=kX(),(n=eQ).time=$G(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var s,o=r[a],l=o.length,c=0;c<l;++c)(s=o[c])&&JG(s,e,t,c,o,n||tQ(s,t));return new jX(r,this._parents,e,t)};var nQ=[null];const rQ=e=>()=>e;function iQ(e,{sourceEvent:t,target:n,selection:r,mode:i,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function aQ(e){e.preventDefault(),e.stopImmediatePropagation()}var sQ={name:"drag"},oQ={name:"space"},lQ={name:"handle"},cQ={name:"center"};const{abs:uQ,max:dQ,min:hQ}=Math;function fQ(e){return[+e[0],+e[1]]}function mQ(e){return[fQ(e[0]),fQ(e[1])]}var pQ={name:"x",handles:["w","e"].map(jQ),input:function(e,t){return null==e?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},gQ={name:"y",handles:["n","s"].map(jQ),input:function(e,t){return null==e?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},xQ={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(jQ),input:function(e){return null==e?null:mQ(e)},output:function(e){return e}},yQ={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},vQ={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},bQ={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},_Q={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},wQ={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function jQ(e){return{type:e}}function NQ(e){return!e.ctrlKey&&!e.button}function kQ(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function SQ(){return navigator.maxTouchPoints||"ontouchstart"in this}function CQ(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function EQ(e){var t,n=kQ,r=NQ,i=SQ,a=!0,s=ZY("start","brush","end"),o=6;function l(t){var n=t.property("__brush",p).selectAll(".overlay").data([jQ("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",yQ.overlay).merge(n).each(function(){var e=CQ(this).extent;mG(this).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1])}),t.selectAll(".selection").data([jQ("selection")]).enter().append("rect").attr("class","selection").attr("cursor",yQ.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=t.selectAll(".handle").data(e.handles,function(e){return e.type});r.exit().remove(),r.enter().append("rect").attr("class",function(e){return"handle handle--"+e.type}).attr("cursor",function(e){return yQ[e.type]}),t.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(i).on("touchstart.brush",h).on("touchmove.brush",f).on("touchend.brush touchcancel.brush",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(){var e=mG(this),t=CQ(this).selection;t?(e.selectAll(".selection").style("display",null).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1]),e.selectAll(".handle").style("display",null).attr("x",function(e){return"e"===e.type[e.type.length-1]?t[1][0]-o/2:t[0][0]-o/2}).attr("y",function(e){return"s"===e.type[0]?t[1][1]-o/2:t[0][1]-o/2}).attr("width",function(e){return"n"===e.type||"s"===e.type?t[1][0]-t[0][0]+o:o}).attr("height",function(e){return"e"===e.type||"w"===e.type?t[1][1]-t[0][1]+o:o})):e.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function u(e,t,n){var r=e.__brush.emitter;return!r||n&&r.clean?new d(e,t,n):r}function d(e,t,n){this.that=e,this.args=t,this.state=e.__brush,this.active=0,this.clean=n}function h(n){if((!t||n.touches)&&r.apply(this,arguments)){var i,s,o,l,d,h,f,m,p,g,x,y=this,v=n.target.__data__.type,b="selection"===(a&&n.metaKey?v="overlay":v)?sQ:a&&n.altKey?cQ:lQ,_=e===gQ?null:_Q[v],w=e===pQ?null:wQ[v],j=CQ(y),N=j.extent,k=j.selection,S=N[0][0],C=N[0][1],E=N[1][0],P=N[1][1],M=0,O=0,A=_&&w&&a&&n.shiftKey,T=Array.from(n.touches||[n],e=>{const t=e.identifier;return(e=vG(e,y)).point0=e.slice(),e.identifier=t,e});rX(y);var D=u(y,arguments,!0).beforestart();if("overlay"===v){k&&(p=!0);const t=[T[0],T[1]||T[0]];j.selection=k=[[i=e===gQ?S:hQ(t[0][0],t[1][0]),o=e===pQ?C:hQ(t[0][1],t[1][1])],[d=e===gQ?E:dQ(t[0][0],t[1][0]),f=e===pQ?P:dQ(t[0][1],t[1][1])]],T.length>1&&F(n)}else i=k[0][0],o=k[0][1],d=k[1][0],f=k[1][1];s=i,l=o,h=d,m=f;var R=mG(y).attr("pointer-events","none"),I=R.selectAll(".overlay").attr("cursor",yQ[v]);if(n.touches)D.moved=z,D.ended=B;else{var L=mG(n.view).on("mousemove.brush",z,!0).on("mouseup.brush",B,!0);a&&L.on("keydown.brush",function(e){switch(e.keyCode){case 16:A=_&&w;break;case 18:b===lQ&&(_&&(d=h-M*_,i=s+M*_),w&&(f=m-O*w,o=l+O*w),b=cQ,F(e));break;case 32:b!==lQ&&b!==cQ||(_<0?d=h-M:_>0&&(i=s-M),w<0?f=m-O:w>0&&(o=l-O),b=oQ,I.attr("cursor",yQ.selection),F(e));break;default:return}aQ(e)},!0).on("keyup.brush",function(e){switch(e.keyCode){case 16:A&&(g=x=A=!1,F(e));break;case 18:b===cQ&&(_<0?d=h:_>0&&(i=s),w<0?f=m:w>0&&(o=l),b=lQ,F(e));break;case 32:b===oQ&&(e.altKey?(_&&(d=h-M*_,i=s+M*_),w&&(f=m-O*w,o=l+O*w),b=cQ):(_<0?d=h:_>0&&(i=s),w<0?f=m:w>0&&(o=l),b=lQ),I.attr("cursor",yQ[v]),F(e));break;default:return}aQ(e)},!0),NG(n.view)}c.call(y),D.start(n,b.name)}function z(e){for(const t of e.changedTouches||[e])for(const e of T)e.identifier===t.identifier&&(e.cur=vG(t,y));if(A&&!g&&!x&&1===T.length){const e=T[0];uQ(e.cur[0]-e[0])>uQ(e.cur[1]-e[1])?x=!0:g=!0}for(const t of T)t.cur&&(t[0]=t.cur[0],t[1]=t.cur[1]);p=!0,aQ(e),F(e)}function F(e){const t=T[0],n=t.point0;var r;switch(M=t[0]-n[0],O=t[1]-n[1],b){case oQ:case sQ:_&&(M=dQ(S-i,hQ(E-d,M)),s=i+M,h=d+M),w&&(O=dQ(C-o,hQ(P-f,O)),l=o+O,m=f+O);break;case lQ:T[1]?(_&&(s=dQ(S,hQ(E,T[0][0])),h=dQ(S,hQ(E,T[1][0])),_=1),w&&(l=dQ(C,hQ(P,T[0][1])),m=dQ(C,hQ(P,T[1][1])),w=1)):(_<0?(M=dQ(S-i,hQ(E-i,M)),s=i+M,h=d):_>0&&(M=dQ(S-d,hQ(E-d,M)),s=i,h=d+M),w<0?(O=dQ(C-o,hQ(P-o,O)),l=o+O,m=f):w>0&&(O=dQ(C-f,hQ(P-f,O)),l=o,m=f+O));break;case cQ:_&&(s=dQ(S,hQ(E,i-M*_)),h=dQ(S,hQ(E,d+M*_))),w&&(l=dQ(C,hQ(P,o-O*w)),m=dQ(C,hQ(P,f+O*w)))}h<s&&(_*=-1,r=i,i=d,d=r,r=s,s=h,h=r,v in vQ&&I.attr("cursor",yQ[v=vQ[v]])),m<l&&(w*=-1,r=o,o=f,f=r,r=l,l=m,m=r,v in bQ&&I.attr("cursor",yQ[v=bQ[v]])),j.selection&&(k=j.selection),g&&(s=k[0][0],h=k[1][0]),x&&(l=k[0][1],m=k[1][1]),k[0][0]===s&&k[0][1]===l&&k[1][0]===h&&k[1][1]===m||(j.selection=[[s,l],[h,m]],c.call(y),D.brush(e,b.name))}function B(e){if(function(e){e.stopImmediatePropagation()}(e),e.touches){if(e.touches.length)return;t&&clearTimeout(t),t=setTimeout(function(){t=null},500)}else kG(e.view,p),L.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);R.attr("pointer-events","all"),I.attr("cursor",yQ.overlay),j.selection&&(k=j.selection),function(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}(k)&&(j.selection=null,c.call(y)),D.end(e,b.name)}}function f(e){u(this,arguments).moved(e)}function m(e){u(this,arguments).ended(e)}function p(){var t=this.__brush||{selection:null};return t.extent=mQ(n.apply(this,arguments)),t.dim=e,t}return l.move=function(t,n,r){t.tween?t.on("start.brush",function(e){u(this,arguments).beforestart().start(e)}).on("interrupt.brush end.brush",function(e){u(this,arguments).end(e)}).tween("brush",function(){var t=this,r=t.__brush,i=u(t,arguments),a=r.selection,s=e.input("function"==typeof n?n.apply(this,arguments):n,r.extent),o=CE(a,s);function l(e){r.selection=1===e&&null===s?null:o(e),c.call(t),i.brush()}return null!==a&&null!==s?l:l(1)}):t.each(function(){var t=this,i=arguments,a=t.__brush,s=e.input("function"==typeof n?n.apply(t,i):n,a.extent),o=u(t,i).beforestart();rX(t),a.selection=null===s?null:s,c.call(t),o.start(r).brush(r).end(r)})},l.clear=function(e,t){l.move(e,null,t)},d.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(e,t){return this.starting?(this.starting=!1,this.emit("start",e,t)):this.emit("brush",e),this},brush:function(e,t){return this.emit("brush",e,t),this},end:function(e,t){return 0===--this.active&&(delete this.state.emitter,this.emit("end",e,t)),this},emit:function(t,n,r){var i=mG(this.that).datum();s.call(t,this.that,new iQ(t,{sourceEvent:n,target:l,selection:e.output(this.state.selection),mode:r,dispatch:s}),i)}},l.extent=function(e){return arguments.length?(n="function"==typeof e?e:rQ(mQ(e)),l):n},l.filter=function(e){return arguments.length?(r="function"==typeof e?e:rQ(!!e),l):r},l.touchable=function(e){return arguments.length?(i="function"==typeof e?e:rQ(!!e),l):i},l.handleSize=function(e){return arguments.length?(o=+e,l):o},l.keyModifiers=function(e){return arguments.length?(a=!!e,l):a},l.on=function(){var e=s.on.apply(s,arguments);return e===s?l:e},l}var PQ=Math.abs,MQ=Math.cos,OQ=Math.sin,AQ=Math.PI,TQ=AQ/2,DQ=2*AQ,RQ=Math.max,IQ=1e-12;function LQ(e,t){return Array.from({length:t-e},(t,n)=>e+n)}function zQ(e,t){var n=0,r=null,i=null,a=null;function s(s){var o,l=s.length,c=new Array(l),u=LQ(0,l),d=new Array(l*l),h=new Array(l),f=0;s=Float64Array.from({length:l*l},t?(e,t)=>s[t%l][t/l|0]:(e,t)=>s[t/l|0][t%l]);for(let t=0;t<l;++t){let n=0;for(let r=0;r<l;++r)n+=s[t*l+r]+e*s[r*l+t];f+=c[t]=n}o=(f=RQ(0,DQ-n*l)/f)?n:DQ/l;{let t=0;r&&u.sort((e,t)=>r(c[e],c[t]));for(const n of u){const r=t;if(e){const e=LQ(1+~l,l).filter(e=>e<0?s[~e*l+n]:s[n*l+e]);i&&e.sort((e,t)=>i(e<0?-s[~e*l+n]:s[n*l+e],t<0?-s[~t*l+n]:s[n*l+t]));for(const r of e)r<0?(d[~r*l+n]||(d[~r*l+n]={source:null,target:null})).target={index:n,startAngle:t,endAngle:t+=s[~r*l+n]*f,value:s[~r*l+n]}:(d[n*l+r]||(d[n*l+r]={source:null,target:null})).source={index:n,startAngle:t,endAngle:t+=s[n*l+r]*f,value:s[n*l+r]};h[n]={index:n,startAngle:r,endAngle:t,value:c[n]}}else{const e=LQ(0,l).filter(e=>s[n*l+e]||s[e*l+n]);i&&e.sort((e,t)=>i(s[n*l+e],s[n*l+t]));for(const r of e){let e;if(n<r?(e=d[n*l+r]||(d[n*l+r]={source:null,target:null}),e.source={index:n,startAngle:t,endAngle:t+=s[n*l+r]*f,value:s[n*l+r]}):(e=d[r*l+n]||(d[r*l+n]={source:null,target:null}),e.target={index:n,startAngle:t,endAngle:t+=s[n*l+r]*f,value:s[n*l+r]},n===r&&(e.source=e.target)),e.source&&e.target&&e.source.value<e.target.value){const t=e.source;e.source=e.target,e.target=t}}h[n]={index:n,startAngle:r,endAngle:t,value:c[n]}}t+=o}}return(d=Object.values(d)).groups=h,a?d.sort(a):d}return s.padAngle=function(e){return arguments.length?(n=RQ(0,e),s):n},s.sortGroups=function(e){return arguments.length?(r=e,s):r},s.sortSubgroups=function(e){return arguments.length?(i=e,s):i},s.sortChords=function(e){return arguments.length?(null==e?a=null:(t=e,a=function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)})._=e,s):a&&a._;var t},s}var FQ=Array.prototype.slice;function BQ(e){return function(){return e}}function WQ(e){return e.source}function $Q(e){return e.target}function VQ(e){return e.radius}function KQ(e){return e.startAngle}function HQ(e){return e.endAngle}function UQ(){return 0}function YQ(){return 10}function qQ(e){var t=WQ,n=$Q,r=VQ,i=VQ,a=KQ,s=HQ,o=UQ,l=null;function c(){var c,u=t.apply(this,arguments),d=n.apply(this,arguments),h=o.apply(this,arguments)/2,f=FQ.call(arguments),m=+r.apply(this,(f[0]=u,f)),p=a.apply(this,f)-TQ,g=s.apply(this,f)-TQ,x=+i.apply(this,(f[0]=d,f)),y=a.apply(this,f)-TQ,v=s.apply(this,f)-TQ;if(l||(l=c=dp()),h>IQ&&(PQ(g-p)>2*h+IQ?g>p?(p+=h,g-=h):(p-=h,g+=h):p=g=(p+g)/2,PQ(v-y)>2*h+IQ?v>y?(y+=h,v-=h):(y-=h,v+=h):y=v=(y+v)/2),l.moveTo(m*MQ(p),m*OQ(p)),l.arc(0,0,m,p,g),p!==y||g!==v)if(e){var b=x-+e.apply(this,arguments),_=(y+v)/2;l.quadraticCurveTo(0,0,b*MQ(y),b*OQ(y)),l.lineTo(x*MQ(_),x*OQ(_)),l.lineTo(b*MQ(v),b*OQ(v))}else l.quadraticCurveTo(0,0,x*MQ(y),x*OQ(y)),l.arc(0,0,x,y,v);if(l.quadraticCurveTo(0,0,m*MQ(p),m*OQ(p)),l.closePath(),c)return l=null,c+""||null}return e&&(c.headRadius=function(t){return arguments.length?(e="function"==typeof t?t:BQ(+t),c):e}),c.radius=function(e){return arguments.length?(r=i="function"==typeof e?e:BQ(+e),c):r},c.sourceRadius=function(e){return arguments.length?(r="function"==typeof e?e:BQ(+e),c):r},c.targetRadius=function(e){return arguments.length?(i="function"==typeof e?e:BQ(+e),c):i},c.startAngle=function(e){return arguments.length?(a="function"==typeof e?e:BQ(+e),c):a},c.endAngle=function(e){return arguments.length?(s="function"==typeof e?e:BQ(+e),c):s},c.padAngle=function(e){return arguments.length?(o="function"==typeof e?e:BQ(+e),c):o},c.source=function(e){return arguments.length?(t=e,c):t},c.target=function(e){return arguments.length?(n=e,c):n},c.context=function(e){return arguments.length?(l=null==e?null:e,c):l},c}var GQ=Array.prototype.slice;function XQ(e,t){return e-t}const QQ=e=>()=>e;function ZQ(e,t){for(var n,r=-1,i=t.length;++r<i;)if(n=JQ(e,t[r]))return n;return 0}function JQ(e,t){for(var n=t[0],r=t[1],i=-1,a=0,s=e.length,o=s-1;a<s;o=a++){var l=e[a],c=l[0],u=l[1],d=e[o],h=d[0],f=d[1];if(eZ(l,d,t))return 0;u>r!=f>r&&n<(h-c)*(r-u)/(f-u)+c&&(i=-i)}return i}function eZ(e,t,n){var r,i,a,s;return function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}(e,t,n)&&(i=e[r=+(e[0]===t[0])],a=n[r],s=t[r],i<=a&&a<=s||s<=a&&a<=i)}function tZ(){}var nZ=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function rZ(){var e=1,t=1,n=vS,r=o;function i(e){var t=n(e);if(Array.isArray(t))t=t.slice().sort(XQ);else{const n=Vk(e,iZ);for(t=pS(...yS(n[0],n[1],t),t);t[t.length-1]>=n[1];)t.pop();for(;t[1]<n[0];)t.shift()}return t.map(t=>a(e,t))}function a(n,i){const a=null==i?NaN:+i;if(isNaN(a))throw new Error(`invalid value: ${i}`);var o=[],l=[];return function(n,r,i){var a,o,l,c,u,d,h=new Array,f=new Array;for(a=o=-1,c=aZ(n[0],r),nZ[c<<1].forEach(m);++a<e-1;)l=c,c=aZ(n[a+1],r),nZ[l|c<<1].forEach(m);for(nZ[0|c].forEach(m);++o<t-1;){for(a=-1,c=aZ(n[o*e+e],r),u=aZ(n[o*e],r),nZ[c<<1|u<<2].forEach(m);++a<e-1;)l=c,c=aZ(n[o*e+e+a+1],r),d=u,u=aZ(n[o*e+a+1],r),nZ[l|c<<1|u<<2|d<<3].forEach(m);nZ[c|u<<3].forEach(m)}for(a=-1,u=n[o*e]>=r,nZ[u<<2].forEach(m);++a<e-1;)d=u,u=aZ(n[o*e+a+1],r),nZ[u<<2|d<<3].forEach(m);function m(e){var t,n,r=[e[0][0]+a,e[0][1]+o],l=[e[1][0]+a,e[1][1]+o],c=s(r),u=s(l);(t=f[c])?(n=h[u])?(delete f[t.end],delete h[n.start],t===n?(t.ring.push(l),i(t.ring)):h[t.start]=f[n.end]={start:t.start,end:n.end,ring:t.ring.concat(n.ring)}):(delete f[t.end],t.ring.push(l),f[t.end=u]=t):(t=h[u])?(n=f[c])?(delete h[t.start],delete f[n.end],t===n?(t.ring.push(l),i(t.ring)):h[n.start]=f[t.end]={start:n.start,end:t.end,ring:n.ring.concat(t.ring)}):(delete h[t.start],t.ring.unshift(r),h[t.start=c]=t):h[c]=f[u]={start:c,end:u,ring:[r,l]}}nZ[u<<3].forEach(m)}(n,a,function(e){r(e,n,a),function(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}(e)>0?o.push([e]):l.push(e)}),l.forEach(function(e){for(var t,n=0,r=o.length;n<r;++n)if(-1!==ZQ((t=o[n])[0],e))return void t.push(e)}),{type:"MultiPolygon",value:i,coordinates:o}}function s(t){return 2*t[0]+t[1]*(e+1)*4}function o(n,r,i){n.forEach(function(n){var a=n[0],s=n[1],o=0|a,l=0|s,c=sZ(r[l*e+o]);a>0&&a<e&&o===a&&(n[0]=oZ(a,sZ(r[l*e+o-1]),c,i)),s>0&&s<t&&l===s&&(n[1]=oZ(s,sZ(r[(l-1)*e+o]),c,i))})}return i.contour=a,i.size=function(n){if(!arguments.length)return[e,t];var r=Math.floor(n[0]),a=Math.floor(n[1]);if(!(r>=0&&a>=0))throw new Error("invalid size");return e=r,t=a,i},i.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:Array.isArray(e)?QQ(GQ.call(e)):QQ(e),i):n},i.smooth=function(e){return arguments.length?(r=e?o:tZ,i):r===o},i}function iZ(e){return isFinite(e)?e:NaN}function aZ(e,t){return null!=e&&+e>=t}function sZ(e){return null==e||isNaN(e=+e)?-1/0:e}function oZ(e,t,n,r){const i=r-t,a=n-t,s=isFinite(i)||isFinite(a)?i/a:Math.sign(i)/Math.sign(a);return isNaN(s)?e:e+s-.5}function lZ(e){return e[0]}function cZ(e){return e[1]}function uZ(){return 1}const dZ=134217729;function hZ(e,t,n,r,i){let a,s,o,l,c=t[0],u=r[0],d=0,h=0;u>c==u>-c?(a=c,c=t[++d]):(a=u,u=r[++h]);let f=0;if(d<e&&h<n)for(u>c==u>-c?(s=c+a,o=a-(s-c),c=t[++d]):(s=u+a,o=a-(s-u),u=r[++h]),a=s,0!==o&&(i[f++]=o);d<e&&h<n;)u>c==u>-c?(s=a+c,l=s-a,o=a-(s-l)+(c-l),c=t[++d]):(s=a+u,l=s-a,o=a-(s-l)+(u-l),u=r[++h]),a=s,0!==o&&(i[f++]=o);for(;d<e;)s=a+c,l=s-a,o=a-(s-l)+(c-l),c=t[++d],a=s,0!==o&&(i[f++]=o);for(;h<n;)s=a+u,l=s-a,o=a-(s-l)+(u-l),u=r[++h],a=s,0!==o&&(i[f++]=o);return 0===a&&0!==f||(i[f++]=a),f}function fZ(e){return new Float64Array(e)}const mZ=fZ(4),pZ=fZ(8),gZ=fZ(12),xZ=fZ(16),yZ=fZ(4);function vZ(e,t,n,r,i,a){const s=(t-a)*(n-i),o=(e-i)*(r-a),l=s-o,c=Math.abs(s+o);return Math.abs(l)>=33306690738754716e-32*c?l:-function(e,t,n,r,i,a,s){let o,l,c,u,d,h,f,m,p,g,x,y,v,b,_,w,j,N;const k=e-i,S=n-i,C=t-a,E=r-a;b=k*E,h=dZ*k,f=h-(h-k),m=k-f,h=dZ*E,p=h-(h-E),g=E-p,_=m*g-(b-f*p-m*p-f*g),w=C*S,h=dZ*C,f=h-(h-C),m=C-f,h=dZ*S,p=h-(h-S),g=S-p,j=m*g-(w-f*p-m*p-f*g),x=_-j,d=_-x,mZ[0]=_-(x+d)+(d-j),y=b+x,d=y-b,v=b-(y-d)+(x-d),x=v-w,d=v-x,mZ[1]=v-(x+d)+(d-w),N=y+x,d=N-y,mZ[2]=y-(N-d)+(x-d),mZ[3]=N;let P=function(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}(4,mZ),M=22204460492503146e-32*s;if(P>=M||-P>=M)return P;if(d=e-k,o=e-(k+d)+(d-i),d=n-S,c=n-(S+d)+(d-i),d=t-C,l=t-(C+d)+(d-a),d=r-E,u=r-(E+d)+(d-a),0===o&&0===l&&0===c&&0===u)return P;if(M=11093356479670487e-47*s+33306690738754706e-32*Math.abs(P),P+=k*u+E*o-(C*c+S*l),P>=M||-P>=M)return P;b=o*E,h=dZ*o,f=h-(h-o),m=o-f,h=dZ*E,p=h-(h-E),g=E-p,_=m*g-(b-f*p-m*p-f*g),w=l*S,h=dZ*l,f=h-(h-l),m=l-f,h=dZ*S,p=h-(h-S),g=S-p,j=m*g-(w-f*p-m*p-f*g),x=_-j,d=_-x,yZ[0]=_-(x+d)+(d-j),y=b+x,d=y-b,v=b-(y-d)+(x-d),x=v-w,d=v-x,yZ[1]=v-(x+d)+(d-w),N=y+x,d=N-y,yZ[2]=y-(N-d)+(x-d),yZ[3]=N;const O=hZ(4,mZ,4,yZ,pZ);b=k*u,h=dZ*k,f=h-(h-k),m=k-f,h=dZ*u,p=h-(h-u),g=u-p,_=m*g-(b-f*p-m*p-f*g),w=C*c,h=dZ*C,f=h-(h-C),m=C-f,h=dZ*c,p=h-(h-c),g=c-p,j=m*g-(w-f*p-m*p-f*g),x=_-j,d=_-x,yZ[0]=_-(x+d)+(d-j),y=b+x,d=y-b,v=b-(y-d)+(x-d),x=v-w,d=v-x,yZ[1]=v-(x+d)+(d-w),N=y+x,d=N-y,yZ[2]=y-(N-d)+(x-d),yZ[3]=N;const A=hZ(O,pZ,4,yZ,gZ);b=o*u,h=dZ*o,f=h-(h-o),m=o-f,h=dZ*u,p=h-(h-u),g=u-p,_=m*g-(b-f*p-m*p-f*g),w=l*c,h=dZ*l,f=h-(h-l),m=l-f,h=dZ*c,p=h-(h-c),g=c-p,j=m*g-(w-f*p-m*p-f*g),x=_-j,d=_-x,yZ[0]=_-(x+d)+(d-j),y=b+x,d=y-b,v=b-(y-d)+(x-d),x=v-w,d=v-x,yZ[1]=v-(x+d)+(d-w),N=y+x,d=N-y,yZ[2]=y-(N-d)+(x-d),yZ[3]=N;const T=hZ(A,gZ,4,yZ,xZ);return xZ[T-1]}(e,t,n,r,i,a,c)}const bZ=Math.pow(2,-52),_Z=new Uint32Array(512);class wZ{static from(e,t=EZ,n=PZ){const r=e.length,i=new Float64Array(2*r);for(let a=0;a<r;a++){const r=e[a];i[2*a]=t(r),i[2*a+1]=n(r)}return new wZ(i)}constructor(e){const t=e.length>>1;if(t>0&&"number"!=typeof e[0])throw new Error("Expected coords to contain numbers.");this.coords=e;const n=Math.max(2*t-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(t)),this._hullPrev=new Uint32Array(t),this._hullNext=new Uint32Array(t),this._hullTri=new Uint32Array(t),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(t),this._dists=new Float64Array(t),this.update()}update(){const{coords:e,_hullPrev:t,_hullNext:n,_hullTri:r,_hullHash:i}=this,a=e.length>>1;let s=1/0,o=1/0,l=-1/0,c=-1/0;for(let N=0;N<a;N++){const t=e[2*N],n=e[2*N+1];t<s&&(s=t),n<o&&(o=n),t>l&&(l=t),n>c&&(c=n),this._ids[N]=N}const u=(s+l)/2,d=(o+c)/2;let h,f,m;for(let N=0,k=1/0;N<a;N++){const t=jZ(u,d,e[2*N],e[2*N+1]);t<k&&(h=N,k=t)}const p=e[2*h],g=e[2*h+1];for(let N=0,k=1/0;N<a;N++){if(N===h)continue;const t=jZ(p,g,e[2*N],e[2*N+1]);t<k&&t>0&&(f=N,k=t)}let x=e[2*f],y=e[2*f+1],v=1/0;for(let N=0;N<a;N++){if(N===h||N===f)continue;const t=kZ(p,g,x,y,e[2*N],e[2*N+1]);t<v&&(m=N,v=t)}let b=e[2*m],_=e[2*m+1];if(v===1/0){for(let r=0;r<a;r++)this._dists[r]=e[2*r]-e[0]||e[2*r+1]-e[1];SZ(this._ids,this._dists,0,a-1);const t=new Uint32Array(a);let n=0;for(let e=0,r=-1/0;e<a;e++){const i=this._ids[e],a=this._dists[i];a>r&&(t[n++]=i,r=a)}return this.hull=t.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(vZ(p,g,x,y,b,_)<0){const e=f,t=x,n=y;f=m,x=b,y=_,m=e,b=t,_=n}const w=function(e,t,n,r,i,a){const s=n-e,o=r-t,l=i-e,c=a-t,u=s*s+o*o,d=l*l+c*c,h=.5/(s*c-o*l);return{x:e+(c*u-o*d)*h,y:t+(s*d-l*u)*h}}(p,g,x,y,b,_);this._cx=w.x,this._cy=w.y;for(let N=0;N<a;N++)this._dists[N]=jZ(e[2*N],e[2*N+1],w.x,w.y);SZ(this._ids,this._dists,0,a-1),this._hullStart=h;let j=3;n[h]=t[m]=f,n[f]=t[h]=m,n[m]=t[f]=h,r[h]=0,r[f]=1,r[m]=2,i.fill(-1),i[this._hashKey(p,g)]=h,i[this._hashKey(x,y)]=f,i[this._hashKey(b,_)]=m,this.trianglesLen=0,this._addTriangle(h,f,m,-1,-1,-1);for(let N,k,S=0;S<this._ids.length;S++){const a=this._ids[S],s=e[2*a],o=e[2*a+1];if(S>0&&Math.abs(s-N)<=bZ&&Math.abs(o-k)<=bZ)continue;if(N=s,k=o,a===h||a===f||a===m)continue;let l=0;for(let e=0,t=this._hashKey(s,o);e<this._hashSize&&(l=i[(t+e)%this._hashSize],-1===l||l===n[l]);e++);l=t[l];let c,u=l;for(;c=n[u],vZ(s,o,e[2*u],e[2*u+1],e[2*c],e[2*c+1])>=0;)if(u=c,u===l){u=-1;break}if(-1===u)continue;let d=this._addTriangle(u,a,n[u],-1,-1,r[u]);r[a]=this._legalize(d+2),r[u]=d,j++;let p=n[u];for(;c=n[p],vZ(s,o,e[2*p],e[2*p+1],e[2*c],e[2*c+1])<0;)d=this._addTriangle(p,a,c,r[a],-1,r[p]),r[a]=this._legalize(d+2),n[p]=p,j--,p=c;if(u===l)for(;c=t[u],vZ(s,o,e[2*c],e[2*c+1],e[2*u],e[2*u+1])<0;)d=this._addTriangle(c,a,u,-1,r[u],r[c]),this._legalize(d+2),r[c]=d,n[u]=u,j--,u=c;this._hullStart=t[a]=u,n[u]=t[p]=a,n[a]=p,i[this._hashKey(s,o)]=a,i[this._hashKey(e[2*u],e[2*u+1])]=u}this.hull=new Uint32Array(j);for(let N=0,k=this._hullStart;N<j;N++)this.hull[N]=k,k=n[k];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,t){return Math.floor(function(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:t,_halfedges:n,coords:r}=this;let i=0,a=0;for(;;){const s=n[e],o=e-e%3;if(a=o+(e+2)%3,-1===s){if(0===i)break;e=_Z[--i];continue}const l=s-s%3,c=o+(e+1)%3,u=l+(s+2)%3,d=t[a],h=t[e],f=t[c],m=t[u];if(NZ(r[2*d],r[2*d+1],r[2*h],r[2*h+1],r[2*f],r[2*f+1],r[2*m],r[2*m+1])){t[e]=m,t[s]=d;const r=n[u];if(-1===r){let t=this._hullStart;do{if(this._hullTri[t]===u){this._hullTri[t]=e;break}t=this._hullPrev[t]}while(t!==this._hullStart)}this._link(e,r),this._link(s,n[a]),this._link(a,u);const o=l+(s+1)%3;i<_Z.length&&(_Z[i++]=o)}else{if(0===i)break;e=_Z[--i]}}return a}_link(e,t){this._halfedges[e]=t,-1!==t&&(this._halfedges[t]=e)}_addTriangle(e,t,n,r,i,a){const s=this.trianglesLen;return this._triangles[s]=e,this._triangles[s+1]=t,this._triangles[s+2]=n,this._link(s,r),this._link(s+1,i),this._link(s+2,a),this.trianglesLen+=3,s}}function jZ(e,t,n,r){const i=e-n,a=t-r;return i*i+a*a}function NZ(e,t,n,r,i,a,s,o){const l=e-s,c=t-o,u=n-s,d=r-o,h=i-s,f=a-o,m=u*u+d*d,p=h*h+f*f;return l*(d*p-m*f)-c*(u*p-m*h)+(l*l+c*c)*(u*f-d*h)<0}function kZ(e,t,n,r,i,a){const s=n-e,o=r-t,l=i-e,c=a-t,u=s*s+o*o,d=l*l+c*c,h=.5/(s*c-o*l),f=(c*u-o*d)*h,m=(s*d-l*u)*h;return f*f+m*m}function SZ(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const r=e[i],a=t[r];let s=i-1;for(;s>=n&&t[e[s]]>a;)e[s+1]=e[s--];e[s+1]=r}else{let i=n+1,a=r;CZ(e,n+r>>1,i),t[e[n]]>t[e[r]]&&CZ(e,n,r),t[e[i]]>t[e[r]]&&CZ(e,i,r),t[e[n]]>t[e[i]]&&CZ(e,n,i);const s=e[i],o=t[s];for(;;){do{i++}while(t[e[i]]<o);do{a--}while(t[e[a]]>o);if(a<i)break;CZ(e,i,a)}e[n+1]=e[a],e[a]=s,r-i+1>=a-n?(SZ(e,t,i,r),SZ(e,t,n,a-1)):(SZ(e,t,n,a-1),SZ(e,t,i,r))}}function CZ(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function EZ(e){return e[0]}function PZ(e){return e[1]}const MZ=1e-6;class OZ{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,t){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,t){this._+=`L${this._x1=+e},${this._y1=+t}`}arc(e,t,n){const r=(e=+e)+(n=+n),i=t=+t;if(n<0)throw new Error("negative radius");null===this._x1?this._+=`M${r},${i}`:(Math.abs(this._x1-r)>MZ||Math.abs(this._y1-i)>MZ)&&(this._+="L"+r+","+i),n&&(this._+=`A${n},${n},0,1,1,${e-n},${t}A${n},${n},0,1,1,${this._x1=r},${this._y1=i}`)}rect(e,t,n,r){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${+n}v${+r}h${-n}Z`}value(){return this._||null}}class AZ{constructor(){this._=[]}moveTo(e,t){this._.push([e,t])}closePath(){this._.push(this._[0].slice())}lineTo(e,t){this._.push([e,t])}value(){return this._.length?this._:null}}class TZ{constructor(e,[t,n,r,i]=[0,0,960,500]){if(!((r=+r)>=(t=+t)&&(i=+i)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(2*e.points.length),this.vectors=new Float64Array(2*e.points.length),this.xmax=r,this.xmin=t,this.ymax=i,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:t,triangles:n},vectors:r}=this;let i,a;const s=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let m,p,g=0,x=0,y=n.length;g<y;g+=3,x+=2){const r=2*n[g],o=2*n[g+1],l=2*n[g+2],c=e[r],u=e[r+1],d=e[o],h=e[o+1],f=e[l],y=e[l+1],v=d-c,b=h-u,_=f-c,w=y-u,j=2*(v*w-b*_);if(Math.abs(j)<1e-9){if(void 0===i){i=a=0;for(const n of t)i+=e[2*n],a+=e[2*n+1];i/=t.length,a/=t.length}const n=1e9*Math.sign((i-c)*w-(a-u)*_);m=(c+f)/2-n*w,p=(u+y)/2+n*_}else{const e=1/j,t=v*v+b*b,n=_*_+w*w;m=c+(w*t-b*n)*e,p=u+(v*n-_*t)*e}s[x]=m,s[x+1]=p}let o,l,c,u=t[t.length-1],d=4*u,h=e[2*u],f=e[2*u+1];r.fill(0);for(let m=0;m<t.length;++m)u=t[m],o=d,l=h,c=f,d=4*u,h=e[2*u],f=e[2*u+1],r[o+2]=r[d]=c-f,r[o+3]=r[d+1]=h-l}render(e){const t=null==e?e=new OZ:void 0,{delaunay:{halfedges:n,inedges:r,hull:i},circumcenters:a,vectors:s}=this;if(i.length<=1)return null;for(let c=0,u=n.length;c<u;++c){const t=n[c];if(t<c)continue;const r=2*Math.floor(c/3),i=2*Math.floor(t/3),s=a[r],o=a[r+1],l=a[i],u=a[i+1];this._renderSegment(s,o,l,u,e)}let o,l=i[i.length-1];for(let c=0;c<i.length;++c){o=l,l=i[c];const t=2*Math.floor(r[l]/3),n=a[t],u=a[t+1],d=4*o,h=this._project(n,u,s[d+2],s[d+3]);h&&this._renderSegment(n,u,h[0],h[1],e)}return t&&t.value()}renderBounds(e){const t=null==e?e=new OZ:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}renderCell(e,t){const n=null==t?t=new OZ:void 0,r=this._clip(e);if(null===r||!r.length)return;t.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let a=2;a<i;a+=2)r[a]===r[a-2]&&r[a+1]===r[a-1]||t.lineTo(r[a],r[a+1]);return t.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let t=0,n=e.length/2;t<n;++t){const e=this.cellPolygon(t);e&&(e.index=t,yield e)}}cellPolygon(e){const t=new AZ;return this.renderCell(e,t),t.value()}_renderSegment(e,t,n,r,i){let a;const s=this._regioncode(e,t),o=this._regioncode(n,r);0===s&&0===o?(i.moveTo(e,t),i.lineTo(n,r)):(a=this._clipSegment(e,t,n,r,s,o))&&(i.moveTo(a[0],a[1]),i.lineTo(a[2],a[3]))}contains(e,t,n){return(t=+t)==t&&(n=+n)==n&&this.delaunay._step(e,t,n)===e}*neighbors(e){const t=this._clip(e);if(t)for(const n of this.delaunay.neighbors(e)){const e=this._clip(n);if(e)e:for(let r=0,i=t.length;r<i;r+=2)for(let a=0,s=e.length;a<s;a+=2)if(t[r]===e[a]&&t[r+1]===e[a+1]&&t[(r+2)%i]===e[(a+s-2)%s]&&t[(r+3)%i]===e[(a+s-1)%s]){yield n;break e}}}_cell(e){const{circumcenters:t,delaunay:{inedges:n,halfedges:r,triangles:i}}=this,a=n[e];if(-1===a)return null;const s=[];let o=a;do{const n=Math.floor(o/3);if(s.push(t[2*n],t[2*n+1]),o=o%3==2?o-2:o+1,i[o]!==e)break;o=r[o]}while(o!==a&&-1!==o);return s}_clip(e){if(0===e&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const t=this._cell(e);if(null===t)return null;const{vectors:n}=this,r=4*e;return this._simplify(n[r]||n[r+1]?this._clipInfinite(e,t,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(e,t))}_clipFinite(e,t){const n=t.length;let r,i,a,s,o=null,l=t[n-2],c=t[n-1],u=this._regioncode(l,c),d=0;for(let h=0;h<n;h+=2)if(r=l,i=c,l=t[h],c=t[h+1],a=u,u=this._regioncode(l,c),0===a&&0===u)s=d,d=0,o?o.push(l,c):o=[l,c];else{let t,n,h,f,m;if(0===a){if(null===(t=this._clipSegment(r,i,l,c,a,u)))continue;[n,h,f,m]=t}else{if(null===(t=this._clipSegment(l,c,r,i,u,a)))continue;[f,m,n,h]=t,s=d,d=this._edgecode(n,h),s&&d&&this._edge(e,s,d,o,o.length),o?o.push(n,h):o=[n,h]}s=d,d=this._edgecode(f,m),s&&d&&this._edge(e,s,d,o,o.length),o?o.push(f,m):o=[f,m]}if(o)s=d,d=this._edgecode(o[0],o[1]),s&&d&&this._edge(e,s,d,o,o.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return o}_clipSegment(e,t,n,r,i,a){const s=i<a;for(s&&([e,t,n,r,i,a]=[n,r,e,t,a,i]);;){if(0===i&&0===a)return s?[n,r,e,t]:[e,t,n,r];if(i&a)return null;let o,l,c=i||a;8&c?(o=e+(n-e)*(this.ymax-t)/(r-t),l=this.ymax):4&c?(o=e+(n-e)*(this.ymin-t)/(r-t),l=this.ymin):2&c?(l=t+(r-t)*(this.xmax-e)/(n-e),o=this.xmax):(l=t+(r-t)*(this.xmin-e)/(n-e),o=this.xmin),i?(e=o,t=l,i=this._regioncode(e,t)):(n=o,r=l,a=this._regioncode(n,r))}}_clipInfinite(e,t,n,r,i,a){let s,o=Array.from(t);if((s=this._project(o[0],o[1],n,r))&&o.unshift(s[0],s[1]),(s=this._project(o[o.length-2],o[o.length-1],i,a))&&o.push(s[0],s[1]),o=this._clipFinite(e,o))for(let l,c=0,u=o.length,d=this._edgecode(o[u-2],o[u-1]);c<u;c+=2)l=d,d=this._edgecode(o[c],o[c+1]),l&&d&&(c=this._edge(e,l,d,o,c),u=o.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(o=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return o}_edge(e,t,n,r,i){for(;t!==n;){let n,a;switch(t){case 5:t=4;continue;case 4:t=6,n=this.xmax,a=this.ymin;break;case 6:t=2;continue;case 2:t=10,n=this.xmax,a=this.ymax;break;case 10:t=8;continue;case 8:t=9,n=this.xmin,a=this.ymax;break;case 9:t=1;continue;case 1:t=5,n=this.xmin,a=this.ymin}r[i]===n&&r[i+1]===a||!this.contains(e,n,a)||(r.splice(i,0,n,a),i+=2)}return i}_project(e,t,n,r){let i,a,s,o=1/0;if(r<0){if(t<=this.ymin)return null;(i=(this.ymin-t)/r)<o&&(s=this.ymin,a=e+(o=i)*n)}else if(r>0){if(t>=this.ymax)return null;(i=(this.ymax-t)/r)<o&&(s=this.ymax,a=e+(o=i)*n)}if(n>0){if(e>=this.xmax)return null;(i=(this.xmax-e)/n)<o&&(a=this.xmax,s=t+(o=i)*r)}else if(n<0){if(e<=this.xmin)return null;(i=(this.xmin-e)/n)<o&&(a=this.xmin,s=t+(o=i)*r)}return[a,s]}_edgecode(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}_regioncode(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let t=0;t<e.length;t+=2){const n=(t+2)%e.length,r=(t+4)%e.length;(e[t]===e[n]&&e[n]===e[r]||e[t+1]===e[n+1]&&e[n+1]===e[r+1])&&(e.splice(n,2),t-=2)}e.length||(e=null)}return e}}const DZ=2*Math.PI,RZ=Math.pow;function IZ(e){return e[0]}function LZ(e){return e[1]}function zZ(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class FZ{static from(e,t=IZ,n=LZ,r){return new FZ("length"in e?function(e,t,n,r){const i=e.length,a=new Float64Array(2*i);for(let s=0;s<i;++s){const i=e[s];a[2*s]=t.call(r,i,s,e),a[2*s+1]=n.call(r,i,s,e)}return a}(e,t,n,r):Float64Array.from(function*(e,t,n,r){let i=0;for(const a of e)yield t.call(r,a,i,e),yield n.call(r,a,i,e),++i}(e,t,n,r)))}constructor(e){this._delaunator=new wZ(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&function(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const e=2*t[r],i=2*t[r+1],a=2*t[r+2];if((n[a]-n[e])*(n[i+1]-n[e+1])-(n[i]-n[e])*(n[a+1]-n[e+1])>1e-10)return!1}return!0}(e)){this.collinear=Int32Array.from({length:t.length/2},(e,t)=>t).sort((e,n)=>t[2*e]-t[2*n]||t[2*e+1]-t[2*n+1]);const e=this.collinear[0],n=this.collinear[this.collinear.length-1],r=[t[2*e],t[2*e+1],t[2*n],t[2*n+1]],i=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let a=0,s=t.length/2;a<s;++a){const e=zZ(t[2*a],t[2*a+1],i);t[2*a]=e[0],t[2*a+1]=e[1]}this._delaunator=new wZ(t)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let o=0,l=n.length;o<l;++o){const e=i[o%3==2?o-2:o+1];-1!==n[o]&&-1!==a[e]||(a[e]=o)}for(let o=0,l=r.length;o<l;++o)s[r[o]]=o;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],a[r[0]]=1,2===r.length&&(a[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(e){return new TZ(this,e)}*neighbors(e){const{inedges:t,hull:n,_hullIndex:r,halfedges:i,triangles:a,collinear:s}=this;if(s){const t=s.indexOf(e);return t>0&&(yield s[t-1]),void(t<s.length-1&&(yield s[t+1]))}const o=t[e];if(-1===o)return;let l=o,c=-1;do{if(yield c=a[l],l=l%3==2?l-2:l+1,a[l]!==e)return;if(l=i[l],-1===l){const t=n[(r[e]+1)%n.length];return void(t!==c&&(yield t))}}while(l!==o)}find(e,t,n=0){if((e=+e)!=e||(t=+t)!=t)return-1;const r=n;let i;for(;(i=this._step(n,e,t))>=0&&i!==n&&i!==r;)n=i;return i}_step(e,t,n){const{inedges:r,hull:i,_hullIndex:a,halfedges:s,triangles:o,points:l}=this;if(-1===r[e]||!l.length)return(e+1)%(l.length>>1);let c=e,u=RZ(t-l[2*e],2)+RZ(n-l[2*e+1],2);const d=r[e];let h=d;do{let r=o[h];const d=RZ(t-l[2*r],2)+RZ(n-l[2*r+1],2);if(d<u&&(u=d,c=r),h=h%3==2?h-2:h+1,o[h]!==e)break;if(h=s[h],-1===h){if(h=i[(a[e]+1)%i.length],h!==r&&RZ(t-l[2*h],2)+RZ(n-l[2*h+1],2)<u)return h;break}}while(h!==d);return c}render(e){const t=null==e?e=new OZ:void 0,{points:n,halfedges:r,triangles:i}=this;for(let a=0,s=r.length;a<s;++a){const t=r[a];if(t<a)continue;const s=2*i[a],o=2*i[t];e.moveTo(n[s],n[s+1]),e.lineTo(n[o],n[o+1])}return this.renderHull(e),t&&t.value()}renderPoints(e,t){void 0!==t||e&&"function"==typeof e.moveTo||(t=e,e=null),t=null==t?2:+t;const n=null==e?e=new OZ:void 0,{points:r}=this;for(let i=0,a=r.length;i<a;i+=2){const n=r[i],a=r[i+1];e.moveTo(n+t,a),e.arc(n,a,t,0,DZ)}return n&&n.value()}renderHull(e){const t=null==e?e=new OZ:void 0,{hull:n,points:r}=this,i=2*n[0],a=n.length;e.moveTo(r[i],r[i+1]);for(let s=1;s<a;++s){const t=2*n[s];e.lineTo(r[t],r[t+1])}return e.closePath(),t&&t.value()}hullPolygon(){const e=new AZ;return this.renderHull(e),e.value()}renderTriangle(e,t){const n=null==t?t=new OZ:void 0,{points:r,triangles:i}=this,a=2*i[e*=3],s=2*i[e+1],o=2*i[e+2];return t.moveTo(r[a],r[a+1]),t.lineTo(r[s],r[s+1]),t.lineTo(r[o],r[o+1]),t.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:e}=this;for(let t=0,n=e.length/3;t<n;++t)yield this.trianglePolygon(t)}trianglePolygon(e){const t=new AZ;return this.renderTriangle(e,t),t.value()}}var BZ={},WZ={};function $Z(e){return new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'}).join(",")+"}")}function VZ(e){var t=Object.create(null),n=[];return e.forEach(function(e){for(var r in e)r in t||n.push(t[r]=r)}),n}function KZ(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function HZ(e){var t,n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),a=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+KZ(-t,6):t>9999?"+"+KZ(t,6):KZ(t,4))+"-"+KZ(e.getUTCMonth()+1,2)+"-"+KZ(e.getUTCDate(),2)+(a?"T"+KZ(n,2)+":"+KZ(r,2)+":"+KZ(i,2)+"."+KZ(a,3)+"Z":i?"T"+KZ(n,2)+":"+KZ(r,2)+":"+KZ(i,2)+"Z":r||n?"T"+KZ(n,2)+":"+KZ(r,2)+"Z":"")}function UZ(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,i=[],a=e.length,s=0,o=0,l=a<=0,c=!1;function u(){if(l)return WZ;if(c)return c=!1,BZ;var t,r,i=s;if(34===e.charCodeAt(i)){for(;s++<a&&34!==e.charCodeAt(s)||34===e.charCodeAt(++s););return(t=s)>=a?l=!0:10===(r=e.charCodeAt(s++))?c=!0:13===r&&(c=!0,10===e.charCodeAt(s)&&++s),e.slice(i+1,t-1).replace(/""/g,'"')}for(;s<a;){if(10===(r=e.charCodeAt(t=s++)))c=!0;else if(13===r)c=!0,10===e.charCodeAt(s)&&++s;else if(r!==n)continue;return e.slice(i,t)}return l=!0,e.slice(i,a)}for(10===e.charCodeAt(a-1)&&--a,13===e.charCodeAt(a-1)&&--a;(r=u())!==WZ;){for(var d=[];r!==BZ&&r!==WZ;)d.push(r),r=u();t&&null==(d=t(d,o++))||i.push(d)}return i}function i(t,n){return t.map(function(t){return n.map(function(e){return s(t[e])}).join(e)})}function a(t){return t.map(s).join(e)}function s(e){return null==e?"":e instanceof Date?HZ(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,i,a=r(e,function(e,r){if(n)return n(e,r-1);i=e,n=t?function(e,t){var n=$Z(e);return function(r,i){return t(n(r),i,e)}}(e,t):$Z(e)});return a.columns=i||[],a},parseRows:r,format:function(t,n){return null==n&&(n=VZ(t)),[n.map(s).join(e)].concat(i(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=VZ(e)),i(e,t).join("\n")},formatRows:function(e){return e.map(a).join("\n")},formatRow:a,formatValue:s}}var YZ=UZ(","),qZ=YZ.parse,GZ=YZ.parseRows,XZ=YZ.format,QZ=YZ.formatBody,ZZ=YZ.formatRows,JZ=YZ.formatRow,eJ=YZ.formatValue,tJ=UZ("\t"),nJ=tJ.parse,rJ=tJ.parseRows,iJ=tJ.format,aJ=tJ.formatBody,sJ=tJ.formatRows,oJ=tJ.formatRow,lJ=tJ.formatValue;const cJ=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function uJ(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.blob()}function dJ(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.arrayBuffer()}function hJ(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function fJ(e,t){return fetch(e,t).then(hJ)}function mJ(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),fJ(t,n).then(function(t){return e(t,r)})}}var pJ=mJ(qZ),gJ=mJ(nJ);function xJ(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(204!==e.status&&205!==e.status)return e.json()}function yJ(e){return(t,n)=>fJ(t,n).then(t=>(new DOMParser).parseFromString(t,e))}const vJ=yJ("application/xml");var bJ=yJ("text/html"),_J=yJ("image/svg+xml");function wJ(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,a,s,o,l,c,u,d,h,f=e._root,m={data:r},p=e._x0,g=e._y0,x=e._x1,y=e._y1;if(!f)return e._root=m,e;for(;f.length;)if((c=t>=(a=(p+x)/2))?p=a:x=a,(u=n>=(s=(g+y)/2))?g=s:y=s,i=f,!(f=f[d=u<<1|c]))return i[d]=m,e;if(o=+e._x.call(null,f.data),l=+e._y.call(null,f.data),t===o&&n===l)return m.next=f,i?i[d]=m:e._root=m,e;do{i=i?i[d]=new Array(4):e._root=new Array(4),(c=t>=(a=(p+x)/2))?p=a:x=a,(u=n>=(s=(g+y)/2))?g=s:y=s}while((d=u<<1|c)==(h=(l>=s)<<1|o>=a));return i[h]=f,i[d]=m,e}function jJ(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function NJ(e){return e[0]}function kJ(e){return e[1]}function SJ(e,t,n){var r=new CJ(null==t?NJ:t,null==n?kJ:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function CJ(e,t,n,r,i,a){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function EJ(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var PJ=SJ.prototype=CJ.prototype;function MJ(e){return function(){return e}}function OJ(e){return 1e-6*(e()-.5)}function AJ(e){return e.x+e.vx}function TJ(e){return e.y+e.vy}function DJ(e){return e.index}function RJ(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}PJ.copy=function(){var e,t,n=new CJ(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=EJ(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=EJ(t));return n},PJ.add=function(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return wJ(this.cover(t,n),t,n,e)},PJ.addAll=function(e){var t,n,r,i,a=e.length,s=new Array(a),o=new Array(a),l=1/0,c=1/0,u=-1/0,d=-1/0;for(n=0;n<a;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(s[n]=r,o[n]=i,r<l&&(l=r),r>u&&(u=r),i<c&&(c=i),i>d&&(d=i));if(l>u||c>d)return this;for(this.cover(l,c).cover(u,d),n=0;n<a;++n)wJ(this,s[n],o[n],e[n]);return this},PJ.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,a=(r=Math.floor(t))+1;else{for(var s,o,l=i-n||1,c=this._root;n>e||e>=i||r>t||t>=a;)switch(o=(t<r)<<1|e<n,(s=new Array(4))[o]=c,c=s,l*=2,o){case 0:i=n+l,a=r+l;break;case 1:n=i-l,a=r+l;break;case 2:i=n+l,r=a-l;break;case 3:n=i-l,r=a-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this},PJ.data=function(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e},PJ.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},PJ.find=function(e,t,n){var r,i,a,s,o,l,c,u=this._x0,d=this._y0,h=this._x1,f=this._y1,m=[],p=this._root;for(p&&m.push(new jJ(p,u,d,h,f)),null==n?n=1/0:(u=e-n,d=t-n,h=e+n,f=t+n,n*=n);l=m.pop();)if(!(!(p=l.node)||(i=l.x0)>h||(a=l.y0)>f||(s=l.x1)<u||(o=l.y1)<d))if(p.length){var g=(i+s)/2,x=(a+o)/2;m.push(new jJ(p[3],g,x,s,o),new jJ(p[2],i,x,g,o),new jJ(p[1],g,a,s,x),new jJ(p[0],i,a,g,x)),(c=(t>=x)<<1|e>=g)&&(l=m[m.length-1],m[m.length-1]=m[m.length-1-c],m[m.length-1-c]=l)}else{var y=e-+this._x.call(null,p.data),v=t-+this._y.call(null,p.data),b=y*y+v*v;if(b<n){var _=Math.sqrt(n=b);u=e-_,d=t-_,h=e+_,f=t+_,r=p.data}}return r},PJ.remove=function(e){if(isNaN(a=+this._x.call(null,e))||isNaN(s=+this._y.call(null,e)))return this;var t,n,r,i,a,s,o,l,c,u,d,h,f=this._root,m=this._x0,p=this._y0,g=this._x1,x=this._y1;if(!f)return this;if(f.length)for(;;){if((c=a>=(o=(m+g)/2))?m=o:g=o,(u=s>=(l=(p+x)/2))?p=l:x=l,t=f,!(f=f[d=u<<1|c]))return this;if(!f.length)break;(t[d+1&3]||t[d+2&3]||t[d+3&3])&&(n=t,h=d)}for(;f.data!==e;)if(r=f,!(f=f.next))return this;return(i=f.next)&&delete f.next,r?(i?r.next=i:delete r.next,this):t?(i?t[d]=i:delete t[d],(f=t[0]||t[1]||t[2]||t[3])&&f===(t[3]||t[2]||t[1]||t[0])&&!f.length&&(n?n[h]=f:this._root=f),this):(this._root=i,this)},PJ.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},PJ.root=function(){return this._root},PJ.size=function(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e},PJ.visit=function(e){var t,n,r,i,a,s,o=[],l=this._root;for(l&&o.push(new jJ(l,this._x0,this._y0,this._x1,this._y1));t=o.pop();)if(!e(l=t.node,r=t.x0,i=t.y0,a=t.x1,s=t.y1)&&l.length){var c=(r+a)/2,u=(i+s)/2;(n=l[3])&&o.push(new jJ(n,c,u,a,s)),(n=l[2])&&o.push(new jJ(n,r,u,c,s)),(n=l[1])&&o.push(new jJ(n,c,i,a,u)),(n=l[0])&&o.push(new jJ(n,r,i,c,u))}return this},PJ.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new jJ(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var a,s=t.x0,o=t.y0,l=t.x1,c=t.y1,u=(s+l)/2,d=(o+c)/2;(a=i[0])&&n.push(new jJ(a,s,o,u,d)),(a=i[1])&&n.push(new jJ(a,u,o,l,d)),(a=i[2])&&n.push(new jJ(a,s,d,u,c)),(a=i[3])&&n.push(new jJ(a,u,d,l,c))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},PJ.x=function(e){return arguments.length?(this._x=e,this):this._x},PJ.y=function(e){return arguments.length?(this._y=e,this):this._y};const IJ=4294967296;function LJ(e){return e.x}function zJ(e){return e.y}var FJ=Math.PI*(3-Math.sqrt(5)),BJ=1e-6,WJ=1e-12,$J=Math.PI,VJ=$J/2,KJ=$J/4,HJ=2*$J,UJ=180/$J,YJ=$J/180,qJ=Math.abs,GJ=Math.atan,XJ=Math.atan2,QJ=Math.cos,ZJ=Math.ceil,JJ=Math.exp,e0=Math.hypot,t0=Math.log,n0=Math.pow,r0=Math.sin,i0=Math.sign||function(e){return e>0?1:e<0?-1:0},a0=Math.sqrt,s0=Math.tan;function o0(e){return e>1?0:e<-1?$J:Math.acos(e)}function l0(e){return e>1?VJ:e<-1?-VJ:Math.asin(e)}function c0(e){return(e=r0(e/2))*e}function u0(){}function d0(e,t){e&&f0.hasOwnProperty(e.type)&&f0[e.type](e,t)}var h0={Feature:function(e,t){d0(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)d0(n[r].geometry,t)}},f0={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){m0(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)m0(n[r],t,0)},Polygon:function(e,t){p0(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)p0(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)d0(n[r],t)}};function m0(e,t,n){var r,i=-1,a=e.length-n;for(t.lineStart();++i<a;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function p0(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)m0(e[n],t,1);t.polygonEnd()}function g0(e,t){e&&h0.hasOwnProperty(e.type)?h0[e.type](e,t):d0(e,t)}var x0,y0,v0,b0,_0,w0,j0,N0,k0,S0,C0,E0,P0,M0,O0,A0,T0=new Kk,D0=new Kk,R0={point:u0,lineStart:u0,lineEnd:u0,polygonStart:function(){T0=new Kk,R0.lineStart=I0,R0.lineEnd=L0},polygonEnd:function(){var e=+T0;D0.add(e<0?HJ+e:e),this.lineStart=this.lineEnd=this.point=u0},sphere:function(){D0.add(HJ)}};function I0(){R0.point=z0}function L0(){F0(x0,y0)}function z0(e,t){R0.point=F0,x0=e,y0=t,v0=e*=YJ,b0=QJ(t=(t*=YJ)/2+KJ),_0=r0(t)}function F0(e,t){var n=(e*=YJ)-v0,r=n>=0?1:-1,i=r*n,a=QJ(t=(t*=YJ)/2+KJ),s=r0(t),o=_0*s,l=b0*a+o*QJ(i),c=o*r*r0(i);T0.add(XJ(c,l)),v0=e,b0=a,_0=s}function B0(e){return[XJ(e[1],e[0]),l0(e[2])]}function W0(e){var t=e[0],n=e[1],r=QJ(n);return[r*QJ(t),r*r0(t),r0(n)]}function $0(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function V0(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function K0(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function H0(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function U0(e){var t=a0(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var Y0,q0,G0,X0,Q0,Z0,J0,e1,t1,n1,r1,i1,a1,s1,o1,l1,c1={point:u1,lineStart:h1,lineEnd:f1,polygonStart:function(){c1.point=m1,c1.lineStart=p1,c1.lineEnd=g1,M0=new Kk,R0.polygonStart()},polygonEnd:function(){R0.polygonEnd(),c1.point=u1,c1.lineStart=h1,c1.lineEnd=f1,T0<0?(w0=-(N0=180),j0=-(k0=90)):M0>BJ?k0=90:M0<-BJ&&(j0=-90),A0[0]=w0,A0[1]=N0},sphere:function(){w0=-(N0=180),j0=-(k0=90)}};function u1(e,t){O0.push(A0=[w0=e,N0=e]),t<j0&&(j0=t),t>k0&&(k0=t)}function d1(e,t){var n=W0([e*YJ,t*YJ]);if(P0){var r=V0(P0,n),i=V0([r[1],-r[0],0],r);U0(i),i=B0(i);var a,s=e-S0,o=s>0?1:-1,l=i[0]*UJ*o,c=qJ(s)>180;c^(o*S0<l&&l<o*e)?(a=i[1]*UJ)>k0&&(k0=a):c^(o*S0<(l=(l+360)%360-180)&&l<o*e)?(a=-i[1]*UJ)<j0&&(j0=a):(t<j0&&(j0=t),t>k0&&(k0=t)),c?e<S0?x1(w0,e)>x1(w0,N0)&&(N0=e):x1(e,N0)>x1(w0,N0)&&(w0=e):N0>=w0?(e<w0&&(w0=e),e>N0&&(N0=e)):e>S0?x1(w0,e)>x1(w0,N0)&&(N0=e):x1(e,N0)>x1(w0,N0)&&(w0=e)}else O0.push(A0=[w0=e,N0=e]);t<j0&&(j0=t),t>k0&&(k0=t),P0=n,S0=e}function h1(){c1.point=d1}function f1(){A0[0]=w0,A0[1]=N0,c1.point=u1,P0=null}function m1(e,t){if(P0){var n=e-S0;M0.add(qJ(n)>180?n+(n>0?360:-360):n)}else C0=e,E0=t;R0.point(e,t),d1(e,t)}function p1(){R0.lineStart()}function g1(){m1(C0,E0),R0.lineEnd(),qJ(M0)>BJ&&(w0=-(N0=180)),A0[0]=w0,A0[1]=N0,P0=null}function x1(e,t){return(t-=e)<0?t+360:t}function y1(e,t){return e[0]-t[0]}function v1(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var b1={sphere:u0,point:_1,lineStart:j1,lineEnd:S1,polygonStart:function(){b1.lineStart=C1,b1.lineEnd=E1},polygonEnd:function(){b1.lineStart=j1,b1.lineEnd=S1}};function _1(e,t){e*=YJ;var n=QJ(t*=YJ);w1(n*QJ(e),n*r0(e),r0(t))}function w1(e,t,n){++Y0,G0+=(e-G0)/Y0,X0+=(t-X0)/Y0,Q0+=(n-Q0)/Y0}function j1(){b1.point=N1}function N1(e,t){e*=YJ;var n=QJ(t*=YJ);s1=n*QJ(e),o1=n*r0(e),l1=r0(t),b1.point=k1,w1(s1,o1,l1)}function k1(e,t){e*=YJ;var n=QJ(t*=YJ),r=n*QJ(e),i=n*r0(e),a=r0(t),s=XJ(a0((s=o1*a-l1*i)*s+(s=l1*r-s1*a)*s+(s=s1*i-o1*r)*s),s1*r+o1*i+l1*a);q0+=s,Z0+=s*(s1+(s1=r)),J0+=s*(o1+(o1=i)),e1+=s*(l1+(l1=a)),w1(s1,o1,l1)}function S1(){b1.point=_1}function C1(){b1.point=P1}function E1(){M1(i1,a1),b1.point=_1}function P1(e,t){i1=e,a1=t,e*=YJ,t*=YJ,b1.point=M1;var n=QJ(t);s1=n*QJ(e),o1=n*r0(e),l1=r0(t),w1(s1,o1,l1)}function M1(e,t){e*=YJ;var n=QJ(t*=YJ),r=n*QJ(e),i=n*r0(e),a=r0(t),s=o1*a-l1*i,o=l1*r-s1*a,l=s1*i-o1*r,c=e0(s,o,l),u=l0(c),d=c&&-u/c;t1.add(d*s),n1.add(d*o),r1.add(d*l),q0+=u,Z0+=u*(s1+(s1=r)),J0+=u*(o1+(o1=i)),e1+=u*(l1+(l1=a)),w1(s1,o1,l1)}function O1(e){return function(){return e}}function A1(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}function T1(e,t){return qJ(e)>$J&&(e-=Math.round(e/HJ)*HJ),[e,t]}function D1(e,t,n){return(e%=HJ)?t||n?A1(I1(e),L1(t,n)):I1(e):t||n?L1(t,n):T1}function R1(e){return function(t,n){return qJ(t+=e)>$J&&(t-=Math.round(t/HJ)*HJ),[t,n]}}function I1(e){var t=R1(e);return t.invert=R1(-e),t}function L1(e,t){var n=QJ(e),r=r0(e),i=QJ(t),a=r0(t);function s(e,t){var s=QJ(t),o=QJ(e)*s,l=r0(e)*s,c=r0(t),u=c*n+o*r;return[XJ(l*i-u*a,o*n-c*r),l0(u*i+l*a)]}return s.invert=function(e,t){var s=QJ(t),o=QJ(e)*s,l=r0(e)*s,c=r0(t),u=c*i-l*a;return[XJ(l*i+c*a,o*n+u*r),l0(u*n-o*r)]},s}function z1(e){function t(t){return(t=e(t[0]*YJ,t[1]*YJ))[0]*=UJ,t[1]*=UJ,t}return e=D1(e[0]*YJ,e[1]*YJ,e.length>2?e[2]*YJ:0),t.invert=function(t){return(t=e.invert(t[0]*YJ,t[1]*YJ))[0]*=UJ,t[1]*=UJ,t},t}function F1(e,t,n,r,i,a){if(n){var s=QJ(t),o=r0(t),l=r*n;null==i?(i=t+r*HJ,a=t-l/2):(i=B1(s,i),a=B1(s,a),(r>0?i<a:i>a)&&(i+=r*HJ));for(var c,u=i;r>0?u>a:u<a;u-=l)c=B0([s,-o*QJ(u),-o*r0(u)]),e.point(c[0],c[1])}}function B1(e,t){(t=W0(t))[0]-=e,U0(t);var n=o0(-t[1]);return((-t[2]<0?-n:n)+HJ-BJ)%HJ}function W1(){var e,t=[];return{point:function(t,n,r){e.push([t,n,r])},lineStart:function(){t.push(e=[])},lineEnd:u0,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function $1(e,t){return qJ(e[0]-t[0])<BJ&&qJ(e[1]-t[1])<BJ}function V1(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function K1(e,t,n,r,i){var a,s,o=[],l=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],s=e[t];if($1(r,s)){if(!r[2]&&!s[2]){for(i.lineStart(),a=0;a<t;++a)i.point((r=e[a])[0],r[1]);return void i.lineEnd()}s[0]+=2e-6}o.push(n=new V1(r,e,null,!0)),l.push(n.o=new V1(r,null,n,!1)),o.push(n=new V1(s,e,null,!1)),l.push(n.o=new V1(s,null,n,!0))}}),o.length){for(l.sort(t),H1(o),H1(l),a=0,s=l.length;a<s;++a)l[a].e=n=!n;for(var c,u,d=o[0];;){for(var h=d,f=!0;h.v;)if((h=h.n)===d)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(f)for(a=0,s=c.length;a<s;++a)i.point((u=c[a])[0],u[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(f)for(c=h.p.z,a=c.length-1;a>=0;--a)i.point((u=c[a])[0],u[1]);else r(h.x,h.p.x,-1,i);h=h.p}c=(h=h.o).z,f=!f}while(!h.v);i.lineEnd()}}}function H1(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function U1(e){return qJ(e[0])<=$J?e[0]:i0(e[0])*((qJ(e[0])+$J)%HJ-$J)}function Y1(e,t){var n=U1(t),r=t[1],i=r0(r),a=[r0(n),-QJ(n),0],s=0,o=0,l=new Kk;1===i?r=VJ+BJ:-1===i&&(r=-VJ-BJ);for(var c=0,u=e.length;c<u;++c)if(h=(d=e[c]).length)for(var d,h,f=d[h-1],m=U1(f),p=f[1]/2+KJ,g=r0(p),x=QJ(p),y=0;y<h;++y,m=b,g=w,x=j,f=v){var v=d[y],b=U1(v),_=v[1]/2+KJ,w=r0(_),j=QJ(_),N=b-m,k=N>=0?1:-1,S=k*N,C=S>$J,E=g*w;if(l.add(XJ(E*k*r0(S),x*j+E*QJ(S))),s+=C?N+k*HJ:N,C^m>=n^b>=n){var P=V0(W0(f),W0(v));U0(P);var M=V0(a,P);U0(M);var O=(C^N>=0?-1:1)*l0(M[2]);(r>O||r===O&&(P[0]||P[1]))&&(o+=C^N>=0?1:-1)}}return(s<-BJ||s<BJ&&l<-1e-12)^1&o}function q1(e,t,n,r){return function(i){var a,s,o,l=t(i),c=W1(),u=t(c),d=!1,h={point:f,lineStart:p,lineEnd:g,polygonStart:function(){h.point=x,h.lineStart=y,h.lineEnd=v,s=[],a=[]},polygonEnd:function(){h.point=f,h.lineStart=p,h.lineEnd=g,s=OS(s);var e=Y1(a,r);s.length?(d||(i.polygonStart(),d=!0),K1(s,X1,e,n,i)):e&&(d||(i.polygonStart(),d=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),d&&(i.polygonEnd(),d=!1),s=a=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function f(t,n){e(t,n)&&i.point(t,n)}function m(e,t){l.point(e,t)}function p(){h.point=m,l.lineStart()}function g(){h.point=f,l.lineEnd()}function x(e,t){o.push([e,t]),u.point(e,t)}function y(){u.lineStart(),o=[]}function v(){x(o[0][0],o[0][1]),u.lineEnd();var e,t,n,r,l=u.clean(),h=c.result(),f=h.length;if(o.pop(),a.push(o),o=null,f)if(1&l){if((t=(n=h[0]).length-1)>0){for(d||(i.polygonStart(),d=!0),i.lineStart(),e=0;e<t;++e)i.point((r=n[e])[0],r[1]);i.lineEnd()}}else f>1&&2&l&&h.push(h.pop().concat(h.shift())),s.push(h.filter(G1))}return h}}function G1(e){return e.length>1}function X1(e,t){return((e=e.x)[0]<0?e[1]-VJ-BJ:VJ-e[1])-((t=t.x)[0]<0?t[1]-VJ-BJ:VJ-t[1])}T1.invert=T1;const Q1=q1(function(){return!0},function(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(a,s){var o=a>0?$J:-$J,l=qJ(a-n);qJ(l-$J)<BJ?(e.point(n,r=(r+s)/2>0?VJ:-VJ),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(o,r),e.point(a,r),t=0):i!==o&&l>=$J&&(qJ(n-i)<BJ&&(n-=i*BJ),qJ(a-o)<BJ&&(a-=o*BJ),r=function(e,t,n,r){var i,a,s=r0(e-n);return qJ(s)>BJ?GJ((r0(t)*(a=QJ(r))*r0(n)-r0(r)*(i=QJ(t))*r0(e))/(i*a*s)):(t+r)/2}(n,r,a,s),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(o,r),t=0),e.point(n=a,r=s),i=o},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}},function(e,t,n,r){var i;if(null==e)i=n*VJ,r.point(-$J,i),r.point(0,i),r.point($J,i),r.point($J,0),r.point($J,-i),r.point(0,-i),r.point(-$J,-i),r.point(-$J,0),r.point(-$J,i);else if(qJ(e[0]-t[0])>BJ){var a=e[0]<t[0]?$J:-$J;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])},[-$J,-VJ]);function Z1(e){var t=QJ(e),n=2*YJ,r=t>0,i=qJ(t)>BJ;function a(e,n){return QJ(e)*QJ(n)>t}function s(e,n,r){var i=[1,0,0],a=V0(W0(e),W0(n)),s=$0(a,a),o=a[0],l=s-o*o;if(!l)return!r&&e;var c=t*s/l,u=-t*o/l,d=V0(i,a),h=H0(i,c);K0(h,H0(a,u));var f=d,m=$0(h,f),p=$0(f,f),g=m*m-p*($0(h,h)-1);if(!(g<0)){var x=a0(g),y=H0(f,(-m-x)/p);if(K0(y,h),y=B0(y),!r)return y;var v,b=e[0],_=n[0],w=e[1],j=n[1];_<b&&(v=b,b=_,_=v);var N=_-b,k=qJ(N-$J)<BJ;if(!k&&j<w&&(v=w,w=j,j=v),k||N<BJ?k?w+j>0^y[1]<(qJ(y[0]-b)<BJ?w:j):w<=y[1]&&y[1]<=j:N>$J^(b<=y[0]&&y[0]<=_)){var S=H0(f,(-m+x)/p);return K0(S,h),[y,B0(S)]}}}function o(t,n){var i=r?e:$J-e,a=0;return t<-i?a|=1:t>i&&(a|=2),n<-i?a|=4:n>i&&(a|=8),a}return q1(a,function(e){var t,n,l,c,u;return{lineStart:function(){c=l=!1,u=1},point:function(d,h){var f,m=[d,h],p=a(d,h),g=r?p?0:o(d,h):p?o(d+(d<0?$J:-$J),h):0;if(!t&&(c=l=p)&&e.lineStart(),p!==l&&(!(f=s(t,m))||$1(t,f)||$1(m,f))&&(m[2]=1),p!==l)u=0,p?(e.lineStart(),f=s(m,t),e.point(f[0],f[1])):(f=s(t,m),e.point(f[0],f[1],2),e.lineEnd()),t=f;else if(i&&t&&r^p){var x;g&n||!(x=s(m,t,!0))||(u=0,r?(e.lineStart(),e.point(x[0][0],x[0][1]),e.point(x[1][0],x[1][1]),e.lineEnd()):(e.point(x[1][0],x[1][1]),e.lineEnd(),e.lineStart(),e.point(x[0][0],x[0][1],3)))}!p||t&&$1(t,m)||e.point(m[0],m[1]),t=m,l=p,n=g},lineEnd:function(){l&&e.lineEnd(),t=null},clean:function(){return u|(c&&l)<<1}}},function(t,r,i,a){F1(a,e,n,i,t,r)},r?[0,-e]:[-$J,e-$J])}var J1,e2,t2,n2,r2=1e9,i2=-r2;function a2(e,t,n,r){function i(i,a){return e<=i&&i<=n&&t<=a&&a<=r}function a(i,a,o,c){var u=0,d=0;if(null==i||(u=s(i,o))!==(d=s(a,o))||l(i,a)<0^o>0)do{c.point(0===u||3===u?e:n,u>1?r:t)}while((u=(u+o+4)%4)!==d);else c.point(a[0],a[1])}function s(r,i){return qJ(r[0]-e)<BJ?i>0?0:3:qJ(r[0]-n)<BJ?i>0?2:1:qJ(r[1]-t)<BJ?i>0?1:0:i>0?3:2}function o(e,t){return l(e.x,t.x)}function l(e,t){var n=s(e,1),r=s(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(s){var l,c,u,d,h,f,m,p,g,x,y,v=s,b=W1(),_={point:w,lineStart:function(){_.point=j,c&&c.push(u=[]),x=!0,g=!1,m=p=NaN},lineEnd:function(){l&&(j(d,h),f&&g&&b.rejoin(),l.push(b.result())),_.point=w,g&&v.lineEnd()},polygonStart:function(){v=b,l=[],c=[],y=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,i=c.length;n<i;++n)for(var a,s,o=c[n],l=1,u=o.length,d=o[0],h=d[0],f=d[1];l<u;++l)a=h,s=f,h=(d=o[l])[0],f=d[1],s<=r?f>r&&(h-a)*(r-s)>(f-s)*(e-a)&&++t:f<=r&&(h-a)*(r-s)<(f-s)*(e-a)&&--t;return t}(),n=y&&t,i=(l=OS(l)).length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),a(null,null,1,s),s.lineEnd()),i&&K1(l,o,t,a,s),s.polygonEnd()),v=s,l=c=u=null}};function w(e,t){i(e,t)&&v.point(e,t)}function j(a,s){var o=i(a,s);if(c&&u.push([a,s]),x)d=a,h=s,f=o,x=!1,o&&(v.lineStart(),v.point(a,s));else if(o&&g)v.point(a,s);else{var l=[m=Math.max(i2,Math.min(r2,m)),p=Math.max(i2,Math.min(r2,p))],b=[a=Math.max(i2,Math.min(r2,a)),s=Math.max(i2,Math.min(r2,s))];!function(e,t,n,r,i,a){var s,o=e[0],l=e[1],c=0,u=1,d=t[0]-o,h=t[1]-l;if(s=n-o,d||!(s>0)){if(s/=d,d<0){if(s<c)return;s<u&&(u=s)}else if(d>0){if(s>u)return;s>c&&(c=s)}if(s=i-o,d||!(s<0)){if(s/=d,d<0){if(s>u)return;s>c&&(c=s)}else if(d>0){if(s<c)return;s<u&&(u=s)}if(s=r-l,h||!(s>0)){if(s/=h,h<0){if(s<c)return;s<u&&(u=s)}else if(h>0){if(s>u)return;s>c&&(c=s)}if(s=a-l,h||!(s<0)){if(s/=h,h<0){if(s>u)return;s>c&&(c=s)}else if(h>0){if(s<c)return;s<u&&(u=s)}return c>0&&(e[0]=o+c*d,e[1]=l+c*h),u<1&&(t[0]=o+u*d,t[1]=l+u*h),!0}}}}}(l,b,e,t,n,r)?o&&(v.lineStart(),v.point(a,s),y=!1):(g||(v.lineStart(),v.point(l[0],l[1])),v.point(b[0],b[1]),o||v.lineEnd(),y=!1)}m=a,p=s,g=o}return _}}var s2={sphere:u0,point:u0,lineStart:function(){s2.point=l2,s2.lineEnd=o2},lineEnd:u0,polygonStart:u0,polygonEnd:u0};function o2(){s2.point=s2.lineEnd=u0}function l2(e,t){e2=e*=YJ,t2=r0(t*=YJ),n2=QJ(t),s2.point=c2}function c2(e,t){e*=YJ;var n=r0(t*=YJ),r=QJ(t),i=qJ(e-e2),a=QJ(i),s=r*r0(i),o=n2*n-t2*r*a,l=t2*n+n2*r*a;J1.add(XJ(a0(s*s+o*o),l)),e2=e,t2=n,n2=r}function u2(e){return J1=new Kk,g0(e,s2),+J1}var d2=[null,null],h2={type:"LineString",coordinates:d2};function f2(e,t){return d2[0]=e,d2[1]=t,u2(h2)}var m2={Feature:function(e,t){return g2(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)if(g2(n[r].geometry,t))return!0;return!1}},p2={Sphere:function(){return!0},Point:function(e,t){return x2(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(x2(n[r],t))return!0;return!1},LineString:function(e,t){return y2(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(y2(n[r],t))return!0;return!1},Polygon:function(e,t){return v2(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(v2(n[r],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)if(g2(n[r],t))return!0;return!1}};function g2(e,t){return!(!e||!p2.hasOwnProperty(e.type))&&p2[e.type](e,t)}function x2(e,t){return 0===f2(e,t)}function y2(e,t){for(var n,r,i,a=0,s=e.length;a<s;a++){if(0===(r=f2(e[a],t)))return!0;if(a>0&&(i=f2(e[a],e[a-1]))>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<WJ*i)return!0;n=r}return!1}function v2(e,t){return!!Y1(e.map(b2),_2(t))}function b2(e){return(e=e.map(_2)).pop(),e}function _2(e){return[e[0]*YJ,e[1]*YJ]}function w2(e,t,n){var r=TS(e,t-BJ,n).concat(t);return function(e){return r.map(function(t){return[e,t]})}}function j2(e,t,n){var r=TS(e,t-BJ,n).concat(t);return function(e){return r.map(function(t){return[t,e]})}}function N2(){var e,t,n,r,i,a,s,o,l,c,u,d,h=10,f=h,m=90,p=360,g=2.5;function x(){return{type:"MultiLineString",coordinates:y()}}function y(){return TS(ZJ(r/m)*m,n,m).map(u).concat(TS(ZJ(o/p)*p,s,p).map(d)).concat(TS(ZJ(t/h)*h,e,h).filter(function(e){return qJ(e%m)>BJ}).map(l)).concat(TS(ZJ(a/f)*f,i,f).filter(function(e){return qJ(e%p)>BJ}).map(c))}return x.lines=function(){return y().map(function(e){return{type:"LineString",coordinates:e}})},x.outline=function(){return{type:"Polygon",coordinates:[u(r).concat(d(s).slice(1),u(n).reverse().slice(1),d(o).reverse().slice(1))]}},x.extent=function(e){return arguments.length?x.extentMajor(e).extentMinor(e):x.extentMinor()},x.extentMajor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],o=+e[0][1],s=+e[1][1],r>n&&(e=r,r=n,n=e),o>s&&(e=o,o=s,s=e),x.precision(g)):[[r,o],[n,s]]},x.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],a=+n[0][1],i=+n[1][1],t>e&&(n=t,t=e,e=n),a>i&&(n=a,a=i,i=n),x.precision(g)):[[t,a],[e,i]]},x.step=function(e){return arguments.length?x.stepMajor(e).stepMinor(e):x.stepMinor()},x.stepMajor=function(e){return arguments.length?(m=+e[0],p=+e[1],x):[m,p]},x.stepMinor=function(e){return arguments.length?(h=+e[0],f=+e[1],x):[h,f]},x.precision=function(h){return arguments.length?(g=+h,l=w2(a,i,90),c=j2(t,e,g),u=w2(o,s,90),d=j2(r,n,g),x):g},x.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}const k2=e=>e;var S2,C2,E2,P2,M2=new Kk,O2=new Kk,A2={point:u0,lineStart:u0,lineEnd:u0,polygonStart:function(){A2.lineStart=T2,A2.lineEnd=I2},polygonEnd:function(){A2.lineStart=A2.lineEnd=A2.point=u0,M2.add(qJ(O2)),O2=new Kk},result:function(){var e=M2/2;return M2=new Kk,e}};function T2(){A2.point=D2}function D2(e,t){A2.point=R2,S2=E2=e,C2=P2=t}function R2(e,t){O2.add(P2*e-E2*t),E2=e,P2=t}function I2(){R2(S2,C2)}var L2,z2,F2,B2,W2=1/0,$2=W2,V2=-W2,K2=V2,H2={point:function(e,t){e<W2&&(W2=e),e>V2&&(V2=e),t<$2&&($2=t),t>K2&&(K2=t)},lineStart:u0,lineEnd:u0,polygonStart:u0,polygonEnd:u0,result:function(){var e=[[W2,$2],[V2,K2]];return V2=K2=-($2=W2=1/0),e}},U2=0,Y2=0,q2=0,G2=0,X2=0,Q2=0,Z2=0,J2=0,e4=0,t4={point:n4,lineStart:r4,lineEnd:s4,polygonStart:function(){t4.lineStart=o4,t4.lineEnd=l4},polygonEnd:function(){t4.point=n4,t4.lineStart=r4,t4.lineEnd=s4},result:function(){var e=e4?[Z2/e4,J2/e4]:Q2?[G2/Q2,X2/Q2]:q2?[U2/q2,Y2/q2]:[NaN,NaN];return U2=Y2=q2=G2=X2=Q2=Z2=J2=e4=0,e}};function n4(e,t){U2+=e,Y2+=t,++q2}function r4(){t4.point=i4}function i4(e,t){t4.point=a4,n4(F2=e,B2=t)}function a4(e,t){var n=e-F2,r=t-B2,i=a0(n*n+r*r);G2+=i*(F2+e)/2,X2+=i*(B2+t)/2,Q2+=i,n4(F2=e,B2=t)}function s4(){t4.point=n4}function o4(){t4.point=c4}function l4(){u4(L2,z2)}function c4(e,t){t4.point=u4,n4(L2=F2=e,z2=B2=t)}function u4(e,t){var n=e-F2,r=t-B2,i=a0(n*n+r*r);G2+=i*(F2+e)/2,X2+=i*(B2+t)/2,Q2+=i,Z2+=(i=B2*e-F2*t)*(F2+e),J2+=i*(B2+t),e4+=3*i,n4(F2=e,B2=t)}function d4(e){this._context=e}d4.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,HJ)}},result:u0};var h4,f4,m4,p4,g4,x4=new Kk,y4={point:u0,lineStart:function(){y4.point=v4},lineEnd:function(){h4&&b4(f4,m4),y4.point=u0},polygonStart:function(){h4=!0},polygonEnd:function(){h4=null},result:function(){var e=+x4;return x4=new Kk,e}};function v4(e,t){y4.point=b4,f4=p4=e,m4=g4=t}function b4(e,t){p4-=e,g4-=t,x4.add(a0(p4*p4+g4*g4)),p4=e,g4=t}let _4,w4,j4,N4;class k4{constructor(e){this._append=null==e?S4:function(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return S4;if(t!==_4){const e=u(10,t);_4=t,w4=function(t){let n=1;this._+=t[0];for(const r=t.length;n<r;++n)this._+=Math.round(arguments[n]*e)/e+t[n]}}return w4}(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(e,t){switch(this._point){case 0:this._append`M${e},${t}`,this._point=1;break;case 1:this._append`L${e},${t}`;break;default:if(this._append`M${e},${t}`,this._radius!==j4||this._append!==w4){const e=this._radius,t=this._;this._="",this._append`m0,${e}a${e},${e} 0 1,1 0,${-2*e}a${e},${e} 0 1,1 0,${2*e}z`,j4=e,w4=this._append,N4=this._,this._=t}this._+=N4}}result(){const e=this._;return this._="",e.length?e:null}}function S4(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function C4(e){return function(t){var n=new E4;for(var r in e)n[r]=e[r];return n.stream=t,n}}function E4(){}function P4(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),g0(n,e.stream(H2)),t(H2.result()),null!=r&&e.clipExtent(r),e}function M4(e,t,n){return P4(e,function(n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],a=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),s=+t[0][0]+(r-a*(n[1][0]+n[0][0]))/2,o=+t[0][1]+(i-a*(n[1][1]+n[0][1]))/2;e.scale(150*a).translate([s,o])},n)}function O4(e,t,n){return M4(e,[[0,0],t],n)}function A4(e,t,n){return P4(e,function(n){var r=+t,i=r/(n[1][0]-n[0][0]),a=(r-i*(n[1][0]+n[0][0]))/2,s=-i*n[0][1];e.scale(150*i).translate([a,s])},n)}function T4(e,t,n){return P4(e,function(n){var r=+t,i=r/(n[1][1]-n[0][1]),a=-i*n[0][0],s=(r-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([a,s])},n)}E4.prototype={constructor:E4,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var D4=QJ(30*YJ);function R4(e,t){return+t?function(e,t){function n(r,i,a,s,o,l,c,u,d,h,f,m,p,g){var x=c-r,y=u-i,v=x*x+y*y;if(v>4*t&&p--){var b=s+h,_=o+f,w=l+m,j=a0(b*b+_*_+w*w),N=l0(w/=j),k=qJ(qJ(w)-1)<BJ||qJ(a-d)<BJ?(a+d)/2:XJ(_,b),S=e(k,N),C=S[0],E=S[1],P=C-r,M=E-i,O=y*P-x*M;(O*O/v>t||qJ((x*P+y*M)/v-.5)>.3||s*h+o*f+l*m<D4)&&(n(r,i,a,s,o,l,C,E,k,b/=j,_/=j,w,p,g),g.point(C,E),n(C,E,k,b,_,w,c,u,d,h,f,m,p,g))}}return function(t){var r,i,a,s,o,l,c,u,d,h,f,m,p={point:g,lineStart:x,lineEnd:v,polygonStart:function(){t.polygonStart(),p.lineStart=b},polygonEnd:function(){t.polygonEnd(),p.lineStart=x}};function g(n,r){n=e(n,r),t.point(n[0],n[1])}function x(){u=NaN,p.point=y,t.lineStart()}function y(r,i){var a=W0([r,i]),s=e(r,i);n(u,d,c,h,f,m,u=s[0],d=s[1],c=r,h=a[0],f=a[1],m=a[2],16,t),t.point(u,d)}function v(){p.point=g,t.lineEnd()}function b(){x(),p.point=_,p.lineEnd=w}function _(e,t){y(r=e,t),i=u,a=d,s=h,o=f,l=m,p.point=y}function w(){n(u,d,c,h,f,m,i,a,r,s,o,l,16,t),p.lineEnd=v,v()}return p}}(e,t):function(e){return C4({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)}var I4=C4({point:function(e,t){this.stream.point(e*YJ,t*YJ)}});function L4(e,t,n,r,i,a){if(!a)return function(e,t,n,r,i){function a(a,s){return[t+e*(a*=r),n-e*(s*=i)]}return a.invert=function(a,s){return[(a-t)/e*r,(n-s)/e*i]},a}(e,t,n,r,i);var s=QJ(a),o=r0(a),l=s*e,c=o*e,u=s/e,d=o/e,h=(o*n-s*t)/e,f=(o*t+s*n)/e;function m(e,a){return[l*(e*=r)-c*(a*=i)+t,n-c*e-l*a]}return m.invert=function(e,t){return[r*(u*e-d*t+h),i*(f-d*e-u*t)]},m}function z4(e){return F4(function(){return e})()}function F4(e){var t,n,r,i,a,s,o,l,c,u,d=150,h=480,f=250,m=0,p=0,g=0,x=0,y=0,v=0,b=1,_=1,w=null,j=Q1,N=null,k=k2,S=.5;function C(e){return l(e[0]*YJ,e[1]*YJ)}function E(e){return(e=l.invert(e[0],e[1]))&&[e[0]*UJ,e[1]*UJ]}function P(){var e=L4(d,0,0,b,_,v).apply(null,t(m,p)),r=L4(d,h-e[0],f-e[1],b,_,v);return n=D1(g,x,y),o=A1(t,r),l=A1(n,o),s=R4(o,S),M()}function M(){return c=u=null,C}return C.stream=function(e){return c&&u===e?c:c=I4(function(e){return C4({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}(n)(j(s(k(u=e)))))},C.preclip=function(e){return arguments.length?(j=e,w=void 0,M()):j},C.postclip=function(e){return arguments.length?(k=e,N=r=i=a=null,M()):k},C.clipAngle=function(e){return arguments.length?(j=+e?Z1(w=e*YJ):(w=null,Q1),M()):w*UJ},C.clipExtent=function(e){return arguments.length?(k=null==e?(N=r=i=a=null,k2):a2(N=+e[0][0],r=+e[0][1],i=+e[1][0],a=+e[1][1]),M()):null==N?null:[[N,r],[i,a]]},C.scale=function(e){return arguments.length?(d=+e,P()):d},C.translate=function(e){return arguments.length?(h=+e[0],f=+e[1],P()):[h,f]},C.center=function(e){return arguments.length?(m=e[0]%360*YJ,p=e[1]%360*YJ,P()):[m*UJ,p*UJ]},C.rotate=function(e){return arguments.length?(g=e[0]%360*YJ,x=e[1]%360*YJ,y=e.length>2?e[2]%360*YJ:0,P()):[g*UJ,x*UJ,y*UJ]},C.angle=function(e){return arguments.length?(v=e%360*YJ,P()):v*UJ},C.reflectX=function(e){return arguments.length?(b=e?-1:1,P()):b<0},C.reflectY=function(e){return arguments.length?(_=e?-1:1,P()):_<0},C.precision=function(e){return arguments.length?(s=R4(o,S=e*e),M()):a0(S)},C.fitExtent=function(e,t){return M4(C,e,t)},C.fitSize=function(e,t){return O4(C,e,t)},C.fitWidth=function(e,t){return A4(C,e,t)},C.fitHeight=function(e,t){return T4(C,e,t)},function(){return t=e.apply(this,arguments),C.invert=t.invert&&E,P()}}function B4(e){var t=0,n=$J/3,r=F4(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*YJ,n=e[1]*YJ):[t*UJ,n*UJ]},i}function W4(e,t){var n=r0(e),r=(n+r0(t))/2;if(qJ(r)<BJ)return function(e){var t=QJ(e);function n(e,n){return[e*t,r0(n)/t]}return n.invert=function(e,n){return[e/t,l0(n*t)]},n}(e);var i=1+n*(2*r-n),a=a0(i)/r;function s(e,t){var n=a0(i-2*r*r0(t))/r;return[n*r0(e*=r),a-n*QJ(e)]}return s.invert=function(e,t){var n=a-t,s=XJ(e,qJ(n))*i0(n);return n*r<0&&(s-=$J*i0(e)*i0(n)),[s/r,l0((i-(e*e+n*n)*r*r)/(2*r))]},s}function $4(){return B4(W4).scale(155.424).center([0,33.6442])}function V4(){return $4().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function K4(e){return function(t,n){var r=QJ(t),i=QJ(n),a=e(r*i);return a===1/0?[2,0]:[a*i*r0(t),a*r0(n)]}}function H4(e){return function(t,n){var r=a0(t*t+n*n),i=e(r),a=r0(i),s=QJ(i);return[XJ(t*a,r*s),l0(r&&n*a/r)]}}var U4=K4(function(e){return a0(2/(1+e))});U4.invert=H4(function(e){return 2*l0(e/2)});var Y4=K4(function(e){return(e=o0(e))&&e/r0(e)});function q4(e,t){return[e,t0(s0((VJ+t)/2))]}function G4(e){var t,n,r,i=z4(e),a=i.center,s=i.scale,o=i.translate,l=i.clipExtent,c=null;function u(){var a=$J*s(),o=i(z1(i.rotate()).invert([0,0]));return l(null==c?[[o[0]-a,o[1]-a],[o[0]+a,o[1]+a]]:e===q4?[[Math.max(o[0]-a,c),t],[Math.min(o[0]+a,n),r]]:[[c,Math.max(o[1]-a,t)],[n,Math.min(o[1]+a,r)]])}return i.scale=function(e){return arguments.length?(s(e),u()):s()},i.translate=function(e){return arguments.length?(o(e),u()):o()},i.center=function(e){return arguments.length?(a(e),u()):a()},i.clipExtent=function(e){return arguments.length?(null==e?c=t=n=r=null:(c=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),u()):null==c?null:[[c,t],[n,r]]},u()}function X4(e){return s0((VJ+e)/2)}function Q4(e,t){var n=QJ(e),r=e===t?r0(e):t0(n/QJ(t))/t0(X4(t)/X4(e)),i=n*n0(X4(e),r)/r;if(!r)return q4;function a(e,t){i>0?t<-VJ+BJ&&(t=-VJ+BJ):t>VJ-BJ&&(t=VJ-BJ);var n=i/n0(X4(t),r);return[n*r0(r*e),i-n*QJ(r*e)]}return a.invert=function(e,t){var n=i-t,a=i0(r)*a0(e*e+n*n),s=XJ(e,qJ(n))*i0(n);return n*r<0&&(s-=$J*i0(e)*i0(n)),[s/r,2*GJ(n0(i/a,1/r))-VJ]},a}function Z4(e,t){return[e,t]}function J4(e,t){var n=QJ(e),r=e===t?r0(e):(n-QJ(t))/(t-e),i=n/r+e;if(qJ(r)<BJ)return Z4;function a(e,t){var n=i-t,a=r*e;return[n*r0(a),i-n*QJ(a)]}return a.invert=function(e,t){var n=i-t,a=XJ(e,qJ(n))*i0(n);return n*r<0&&(a-=$J*i0(e)*i0(n)),[a/r,i-i0(r)*a0(e*e+n*n)]},a}Y4.invert=H4(function(e){return e}),q4.invert=function(e,t){return[e,2*GJ(JJ(t))-VJ]},Z4.invert=Z4;var e3=1.340264,t3=-.081106,n3=893e-6,r3=.003796,i3=a0(3)/2;function a3(e,t){var n=l0(i3*r0(t)),r=n*n,i=r*r*r;return[e*QJ(n)/(i3*(e3+3*t3*r+i*(7*n3+9*r3*r))),n*(e3+t3*r+i*(n3+r3*r))]}function s3(e,t){var n=QJ(t),r=QJ(e)*n;return[n*r0(e)/r,r0(t)/r]}function o3(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function l3(e,t){return[QJ(t)*r0(e),r0(t)]}function c3(e,t){var n=QJ(t),r=1+QJ(e)*n;return[n*r0(e)/r,r0(t)/r]}function u3(e,t){return[t0(s0((VJ+t)/2)),-e]}function d3(e,t){return e.parent===t.parent?1:2}function h3(e,t){return e+t.x}function f3(e,t){return Math.max(e,t.y)}function m3(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function p3(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=x3)):void 0===t&&(t=g3);for(var n,r,i,a,s,o=new b3(e),l=[o];n=l.pop();)if((i=t(n.data))&&(s=(i=Array.from(i)).length))for(n.children=i,a=s-1;a>=0;--a)l.push(r=i[a]=new b3(i[a])),r.parent=n,r.depth=n.depth+1;return o.eachBefore(v3)}function g3(e){return e.children}function x3(e){return Array.isArray(e)?e[1]:null}function y3(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function v3(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function b3(e){this.data=e,this.depth=this.height=0,this.parent=null}function _3(e){return null==e?null:w3(e)}function w3(e){if("function"!=typeof e)throw new Error;return e}function j3(){return 0}function N3(e){return function(){return e}}a3.invert=function(e,t){for(var n,r=t,i=r*r,a=i*i*i,s=0;s<12&&(a=(i=(r-=n=(r*(e3+t3*i+a*(n3+r3*i))-t)/(e3+3*t3*i+a*(7*n3+9*r3*i)))*r)*i*i,!(qJ(n)<WJ));++s);return[i3*e*(e3+3*t3*i+a*(7*n3+9*r3*i))/QJ(r),l0(r0(r)/i3)]},s3.invert=H4(GJ),o3.invert=function(e,t){var n,r=t,i=25;do{var a=r*r,s=a*a;r-=n=(r*(1.007226+a*(.015085+s*(.028874*a-.044475-.005916*s)))-t)/(1.007226+a*(.045255+s*(.259866*a-.311325-.005916*11*s)))}while(qJ(n)>BJ&&--i>0);return[e/(.8707+(a=r*r)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),r]},l3.invert=H4(l0),c3.invert=H4(function(e){return 2*GJ(e)}),u3.invert=function(e,t){return[-t,2*GJ(JJ(e))-VJ]},b3.prototype=p3.prototype={constructor:b3,count:function(){return this.eachAfter(m3)},each:function(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this},eachAfter:function(e,t){for(var n,r,i,a=this,s=[a],o=[],l=-1;a=s.pop();)if(o.push(a),n=a.children)for(r=0,i=n.length;r<i;++r)s.push(n[r]);for(;a=o.pop();)e.call(t,a,++l,this);return this},eachBefore:function(e,t){for(var n,r,i=this,a=[i],s=-1;i=a.pop();)if(e.call(t,i,++s,this),n=i.children)for(r=n.length-1;r>=0;--r)a.push(n[r]);return this},find:function(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r},sum:function(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})},sort:function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},links:function(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t},copy:function(){return p3(this).eachBefore(y3)},[Symbol.iterator]:function*(){var e,t,n,r,i=this,a=[i];do{for(e=a.reverse(),a=[];i=e.pop();)if(yield i,t=i.children)for(n=0,r=t.length;n<r;++n)a.push(t[n])}while(a.length)}};const k3=4294967296;function S3(){let e=1;return()=>(e=(1664525*e+1013904223)%k3)/k3}function C3(e,t){for(var n,r,i=0,a=(e=function(e,t){let n,r,i=e.length;for(;i;)r=t()*i--|0,n=e[i],e[i]=e[r],e[r]=n;return e}(Array.from(e),t)).length,s=[];i<a;)n=e[i],r&&M3(r,n)?++i:(r=A3(s=E3(s,n)),i=0);return r}function E3(e,t){var n,r;if(O3(t,e))return[t];for(n=0;n<e.length;++n)if(P3(t,e[n])&&O3(T3(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(P3(T3(e[n],e[r]),t)&&P3(T3(e[n],t),e[r])&&P3(T3(e[r],t),e[n])&&O3(D3(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function P3(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function M3(e,t){var n=e.r-t.r+1e-9*Math.max(e.r,t.r,1),r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function O3(e,t){for(var n=0;n<t.length;++n)if(!M3(e,t[n]))return!1;return!0}function A3(e){switch(e.length){case 1:return{x:(t=e[0]).x,y:t.y,r:t.r};case 2:return T3(e[0],e[1]);case 3:return D3(e[0],e[1],e[2])}var t}function T3(e,t){var n=e.x,r=e.y,i=e.r,a=t.x,s=t.y,o=t.r,l=a-n,c=s-r,u=o-i,d=Math.sqrt(l*l+c*c);return{x:(n+a+l/d*u)/2,y:(r+s+c/d*u)/2,r:(d+i+o)/2}}function D3(e,t,n){var r=e.x,i=e.y,a=e.r,s=t.x,o=t.y,l=t.r,c=n.x,u=n.y,d=n.r,h=r-s,f=r-c,m=i-o,p=i-u,g=l-a,x=d-a,y=r*r+i*i-a*a,v=y-s*s-o*o+l*l,b=y-c*c-u*u+d*d,_=f*m-h*p,w=(m*b-p*v)/(2*_)-r,j=(p*g-m*x)/_,N=(f*v-h*b)/(2*_)-i,k=(h*x-f*g)/_,S=j*j+k*k-1,C=2*(a+w*j+N*k),E=w*w+N*N-a*a,P=-(Math.abs(S)>1e-6?(C+Math.sqrt(C*C-4*S*E))/(2*S):E/C);return{x:r+w+j*P,y:i+N+k*P,r:P}}function R3(e,t,n){var r,i,a,s,o=e.x-t.x,l=e.y-t.y,c=o*o+l*l;c?(i=t.r+n.r,i*=i,s=e.r+n.r,i>(s*=s)?(r=(c+s-i)/(2*c),a=Math.sqrt(Math.max(0,s/c-r*r)),n.x=e.x-r*o-a*l,n.y=e.y-r*l+a*o):(r=(c+i-s)/(2*c),a=Math.sqrt(Math.max(0,i/c-r*r)),n.x=t.x+r*o-a*l,n.y=t.y+r*l+a*o)):(n.x=t.x+n.r,n.y=t.y)}function I3(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function L3(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,a=(t.y*n.r+n.y*t.r)/r;return i*i+a*a}function z3(e){this._=e,this.next=null,this.previous=null}function F3(e,t){if(!(s=(n=e,e="object"==typeof n&&"length"in n?n:Array.from(n)).length))return 0;var n,r,i,a,s,o,l,c,u,d,h,f;if((r=e[0]).x=0,r.y=0,!(s>1))return r.r;if(i=e[1],r.x=-i.r,i.x=r.r,i.y=0,!(s>2))return r.r+i.r;R3(i,r,a=e[2]),r=new z3(r),i=new z3(i),a=new z3(a),r.next=a.previous=i,i.next=r.previous=a,a.next=i.previous=r;e:for(c=3;c<s;++c){R3(r._,i._,a=e[c]),a=new z3(a),u=i.next,d=r.previous,h=i._.r,f=r._.r;do{if(h<=f){if(I3(u._,a._)){i=u,r.next=i,i.previous=r,--c;continue e}h+=u._.r,u=u.next}else{if(I3(d._,a._)){(r=d).next=i,i.previous=r,--c;continue e}f+=d._.r,d=d.previous}}while(u!==d.next);for(a.previous=r,a.next=i,r.next=i.previous=i=a,o=L3(r);(a=a.next)!==i;)(l=L3(a))<o&&(r=a,o=l);i=r.next}for(r=[i._],a=i;(a=a.next)!==i;)r.push(a._);for(a=C3(r,t),c=0;c<s;++c)(r=e[c]).x-=a.x,r.y-=a.y;return a.r}function B3(e){return Math.sqrt(e.value)}function W3(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function $3(e,t,n){return function(r){if(i=r.children){var i,a,s,o=i.length,l=e(r)*t||0;if(l)for(a=0;a<o;++a)i[a].r+=l;if(s=F3(i,n),l)for(a=0;a<o;++a)i[a].r-=l;r.r=s+l}}}function V3(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function K3(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function H3(e,t,n,r,i){for(var a,s=e.children,o=-1,l=s.length,c=e.value&&(r-t)/e.value;++o<l;)(a=s[o]).y0=n,a.y1=i,a.x0=t,a.x1=t+=a.value*c}var U3={depth:-1},Y3={},q3={};function G3(e){return e.id}function X3(e){return e.parentId}function Q3(e){let t=e.length;if(t<2)return"";for(;--t>1&&!Z3(e,t););return e.slice(0,t)}function Z3(e,t){if("/"===e[t]){let n=0;for(;t>0&&"\\"===e[--t];)++n;if(!(1&n))return!0}return!1}function J3(e,t){return e.parent===t.parent?1:2}function e6(e){var t=e.children;return t?t[0]:e.t}function t6(e){var t=e.children;return t?t[t.length-1]:e.t}function n6(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function r6(e,t,n){return e.a.parent===t.parent?e.a:n}function i6(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function a6(e,t,n,r,i){for(var a,s=e.children,o=-1,l=s.length,c=e.value&&(i-n)/e.value;++o<l;)(a=s[o]).x0=t,a.x1=r,a.y0=n,a.y1=n+=a.value*c}i6.prototype=Object.create(b3.prototype);var s6=(1+Math.sqrt(5))/2;function o6(e,t,n,r,i,a){for(var s,o,l,c,u,d,h,f,m,p,g,x=[],y=t.children,v=0,b=0,_=y.length,w=t.value;v<_;){l=i-n,c=a-r;do{u=y[b++].value}while(!u&&b<_);for(d=h=u,g=u*u*(p=Math.max(c/l,l/c)/(w*e)),m=Math.max(h/g,g/d);b<_;++b){if(u+=o=y[b].value,o<d&&(d=o),o>h&&(h=o),g=u*u*p,(f=Math.max(h/g,g/d))>m){u-=o;break}m=f}x.push(s={value:u,dice:l<c,children:y.slice(v,b)}),s.dice?H3(s,n,r,i,w?r+=c*u/w:a):a6(s,n,r,w?n+=l*u/w:i,a),w-=u,v=b}return x}const l6=function e(t){function n(e,n,r,i,a){o6(t,e,n,r,i,a)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(s6),c6=function e(t){function n(e,n,r,i,a){if((s=e._squarify)&&s.ratio===t)for(var s,o,l,c,u,d=-1,h=s.length,f=e.value;++d<h;){for(l=(o=s[d]).children,c=o.value=0,u=l.length;c<u;++c)o.value+=l[c].value;o.dice?H3(o,n,r,i,f?r+=(a-r)*o.value/f:a):a6(o,n,r,f?n+=(i-n)*o.value/f:i,a),f-=o.value}else e._squarify=s=o6(t,e,n,r,i,a),s.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(s6);function u6(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function d6(e,t){return e[0]-t[0]||e[1]-t[1]}function h6(e){const t=e.length,n=[0,1];let r,i=2;for(r=2;r<t;++r){for(;i>1&&u6(e[n[i-2]],e[n[i-1]],e[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}const f6=Math.random,m6=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,1===arguments.length?(n=e,e=0):n-=e,function(){return t()*n+e}}return n.source=e,n}(f6),p6=function e(t){function n(e,n){return arguments.length<2&&(n=e,e=0),e=Math.floor(e),n=Math.floor(n)-e,function(){return Math.floor(t()*n+e)}}return n.source=e,n}(f6),g6=function e(t){function n(e,n){var r,i;return e=null==e?0:+e,n=null==n?1:+n,function(){var a;if(null!=r)a=r,r=null;else do{r=2*t()-1,a=2*t()-1,i=r*r+a*a}while(!i||i>1);return e+n*a*Math.sqrt(-2*Math.log(i)/i)}}return n.source=e,n}(f6),x6=function e(t){var n=g6.source(t);function r(){var e=n.apply(this,arguments);return function(){return Math.exp(e())}}return r.source=e,r}(f6),y6=function e(t){function n(e){return(e=+e)<=0?()=>0:function(){for(var n=0,r=e;r>1;--r)n+=t();return n+r*t()}}return n.source=e,n}(f6),v6=function e(t){var n=y6.source(t);function r(e){if(0===(e=+e))return t;var r=n(e);return function(){return r()/e}}return r.source=e,r}(f6),b6=function e(t){function n(e){return function(){return-Math.log1p(-t())/e}}return n.source=e,n}(f6),_6=function e(t){function n(e){if((e=+e)<0)throw new RangeError("invalid alpha");return e=1/-e,function(){return Math.pow(1-t(),e)}}return n.source=e,n}(f6),w6=function e(t){function n(e){if((e=+e)<0||e>1)throw new RangeError("invalid p");return function(){return Math.floor(t()+e)}}return n.source=e,n}(f6),j6=function e(t){function n(e){if((e=+e)<0||e>1)throw new RangeError("invalid p");return 0===e?()=>1/0:1===e?()=>1:(e=Math.log1p(-e),function(){return 1+Math.floor(Math.log1p(-t())/e)})}return n.source=e,n}(f6),N6=function e(t){var n=g6.source(t)();function r(e,r){if((e=+e)<0)throw new RangeError("invalid k");if(0===e)return()=>0;if(r=null==r?1:+r,1===e)return()=>-Math.log1p(-t())*r;var i=(e<1?e+1:e)-1/3,a=1/(3*Math.sqrt(i)),s=e<1?()=>Math.pow(t(),1/e):()=>1;return function(){do{do{var e=n(),o=1+a*e}while(o<=0);o*=o*o;var l=1-t()}while(l>=1-.0331*e*e*e*e&&Math.log(l)>=.5*e*e+i*(1-o+Math.log(o)));return i*o*s()*r}}return r.source=e,r}(f6),k6=function e(t){var n=N6.source(t);function r(e,t){var r=n(e),i=n(t);return function(){var e=r();return 0===e?0:e/(e+i())}}return r.source=e,r}(f6),S6=function e(t){var n=j6.source(t),r=k6.source(t);function i(e,t){return e=+e,(t=+t)>=1?()=>e:t<=0?()=>0:function(){for(var i=0,a=e,s=t;a*s>16&&a*(1-s)>16;){var o=Math.floor((a+1)*s),l=r(o,a-o+1)();l<=s?(i+=o,a-=o,s=(s-l)/(1-l)):(a=o-1,s/=l)}for(var c=s<.5,u=n(c?s:1-s),d=u(),h=0;d<=a;++h)d+=u();return i+(c?h:a-h)}}return i.source=e,i}(f6),C6=function e(t){function n(e,n,r){var i;return 0===(e=+e)?i=e=>-Math.log(e):(e=1/e,i=t=>Math.pow(t,e)),n=null==n?0:+n,r=null==r?1:+r,function(){return n+r*i(-Math.log1p(-t()))}}return n.source=e,n}(f6),E6=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,function(){return e+n*Math.tan(Math.PI*t())}}return n.source=e,n}(f6),P6=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,function(){var r=t();return e+n*Math.log(r/(1-r))}}return n.source=e,n}(f6),M6=function e(t){var n=N6.source(t),r=S6.source(t);function i(e){return function(){for(var i=0,a=e;a>16;){var s=Math.floor(.875*a),o=n(s)();if(o>a)return i+r(s-1,a/o)();i+=s,a-=o}for(var l=-Math.log1p(-t()),c=0;l<=a;++c)l-=Math.log1p(-t());return i+c}}return i.source=e,i}(f6),O6=1/4294967296;function A6(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}const T6=A6("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),D6=A6("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),R6=A6("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),I6=A6("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),L6=A6("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),z6=A6("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),F6=A6("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),B6=A6("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),W6=A6("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),$6=A6("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),V6=A6("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),K6=e=>gE(e[e.length-1]);var H6=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(A6);const U6=K6(H6);var Y6=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(A6);const q6=K6(Y6);var G6=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(A6);const X6=K6(G6);var Q6=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(A6);const Z6=K6(Q6);var J6=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(A6);const e5=K6(J6);var t5=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(A6);const n5=K6(t5);var r5=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(A6);const i5=K6(r5);var a5=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(A6);const s5=K6(a5);var o5=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(A6);const l5=K6(o5);var c5=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(A6);const u5=K6(c5);var d5=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(A6);const h5=K6(d5);var f5=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(A6);const m5=K6(f5);var p5=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(A6);const g5=K6(p5);var x5=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(A6);const y5=K6(x5);var v5=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(A6);const b5=K6(v5);var _5=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(A6);const w5=K6(_5);var j5=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(A6);const N5=K6(j5);var k5=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(A6);const S5=K6(k5);var C5=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(A6);const E5=K6(C5);var P5=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(A6);const M5=K6(P5);var O5=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(A6);const A5=K6(O5);var T5=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(A6);const D5=K6(T5);var R5=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(A6);const I5=K6(R5);var L5=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(A6);const z5=K6(L5);var F5=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(A6);const B5=K6(F5);var W5=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(A6);const $5=K6(W5);var V5=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(A6);const K5=K6(V5),H5=UE(iE(300,.5,0),iE(-240,.5,1));var U5=UE(iE(-100,.75,.35),iE(80,1.5,.8)),Y5=UE(iE(260,.75,.35),iE(80,1.5,.8)),q5=iE(),G5=xC(),X5=Math.PI/3,Q5=2*Math.PI/3;function Z5(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const J5=Z5(A6("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var e8=Z5(A6("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),t8=Z5(A6("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),n8=Z5(A6("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const r8=e=>()=>e;function i8(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function a8(e,t,n){this.k=e,this.x=t,this.y=n}a8.prototype={constructor:a8,scale:function(e){return 1===e?this:new a8(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new a8(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var s8=new a8(1,0,0);function o8(e){for(;!e.__zoom;)if(!(e=e.parentNode))return s8;return e.__zoom}function l8(e){e.stopImmediatePropagation()}function c8(e){e.preventDefault(),e.stopImmediatePropagation()}function u8(e){return!(e.ctrlKey&&"wheel"!==e.type||e.button)}function d8(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function h8(){return this.__zoom||s8}function f8(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function m8(){return navigator.maxTouchPoints||"ontouchstart"in this}function p8(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>a?(a+s)/2:Math.min(0,a)||Math.max(0,s))}o8.prototype=a8.prototype;const g8=Object.freeze(Object.defineProperty({__proto__:null,Adder:Kk,Delaunay:FZ,FormatSpecifier:lP,InternMap:Hk,InternSet:Uk,Node:b3,Path:up,Voronoi:TZ,ZoomTransform:a8,active:function(e,t){var n,r,i=e.__transition;if(i)for(r in t=null==t?null:t+"",i)if((n=i[r]).state>1&&n.name===t)return new jX([[e]],nQ,t,+r);return null},arc:function(){var e=fp,t=mp,n=Um(0),r=null,i=pp,a=gp,s=xp,o=null,l=hp(c);function c(){var c,u,d,h=+e.apply(this,arguments),f=+t.apply(this,arguments),m=i.apply(this,arguments)-np,p=a.apply(this,arguments)-np,g=Ym(p-m),x=p>m;if(o||(o=c=l()),f<h&&(u=f,f=h,h=u),f>ep)if(g>rp-ep)o.moveTo(f*Gm(m),f*Zm(m)),o.arc(0,0,f,m,p,!x),h>ep&&(o.moveTo(h*Gm(p),h*Zm(p)),o.arc(0,0,h,p,m,x));else{var y,v,b=m,_=p,w=m,j=p,N=g,k=g,S=s.apply(this,arguments)/2,C=S>ep&&(r?+r.apply(this,arguments):Jm(h*h+f*f)),E=Qm(Ym(f-h)/2,+n.apply(this,arguments)),P=E,M=E;if(C>ep){var O=ip(C/h*Zm(S)),A=ip(C/f*Zm(S));(N-=2*O)>ep?(w+=O*=x?1:-1,j-=O):(N=0,w=j=(m+p)/2),(k-=2*A)>ep?(b+=A*=x?1:-1,_-=A):(k=0,b=_=(m+p)/2)}var T=f*Gm(b),D=f*Zm(b),R=h*Gm(j),I=h*Zm(j);if(E>ep){var L,z=f*Gm(_),F=f*Zm(_),B=h*Gm(w),W=h*Zm(w);if(g<tp)if(L=function(e,t,n,r,i,a,s,o){var l=n-e,c=r-t,u=s-i,d=o-a,h=d*l-u*c;if(!(h*h<ep))return[e+(h=(u*(t-a)-d*(e-i))/h)*l,t+h*c]}(T,D,B,W,z,F,R,I)){var $=T-L[0],V=D-L[1],K=z-L[0],H=F-L[1],U=1/Zm(((d=($*K+V*H)/(Jm($*$+V*V)*Jm(K*K+H*H)))>1?0:d<-1?tp:Math.acos(d))/2),Y=Jm(L[0]*L[0]+L[1]*L[1]);P=Qm(E,(h-Y)/(U-1)),M=Qm(E,(f-Y)/(U+1))}else P=M=0}k>ep?M>ep?(y=yp(B,W,T,D,f,M,x),v=yp(z,F,R,I,f,M,x),o.moveTo(y.cx+y.x01,y.cy+y.y01),M<E?o.arc(y.cx,y.cy,M,qm(y.y01,y.x01),qm(v.y01,v.x01),!x):(o.arc(y.cx,y.cy,M,qm(y.y01,y.x01),qm(y.y11,y.x11),!x),o.arc(0,0,f,qm(y.cy+y.y11,y.cx+y.x11),qm(v.cy+v.y11,v.cx+v.x11),!x),o.arc(v.cx,v.cy,M,qm(v.y11,v.x11),qm(v.y01,v.x01),!x))):(o.moveTo(T,D),o.arc(0,0,f,b,_,!x)):o.moveTo(T,D),h>ep&&N>ep?P>ep?(y=yp(R,I,z,F,h,-P,x),v=yp(T,D,B,W,h,-P,x),o.lineTo(y.cx+y.x01,y.cy+y.y01),P<E?o.arc(y.cx,y.cy,P,qm(y.y01,y.x01),qm(v.y01,v.x01),!x):(o.arc(y.cx,y.cy,P,qm(y.y01,y.x01),qm(y.y11,y.x11),!x),o.arc(0,0,h,qm(y.cy+y.y11,y.cx+y.x11),qm(v.cy+v.y11,v.cx+v.x11),x),o.arc(v.cx,v.cy,P,qm(v.y11,v.x11),qm(v.y01,v.x01),!x))):o.arc(0,0,h,j,w,x):o.lineTo(R,I)}else o.moveTo(0,0);if(o.closePath(),c)return o=null,c+""||null}return c.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-tp/2;return[Gm(r)*n,Zm(r)*n]},c.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:Um(+t),c):e},c.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:Um(+e),c):t},c.cornerRadius=function(e){return arguments.length?(n="function"==typeof e?e:Um(+e),c):n},c.padRadius=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:Um(+e),c):r},c.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:Um(+e),c):i},c.endAngle=function(e){return arguments.length?(a="function"==typeof e?e:Um(+e),c):a},c.padAngle=function(e){return arguments.length?(s="function"==typeof e?e:Um(+e),c):s},c.context=function(e){return arguments.length?(o=null==e?null:e,c):o},c},area:Sp,areaRadial:Dp,ascending:wk,autoType:function(e){for(var t in e){var n,r,i=e[t].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(n=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;cJ&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=n;else i=null;e[t]=i}return e},axisBottom:function(e){return XY(3,e)},axisLeft:function(e){return XY(4,e)},axisRight:function(e){return XY(2,e)},axisTop:function(e){return XY(1,e)},bin:bS,bisect:Ek,bisectCenter:Mk,bisectLeft:Pk,bisectRight:Ek,bisector:Nk,blob:function(e,t){return fetch(e,t).then(uJ)},blur:function(e,t){if(!((t=+t)>=0))throw new RangeError("invalid r");let n=e.length;if(!((n=Math.floor(n))>=0))throw new RangeError("invalid length");if(!n||!t)return e;const r=Ik(t),i=e.slice();return r(e,i,0,n,1),r(i,e,0,n,1),r(e,i,0,n,1),e},blur2:Ok,blurImage:Ak,brush:function(){return EQ(xQ)},brushSelection:function(e){var t=e.__brush;return t?t.dim.output(t.selection):null},brushX:function(){return EQ(pQ)},brushY:function(){return EQ(gQ)},buffer:function(e,t){return fetch(e,t).then(dJ)},chord:function(){return zQ(!1,!1)},chordDirected:function(){return zQ(!0,!1)},chordTranspose:function(){return zQ(!1,!0)},cluster:function(){var e=d3,t=1,n=1,r=!1;function i(i){var a,s=0;i.eachAfter(function(t){var n=t.children;n?(t.x=function(e){return e.reduce(h3,0)/e.length}(n),t.y=function(e){return 1+e.reduce(f3,0)}(n)):(t.x=a?s+=e(t,a):0,t.y=0,a=t)});var o=function(e){for(var t;t=e.children;)e=t[0];return e}(i),l=function(e){for(var t;t=e.children;)e=t[t.length-1];return e}(i),c=o.x-e(o,l)/2,u=l.x+e(l,o)/2;return i.eachAfter(r?function(e){e.x=(e.x-i.x)*t,e.y=(i.y-e.y)*n}:function(e){e.x=(e.x-c)/(u-c)*t,e.y=(1-(i.y?e.y/i.y:1))*n})}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i},color:fC,contourDensity:function(){var e=lZ,t=cZ,n=uZ,r=960,i=500,a=20,s=2,o=3*a,l=r+2*o>>s,c=i+2*o>>s,u=QQ(20);function d(r){var i=new Float32Array(l*c),u=Math.pow(2,-s),d=-1;for(const a of r){var h=(e(a,++d,r)+o)*u,f=(t(a,d,r)+o)*u,m=+n(a,d,r);if(m&&h>=0&&h<l&&f>=0&&f<c){var p=Math.floor(h),g=Math.floor(f),x=h-p-.5,y=f-g-.5;i[p+g*l]+=(1-x)*(1-y)*m,i[p+1+g*l]+=x*(1-y)*m,i[p+1+(g+1)*l]+=x*y*m,i[p+(g+1)*l]+=(1-x)*y*m}}return Ok({data:i,width:l,height:c},a*u),i}function h(e){var t=d(e),n=u(t),r=Math.pow(2,2*s);return Array.isArray(n)||(n=pS(Number.MIN_VALUE,_S(t)/r,n)),rZ().size([l,c]).thresholds(n.map(e=>e*r))(t).map((e,t)=>(e.value=+n[t],f(e)))}function f(e){return e.coordinates.forEach(m),e}function m(e){e.forEach(p)}function p(e){e.forEach(g)}function g(e){e[0]=e[0]*Math.pow(2,s)-o,e[1]=e[1]*Math.pow(2,s)-o}function x(){return l=r+2*(o=3*a)>>s,c=i+2*o>>s,h}return h.contours=function(e){var t=d(e),n=rZ().size([l,c]),r=Math.pow(2,2*s),i=e=>{e=+e;var i=f(n.contour(t,e*r));return i.value=e,i};return Object.defineProperty(i,"max",{get:()=>_S(t)/r}),i},h.x=function(t){return arguments.length?(e="function"==typeof t?t:QQ(+t),h):e},h.y=function(e){return arguments.length?(t="function"==typeof e?e:QQ(+e),h):t},h.weight=function(e){return arguments.length?(n="function"==typeof e?e:QQ(+e),h):n},h.size=function(e){if(!arguments.length)return[r,i];var t=+e[0],n=+e[1];if(!(t>=0&&n>=0))throw new Error("invalid size");return r=t,i=n,x()},h.cellSize=function(e){if(!arguments.length)return 1<<s;if(!((e=+e)>=1))throw new Error("invalid cell size");return s=Math.floor(Math.log(e)/Math.LN2),x()},h.thresholds=function(e){return arguments.length?(u="function"==typeof e?e:Array.isArray(e)?QQ(GQ.call(e)):QQ(e),h):u},h.bandwidth=function(e){if(!arguments.length)return Math.sqrt(a*(a+1));if(!((e=+e)>=0))throw new Error("invalid bandwidth");return a=(Math.sqrt(4*e*e+1)-1)/2,x()},h},contours:rZ,count:Lk,create:function(e){return mG(oq(e).call(document.documentElement))},creator:oq,cross:function(...e){const t="function"==typeof e[e.length-1]&&function(e){return t=>e(...t)}(e.pop()),n=(e=e.map(Bk)).map(zk),r=e.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||n.some(Fk))return a;for(;;){a.push(i.map((t,n)=>e[n][t]));let s=r;for(;++i[s]===n[s];){if(0===s)return t?a.map(t):a;i[s--]=0}}},csv:pJ,csvFormat:XZ,csvFormatBody:QZ,csvFormatRow:JZ,csvFormatRows:ZZ,csvFormatValue:eJ,csvParse:qZ,csvParseRows:GZ,cubehelix:iE,cumsum:function(e,t){var n=0,r=0;return Float64Array.from(e,void 0===t?e=>n+=+e||0:i=>n+=+t(i,r++,e)||0)},curveBasis:_g,curveBasisClosed:jg,curveBasisOpen:kg,curveBumpX:zp,curveBumpY:Fp,curveBundle:Cg,curveCardinal:Mg,curveCardinalClosed:Ag,curveCardinalOpen:Dg,curveCatmullRom:Lg,curveCatmullRomClosed:Fg,curveCatmullRomOpen:Wg,curveLinear:wp,curveLinearClosed:Vg,curveMonotoneX:Qg,curveMonotoneY:Zg,curveNatural:tx,curveStep:rx,curveStepAfter:ax,curveStepBefore:ix,descending:jk,deviation:$k,difference:function(e,...t){e=new Uk(e);for(const n of t)for(const t of n)e.delete(t);return e},disjoint:function(e,t){const n=t[Symbol.iterator](),r=new Uk;for(const i of e){if(r.has(i))return!1;let e,t;for(;({value:e,done:t}=n.next())&&!t;){if(Object.is(i,e))return!1;r.add(e)}}return!0},dispatch:ZY,drag:function(){var e,t,n,r,i=EG,a=PG,s=MG,o=OG,l={},c=ZY("start","drag","end"),u=0,d=0;function h(e){e.on("mousedown.drag",f).filter(o).on("touchstart.drag",g).on("touchmove.drag",x,bG).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(s,o){if(!r&&i.call(this,s,o)){var l=v(this,a.call(this,s,o),s,o,"mouse");l&&(mG(s.view).on("mousemove.drag",m,_G).on("mouseup.drag",p,_G),NG(s.view),wG(s),n=!1,e=s.clientX,t=s.clientY,l("start",s))}}function m(r){if(jG(r),!n){var i=r.clientX-e,a=r.clientY-t;n=i*i+a*a>d}l.mouse("drag",r)}function p(e){mG(e.view).on("mousemove.drag mouseup.drag",null),kG(e.view,n),jG(e),l.mouse("end",e)}function g(e,t){if(i.call(this,e,t)){var n,r,s=e.changedTouches,o=a.call(this,e,t),l=s.length;for(n=0;n<l;++n)(r=v(this,o,e,t,s[n].identifier,s[n]))&&(wG(e),r("start",e,s[n]))}}function x(e){var t,n,r=e.changedTouches,i=r.length;for(t=0;t<i;++t)(n=l[r[t].identifier])&&(jG(e),n("drag",e,r[t]))}function y(e){var t,n,i=e.changedTouches,a=i.length;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),t=0;t<a;++t)(n=l[i[t].identifier])&&(wG(e),n("end",e,i[t]))}function v(e,t,n,r,i,a){var o,d,f,m=c.copy(),p=vG(a||n,t);if(null!=(f=s.call(e,new CG("beforestart",{sourceEvent:n,target:h,identifier:i,active:u,x:p[0],y:p[1],dx:0,dy:0,dispatch:m}),r)))return o=f.x-p[0]||0,d=f.y-p[1]||0,function n(a,s,c){var g,x=p;switch(a){case"start":l[i]=n,g=u++;break;case"end":delete l[i],--u;case"drag":p=vG(c||s,t),g=u}m.call(a,e,new CG(a,{sourceEvent:s,subject:f,target:h,identifier:i,active:g,x:p[0]+o,y:p[1]+d,dx:p[0]-x[0],dy:p[1]-x[1],dispatch:m}),r)}}return h.filter=function(e){return arguments.length?(i="function"==typeof e?e:SG(!!e),h):i},h.container=function(e){return arguments.length?(a="function"==typeof e?e:SG(e),h):a},h.subject=function(e){return arguments.length?(s="function"==typeof e?e:SG(e),h):s},h.touchable=function(e){return arguments.length?(o="function"==typeof e?e:SG(!!e),h):o},h.on=function(){var e=c.on.apply(c,arguments);return e===c?h:e},h.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,h):Math.sqrt(d)},h},dragDisable:NG,dragEnable:kG,dsv:function(e,t,n,r){3===arguments.length&&"function"==typeof n&&(r=n,n=void 0);var i=UZ(e);return fJ(t,n).then(function(e){return i.parse(e,r)})},dsvFormat:UZ,easeBack:GX,easeBackIn:YX,easeBackInOut:GX,easeBackOut:qX,easeBounce:HX,easeBounceIn:function(e){return 1-HX(1-e)},easeBounceInOut:function(e){return((e*=2)<=1?1-HX(1-e):HX(e-1)+1)/2},easeBounceOut:HX,easeCircle:LX,easeCircleIn:function(e){return 1-Math.sqrt(1-e*e)},easeCircleInOut:LX,easeCircleOut:function(e){return Math.sqrt(1- --e*e)},easeCubic:EX,easeCubicIn:function(e){return e*e*e},easeCubicInOut:EX,easeCubicOut:function(e){return--e*e*e+1},easeElastic:ZX,easeElasticIn:QX,easeElasticInOut:JX,easeElasticOut:ZX,easeExp:IX,easeExpIn:function(e){return RX(1-+e)},easeExpInOut:IX,easeExpOut:function(e){return 1-RX(e)},easeLinear:e=>+e,easePoly:OX,easePolyIn:PX,easePolyInOut:OX,easePolyOut:MX,easeQuad:CX,easeQuadIn:function(e){return e*e},easeQuadInOut:CX,easeQuadOut:function(e){return e*(2-e)},easeSin:DX,easeSinIn:function(e){return 1===+e?1:1-Math.cos(e*TX)},easeSinInOut:DX,easeSinOut:function(e){return Math.sin(e*TX)},every:function(e,t){if("function"!=typeof t)throw new TypeError("test is not a function");let n=-1;for(const r of e)if(!t(r,++n,e))return!1;return!0},extent:Vk,fcumsum:function(e,t){const n=new Kk;let r=-1;return Float64Array.from(e,void 0===t?e=>n.add(+e||0):i=>n.add(+t(i,++r,e)||0))},filter:function(e,t){if("function"!=typeof t)throw new TypeError("test is not a function");const n=[];let r=-1;for(const i of e)t(i,++r,e)&&n.push(i);return n},flatGroup:function(e,...t){return eS(Jk(e,...t),t)},flatRollup:function(e,t,...n){return eS(nS(e,t,...n),n)},forceCenter:function(e,t){var n,r=1;function i(){var i,a,s=n.length,o=0,l=0;for(i=0;i<s;++i)o+=(a=n[i]).x,l+=a.y;for(o=(o/s-e)*r,l=(l/s-t)*r,i=0;i<s;++i)(a=n[i]).x-=o,a.y-=l}return null==e&&(e=0),null==t&&(t=0),i.initialize=function(e){n=e},i.x=function(t){return arguments.length?(e=+t,i):e},i.y=function(e){return arguments.length?(t=+e,i):t},i.strength=function(e){return arguments.length?(r=+e,i):r},i},forceCollide:function(e){var t,n,r,i=1,a=1;function s(){for(var e,s,l,c,u,d,h,f=t.length,m=0;m<a;++m)for(s=SJ(t,AJ,TJ).visitAfter(o),e=0;e<f;++e)l=t[e],d=n[l.index],h=d*d,c=l.x+l.vx,u=l.y+l.vy,s.visit(p);function p(e,t,n,a,s){var o=e.data,f=e.r,m=d+f;if(!o)return t>c+m||a<c-m||n>u+m||s<u-m;if(o.index>l.index){var p=c-o.x-o.vx,g=u-o.y-o.vy,x=p*p+g*g;x<m*m&&(0===p&&(x+=(p=OJ(r))*p),0===g&&(x+=(g=OJ(r))*g),x=(m-(x=Math.sqrt(x)))/x*i,l.vx+=(p*=x)*(m=(f*=f)/(h+f)),l.vy+=(g*=x)*m,o.vx-=p*(m=1-m),o.vy-=g*m)}}}function o(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function l(){if(t){var r,i,a=t.length;for(n=new Array(a),r=0;r<a;++r)i=t[r],n[i.index]=+e(i,r,t)}}return"function"!=typeof e&&(e=MJ(null==e?1:+e)),s.initialize=function(e,n){t=e,r=n,l()},s.iterations=function(e){return arguments.length?(a=+e,s):a},s.strength=function(e){return arguments.length?(i=+e,s):i},s.radius=function(t){return arguments.length?(e="function"==typeof t?t:MJ(+t),l(),s):e},s},forceLink:function(e){var t,n,r,i,a,s,o=DJ,l=function(e){return 1/Math.min(i[e.source.index],i[e.target.index])},c=MJ(30),u=1;function d(r){for(var i=0,o=e.length;i<u;++i)for(var l,c,d,h,f,m,p,g=0;g<o;++g)c=(l=e[g]).source,h=(d=l.target).x+d.vx-c.x-c.vx||OJ(s),f=d.y+d.vy-c.y-c.vy||OJ(s),h*=m=((m=Math.sqrt(h*h+f*f))-n[g])/m*r*t[g],f*=m,d.vx-=h*(p=a[g]),d.vy-=f*p,c.vx+=h*(p=1-p),c.vy+=f*p}function h(){if(r){var s,l,c=r.length,u=e.length,d=new Map(r.map((e,t)=>[o(e,t,r),e]));for(s=0,i=new Array(c);s<u;++s)(l=e[s]).index=s,"object"!=typeof l.source&&(l.source=RJ(d,l.source)),"object"!=typeof l.target&&(l.target=RJ(d,l.target)),i[l.source.index]=(i[l.source.index]||0)+1,i[l.target.index]=(i[l.target.index]||0)+1;for(s=0,a=new Array(u);s<u;++s)l=e[s],a[s]=i[l.source.index]/(i[l.source.index]+i[l.target.index]);t=new Array(u),f(),n=new Array(u),m()}}function f(){if(r)for(var n=0,i=e.length;n<i;++n)t[n]=+l(e[n],n,e)}function m(){if(r)for(var t=0,i=e.length;t<i;++t)n[t]=+c(e[t],t,e)}return null==e&&(e=[]),d.initialize=function(e,t){r=e,s=t,h()},d.links=function(t){return arguments.length?(e=t,h(),d):e},d.id=function(e){return arguments.length?(o=e,d):o},d.iterations=function(e){return arguments.length?(u=+e,d):u},d.strength=function(e){return arguments.length?(l="function"==typeof e?e:MJ(+e),f(),d):l},d.distance=function(e){return arguments.length?(c="function"==typeof e?e:MJ(+e),m(),d):c},d},forceManyBody:function(){var e,t,n,r,i,a=MJ(-30),s=1,o=1/0,l=.81;function c(n){var i,a=e.length,s=SJ(e,LJ,zJ).visitAfter(d);for(r=n,i=0;i<a;++i)t=e[i],s.visit(h)}function u(){if(e){var t,n,r=e.length;for(i=new Array(r),t=0;t<r;++t)n=e[t],i[n.index]=+a(n,t,e)}}function d(e){var t,n,r,a,s,o=0,l=0;if(e.length){for(r=a=s=0;s<4;++s)(t=e[s])&&(n=Math.abs(t.value))&&(o+=t.value,l+=n,r+=n*t.x,a+=n*t.y);e.x=r/l,e.y=a/l}else{(t=e).x=t.data.x,t.y=t.data.y;do{o+=i[t.data.index]}while(t=t.next)}e.value=o}function h(e,a,c,u){if(!e.value)return!0;var d=e.x-t.x,h=e.y-t.y,f=u-a,m=d*d+h*h;if(f*f/l<m)return m<o&&(0===d&&(m+=(d=OJ(n))*d),0===h&&(m+=(h=OJ(n))*h),m<s&&(m=Math.sqrt(s*m)),t.vx+=d*e.value*r/m,t.vy+=h*e.value*r/m),!0;if(!(e.length||m>=o)){(e.data!==t||e.next)&&(0===d&&(m+=(d=OJ(n))*d),0===h&&(m+=(h=OJ(n))*h),m<s&&(m=Math.sqrt(s*m)));do{e.data!==t&&(f=i[e.data.index]*r/m,t.vx+=d*f,t.vy+=h*f)}while(e=e.next)}}return c.initialize=function(t,r){e=t,n=r,u()},c.strength=function(e){return arguments.length?(a="function"==typeof e?e:MJ(+e),u(),c):a},c.distanceMin=function(e){return arguments.length?(s=e*e,c):Math.sqrt(s)},c.distanceMax=function(e){return arguments.length?(o=e*e,c):Math.sqrt(o)},c.theta=function(e){return arguments.length?(l=e*e,c):Math.sqrt(l)},c},forceRadial:function(e,t,n){var r,i,a,s=MJ(.1);function o(e){for(var s=0,o=r.length;s<o;++s){var l=r[s],c=l.x-t||1e-6,u=l.y-n||1e-6,d=Math.sqrt(c*c+u*u),h=(a[s]-d)*i[s]*e/d;l.vx+=c*h,l.vy+=u*h}}function l(){if(r){var t,n=r.length;for(i=new Array(n),a=new Array(n),t=0;t<n;++t)a[t]=+e(r[t],t,r),i[t]=isNaN(a[t])?0:+s(r[t],t,r)}}return"function"!=typeof e&&(e=MJ(+e)),null==t&&(t=0),null==n&&(n=0),o.initialize=function(e){r=e,l()},o.strength=function(e){return arguments.length?(s="function"==typeof e?e:MJ(+e),l(),o):s},o.radius=function(t){return arguments.length?(e="function"==typeof t?t:MJ(+t),l(),o):e},o.x=function(e){return arguments.length?(t=+e,o):t},o.y=function(e){return arguments.length?(n=+e,o):n},o},forceSimulation:function(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,s=.6,o=new Map,l=HG(d),c=ZY("tick","end"),u=function(){let e=1;return()=>(e=(1664525*e+1013904223)%IJ)/IJ}();function d(){h(),c.call("tick",t),n<r&&(l.stop(),c.call("end",t))}function h(r){var l,c,u=e.length;void 0===r&&(r=1);for(var d=0;d<r;++d)for(n+=(a-n)*i,o.forEach(function(e){e(n)}),l=0;l<u;++l)null==(c=e[l]).fx?c.x+=c.vx*=s:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=s:(c.y=c.fy,c.vy=0);return t}function f(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var i=10*Math.sqrt(.5+n),a=n*FJ;t.x=i*Math.cos(a),t.y=i*Math.sin(a)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function m(t){return t.initialize&&t.initialize(e,u),t}return null==e&&(e=[]),f(),t={tick:h,restart:function(){return l.restart(d),t},stop:function(){return l.stop(),t},nodes:function(n){return arguments.length?(e=n,f(),o.forEach(m),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(i=+e,t):+i},alphaTarget:function(e){return arguments.length?(a=+e,t):a},velocityDecay:function(e){return arguments.length?(s=1-e,t):1-s},randomSource:function(e){return arguments.length?(u=e,o.forEach(m),t):u},force:function(e,n){return arguments.length>1?(null==n?o.delete(e):o.set(e,m(n)),t):o.get(e)},find:function(t,n,r){var i,a,s,o,l,c=0,u=e.length;for(null==r?r=1/0:r*=r,c=0;c<u;++c)(s=(i=t-(o=e[c]).x)*i+(a=n-o.y)*a)<r&&(l=o,r=s);return l},on:function(e,n){return arguments.length>1?(c.on(e,n),t):c.on(e)}}},forceX:function(e){var t,n,r,i=MJ(.1);function a(e){for(var i,a=0,s=t.length;a<s;++a)(i=t[a]).vx+=(r[a]-i.x)*n[a]*e}function s(){if(t){var a,s=t.length;for(n=new Array(s),r=new Array(s),a=0;a<s;++a)n[a]=isNaN(r[a]=+e(t[a],a,t))?0:+i(t[a],a,t)}}return"function"!=typeof e&&(e=MJ(null==e?0:+e)),a.initialize=function(e){t=e,s()},a.strength=function(e){return arguments.length?(i="function"==typeof e?e:MJ(+e),s(),a):i},a.x=function(t){return arguments.length?(e="function"==typeof t?t:MJ(+t),s(),a):e},a},forceY:function(e){var t,n,r,i=MJ(.1);function a(e){for(var i,a=0,s=t.length;a<s;++a)(i=t[a]).vy+=(r[a]-i.y)*n[a]*e}function s(){if(t){var a,s=t.length;for(n=new Array(s),r=new Array(s),a=0;a<s;++a)n[a]=isNaN(r[a]=+e(t[a],a,t))?0:+i(t[a],a,t)}}return"function"!=typeof e&&(e=MJ(null==e?0:+e)),a.initialize=function(e){t=e,s()},a.strength=function(e){return arguments.length?(i="function"==typeof e?e:MJ(+e),s(),a):i},a.y=function(t){return arguments.length?(e="function"==typeof t?t:MJ(+t),s(),a):e},a},get format(){return fP},formatDefaultLocale:yP,formatLocale:xP,get formatPrefix(){return mP},formatSpecifier:oP,fsum:function(e,t){const n=new Kk;if(void 0===t)for(let r of e)(r=+r)&&n.add(r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&n.add(i)}return+n},geoAlbers:V4,geoAlbersUsa:function(){var e,t,n,r,i,a,s=V4(),o=$4().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=$4().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(e,t){a=[e,t]}};function u(e){var t=e[0],s=e[1];return a=null,n.point(t,s),a||(r.point(t,s),a)||(i.point(t,s),a)}function d(){return e=t=null,u}return u.invert=function(e){var t=s.scale(),n=s.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?o:i>=.166&&i<.234&&r>=-.214&&r<-.115?l:s).invert(e)},u.stream=function(n){return e&&t===n?e:(r=[s.stream(t=n),o.stream(n),l.stream(n)],i=r.length,e={point:function(e,t){for(var n=-1;++n<i;)r[n].point(e,t)},sphere:function(){for(var e=-1;++e<i;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<i;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<i;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<i;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<i;)r[e].polygonEnd()}});var r,i},u.precision=function(e){return arguments.length?(s.precision(e),o.precision(e),l.precision(e),d()):s.precision()},u.scale=function(e){return arguments.length?(s.scale(e),o.scale(.35*e),l.scale(e),u.translate(s.translate())):s.scale()},u.translate=function(e){if(!arguments.length)return s.translate();var t=s.scale(),a=+e[0],u=+e[1];return n=s.translate(e).clipExtent([[a-.455*t,u-.238*t],[a+.455*t,u+.238*t]]).stream(c),r=o.translate([a-.307*t,u+.201*t]).clipExtent([[a-.425*t+BJ,u+.12*t+BJ],[a-.214*t-BJ,u+.234*t-BJ]]).stream(c),i=l.translate([a-.205*t,u+.212*t]).clipExtent([[a-.214*t+BJ,u+.166*t+BJ],[a-.115*t-BJ,u+.234*t-BJ]]).stream(c),d()},u.fitExtent=function(e,t){return M4(u,e,t)},u.fitSize=function(e,t){return O4(u,e,t)},u.fitWidth=function(e,t){return A4(u,e,t)},u.fitHeight=function(e,t){return T4(u,e,t)},u.scale(1070)},geoArea:function(e){return D0=new Kk,g0(e,R0),2*D0},geoAzimuthalEqualArea:function(){return z4(U4).scale(124.75).clipAngle(179.999)},geoAzimuthalEqualAreaRaw:U4,geoAzimuthalEquidistant:function(){return z4(Y4).scale(79.4188).clipAngle(179.999)},geoAzimuthalEquidistantRaw:Y4,geoBounds:function(e){var t,n,r,i,a,s,o;if(k0=N0=-(w0=j0=1/0),O0=[],g0(e,c1),n=O0.length){for(O0.sort(y1),t=1,a=[r=O0[0]];t<n;++t)v1(r,(i=O0[t])[0])||v1(r,i[1])?(x1(r[0],i[1])>x1(r[0],r[1])&&(r[1]=i[1]),x1(i[0],r[1])>x1(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(s=-1/0,t=0,r=a[n=a.length-1];t<=n;r=i,++t)i=a[t],(o=x1(r[1],i[0]))>s&&(s=o,w0=i[0],N0=r[1])}return O0=A0=null,w0===1/0||j0===1/0?[[NaN,NaN],[NaN,NaN]]:[[w0,j0],[N0,k0]]},geoCentroid:function(e){Y0=q0=G0=X0=Q0=Z0=J0=e1=0,t1=new Kk,n1=new Kk,r1=new Kk,g0(e,b1);var t=+t1,n=+n1,r=+r1,i=e0(t,n,r);return i<WJ&&(t=Z0,n=J0,r=e1,q0<BJ&&(t=G0,n=X0,r=Q0),(i=e0(t,n,r))<WJ)?[NaN,NaN]:[XJ(n,t)*UJ,l0(r/i)*UJ]},geoCircle:function(){var e,t,n=O1([0,0]),r=O1(90),i=O1(2),a={point:function(n,r){e.push(n=t(n,r)),n[0]*=UJ,n[1]*=UJ}};function s(){var s=n.apply(this,arguments),o=r.apply(this,arguments)*YJ,l=i.apply(this,arguments)*YJ;return e=[],t=D1(-s[0]*YJ,-s[1]*YJ,0).invert,F1(a,o,l,1),s={type:"Polygon",coordinates:[e]},e=t=null,s}return s.center=function(e){return arguments.length?(n="function"==typeof e?e:O1([+e[0],+e[1]]),s):n},s.radius=function(e){return arguments.length?(r="function"==typeof e?e:O1(+e),s):r},s.precision=function(e){return arguments.length?(i="function"==typeof e?e:O1(+e),s):i},s},geoClipAntimeridian:Q1,geoClipCircle:Z1,geoClipExtent:function(){var e,t,n,r=0,i=0,a=960,s=500;return n={stream:function(n){return e&&t===n?e:e=a2(r,i,a,s)(t=n)},extent:function(o){return arguments.length?(r=+o[0][0],i=+o[0][1],a=+o[1][0],s=+o[1][1],e=t=null,n):[[r,i],[a,s]]}}},geoClipRectangle:a2,geoConicConformal:function(){return B4(Q4).scale(109.5).parallels([30,30])},geoConicConformalRaw:Q4,geoConicEqualArea:$4,geoConicEqualAreaRaw:W4,geoConicEquidistant:function(){return B4(J4).scale(131.154).center([0,13.9389])},geoConicEquidistantRaw:J4,geoContains:function(e,t){return(e&&m2.hasOwnProperty(e.type)?m2[e.type]:g2)(e,t)},geoDistance:f2,geoEqualEarth:function(){return z4(a3).scale(177.158)},geoEqualEarthRaw:a3,geoEquirectangular:function(){return z4(Z4).scale(152.63)},geoEquirectangularRaw:Z4,geoGnomonic:function(){return z4(s3).scale(144.049).clipAngle(60)},geoGnomonicRaw:s3,geoGraticule:N2,geoGraticule10:function(){return N2()()},geoIdentity:function(){var e,t,n,r,i,a,s,o=1,l=0,c=0,u=1,d=1,h=0,f=null,m=1,p=1,g=C4({point:function(e,t){var n=v([e,t]);this.stream.point(n[0],n[1])}}),x=k2;function y(){return m=o*u,p=o*d,a=s=null,v}function v(n){var r=n[0]*m,i=n[1]*p;if(h){var a=i*e-r*t;r=r*e+i*t,i=a}return[r+l,i+c]}return v.invert=function(n){var r=n[0]-l,i=n[1]-c;if(h){var a=i*e+r*t;r=r*e-i*t,i=a}return[r/m,i/p]},v.stream=function(e){return a&&s===e?a:a=g(x(s=e))},v.postclip=function(e){return arguments.length?(x=e,f=n=r=i=null,y()):x},v.clipExtent=function(e){return arguments.length?(x=null==e?(f=n=r=i=null,k2):a2(f=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),y()):null==f?null:[[f,n],[r,i]]},v.scale=function(e){return arguments.length?(o=+e,y()):o},v.translate=function(e){return arguments.length?(l=+e[0],c=+e[1],y()):[l,c]},v.angle=function(n){return arguments.length?(t=r0(h=n%360*YJ),e=QJ(h),y()):h*UJ},v.reflectX=function(e){return arguments.length?(u=e?-1:1,y()):u<0},v.reflectY=function(e){return arguments.length?(d=e?-1:1,y()):d<0},v.fitExtent=function(e,t){return M4(v,e,t)},v.fitSize=function(e,t){return O4(v,e,t)},v.fitWidth=function(e,t){return A4(v,e,t)},v.fitHeight=function(e,t){return T4(v,e,t)},v},geoInterpolate:function(e,t){var n=e[0]*YJ,r=e[1]*YJ,i=t[0]*YJ,a=t[1]*YJ,s=QJ(r),o=r0(r),l=QJ(a),c=r0(a),u=s*QJ(n),d=s*r0(n),h=l*QJ(i),f=l*r0(i),m=2*l0(a0(c0(a-r)+s*l*c0(i-n))),p=r0(m),g=m?function(e){var t=r0(e*=m)/p,n=r0(m-e)/p,r=n*u+t*h,i=n*d+t*f,a=n*o+t*c;return[XJ(i,r)*UJ,XJ(a,a0(r*r+i*i))*UJ]}:function(){return[n*UJ,r*UJ]};return g.distance=m,g},geoLength:u2,geoMercator:function(){return G4(q4).scale(961/HJ)},geoMercatorRaw:q4,geoNaturalEarth1:function(){return z4(o3).scale(175.295)},geoNaturalEarth1Raw:o3,geoOrthographic:function(){return z4(l3).scale(249.5).clipAngle(90.000001)},geoOrthographicRaw:l3,geoPath:function(e,t){let n,r,i=3,a=4.5;function s(e){return e&&("function"==typeof a&&r.pointRadius(+a.apply(this,arguments)),g0(e,n(r))),r.result()}return s.area=function(e){return g0(e,n(A2)),A2.result()},s.measure=function(e){return g0(e,n(y4)),y4.result()},s.bounds=function(e){return g0(e,n(H2)),H2.result()},s.centroid=function(e){return g0(e,n(t4)),t4.result()},s.projection=function(t){return arguments.length?(n=null==t?(e=null,k2):(e=t).stream,s):e},s.context=function(e){return arguments.length?(r=null==e?(t=null,new k4(i)):new d4(t=e),"function"!=typeof a&&r.pointRadius(a),s):t},s.pointRadius=function(e){return arguments.length?(a="function"==typeof e?e:(r.pointRadius(+e),+e),s):a},s.digits=function(e){if(!arguments.length)return i;if(null==e)i=null;else{const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);i=t}return null===t&&(r=new k4(i)),s},s.projection(e).digits(i).context(t)},geoProjection:z4,geoProjectionMutator:F4,geoRotation:z1,geoStereographic:function(){return z4(c3).scale(250).clipAngle(142)},geoStereographicRaw:c3,geoStream:g0,geoTransform:function(e){return{stream:C4(e)}},geoTransverseMercator:function(){var e=G4(u3),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)},geoTransverseMercatorRaw:u3,gray:function(e,t){return new WC(e,0,0,null==t?1:t)},greatest:CS,greatestIndex:function(e,t=wk){if(1===t.length)return wS(e,t);let n,r=-1,i=-1;for(const a of e)++i,(r<0?0===t(a,a):t(a,n)>0)&&(n=a,r=i);return r},group:Zk,groupSort:function(e,t,n){return(2!==t.length?sS(tS(e,t,n),([e,t],[n,r])=>wk(t,r)||wk(e,n)):sS(Zk(e,n),([e,n],[r,i])=>t(n,i)||wk(e,r))).map(([e])=>e)},groups:Jk,hcl:YC,hierarchy:p3,histogram:bS,hsl:SC,html:bJ,image:function(e,t){return new Promise(function(n,r){var i=new Image;for(var a in t)i[a]=t[a];i.onerror=r,i.onload=function(){n(i)},i.src=e})},index:function(e,...t){return iS(e,Qk,rS,t)},indexes:function(e,...t){return iS(e,Array.from,rS,t)},interpolate:CE,interpolateArray:function(e,t){return(vE(t)?yE:bE)(e,t)},interpolateBasis:oE,interpolateBasisClosed:lE,interpolateBlues:D5,interpolateBrBG:U6,interpolateBuGn:u5,interpolateBuPu:h5,interpolateCividis:function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+")"},interpolateCool:Y5,interpolateCubehelix:HE,interpolateCubehelixDefault:H5,interpolateCubehelixLong:UE,interpolateDate:_E,interpolateDiscrete:function(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}},interpolateGnBu:m5,interpolateGreens:I5,interpolateGreys:z5,interpolateHcl:$E,interpolateHclLong:VE,interpolateHsl:FE,interpolateHslLong:BE,interpolateHue:function(e,t){var n=dE(+e,+t);return function(e){var t=n(e);return t-360*Math.floor(t/360)}},interpolateInferno:t8,interpolateLab:function(e,t){var n=fE((e=BC(e)).l,(t=BC(t)).l),r=fE(e.a,t.a),i=fE(e.b,t.b),a=fE(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=i(t),e.opacity=a(t),e+""}},interpolateMagma:e8,interpolateNumber:wE,interpolateNumberArray:yE,interpolateObject:jE,interpolateOrRd:g5,interpolateOranges:K5,interpolatePRGn:q6,interpolatePiYG:X6,interpolatePlasma:n8,interpolatePuBu:b5,interpolatePuBuGn:y5,interpolatePuOr:Z6,interpolatePuRd:w5,interpolatePurples:B5,interpolateRainbow:function(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return q5.h=360*e-100,q5.s=1.5-1.5*t,q5.l=.8-.9*t,q5+""},interpolateRdBu:e5,interpolateRdGy:n5,interpolateRdPu:N5,interpolateRdYlBu:i5,interpolateRdYlGn:s5,interpolateReds:$5,interpolateRgb:mE,interpolateRgbBasis:gE,interpolateRgbBasisClosed:xE,interpolateRound:EE,interpolateSinebow:function(e){var t;return e=(.5-e)*Math.PI,G5.r=255*(t=Math.sin(e))*t,G5.g=255*(t=Math.sin(e+X5))*t,G5.b=255*(t=Math.sin(e+Q5))*t,G5+""},interpolateSpectral:l5,interpolateString:SE,interpolateTransformCss:DE,interpolateTransformSvg:RE,interpolateTurbo:function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"},interpolateViridis:J5,interpolateWarm:U5,interpolateYlGn:E5,interpolateYlGnBu:S5,interpolateYlOrBr:M5,interpolateYlOrRd:A5,interpolateZoom:LE,interrupt:rX,intersection:function(e,...t){e=new Uk(e),t=t.map(FS);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e},interval:function(e,t,n){var r=new KG,i=t;return null==t?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(e,t,n){t=+t,n=null==n?$G():+n,r._restart(function a(s){s+=i,r._restart(a,i+=t,n),e(s)},t,n)},r.restart(e,t,n),r)},isoFormat:WA,isoParse:$A,json:function(e,t){return fetch(e,t).then(xJ)},lab:BC,lch:function(e,t,n,r){return 1===arguments.length?UC(e):new qC(n,t,e,null==r?1:r)},least:function(e,t=wk){let n,r=!1;if(1===t.length){let i;for(const a of e){const e=t(a);(r?wk(e,i)<0:0===wk(e,e))&&(n=a,i=e,r=!0)}}else for(const i of e)(r?t(i,n)<0:0===t(i,i))&&(n=i,r=!0);return n},leastIndex:DS,line:kp,lineRadial:Tp,link:Vp,linkHorizontal:function(){return Vp(zp)},linkRadial:function(){const e=Vp(Bp);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e},linkVertical:function(){return Vp(Fp)},local:gG,map:function(e,t){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof t)throw new TypeError("mapper is not a function");return Array.from(e,(n,r)=>t(n,r,e))},matcher:fq,max:_S,maxIndex:wS,mean:function(e,t){let n=0,r=0;if(void 0===t)for(let i of e)null!=i&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of e)null!=(a=t(a,++i,e))&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n},median:function(e,t){return ES(e,.5,t)},medianIndex:function(e,t){return MS(e,.5,t)},merge:OS,min:jS,minIndex:NS,mode:function(e,t){const n=new Hk;if(void 0===t)for(let a of e)null!=a&&a>=a&&n.set(a,(n.get(a)||0)+1);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&i>=i&&n.set(i,(n.get(i)||0)+1)}let r,i=0;for(const[a,s]of n)s>i&&(i=s,r=a);return r},namespace:iq,namespaces:rq,nice:yS,now:$G,pack:function(){var e=null,t=1,n=1,r=j3;function i(i){const a=S3();return i.x=t/2,i.y=n/2,e?i.eachBefore(W3(e)).eachAfter($3(r,.5,a)).eachBefore(V3(1)):i.eachBefore(W3(B3)).eachAfter($3(j3,1,a)).eachAfter($3(r,i.r/Math.min(t,n),a)).eachBefore(V3(Math.min(t,n)/(2*i.r))),i}return i.radius=function(t){return arguments.length?(e=_3(t),i):e},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(e){return arguments.length?(r="function"==typeof e?e:N3(+e),i):r},i},packEnclose:function(e){return C3(e,S3())},packSiblings:function(e){return F3(e,S3()),e},pairs:function(e,t=AS){const n=[];let r,i=!1;for(const a of e)i&&n.push(t(r,a)),r=a,i=!0;return n},partition:function(){var e=1,t=1,n=0,r=!1;function i(i){var a=i.height+1;return i.x0=i.y0=n,i.x1=e,i.y1=t/a,i.eachBefore(function(e,t){return function(r){r.children&&H3(r,r.x0,e*(r.depth+1)/t,r.x1,e*(r.depth+2)/t);var i=r.x0,a=r.y0,s=r.x1-n,o=r.y1-n;s<i&&(i=s=(i+s)/2),o<a&&(a=o=(a+o)/2),r.x0=i,r.y0=a,r.x1=s,r.y1=o}}(t,a)),r&&i.eachBefore(K3),i}return i.round=function(e){return arguments.length?(r=!!e,i):r},i.size=function(n){return arguments.length?(e=+n[0],t=+n[1],i):[e,t]},i.padding=function(e){return arguments.length?(n=+e,i):n},i},path:dp,pathRound:function(e=3){return new up(+e)},permute:aS,pie:function(){var e=Ep,t=Cp,n=null,r=Um(0),i=Um(rp),a=Um(0);function s(s){var o,l,c,u,d,h=(s=bp(s)).length,f=0,m=new Array(h),p=new Array(h),g=+r.apply(this,arguments),x=Math.min(rp,Math.max(-rp,i.apply(this,arguments)-g)),y=Math.min(Math.abs(x)/h,a.apply(this,arguments)),v=y*(x<0?-1:1);for(o=0;o<h;++o)(d=p[m[o]=o]=+e(s[o],o,s))>0&&(f+=d);for(null!=t?m.sort(function(e,n){return t(p[e],p[n])}):null!=n&&m.sort(function(e,t){return n(s[e],s[t])}),o=0,c=f?(x-h*v)/f:0;o<h;++o,g=u)l=m[o],u=g+((d=p[l])>0?d*c:0)+v,p[l]={data:s[l],index:o,value:d,startAngle:g,endAngle:u,padAngle:y};return p}return s.value=function(t){return arguments.length?(e="function"==typeof t?t:Um(+t),s):e},s.sortValues=function(e){return arguments.length?(t=e,n=null,s):t},s.sort=function(e){return arguments.length?(n=e,t=null,s):n},s.startAngle=function(e){return arguments.length?(r="function"==typeof e?e:Um(+e),s):r},s.endAngle=function(e){return arguments.length?(i="function"==typeof e?e:Um(+e),s):i},s.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:Um(+e),s):a},s},piecewise:YE,pointRadial:Rp,pointer:vG,pointers:function(e,t){return e.target&&(e=yG(e),void 0===t&&(t=e.currentTarget),e=e.touches||[e]),Array.from(e,e=>vG(e,t))},polygonArea:function(e){for(var t,n=-1,r=e.length,i=e[r-1],a=0;++n<r;)t=i,i=e[n],a+=t[1]*i[0]-t[0]*i[1];return a/2},polygonCentroid:function(e){for(var t,n,r=-1,i=e.length,a=0,s=0,o=e[i-1],l=0;++r<i;)t=o,o=e[r],l+=n=t[0]*o[1]-o[0]*t[1],a+=(t[0]+o[0])*n,s+=(t[1]+o[1])*n;return[a/(l*=3),s/l]},polygonContains:function(e,t){for(var n,r,i=e.length,a=e[i-1],s=t[0],o=t[1],l=a[0],c=a[1],u=!1,d=0;d<i;++d)n=(a=e[d])[0],(r=a[1])>o!=c>o&&s<(l-n)*(o-r)/(c-r)+n&&(u=!u),l=n,c=r;return u},polygonHull:function(e){if((n=e.length)<3)return null;var t,n,r=new Array(n),i=new Array(n);for(t=0;t<n;++t)r[t]=[+e[t][0],+e[t][1],t];for(r.sort(d6),t=0;t<n;++t)i[t]=[r[t][0],-r[t][1]];var a=h6(r),s=h6(i),o=s[0]===a[0],l=s[s.length-1]===a[a.length-1],c=[];for(t=a.length-1;t>=0;--t)c.push(e[r[a[t]][2]]);for(t=+o;t<s.length-l;++t)c.push(e[r[s[t]][2]]);return c},polygonLength:function(e){for(var t,n,r=-1,i=e.length,a=e[i-1],s=a[0],o=a[1],l=0;++r<i;)t=s,n=o,t-=s=(a=e[r])[0],n-=o=a[1],l+=Math.hypot(t,n);return l},precisionFixed:vP,precisionPrefix:bP,precisionRound:_P,quadtree:SJ,quantile:ES,quantileIndex:MS,quantileSorted:PS,quantize:function(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n},quickselect:kS,radialArea:Dp,radialLine:Tp,randomBates:v6,randomBernoulli:w6,randomBeta:k6,randomBinomial:S6,randomCauchy:E6,randomExponential:b6,randomGamma:N6,randomGeometric:j6,randomInt:p6,randomIrwinHall:y6,randomLcg:function(e=Math.random()){let t=0|(0<=e&&e<1?e/O6:Math.abs(e));return()=>(t=1664525*t+1013904223|0,O6*(t>>>0))},randomLogNormal:x6,randomLogistic:P6,randomNormal:g6,randomPareto:_6,randomPoisson:M6,randomUniform:m6,randomWeibull:C6,range:TS,rank:function(e,t=wk){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");let n=Array.from(e);const r=new Float64Array(n.length);2!==t.length&&(n=n.map(t),t=wk);const i=(e,r)=>t(n[e],n[r]);let a,s;return(e=Uint32Array.from(n,(e,t)=>t)).sort(t===wk?(e,t)=>lS(n[e],n[t]):oS(i)),e.forEach((e,t)=>{const n=i(e,void 0===a?e:a);n>=0?((void 0===a||n>0)&&(a=e,s=t),r[e]=s):r[e]=NaN}),r},reduce:function(e,t,n){if("function"!=typeof t)throw new TypeError("reducer is not a function");const r=e[Symbol.iterator]();let i,a,s=-1;if(arguments.length<3){if(({done:i,value:n}=r.next()),i)return;++s}for(;({done:i,value:a}=r.next()),!i;)n=t(n,a,++s,e);return n},reverse:function(e){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(e).reverse()},rgb:xC,ribbon:function(){return qQ()},ribbonArrow:function(){return qQ(YQ)},rollup:tS,rollups:nS,scaleBand:US,scaleDiverging:rT,scaleDivergingLog:iT,scaleDivergingPow:sT,scaleDivergingSqrt:oT,scaleDivergingSymlog:aT,scaleIdentity:kP,scaleImplicit:KS,scaleLinear:NP,scaleLog:DP,scaleOrdinal:HS,scalePoint:qS,scalePow:VP,scaleQuantile:YP,scaleQuantize:qP,scaleRadial:UP,scaleSequential:XA,scaleSequentialLog:QA,scaleSequentialPow:JA,scaleSequentialQuantile:tT,scaleSequentialSqrt:eT,scaleSequentialSymlog:ZA,scaleSqrt:KP,scaleSymlog:zP,scaleThreshold:GP,scaleTime:UA,scaleUtc:YA,scan:function(e,t){const n=DS(e,t);return n<0?void 0:n},schemeAccent:D6,schemeBlues:T5,schemeBrBG:H6,schemeBuGn:c5,schemeBuPu:d5,schemeCategory10:T6,schemeDark2:R6,schemeGnBu:f5,schemeGreens:R5,schemeGreys:L5,schemeObservable10:I6,schemeOrRd:p5,schemeOranges:V5,schemePRGn:Y6,schemePaired:L6,schemePastel1:z6,schemePastel2:F6,schemePiYG:G6,schemePuBu:v5,schemePuBuGn:x5,schemePuOr:Q6,schemePuRd:_5,schemePurples:F5,schemeRdBu:J6,schemeRdGy:t5,schemeRdPu:j5,schemeRdYlBu:r5,schemeRdYlGn:a5,schemeReds:W5,schemeSet1:B6,schemeSet2:W6,schemeSet3:$6,schemeSpectral:o5,schemeTableau10:V6,schemeYlGn:C5,schemeYlGnBu:k5,schemeYlOrBr:P5,schemeYlOrRd:O5,select:mG,selectAll:function(e){return"string"==typeof e?new hG([document.querySelectorAll(e)],[document.documentElement]):new hG([uq(e)],dG)},selection:fG,selector:cq,selectorAll:hq,shuffle:RS,shuffler:IS,some:function(e,t){if("function"!=typeof t)throw new TypeError("test is not a function");let n=-1;for(const r of e)if(t(r,++n,e))return!0;return!1},sort:sS,stack:ux,stackOffsetDiverging:function(e,t){if((o=e.length)>0)for(var n,r,i,a,s,o,l=0,c=e[t[0]].length;l<c;++l)for(a=s=0,n=0;n<o;++n)(i=(r=e[t[n]][l])[1]-r[0])>0?(r[0]=a,r[1]=a+=i):i<0?(r[1]=s,r[0]=s+=i):(r[0]=0,r[1]=i)},stackOffsetExpand:dx,stackOffsetNone:sx,stackOffsetSilhouette:hx,stackOffsetWiggle:fx,stackOrderAppearance:mx,stackOrderAscending:gx,stackOrderDescending:function(e){return gx(e).reverse()},stackOrderInsideOut:function(e){var t,n,r=e.length,i=e.map(xx),a=mx(e),s=0,o=0,l=[],c=[];for(t=0;t<r;++t)n=a[t],s<o?(s+=i[n],l.push(n)):(o+=i[n],c.push(n));return c.reverse().concat(l)},stackOrderNone:ox,stackOrderReverse:function(e){return ox(e).reverse()},stratify:function(){var e,t=G3,n=X3;function r(r){var i,a,s,o,l,c,u,d,h=Array.from(r),f=t,m=n,p=new Map;if(null!=e){const t=h.map((t,n)=>function(e){let t=(e=`${e}`).length;return Z3(e,t-1)&&!Z3(e,t-2)&&(e=e.slice(0,-1)),"/"===e[0]?e:`/${e}`}(e(t,n,r))),n=t.map(Q3),i=new Set(t).add("");for(const e of n)i.has(e)||(i.add(e),t.push(e),n.push(Q3(e)),h.push(q3));f=(e,n)=>t[n],m=(e,t)=>n[t]}for(s=0,i=h.length;s<i;++s)a=h[s],c=h[s]=new b3(a),null!=(u=f(a,s,r))&&(u+="")&&(d=c.id=u,p.set(d,p.has(d)?Y3:c)),null!=(u=m(a,s,r))&&(u+="")&&(c.parent=u);for(s=0;s<i;++s)if(u=(c=h[s]).parent){if(!(l=p.get(u)))throw new Error("missing: "+u);if(l===Y3)throw new Error("ambiguous: "+u);l.children?l.children.push(c):l.children=[c],c.parent=l}else{if(o)throw new Error("multiple roots");o=c}if(!o)throw new Error("no root");if(null!=e){for(;o.data===q3&&1===o.children.length;)o=o.children[0],--i;for(let e=h.length-1;e>=0&&(c=h[e]).data===q3;--e)c.data=null}if(o.parent=U3,o.eachBefore(function(e){e.depth=e.parent.depth+1,--i}).eachBefore(v3),o.parent=null,i>0)throw new Error("cycle");return o}return r.id=function(e){return arguments.length?(t=_3(e),r):t},r.parentId=function(e){return arguments.length?(n=_3(e),r):n},r.path=function(t){return arguments.length?(e=_3(t),r):e},r},style:Iq,subset:function(e,t){return BS(t,e)},sum:function(e,t){let n=0;if(void 0===t)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n},superset:BS,svg:_J,symbol:xg,symbolAsterisk:Hp,symbolCircle:Up,symbolCross:Yp,symbolDiamond:Xp,symbolDiamond2:Qp,symbolPlus:Zp,symbolSquare:Jp,symbolSquare2:eg,symbolStar:ig,symbolTimes:mg,symbolTriangle:sg,symbolTriangle2:lg,symbolWye:fg,symbolX:mg,symbols:pg,symbolsFill:pg,symbolsStroke:gg,text:fJ,thresholdFreedmanDiaconis:function(e,t,n){const r=Lk(e),i=ES(e,.75)-ES(e,.25);return r&&i?Math.ceil((n-t)/(2*i*Math.pow(r,-1/3))):1},thresholdScott:function(e,t,n){const r=Lk(e),i=$k(e);return r&&i?Math.ceil((n-t)*Math.cbrt(r)/(3.49*i)):1},thresholdSturges:vS,tickFormat:wP,tickIncrement:gS,tickStep:xS,ticks:pS,timeDay:yM,timeDays:vM,get timeFormat(){return yO},timeFormatDefaultLocale:FA,timeFormatLocale:gO,timeFriday:MM,timeFridays:LM,timeHour:mM,timeHours:pM,timeInterval:ZP,timeMillisecond:JP,timeMilliseconds:eM,timeMinute:uM,timeMinutes:dM,timeMonday:SM,timeMondays:TM,timeMonth:eO,timeMonths:tO,get timeParse(){return vO},timeSaturday:OM,timeSaturdays:zM,timeSecond:lM,timeSeconds:cM,timeSunday:kM,timeSundays:AM,timeThursday:PM,timeThursdays:IM,timeTickInterval:hO,timeTicks:dO,timeTuesday:CM,timeTuesdays:DM,timeWednesday:EM,timeWednesdays:RM,timeWeek:kM,timeWeeks:AM,timeYear:iO,timeYears:aO,timeout:XG,timer:HG,timerFlush:UG,transition:NX,transpose:LS,tree:function(){var e=J3,t=1,n=1,r=null;function i(i){var l=function(e){for(var t,n,r,i,a,s=new i6(e,0),o=[s];t=o.pop();)if(r=t._.children)for(t.children=new Array(a=r.length),i=a-1;i>=0;--i)o.push(n=t.children[i]=new i6(r[i],i)),n.parent=t;return(s.parent=new i6(null,0)).children=[s],s}(i);if(l.eachAfter(a),l.parent.m=-l.z,l.eachBefore(s),r)i.eachBefore(o);else{var c=i,u=i,d=i;i.eachBefore(function(e){e.x<c.x&&(c=e),e.x>u.x&&(u=e),e.depth>d.depth&&(d=e)});var h=c===u?1:e(c,u)/2,f=h-c.x,m=t/(u.x+h+f),p=n/(d.depth||1);i.eachBefore(function(e){e.x=(e.x+f)*m,e.y=e.depth*p})}return i}function a(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n){!function(e){for(var t,n=0,r=0,i=e.children,a=i.length;--a>=0;)(t=i[a]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}(t);var a=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-a):t.z=a}else i&&(t.z=i.z+e(t._,i._));t.parent.A=function(t,n,r){if(n){for(var i,a=t,s=t,o=n,l=a.parent.children[0],c=a.m,u=s.m,d=o.m,h=l.m;o=t6(o),a=e6(a),o&&a;)l=e6(l),(s=t6(s)).a=t,(i=o.z+d-a.z-c+e(o._,a._))>0&&(n6(r6(o,t,r),t,i),c+=i,u+=i),d+=o.m,c+=a.m,h+=l.m,u+=s.m;o&&!t6(s)&&(s.t=o,s.m+=d-u),a&&!e6(l)&&(l.t=a,l.m+=c-h,r=t)}return r}(t,i,t.parent.A||r[0])}function s(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function o(e){e.x*=t,e.y=e.depth*n}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i},treemap:function(){var e=l6,t=!1,n=1,r=1,i=[0],a=j3,s=j3,o=j3,l=j3,c=j3;function u(e){return e.x0=e.y0=0,e.x1=n,e.y1=r,e.eachBefore(d),i=[0],t&&e.eachBefore(K3),e}function d(t){var n=i[t.depth],r=t.x0+n,u=t.y0+n,d=t.x1-n,h=t.y1-n;d<r&&(r=d=(r+d)/2),h<u&&(u=h=(u+h)/2),t.x0=r,t.y0=u,t.x1=d,t.y1=h,t.children&&(n=i[t.depth+1]=a(t)/2,r+=c(t)-n,u+=s(t)-n,(d-=o(t)-n)<r&&(r=d=(r+d)/2),(h-=l(t)-n)<u&&(u=h=(u+h)/2),e(t,r,u,d,h))}return u.round=function(e){return arguments.length?(t=!!e,u):t},u.size=function(e){return arguments.length?(n=+e[0],r=+e[1],u):[n,r]},u.tile=function(t){return arguments.length?(e=w3(t),u):e},u.padding=function(e){return arguments.length?u.paddingInner(e).paddingOuter(e):u.paddingInner()},u.paddingInner=function(e){return arguments.length?(a="function"==typeof e?e:N3(+e),u):a},u.paddingOuter=function(e){return arguments.length?u.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):u.paddingTop()},u.paddingTop=function(e){return arguments.length?(s="function"==typeof e?e:N3(+e),u):s},u.paddingRight=function(e){return arguments.length?(o="function"==typeof e?e:N3(+e),u):o},u.paddingBottom=function(e){return arguments.length?(l="function"==typeof e?e:N3(+e),u):l},u.paddingLeft=function(e){return arguments.length?(c="function"==typeof e?e:N3(+e),u):c},u},treemapBinary:function(e,t,n,r,i){var a,s,o=e.children,l=o.length,c=new Array(l+1);for(c[0]=s=a=0;a<l;++a)c[a+1]=s+=o[a].value;!function e(t,n,r,i,a,s,l){if(t>=n-1){var u=o[t];return u.x0=i,u.y0=a,u.x1=s,void(u.y1=l)}for(var d=c[t],h=r/2+d,f=t+1,m=n-1;f<m;){var p=f+m>>>1;c[p]<h?f=p+1:m=p}h-c[f-1]<c[f]-h&&t+1<f&&--f;var g=c[f]-d,x=r-g;if(s-i>l-a){var y=r?(i*x+s*g)/r:s;e(t,f,g,i,a,y,l),e(f,n,x,y,a,s,l)}else{var v=r?(a*x+l*g)/r:l;e(t,f,g,i,a,s,v),e(f,n,x,i,v,s,l)}}(0,l,e.value,t,n,r,i)},treemapDice:H3,treemapResquarify:c6,treemapSlice:a6,treemapSliceDice:function(e,t,n,r,i){(1&e.depth?a6:H3)(e,t,n,r,i)},treemapSquarify:l6,tsv:gJ,tsvFormat:iJ,tsvFormatBody:aJ,tsvFormatRow:oJ,tsvFormatRows:sJ,tsvFormatValue:lJ,tsvParse:nJ,tsvParseRows:rJ,union:function(...e){const t=new Uk;for(const n of e)for(const e of n)t.add(e);return t},unixDay:wM,unixDays:jM,utcDay:bM,utcDays:_M,get utcFormat(){return bO},utcFriday:HM,utcFridays:ZM,utcHour:gM,utcHours:xM,utcMillisecond:JP,utcMilliseconds:eM,utcMinute:hM,utcMinutes:fM,utcMonday:WM,utcMondays:qM,utcMonth:nO,utcMonths:rO,get utcParse(){return _O},utcSaturday:UM,utcSaturdays:JM,utcSecond:lM,utcSeconds:cM,utcSunday:BM,utcSundays:YM,utcThursday:KM,utcThursdays:QM,utcTickInterval:uO,utcTicks:cO,utcTuesday:$M,utcTuesdays:GM,utcWednesday:VM,utcWednesdays:XM,utcWeek:BM,utcWeeks:YM,utcYear:sO,utcYears:oO,variance:Wk,window:Aq,xml:vJ,zip:function(){return LS(arguments)},zoom:function(){var e,t,n,r=u8,i=d8,a=p8,s=f8,o=m8,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,d=LE,h=ZY("start","zoom","end"),f=0,m=10;function p(e){e.property("__zoom",h8).on("wheel.zoom",w,{passive:!1}).on("mousedown.zoom",j).on("dblclick.zoom",N).filter(o).on("touchstart.zoom",k).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",C).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(e,t){return(t=Math.max(l[0],Math.min(l[1],t)))===e.k?e:new a8(t,e.x,e.y)}function x(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new a8(e.k,r,i)}function y(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function v(e,t,n,r){e.on("start.zoom",function(){b(this,arguments).event(r).start()}).on("interrupt.zoom end.zoom",function(){b(this,arguments).event(r).end()}).tween("zoom",function(){var e=this,a=arguments,s=b(e,a).event(r),o=i.apply(e,a),l=null==n?y(o):"function"==typeof n?n.apply(e,a):n,c=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),u=e.__zoom,h="function"==typeof t?t.apply(e,a):t,f=d(u.invert(l).concat(c/u.k),h.invert(l).concat(c/h.k));return function(e){if(1===e)e=h;else{var t=f(e),n=c/t[2];e=new a8(n,l[0]-t[0]*n,l[1]-t[1]*n)}s.zoom(null,e)}})}function b(e,t,n){return!n&&e.__zooming||new _(e,t)}function _(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=i.apply(e,t),this.taps=0}function w(e,...t){if(r.apply(this,arguments)){var n=b(this,t).event(e),i=this.__zoom,o=Math.max(l[0],Math.min(l[1],i.k*Math.pow(2,s.apply(this,arguments)))),u=vG(e);if(n.wheel)n.mouse[0][0]===u[0]&&n.mouse[0][1]===u[1]||(n.mouse[1]=i.invert(n.mouse[0]=u)),clearTimeout(n.wheel);else{if(i.k===o)return;n.mouse=[u,i.invert(u)],rX(this),n.start()}c8(e),n.wheel=setTimeout(function(){n.wheel=null,n.end()},150),n.zoom("mouse",a(x(g(i,o),n.mouse[0],n.mouse[1]),n.extent,c))}}function j(e,...t){if(!n&&r.apply(this,arguments)){var i=e.currentTarget,s=b(this,t,!0).event(e),o=mG(e.view).on("mousemove.zoom",function(e){if(c8(e),!s.moved){var t=e.clientX-u,n=e.clientY-d;s.moved=t*t+n*n>f}s.event(e).zoom("mouse",a(x(s.that.__zoom,s.mouse[0]=vG(e,i),s.mouse[1]),s.extent,c))},!0).on("mouseup.zoom",function(e){o.on("mousemove.zoom mouseup.zoom",null),kG(e.view,s.moved),c8(e),s.event(e).end()},!0),l=vG(e,i),u=e.clientX,d=e.clientY;NG(e.view),l8(e),s.mouse=[l,this.__zoom.invert(l)],rX(this),s.start()}}function N(e,...t){if(r.apply(this,arguments)){var n=this.__zoom,s=vG(e.changedTouches?e.changedTouches[0]:e,this),o=n.invert(s),l=n.k*(e.shiftKey?.5:2),d=a(x(g(n,l),s,o),i.apply(this,t),c);c8(e),u>0?mG(this).transition().duration(u).call(v,d,s,e):mG(this).call(p.transform,d,s,e)}}function k(n,...i){if(r.apply(this,arguments)){var a,s,o,l,c=n.touches,u=c.length,d=b(this,i,n.changedTouches.length===u).event(n);for(l8(n),s=0;s<u;++s)l=[l=vG(o=c[s],this),this.__zoom.invert(l),o.identifier],d.touch0?d.touch1||d.touch0[2]===l[2]||(d.touch1=l,d.taps=0):(d.touch0=l,a=!0,d.taps=1+!!e);e&&(e=clearTimeout(e)),a&&(d.taps<2&&(t=l[0],e=setTimeout(function(){e=null},500)),rX(this),d.start())}}function S(e,...t){if(this.__zooming){var n,r,i,s,o=b(this,t).event(e),l=e.changedTouches,u=l.length;for(c8(e),n=0;n<u;++n)i=vG(r=l[n],this),o.touch0&&o.touch0[2]===r.identifier?o.touch0[0]=i:o.touch1&&o.touch1[2]===r.identifier&&(o.touch1[0]=i);if(r=o.that.__zoom,o.touch1){var d=o.touch0[0],h=o.touch0[1],f=o.touch1[0],m=o.touch1[1],p=(p=f[0]-d[0])*p+(p=f[1]-d[1])*p,y=(y=m[0]-h[0])*y+(y=m[1]-h[1])*y;r=g(r,Math.sqrt(p/y)),i=[(d[0]+f[0])/2,(d[1]+f[1])/2],s=[(h[0]+m[0])/2,(h[1]+m[1])/2]}else{if(!o.touch0)return;i=o.touch0[0],s=o.touch0[1]}o.zoom("touch",a(x(r,i,s),o.extent,c))}}function C(e,...r){if(this.__zooming){var i,a,s=b(this,r).event(e),o=e.changedTouches,l=o.length;for(l8(e),n&&clearTimeout(n),n=setTimeout(function(){n=null},500),i=0;i<l;++i)a=o[i],s.touch0&&s.touch0[2]===a.identifier?delete s.touch0:s.touch1&&s.touch1[2]===a.identifier&&delete s.touch1;if(s.touch1&&!s.touch0&&(s.touch0=s.touch1,delete s.touch1),s.touch0)s.touch0[1]=this.__zoom.invert(s.touch0[0]);else if(s.end(),2===s.taps&&(a=vG(a,this),Math.hypot(t[0]-a[0],t[1]-a[1])<m)){var c=mG(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return p.transform=function(e,t,n,r){var i=e.selection?e.selection():e;i.property("__zoom",h8),e!==i?v(e,t,n,r):i.interrupt().each(function(){b(this,arguments).event(r).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()})},p.scaleBy=function(e,t,n,r){p.scaleTo(e,function(){return this.__zoom.k*("function"==typeof t?t.apply(this,arguments):t)},n,r)},p.scaleTo=function(e,t,n,r){p.transform(e,function(){var e=i.apply(this,arguments),r=this.__zoom,s=null==n?y(e):"function"==typeof n?n.apply(this,arguments):n,o=r.invert(s),l="function"==typeof t?t.apply(this,arguments):t;return a(x(g(r,l),s,o),e,c)},n,r)},p.translateBy=function(e,t,n,r){p.transform(e,function(){return a(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),c)},null,r)},p.translateTo=function(e,t,n,r,s){p.transform(e,function(){var e=i.apply(this,arguments),s=this.__zoom,o=null==r?y(e):"function"==typeof r?r.apply(this,arguments):r;return a(s8.translate(o[0],o[1]).scale(s.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,c)},r,s)},_.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=mG(this.that).datum();h.call(e,this.that,new i8(e,{sourceEvent:this.sourceEvent,target:p,transform:this.that.__zoom,dispatch:h}),t)}},p.wheelDelta=function(e){return arguments.length?(s="function"==typeof e?e:r8(+e),p):s},p.filter=function(e){return arguments.length?(r="function"==typeof e?e:r8(!!e),p):r},p.touchable=function(e){return arguments.length?(o="function"==typeof e?e:r8(!!e),p):o},p.extent=function(e){return arguments.length?(i="function"==typeof e?e:r8([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),p):i},p.scaleExtent=function(e){return arguments.length?(l[0]=+e[0],l[1]=+e[1],p):[l[0],l[1]]},p.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],p):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},p.constrain=function(e){return arguments.length?(a=e,p):a},p.duration=function(e){return arguments.length?(u=+e,p):u},p.interpolate=function(e){return arguments.length?(d=e,p):d},p.on=function(){var e=h.on.apply(h,arguments);return e===h?p:e},p.clickDistance=function(e){return arguments.length?(f=(e=+e)*e,p):Math.sqrt(f)},p.tapDistance=function(e){return arguments.length?(m=+e,p):m},p},zoomIdentity:s8,zoomTransform:o8},Symbol.toStringTag,{value:"Module"})),x8=a(g8);var y8,v8,b8,_8,w8,j8={exports:{}};function N8(){return v8?y8:(v8=1,y8="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}function k8(){if(_8)return b8;_8=1;var e=N8();function t(){}function n(){}return n.resetWarningCache=t,b8=function(){function r(t,n,r,i,a,s){if(s!==e){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function i(){return r}r.isRequired=r;var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a}}function S8(){return w8||(w8=1,j8.exports=k8()()),j8.exports}var C8,E8={};function P8(){if(C8)return E8;C8=1,Object.defineProperty(E8,"__esModule",{value:!0}),E8.setArcData=E8.addText=E8.calculateRotation=E8.updateDimensions=E8.centerGraph=E8.calculateRadius=void 0;var e=x8;E8.calculateRadius=function(e,n,r,i,a){e.current<2*n.current?r.current=(e.current-i.current.left-i.current.right)/2:r.current=n.current-i.current.top-i.current.bottom,t(e,a,r,i)};var t=function(e,t,n,r){r.current.left=e.current/2-n.current+r.current.right,t.current.attr("transform","translate("+r.current.left+", "+r.current.top+")")};E8.centerGraph=t,E8.updateDimensions=function(e,t,n,r,i){var a=e.marginInPercent,s=t.current.node().getBoundingClientRect(),o=s.width,l=s.height;n.current.left=o*a,n.current.right=o*a,r.current=o-n.current.left-n.current.right,n.current.top=l*a,n.current.bottom=l*a,i.current=r.current/2-n.current.top-n.current.bottom},E8.calculateRotation=function(e,t,n,r){var a=t.current*r,s=n.current/500*15,o=i(e),l=[0,-s/2],c=[l[0]-a*Math.cos(o),l[1]-a*Math.sin(o)],u=[l[0]-s*Math.cos(o-Math.PI/2),l[1]-s*Math.sin(o-Math.PI/2)],d=[l[0]-s*Math.cos(o+Math.PI/2),l[1]-s*Math.sin(o+Math.PI/2)];return"M ".concat(u[0]," ").concat(u[1]," L ").concat(c[0]," ").concat(c[1]," L ").concat(d[0]," ").concat(d[1])},E8.addText=function(e,t,n,i,a){var s=t.formatTextValue,o=t.fontSize,l=s?s(r(e)):r(e)+"%";a.current.append("g").attr("class","text-group").attr("transform","translate(".concat(n.current,", ").concat(n.current/2+20,")")).append("text").text(l).style("font-size",function(){return o||"".concat(i.current/11/(l.length>10?l.length/10:1),"px")}).style("fill",t.textColor).style("text-anchor","middle")},E8.setArcData=function(e,t,r,i){t.current=e.arcsLength?e.arcsLength.length:e.nrOfLevels,t.current===e.colors.length?r.current=e.colors:r.current=n(e,t),i.current=[];for(var a=0;a<t.current;a++){var s={value:e.arcsLength&&e.arcsLength.length>a?e.arcsLength[a]:1,color:r.current[a]};i.current.push(s)}};var n=function(t,n){for(var r=t.colors,i=(0,e.scaleLinear)().domain([1,n.current]).range([r[0],r[r.length-1]]).interpolate(e.interpolateHsl),a=[],s=1;s<=n.current;s++)a.push(i(s));return a},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Math.round(100*e*Math.pow(10,t))/Math.pow(10,t)},i=function(e){return e*Math.PI};return E8}var M8,O8,A8,T8,D8,R8,I8,L8,z8,F8,B8,W8,$8,V8,K8,H8,U8,Y8,q8,G8,X8,Q8,Z8,J8,e7,t7,n7,r7,i7,a7,s7,o7,l7,c7,u7,d7,h7,f7,m7,p7,g7,x7,y7,v7,b7,_7,w7,j7,N7,k7,S7,C7,E7,P7,M7,O7,A7,T7,D7,R7,I7,L7,z7,F7,B7,W7,$7,V7,K7,H7,U7,Y7,q7,G7,X7,Q7,Z7,J7,e9,t9,n9,r9,i9,a9,s9,o9,l9,c9,u9,d9,h9,f9,m9,p9,g9,x9,y9,v9,b9,_9,w9,j9,N9,k9,S9,C9,E9,P9,M9,O9,A9,T9,D9,R9,I9,L9,z9,F9,B9,W9,$9,V9,K9,H9,U9,Y9,q9,G9,X9,Q9,Z9={},J9={},eee={};function tee(){return R8?D8:(R8=1,D8=function(e,t){return e===t||e!=e&&t!=t})}function nee(){if(L8)return I8;L8=1;var e=tee();return I8=function(t,n){for(var r=t.length;r--;)if(e(t[r][0],n))return r;return-1}}function ree(){if(Y8)return U8;Y8=1;var e=T8?A8:(T8=1,A8=function(){this.__data__=[],this.size=0}),t=function(){if(F8)return z8;F8=1;var e=nee(),t=Array.prototype.splice;return z8=function(n){var r=this.__data__,i=e(r,n);return!(i<0||(i==r.length-1?r.pop():t.call(r,i,1),--this.size,0))}}(),n=function(){if(W8)return B8;W8=1;var e=nee();return B8=function(t){var n=this.__data__,r=e(n,t);return r<0?void 0:n[r][1]}}(),r=function(){if(V8)return $8;V8=1;var e=nee();return $8=function(t){return e(this.__data__,t)>-1}}(),i=function(){if(H8)return K8;H8=1;var e=nee();return K8=function(t,n){var r=this.__data__,i=e(r,t);return i<0?(++this.size,r.push([t,n])):r[i][1]=n,this}}();function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,U8=a}function iee(){if(r7)return n7;r7=1;var e="object"==typeof r&&r&&r.Object===Object&&r;return n7=e}function aee(){if(a7)return i7;a7=1;var e=iee(),t="object"==typeof self&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return i7=n}function see(){if(o7)return s7;o7=1;var e=aee().Symbol;return s7=e}function oee(){if(f7)return h7;f7=1;var e=see(),t=function(){if(c7)return l7;c7=1;var e=see(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;return l7=function(e){var t=n.call(e,i),a=e[i];try{e[i]=void 0;var s=!0}catch(l){}var o=r.call(e);return s&&(t?e[i]=a:delete e[i]),o}}(),n=function(){if(d7)return u7;d7=1;var e=Object.prototype.toString;return u7=function(t){return e.call(t)}}(),r=e?e.toStringTag:void 0;return h7=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":r&&r in Object(e)?t(e):n(e)}}function lee(){return p7?m7:(p7=1,m7=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)})}function cee(){if(x7)return g7;x7=1;var e=oee(),t=lee();return g7=function(n){if(!t(n))return!1;var r=e(n);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r}}function uee(){if(_7)return b7;_7=1;var e,t=function(){if(v7)return y7;v7=1;var e=aee()["__core-js_shared__"];return y7=e}(),n=(e=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";return b7=function(e){return!!n&&n in e}}function dee(){if(j7)return w7;j7=1;var e=Function.prototype.toString;return w7=function(t){if(null!=t){try{return e.call(t)}catch(n){}try{return t+""}catch(n){}}return""}}function hee(){if(P7)return E7;P7=1;var e=function(){if(k7)return N7;k7=1;var e=cee(),t=uee(),n=lee(),r=dee(),i=/^\[object .+?Constructor\]$/,a=Function.prototype,s=Object.prototype,o=a.toString,l=s.hasOwnProperty,c=RegExp("^"+o.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return N7=function(a){return!(!n(a)||t(a))&&(e(a)?c:i).test(r(a))}}(),t=C7?S7:(C7=1,S7=function(e,t){return null==e?void 0:e[t]});return E7=function(n,r){var i=t(n,r);return e(i)?i:void 0}}function fee(){if(O7)return M7;O7=1;var e=hee()(aee(),"Map");return M7=e}function mee(){if(T7)return A7;T7=1;var e=hee()(Object,"create");return A7=e}function pee(){if(H7)return K7;H7=1;var e=function(){if(R7)return D7;R7=1;var e=mee();return D7=function(){this.__data__=e?e(null):{},this.size=0}}(),t=L7?I7:(L7=1,I7=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}),n=function(){if(F7)return z7;F7=1;var e=mee(),t=Object.prototype.hasOwnProperty;return z7=function(n){var r=this.__data__;if(e){var i=r[n];return"__lodash_hash_undefined__"===i?void 0:i}return t.call(r,n)?r[n]:void 0}}(),r=function(){if(W7)return B7;W7=1;var e=mee(),t=Object.prototype.hasOwnProperty;return B7=function(n){var r=this.__data__;return e?void 0!==r[n]:t.call(r,n)}}(),i=function(){if(V7)return $7;V7=1;var e=mee();return $7=function(t,n){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=e&&void 0===n?"__lodash_hash_undefined__":n,this}}();function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,K7=a}function gee(){if(Q7)return X7;Q7=1;var e=G7?q7:(G7=1,q7=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e});return X7=function(t,n){var r=t.__data__;return e(n)?r["string"==typeof n?"string":"hash"]:r.map}}function xee(){if(o9)return s9;o9=1;var e=function(){if(Y7)return U7;Y7=1;var e=pee(),t=ree(),n=fee();return U7=function(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}}(),t=function(){if(J7)return Z7;J7=1;var e=gee();return Z7=function(t){var n=e(this,t).delete(t);return this.size-=n?1:0,n}}(),n=function(){if(t9)return e9;t9=1;var e=gee();return e9=function(t){return e(this,t).get(t)}}(),r=function(){if(r9)return n9;r9=1;var e=gee();return n9=function(t){return e(this,t).has(t)}}(),i=function(){if(a9)return i9;a9=1;var e=gee();return i9=function(t,n){var r=e(this,t),i=r.size;return r.set(t,n),this.size+=r.size==i?0:1,this}}();function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,s9=a}function yee(){if(d9)return u9;d9=1;var e=ree(),t=function(){if(G8)return q8;G8=1;var e=ree();return q8=function(){this.__data__=new e,this.size=0}}(),n=Q8?X8:(Q8=1,X8=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}),r=J8?Z8:(J8=1,Z8=function(e){return this.__data__.get(e)}),i=t7?e7:(t7=1,e7=function(e){return this.__data__.has(e)}),a=function(){if(c9)return l9;c9=1;var e=ree(),t=fee(),n=xee();return l9=function(r,i){var a=this.__data__;if(a instanceof e){var s=a.__data__;if(!t||s.length<199)return s.push([r,i]),this.size=++a.size,this;a=this.__data__=new n(s)}return a.set(r,i),this.size=a.size,this}}();function s(t){var n=this.__data__=new e(t);this.size=n.size}return s.prototype.clear=t,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=a,u9=s}function vee(){if(x9)return g9;x9=1;var e=xee(),t=f9?h9:(f9=1,h9=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}),n=p9?m9:(p9=1,m9=function(e){return this.__data__.has(e)});function r(t){var n=-1,r=null==t?0:t.length;for(this.__data__=new e;++n<r;)this.add(t[n])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,g9=r}function bee(){if(j9)return w9;j9=1;var e=vee(),t=v9?y9:(v9=1,y9=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}),n=_9?b9:(_9=1,b9=function(e,t){return e.has(t)});return w9=function(r,i,a,s,o,l){var c=1&a,u=r.length,d=i.length;if(u!=d&&!(c&&d>u))return!1;var h=l.get(r),f=l.get(i);if(h&&f)return h==i&&f==r;var m=-1,p=!0,g=2&a?new e:void 0;for(l.set(r,i),l.set(i,r);++m<u;){var x=r[m],y=i[m];if(s)var v=c?s(y,x,m,i,r,l):s(x,y,m,r,i,l);if(void 0!==v){if(v)continue;p=!1;break}if(g){if(!t(i,function(e,t){if(!n(g,t)&&(x===e||o(x,e,a,s,l)))return g.push(t)})){p=!1;break}}else if(x!==y&&!o(x,y,a,s,l)){p=!1;break}}return l.delete(r),l.delete(i),p}}function _ee(){if(O9)return M9;O9=1;var e=see(),t=function(){if(k9)return N9;k9=1;var e=aee().Uint8Array;return N9=e}(),n=tee(),r=bee(),i=C9?S9:(C9=1,S9=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}),a=P9?E9:(P9=1,E9=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}),s=e?e.prototype:void 0,o=s?s.valueOf:void 0;return M9=function(e,s,l,c,u,d,h){switch(l){case"[object DataView]":if(e.byteLength!=s.byteLength||e.byteOffset!=s.byteOffset)return!1;e=e.buffer,s=s.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=s.byteLength||!d(new t(e),new t(s)));case"[object Boolean]":case"[object Date]":case"[object Number]":return n(+e,+s);case"[object Error]":return e.name==s.name&&e.message==s.message;case"[object RegExp]":case"[object String]":return e==s+"";case"[object Map]":var f=i;case"[object Set]":var m=1&c;if(f||(f=a),e.size!=s.size&&!m)return!1;var p=h.get(e);if(p)return p==s;c|=2,h.set(e,s);var g=r(f(e),f(s),c,u,d,h);return h.delete(e),g;case"[object Symbol]":if(o)return o.call(e)==o.call(s)}return!1}}function wee(){if(R9)return D9;R9=1;var e=Array.isArray;return D9=e}function jee(){if(L9)return I9;L9=1;var e=T9?A9:(T9=1,A9=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}),t=wee();return I9=function(n,r,i){var a=r(n);return t(n)?a:e(a,i(n))}}function Nee(){if(V9)return $9;V9=1;var e=F9?z9:(F9=1,z9=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var s=e[n];t(s,n,e)&&(a[i++]=s)}return a}),t=W9?B9:(W9=1,B9=function(){return[]}),n=Object.prototype.propertyIsEnumerable,r=Object.getOwnPropertySymbols;return $9=r?function(t){return null==t?[]:(t=Object(t),e(r(t),function(e){return n.call(t,e)}))}:t}function kee(){return Y9?U9:(Y9=1,U9=function(e){return null!=e&&"object"==typeof e})}function See(){if(Q9)return X9;Q9=1;var e=function(){if(G9)return q9;G9=1;var e=oee(),t=kee();return q9=function(n){return t(n)&&"[object Arguments]"==e(n)}}(),t=kee(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=e(function(){return arguments}())?e:function(e){return t(e)&&r.call(e,"callee")&&!i.call(e,"callee")};return X9=a}var Cee,Eee,Pee,Mee,Oee,Aee,Tee,Dee,Ree,Iee,Lee,zee={exports:{}};function Fee(){return Pee||(Pee=1,e=zee,t=zee.exports,n=aee(),r=Eee?Cee:(Eee=1,Cee=function(){return!1}),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,s=a&&a.exports===i?n.Buffer:void 0,o=(s?s.isBuffer:void 0)||r,e.exports=o),zee.exports;var e,t,n,r,i,a,s,o}function Bee(){return Tee?Aee:(Tee=1,Aee=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991})}var Wee,$ee,Vee,Kee,Hee,Uee,Yee,qee,Gee,Xee,Qee,Zee,Jee,ete,tte,nte,rte,ite,ate,ste,ote,lte,cte,ute,dte,hte,fte,mte,pte,gte,xte,yte,vte,bte,_te,wte,jte,Nte,kte,Ste,Cte={exports:{}};function Ete(){if(Vee)return $ee;Vee=1;var e=function(){if(Ree)return Dee;Ree=1;var e=oee(),t=Bee(),n=kee(),r={};return r["[object Float32Array]"]=r["[object Float64Array]"]=r["[object Int8Array]"]=r["[object Int16Array]"]=r["[object Int32Array]"]=r["[object Uint8Array]"]=r["[object Uint8ClampedArray]"]=r["[object Uint16Array]"]=r["[object Uint32Array]"]=!0,r["[object Arguments]"]=r["[object Array]"]=r["[object ArrayBuffer]"]=r["[object Boolean]"]=r["[object DataView]"]=r["[object Date]"]=r["[object Error]"]=r["[object Function]"]=r["[object Map]"]=r["[object Number]"]=r["[object Object]"]=r["[object RegExp]"]=r["[object Set]"]=r["[object String]"]=r["[object WeakMap]"]=!1,Dee=function(i){return n(i)&&t(i.length)&&!!r[e(i)]}}(),t=Lee?Iee:(Lee=1,Iee=function(e){return function(t){return e(t)}}),n=function(){return Wee||(Wee=1,e=Cte,t=Cte.exports,n=iee(),r=t&&!t.nodeType&&t,i=r&&e&&!e.nodeType&&e,a=i&&i.exports===r&&n.process,s=function(){try{return i&&i.require&&i.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}(),e.exports=s),Cte.exports;var e,t,n,r,i,a,s}(),r=n&&n.isTypedArray,i=r?t(r):e;return $ee=i}function Pte(){if(Hee)return Kee;Hee=1;var e=H9?K9:(H9=1,K9=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}),t=See(),n=wee(),r=Fee(),i=function(){if(Oee)return Mee;Oee=1;var e=/^(?:0|[1-9]\d*)$/;return Mee=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n}}(),a=Ete(),s=Object.prototype.hasOwnProperty;return Kee=function(o,l){var c=n(o),u=!c&&t(o),d=!c&&!u&&r(o),h=!c&&!u&&!d&&a(o),f=c||u||d||h,m=f?e(o.length,String):[],p=m.length;for(var g in o)!l&&!s.call(o,g)||f&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||i(g,p))||m.push(g);return m}}function Mte(){if(Qee)return Xee;Qee=1;var e=(Gee?qee:(Gee=1,qee=function(e,t){return function(n){return e(t(n))}}))(Object.keys,Object);return Xee=e}function Ote(){if(Jee)return Zee;Jee=1;var e=function(){if(Yee)return Uee;Yee=1;var e=Object.prototype;return Uee=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}}(),t=Mte(),n=Object.prototype.hasOwnProperty;return Zee=function(r){if(!e(r))return t(r);var i=[];for(var a in Object(r))n.call(r,a)&&"constructor"!=a&&i.push(a);return i}}function Ate(){if(rte)return nte;rte=1;var e=Pte(),t=Ote(),n=function(){if(tte)return ete;tte=1;var e=cee(),t=Bee();return ete=function(n){return null!=n&&t(n.length)&&!e(n)}}();return nte=function(r){return n(r)?e(r):t(r)}}function Tte(){if(ote)return ste;ote=1;var e=function(){if(ate)return ite;ate=1;var e=jee(),t=Nee(),n=Ate();return ite=function(r){return e(r,n,t)}}(),t=Object.prototype.hasOwnProperty;return ste=function(n,r,i,a,s,o){var l=1&i,c=e(n),u=c.length;if(u!=e(r).length&&!l)return!1;for(var d=u;d--;){var h=c[d];if(!(l?h in r:t.call(r,h)))return!1}var f=o.get(n),m=o.get(r);if(f&&m)return f==r&&m==n;var p=!0;o.set(n,r),o.set(r,n);for(var g=l;++d<u;){var x=n[h=c[d]],y=r[h];if(a)var v=l?a(y,x,h,r,n,o):a(x,y,h,n,r,o);if(!(void 0===v?x===y||s(x,y,i,a,o):v)){p=!1;break}g||(g="constructor"==h)}if(p&&!g){var b=n.constructor,_=r.constructor;b==_||!("constructor"in n)||!("constructor"in r)||"function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _||(p=!1)}return o.delete(n),o.delete(r),p}}function Dte(){if(xte)return gte;xte=1;var e=function(){if(cte)return lte;cte=1;var e=hee()(aee(),"DataView");return lte=e}(),t=fee(),n=function(){if(dte)return ute;dte=1;var e=hee()(aee(),"Promise");return ute=e}(),r=function(){if(fte)return hte;fte=1;var e=hee()(aee(),"Set");return hte=e}(),i=function(){if(pte)return mte;pte=1;var e=hee()(aee(),"WeakMap");return mte=e}(),a=oee(),s=dee(),o="[object Map]",l="[object Promise]",c="[object Set]",u="[object WeakMap]",d="[object DataView]",h=s(e),f=s(t),m=s(n),p=s(r),g=s(i),x=a;return(e&&x(new e(new ArrayBuffer(1)))!=d||t&&x(new t)!=o||n&&x(n.resolve())!=l||r&&x(new r)!=c||i&&x(new i)!=u)&&(x=function(e){var t=a(e),n="[object Object]"==t?e.constructor:void 0,r=n?s(n):"";if(r)switch(r){case h:return d;case f:return o;case m:return l;case p:return c;case g:return u}return t}),gte=x}function Rte(){if(_te)return bte;_te=1;var e=function(){if(vte)return yte;vte=1;var e=yee(),t=bee(),n=_ee(),r=Tte(),i=Dte(),a=wee(),s=Fee(),o=Ete(),l="[object Arguments]",c="[object Array]",u="[object Object]",d=Object.prototype.hasOwnProperty;return yte=function(h,f,m,p,g,x){var y=a(h),v=a(f),b=y?c:i(h),_=v?c:i(f),w=(b=b==l?u:b)==u,j=(_=_==l?u:_)==u,N=b==_;if(N&&s(h)){if(!s(f))return!1;y=!0,w=!1}if(N&&!w)return x||(x=new e),y||o(h)?t(h,f,m,p,g,x):n(h,f,b,m,p,g,x);if(!(1&m)){var k=w&&d.call(h,"__wrapped__"),S=j&&d.call(f,"__wrapped__");if(k||S){var C=k?h.value():h,E=S?f.value():f;return x||(x=new e),g(C,E,m,p,x)}}return!!N&&(x||(x=new e),r(h,f,m,p,g,x))}}(),t=kee();return bte=function n(r,i,a,s,o){return r===i||(null==r||null==i||!t(r)&&!t(i)?r!=r&&i!=i:e(r,i,a,s,n,o))},bte}function Ite(){if(Nte)return eee;Nte=1,Object.defineProperty(eee,"__esModule",{value:!0}),eee.default=void 0;var e,t=(e=function(){if(jte)return wte;jte=1;var e=Rte();return wte=function(t,n){return e(t,n)}}())&&e.__esModule?e:{default:e},n=j(),r=function(e){var r,i,a=(0,n.useRef)(null);return r=e,i=a.current,(0,t.default)(r,i)&&(a.current=e),a.current},i=function(e,t){(0,n.useEffect)(e,[r(t),e])};return eee.default=i,eee}function Lte(){if(kte)return $Y;kte=1,Object.defineProperty($Y,"__esModule",{value:!0}),$Y.default=void 0;var e=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(j()),t=x8,n=o(S8()),r=P8(),i=function(){if(M8)return Z9;M8=1,Object.defineProperty(Z9,"__esModule",{value:!0}),Z9.renderChart=void 0;var e=P8();return Z9.renderChart=function(t,n,r,i,a,s,o,l,c,u,d,h,f,m,p){(0,e.updateDimensions)(f,m,i,r,a),h.current.attr("width",r.current+i.current.left+i.current.right).attr("height",a.current+i.current.top+i.current.bottom),o.current.attr("transform","translate("+i.current.left+", "+i.current.top+")"),(0,e.calculateRadius)(r,a,s,i,o),l.current.attr("transform","translate("+s.current+", "+s.current+")"),c.current.outerRadius(s.current).innerRadius(s.current*(1-f.arcWidth)).cornerRadius(f.cornerRadius).padAngle(f.arcPadding),l.current.selectAll(".arc").remove(),o.current.selectAll(".text-group").remove(),l.current.selectAll(".arc").data(d.current(p.current)).enter().append("g").attr("class","arc").append("path").attr("d",c.current).style("fill",function(e){return e.data.color})},Z9}(),a=function(){if(O8)return J9;O8=1,Object.defineProperty(J9,"__esModule",{value:!0}),J9.drawNeedle=void 0;var e=x8,t=P8();return J9.drawNeedle=function(n,r,i,a,s,o,l,c){var u=i.percent,d=i.needleColor,h=i.needleBaseColor,f=i.hideText,m=i.animate,p=i.needleScale,g=i.textComponent,x=a.current/500*15,y=[0,-x/2];s.current.selectAll("*").remove(),s.current.attr("transform","translate("+l.current+", "+l.current+")");var v=r?r.percent:0,b=(0,t.calculateRotation)(v||u,l,a,p);s.current.append("path").attr("d",b).attr("fill",d),s.current.append("circle").attr("cx",y[0]).attr("cy",y[1]).attr("r",x).attr("fill",h),f||g||(0,t.addText)(u,i,l,a,c),!n&&m?s.current.transition().delay(i.animDelay).ease(e.easeElastic).duration(i.animateDuration).tween("progress",function(){var n=(0,e.interpolateNumber)(v,u);return function(e){var r=n(e);return o.current.select(".needle path").attr("d",(0,t.calculateRotation)(r,l,a,p))}}):o.current.select(".needle path").attr("d",(0,t.calculateRotation)(u,l,a,p))},J9}(),s=o(Ite());function o(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){d(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=-Math.PI/2,f=Math.PI/2,m=["marginInPercent","arcPadding","percent","nrOfLevels","animDelay"],p={style:{width:"100%"},marginInPercent:.05,cornerRadius:6,nrOfLevels:3,percent:.4,arcPadding:.05,arcWidth:.2,colors:["#00FF00","#FF0000"],textColor:"#fff",needleColor:"#464A4F",needleBaseColor:"#464A4F",hideText:!1,animate:!0,animDelay:500,formatTextValue:null,fontSize:null,animateDuration:3e3,textComponent:void 0,needleScale:.55,customNeedleComponent:null},g=function(n){var o=(0,e.useMemo)(function(){return u(u({},p),n)},[n]),l=(0,e.useRef)({}),c=(0,e.useRef)({}),d=(0,e.useRef)({}),g=(0,e.useRef)({}),x=(0,e.useRef)({}),y=(0,e.useRef)({}),v=(0,e.useRef)({}),b=(0,e.useRef)({}),_=(0,e.useRef)({}),w=(0,e.useRef)(0),j=(0,e.useRef)([]),N=(0,e.useRef)((0,t.arc)()),k=(0,e.useRef)([]),S=(0,e.useRef)((0,t.pie)()),C=(0,e.useRef)(o),E=(0,e.useRef)({}),P=(0,e.useCallback)(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;if(e)return(0,i.renderChart)(t,n,d,b,g,v,c,x,N,y,S,l,o,_,k),void(!R&&(0,a.drawNeedle)(t,n,o,d,y,_,v,c));_.current.select("svg").remove(),l.current=_.current.append("svg"),c.current=l.current.append("g"),x.current=c.current.append("g").attr("class","doughnut"),S.current.value(function(e){return e.value}).startAngle(h).endAngle(f).sort(null),y.current=c.current.append("g").attr("class","needle"),(0,i.renderChart)(t,n,d,b,g,v,c,x,N,y,S,l,o,_,k),!R&&(0,a.drawNeedle)(t,n,o,d,y,_,v,c)},[o]);(0,e.useLayoutEffect)(function(){(0,r.setArcData)(o,w,j,k),_.current=(0,t.select)(E),P()},[o,P]),(0,s.default)(function(){(o.nrOfLevels||C.current.arcsLength.every(function(e){return o.arcsLength.includes(e)})||C.current.colors.every(function(e){return o.colors.includes(e)}))&&(0,r.setArcData)(o,w,j,k);var e=!m.some(function(e){return C.current[e]!==o[e]});P(!0,e,C.current),C.current=o},[o.nrOfLevels,o.arcsLength,o.colors,o.percent,o.needleColor,o.needleBaseColor]),(0,e.useEffect)(function(){var e=function(){var e=!0;(0,i.renderChart)(e,C,d,b,g,v,c,x,N,y,S,l,o,_,k),!R&&(0,a.drawNeedle)(e,C,o,d,y,_,v,c)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[o]);var M=o.id,O=o.style,A=o.className,T=o.textComponent,D=o.textComponentContainerClassName,R=o.customNeedleComponent,I=o.customNeedleStyle,L=o.customNeedleComponentClassName;return e.default.createElement("div",{id:M,className:A,style:O},e.default.createElement("div",{ref:function(e){return E=e}},e.default.createElement("div",{className:D,style:{position:"relative",top:"50%"}},T)),R&&e.default.createElement("div",{className:L,style:u({position:"relative"},I)},R))},x=g;return $Y.default=x,g.propTypes={id:n.default.string,className:n.default.string,style:n.default.object,marginInPercent:n.default.number,cornerRadius:n.default.number,nrOfLevels:n.default.number,percent:n.default.number,arcPadding:n.default.number,arcWidth:n.default.number,arcsLength:n.default.array,colors:n.default.array,textColor:n.default.string,needleColor:n.default.string,needleBaseColor:n.default.string,hideText:n.default.bool,animate:n.default.bool,formatTextValue:n.default.func,fontSize:n.default.string,animateDuration:n.default.number,animDelay:n.default.number,textComponent:n.default.element,textComponentContainerClassName:n.default.string,needleScale:n.default.number,customNeedleComponent:n.default.element,customNeedleComponentClassName:n.default.string,customNeedleStyle:n.default.object},$Y}const zte=i(function(){if(Ste)return WY;var e;Ste=1,Object.defineProperty(WY,"__esModule",{value:!0}),WY.default=void 0;var t=((e=Lte())&&e.__esModule?e:{default:e}).default;return WY.default=t,WY}()),Fte=e=>e<25?"text-red-600":e<45?"text-orange-500":e<=55?"text-yellow-500":e<=75?"text-green-500":"text-green-600",Bte=({value:e,sentiment:t})=>{const n=e/100;return v.jsx("div",{className:"relative w-full h-48 flex items-center justify-center",children:v.jsxs("div",{className:"relative",children:[v.jsx(zte,{id:"greed-fear-gauge",nrOfLevels:5,percent:n,colors:["#dc2626","#f97316","#eab308","#22c55e","#16a34a"],arcWidth:.3,textColor:"#374151",needleColor:"#2E2E2E",needleBaseColor:"#2E2E2E",hideText:!0,animate:!0,formatTextValue:()=>e.toFixed(1)}),v.jsxs("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 text-center",children:[v.jsx("div",{className:`text-4xl font-bold ${Fte(e)}`,children:e.toFixed(1)}),v.jsx("div",{className:"text-lg text-gray-500",children:t})]})]})})};function Wte(){const{data:e,loading:t,error:n}=Df("analyze_greed_fear"),r=k.useMemo(()=>e?f(h({},e),{last_20_days:e.last_20_days.map(e=>f(h({},e),{formattedDate:new Date(e.date).toLocaleDateString("vi-VN",{month:"short",day:"numeric"}),greed_fear_index:e.greed_fear_index_smoothed,change:e.change_smoothed}))}):null,[e]);if(t)return v.jsx(Ke,{children:v.jsx("div",{className:"flex items-center justify-center h-64",children:v.jsx("div",{className:"text-gray-500",children:"ang ti d liu ch s Greed & Fear..."})})});if(n)return v.jsx(Ke,{children:v.jsx("div",{className:"flex items-center justify-center h-64",children:v.jsx("div",{className:"text-red-500",children:"Khng th ti d liu ch s Greed & Fear"})})});if(!r)return null;const i=r.latest_value_smoothed,a=r.latest_sentiment_smoothed,s=r.last_20_days[r.last_20_days.length-1];r.last_20_days[r.last_20_days.length-2];const o=s.change||0;return v.jsx(Ke,{children:v.jsxs("div",{className:"p-6",children:[v.jsx("div",{className:"flex items-center justify-between mb-6",children:v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Ch s Greed & Fear"}),v.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["Cp nht lc: ",new Date(r.generated_at).toLocaleString("vi-VN")]})]})}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[v.jsxs("div",{className:"lg:col-span-1 flex flex-col",children:[v.jsxs("div",{className:"flex-shrink-0",children:[v.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800 dark:text-gray-200",children:"Tm l hin ti"}),v.jsx(Bte,{value:i,sentiment:a}),v.jsx("hr",{className:"my-6 border-gray-200 dark:border-gray-700"}),v.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800 dark:text-gray-200",children:"Ch s chnh"})]}),v.jsxs("div",{className:"space-y-3 flex-shrink-0",children:[v.jsxs("div",{className:"flex justify-between items-center text-sm",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Gi tr hin ti"}),v.jsx("span",{className:`font-bold ${Fte(i)}`,children:i.toFixed(2)})]}),v.jsxs("div",{className:"flex justify-between items-center text-sm",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Thay i hng ngy"}),v.jsxs("span",{className:"font-bold flex items-center "+(o>0?"text-green-600":o<0?"text-red-600":"text-yellow-500"),children:[o>0?v.jsx(J,{size:14,className:"mr-1"}):o<0?v.jsx(Q,{size:14,className:"mr-1"}):v.jsx(Se,{size:14,className:"mr-1"}),o.toFixed(2)]})]}),v.jsxs("div",{className:"flex justify-between items-center text-sm",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"RSI 14 ngy"}),v.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:r.components.rsi14?r.components.rsi14.toFixed(2):"N/A"})]}),v.jsxs("div",{className:"flex justify-between items-center text-sm",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:" bin ng"}),v.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:r.components.volatility?r.components.volatility.toFixed(2):"N/A"})]}),v.jsxs("div",{className:"flex justify-between items-center text-sm",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"T l khi lng"}),v.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:r.components.volume_ratio?r.components.volume_ratio.toFixed(2):"N/A"})]}),v.jsxs("div",{className:"flex justify-between items-center text-sm",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Momentum th trng"}),v.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:r.components.market_momentum?r.components.market_momentum.toFixed(2):"N/A"})]}),v.jsxs("div",{className:"flex justify-between items-center text-sm",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Sc mnh gi"}),v.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:r.components.price_strength?r.components.price_strength.toFixed(2):"N/A"})]})]})]}),v.jsxs("div",{className:"lg:col-span-2 flex flex-col",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-4 flex-shrink-0",children:"Din bin ch s (20 ngy gn nht)"}),v.jsx("div",{className:"flex-grow",children:v.jsx(sF,{width:"100%",height:400,children:v.jsxs(kY,{data:r.last_20_days,margin:{top:5,right:20,left:-20,bottom:5},children:[v.jsx(vK,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),v.jsx(fU,{dataKey:"formattedDate",stroke:"#6b7280",fontSize:12,tickLine:!1,axisLine:!1}),v.jsx(_U,{domain:[0,100],stroke:"#6b7280",fontSize:12,tickLine:!1,axisLine:!1}),v.jsx(zV,{y1:80,y2:100,fill:"#86efac",fillOpacity:.2,stroke:"none"}),v.jsx(zV,{y1:60,y2:80,fill:"#bbf7d0",fillOpacity:.2,stroke:"none"}),v.jsx(zV,{y1:40,y2:60,fill:"#fef3c7",fillOpacity:.2,stroke:"none"}),v.jsx(zV,{y1:20,y2:40,fill:"#fed7aa",fillOpacity:.2,stroke:"none"}),v.jsx(zV,{y1:0,y2:20,fill:"#fecaca",fillOpacity:.2,stroke:"none"}),v.jsx(zV,{y1:80,y2:80,fill:"none",stroke:"#16a34a",strokeWidth:1,strokeDasharray:"3 3"}),v.jsx(zV,{y1:60,y2:60,fill:"none",stroke:"#22c55e",strokeWidth:1,strokeDasharray:"3 3"}),v.jsx(zV,{y1:40,y2:40,fill:"none",stroke:"#eab308",strokeWidth:1,strokeDasharray:"3 3"}),v.jsx(zV,{y1:20,y2:20,fill:"none",stroke:"#f97316",strokeWidth:1,strokeDasharray:"3 3"}),v.jsx(Vz,{contentStyle:{backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"0.5rem",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)"},labelStyle:{color:"#1f2937",fontWeight:"bold"},itemStyle:{color:"#374151"}}),v.jsx(UK,{type:"monotone",dataKey:"greed_fear_index",name:"Ch s",stroke:(l=i,l<25?"#dc2626":l<45?"#f97316":l<=55?"#eab308":l<=75?"#22c55e":"#16a34a"),strokeWidth:2,dot:{r:3},activeDot:{r:6}})]})})})]})]})]})});var l}const $te=({regime:e,description:t,statistics:n,distribution:r})=>{var i,a,s,o,l,c;return e?v.jsxs("div",{className:"bg-slate-50 p-3 rounded border",children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsx("div",{className:"flex items-center gap-1",children:v.jsx("h3",{className:"text-sm font-bold text-slate-800",children:"Phn tch bin ng sc mnh tng i"})}),v.jsxs("div",{className:"text-right",children:[v.jsx("div",{className:"font-bold text-sm text-blue-700",children:e}),v.jsx("div",{className:"text-xs text-slate-600",children:t})]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[v.jsxs("div",{className:"bg-white p-2 rounded border",children:[v.jsxs("div",{className:"text-xs font-semibold text-slate-700 mb-1 flex items-center gap-1",children:[v.jsx(Be,{className:"w-3 h-3"}),"Thng k"]}),v.jsxs("div",{className:"grid grid-cols-3 gap-1 text-xs",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-slate-500",children:"TB"}),v.jsx("div",{className:"font-bold text-slate-800",children:(null==n?void 0:n.average_volatility)||"N/A"})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-slate-500",children:"Trung v"}),v.jsx("div",{className:"font-bold text-slate-800",children:(null==n?void 0:n.median_volatility)||"N/A"})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-slate-500",children:"Cao"}),v.jsx("div",{className:"font-bold text-slate-800",children:(null==n?void 0:n.high_volatility_percentage)||"N/A"})]})]})]}),v.jsxs("div",{className:"bg-white p-2 rounded border",children:[v.jsxs("div",{className:"text-xs font-semibold text-slate-700 mb-1 flex items-center gap-1",children:[v.jsx(re,{className:"w-3 h-3"}),"Phn b"]}),v.jsxs("div",{className:"grid grid-cols-3 gap-1 text-xs",children:[v.jsxs("div",{className:"text-center p-1 bg-green-100 rounded",children:[v.jsx("div",{className:"font-semibold text-green-800",children:"n nh"}),v.jsx("div",{className:"font-bold text-green-800",children:(null==(i=null==r?void 0:r.low_volatility)?void 0:i.count)||0}),v.jsxs("div",{className:"text-green-800",children:["(",(null==(a=null==r?void 0:r.low_volatility)?void 0:a.percentage)||"N/A",")"]})]}),v.jsxs("div",{className:"text-center p-1 bg-yellow-100 rounded",children:[v.jsx("div",{className:"font-semibold text-yellow-800",children:"TB"}),v.jsx("div",{className:"font-bold text-yellow-800",children:(null==(s=null==r?void 0:r.medium_volatility)?void 0:s.count)||0}),v.jsxs("div",{className:"text-yellow-800",children:["(",(null==(o=null==r?void 0:r.medium_volatility)?void 0:o.percentage)||"N/A",")"]})]}),v.jsxs("div",{className:"text-center p-1 bg-red-100 rounded",children:[v.jsx("div",{className:"font-semibold text-red-800",children:"Khng n"}),v.jsx("div",{className:"font-bold text-red-800",children:(null==(l=null==r?void 0:r.high_volatility)?void 0:l.count)||0}),v.jsxs("div",{className:"text-red-800",children:["(",(null==(c=null==r?void 0:r.high_volatility)?void 0:c.percentage)||"N/A",")"]})]})]})]})]})]}):null},Vte=({trading_implications:e,volatility_distribution:t})=>{var n;return e?v.jsxs("div",{className:"bg-slate-50 p-3 rounded border",children:[v.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[v.jsx(Oe,{className:"w-4 h-4 text-green-600"}),v.jsx("h3",{className:"text-sm font-bold text-slate-800",children:"Hm  giao dch"})]}),v.jsxs("div",{className:"bg-white p-2 rounded border",children:[v.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx(Oe,{className:"w-3 h-3 text-blue-600"}),v.jsx("span",{className:"font-semibold",children:"V th:"}),v.jsx("span",{children:e.position_sizing})]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx(Me,{className:"w-3 h-3 text-red-600"}),v.jsx("span",{className:"font-semibold",children:"Stop loss:"}),v.jsx("span",{children:e.stop_losses})]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx(Te,{className:"w-3 h-3 text-green-600"}),v.jsx("span",{className:"font-semibold",children:"Chin lc:"}),v.jsx("span",{children:e.strategy})]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx(Be,{className:"w-3 h-3 text-yellow-600"}),v.jsx("span",{className:"font-semibold",children:"Qun l ri ro:"}),v.jsx("span",{children:e.risk_management})]})]}),v.jsx("div",{className:"mt-2 pt-2 border-t border-gray-200",children:v.jsxs("div",{className:"text-xs text-blue-700",children:[" ",v.jsx("strong",{children:"Cho ngi mi:"})," u tin RS n nh (",(null==(n=null==t?void 0:t.low_volatility)?void 0:n.percentage)||"58.2%","), trnh RS thay i mnh, lun t stop loss"]})})]})]}):null};function Kte({title:e,value:t,description:n,color:r,textColor:i,Icon:a}){return v.jsxs("div",{className:`p-2 rounded flex gap-2 items-center ${r}`,children:[a&&v.jsx(a,{className:`w-5 h-5 ${i}`}),v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:`font-bold text-xs ${i}`,children:e}),t&&v.jsx("div",{className:"text-sm font-bold text-slate-800",children:t}),n&&v.jsx("div",{className:"text-xs text-slate-600",children:n})]})]})}const Hte=({volatilityRegime:e,industryTrendConsistency:t,breadthDetail:n,systemicRisks:r})=>{var i,a,s,o,l,c;if(!e)return null;const u={industry:{color:"bg-blue-100",textColor:"text-blue-800",Icon:Te},breadth:{color:"bg-green-100",textColor:"text-green-800",Icon:re},risk:{color:"bg-red-100",textColor:"text-red-800",Icon:De}};return v.jsx("div",{className:"p-3 bg-white rounded border",children:v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 lg:gap-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsxs("h3",{className:"text-sm font-bold text-slate-800 flex items-center gap-1",children:[v.jsx(Ne,{className:"w-4 h-4 text-blue-600"}),"Bi cnh th trng"]}),t&&v.jsx(Kte,h({title:"Xu hng ngnh",value:null==(i=t.consistency_summary)?void 0:i.overall_trend,description:null==(a=t.key_insights)?void 0:a[0]},u.industry)),n&&v.jsx(Kte,h({title:"Breadth th trng",value:n.breadth_summary,description:`Breadth: ${(null==(s=n.industry_breadth_thrust)?void 0:s.value)||""}, Momentum: ${(null==(o=n.momentum_breadth)?void 0:o.value)||""}`},u.breadth)),r&&v.jsx(Kte,h({title:"Ri ro h thng",value:null==(l=r.overall_systemic_risk)?void 0:l.level,description:null==(c=r.overall_systemic_risk)?void 0:c.description},u.risk))]}),v.jsxs("div",{className:"space-y-2 mt-3 lg:mt-0",children:[v.jsx($te,{regime:e.regime,description:e.regime_description,statistics:e.statistics,distribution:e.volatility_distribution}),v.jsx(Vte,{trading_implications:e.trading_implications,volatility_distribution:e.volatility_distribution})]})]})})},Ute=()=>{var e;const{data:t,loading:n,error:r}=Df("RRG_ANALYSIS","1D");if(n)return v.jsx("div",{className:"flex items-center justify-center h-32",children:v.jsx("div",{className:"text-gray-500",children:"ang ti d liu tng quan th trng..."})});if(r||!t)return null;const i=(null==(e=null==t?void 0:t.insights)?void 0:e.detailed_analysis)||{},a=i.volatility_regime,s=i.industry_trend_consistency,o=i.breadth_detail,l=i.systemic_risks;return a?v.jsx("div",{className:"space-y-6",children:v.jsx(Hte,{volatilityRegime:a,industryTrendConsistency:s,breadthDetail:o,systemicRisks:l})}):null},Yte=e=>{if("string"==typeof e){if(e.toLowerCase().includes("tch cc")||e.toLowerCase().includes("positive")||e.toLowerCase().includes("bull"))return"text-green-600";if(e.toLowerCase().includes("tiu cc")||e.toLowerCase().includes("negative")||e.toLowerCase().includes("bear"))return"text-red-600";if(e.toLowerCase().includes("trung tnh")||e.toLowerCase().includes("neutral"))return"text-yellow-600"}return"text-gray-600"},qte=e=>{if("string"==typeof e){if(e.toLowerCase().includes("cao"))return"text-red-600";if(e.toLowerCase().includes("trung bnh"))return"text-yellow-600";if(e.toLowerCase().includes("thp"))return"text-green-600"}return"text-gray-600"},Gte=e=>{if("number"==typeof e){if(e>0)return"text-green-600";if(e<0)return"text-red-600"}return"text-gray-600"},Xte=e=>{if("string"==typeof e){if(e.toLowerCase().includes("vt"))return"text-green-600";if(e.toLowerCase().includes("km"))return"text-red-600"}return"text-gray-600"},Qte=e=>{if("string"==typeof e){if(e.toLowerCase().includes("tng"))return"text-green-600";if(e.toLowerCase().includes("gim"))return"text-red-600"}return"text-gray-600"},Zte=e=>{if("number"==typeof e){if(e>0)return"text-green-600";if(e<0)return"text-red-600"}return"text-gray-600"},Jte=e=>{if("number"==typeof e){if(e>0)return"text-green-600";if(e<0)return"text-red-600"}return"text-gray-600"},ene=e=>{if("number"==typeof e){if(e>1)return"text-green-600";if(e<1)return"text-red-600"}return"text-gray-600"},tne=e=>{if("string"==typeof e){if(e.toLowerCase().includes("leading")||e.toLowerCase().includes("dn dt"))return"text-green-600";if(e.toLowerCase().includes("improving")||e.toLowerCase().includes("ci thin"))return"text-blue-600";if(e.toLowerCase().includes("weakening")||e.toLowerCase().includes("suy yu"))return"text-yellow-600";if(e.toLowerCase().includes("lagging")||e.toLowerCase().includes("tt hu"))return"text-red-600"}return"text-gray-600"},nne=e=>{if("string"==typeof e){if(e.toLowerCase().includes("tng"))return"text-green-600";if(e.toLowerCase().includes("gim"))return"text-red-600";if(e.toLowerCase().includes("ng yn"))return"text-yellow-600"}return"text-gray-600"},rne=e=>e?"Tng trng mnh"===e||"Tng trng"===e?{icon:Te,color:"text-green-600"}:"ng yn"===e?{icon:G,color:"text-yellow-600"}:"Suy gim"===e||"Suy gim mnh"===e?{icon:Ae,color:"text-red-600"}:{icon:Ae,color:"text-gray-600"}:{icon:Ae,color:"text-gray-600"},ine=(e,t)=>{if(!t)return"text-gray-600 dark:text-gray-400";if("Tng trng"===e){if(t>0)return"text-green-600 dark:text-green-400";if(t<0)return"text-red-600 dark:text-red-400"}else if("Suy gim"===e){if(t>0)return"text-red-600 dark:text-red-400";if(t<0)return"text-green-600 dark:text-green-400"}return t>0?"text-green-600 dark:text-green-400":t<0?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"},ane=e=>e>=60?"text-green-600 dark:text-green-400":e>=40?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400",sne=e=>{if("number"==typeof e){if(e>0)return"text-green-600 dark:text-green-400";if(e<0)return"text-red-600 dark:text-red-400"}return"text-gray-600 dark:text-gray-400"},one=({title:e,data:t,color:n,Icon:r})=>{var i;return t?v.jsxs("div",{className:`p-3 rounded-lg border ${n.border} ${n.bg}`,children:[v.jsxs("div",{className:"flex items-center mb-2",children:[r&&v.jsx(r,{className:`w-5 h-5 mr-2 ${n.text}`}),v.jsxs("h5",{className:`font-semibold text-sm ${n.text}`,children:[e," (",t.count||0,")"]})]}),v.jsx("div",{className:`text-xs font-medium mb-1 ${n.text}`,children:t.strength||t.potential||t.warning_level||"N/A"}),(null==(i=t.sectors)?void 0:i.length)>0&&v.jsx("p",{className:"text-xs text-slate-600",children:t.sectors.map(e=>"string"==typeof e?e:e.name||e.sector||"Unknown").join(", ")})]}):null},lne=({sector:e,colorClass:t="bg-slate-50"})=>v.jsxs("div",{className:`p-2 rounded-md flex justify-between items-center ${t}`,children:[v.jsxs("div",{children:[v.jsx("div",{className:"font-semibold text-sm text-slate-800",children:e.name}),v.jsx("div",{className:"text-xs text-slate-500",children:e.money_flow})]}),v.jsxs("div",{className:"text-right",children:[v.jsx("div",{className:`font-bold text-xs ${Yte(e.quadrant)}`,children:e.quadrant}),v.jsxs("div",{className:"text-xs text-slate-500",children:[(100*e.velocity).toFixed(1),"%"]})]})]}),cne=({sectorRotation:e})=>{var t,n;if(!e)return null;const{money_flow_summary:r,sector_leadership:i,rotation_patterns:a,top_rotating_sectors:s,detailed_flow:o}=e,l={leader:{bg:"bg-green-50",border:"border-green-200",text:"text-green-700",Icon:null},emerging:{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-700",Icon:null},declining:{bg:"bg-red-50",border:"border-red-200",text:"text-red-700",Icon:null}};return v.jsxs("div",{className:"p-4 bg-white rounded-lg border",children:[v.jsx("h3",{className:"font-bold text-base text-slate-800 mb-4",children:"Phn tch lun chuyn ngnh"}),a&&v.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg border mb-4",children:[v.jsx("h4",{className:"font-semibold text-sm text-yellow-700 mb-1",children:"M hnh lun chuyn"}),v.jsxs("div",{className:"text-xs text-slate-700",children:[v.jsx("b",{children:"n nh:"})," ",a.stability]}),v.jsxs("div",{className:"text-xs text-slate-700",children:[v.jsx("b",{children:"Tc :"})," ",a.rotation_speed]}),v.jsxs("div",{className:"text-xs text-slate-700",children:[v.jsx("b",{children:"Ch :"})," ",a.theme]})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"space-y-4",children:[r&&v.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg border",children:[v.jsx("h4",{className:"font-semibold text-sm text-slate-700 mb-2",children:"Tng quan dng tin"}),v.jsx("p",{className:`font-bold text-lg mb-2 ${Yte(r.dominant_theme)}`,children:r.dominant_theme}),v.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 text-xs text-center",children:[v.jsxs("div",{className:"bg-white p-1 rounded border",children:[v.jsx("b",{children:"Sc mnh:"})," ",r.rotation_strength]}),v.jsxs("div",{className:"bg-white p-1 rounded border",children:[v.jsx("b",{children:"Tc :"})," ",r.flow_velocity]}),v.jsxs("div",{className:"bg-white p-1 rounded border",children:[v.jsx("b",{children:"Vo:"})," ",r.inflow_count]}),v.jsxs("div",{className:"bg-white p-1 rounded border",children:[v.jsx("b",{children:"Ra:"})," ",r.outflow_count]})]})]}),i&&v.jsxs("div",{children:[v.jsx("h4",{className:"font-semibold text-sm text-slate-700 mb-2",children:"Trng thi Leadership"}),v.jsxs("div",{className:"space-y-3",children:[v.jsx(one,{title:"Dn dt hin ti",data:i.current_leaders,color:l.leader,Icon:l.leader.Icon}),v.jsx(one,{title:"Dn dt mi ni",data:i.emerging_leaders,color:l.emerging,Icon:l.emerging.Icon}),v.jsx(one,{title:"Dn dt suy yu",data:i.declining_leaders,color:l.declining,Icon:l.declining.Icon})]})]})]}),v.jsxs("div",{className:"space-y-4",children:[(null==s?void 0:s.length)>0&&v.jsxs("div",{children:[v.jsx("h4",{className:"font-semibold text-sm text-slate-700 mb-2 flex items-center",children:" Top lun chuyn ngnh"}),v.jsx("div",{className:"space-y-2",children:s.slice(0,5).map((e,t)=>v.jsx(lne,{sector:e},t))})]}),o&&v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"font-semibold text-sm text-green-700 mb-2 flex items-center",children:" Dng tin vo"}),v.jsx("div",{className:"space-y-2",children:null==(t=o.inflow_sectors)?void 0:t.slice(0,3).map((e,t)=>v.jsx(lne,{sector:e,colorClass:"bg-green-50"},t))})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-semibold text-sm text-red-700 mb-2 flex items-center",children:" Dng tin ra"}),v.jsx("div",{className:"space-y-2",children:null==(n=o.outflow_sectors)?void 0:n.slice(0,3).map((e,t)=>v.jsx(lne,{sector:e,colorClass:"bg-red-50"},t))})]})]})]})]})]})},une=({group:e,color:t,title:n})=>{var r;return e?v.jsxs("div",{className:`p-3 rounded-lg border ${t.bg} ${t.border} flex flex-col`,children:[v.jsx("h5",{className:`font-bold text-sm mb-2 ${t.text}`,children:n||e.name}),n&&v.jsx("p",{className:"text-sm font-semibold text-slate-800 -mt-1 mb-2",children:e.name}),v.jsxs("div",{className:"grid grid-cols-2 gap-x-2 gap-y-1 text-xs mt-auto",children:[v.jsx("span",{className:"text-slate-500",children:"RRG:"}),v.jsx("span",{className:`font-semibold ${Yte(e.rrg_quadrant)}`,children:e.rrg_quadrant}),v.jsx("span",{className:"text-slate-500",children:"im mnh:"}),v.jsx("span",{className:"font-semibold text-slate-700",children:null==(r=e.strength_score)?void 0:r.toFixed(2)}),v.jsx("span",{className:"text-slate-500",children:"Tc :"}),v.jsxs("span",{className:"font-semibold text-slate-700",children:[(100*e.velocity).toFixed(1),"%"]})]}),v.jsx("div",{className:`mt-2 pt-1 border-t ${t.border} text-xs text-slate-600 font-medium`,children:e.money_flow})]}):null},dne=({marketCapFlow:e})=>{var t,n;if(!e)return null;const{groups_summary:r,flow_theme:i,outperforming_count:a,underperforming_count:s}=e,o={outperform:{bg:"bg-green-50",border:"border-green-200",text:"text-green-700"},underperform:{bg:"bg-red-50",border:"border-red-200",text:"text-red-700"}};return v.jsxs("div",{className:"p-4 bg-white rounded-lg border",children:[v.jsx("h3",{className:"font-bold text-base text-slate-800 mb-4",children:"Phn tch nhm vn ha"}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[v.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[v.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg border",children:[v.jsx("h4",{className:"font-semibold text-sm text-slate-700 mb-1",children:"Xu hng dng tin"}),v.jsx("p",{className:"text-sm text-slate-600",children:i}),v.jsxs("div",{className:"text-xs text-slate-500 mt-2",children:[v.jsx("span",{className:"font-medium text-green-600",children:"Vt tri:"})," ",a," nhm |",v.jsx("span",{className:"font-medium text-red-600",children:" Km:"})," ",s," nhm"]})]}),r&&v.jsxs(v.Fragment,{children:[v.jsx(une,{title:"Nhm mnh nht",group:r.strongest_group,color:o.outperform}),v.jsx(une,{title:"Nhm yu nht",group:r.weakest_group,color:o.underperform})]})]}),v.jsxs("div",{className:"lg:col-span-3",children:[v.jsx("h4",{className:"font-semibold text-sm text-slate-700 mb-2",children:"Hiu sut nhm"}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("h5",{className:"font-semibold text-sm text-green-700 mb-2 flex items-center",children:"Vt tri"}),v.jsx("div",{className:"space-y-2",children:null==(t=null==r?void 0:r.outperforming_groups)?void 0:t.map((e,t)=>v.jsx(une,{group:e,color:o.outperform},t))})]}),v.jsxs("div",{children:[v.jsx("h5",{className:"font-semibold text-sm text-red-700 mb-2 flex items-center",children:"Km hiu qu"}),v.jsx("div",{className:"space-y-2",children:null==(n=null==r?void 0:r.underperforming_groups)?void 0:n.map((e,t)=>v.jsx(une,{group:e,color:o.underperform},t))})]})]})]})]})]})},hne=({institutionalFlow:e})=>e?v.jsxs("div",{className:"bg-white p-3 rounded border",children:[v.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Dng tin t chc"}),e.overall_sentiment&&v.jsxs("div",{className:"mb-3 p-2 bg-gray-50 rounded",children:[v.jsx("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"Tng quan"}),v.jsxs("div",{className:"text-sm text-gray-600",children:[v.jsx("span",{className:"font-medium",children:"Mua:"})," ",e.overall_sentiment.buying_percentage||"N/A"," |",v.jsx("span",{className:"font-medium",children:" Bn:"})," ",e.overall_sentiment.selling_percentage||"N/A"]}),v.jsx("div",{className:"text-xs text-gray-500 mt-1",children:e.overall_sentiment.interpretation||"N/A"})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.institutional_buying&&v.jsxs("div",{className:"p-2 bg-green-50 rounded",children:[v.jsxs("div",{className:"font-medium text-sm text-green-700 mb-2",children:["T chc mua vo (",e.institutional_buying.count||0,")"]}),v.jsx("div",{className:"text-xs mb-2 "+("Tch cc"===e.institutional_buying.sentiment?"text-green-600":"text-red-600"),children:e.institutional_buying.sentiment||"N/A"}),e.institutional_buying.top_targets&&e.institutional_buying.top_targets.length>0&&v.jsxs("div",{className:"space-y-1",children:[v.jsx("div",{className:"text-xs font-medium text-gray-600",children:"Mc tiu hng u:"}),e.institutional_buying.top_targets.slice(0,5).map((e,t)=>v.jsxs("div",{className:"text-xs text-gray-600",children:[v.jsx("span",{className:"font-medium",children:e.symbol})," - ",e.direction,v.jsxs("span",{className:"text-green-600",children:[" (",(100*e.speed).toFixed(2),"%)"]})]},t))]})]}),e.institutional_selling&&v.jsxs("div",{className:"p-2 bg-red-50 rounded",children:[v.jsxs("div",{className:"font-medium text-sm text-red-700 mb-2",children:["T chc bn ra (",e.institutional_selling.count||0,")"]}),e.institutional_selling.top_exits&&e.institutional_selling.top_exits.length>0&&v.jsxs("div",{className:"space-y-1",children:[v.jsx("div",{className:"text-xs font-medium text-gray-600",children:"Thot hng u:"}),e.institutional_selling.top_exits.slice(0,5).map((e,t)=>v.jsxs("div",{className:"text-xs text-gray-600",children:[v.jsx("span",{className:"font-medium",children:e.symbol})," - ",e.direction,v.jsxs("span",{className:"text-red-600",children:[" (",(100*e.speed).toFixed(2),"%)"]})]},t))]})]}),e.mixed_signals&&v.jsxs("div",{className:"p-2 bg-yellow-50 rounded",children:[v.jsxs("div",{className:"font-medium text-sm text-yellow-700 mb-2",children:["Tn hiu hn hp (",e.mixed_signals.count||0,")"]}),e.mixed_signals.watch_list&&e.mixed_signals.watch_list.length>0&&v.jsxs("div",{className:"space-y-1",children:[v.jsx("div",{className:"text-xs font-medium text-gray-600",children:"Danh sch theo di:"}),e.mixed_signals.watch_list.slice(0,5).map((e,t)=>v.jsxs("div",{className:"text-xs text-gray-600",children:[v.jsx("span",{className:"font-medium",children:e.symbol})," - ",e.direction,v.jsxs("span",{className:"text-yellow-600",children:[" (",(100*e.speed).toFixed(2),"%)"]})]},t))]})]})]})]}):null,fne=()=>{var e;const{data:t,loading:n,error:r}=Df("RRG_ANALYSIS","1D");if(n)return v.jsx(Ke,{children:v.jsx("div",{className:"flex items-center justify-center h-32",children:v.jsx("div",{className:"text-gray-500",children:"ang ti d liu dng tin th trng..."})})});if(r||!t)return null;const i=(null==(e=null==t?void 0:t.insights)?void 0:e.detailed_analysis)||{},a=i.sector_rotation,s=i.market_cap_flow,o=i.institutional_flow;return a||s||o?v.jsxs("div",{className:"space-y-6",children:[a&&v.jsx(cne,{sectorRotation:a}),s&&v.jsx(dne,{marketCapFlow:s}),o&&v.jsx(hne,{institutionalFlow:o})]}):null},mne=({variant:e="stock"})=>{const[t,n]=N.useState(!1),[r,i]=N.useState({});return v.jsxs("div",{className:"mb-6",children:[v.jsxs("button",{onClick:()=>n(!t),className:"flex items-center gap-2 px-4 py-2 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors cursor-pointer",children:[v.jsx(Ne,{className:"h-4 w-4"}),v.jsx("span",{className:"font-medium",children:"Hng dn gii thch tn hiu bt thng"}),t?v.jsx(ce,{className:"h-4 w-4"}):v.jsx(le,{className:"h-4 w-4"})]}),t&&v.jsxs("div",{className:"mt-4 space-y-6",children:[v.jsxs("div",{className:"space-y-4",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Gii thch tng loi tn hiu"}),[{key:"widespread",name:"WIDESPREAD SIGNAL",definition:"Khong gi (High - Low) rng hn ng k so vi bnh thng",interpretations:[{type:"BULLISH",description:"Khong gi rng vi gi ng ca gn mc cao nht cho thy p lc mua mnh",action:"Theo di xu hng tng tip theo"},{type:"BEARISH",description:"Khong gi rng vi gi ng ca gn mc thp nht cho thy p lc bn mnh",action:"Theo di xu hng gim tip theo"},{type:"NEUTRAL",description:"Khong gi rng vi gi ng ca  gia cho thy s do d/bin ng",action:"Ch tn hiu r rng hn"}]},{key:"narrowspread",name:"NARROWSPREAD SIGNAL",definition:"Khong gi (High - Low) hp hn ng k so vi bnh thng",interpretations:[{type:"BULLISH",description:"Khong gi hp vi khi lng cao cho thy tch ly/mua c kim sot",action:"Tm hng breakout khi khong gi m rng"},{type:"BEARISH",description:"Khong gi hp vi khi lng thp cho thy phn phi/bn c kim sot",action:"Ch tn hiu breakout"},{type:"NEUTRAL",description:"Khong gi hp vi khi lng trung bnh cho thy cng c",action:"Theo di xu hng tip theo"}]},{key:"highvolume",name:"HIGHVOLUME SIGNAL",definition:"Khi lng giao dch cao hn ng k so vi trung bnh ng",interpretations:[{type:"BULLISH",description:"Khi lng cao vi gi tng cho thy s quan tm mua mnh",action:"Khi lng xc nhn xu hng gi; theo di xu hng"},{type:"BEARISH",description:"Khi lng cao vi gi gim cho thy p lc bn mnh",action:"Theo di xu hng gim"},{type:"NEUTRAL",description:"Khi lng cao vi gi i ngang cho thy phn phi/tch ly",action:"Ch tn hiu breakout"}]},{key:"lowvolume",name:"LOWVOLUME SIGNAL",definition:"Khi lng giao dch thp hn ng k so vi trung bnh ng",interpretations:[{type:"BULLISH",description:"Pullback vi khi lng thp cho thy p lc bn yu",action:"Ch xc nhn khi lng"},{type:"BEARISH",description:"Rally vi khi lng thp cho thy s quan tm mua yu",action:"Ch xc nhn khi lng"},{type:"NEUTRAL",description:"i ngang vi khi lng thp cho thy thiu nim tin",action:"Ch tn hiu r rng hn"}]},{key:"effortgtresult",name:"EFFORTGTRESULT SIGNAL",definition:"Khi lng cao vi khong gi hp (n lc cao, kt qu thp)",interpretations:[{type:"BULLISH",description:"N lc mua mnh vi bin ng gi c kim sot cho thy tch ly",action:"Thng i trc cc ng thi quan trng; theo di hng breakout"},{type:"BEARISH",description:"N lc bn mnh vi bin ng gi c kim sot cho thy phn phi",action:"Theo di hng breakout"}]},{key:"resultgteffort",name:"RESULTGTEFFORT SIGNAL",definition:"Khi lng thp vi khong gi rng (n lc thp, kt qu cao)",interpretations:[{type:"BULLISH",description:"Bin ng gi ln vi khi lng thp cho thy bn yu cho tay mnh",action:"C th ch ra s kit sc; thn trng vi s tip tc"},{type:"BEARISH",description:"Bin ng gi ln vi khi lng thp cho thy short covering hoc mua yu",action:"Thn trng vi xu hng tip theo"}]},{key:"abnormalerratio",name:"ABNORMALERRATIO SIGNAL",definition:"T l khi lng-trn-li nhun d tha khc bit ng k so vi bnh thng",interpretations:[{type:"HIGH RATIO",description:"Khi lng cao so vi bin ng gi cho thy nim tin mnh",action:"S dng  xc nhn sc mnh xu hng"},{type:"LOW RATIO",description:"Khi lng thp so vi bin ng gi cho thy nim tin yu",action:"S dng  xc nhn im yu xu hng"}]}].map(e=>v.jsxs(Ke,{className:"p-4",children:[v.jsxs("button",{onClick:()=>{return t=e.key,void i(e=>f(h({},e),{[t]:!e[t]}));var t},className:"w-full flex items-center justify-between text-left cursor-pointer",children:[v.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:e.name}),r[e.key]?v.jsx(ce,{className:"h-4 w-4"}):v.jsx(le,{className:"h-4 w-4"})]}),r[e.key]&&v.jsxs("div",{className:"mt-3 space-y-3",children:[v.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[v.jsx("strong",{children:"nh ngha:"})," ",e.definition]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Gii thch:"}),e.interpretations.map((e,t)=>v.jsxs("div",{className:"ml-4 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[v.jsx("div",{className:"flex items-center gap-2 mb-1",children:v.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium "+("BULLISH"===e.type||"HIGH RATIO"===e.type?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"BEARISH"===e.type||"LOW RATIO"===e.type?"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300":"bg-gray-100 text-gray-800 dark:bg-gray-900/50 dark:text-gray-300"),children:e.type})}),v.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:e.description}),v.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:[v.jsx("strong",{children:"Hnh ng:"})," ",e.action]})]},t))]})]})]},e.key))]}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Gii thch tn hiu kt hp"}),v.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:[{type:"MULTIPLE BULLISH SIGNALS",description:"Tn hiu mua mnh, xc sut cao cho chuyn ng tng",action:"C th mua vi xc sut cao"},{type:"MULTIPLE BEARISH SIGNALS",description:"Tn hiu bn mnh, xc sut cao cho chuyn ng gim",action:"C th bn hoc short vi xc sut cao"},{type:"MIXED SIGNALS",description:"Th trng do d, ch hng r rng hn",action:"Ch tn hiu r rng hn trc khi hnh ng"},{type:"NO SIGNALS",description:"iu kin th trng bnh thng",action:"Tip tc vi chin lc hin ti"}].map((e,t)=>v.jsxs(Ke,{className:"p-4",children:[v.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:e.type}),v.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:e.description}),v.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:[v.jsx("strong",{children:"Hnh ng:"})," ",e.action]})]},t))})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Ch s hiu sut"}),v.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:[{name:"Top Gainers/Losers",description:"Xp hng hiu sut 1 ngy",usage:"S dng  xc nh momentum v thay i xu hng"},{name:"Top Improving/Degrading",description:"Ci thin hiu sut so vi giai on trc",usage:"S dng  xc nh thay i xu hng"},{name:"Immediate Returns",description:"Chuyn ng gi gn nht",usage:"S dng  xc nh momentum ngn hn"}].map((e,t)=>v.jsxs(Ke,{className:"p-4",children:[v.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:e.name}),v.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:e.description}),v.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:e.usage})]},t))})]}),"industry"===e&&v.jsxs("div",{className:"space-y-4",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Gii thch tn hiu ngnh ngh"}),v.jsx(Ke,{className:"p-4",children:v.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[v.jsx("li",{children:" Tn hiu ngnh ngh tun theo cng cch gii thch nh tn hiu c phiu"}),v.jsx("li",{children:" Tn hiu ton ngnh c th ch ra c hi lun chuyn ngnh"}),v.jsx("li",{children:" Nhiu ngnh th hin tn hiu tng t c th ch ra xu hng th trng rng hn"}),v.jsx("li",{children:" Tn hiu ngnh c th c s dng cho quyt nh phn b ngnh"})]})})]})]})]})},pne=()=>{var e,t,n,r;const{data:i,loading:a,error:s}=Df("abnormal_signals"),[o,l]=N.useState("abnormalities");if(a)return v.jsxs("div",{className:"flex items-center justify-center py-12",children:[v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),v.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"ang ti d liu tn hiu bt thng..."})]});if(s)return v.jsxs("div",{className:"text-center py-12",children:[v.jsx(De,{className:"mx-auto h-12 w-12 text-red-500"}),v.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100",children:"Li ti d liu"}),v.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:s})]});if(!i)return v.jsx("div",{className:"text-center py-12",children:v.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Khng c d liu tn hiu bt thng"})});const{abnormalities:c,performance:u,immediate:d}=i,h=e=>`${(100*e).toFixed(2)}%`,f=e=>{switch(e){case"WideSpread":case"HighVolume":case"ResultGTEffort":return"text-green-600 dark:text-green-400";case"NarrowSpread":case"LowVolume":case"EffortGTResult":case"AbnormalERRatio":return"text-red-600 dark:text-red-400";default:return"text-gray-600 dark:text-gray-400"}},m=e=>{switch(e){case"WideSpread":case"HighVolume":case"ResultGTEffort":return v.jsx(Te,{className:"h-4 w-4"});case"NarrowSpread":case"LowVolume":case"EffortGTResult":case"AbnormalERRatio":return v.jsx(Ae,{className:"h-4 w-4"});default:return v.jsx(G,{className:"h-4 w-4"})}},p=[{id:"abnormalities",name:"Tn hiu bt thng",icon:De},{id:"performance",name:"Xp hng hiu sut",icon:re},{id:"immediate",name:"Li nhun tc th",icon:Oe}];return v.jsxs("div",{className:"space-y-6",children:[v.jsx(mne,{variant:"stock"}),v.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(e=>{const t=e.icon;return v.jsxs("button",{onClick:()=>l(e.id),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer "+(o===e.id?"bg-blue-500 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:[v.jsx(t,{className:"h-4 w-4"}),e.name]},e.id)})}),"abnormalities"===o&&v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Tn hiu bt thng c phiu gn y"}),v.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[(null==c?void 0:c.length)||0," tn hiu"]})]}),v.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:null==c?void 0:c.slice(0,12).map((e,t)=>{const n=Object.entries(e).filter(([e,t])=>"Symbol"!==e&&"Date"!==e&&!0===t);return v.jsxs(Ke,{className:"p-4",children:[v.jsxs("div",{className:"flex items-start justify-between mb-3",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:e.Symbol}),v.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(e.Date).toLocaleDateString("vi-VN")})]}),v.jsx("div",{className:"text-right",children:v.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/50 text-blue-800 dark:text-blue-200",children:[n.length," tn hiu"]})})]}),n.length>0?v.jsx("div",{className:"space-y-2",children:n.map(([e])=>v.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[v.jsx("span",{className:f(e),children:m(e)}),v.jsx("span",{className:f(e),children:e})]},e))}):v.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Khng c tn hiu bt thng"})]},t)})})]}),"performance"===o&&v.jsxs("div",{className:"space-y-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Xp hng hiu sut c phiu"}),v.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[v.jsxs(Ke,{className:"p-6",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[v.jsx(Te,{className:"h-5 w-5 text-green-500"}),v.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Tng gi mnh nht"})]}),v.jsx("div",{className:"space-y-3",children:null==(e=null==d?void 0:d.top_immediate_gainers)?void 0:e.slice(0,5).map((e,t)=>v.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[v.jsxs("div",{children:[v.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.Symbol}),v.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Li nhun tc th"})]}),v.jsxs("span",{className:"text-green-600 dark:text-green-400 font-semibold",children:["+",h(e.ImmediateReturn)]})]},t))})]}),v.jsxs(Ke,{className:"p-6",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[v.jsx(Ae,{className:"h-5 w-5 text-red-500"}),v.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Gim gi mnh nht"})]}),v.jsx("div",{className:"space-y-3",children:null==(t=null==d?void 0:d.top_immediate_losers)?void 0:t.slice(0,5).map((e,t)=>v.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[v.jsxs("div",{children:[v.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.Symbol}),v.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"L tc th"})]}),v.jsx("span",{className:"text-red-600 dark:text-red-400 font-semibold",children:h(e.ImmediateReturn)})]},t))})]})]})]}),"immediate"===o&&v.jsxs("div",{className:"space-y-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Li nhun tc th c phiu"}),v.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[v.jsxs(Ke,{className:"p-6",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[v.jsx(Te,{className:"h-5 w-5 text-green-500"}),v.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Tng gi tc th"})]}),v.jsx("div",{className:"space-y-3",children:null==(n=null==d?void 0:d.top_immediate_gainers)?void 0:n.slice(0,10).map((e,t)=>v.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[v.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.Symbol}),v.jsxs("span",{className:"text-green-600 dark:text-green-400 font-semibold",children:["+",h(e.ImmediateReturn)]})]},t))})]}),v.jsxs(Ke,{className:"p-6",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[v.jsx(Ae,{className:"h-5 w-5 text-red-500"}),v.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Gim gi tc th"})]}),v.jsx("div",{className:"space-y-3",children:null==(r=null==d?void 0:d.top_immediate_losers)?void 0:r.slice(0,10).map((e,t)=>v.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[v.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.Symbol}),v.jsx("span",{className:"text-red-600 dark:text-red-400 font-semibold",children:h(e.ImmediateReturn)})]},t))})]})]})]})]})},gne=()=>{var e,t,n,r;const{data:i,loading:a,error:s}=Df("abnormal_signals"),[o,l]=N.useState("abnormalities");if(a)return v.jsxs("div",{className:"flex items-center justify-center py-12",children:[v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),v.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"ang ti d liu tn hiu bt thng ngnh ngh..."})]});if(s)return v.jsxs("div",{className:"text-center py-12",children:[v.jsx(De,{className:"mx-auto h-12 w-12 text-red-500"}),v.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100",children:"Li ti d liu"}),v.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:s})]});if(!i)return v.jsx("div",{className:"text-center py-12",children:v.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Khng c d liu tn hiu bt thng ngnh ngh"})});const{industry_abnormalities:c,industry_performance:u,industry_immediate:d}=i,h=e=>`${(100*e).toFixed(2)}%`,f=e=>{switch(e){case"WideSpread":case"HighVolume":case"ResultGTEffort":return"text-green-600 dark:text-green-400";case"NarrowSpread":case"LowVolume":case"EffortGTResult":case"AbnormalERRatio":return"text-red-600 dark:text-red-400";default:return"text-gray-600 dark:text-gray-400"}},m=e=>{switch(e){case"WideSpread":case"HighVolume":case"ResultGTEffort":return v.jsx(Te,{className:"h-4 w-4"});case"NarrowSpread":case"LowVolume":case"EffortGTResult":case"AbnormalERRatio":return v.jsx(Ae,{className:"h-4 w-4"});default:return v.jsx(G,{className:"h-4 w-4"})}},p=[{id:"abnormalities",name:"Tn hiu bt thng",icon:De},{id:"performance",name:"Xp hng hiu sut",icon:re},{id:"immediate",name:"Li nhun tc th",icon:Oe}];return v.jsxs("div",{className:"space-y-6",children:[v.jsx(mne,{variant:"industry"}),v.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(e=>{const t=e.icon;return v.jsxs("button",{onClick:()=>l(e.id),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer "+(o===e.id?"bg-purple-500 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:[v.jsx(t,{className:"h-4 w-4"}),e.name]},e.id)})}),"abnormalities"===o&&v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Tn hiu bt thng ngnh ngh gn y"}),v.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[(null==c?void 0:c.length)||0," tn hiu"]})]}),v.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:null==c?void 0:c.slice(0,12).map((e,t)=>{const n=Object.entries(e).filter(([e,t])=>"Symbol"!==e&&"Name"!==e&&"Date"!==e&&!0===t);return v.jsxs(Ke,{className:"p-4",children:[v.jsxs("div",{className:"flex items-start justify-between mb-3",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:e.Name||e.Symbol}),v.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(e.Date).toLocaleDateString("vi-VN")})]}),v.jsx("div",{className:"text-right",children:v.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 dark:bg-purple-900/50 text-purple-800 dark:text-purple-200",children:[n.length," tn hiu"]})})]}),n.length>0?v.jsx("div",{className:"space-y-2",children:n.map(([e])=>v.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[v.jsx("span",{className:f(e),children:m(e)}),v.jsx("span",{className:f(e),children:e})]},e))}):v.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Khng c tn hiu bt thng"})]},t)})})]}),"performance"===o&&v.jsxs("div",{className:"space-y-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Xp hng hiu sut ngnh ngh"}),v.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[v.jsxs(Ke,{className:"p-6",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[v.jsx(Te,{className:"h-5 w-5 text-green-500"}),v.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Ngnh tng gi mnh nht"})]}),v.jsx("div",{className:"space-y-3",children:null==(e=null==d?void 0:d.top_immediate_gainers)?void 0:e.slice(0,5).map((e,t)=>v.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[v.jsxs("div",{children:[v.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.Name||e.Symbol}),v.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Li nhun tc th"})]}),v.jsxs("span",{className:"text-green-600 dark:text-green-400 font-semibold",children:["+",h(e.ImmediateReturn)]})]},t))})]}),v.jsxs(Ke,{className:"p-6",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[v.jsx(Ae,{className:"h-5 w-5 text-red-500"}),v.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Ngnh gim gi mnh nht"})]}),v.jsx("div",{className:"space-y-3",children:null==(t=null==d?void 0:d.top_immediate_losers)?void 0:t.slice(0,5).map((e,t)=>v.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[v.jsxs("div",{children:[v.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.Name||e.Symbol}),v.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"L tc th"})]}),v.jsx("span",{className:"text-red-600 dark:text-red-400 font-semibold",children:h(e.ImmediateReturn)})]},t))})]})]})]}),"immediate"===o&&v.jsxs("div",{className:"space-y-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Li nhun tc th ngnh ngh"}),v.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[v.jsxs(Ke,{className:"p-6",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[v.jsx(Te,{className:"h-5 w-5 text-green-500"}),v.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Ngnh tng gi tc th"})]}),v.jsx("div",{className:"space-y-3",children:null==(n=null==d?void 0:d.top_immediate_gainers)?void 0:n.slice(0,10).map((e,t)=>v.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[v.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.Name||e.Symbol}),v.jsxs("span",{className:"text-green-600 dark:text-green-400 font-semibold",children:["+",h(e.ImmediateReturn)]})]},t))})]}),v.jsxs(Ke,{className:"p-6",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[v.jsx(Ae,{className:"h-5 w-5 text-red-500"}),v.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Ngnh gim gi tc th"})]}),v.jsx("div",{className:"space-y-3",children:null==(r=null==d?void 0:d.top_immediate_losers)?void 0:r.slice(0,10).map((e,t)=>v.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[v.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.Name||e.Symbol}),v.jsx("span",{className:"text-red-600 dark:text-red-400 font-semibold",children:h(e.ImmediateReturn)})]},t))})]})]})]})]})},xne=e=>{const t=100*e;return t>=80?"bg-purple-600 text-white":t>=70?"bg-green-700 text-white":t>=60?"bg-green-500 text-white":t>=50?"bg-green-400 text-black":t>=40?"bg-yellow-400 text-black":t>=30?"bg-orange-400 text-black":t>=20?"bg-red-400 text-white":"bg-red-600 text-white"},yne=({data:e,dataType:t="industry",filteredItems:n=null,title:r="RS 21-Bar Heatmap",showAdditionalColumns:i=!0,onItemClick:a=null,selectedItem:s=null,setSelectedItem:o=null})=>{const[l,c]=N.useState(!1),[u,d]=N.useState({key:"name",direction:"asc"}),h=N.useMemo(()=>{if(!e)return[];let r=[];if("industry"===t)r=e.industries||[];else if("ticker"===t&&(r=e.symbols||[],n&&n.length>0)){const e=new Set(n.map(e=>e.symbol));r=r.filter(t=>e.has(t.id||t.symbol))}return r},[e,t,n]),f=N.useMemo(()=>{const e=new Set;return h.forEach(t=>{t.rs_bars&&t.rs_bars.forEach(t=>{t.date&&e.add(t.date)})}),Array.from(e).sort((e,t)=>new Date(t)-new Date(e))},[h]),m=e=>{d(t=>({key:e,direction:t.key===e&&"asc"===t.direction?"desc":"asc"}))},p=N.useMemo(()=>[...h].sort((e,t)=>{var n,r,i,a;let s,o;switch(u.key){case"name":s=e.name,o=t.name;break;case"current_crs":s=e.current_crs||0,o=t.current_crs||0;break;case"rs_trend_fast":s=e.rs_trend_fast||0,o=t.rs_trend_fast||0;break;case"rs_trend_slow":s=e.rs_trend_slow||0,o=t.rs_trend_slow||0;break;default:const l=u.key;s=(null==(r=null==(n=e.rs_bars)?void 0:n.find(e=>e.date===l))?void 0:r.rs_value)||0,o=(null==(a=null==(i=t.rs_bars)?void 0:i.find(e=>e.date===l))?void 0:a.rs_value)||0}return"string"==typeof s?"asc"===u.direction?s.localeCompare(o):o.localeCompare(s):"asc"===u.direction?s-o:o-s}),[h,u]),g=(e,t,n="")=>{const r=u.key===e,i="asc"===u.direction;return v.jsx("th",{className:`px-2 py-2 text-center text-xs font-medium text-gray-900 cursor-pointer hover:bg-gray-50 transition-colors ${n}`,onClick:()=>m(e),children:v.jsxs("div",{className:"flex items-center justify-center gap-1",children:[v.jsx("span",{children:t}),r?i?v.jsx(ce,{className:"w-3 h-3"}):v.jsx(le,{className:"w-3 h-3"}):v.jsx("div",{className:"w-3 h-3 opacity-30",children:v.jsx(ce,{className:"w-3 h-3"})})]})},e)};return e&&h.length?v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(Te,{className:"h-5 w-5 text-blue-500"}),v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:r})]}),v.jsxs("button",{onClick:()=>c(!l),className:"flex items-center gap-1 text-sm text-gray-500 hover:text-gray-700",children:[v.jsx(Ne,{className:"h-4 w-4"}),"Thng tin"]})]}),l&&v.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[v.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Gii thch RS 21-Bar"}),v.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[v.jsxs("p",{children:[" ",v.jsx("strong",{children:"RS Value:"})," Gi tr sc mnh tng i (0-100)"]}),v.jsxs("p",{children:[" ",v.jsx("strong",{children:"Mu tm:"})," RS rt cao (80) - ","industry"===t?"Ngnh":"C phiu"," vt tri th trng"]}),v.jsxs("p",{children:[" ",v.jsx("strong",{children:"Mu xanh:"})," RS cao (60-79) - ","industry"===t?"Ngnh":"C phiu"," tt hn th trng"]}),v.jsxs("p",{children:[" ",v.jsx("strong",{children:"Mu vng:"})," RS trung bnh (40-59) - ","industry"===t?"Ngnh":"C phiu"," tng ng th trng"]}),v.jsxs("p",{children:[" ",v.jsx("strong",{children:"Mu :"})," RS thp (39) - ","industry"===t?"Ngnh":"C phiu"," km hn th trng"]}),v.jsxs("p",{children:[" ",v.jsx("strong",{children:"Mi tn:"})," Xu hng 3 ngy gn nht"]}),i&&v.jsxs(v.Fragment,{children:[v.jsxs("p",{children:[" ",v.jsx("strong",{children:"CRS:"})," Cumulative Relative Strength - Sc mnh tch ly"]}),v.jsxs("p",{children:[" ",v.jsx("strong",{children:"Fast:"})," Xu hng RS nhanh (ngn hn)"]}),v.jsxs("p",{children:[" ",v.jsx("strong",{children:"Slow:"})," Xu hng RS chm (di hn)"]})]})]}),v.jsx("h4",{className:"font-medium text-blue-900 mb-2 mt-4",children:"Cch c bng:"}),v.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[v.jsxs("p",{children:[" ",v.jsx("strong",{children:"c theo hng:"})," Theo di s thay i RS ca mt ","industry"===t?"ngnh":"c phiu"," qua thi gian"]}),v.jsxs("p",{children:[" ",v.jsx("strong",{children:"c theo ct:"})," So snh hiu sut cc ","industry"===t?"ngnh":"c phiu"," trong cng mt ngy"]}),v.jsxs("p",{children:[" ",v.jsx("strong",{children:"Mu sc:"})," Cng ti cng tt - tm > xanh > vng > "]}),v.jsxs("p",{children:[" ",v.jsx("strong",{children:"Xu hng:"})," Tm cc ","industry"===t?"ngnh":"c phiu"," c xu hng ci thin (t  sang xanh)"]}),i&&v.jsxs(v.Fragment,{children:[v.jsxs("p",{children:[" ",v.jsx("strong",{children:"CRS dng:"})," ","industry"===t?"Ngnh":"C phiu"," vt tri th trng trong 21 ngy qua"]}),v.jsxs("p",{children:[" ",v.jsx("strong",{children:"Fast/Slow:"})," So snh xu hng ngn hn vs di hn  xc nh momentum"]})]})]})]}),v.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[v.jsx("span",{className:"text-gray-600",children:"Ch thch:"}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-4 h-4 bg-purple-600 rounded"}),v.jsx("span",{children:" 80"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-4 h-4 bg-green-700 rounded"}),v.jsx("span",{children:"70-79"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),v.jsx("span",{children:"60-69"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-4 h-4 bg-yellow-400 rounded"}),v.jsx("span",{children:"40-59"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-4 h-4 bg-red-400 rounded"}),v.jsx("span",{children:" 39"})]})]}),v.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full border-collapse",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[g("name","industry"===t?"Ngnh":"M CP","px-3 py-2 text-left text-sm font-medium text-gray-900 sticky left-0 bg-gray-50 z-10"),"ticker"===t&&v.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-900",children:"Ngnh"}),i&&v.jsxs(v.Fragment,{children:[g("current_crs","CRS"),g("rs_trend_fast","Fast"),g("rs_trend_slow","Slow")]}),f.map((e,t)=>v.jsx("th",{className:"px-1 py-2 text-center text-xs font-medium text-gray-900 min-w-[50px] cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>m(e),children:v.jsxs("div",{className:"flex items-center justify-center gap-1",children:[v.jsx("span",{children:new Date(e).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit"})}),u.key===e?"asc"===u.direction?v.jsx(ce,{className:"w-3 h-3"}):v.jsx(le,{className:"w-3 h-3"}):v.jsx("div",{className:"w-3 h-3 opacity-30",children:v.jsx(ce,{className:"w-3 h-3"})})]})},e))]})}),v.jsx("tbody",{children:p.map((e,n)=>v.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 cursor-pointer "+(s&&s.id===e.id?"bg-blue-50":""),onClick:()=>{a&&a(s&&s.id===e.id?null:e),o&&o(s&&s.id===e.id?null:e)},children:[v.jsx("td",{className:"px-3 py-2 text-sm font-medium text-gray-900 sticky left-0 bg-white z-10",children:e.name}),"ticker"===t&&v.jsx("td",{className:"px-2 py-2 text-xs text-gray-600",children:e.industry_name||"-"}),i&&v.jsxs(v.Fragment,{children:[v.jsx("td",{className:"px-2 py-2 text-center text-xs font-medium",children:v.jsx("div",{className:"px-2 py-1 rounded text-white "+((e.current_crs||0)>0?"bg-green-600":"bg-red-600"),children:void 0!==e.current_crs&&null!==e.current_crs?`${(100*e.current_crs).toFixed(1)}%`:"-"})}),v.jsx("td",{className:"px-2 py-2 text-center text-xs font-medium",children:v.jsx("div",{className:"px-2 py-1 rounded text-white "+((e.rs_trend_fast||0)>0?"bg-green-600":(e.rs_trend_fast||0)<0?"bg-red-600":"bg-gray-600"),children:void 0!==e.rs_trend_fast&&null!==e.rs_trend_fast?`${(100*e.rs_trend_fast).toFixed(1)}%`:"-"})}),v.jsx("td",{className:"px-2 py-2 text-center text-xs font-medium",children:v.jsx("div",{className:"px-2 py-1 rounded text-white "+((e.rs_trend_slow||0)>0?"bg-green-600":(e.rs_trend_slow||0)<0?"bg-red-600":"bg-gray-600"),children:void 0!==e.rs_trend_slow&&null!==e.rs_trend_slow?`${(100*e.rs_trend_slow).toFixed(1)}%`:"-"})})]}),f.map(t=>{var r,i;const a=null==(i=null==(r=e.rs_bars)?void 0:r.find(e=>e.date===t))?void 0:i.rs_value;return n<3&&f.indexOf(t),v.jsx("td",{className:"px-1 py-1 text-center",children:v.jsx("div",{className:`w-full h-7 flex items-center justify-center text-xs font-medium ${xne(a)}`,title:`${e.name}: ${a?Math.round(100*a):"N/A"} (${t})`,children:a?Math.round(100*a):"-"})},t)})]},e.id))})]})})})]}):v.jsx("div",{className:"text-center py-8 text-gray-500",children:"Khng c d liu RS 21-bar"})},vne=({data:e})=>{const[t,n]=N.useState(null);return v.jsx(yne,{data:e,dataType:"industry",title:"RS 21-Bar Heatmap",showAdditionalColumns:!0,getItemName:e=>e.name,getItemId:e=>e.id,getItemMetrics:t=>{var n;return(null==(n=e.industry_metrics)?void 0:n[t.id])||{}},getItemRSBars:e=>e.rs_bars||[],selectedItem:t,setSelectedItem:n})},bne=e=>e>=110?"bg-green-600":e>=105?"bg-green-500":e>=102?"bg-green-400":e>=98?"bg-gray-400":e>=95?"bg-red-400":e>=90?"bg-red-500":"bg-red-600",_ne=({industries:e,timeframe:t="1D"})=>{const[n,r]=N.useState("rs_ratio"),[i,a]=N.useState(!1),{data:s,loading:o,error:l}=zf(t,"industry"),c=(e,t)=>{switch(t){case"rs_close":return(n=e.rs_close)>=1.5?"bg-green-600":n>=1.2?"bg-green-500":n>=1.05?"bg-green-400":n>=.95?"bg-gray-400":n>=.8?"bg-red-400":n>=.7?"bg-red-500":"bg-red-600";case"rs_ratio":return bne(e.rs_ratio);case"rs_momentum":return bne(e.rs_momentum);case"crs":return(e=>e>=.15?"bg-green-600":e>=.08?"bg-green-500":e>=.03?"bg-green-400":e>=-.03?"bg-gray-400":e>=-.08?"bg-red-400":e>=-.15?"bg-red-500":"bg-red-600")(e.crs);default:return"bg-gray-400"}var n},u=(e,t)=>{var n,r,i,a;switch(t){case"rs_close":return(null==(n=e.rs_close)?void 0:n.toFixed(2))||"N/A";case"rs_ratio":return(null==(r=e.rs_ratio)?void 0:r.toFixed(1))||"N/A";case"rs_momentum":return(null==(i=e.rs_momentum)?void 0:i.toFixed(1))||"N/A";case"crs":return`${null==(a=100*e.crs)?void 0:a.toFixed(1)}%`||"N/A";default:return"N/A"}},d=N.useMemo(()=>[...e].sort((e,t)=>{const r=e[n]||-1/0;return(t[n]||-1/0)-r}),[e,n]),h={rs_close:{name:"RS Close",description:"Traditional relative strength vs VN-Index",neutral:"1.0",interpretation:"> 1.0 = Outperforming, < 1.0 = Underperforming"},rs_ratio:{name:"RS Ratio",description:"RRG-style relative strength ratio",neutral:"100.0",interpretation:"> 100 = Outperforming, < 100 = Underperforming"},rs_momentum:{name:"RS Momentum",description:"RRG momentum indicator",neutral:"100.0",interpretation:"> 100 = Positive momentum, < 100 = Negative momentum"},crs:{name:"CRS",description:"21-day cumulative relative strength",neutral:"0.0%",interpretation:"> 0% = Outperforming, < 0% = Underperforming"},rs_21bar:{name:"RS 21-Bar",description:"21-day RS heatmap with trend analysis",neutral:"50.0",interpretation:"Shows RS evolution over 21 days with CRS and trend data"}};return v.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-gray-900 p-4",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-200",children:"Industry Strength Heatmap"}),v.jsx("button",{onClick:()=>a(!i),className:"cursor-pointer p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:v.jsx(Ne,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),v.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:Object.entries(h).map(([e,t])=>v.jsxs("button",{onClick:()=>r(e),className:"cursor-pointer px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2 "+(n===e?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"),children:["rs_21bar"===e&&v.jsx(je,{className:"w-4 h-4"}),t.name]},e))}),i&&v.jsxs("div",{className:"mb-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[v.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-2",children:h[n].name}),v.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:h[n].description}),v.jsxs("div",{className:"text-sm",children:[v.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Neutral: "}),v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:h[n].neutral})]}),v.jsxs("div",{className:"text-sm",children:[v.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Interpretation: "}),v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:h[n].interpretation})]})]}),"rs_21bar"===n?v.jsx("div",{className:"flex-grow overflow-hidden",children:o?v.jsx("div",{className:"flex items-center justify-center h-64",children:v.jsx("div",{className:"text-gray-500",children:"ang ti d liu RS 21-Bar..."})}):l?v.jsx("div",{className:"flex items-center justify-center h-64",children:v.jsxs("div",{className:"text-red-500",children:["Li ti d liu: ",l]})}):v.jsx(vne,{data:s})}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex items-center gap-4 mb-4 text-sm",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Strong"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-4 h-4 bg-gray-400 rounded"}),v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Neutral"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-4 h-4 bg-red-500 rounded"}),v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Weak"})]})]}),v.jsx("div",{className:"flex-grow overflow-hidden",children:v.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3 h-full overflow-y-auto",children:d.map((e,t)=>{return v.jsx("div",{className:`${c(e,n)} p-3 rounded-lg text-white shadow-lg transition-all hover:brightness-110 hover:shadow-2xl hover:ring-2 hover:ring-white/30 cursor-pointer`,title:`${e.industry}: ${u(e,n)}`,children:v.jsxs("div",{className:"flex flex-col h-full justify-between",children:[v.jsxs("div",{className:"flex items-start justify-between mb-2",children:[v.jsx("span",{className:"text-xs font-semibold leading-tight truncate pr-1",children:e.industry}),"rs_momentum"===n&&v.jsx("div",{className:"flex-shrink-0",children:(r=e.rs_momentum,r>102?v.jsx(Te,{className:"w-3 h-3"}):r<98?v.jsx(Ae,{className:"w-3 h-3"}):v.jsx(Se,{className:"w-3 h-3"}))})]}),v.jsxs("div",{className:"flex items-end justify-between",children:[v.jsx("span",{className:"text-lg font-bold",children:u(e,n)}),v.jsxs("span",{className:"text-xs opacity-75",children:["#",t+1]})]})]})},t);var r})})}),v.jsxs("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-4 gap-4 text-sm",children:[v.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[v.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Strong"}),v.jsx("div",{className:"text-lg font-bold text-green-600",children:d.filter(e=>{const t=e[n];return"rs_close"===n?t>=1.05:"rs_ratio"===n||"rs_momentum"===n?t>=102:"crs"===n&&t>=.03}).length})]}),v.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[v.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Neutral"}),v.jsx("div",{className:"text-lg font-bold text-gray-600",children:d.filter(e=>{const t=e[n];return"rs_close"===n?t>=.95&&t<1.05:"rs_ratio"===n||"rs_momentum"===n?t>=98&&t<102:"crs"===n&&t>=-.03&&t<.03}).length})]}),v.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[v.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Weak"}),v.jsx("div",{className:"text-lg font-bold text-red-600",children:d.filter(e=>{const t=e[n];return"rs_close"===n?t<.95:"rs_ratio"===n||"rs_momentum"===n?t<98:"crs"===n&&t<-.03}).length})]}),v.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[v.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Total"}),v.jsx("div",{className:"text-lg font-bold text-gray-800 dark:text-gray-200",children:d.length})]})]})]})]})},wne=({icon:e,label:t,value:n,valueClassName:r="",tooltip:i=""})=>v.jsxs("div",{className:"flex items-center justify-between py-0.5",title:i,children:[v.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[v.jsx(e,{className:"w-3 h-3 mr-1.5"}),v.jsx("span",{className:"truncate",children:t})]}),v.jsx("span",{className:`font-mono text-xs font-medium ml-2 ${r}`,children:n})]}),jne=({title:e,tooltip:t,children:n,className:r=""})=>v.jsxs("div",{className:`bg-gray-50 rounded-md p-2 ${r}`,children:[v.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[v.jsx("h4",{className:"font-semibold text-gray-800 text-xs",children:e}),t&&v.jsx("span",{className:"text-gray-400 cursor-pointer",title:t,children:v.jsx(Ne,{size:12})})]}),v.jsx("div",{className:"space-y-0.5",children:n})]}),Nne=({industry:e})=>{if(!e)return v.jsx("div",{className:"bg-white border rounded-lg p-3 shadow-sm text-center",children:v.jsx("h3",{className:"text-sm font-bold text-gray-800",children:"Khng c d liu chi tit cho ngnh ny."})});const{name:t,metrics:n={},speed_analysis:r={},direction_analysis:i={},risk_assessment:a={},trend_consistency:s={}}=e,o=e=>"number"==typeof e?`${(100*e).toFixed(1)}%`:"K/C";return v.jsxs("div",{className:"bg-white border rounded-lg p-3 shadow-sm",children:[v.jsx("h3",{className:"text-base font-bold text-gray-900 mb-2 truncate",children:e.name}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[v.jsxs(jne,{title:"Hiu sut",tooltip:"Sc mnh tng i (Relative Strength) so vi VNINDEX",children:[v.jsx(wne,{icon:Te,label:"RS",value:o(null==n?void 0:n.current_rs),valueClassName:"text-blue-600"}),v.jsx(wne,{icon:(null==n?void 0:n.rs_trend_fast)>0?Z:X,label:"Fast",value:o(null==n?void 0:n.rs_trend_fast),valueClassName:Zte(null==n?void 0:n.rs_trend_fast)})]}),v.jsxs(jne,{title:"Tc  & Hng",tooltip:"Phn tch tc  v hng ca xu hng",children:[v.jsx(wne,{icon:Be,label:"Tc ",value:o(null==r?void 0:r.raw_speed_5d)}),(()=>{var e;const{icon:t,color:n}=rne(null==i?void 0:i.direction);return v.jsx(wne,{icon:t,label:"Hng",value:(null==(e=null==i?void 0:i.direction)?void 0:e.split(" ")[0])||"K/C",valueClassName:n})})()]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[v.jsxs(jne,{title:"Ri ro",tooltip:"Mc  ri ro v quy m v th gi ",children:[v.jsx(wne,{icon:Me,label:"Mc ",value:null==a?void 0:a.risk_level,valueClassName:qte(null==a?void 0:a.risk_level)}),v.jsx(wne,{icon:ie,label:"V th",value:(null==a?void 0:a.suggested_position_size)||"K/C"})]}),v.jsxs(jne,{title:"Nht qun",tooltip:"Tnh nht qun xu hng ngnh",children:[v.jsx(wne,{icon:G,label:"im",value:o(null==s?void 0:s.consistency_score)}),v.jsx(wne,{icon:Re,label:"S m",value:(null==s?void 0:s.symbol_count)||"K/C"})]})]}),v.jsx(jne,{title:"Chi tit b sung",children:v.jsxs("div",{className:"grid grid-cols-3 gap-1 text-center",children:[v.jsxs("div",{children:[v.jsx("div",{className:"text-xs text-gray-500",children:"Slow"}),v.jsx("div",{className:`font-mono font-semibold text-xs ${Zte(null==n?void 0:n.rs_trend_slow)}`,children:o(null==n?void 0:n.rs_trend_slow)})]}),v.jsxs("div",{children:[v.jsx("div",{className:"text-xs text-gray-500",children:"Sc mnh"}),v.jsx("div",{className:"font-mono font-semibold text-xs text-purple-600",children:(null==i?void 0:i.trend_strength)||"K/C"})]}),v.jsxs("div",{children:[v.jsx("div",{className:"text-xs text-gray-500",children:"Tin cy"}),v.jsx("div",{className:"font-mono font-semibold text-xs",children:o(null==s?void 0:s.trend_confidence)})]})]})})]})]})},kne=({icon:e,label:t,value:n,valueClassName:r="",tooltip:i=""})=>v.jsxs("div",{className:"flex items-center justify-between py-0.5",title:i,children:[v.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[v.jsx(e,{className:"w-3 h-3 mr-1.5"}),v.jsx("span",{className:"truncate",children:t})]}),v.jsx("span",{className:`font-mono text-xs font-medium ml-2 ${r}`,children:n})]}),Sne=({title:e,tooltip:t,children:n,className:r=""})=>v.jsxs("div",{className:`bg-gray-50 rounded-md p-2 ${r}`,children:[v.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[v.jsx("h4",{className:"font-semibold text-gray-800 text-xs",children:e}),t&&v.jsx("span",{className:"text-gray-400 cursor-pointer",title:t,children:v.jsx(Ne,{size:12})})]}),v.jsx("div",{className:"space-y-0.5",children:n})]}),Cne=({group:e,groupData:t,analyzeData:n})=>{var r,i,a,s;if(!t&&!(null==(r=null==n?void 0:n.groups)?void 0:r.find(t=>t.custom_id===e.custom_id||t.id===e.custom_id)))return v.jsxs("div",{className:"bg-white border rounded-lg p-3 shadow-sm text-center",children:[v.jsx("h3",{className:"text-sm font-bold text-gray-800",children:e.name}),v.jsx("p",{className:"text-gray-500 text-xs",children:"Khng c d liu chi tit cho nhm ny."})]});const{metrics:o={},performance_summary:l={},speed_analysis:c={},direction_analysis:u={},risk_assessment:d={}}=t,h=e=>"number"==typeof e?`${(100*e).toFixed(1)}%`:"K/C",f=e=>"number"==typeof e?e.toFixed(2):"K/C";return v.jsxs("div",{className:"bg-white border rounded-lg p-3 shadow-sm",children:[v.jsx("h3",{className:"text-base font-bold text-gray-900 mb-2 truncate",children:e.name}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[v.jsxs(Sne,{title:"Hiu sut",tooltip:"Sc mnh tng i (Relative Strength) so vi VNINDEX",children:[v.jsx(kne,{icon:Te,label:"RS",value:h(null==o?void 0:o.current_rs),valueClassName:"text-blue-600"}),v.jsx(kne,{icon:(null==o?void 0:o.rs_trend_fast)>0?Z:X,label:"Fast",value:h(null==o?void 0:o.rs_trend_fast),valueClassName:Zte(null==o?void 0:o.rs_trend_fast)})]}),v.jsxs(Sne,{title:"Tc  & Hng",tooltip:"Phn tch tc  v hng ca xu hng",children:[v.jsx(kne,{icon:Be,label:"Tc ",value:h(null==c?void 0:c.raw_speed_5d)}),v.jsx(kne,{icon:"Tng trng"===(null==u?void 0:u.direction)?Te:Ae,label:"Hng",value:null==u?void 0:u.direction,valueClassName:nne(null==u?void 0:u.direction)})]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[v.jsxs(Sne,{title:"Ri ro",tooltip:"Mc  ri ro v quy m v th gi ",children:[v.jsx(kne,{icon:Me,label:"Mc ",value:null==d?void 0:d.risk_level,valueClassName:qte(null==d?void 0:d.risk_level)}),v.jsx(kne,{icon:ie,label:"V th",value:(null==d?void 0:d.suggested_position_size)||"K/C"})]}),v.jsxs(Sne,{title:"CRS",tooltip:"Cumulative Relative Strength analysis",children:[v.jsx(kne,{icon:ie,label:"CRS",value:h(null==o?void 0:o.current_crs),valueClassName:Gte(null==o?void 0:o.current_crs)}),v.jsx(kne,{icon:G,label:"Trng thi",value:null==l?void 0:l.crs_status,valueClassName:Xte(null==l?void 0:l.crs_status)})]})]}),v.jsx(Sne,{title:"Chi tit b sung",children:v.jsxs("div",{className:"grid grid-cols-3 gap-1 text-center",children:[v.jsxs("div",{children:[v.jsx("div",{className:"text-xs text-gray-500",children:"Fast"}),v.jsx("div",{className:`font-mono font-semibold text-xs ${Zte(null==o?void 0:o.rs_trend_fast)}`,children:h(null==o?void 0:o.rs_trend_fast)})]}),v.jsxs("div",{children:[v.jsx("div",{className:"text-xs text-gray-500",children:"Slow"}),v.jsx("div",{className:`font-mono font-semibold text-xs ${Zte(null==o?void 0:o.rs_trend_slow)}`,children:h(null==o?void 0:o.rs_trend_slow)})]}),v.jsxs("div",{children:[v.jsx("div",{className:"text-xs text-gray-500",children:"im"}),v.jsx("div",{className:"font-mono font-semibold text-xs",children:f(null==l?void 0:l.strength_score)})]})]})}),v.jsx(Sne,{title:"Khi lng",children:v.jsxs("div",{className:"grid grid-cols-2 gap-1 text-center",children:[v.jsxs("div",{children:[v.jsx("div",{className:"text-xs text-gray-500",children:"Xu hng"}),v.jsx("div",{className:"font-mono font-semibold text-xs text-blue-600",children:(null==(i=null==d?void 0:d.volume_analysis)?void 0:i.volume_trend)||"K/C"})]}),v.jsxs("div",{children:[v.jsx("div",{className:"text-xs text-gray-500",children:"T l"}),v.jsx("div",{className:`font-mono font-semibold text-xs ${ene(null==(a=null==d?void 0:d.volume_analysis)?void 0:a.recent_volume_ratio)}`,children:f(null==(s=null==d?void 0:d.volume_analysis)?void 0:s.recent_volume_ratio)})]})]})})]})]})},Ene=({icon:e,label:t,value:n,valueClassName:r="",tooltip:i=""})=>v.jsxs("div",{className:"flex items-center justify-between py-0.5",title:i,children:[v.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[v.jsx(e,{className:"w-3 h-3 mr-1.5"}),v.jsx("span",{className:"truncate",children:t})]}),v.jsx("span",{className:`font-mono text-xs font-medium ml-2 ${r}`,children:n})]}),Pne=({title:e,tooltip:t,children:n,className:r=""})=>v.jsxs("div",{className:`bg-gray-50 rounded-md p-2 ${r}`,children:[v.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[v.jsx("h4",{className:"font-semibold text-gray-800 text-xs",children:e}),t&&v.jsx("span",{className:"text-gray-400 cursor-pointer",title:t,children:v.jsx(Ne,{size:12})})]}),v.jsx("div",{className:"space-y-0.5",children:n})]}),Mne=({symbol:e,analyzeData:t})=>{var n,r,i;const a=e;if(!a)return v.jsxs("div",{className:"bg-white border rounded-lg p-3 shadow-sm text-center",children:[v.jsx("h3",{className:"text-sm font-bold text-gray-800",children:(null==e?void 0:e.name)||"Unknown"}),v.jsx("p",{className:"text-gray-500 text-xs",children:"Khng c d liu chi tit cho m ny."})]});let s=a;if((null==t?void 0:t.symbols)&&a.symbol){const e=t.symbols.find(e=>e.symbol===a.symbol);e&&(s=e)}const o=s.quadrant&&void 0!==s.velocity,l=s.metrics&&s.performance_summary,c=void 0!==s.speed_score&&s.speed_category,u=e=>"number"==typeof e?`${(100*e).toFixed(1)}%`:"K/C",d=(()=>{if(o)return{name:s.symbol||s.name,symbol:s.symbol,rs:s.rs_ratio||s.current_rs||1,rs_fast:s.rs_trend_fast||0,rs_slow:s.rs_trend_slow||0,speed:s.velocity||0,direction:s.direction||s.trajectory_strength||"K/C",risk_level:s.risk_level||"Trung bnh",position_size:s.suggested_position_size||"K/C",crs:s.current_crs||0,crs_status:s.crs_status||"K/C",trend_strength:s.trend_strength||"K/C",strength_score:s.strength_score||0,quadrant:s.quadrant||"K/C"};if(l){const{metrics:e={},performance_summary:t={},speed_analysis:n={},direction_analysis:r={},risk_assessment:i={}}=s;return{name:s.name||s.symbol,symbol:s.symbol,rs:(null==e?void 0:e.current_rs)||1,rs_fast:(null==e?void 0:e.rs_trend_fast)||0,rs_slow:(null==e?void 0:e.rs_trend_slow)||0,speed:(null==n?void 0:n.raw_speed_5d)||(null==n?void 0:n.weighted_speed)||0,direction:(null==r?void 0:r.direction)||"K/C",risk_level:(null==i?void 0:i.risk_level)||"Trung bnh",position_size:(null==i?void 0:i.suggested_position_size)||"K/C",crs:(null==e?void 0:e.current_crs)||0,crs_status:(null==t?void 0:t.crs_status)||"K/C",trend_strength:(null==r?void 0:r.trend_strength)||"K/C",strength_score:(null==t?void 0:t.strength_score)||0,quadrant:(null==t?void 0:t.quadrant)||"K/C"}}return c?{name:s.name||s.symbol||s.custom_id,symbol:s.symbol||s.custom_id,rs:s.rs_ratio||s.current_rs||1,rs_fast:s.rs_trend_fast||0,rs_slow:s.rs_trend_slow||0,speed:s.speed_score||s.velocity||0,direction:s.speed_category||s.direction||"K/C",risk_level:s.risk_level||"Trung bnh",position_size:s.suggested_position_size||"K/C",crs:s.current_crs||0,crs_status:s.crs_status||"K/C",trend_strength:s.trend_strength||"K/C",strength_score:s.strength_score||0,quadrant:s.rrg_position||s.quadrant||"K/C"}:{name:s.name||s.symbol||s.custom_id||"Unknown",symbol:s.symbol||s.custom_id,rs:s.current_rs||s.rs_ratio||1,rs_fast:s.rs_trend_fast||0,rs_slow:s.rs_trend_slow||0,speed:s.speed_score||s.velocity||s.weighted_speed||0,direction:s.speed_category||s.direction||s.trajectory_strength||"K/C",risk_level:s.risk_level||"Trung bnh",position_size:s.suggested_position_size||"K/C",crs:s.current_crs||0,crs_status:s.crs_status||"K/C",trend_strength:s.trend_strength||"K/C",strength_score:s.strength_score||0,quadrant:s.rrg_position||s.quadrant||"K/C"}})();return v.jsxs("div",{className:"bg-white border rounded-lg p-3 shadow-sm",children:[v.jsxs("h3",{className:"text-base font-bold text-gray-900 mb-2 truncate",children:[d.name,d.symbol&&v.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",d.symbol,")"]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[v.jsxs(Pne,{title:"Hiu sut",tooltip:"Sc mnh tng i (Relative Strength) so vi VNINDEX",children:[v.jsx(Ene,{icon:Te,label:"RS",value:u(d.rs),valueClassName:"text-blue-600"}),v.jsx(Ene,{icon:d.rs_fast>0?Z:X,label:"Fast",value:u(d.rs_fast),valueClassName:Zte(d.rs_fast)})]}),v.jsxs(Pne,{title:"Tc  & Hng",tooltip:"Phn tch tc  v hng ca xu hng",children:[v.jsx(Ene,{icon:Be,label:"Tc ",value:u(d.speed)}),v.jsx(Ene,{icon:(null==(n=d.direction)?void 0:n.includes("Tng"))||(null==(r=d.direction)?void 0:r.includes("Improving"))?Te:Ae,label:"Hng",value:(null==(i=d.direction)?void 0:i.split(" ")[0])||"K/C",valueClassName:nne(d.direction)})]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[v.jsxs(Pne,{title:"Ri ro",tooltip:"Mc  ri ro v quy m v th gi ",children:[v.jsx(Ene,{icon:Me,label:"Mc ",value:d.risk_level,valueClassName:qte(d.risk_level)}),v.jsx(Ene,{icon:ie,label:"V th",value:d.position_size})]}),v.jsxs(Pne,{title:"CRS",tooltip:"Cumulative Relative Strength analysis",children:[v.jsx(Ene,{icon:ie,label:"CRS",value:u(d.crs),valueClassName:Gte(d.crs)}),v.jsx(Ene,{icon:G,label:"Trng thi",value:d.crs_status,valueClassName:Xte(d.crs_status)})]})]}),v.jsx(Pne,{title:"Chi tit b sung",children:v.jsxs("div",{className:"grid grid-cols-3 gap-1 text-center",children:[v.jsxs("div",{children:[v.jsx("div",{className:"text-xs text-gray-500",children:"Slow"}),v.jsx("div",{className:`font-mono font-semibold text-xs ${Zte(d.rs_slow)}`,children:u(d.rs_slow)})]}),v.jsxs("div",{children:[v.jsx("div",{className:"text-xs text-gray-500",children:"Sc mnh"}),v.jsx("div",{className:"font-mono font-semibold text-xs text-purple-600",children:d.trend_strength})]}),v.jsxs("div",{children:[v.jsx("div",{className:"text-xs text-gray-500",children:"im"}),v.jsx("div",{className:"font-mono font-semibold text-xs",children:(h=d.strength_score,"number"==typeof h?h.toFixed(2):"K/C")})]})]})})]})]});var h},One=({analysisData:e,type:t,getQuadrantColor:n,analyzeData:r})=>{var i,a,s,o;if(!(null==(i=null==e?void 0:e.top_performers)?void 0:i.length)&&!(null==(a=null==e?void 0:e.bottom_performers)?void 0:a.length))return v.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[v.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:["Xp hng ","industry"===t?"ngnh":"group"===t?"nhm":"c phiu"," theo im s"]}),v.jsx("p",{className:"text-gray-500",children:"Khng c d liu  hin th"}),v.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Debug: analysisData keys: ",e?Object.keys(e).join(", "):"null"]}),v.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:[v.jsx("p",{children:"Array lengths:"}),v.jsxs("p",{children:["- top_performers: ",Array.isArray(null==e?void 0:e.top_performers)?e.top_performers.length:typeof(null==e?void 0:e.top_performers)]}),v.jsxs("p",{children:["- bottom_performers: ",Array.isArray(null==e?void 0:e.bottom_performers)?e.bottom_performers.length:typeof(null==e?void 0:e.bottom_performers)]})]}),v.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:[v.jsx("p",{children:"Sample data (first 2 items):"}),v.jsxs("p",{children:["- top_performers: ",Array.isArray(null==e?void 0:e.top_performers)&&e.top_performers.length>0?JSON.stringify(e.top_performers.slice(0,2)):"empty"]}),v.jsxs("p",{children:["- bottom_performers: ",Array.isArray(null==e?void 0:e.bottom_performers)&&e.bottom_performers.length>0?JSON.stringify(e.bottom_performers.slice(0,2)):"empty"]})]})]});const l={industry:{title:"Xp hng ngnh theo im s",topLabel:"Ngnh mnh nht",bottomLabel:"Ngnh yu nht",bgColor:"bg-green-50",borderColor:"border-green-200",textColor:"text-green-900",topTextColor:"text-green-700",bottomTextColor:"text-red-700"},group:{title:"Xp hng nhm vn ha theo im s",topLabel:"Top nhm vn ha mnh nht",bottomLabel:"Top nhm vn ha yu nht",bgColor:"bg-blue-50",borderColor:"border-blue-200",textColor:"text-blue-900",topTextColor:"text-blue-700",bottomTextColor:"text-red-700"},ticker:{title:"Xp hng c phiu theo im s",topLabel:"C phiu mnh nht",bottomLabel:"C phiu yu nht",bgColor:"bg-purple-50",borderColor:"border-purple-200",textColor:"text-purple-900",topTextColor:"text-purple-700",bottomTextColor:"text-red-700"}},c=l[t]||l.industry,u=e=>{var n;switch(t){case"industry":const t=null==(n=null==r?void 0:r.industries)?void 0:n.find(t=>t.custom_id===e.custom_id||t.id===e.custom_id);return v.jsx(Nne,{industry:t||e});case"group":return v.jsx(Cne,{group:e,analyzeData:r});case"ticker":return v.jsx(Mne,{symbol:e,analyzeData:r});default:return null}};return v.jsxs("div",{className:`${c.bgColor} border ${c.borderColor} rounded-lg p-4`,children:[v.jsx("h3",{className:`text-lg font-semibold ${c.textColor} mb-3`,children:c.title}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(null==(s=e.top_performers)?void 0:s.length)>0&&v.jsxs("div",{children:[v.jsx("h4",{className:`font-medium ${c.topTextColor} mb-2`,children:c.topLabel}),v.jsx("div",{className:"space-y-2",children:e.top_performers.slice(0,10).map((e,t)=>v.jsx("div",{children:u(e)},t))})]}),(null==(o=e.bottom_performers)?void 0:o.length)>0&&v.jsxs("div",{children:[v.jsx("h4",{className:`font-medium ${c.bottomTextColor} mb-2`,children:c.bottomLabel}),v.jsx("div",{className:"space-y-2",children:e.bottom_performers.slice(0,10).map((e,t)=>v.jsx("div",{children:u(e)},t))})]})]})]})},Ane=({analysisData:e,type:t,renderInsightItems:n,rrgData:r,investmentStrategies:i,analyzeData:a})=>{var s,o,l,c,u,d;if(!e)return null;const h={improving_momentum:e.improving_momentum,degrading_momentum:e.degrading_momentum,breakout_candidates:e.breakout_candidates,accumulation_candidates:e.accumulation_candidates,distribution_candidates:e.distribution_candidates,consolidation_candidates:e.consolidation_candidates,stealth_accumulation:e.stealth_accumulation,stealth_distribution:e.stealth_distribution,institutional_activity:e.institutional_activity,high_volatility:e.high_volatility,deteriorating_fundamentals:e.deteriorating_fundamentals,falling_knife:e.falling_knife},f=Object.values(h).some(e=>Array.isArray(e)&&e.some(Boolean)),m="group"===t&&((null==(o=null==(s=null==i?void 0:i.group_strategy)?void 0:s.group_rotation_signals)?void 0:o.length)>0||(null==(c=null==(l=null==i?void 0:i.group_strategy)?void 0:l.group_allocation)?void 0:c.length)>0||(null==(d=null==(u=null==i?void 0:i.group_strategy)?void 0:u.group_risk_warnings)?void 0:d.length)>0);if(!f&&!m)return null;const p={industry:{title:"Xp hng ngnh theo tc /hng",bgColor:"bg-green-50",borderColor:"border-green-200",textColor:"text-green-900"},group:{title:"Xp hng nhm vn ha theo tc ",bgColor:"bg-blue-50",borderColor:"border-blue-200",textColor:"text-blue-900"},ticker:{title:"Xp hng c phiu theo tc /hng",bgColor:"bg-purple-50",borderColor:"border-purple-200",textColor:"text-purple-900"}},g=p[t]||p.industry,x="industry"===t?"ngnh":"group"===t?"nhm":"c phiu";[e.improving_momentum,e.breakout_candidates,e.accumulation_candidates,e.stealth_accumulation,e.institutional_activity,e.top_performers].some(e=>Array.isArray(e)&&e.length>0),[e.degrading_momentum,e.distribution_candidates,e.consolidation_candidates,e.stealth_distribution,e.falling_knife,e.high_volatility,e.deteriorating_fundamentals,e.bottom_performers].some(e=>Array.isArray(e)&&e.length>0);const y=e=>{var n;switch(t){case"industry":const t=null==(n=null==a?void 0:a.industries)?void 0:n.find(t=>t.custom_id===e.custom_id||t.id===e.custom_id);return v.jsx(Nne,{industry:t||e});case"group":return v.jsx(Cne,{group:e,analyzeData:a});case"ticker":return v.jsx(Mne,{symbol:e,analyzeData:a});default:return null}};return v.jsxs("div",{className:`${g.bgColor} border ${g.borderColor} rounded-lg p-4`,children:[v.jsx("h3",{className:`text-lg font-semibold ${g.textColor} mb-3`,children:g.title}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"space-y-4",children:[Array.isArray(e.top_performers)&&e.top_performers.some(Boolean)&&v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"ticker"===t?"Top c phiu mnh nht":"group"===t?"Top nhm mnh nht":"Top ngnh mnh nht"}),v.jsx("div",{className:"space-y-2",children:e.top_performers.slice(0,5).map((e,t)=>v.jsx("div",{children:y(e)},t))})]}),Array.isArray(e.improving_momentum)&&e.improving_momentum.some(Boolean)&&v.jsxs("div",{children:[v.jsxs("h4",{className:"font-medium text-green-700 mb-2",children:[x.charAt(0).toUpperCase()+x.slice(1)," c ng lng ci thin"]}),v.jsx("div",{className:"space-y-2",children:e.improving_momentum.slice(0,5).map((e,t)=>v.jsx("div",{children:y(e)},t))})]}),Array.isArray(e.accumulation_candidates)&&e.accumulation_candidates.some(Boolean)&&v.jsxs("div",{children:[v.jsxs("h4",{className:"font-medium text-purple-700 mb-2",children:[x.charAt(0).toUpperCase()+x.slice(1)," tch ly tim nng"]}),v.jsx("div",{className:"space-y-2",children:e.accumulation_candidates.slice(0,5).map((e,t)=>v.jsx("div",{children:y(e)},t))})]}),Array.isArray(e.breakout_candidates)&&e.breakout_candidates.some(Boolean)&&v.jsxs("div",{children:[v.jsxs("h4",{className:"font-medium text-blue-700 mb-2",children:[x.charAt(0).toUpperCase()+x.slice(1)," c th bt ph"]}),v.jsx("div",{className:"space-y-2",children:e.breakout_candidates.slice(0,5).map((e,t)=>v.jsx("div",{children:y(e)},t))})]}),Array.isArray(e.stealth_accumulation)&&e.stealth_accumulation.some(Boolean)&&v.jsxs("div",{children:[v.jsxs("h4",{className:"font-medium text-indigo-700 mb-2",children:[x.charAt(0).toUpperCase()+x.slice(1)," tch ly m thm"]}),v.jsx("div",{className:"space-y-2",children:e.stealth_accumulation.slice(0,5).map((e,t)=>v.jsx("div",{children:y(e)},t))})]}),Array.isArray(e.institutional_activity)&&e.institutional_activity.some(Boolean)&&v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium text-cyan-700 mb-2",children:"Hot ng t chc"}),v.jsx("div",{className:"space-y-2",children:e.institutional_activity.slice(0,5).map((e,t)=>v.jsx("div",{children:y(e)},t))})]})]}),v.jsxs("div",{className:"space-y-4",children:[Array.isArray(e.bottom_performers)&&e.bottom_performers.some(Boolean)&&v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"ticker"===t?"C phiu yu nht":"group"===t?"Nhm yu nht":"Ngnh yu nht"}),v.jsx("div",{className:"space-y-2",children:e.bottom_performers.slice(0,5).map((e,t)=>v.jsx("div",{children:y(e)},t))})]}),Array.isArray(e.degrading_momentum)&&e.degrading_momentum.some(Boolean)&&v.jsxs("div",{children:[v.jsxs("h4",{className:"font-medium text-red-700 mb-2",children:[x.charAt(0).toUpperCase()+x.slice(1)," c ng lng suy gim"]}),v.jsx("div",{className:"space-y-2",children:e.degrading_momentum.slice(0,5).map((e,t)=>v.jsx("div",{children:y(e)},t))})]}),Array.isArray(e.distribution_candidates)&&e.distribution_candidates.some(Boolean)&&v.jsxs("div",{children:[v.jsxs("h4",{className:"font-medium text-orange-700 mb-2",children:[x.charAt(0).toUpperCase()+x.slice(1)," c th phn phi"]}),v.jsx("div",{className:"space-y-2",children:e.distribution_candidates.slice(0,5).map((e,t)=>v.jsx("div",{children:y(e)},t))})]}),Array.isArray(e.consolidation_candidates)&&e.consolidation_candidates.some(Boolean)&&v.jsxs("div",{children:[v.jsxs("h4",{className:"font-medium text-yellow-700 mb-2",children:[x.charAt(0).toUpperCase()+x.slice(1)," cng c"]}),v.jsx("div",{className:"space-y-2",children:e.consolidation_candidates.slice(0,5).map((e,t)=>v.jsx("div",{children:y(e)},t))})]}),Array.isArray(e.stealth_distribution)&&e.stealth_distribution.some(Boolean)&&v.jsxs("div",{children:[v.jsxs("h4",{className:"font-medium text-pink-700 mb-2",children:[x.charAt(0).toUpperCase()+x.slice(1)," phn phi m thm"]}),v.jsx("div",{className:"space-y-2",children:e.stealth_distribution.slice(0,5).map((e,t)=>v.jsx("div",{children:y(e)},t))})]}),Array.isArray(e.falling_knife)&&e.falling_knife.some(Boolean)&&v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"Dao ri (trnh hon ton)"}),v.jsx("div",{className:"space-y-2",children:e.falling_knife.slice(0,5).map((e,t)=>v.jsx("div",{children:y(e)},t))})]}),Array.isArray(e.high_volatility)&&e.high_volatility.some(Boolean)&&v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium text-orange-800 mb-2",children:"Bin ng cao"}),v.jsx("div",{className:"space-y-2",children:e.high_volatility.slice(0,5).map((e,t)=>v.jsx("div",{children:y(e)},t))})]}),Array.isArray(e.deteriorating_fundamentals)&&e.deteriorating_fundamentals.some(Boolean)&&v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"C bn suy gim"}),v.jsx("div",{className:"space-y-2",children:e.deteriorating_fundamentals.slice(0,5).map((e,t)=>v.jsx("div",{children:y(e)},t))})]})]})]}),e.rrg_performers&&v.jsxs("div",{className:"mt-6",children:[v.jsx("h4",{className:"font-medium text-blue-700 mb-3",children:"RRG Quadrants"}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{key:"leading_quadrant",label:"Leading (Dn dt)"},{key:"lagging_quadrant",label:"Lagging (Tt hu)"},{key:"improving_quadrant",label:"Improving (Ci thin)"},{key:"weakening_quadrant",label:"Weakening (Suy yu)"}].map(({key:t,label:n})=>{return Array.isArray(e.rrg_performers[t])&&e.rrg_performers[t].some(Boolean)&&v.jsxs("div",{children:[v.jsx("h5",{className:"font-semibold mb-2",children:n}),(r=e.rrg_performers[t],r&&Array.isArray(r)&&0!==r.length?v.jsx("div",{className:"space-y-2",children:r.slice(0,5).map((e,t)=>v.jsx("div",{children:y(e)},t))}):null)]},t);var r})})]})]})},Tne=({candidate:e})=>{var t;return e?v.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border border-slate-200 hover:bg-slate-50",children:[v.jsx("div",{className:"font-bold text-sm text-slate-800 w-16",children:e.symbol}),v.jsxs("div",{className:"flex items-center justify-end gap-4 text-xs",children:[v.jsxs("div",{className:"text-right",children:[v.jsx("div",{className:"text-slate-500",children:"Tc "}),v.jsxs("div",{className:"font-semibold",children:[(100*e.speed).toFixed(1),"%"]})]}),v.jsxs("div",{className:"text-right",children:[v.jsx("div",{className:"text-slate-500",children:"Gia tc"}),v.jsxs("div",{className:"font-semibold",children:[(100*e.acceleration).toFixed(1),"%"]})]}),v.jsxs("div",{className:"text-right",children:[v.jsx("div",{className:"text-slate-500",children:"T l"}),v.jsx("div",{className:"font-semibold",children:null==(t=e.momentum_ratio)?void 0:t.toFixed(1)})]})]})]}):null},Dne=({title:e,phaseData:t,listTitle:n,color:r,Icon:i})=>{if(!t)return null;const a=t.top_candidates||t.warning_list||t.watch_list||[];return v.jsxs("div",{className:`p-3 rounded-lg border flex flex-col ${r.bg} ${r.border}`,children:[v.jsxs("div",{className:"flex items-center mb-1",children:[i&&v.jsx(i,{className:`w-5 h-5 mr-2 shrink-0 ${r.text}`}),v.jsx("h5",{className:`font-semibold text-sm ${r.text}`,children:e})]}),v.jsxs("p",{className:"text-xs font-medium text-slate-500 mb-3 -mt-1",children:[t.count," m (",t.percentage,")"]}),a.length>0&&v.jsxs("div",{className:"space-y-2",children:[v.jsxs("p",{className:"text-xs font-semibold text-slate-600",children:[n,":"]}),a.slice(0,5).map((e,t)=>v.jsx(Tne,{candidate:e},t))]})]})},Rne=({momentumCycles:e})=>{if(!e)return null;const{cycle_interpretation:t,accumulation_phase:n,acceleration_phase:r,momentum_phase:i,exhaustion_phase:a,reversal_phase:s}=e,o={accumulation:{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-700",Icon:null},acceleration:{bg:"bg-green-50",border:"border-green-200",text:"text-green-700",Icon:null},momentum:{bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-700",Icon:null},exhaustion:{bg:"bg-red-50",border:"border-red-200",text:"text-red-700",Icon:null},reversal:{bg:"bg-purple-50",border:"border-purple-200",text:"text-purple-700",Icon:null}};return v.jsxs("div",{className:"p-4 bg-white rounded-lg border space-y-4",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"font-bold text-base text-slate-800",children:"Chu k ng lng"}),t&&v.jsx("p",{className:"text-sm text-slate-600 mt-1",children:t})]}),v.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[{key:"accumulation",title:"Tch ly",data:n,listTitle:"ng vin hng u"},{key:"acceleration",title:"Tng tc",data:r,listTitle:"ng vin hng u"},{key:"momentum",title:"ng lng",data:i,listTitle:"ng vin hng u"},{key:"exhaustion",title:"Kit sc",data:a,listTitle:"Danh sch cnh bo"},{key:"reversal",title:"o chiu",data:s,listTitle:"Danh sch theo di"}].map(e=>e.data?v.jsx(Dne,{title:e.title,phaseData:e.data,listTitle:e.listTitle,color:o[e.key],Icon:o[e.key].Icon},e.key):null)})]})},Ine=({item:e})=>v.jsxs("div",{className:"flex items-center justify-between text-xs p-1.5 rounded hover:bg-slate-100",children:[v.jsxs("div",{className:"flex items-center gap-1.5 flex-1 truncate",children:["industry"===e.type&&v.jsx("span",{title:"Industry",className:"text-slate-400",children:""}),"symbol"===e.type&&v.jsx("span",{title:"Symbol",className:"text-slate-400",children:""}),v.jsx("span",{className:"font-medium text-slate-800 truncate",title:e.name,children:e.name})]}),v.jsxs("div",{className:"flex items-center gap-4 font-semibold shrink-0 ml-4",children:[v.jsxs("span",{className:"w-12 text-right",children:[(100*e.speed).toFixed(2),"%"]}),v.jsxs("span",{className:"w-12 text-right",children:[(100*e.acceleration).toFixed(2),"%"]})]})]}),Lne=({title:e,count:t,percentage:n,items:r,color:i})=>v.jsxs("div",{className:`p-3 rounded-lg border ${i.bg} ${i.border}`,children:[v.jsxs("h4",{className:`font-bold text-sm ${i.text}`,children:[e," ",v.jsxs("span",{className:"font-normal",children:["(",t," - ",n,")"]})]}),r&&r.length>0&&v.jsxs("div",{className:"mt-2",children:[v.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-slate-400 px-1.5 mb-1",children:[v.jsx("span",{children:"TN"}),v.jsxs("div",{className:"flex gap-4",children:[v.jsx("span",{className:"w-12 text-right",children:"TC "}),v.jsx("span",{className:"w-12 text-right",children:"GIA TC"})]})]}),v.jsx("div",{className:"space-y-1",children:r.slice(0,4).map((e,t)=>v.jsx(Ine,{item:e},t))})]})]}),zne=({speedDistribution:e})=>{if(!e)return null;const{market_momentum_health:t,speed_distribution:n,acceleration_distribution:r}=e;return v.jsxs("div",{className:"bg-white p-4 rounded-lg border space-y-6",children:[t&&v.jsxs("div",{children:[v.jsx("h3",{className:"font-bold text-base text-slate-800",children:"Sc khe ng lng th trng"}),v.jsxs("div",{className:"mt-2 p-3 border rounded-lg bg-slate-50",children:[v.jsx("p",{className:"font-bold text-lg text-green-600",children:t.status}),v.jsx("p",{className:"text-sm text-slate-600 mt-1 max-w-2xl",children:t.description}),v.jsxs("div",{className:"flex flex-wrap gap-3 mt-3 text-sm",children:[v.jsxs("div",{className:"bg-green-100 text-green-800 font-medium px-2 py-1 rounded",children:["Tc  cao: ",v.jsx("b",{children:t.high_speed_percentage})]}),v.jsxs("div",{className:"bg-sky-100 text-sky-800 font-medium px-2 py-1 rounded",children:["Tng tc: ",v.jsx("b",{children:t.accelerating_percentage})]}),v.jsxs("div",{className:"bg-red-100 text-red-800 font-medium px-2 py-1 rounded",children:["Gim tc: ",v.jsx("b",{children:t.decelerating_percentage})]})]}),v.jsx("p",{className:"text-sm text-blue-700 font-semibold mt-3 pt-3 border-t border-slate-200",children:t.recommendation})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"space-y-4",children:[v.jsx("h3",{className:"font-bold text-base text-slate-800",children:"Phn b tc "}),[{key:"very_high_speed",title:"Tc  rt cao",theme:{bg:"bg-red-50",border:"border-red-200",text:"text-red-700"}},{key:"high_speed",title:"Tc  cao",theme:{bg:"bg-orange-50",border:"border-orange-200",text:"text-orange-700"}},{key:"medium_speed",title:"Tc  trung bnh",theme:{bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-700"}},{key:"low_speed",title:"Tc  thp",theme:{bg:"bg-green-50",border:"border-green-200",text:"text-green-700"}}].map(({key:e,title:t,theme:r})=>{const i=null==n?void 0:n[e];return!i||i.count<=0||!Array.isArray(i.items)||0===i.items.length?null:v.jsx(Lne,{title:t,count:i.count,percentage:i.percentage,items:i.items,color:r},e)})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("h3",{className:"font-bold text-base text-slate-800",children:"Phn b gia tc"}),[{key:"strong_acceleration",title:"Gia tc mnh",theme:{bg:"bg-green-50",border:"border-green-200",text:"text-green-700"}},{key:"weak_acceleration",title:"Gia tc yu",theme:{bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-700"}},{key:"weak_deceleration",title:"Gim tc yu",theme:{bg:"bg-orange-50",border:"border-orange-200",text:"text-orange-700"}},{key:"strong_deceleration",title:"Gim tc mnh",theme:{bg:"bg-red-50",border:"border-red-200",text:"text-red-700"}}].map(({key:e,title:t,theme:n})=>{const i=null==r?void 0:r[e];return!i||i.count<=0||!Array.isArray(i.items)||0===i.items.length?null:v.jsx(Lne,{title:t,count:i.count,percentage:i.percentage,items:i.items,color:n},e)})]})]})]})},Fne=({detailedAnalysis:e})=>e&&e.title?e.momentum_cycles||e.speed_distribution?v.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Phn tch ng lng"}),v.jsxs("div",{className:"space-y-6",children:[e.momentum_cycles&&v.jsx(Rne,{momentumCycles:e.momentum_cycles}),e.speed_distribution&&v.jsx(zne,{speedDistribution:e.speed_distribution})]})]}):v.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:v.jsx("div",{className:"text-center text-gray-500",children:"Khng c d liu phn tch chi tit kh dng."})}):null,Bne=N.createContext({isReloading:!1,lastReloadTime:null,reloadAllData:()=>{},reloadSpecificData:()=>{},triggerReload:()=>{},reloadTrigger:0,companies:[],industries:[],essentialDataLoading:!0,essentialDataError:null});function Wne({children:e}){const[t,n]=N.useState(!1),[r,i]=N.useState(null),[a,s]=N.useState(null),[o,l]=N.useState(0),{data:c,loading:u,error:d}=If(),{data:h,loading:f,error:m}=Lf(),p=u||f,x=d||m;N.useEffect(()=>{if(!a){const e=new Date;s(e),i(e)}},[a]),N.useEffect(()=>{const e=e=>{var t;if(!r&&(null==(t=e.detail)?void 0:t.dataType)){const e=new Date;s(e),i(e)}};return window.addEventListener("dataReloaded",e),()=>{window.removeEventListener("dataReloaded",e)}},[]);const y=N.useCallback(()=>g(null,null,function*(){n(!0);try{Af(),i(new Date),l(e=>e+1);const e=new CustomEvent("dataReloaded",{detail:{dataType:null}});window.dispatchEvent(e)}catch(e){}finally{n(!1)}}),[]),b=N.useCallback(e=>g(null,null,function*(){n(!0);try{Af(e),i(new Date),l(e=>e+1);const t=new CustomEvent("dataReloaded",{detail:{dataType:e}});window.dispatchEvent(t)}catch(t){}finally{n(!1)}}),[]),_=N.useCallback((e=null)=>{e?b(e):y()},[y,b]),w={isReloading:t,lastReloadTime:r||a,reloadAllData:y,reloadSpecificData:b,triggerReload:_,reloadTrigger:o,companies:c,industries:h,essentialDataLoading:p,essentialDataError:x};return v.jsx(Bne.Provider,{value:w,children:e})}function $ne(){const e=N.useContext(Bne);if(!e||!e.reloadAllData)throw new Error("useDataReload must be used within a DataReloadProvider");return e}const Vne=({icon:e,label:t,value:n,valueClassName:r=""})=>v.jsxs("div",{className:"flex items-center justify-between py-1",children:[v.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[v.jsx(e,{className:"w-3.5 h-3.5 mr-2"}),v.jsx("span",{children:t})]}),v.jsx("span",{className:`font-mono text-xs font-medium ${r}`,children:n})]}),Kne=({title:e,tooltip:t,children:n})=>v.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsx("h4",{className:"font-semibold text-gray-800 text-sm",children:e}),t&&v.jsx("span",{className:"text-gray-400 cursor-pointer",title:t,children:v.jsx(Ne,{size:14})})]}),v.jsx("div",{className:"space-y-1",children:n})]}),Hne=({industry:e})=>{const[t,n]=N.useState(!1);if(!e)return v.jsx("div",{className:"bg-white border rounded-lg p-4 shadow-sm text-center",children:v.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Khng c d liu chi tit cho ngnh ny."})});const{metrics:r={},speed_analysis:i={},direction_analysis:a={},risk_assessment:s={},trend_consistency:o={}}=e,l=e=>"number"==typeof e?`${(100*e).toFixed(1)}%`:"K/C";return v.jsxs("div",{className:"bg-white border rounded-lg p-4 shadow-sm",children:[v.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:e.name}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[v.jsxs(Kne,{title:"Hiu sut",tooltip:"Sc mnh tng i (Relative Strength) so vi VNINDEX",children:[v.jsx(Vne,{icon:Te,label:"RS Hin ti",value:l(null==r?void 0:r.current_rs),valueClassName:"text-blue-600"}),v.jsx(Vne,{icon:(null==r?void 0:r.rs_trend_fast)>0?Z:X,label:"Xu hng nhanh",value:l(null==r?void 0:r.rs_trend_fast),valueClassName:Zte(null==r?void 0:r.rs_trend_fast)}),v.jsx(Vne,{icon:(null==r?void 0:r.rs_trend_slow)>0?Z:X,label:"Xu hng chm",value:l(null==r?void 0:r.rs_trend_slow),valueClassName:Zte(null==r?void 0:r.rs_trend_slow)})]}),v.jsxs(Kne,{title:"Tc  & Hng",tooltip:"Phn tch tc  v hng ca xu hng",children:[v.jsx(Vne,{icon:Be,label:"Tc  5 phin",value:l(null==i?void 0:i.raw_speed_5d)}),(()=>{const{icon:e,color:t}=rne(null==a?void 0:a.direction);return v.jsx(Vne,{icon:e,label:"Hng",value:(null==a?void 0:a.direction)||"K/C",valueClassName:t})})(),v.jsx(Vne,{icon:G,label:"Sc mnh xu hng",value:(null==a?void 0:a.trend_strength)||"K/C",valueClassName:"text-purple-600"})]}),v.jsxs(Kne,{title:"nh gi Ri ro",tooltip:"Mc  ri ro v quy m v th gi ",children:[v.jsx(Vne,{icon:Me,label:"Mc ri ro",value:null==s?void 0:s.risk_level,valueClassName:qte(null==s?void 0:s.risk_level)}),v.jsx(Vne,{icon:ie,label:"Kch thc v th",value:(null==s?void 0:s.suggested_position_size)||"K/C"}),v.jsx(Vne,{icon:Re,label:"Khung thi gian",value:(null==s?void 0:s.time_horizon)||"K/C"})]})]}),v.jsx("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:v.jsx(Kne,{title:"Tnh Nht Qun Xu Hng Ngnh",children:v.jsxs("div",{className:"grid grid-cols-4 gap-x-6 text-center",children:[v.jsxs("div",{children:[v.jsx("div",{className:"text-xs text-gray-500",children:"im nht qun"}),v.jsx("div",{className:"font-mono font-semibold text-base",children:l(null==o?void 0:o.consistency_score)})]}),v.jsxs("div",{children:[v.jsx("div",{className:"text-xs text-gray-500",children:"Cn chnh xu hng"}),v.jsx("div",{className:"font-mono font-semibold text-base",children:"Tch cc"===(null==o?void 0:o.trend_alignment)?"Tng gi":"Tiu cc"===(null==o?void 0:o.trend_alignment)?"Gim gi":"Trung lp"})]}),v.jsxs("div",{children:[v.jsx("div",{className:"text-xs text-gray-500",children:"S m phn tch"}),v.jsx("div",{className:"font-mono font-semibold text-base",children:(null==o?void 0:o.symbol_count)||"K/C"})]}),v.jsxs("div",{children:[v.jsx("div",{className:"text-xs text-gray-500",children:" tin cy xu hng"}),v.jsx("div",{className:"font-mono font-semibold text-base",children:l(null==o?void 0:o.trend_confidence)})]})]})})})]},e.id)},Une=({timeframe:e,analyticsData:t})=>{const{data:n,loading:r,error:i}=Df("rs_analysis",e),a=t||n,s=!t&&r,o=t?null:i,{companies:l,industries:c,essentialDataLoading:u}=N.useContext(Bne),{getIndustryName:d}=Bf(l,c),[h,f]=N.useState(""),[m,p]=N.useState(""),[g,x]=N.useState("current_crs"),[y,b]=N.useState("desc"),[_,w]=N.useState(null);if(N.useEffect(()=>{w(null)},[e]),s||u)return v.jsxs("div",{className:"flex items-center justify-center py-12",children:[v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),v.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"ang ti d liu phn tch RS ngnh ngh..."})]});if(o)return v.jsxs("div",{className:"text-center py-12",children:[v.jsx(De,{className:"mx-auto h-12 w-12 text-red-500"}),v.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100",children:"Li ti d liu"}),v.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:o})]});if(!a||!a.industries)return v.jsx("div",{className:"text-center py-12",children:v.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Khng c d liu phn tch RS ngnh ngh"})});const{industries:j}=a,S=e=>`${(100*e).toFixed(2)}%`,C=e=>{const t=(100*e).toFixed(2);return e>0?`+${t}% (vt tri)`:e<0?`${t}% (thua km)`:"0.00% (ngang bng)"},E=(e,t)=>(e/t*100).toFixed(1),P=(e,t)=>{var n,r,i,a,s,o,l,c,u,d,h,f;switch(t){case"name":return e.name;case"current_crs":return e.metrics.current_crs;case"current_rs":return e.metrics.current_rs;case"current_ma13":return e.metrics.current_ma13;case"current_ma49":return e.metrics.current_ma49;case"rs_trend_fast":return(null==(n=e.metrics)?void 0:n.rs_trend_fast)||0;case"rs_trend_slow":return(null==(r=e.metrics)?void 0:r.rs_trend_slow)||0;case"net_decayed":return(null==(i=e.metrics)?void 0:i.net_decayed)||0;case"rs_trend":return e.performance_summary.rs_trend;case"crs_status":return e.performance_summary.crs_status;case"speed_fast":return(null==(a=e.speed_analysis)?void 0:a.speed_fast)||0;case"speed_slow":return(null==(s=e.speed_analysis)?void 0:s.speed_slow)||0;case"momentum_acceleration":return((null==(o=e.speed_analysis)?void 0:o.speed_fast)||0)-((null==(l=e.speed_analysis)?void 0:l.speed_slow)||0);case"weighted_speed":return(null==(c=e.speed_analysis)?void 0:c.weighted_speed)||0;case"momentum_ratio":return(null==(u=e.speed_analysis)?void 0:u.momentum_ratio)||0;case"consistency_score":return(null==(d=e.speed_analysis)?void 0:d.consistency_score)||0;case"speed_category":return(null==(h=e.speed_analysis)?void 0:h.speed_category)||"";case"strength_score":return e.performance_summary.strength_score;case"consistency":return e.metrics.outperforming_days/e.metrics.total_days;case"volatility":return e.metrics.rs_volatility;case"consensus_strength":return(null==(f=e.trend_consistency)?void 0:f.consensus_strength)||0;default:return 0}},M=e=>{g===e?b("asc"===y?"desc":"asc"):(x(e),b("desc"))},O=({field:e})=>g!==e?v.jsx(le,{className:"h-4 w-4 text-gray-400"}):"asc"===y?v.jsx(ce,{className:"h-4 w-4 text-blue-500"}):v.jsx(le,{className:"h-4 w-4 text-blue-500"}),A=j.filter(e=>{const t=""===h||e.performance_summary.rs_trend===h,n=""===m||e.performance_summary.crs_status===m;return t&&n}),T=[...A].sort((e,t)=>{const n=P(e,g),r=P(t,g);return"asc"===y?n>r?1:-1:n<r?1:-1}),D=e=>{const t=e.custom_id||e.id,n=d(t);return"Unknown"!==n?n:e.name};return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Phn tch Sc mnh Tng i (RS) Ngnh ngh"}),v.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Phn tch sc mnh tng i ca cc ngnh ngh so vi VN-Index"}),a.analysis_date&&v.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:["Cp nht: ",new Date(a.analysis_date).toLocaleString("vi-VN")]})]}),v.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm",children:v.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Xu hng"}),v.jsxs("select",{value:h,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm",children:[v.jsx("option",{value:"",children:"Tt c xu hng"}),v.jsx("option",{value:"Tng trng",children:"Tng trng"}),v.jsx("option",{value:"Suy gim",children:"Suy gim"}),v.jsx("option",{value:"Trung lp",children:"Trung lp"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Trng thi"}),v.jsxs("select",{value:m,onChange:e=>p(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm",children:[v.jsx("option",{value:"",children:"Tt c trng thi"}),v.jsx("option",{value:"Vt tri",children:"Vt tri"}),v.jsx("option",{value:"Km hiu qu",children:"Km hiu qu"}),v.jsx("option",{value:"Trung lp",children:"Trung lp"})]})]}),v.jsx("div",{className:"flex items-end",children:v.jsx("button",{onClick:()=>{f(""),p("")},className:"w-full px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg text-sm font-medium transition-colors",children:"Xa b lc"})})]})}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Kt qu phn tch"}),v.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[A.length," / ",j.length," ngnh"]})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:[v.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>M("name"),children:v.jsxs("div",{className:"flex items-center gap-1",children:["Ngnh",v.jsx(O,{field:"name"})]})}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>M("current_crs"),children:v.jsxs("div",{className:"flex items-center gap-1",children:["CRS",v.jsx(O,{field:"current_crs"})]})}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>M("current_rs"),children:v.jsxs("div",{className:"flex items-center gap-1",children:["RS",v.jsx(O,{field:"current_rs"})]})}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>M("rs_trend_fast"),children:v.jsxs("div",{className:"flex items-center gap-1",children:["Xu hng nhanh",v.jsx(O,{field:"rs_trend_fast"})]})}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>M("rs_trend_slow"),children:v.jsxs("div",{className:"flex items-center gap-1",children:["Xu hng chm",v.jsx(O,{field:"rs_trend_slow"})]})}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>M("net_decayed"),children:v.jsxs("div",{className:"flex items-center gap-1",children:["Net Decayed",v.jsx(O,{field:"net_decayed"})]})}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>M("speed_fast"),children:v.jsxs("div",{className:"flex items-center gap-1",children:["Tc  nhanh",v.jsx(O,{field:"speed_fast"})]})}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>M("speed_slow"),children:v.jsxs("div",{className:"flex items-center gap-1",children:["Tc  chm",v.jsx(O,{field:"speed_slow"})]})}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>M("momentum_acceleration"),children:v.jsxs("div",{className:"flex items-center gap-1",children:["Gia tc momentum",v.jsx(O,{field:"momentum_acceleration"})]})}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>M("momentum_ratio"),children:v.jsxs("div",{className:"flex items-center gap-1",children:["T l momentum",v.jsx(O,{field:"momentum_ratio"})]})}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>M("weighted_speed"),children:v.jsxs("div",{className:"flex items-center gap-1",children:["Tc  tng hp",v.jsx(O,{field:"weighted_speed"})]})}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>M("consistency_score"),children:v.jsxs("div",{className:"flex items-center gap-1",children:["im n nh",v.jsx(O,{field:"consistency_score"})]})}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>M("consistency"),children:v.jsxs("div",{className:"flex items-center gap-1",children:[" n nh",v.jsx(O,{field:"consistency"})]})}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>M("volatility"),children:v.jsxs("div",{className:"flex items-center gap-1",children:[" bin ng",v.jsx(O,{field:"volatility"})]})}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>M("consensus_strength"),children:v.jsxs("div",{className:"flex items-center gap-1",children:["ng thun",v.jsx(O,{field:"consensus_strength"})]})}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>M("strength_score"),children:v.jsxs("div",{className:"flex items-center gap-1",children:["im mnh",v.jsx(O,{field:"strength_score"})]})})]})}),v.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:T.map((e,t)=>{var n,r,i,a,s,o,l,c,u,d,h,f,m,p,g,x,y,b,j,N,P,M,O,A,T;return v.jsxs(k.Fragment,{children:[v.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",onClick:()=>w(_===e.custom_id?null:e.custom_id),children:[v.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:v.jsxs("div",{children:[v.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:D(e)}),v.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["#",t+1]})]})}),v.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:v.jsx("span",{className:`text-sm font-medium ${Gte(e.metrics.current_crs)}`,children:C(e.metrics.current_crs)})}),v.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:e.metrics.current_rs.toFixed(4)}),v.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:v.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Qte(null==(n=e.metrics)?void 0:n.rs_trend_fast)}`,children:"number"==typeof(null==(r=e.metrics)?void 0:r.rs_trend_fast)?e.metrics.rs_trend_fast.toFixed(2):"N/A"})}),v.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:v.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Qte(null==(i=e.metrics)?void 0:i.rs_trend_slow)}`,children:"number"==typeof(null==(a=e.metrics)?void 0:a.rs_trend_slow)?e.metrics.rs_trend_slow.toFixed(2):"N/A"})}),v.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:v.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Qte(null==(s=e.metrics)?void 0:s.net_decayed)}`,children:"number"==typeof(null==(o=e.metrics)?void 0:o.net_decayed)?e.metrics.net_decayed.toFixed(2):"N/A"})}),v.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:v.jsx("span",{className:`text-sm font-medium ${ine(e.performance_summary.rs_trend,null==(l=e.speed_analysis)?void 0:l.speed_fast)}`,children:(null==(c=e.speed_analysis)?void 0:c.speed_fast)?(e.speed_analysis.speed_fast>0?"+":"")+S(e.speed_analysis.speed_fast):"N/A"})}),v.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:v.jsx("span",{className:`text-sm font-medium ${ine(e.performance_summary.rs_trend,null==(u=e.speed_analysis)?void 0:u.speed_slow)}`,children:(null==(d=e.speed_analysis)?void 0:d.speed_slow)?(e.speed_analysis.speed_slow>0?"+":"")+S(e.speed_analysis.speed_slow):"N/A"})}),v.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:v.jsx("span",{className:`text-sm font-medium ${ine(e.performance_summary.rs_trend,((null==(h=e.speed_analysis)?void 0:h.speed_fast)||0)-((null==(f=e.speed_analysis)?void 0:f.speed_slow)||0))}`,children:void 0!==(null==(m=e.speed_analysis)?void 0:m.speed_fast)&&void 0!==(null==(p=e.speed_analysis)?void 0:p.speed_slow)?(e.speed_analysis.speed_fast-e.speed_analysis.speed_slow>0?"+":"")+S(e.speed_analysis.speed_fast-e.speed_analysis.speed_slow):"N/A"})}),v.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:v.jsx("span",{className:`text-sm font-medium ${ine(e.performance_summary.rs_trend,null==(g=e.speed_analysis)?void 0:g.momentum_ratio)}`,children:(null==(x=e.speed_analysis)?void 0:x.momentum_ratio)?(e.speed_analysis.momentum_ratio>0?"+":"")+S(e.speed_analysis.momentum_ratio):"N/A"})}),v.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:v.jsx("span",{className:`text-sm font-medium ${ine(e.performance_summary.rs_trend,null==(y=e.speed_analysis)?void 0:y.weighted_speed)}`,children:(null==(b=e.speed_analysis)?void 0:b.weighted_speed)?(e.speed_analysis.weighted_speed>0?"+":"")+S(e.speed_analysis.weighted_speed):"N/A"})}),v.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:v.jsx("span",{className:`text-sm font-medium ${ane(100*(null==(j=e.speed_analysis)?void 0:j.consistency_score))}`,children:(null==(N=e.speed_analysis)?void 0:N.consistency_score)?(100*e.speed_analysis.consistency_score).toFixed(1)+"%":"N/A"})}),v.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:v.jsxs("span",{className:`text-sm font-medium ${ane(E(e.metrics.outperforming_days,e.metrics.total_days))}`,children:[E(e.metrics.outperforming_days,e.metrics.total_days),"%"]})}),v.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:v.jsx("span",{className:"text-sm font-medium "+(T=e.metrics.rs_volatility,T<.03?"text-green-600 dark:text-green-400":T<.06?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"),children:(A=e.metrics.rs_volatility,`${(100*A).toFixed(2)}%`)})}),v.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:v.jsx("span",{className:`text-sm font-medium ${sne(null==(P=e.trend_consistency)?void 0:P.consensus_strength)}`,children:void 0!==(null==(M=e.trend_consistency)?void 0:M.consensus_strength)?e.trend_consistency.consensus_strength.toFixed(2):"N/A"})}),v.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:"number"==typeof(null==(O=e.performance_summary)?void 0:O.strength_score)?e.performance_summary.strength_score.toFixed(2):"N/A"})]}),_===e.custom_id&&v.jsx("tr",{children:v.jsx("td",{colSpan:17,className:"bg-gray-50 dark:bg-gray-900/50 p-4",children:v.jsx(Hne,{industry:e})})})]},t)})})]})}),v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[v.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-3",children:"Gii thch chi tit cc ch s"}),v.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[v.jsxs("div",{children:[v.jsx("h5",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:"CRS (Cumulative Relative Strength)"}),v.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"CRS l sc mnh tng i so vi VN-Index trong vng 21 ngy."}),v.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[v.jsxs("li",{children:[" ",v.jsx("strong",{children:"nh gi hiu sut:"})," CRS > 0 = vt tri, CRS < 0 = thua km"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"Phn tch xu hng:"})," CRS tng = ang ci thin, CRS gim = ang suy yu"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"So snh ngnh:"})," CRS cao = ngnh mnh, CRS thp = ngnh yu"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"Timing:"})," CRS chuyn t m sang dng = tn hiu mua tim nng"]})]}),v.jsx("h5",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2 mt-4",children:"RS (Relative Strength)"}),v.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"RS l t l gi hin ti ca ngnh so vi VN-Index. Gi tr > 1 ngha l ngnh ang c hiu sut tt hn VN-Index."}),v.jsx("h5",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2 mt-4",children:"Xu hng nhanh & chm"}),v.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"o lng xu hng RS trong cc khong thi gian khc nhau. Xu hng nhanh phn ng nhanh hn vi thay i th trng."}),v.jsx("h5",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2 mt-4",children:"Net Decayed"}),v.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Tng s phin m ngnh/c phiu mnh hn th trng trong khong thi gian c tnh (13 ngy). Ch s ny c hiu chnh  cc phin gn nht c trng s cao hn."}),v.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[v.jsxs("li",{children:[" ",v.jsx("strong",{children:"Phn tch momentum:"})," Gi tr dng = xu hng tng, gi tr m = xu hng gim"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"Tm kim c hi:"})," Da vo ch s ny c th tm cc c phiu c sc mnh tng/gim trong chui ngy gn y"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"Xc nhn xu hng:"})," Gi tr cao = xu hng mnh v n nh"]})]})]}),v.jsxs("div",{children:[v.jsx("h5",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Tc  nhanh & chm"}),v.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:[v.jsx("strong",{children:"Tc  nhanh (13 ngy):"})," Phn ng nhanh vi thay i th trng, ph hp cho giao dch ngn hn.",v.jsx("br",{}),v.jsx("strong",{children:"Tc  chm (49 ngy):"})," n nh hn, ph hp cho u t di hn v xc nh xu hng chnh."]}),v.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[v.jsxs("li",{children:[" ",v.jsx("strong",{children:"So snh thi gian:"})," Tc  nhanh > chm = momentum tng, ngc li = momentum gim"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"Chin lc giao dch:"})," Da vo tc  nhanh  vo lnh, tc  chm  xc nhn xu hng"]})]}),v.jsx("h5",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2 mt-4",children:"Gia tc momentum"}),v.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Chnh lch gia tc  nhanh v chm, cho bit momentum ang tng tc hay chm li."}),v.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[v.jsxs("li",{children:[" ",v.jsx("strong",{children:"Gia tc dng:"})," Momentum ang tng tc = tn hiu mua mnh"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"Gia tc m:"})," Momentum ang chm li = cn thn trng"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"Chuyn i:"})," T m sang dng = tn hiu o chiu tch cc"]})]}),v.jsx("h5",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2 mt-4",children:"T l momentum"}),v.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"T l gia tc  nhanh v chm, cho bit momentum ngn hn so vi di hn."}),v.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[v.jsxs("li",{children:[" ",v.jsx("strong",{children:"T l > 1.0:"})," Momentum ngn hn mnh hn = xu hng tng mnh"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"T l = 1.0:"})," Momentum cn bng = xu hng n nh"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"T l < 1.0:"})," Momentum di hn mnh hn = xu hng gim"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"ng dng:"})," Dng  xc nh thi im vo lnh v qun l ri ro"]})]}),v.jsx("h5",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2 mt-4",children:"Tc  tng hp"}),v.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Ch s tng hp c trng s (70% ngn hn + 30% di hn), cung cp ci nhn ton din v momentum."}),v.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[v.jsxs("li",{children:[" ",v.jsx("strong",{children:"nh gi tng th:"})," Gi tr cao = momentum mnh, gi tr thp = momentum yu"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"So snh ngnh:"})," Dng  xp hng sc mnh tng i gia cc ngnh"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"Xc nhn tn hiu:"})," Kt hp vi cc ch s khc  xc nhn xu hng"]})]}),v.jsx("h5",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2 mt-4",children:"im n nh"}),v.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:'T l tn hiu-nhiu, o lng  "sch" ca xu hng so vi bin ng.'}),v.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[v.jsxs("li",{children:[" ",v.jsx("strong",{children:"Gi tr cao:"})," Xu hng n nh, t nhiu = tn hiu ng tin cy"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"Gi tr thp:"})," Bin ng mnh, nhiu nhiu = cn thn trng"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"ng dng:"})," Dng  nh gi  tin cy ca tn hiu momentum"]})]}),v.jsx("h5",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2 mt-4",children:"ng thun"}),v.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Mc  ng thun ca cc c phiu trong ngnh (thang -1 n +1)."}),v.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[v.jsxs("li",{children:[" ",v.jsx("strong",{children:"+1.0:"})," Tt c c phiu tng = xu hng ngnh mnh"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"-1.0:"})," Tt c c phiu gim = xu hng ngnh yu"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"0.0:"})," Tn hiu hn hp = cn phn tch chi tit hn"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"ng dng:"})," Xc nhn xu hng ngnh v tm c hi u t"]})]})]})]}),v.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[v.jsx("h5",{className:"font-medium text-gray-900 dark:text-gray-100 mb-3",children:"Tm tt cc ch s momentum"}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full text-sm text-gray-600 dark:text-gray-400",children:[v.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-900 dark:text-gray-100",children:"Ch s"}),v.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-900 dark:text-gray-100",children:"Cng thc"}),v.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-900 dark:text-gray-100",children:"Phm vi"}),v.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-900 dark:text-gray-100",children:" ngha"})]})}),v.jsxs("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[v.jsxs("tr",{children:[v.jsx("td",{className:"px-3 py-2 font-medium",children:"Net Decayed"}),v.jsx("td",{className:"px-3 py-2",children:"EMA(daily_signals, 13)  12"}),v.jsx("td",{className:"px-3 py-2",children:"Bt k"}),v.jsx("td",{className:"px-3 py-2",children:"Tn hiu momentum mt m"})]}),v.jsxs("tr",{children:[v.jsx("td",{className:"px-3 py-2 font-medium",children:"Weighted Speed"}),v.jsx("td",{className:"px-3 py-2",children:"0.7  speed_fast + 0.3  speed_slow"}),v.jsx("td",{className:"px-3 py-2",children:" 0"}),v.jsx("td",{className:"px-3 py-2",children:"Sc mnh xu hng tng hp"})]}),v.jsxs("tr",{children:[v.jsx("td",{className:"px-3 py-2 font-medium",children:"Momentum Ratio"}),v.jsx("td",{className:"px-3 py-2",children:"speed_fast  speed_slow"}),v.jsx("td",{className:"px-3 py-2",children:" 0"}),v.jsx("td",{className:"px-3 py-2",children:"So snh momentum ngn vs di hn"})]}),v.jsxs("tr",{children:[v.jsx("td",{className:"px-3 py-2 font-medium",children:"Consistency Score"}),v.jsx("td",{className:"px-3 py-2",children:"weighted_speed  volatility"}),v.jsx("td",{className:"px-3 py-2",children:" 0"}),v.jsx("td",{className:"px-3 py-2",children:"T l tn hiu-nhiu"})]}),v.jsxs("tr",{children:[v.jsx("td",{className:"px-3 py-2 font-medium",children:"Consensus Strength"}),v.jsx("td",{className:"px-3 py-2",children:"avg(direction_scores)"}),v.jsx("td",{className:"px-3 py-2",children:"[-1, +1]"}),v.jsx("td",{className:"px-3 py-2",children:"Mc  ng thun ngnh"})]})]})]})})]}),v.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[v.jsx("h5",{className:"font-medium text-gray-900 dark:text-gray-100 mb-3",children:"Cch c bng d liu"}),v.jsxs("div",{className:"grid gap-4 md:grid-cols-3 text-sm text-gray-600 dark:text-gray-400",children:[v.jsxs("div",{children:[v.jsx("h6",{className:"font-medium text-gray-900 dark:text-gray-100 mb-1",children:"Mu sc"}),v.jsxs("ul",{className:"space-y-1",children:[v.jsxs("li",{children:[" ",v.jsx("span",{className:"text-green-600 dark:text-green-400",children:"Xanh l:"})," Gi tr tch cc/tt"]}),v.jsxs("li",{children:[" ",v.jsx("span",{className:"text-red-600 dark:text-red-400",children:":"})," Gi tr tiu cc/xu"]}),v.jsxs("li",{children:[" ",v.jsx("span",{className:"text-yellow-600 dark:text-yellow-400",children:"Vng:"})," Gi tr trung bnh"]})]})]}),v.jsxs("div",{children:[v.jsx("h6",{className:"font-medium text-gray-900 dark:text-gray-100 mb-1",children:"Du hiu"}),v.jsxs("ul",{className:"space-y-1",children:[v.jsxs("li",{children:[" ",v.jsx("strong",{children:"+"})," trc s: Gi tr dng"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"%"}),": n v phn trm"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"N/A"}),": D liu khng c sn"]})]})]}),v.jsxs("div",{children:[v.jsx("h6",{className:"font-medium text-gray-900 dark:text-gray-100 mb-1",children:"Sp xp"}),v.jsxs("ul",{className:"space-y-1",children:[v.jsx("li",{children:" Click vo tiu  ct  sp xp"}),v.jsx("li",{children:" Mc nh sp xp theo CRS gim dn"}),v.jsx("li",{children:" Click ln na  o chiu sp xp"})]})]})]})]})]})]})},Yne=({data:e,x:t,y:n})=>e?v.jsxs("div",{className:"absolute px-3 py-2 bg-gray-900/95 backdrop-blur-sm shadow-xl rounded-md border border-gray-700 text-white text-xs z-50 pointer-events-none",style:{left:t+10,top:n-10,transform:"translateY(-100%)"},children:[v.jsx("div",{className:"font-semibold text-sm mb-1",children:"string"==typeof e.name?e.name:String(e.name||"Unknown")}),v.jsxs("div",{className:"space-y-0.5",children:[v.jsxs("div",{className:"flex justify-between gap-4",children:[v.jsx("span",{className:"text-gray-400",children:"T s RS:"}),v.jsx("span",{className:"font-mono",children:e.x.toFixed(2)})]}),v.jsxs("div",{className:"flex justify-between gap-4",children:[v.jsx("span",{className:"text-gray-400",children:"RS-Mom:"}),v.jsx("span",{className:"font-mono",children:e.y.toFixed(2)})]}),v.jsxs("div",{className:"flex justify-between gap-4",children:[v.jsx("span",{className:"text-gray-400",children:"Ngy:"}),v.jsx("span",{children:e.date})]})]})]}):null,qne=e=>{const{cx:t,cy:n,payload:r,color:i,onHover:a}=e,[s,o]=N.useState(!1);return v.jsx("circle",{cx:t,cy:n,r:s?4:3,fill:i,fillOpacity:s?.8:.4,stroke:i,strokeWidth:s?1:0,style:{cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.stopPropagation(),o(!0),a(r,t,n)},onMouseMove:e=>{e.stopPropagation()}})},Gne=({onZoomIn:e,onZoomOut:t,onReset:n,zoomLevel:r})=>{const i="w-7 h-7 flex items-center justify-center bg-gray-200 hover:bg-gray-300 text-gray-700 rounded text-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer";return v.jsxs("div",{className:"absolute top-4 right-4 z-10 flex flex-col gap-1.5",children:[v.jsx("button",{onClick:e,className:i,disabled:r>=10,children:"+"}),v.jsx("button",{onClick:t,className:i,disabled:r<=1,children:"-"}),v.jsx("button",{onClick:n,className:i,disabled:1===r,children:""})]})};var Xne=.999,Qne=/[\\\/_+.#"@\[\(\{&]/,Zne=/[\\\/_+.#"@\[\(\{&]/g,Jne=/[\s-]/,ere=/[\s-]/g;function tre(e,t,n,r,i,a,s){if(a===t.length)return i===e.length?1:.99;var o=`${i},${a}`;if(void 0!==s[o])return s[o];for(var l,c,u,d,h=r.charAt(a),f=n.indexOf(h,i),m=0;f>=0;)(l=tre(e,t,n,r,f+1,a+1,s))>m&&(f===i?l*=1:Qne.test(e.charAt(f-1))?(l*=.8,(u=e.slice(i,f-1).match(Zne))&&i>0&&(l*=Math.pow(Xne,u.length))):Jne.test(e.charAt(f-1))?(l*=.9,(d=e.slice(i,f-1).match(ere))&&i>0&&(l*=Math.pow(Xne,d.length))):(l*=.17,i>0&&(l*=Math.pow(Xne,f-i))),e.charAt(f)!==t.charAt(a)&&(l*=.9999)),(l<.1&&n.charAt(f-1)===r.charAt(a+1)||r.charAt(a+1)===r.charAt(a)&&n.charAt(f-1)!==r.charAt(a))&&.1*(c=tre(e,t,n,r,f+1,a+2,s))>l&&(l=.1*c),l>m&&(m=l),f=n.indexOf(h,f+1);return s[o]=m,m}function nre(e){return e.toLowerCase().replace(ere," ")}function rre(e,t,n){return tre(e=n&&n.length>0?e+" "+n.join(" "):e,t,nre(e),nre(t),0,0,{})}var ire="Dialog",[are,sre]=Cn(ire),[ore,lre]=are(ire),cre=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:s=!0}=e,o=N.useRef(null),l=N.useRef(null),[c,u]=In({prop:r,defaultProp:null!=i&&i,onChange:a,caller:ire});return v.jsx(ore,{scope:t,triggerRef:o,contentRef:l,contentId:Tn(),titleId:Tn(),descriptionId:Tn(),open:c,onOpenChange:u,onOpenToggle:N.useCallback(()=>u(e=>!e),[u]),modal:s,children:n})};cre.displayName=ire;var ure="DialogTrigger";N.forwardRef((e,t)=>{const n=e,{__scopeDialog:r}=n,i=m(n,["__scopeDialog"]),a=lre(ure,r),s=Je(t,a.triggerRef);return v.jsx(kn.button,f(h({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Cre(a.open)},i),{ref:s,onClick:Sn(e.onClick,a.onOpenToggle)}))}).displayName=ure;var dre="DialogPortal",[hre,fre]=are(dre,{forceMount:void 0}),mre=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,a=lre(dre,t);return v.jsx(hre,{scope:t,forceMount:n,children:N.Children.map(r,e=>v.jsx(Bn,{present:n||a.open,children:v.jsx(sa,{asChild:!0,container:i,children:e})}))})};mre.displayName=dre;var pre="DialogOverlay",gre=N.forwardRef((e,t)=>{const n=fre(pre,e.__scopeDialog),r=e,{forceMount:i=n.forceMount}=r,a=m(r,["forceMount"]),s=lre(pre,e.__scopeDialog);return s.modal?v.jsx(Bn,{present:i||s.open,children:v.jsx(yre,f(h({},a),{ref:t}))}):null});gre.displayName=pre;var xre=et("DialogOverlay.RemoveScroll"),yre=N.forwardRef((e,t)=>{const n=e,{__scopeDialog:r}=n,i=m(n,["__scopeDialog"]),a=lre(pre,r);return v.jsx(ts,{as:xre,allowPinchZoom:!0,shards:[a.contentRef],children:v.jsx(kn.div,f(h({"data-state":Cre(a.open)},i),{ref:t,style:h({pointerEvents:"auto"},i.style)}))})}),vre="DialogContent",bre=N.forwardRef((e,t)=>{const n=fre(vre,e.__scopeDialog),r=e,{forceMount:i=n.forceMount}=r,a=m(r,["forceMount"]),s=lre(vre,e.__scopeDialog);return v.jsx(Bn,{present:i||s.open,children:s.modal?v.jsx(_re,f(h({},a),{ref:t})):v.jsx(wre,f(h({},a),{ref:t}))})});bre.displayName=vre;var _re=N.forwardRef((e,t)=>{const n=lre(vre,e.__scopeDialog),r=N.useRef(null),i=Je(t,n.contentRef,r);return N.useEffect(()=>{const e=r.current;if(e)return ma(e)},[]),v.jsx(jre,f(h({},e),{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Sn(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null==(t=n.triggerRef.current)||t.focus()}),onPointerDownOutside:Sn(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()}),onFocusOutside:Sn(e.onFocusOutside,e=>e.preventDefault())}))}),wre=N.forwardRef((e,t)=>{const n=lre(vre,e.__scopeDialog),r=N.useRef(!1),i=N.useRef(!1);return v.jsx(jre,f(h({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var a,s;null==(a=e.onCloseAutoFocus)||a.call(e,t),t.defaultPrevented||(r.current||null==(s=n.triggerRef.current)||s.focus(),t.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:t=>{var a,s;null==(a=e.onInteractOutside)||a.call(e,t),t.defaultPrevented||(r.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));const o=t.target;(null==(s=n.triggerRef.current)?void 0:s.contains(o))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}}))}),jre=N.forwardRef((e,t)=>{const n=e,{__scopeDialog:r,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:s}=n,o=m(n,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),l=lre(vre,r),c=N.useRef(null),u=Je(t,c);return Zn(),v.jsxs(v.Fragment,{children:[v.jsx(rr,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:a,onUnmountAutoFocus:s,children:v.jsx(qn,f(h({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Cre(l.open)},o),{ref:u,onDismiss:()=>l.onOpenChange(!1)}))}),v.jsxs(v.Fragment,{children:[v.jsx(Ore,{titleId:l.titleId}),v.jsx(Are,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Nre="DialogTitle";N.forwardRef((e,t)=>{const n=e,{__scopeDialog:r}=n,i=m(n,["__scopeDialog"]),a=lre(Nre,r);return v.jsx(kn.h2,f(h({id:a.titleId},i),{ref:t}))}).displayName=Nre;var kre="DialogDescription";N.forwardRef((e,t)=>{const n=e,{__scopeDialog:r}=n,i=m(n,["__scopeDialog"]),a=lre(kre,r);return v.jsx(kn.p,f(h({id:a.descriptionId},i),{ref:t}))}).displayName=kre;var Sre="DialogClose";function Cre(e){return e?"open":"closed"}N.forwardRef((e,t)=>{const n=e,{__scopeDialog:r}=n,i=m(n,["__scopeDialog"]),a=lre(Sre,r);return v.jsx(kn.button,f(h({type:"button"},i),{ref:t,onClick:Sn(e.onClick,()=>a.onOpenChange(!1))}))}).displayName=Sre;var Ere="DialogTitleWarning",[Pre,Mre]=function(e,t){const n=N.createContext(t),r=e=>{const t=e,{children:r}=t,i=m(t,["children"]),a=N.useMemo(()=>i,Object.values(i));return v.jsx(n.Provider,{value:a,children:r})};return r.displayName=e+"Provider",[r,function(r){const i=N.useContext(n);if(i)return i;if(void 0!==t)return t;throw new Error(`\`${r}\` must be used within \`${e}\``)}]}(Ere,{contentName:vre,titleName:Nre,docsSlug:"dialog"}),Ore=({titleId:e})=>{const t=Mre(Ere),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.\n\nIf you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return N.useEffect(()=>{e&&document.getElementById(e)},[n,e]),null},Are=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Mre("DialogDescriptionWarning").contentName}}.`;return N.useEffect(()=>{var n;const r=null==(n=e.current)?void 0:n.getAttribute("aria-describedby");t&&r&&document.getElementById(t)},[n,e,t]),null},Tre=cre,Dre=mre,Rre=gre,Ire=bre,Lre='[cmdk-group=""]',zre='[cmdk-group-items=""]',Fre='[cmdk-item=""]',Bre=`${Fre}:not([aria-disabled="true"])`,Wre="cmdk-item-select",$re="data-value",Vre=(e,t,n)=>rre(e,t,n),Kre=N.createContext(void 0),Hre=()=>N.useContext(Kre),Ure=N.createContext(void 0),Yre=()=>N.useContext(Ure),qre=N.createContext(void 0),Gre=N.forwardRef((e,t)=>{let n=cie(()=>{var t,n;return{search:"",value:null!=(n=null!=(t=e.value)?t:e.defaultValue)?n:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=cie(()=>new Set),i=cie(()=>new Map),a=cie(()=>new Map),s=cie(()=>new Set),o=oie(e),l=e,{label:c,children:u,value:d,onValueChange:p,filter:g,shouldFilter:x,loop:y,disablePointerSelection:v=!1,vimBindings:b=!0}=l,_=m(l,["label","children","value","onValueChange","filter","shouldFilter","loop","disablePointerSelection","vimBindings"]),w=Tn(),j=Tn(),k=Tn(),S=N.useRef(null),C=hie();lie(()=>{if(void 0!==d){let e=d.trim();n.current.value=e,E.emit()}},[d]),lie(()=>{C(6,D)},[]);let E=N.useMemo(()=>({subscribe:e=>(s.current.add(e),()=>s.current.delete(e)),snapshot:()=>n.current,setState:(e,t,r)=>{var i,a,s,l;if(!Object.is(n.current[e],t)){if(n.current[e]=t,"search"===e)T(),O(),C(1,A);else if("value"===e){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let e=document.getElementById(k);e?e.focus():null==(i=document.getElementById(w))||i.focus()}if(C(7,()=>{var e;n.current.selectedItemId=null==(e=R())?void 0:e.id,E.emit()}),r||C(5,D),void 0!==(null==(a=o.current)?void 0:a.value)){let e=null!=t?t:"";return void(null==(l=(s=o.current).onValueChange)||l.call(s,e))}}E.emit()}},emit:()=>{s.current.forEach(e=>e())}}),[]),P=N.useMemo(()=>({value:(e,t,r)=>{var i;t!==(null==(i=a.current.get(e))?void 0:i.value)&&(a.current.set(e,{value:t,keywords:r}),n.current.filtered.items.set(e,M(t,r)),C(2,()=>{O(),E.emit()}))},item:(e,t)=>(r.current.add(e),t&&(i.current.has(t)?i.current.get(t).add(e):i.current.set(t,new Set([e]))),C(3,()=>{T(),O(),n.current.value||A(),E.emit()}),()=>{a.current.delete(e),r.current.delete(e),n.current.filtered.items.delete(e);let t=R();C(4,()=>{T(),(null==t?void 0:t.getAttribute("id"))===e&&A(),E.emit()})}),group:e=>(i.current.has(e)||i.current.set(e,new Set),()=>{a.current.delete(e),i.current.delete(e)}),filter:()=>o.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>o.current.disablePointerSelection,listId:w,inputId:k,labelId:j,listInnerRef:S}),[]);function M(e,t){var r,i;let a=null!=(i=null==(r=o.current)?void 0:r.filter)?i:Vre;return e?a(e,n.current.search,t):0}function O(){if(!n.current.search||!1===o.current.shouldFilter)return;let e=n.current.filtered.items,t=[];n.current.filtered.groups.forEach(n=>{let r=i.current.get(n),a=0;r.forEach(t=>{let n=e.get(t);a=Math.max(n,a)}),t.push([n,a])});let r=S.current;I().sort((t,n)=>{var r,i;let a=t.getAttribute("id"),s=n.getAttribute("id");return(null!=(r=e.get(s))?r:0)-(null!=(i=e.get(a))?i:0)}).forEach(e=>{let t=e.closest(zre);t?t.appendChild(e.parentElement===t?e:e.closest(`${zre} > *`)):r.appendChild(e.parentElement===r?e:e.closest(`${zre} > *`))}),t.sort((e,t)=>t[1]-e[1]).forEach(e=>{var t;let n=null==(t=S.current)?void 0:t.querySelector(`${Lre}[${$re}="${encodeURIComponent(e[0])}"]`);null==n||n.parentElement.appendChild(n)})}function A(){let e=I().find(e=>"true"!==e.getAttribute("aria-disabled")),t=null==e?void 0:e.getAttribute($re);E.setState("value",t||void 0)}function T(){var e,t,s,l;if(!n.current.search||!1===o.current.shouldFilter)return void(n.current.filtered.count=r.current.size);n.current.filtered.groups=new Set;let c=0;for(let i of r.current){let r=M(null!=(t=null==(e=a.current.get(i))?void 0:e.value)?t:"",null!=(l=null==(s=a.current.get(i))?void 0:s.keywords)?l:[]);n.current.filtered.items.set(i,r),r>0&&c++}for(let[r,a]of i.current)for(let e of a)if(n.current.filtered.items.get(e)>0){n.current.filtered.groups.add(r);break}n.current.filtered.count=c}function D(){var e,t,n;let r=R();r&&((null==(e=r.parentElement)?void 0:e.firstChild)===r&&(null==(n=null==(t=r.closest(Lre))?void 0:t.querySelector('[cmdk-group-heading=""]'))||n.scrollIntoView({block:"nearest"})),r.scrollIntoView({block:"nearest"}))}function R(){var e;return null==(e=S.current)?void 0:e.querySelector(`${Fre}[aria-selected="true"]`)}function I(){var e;return Array.from((null==(e=S.current)?void 0:e.querySelectorAll(Bre))||[])}function L(e){let t=I()[e];t&&E.setState("value",t.getAttribute($re))}function z(e){var t;let n=R(),r=I(),i=r.findIndex(e=>e===n),a=r[i+e];null!=(t=o.current)&&t.loop&&(a=i+e<0?r[r.length-1]:i+e===r.length?r[0]:r[i+e]),a&&E.setState("value",a.getAttribute($re))}function F(e){let t,n=R(),r=null==n?void 0:n.closest(Lre);for(;r&&!t;)r=e>0?aie(r,Lre):sie(r,Lre),t=null==r?void 0:r.querySelector(Bre);t?E.setState("value",t.getAttribute($re)):z(e)}let B=()=>L(I().length-1),W=e=>{e.preventDefault(),e.metaKey?B():e.altKey?F(1):z(1)},$=e=>{e.preventDefault(),e.metaKey?L(0):e.altKey?F(-1):z(-1)};return N.createElement(kn.div,f(h({ref:t,tabIndex:-1},_),{"cmdk-root":"",onKeyDown:e=>{var t;null==(t=_.onKeyDown)||t.call(_,e);let n=e.nativeEvent.isComposing||229===e.keyCode;if(!e.defaultPrevented&&!n)switch(e.key){case"n":case"j":b&&e.ctrlKey&&W(e);break;case"ArrowDown":W(e);break;case"p":case"k":b&&e.ctrlKey&&$(e);break;case"ArrowUp":$(e);break;case"Home":e.preventDefault(),L(0);break;case"End":e.preventDefault(),B();break;case"Enter":{e.preventDefault();let t=R();if(t){let e=new Event(Wre);t.dispatchEvent(e)}}}}}),N.createElement("label",{"cmdk-label":"",htmlFor:P.inputId,id:P.labelId,style:mie},c),fie(e,e=>N.createElement(Ure.Provider,{value:E},N.createElement(Kre.Provider,{value:P},e))))}),Xre=N.forwardRef((e,t)=>{var n,r;let i=Tn(),a=N.useRef(null),s=N.useContext(qre),o=Hre(),l=oie(e),c=null!=(r=null==(n=l.current)?void 0:n.forceMount)?r:null==s?void 0:s.forceMount;lie(()=>{if(!c)return o.item(i,null==s?void 0:s.id)},[c]);let u=die(i,a,[e.value,e.children,a],e.keywords),d=Yre(),p=uie(e=>e.value&&e.value===u.current),g=uie(e=>!(!c&&!1!==o.filter())||!e.search||e.filtered.items.get(i)>0);function x(){var e,t;y(),null==(t=(e=l.current).onSelect)||t.call(e,u.current)}function y(){d.setState("value",u.current,!0)}if(N.useEffect(()=>{let t=a.current;if(t&&!e.disabled)return t.addEventListener(Wre,x),()=>t.removeEventListener(Wre,x)},[g,e.onSelect,e.disabled]),!g)return null;let v=e,{disabled:b,value:_,onSelect:w,forceMount:j,keywords:k}=v,S=m(v,["disabled","value","onSelect","forceMount","keywords"]);return N.createElement(kn.div,f(h({ref:Ze(a,t)},S),{id:i,"cmdk-item":"",role:"option","aria-disabled":!!b,"aria-selected":!!p,"data-disabled":!!b,"data-selected":!!p,onPointerMove:b||o.getDisablePointerSelection()?void 0:y,onClick:b?void 0:x}),e.children)}),Qre=N.forwardRef((e,t)=>{let n=e,{heading:r,children:i,forceMount:a}=n,s=m(n,["heading","children","forceMount"]),o=Tn(),l=N.useRef(null),c=N.useRef(null),u=Tn(),d=Hre(),p=uie(e=>!(!a&&!1!==d.filter())||!e.search||e.filtered.groups.has(o));lie(()=>d.group(o),[]),die(o,l,[e.value,e.heading,c]);let g=N.useMemo(()=>({id:o,forceMount:a}),[a]);return N.createElement(kn.div,f(h({ref:Ze(l,t)},s),{"cmdk-group":"",role:"presentation",hidden:!p||void 0}),r&&N.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),fie(e,e=>N.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},N.createElement(qre.Provider,{value:g},e))))}),Zre=N.forwardRef((e,t)=>{let n=e,{alwaysRender:r}=n,i=m(n,["alwaysRender"]),a=N.useRef(null),s=uie(e=>!e.search);return r||s?N.createElement(kn.div,f(h({ref:Ze(a,t)},i),{"cmdk-separator":"",role:"separator"})):null}),Jre=N.forwardRef((e,t)=>{let n=e,{onValueChange:r}=n,i=m(n,["onValueChange"]),a=null!=e.value,s=Yre(),o=uie(e=>e.search),l=uie(e=>e.selectedItemId),c=Hre();return N.useEffect(()=>{null!=e.value&&s.setState("search",e.value)},[e.value]),N.createElement(kn.input,f(h({ref:t},i),{"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:o,onChange:e=>{a||s.setState("search",e.target.value),null==r||r(e.target.value)}}))}),eie=N.forwardRef((e,t)=>{let n=e,{children:r,label:i="Suggestions"}=n,a=m(n,["children","label"]),s=N.useRef(null),o=N.useRef(null),l=uie(e=>e.selectedItemId),c=Hre();return N.useEffect(()=>{if(o.current&&s.current){let e,t=o.current,n=s.current,r=new ResizeObserver(()=>{e=requestAnimationFrame(()=>{let e=t.offsetHeight;n.style.setProperty("--cmdk-list-height",e.toFixed(1)+"px")})});return r.observe(t),()=>{cancelAnimationFrame(e),r.unobserve(t)}}},[]),N.createElement(kn.div,f(h({ref:Ze(s,t)},a),{"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":i,id:c.listId}),fie(e,e=>N.createElement("div",{ref:Ze(o,c.listInnerRef),"cmdk-list-sizer":""},e)))}),tie=N.forwardRef((e,t)=>{let n=e,{open:r,onOpenChange:i,overlayClassName:a,contentClassName:s,container:o}=n,l=m(n,["open","onOpenChange","overlayClassName","contentClassName","container"]);return N.createElement(Tre,{open:r,onOpenChange:i},N.createElement(Dre,{container:o},N.createElement(Rre,{"cmdk-overlay":"",className:a}),N.createElement(Ire,{"aria-label":e.label,"cmdk-dialog":"",className:s},N.createElement(Gre,h({ref:t},l)))))}),nie=N.forwardRef((e,t)=>uie(e=>0===e.filtered.count)?N.createElement(kn.div,f(h({ref:t},e),{"cmdk-empty":"",role:"presentation"})):null),rie=N.forwardRef((e,t)=>{let n=e,{progress:r,children:i,label:a="Loading..."}=n,s=m(n,["progress","children","label"]);return N.createElement(kn.div,f(h({ref:t},s),{"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a}),fie(e,e=>N.createElement("div",{"aria-hidden":!0},e)))}),iie=Object.assign(Gre,{List:eie,Item:Xre,Input:Jre,Group:Qre,Separator:Zre,Dialog:tie,Empty:nie,Loading:rie});function aie(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function sie(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function oie(e){let t=N.useRef(e);return lie(()=>{t.current=e}),t}var lie="undefined"==typeof window?N.useEffect:N.useLayoutEffect;function cie(e){let t=N.useRef();return void 0===t.current&&(t.current=e()),t}function uie(e){let t=Yre(),n=()=>e(t.snapshot());return N.useSyncExternalStore(t.subscribe,n,n)}function die(e,t,n,r=[]){let i=N.useRef(),a=Hre();return lie(()=>{var s;let o=(()=>{var e;for(let t of n){if("string"==typeof t)return t.trim();if("object"==typeof t&&"current"in t)return t.current?null==(e=t.current.textContent)?void 0:e.trim():i.current}})(),l=r.map(e=>e.trim());a.value(e,o,l),null==(s=t.current)||s.setAttribute($re,o),i.current=o}),i}var hie=()=>{let[e,t]=N.useState(),n=cie(()=>new Map);return lie(()=>{n.current.forEach(e=>e()),n.current=new Map},[e]),(e,r)=>{n.current.set(e,r),t({})}};function fie({asChild:e,children:t},n){return e&&N.isValidElement(t)?N.cloneElement(function(e){let t=e.type;return"function"==typeof t?t(e.props):"render"in t?t.render(e.props):e}(t),{ref:t.ref},n(t.props.children)):n(t)}var mie={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function pie(e){var t=e,{className:n}=t,r=m(t,["className"]);return v.jsx(iie,h({"data-slot":"command",className:xn("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",n)},r))}function gie(e){var t=e,{className:n}=t,r=m(t,["className"]);return v.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[v.jsx(Pe,{className:"size-4 shrink-0 opacity-50"}),v.jsx(iie.Input,h({"data-slot":"command-input",className:xn("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",n)},r))]})}function xie(e){var t=e,{className:n}=t,r=m(t,["className"]);return v.jsx(iie.List,h({"data-slot":"command-list",className:xn("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",n)},r))}function yie(e){var t=m(e,[]);return v.jsx(iie.Empty,h({"data-slot":"command-empty",className:"py-6 text-center text-sm"},t))}function vie(e){var t=e,{className:n}=t,r=m(t,["className"]);return v.jsx(iie.Group,h({"data-slot":"command-group",className:xn("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",n)},r))}function bie(e){var t=e,{className:n}=t,r=m(t,["className"]);return v.jsx(iie.Separator,h({"data-slot":"command-separator",className:xn("bg-border -mx-1 h-px",n)},r))}function _ie(e){var t=e,{className:n}=t,r=m(t,["className"]);return v.jsx(iie.Item,h({"data-slot":"command-item",className:xn("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n)},r))}const wie=ct("m-1 transition ease-in-out delay-150 hover:-translate-y-1 hover:scale-110 duration-300",{variants:{variant:{default:"border-foreground/10 text-foreground bg-card hover:bg-card/80",secondary:"border-foreground/10 bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",inverted:"inverted"}},defaultVariants:{variant:"default"}}),jie=k.forwardRef((e,t)=>{var n=e,{options:r,onValueChange:i,variant:a,defaultValue:s=[],value:o,placeholder:l="Select options",animation:c=0,maxCount:u=3,modalPopover:d=!1,asChild:p=!1,className:g}=n,x=m(n,["options","onValueChange","variant","defaultValue","value","placeholder","animation","maxCount","modalPopover","asChild","className"]);const[y,b]=N.useState(o||s),[_,w]=N.useState(!1),[j,k]=N.useState(!1);N.useEffect(()=>{void 0!==o&&b(o)},[o]);const S=e=>{const t=y.includes(e)?y.filter(t=>t!==e):[...y,e];b(t),i(t)},C=()=>{b([]),i([])};return v.jsxs(jl,{open:_,onOpenChange:w,modal:d,children:[v.jsx(Nl,{asChild:!0,children:v.jsx(_n,f(h({ref:t},x),{onClick:()=>{w(e=>!e)},className:xn("flex w-full p-1 rounded-md border min-h-10 h-auto items-center justify-between bg-inherit hover:bg-inherit [&_svg]:pointer-events-auto",g),children:y.length>0?v.jsxs("div",{className:"flex justify-between items-center w-full",children:[v.jsxs("div",{className:"flex flex-wrap items-center",children:[y.slice(0,u).map(e=>{const t=r.find(t=>t.value===e),n=null==t?void 0:t.icon;return v.jsxs(vn,{className:xn(j?"animate-bounce":"",wie({variant:a})),style:{animationDuration:`${c}s`},children:[n&&v.jsx(n,{className:"h-4 w-4 mr-2"}),null==t?void 0:t.label,v.jsx(fe,{className:"ml-2 h-4 w-4 cursor-pointer",onClick:t=>{t.stopPropagation(),S(e)}})]},e)}),y.length>u&&v.jsxs(vn,{className:xn("bg-transparent text-foreground border-foreground/1 hover:bg-transparent",j?"animate-bounce":"",wie({variant:a})),style:{animationDuration:`${c}s`},children:[`+ ${y.length-u} more`,v.jsx(fe,{className:"ml-2 h-4 w-4 cursor-pointer",onClick:e=>{e.stopPropagation(),(()=>{const e=y.slice(0,u);b(e),i(e)})()}})]})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx(Fe,{className:"h-4 mx-2 cursor-pointer text-muted-foreground",onClick:e=>{e.stopPropagation(),C()}}),v.jsx(_o,{orientation:"vertical",className:"flex min-h-6 h-full"}),v.jsx(le,{className:"h-4 mx-2 cursor-pointer text-muted-foreground"})]})]}):v.jsxs("div",{className:"flex items-center justify-between w-full mx-auto",children:[v.jsx("span",{className:"text-sm text-muted-foreground mx-3",children:l}),v.jsx(le,{className:"h-4 cursor-pointer text-muted-foreground mx-2"})]})}))}),v.jsx(kl,{className:"w-auto p-0",align:"start",onEscapeKeyDown:()=>w(!1),children:v.jsxs(pie,{children:[v.jsx(gie,{placeholder:"Search...",onKeyDown:e=>{if("Enter"===e.key)w(!0);else if("Backspace"===e.key&&!e.currentTarget.value){const e=[...y];e.pop(),b(e),i(e)}}}),v.jsxs(xie,{children:[v.jsx(yie,{children:"No results found."}),v.jsxs(vie,{children:[v.jsxs(_ie,{onSelect:()=>{if(y.length===r.length)C();else{const e=r.map(e=>e.value);b(e),i(e)}},className:"cursor-pointer",children:[v.jsx("div",{className:xn("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",y.length===r.length?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:v.jsx(oe,{className:"h-4 w-4"})}),v.jsx("span",{children:"(Select All)"})]},"select-all"),r.map(e=>{const t=y.includes(e.value);return v.jsxs(_ie,{onSelect:()=>S(e.value),className:"cursor-pointer",children:[v.jsx("div",{className:xn("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",t?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:v.jsx(oe,{className:"h-4 w-4"})}),e.icon&&v.jsx(e.icon,{className:"mr-2 h-4 w-4 text-muted-foreground"}),v.jsx("span",{children:e.label})]},e.value)})]}),v.jsx(bie,{}),v.jsx(vie,{children:v.jsxs("div",{className:"flex items-center justify-between",children:[y.length>0&&v.jsxs(v.Fragment,{children:[v.jsx(_ie,{onSelect:C,className:"flex-1 justify-center cursor-pointer",children:"Clear"},"clear-all"),v.jsx(_o,{orientation:"vertical",className:"flex min-h-6 h-full"})]}),v.jsx(_ie,{onSelect:()=>w(!1),className:"flex-1 justify-center cursor-pointer max-w-full",children:"Close"},"close-popover")]})})]})]})}),c>0&&y.length>0&&v.jsx(Le,{className:xn("cursor-pointer my-2 text-foreground bg-background w-3 h-3",j?"":"text-muted-foreground"),onClick:()=>k(!j)})]})});jie.displayName="MultiSelect";const Nie=({type:e,trailLength:t,setTrailLength:n,selectedIndustries:r,setSelectedIndustries:i,selectedGroups:a,setSelectedGroups:s,selectedTickerIndustries:o,setSelectedTickerIndustries:l,specialTickerFilter:c,setSpecialTickerFilter:u,availableIndustries:d,availableGroups:h,filteredData:f})=>v.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("label",{className:"text-sm font-medium",children:"Trail Length:"}),v.jsxs("select",{value:t,onChange:e=>n(Number(e.target.value)),className:"border rounded px-2 py-1 text-sm min-w-[80px] focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-black cursor-pointer",children:[v.jsx("option",{value:0,children:"None"}),v.jsx("option",{value:5,children:"5"}),v.jsx("option",{value:10,children:"10"}),v.jsx("option",{value:21,children:"21"})]})]}),"industries"===e&&v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("label",{className:"text-sm font-medium",children:"Filter by:"}),v.jsx(jie,{options:d.map(e=>({value:e.custom_id,label:e.name||e.custom_id||"Unknown"})).sort((e,t)=>(e.label||"").localeCompare(t.label||"","vi-VN")),onValueChange:i,value:r,placeholder:"Chn ngnh",maxCount:3,variant:"default"}),v.jsxs("span",{className:"text-xs text-gray-500",children:["Showing ",f.length," industries"]})]}),"groups"===e&&v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("label",{className:"text-sm font-medium",children:"Filter by:"}),v.jsx(jie,{options:h.map(e=>({value:e.custom_id,label:e.name||e.custom_id||"Unknown"})).sort((e,t)=>(e.label||"").localeCompare(t.label||"","vi-VN")),onValueChange:s,value:a,placeholder:"Chn nhm",maxCount:3,variant:"default"}),v.jsxs("span",{className:"text-xs text-gray-500",children:["Showing ",f.length," groups"]})]}),"tickers"===e&&v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("label",{className:"text-sm font-medium",children:"Filter by:"}),v.jsxs("select",{value:c,onChange:e=>u(e.target.value),className:"border rounded px-2 py-1 text-sm min-w-[200px] focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-black cursor-pointer",children:[v.jsx("option",{value:"all",children:"By Industry"}),v.jsx("option",{value:"top10rs",children:"Top 10 RS Score"}),v.jsx("option",{value:"bottom10rs",children:"Bottom 10 RS Score"}),v.jsx("option",{value:"top10momentum",children:"Top 10 RS Momentum"}),v.jsx("option",{value:"bottom10momentum",children:"Bottom 10 RS Momentum"})]}),"all"===c&&v.jsx("select",{value:o[0],onChange:e=>l([e.target.value]),className:"border rounded px-2 py-1 text-sm min-w-[200px] focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-black cursor-pointer",children:d.sort((e,t)=>(e.name||e.custom_id||"").localeCompare(t.name||t.custom_id||"","vi-VN")).map(e=>v.jsx("option",{value:e.custom_id,children:e.name},e.custom_id))}),"all"!==c?v.jsx("span",{className:"text-xs text-blue-600 font-medium",children:(()=>{switch(c){case"top10rs":return"Top 10 RS Score";case"bottom10rs":return"Bottom 10 RS Score";case"top10momentum":return"Top 10 RS Momentum";case"bottom10momentum":return"Bottom 10 RS Momentum";default:return""}})()}):v.jsxs("span",{className:"text-xs text-gray-500",children:["Showing ",f.length," tickers"]})]})]}),kie=({limitedData:e,getSeriesColor:t,type:n,availableIndustries:r,availableGroups:i})=>v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[v.jsxs("p",{children:[v.jsx("strong",{children:"RS-Ratio (X-axis):"})," Sc mnh tng i so vi VNINDEX (values >100 = vt tri, <100 = km)"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"RS-Momentum (Y-axis):"})," Tc  thay i sc mnh tng i (values >100 = ci thin, <100 = suy yu)"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Quadrants:"})," Leading (Dn dt) (gc phi-trn), Weakening (Suy yu) (gc phi-di), Lagging (Tt hu) (gc tri-di), Improving (Ci thin) (gc tri-trn)"]})]}),e.length>0&&v.jsxs("div",{className:"border-t pt-3",children:[v.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Cu phn:"}),v.jsx("div",{className:"flex flex-wrap gap-2",children:e.map((a,s)=>{let o;if("industries"===n){const e=null==r?void 0:r.find(e=>e.custom_id===a.custom_id);o=(null==e?void 0:e.name)||a.custom_id}else if("groups"===n){const e=null==i?void 0:i.find(e=>e.id===a.id);o=(null==e?void 0:e.name)||a.id}else o=a.symbol||a.custom_id;return v.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[v.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:t(a.symbol||a.custom_id,s,e.length)}}),v.jsx("span",{className:"text-gray-600",children:o})]},a.symbol||a.custom_id)})})]})]}),Sie=({icon:e,label:t,value:n,valueClassName:r=""})=>v.jsxs("div",{className:"flex items-center justify-between py-1",children:[v.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[v.jsx(e,{className:"w-3.5 h-3.5 mr-2"}),v.jsx("span",{children:t})]}),v.jsx("span",{className:`font-mono text-xs font-medium ${r}`,children:n})]}),Cie=({title:e,children:t})=>v.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[v.jsx("h4",{className:"font-semibold text-gray-800 text-sm mb-2",children:e}),v.jsx("div",{className:"space-y-1",children:t})]}),Eie=({symbol:e})=>{var t,n,r,i,a,s;const o=e;if(!o)return v.jsxs("div",{className:"bg-white border rounded-lg p-4 shadow-sm",children:[v.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:e.name}),v.jsx("p",{className:"text-gray-500 text-sm",children:"Khng c d liu chi tit cho m ny."})]},e.symbol);const{metrics:l={},performance_summary:c={},speed_analysis:u={},direction_analysis:d={},risk_assessment:h={}}=o,f=e=>"number"==typeof e?`${(100*e).toFixed(1)}%`:"K/C",m=e=>"number"==typeof e?e.toFixed(2):"K/C";return v.jsxs("div",{className:"bg-white border rounded-lg p-4 shadow-sm",children:[v.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:e.name}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[v.jsxs(Cie,{title:"Hiu sut",children:[v.jsx(Sie,{icon:Te,label:"RS Hin ti",value:f(null==l?void 0:l.current_rs),valueClassName:"text-blue-600"}),v.jsx(Sie,{icon:(null==l?void 0:l.rs_trend_fast)>0?Z:X,label:"Xu hng nhanh",value:f(null==l?void 0:l.rs_trend_fast),valueClassName:Zte(null==l?void 0:l.rs_trend_fast)}),v.jsx(Sie,{icon:(null==l?void 0:l.rs_trend_slow)>0?Z:X,label:"Xu hng chm",value:f(null==l?void 0:l.rs_trend_slow),valueClassName:Zte(null==l?void 0:l.rs_trend_slow)}),v.jsx(Sie,{icon:Oe,label:"Xu hng RS",value:null==c?void 0:c.rs_trend,valueClassName:Qte(null==c?void 0:c.rs_trend)})]}),v.jsxs(Cie,{title:"Tc  & Hng",children:[v.jsx(Sie,{icon:Be,label:"Tc  5 phin",value:f(null==u?void 0:u.raw_speed_5d)}),v.jsx(Sie,{icon:"Tng trng"===(null==d?void 0:d.direction)?Te:Ae,label:"Hng",value:null==d?void 0:d.direction,valueClassName:nne(null==d?void 0:d.direction)}),v.jsx(Sie,{icon:G,label:"Sc mnh xu hng",value:(null==d?void 0:d.trend_strength)||"K/C",valueClassName:"text-purple-600"}),v.jsx(Sie,{icon:pe,label:"Tc ",value:(null==u?void 0:u.speed_category)||"K/C",valueClassName:"text-orange-600"})]}),v.jsxs(Cie,{title:"nh gi Ri ro",children:[v.jsx(Sie,{icon:Me,label:"Mc ri ro",value:null==h?void 0:h.risk_level,valueClassName:qte(null==h?void 0:h.risk_level)}),v.jsx(Sie,{icon:ie,label:"Kch thc v th",value:(null==h?void 0:h.suggested_position_size)||"K/C"}),v.jsx(Sie,{icon:Re,label:"Hot ng t chc",value:(null==(t=null==h?void 0:h.volume_analysis)?void 0:t.institutional_activity)?"C":"Khng",valueClassName:(null==(n=null==h?void 0:h.volume_analysis)?void 0:n.institutional_activity)?"text-green-600":"text-gray-500"}),v.jsx(Sie,{icon:Oe,label:"Khung thi gian",value:(null==h?void 0:h.time_horizon)||"K/C"})]}),v.jsxs(Cie,{title:"Phn tch Chi tit",children:[v.jsx(Sie,{icon:ie,label:"CRS Hin ti",value:f(null==l?void 0:l.current_crs),valueClassName:Gte(null==l?void 0:l.current_crs)}),v.jsx(Sie,{icon:G,label:"Trng thi CRS",value:null==c?void 0:c.crs_status,valueClassName:Xte(null==c?void 0:c.crs_status)}),v.jsx(Sie,{icon:Oe,label:"im sc mnh",value:m(null==c?void 0:c.strength_score),valueClassName:(null==c?void 0:c.strength_score)>0?"text-green-600":"text-red-600"}),v.jsx(Sie,{icon:Be,label:" nht qun",value:f(null==u?void 0:u.consistency_score)})]}),v.jsxs(Cie,{title:"Phn tch Khi lng",children:[v.jsx(Sie,{icon:ie,label:"Xu hng khi lng",value:(null==(r=null==h?void 0:h.volume_analysis)?void 0:r.volume_trend)||"K/C",valueClassName:"text-blue-600"}),v.jsx(Sie,{icon:G,label:"Cht lng khi lng",value:(null==(i=null==h?void 0:h.volume_analysis)?void 0:i.volume_quality)||"K/C",valueClassName:"text-purple-600"}),v.jsx(Sie,{icon:Te,label:"T l khi lng",value:m(null==(a=null==h?void 0:h.volume_analysis)?void 0:a.recent_volume_ratio),valueClassName:(null==(s=null==h?void 0:h.volume_analysis)?void 0:s.recent_volume_ratio)>1?"text-green-600":"text-red-600"}),v.jsx(Sie,{icon:Me,label:"Stop loss",value:f(null==h?void 0:h.stop_loss_distance),valueClassName:"text-red-600"})]}),v.jsxs(Cie,{title:"Thng k Hiu sut",children:[v.jsx(Sie,{icon:de,label:"Phin vt tri",value:`${(null==l?void 0:l.outperforming_days)||0}/${(null==l?void 0:l.total_days)||0}`,valueClassName:"text-green-600"}),v.jsx(Sie,{icon:fe,label:"Phin tt hu",value:`${(null==l?void 0:l.underperforming_days)||0}/${(null==l?void 0:l.total_days)||0}`,valueClassName:"text-red-600"}),v.jsx(Sie,{icon:ie,label:"Bin ng RS",value:f(null==l?void 0:l.rs_volatility)}),v.jsx(Sie,{icon:G,label:"Bin ng CRS",value:f(null==l?void 0:l.crs_volatility)})]})]})]},e.id)},Pie=({icon:e,label:t,value:n,valueClassName:r=""})=>v.jsxs("div",{className:"flex items-center justify-between py-1",children:[v.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[v.jsx(e,{className:"w-3.5 h-3.5 mr-2"}),v.jsx("span",{children:t})]}),v.jsx("span",{className:`font-mono text-xs font-medium ${r}`,children:n})]}),Mie=({title:e,children:t})=>v.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[v.jsx("h4",{className:"font-semibold text-gray-800 text-sm mb-2",children:e}),v.jsx("div",{className:"space-y-1",children:t})]}),Oie=({group:e})=>{var t,n,r,i,a,s;if(!e)return v.jsx("div",{className:"bg-white border rounded-lg p-4 shadow-sm text-center",children:v.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Khng c d liu chi tit cho nhm ny."})});const o=e,{custom_id:l,name:c,metrics:u={},speed_analysis:d={},direction_analysis:h={},risk_assessment:f={},trend_consistency:p={},performance_summary:g={},latest_date:x,data_points:y}=o,b=(m(o,["custom_id","name","metrics","speed_analysis","direction_analysis","risk_assessment","trend_consistency","performance_summary","latest_date","data_points"]),e=>"number"==typeof e?`${(100*e).toFixed(1)}%`:"K/C"),_=e=>"number"==typeof e?e.toFixed(2):"K/C";return v.jsxs("div",{className:"bg-white border rounded-lg p-4 shadow-sm",children:[v.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:c}),v.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["M nhm: ",l]}),v.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Ngy cp nht: ",x]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[v.jsxs(Mie,{title:"Hiu sut",children:[v.jsx(Pie,{icon:Te,label:"RS Hin ti",value:b(null==u?void 0:u.current_rs),valueClassName:"text-blue-600"}),v.jsx(Pie,{icon:(null==u?void 0:u.rs_trend_fast)>0?Z:X,label:"Xu hng nhanh",value:b(null==u?void 0:u.rs_trend_fast),valueClassName:Zte(null==u?void 0:u.rs_trend_fast)}),v.jsx(Pie,{icon:(null==u?void 0:u.rs_trend_slow)>0?Z:X,label:"Xu hng chm",value:b(null==u?void 0:u.rs_trend_slow),valueClassName:Zte(null==u?void 0:u.rs_trend_slow)}),v.jsx(Pie,{icon:Oe,label:"Xu hng RS",value:null==g?void 0:g.rs_trend,valueClassName:Qte(null==g?void 0:g.rs_trend)})]}),v.jsxs(Mie,{title:"Tc  & Hng",children:[v.jsx(Pie,{icon:Be,label:"Tc  5 phin",value:b(null==d?void 0:d.raw_speed_5d)}),v.jsx(Pie,{icon:"Tng trng"===(null==h?void 0:h.direction)?Te:Ae,label:"Hng",value:null==h?void 0:h.direction,valueClassName:nne(null==h?void 0:h.direction)}),v.jsx(Pie,{icon:G,label:"Sc mnh xu hng",value:(null==h?void 0:h.trend_strength)||"K/C",valueClassName:"text-purple-600"}),v.jsx(Pie,{icon:pe,label:"Tc ",value:(null==d?void 0:d.speed_category)||"K/C",valueClassName:"text-orange-600"})]}),v.jsxs(Mie,{title:"nh gi Ri ro",children:[v.jsx(Pie,{icon:Me,label:"Mc ri ro",value:null==f?void 0:f.risk_level,valueClassName:qte(null==f?void 0:f.risk_level)}),v.jsx(Pie,{icon:ie,label:"Kch thc v th",value:(null==f?void 0:f.suggested_position_size)||"K/C"}),v.jsx(Pie,{icon:Re,label:"Hot ng t chc",value:(null==(t=null==f?void 0:f.volume_analysis)?void 0:t.institutional_activity)?"C":"Khng",valueClassName:(null==(n=null==f?void 0:f.volume_analysis)?void 0:n.institutional_activity)?"text-green-600":"text-gray-500"}),v.jsx(Pie,{icon:Oe,label:"Khung thi gian",value:(null==f?void 0:f.time_horizon)||"K/C"})]}),v.jsxs(Mie,{title:"Phn tch Chi tit",children:[v.jsx(Pie,{icon:ie,label:"CRS Hin ti",value:b(null==u?void 0:u.current_crs),valueClassName:Gte(null==u?void 0:u.current_crs)}),v.jsx(Pie,{icon:G,label:"Trng thi CRS",value:null==g?void 0:g.crs_status,valueClassName:Xte(null==g?void 0:g.crs_status)}),v.jsx(Pie,{icon:Oe,label:"im sc mnh",value:_(null==g?void 0:g.strength_score),valueClassName:Jte(null==g?void 0:g.strength_score)}),v.jsx(Pie,{icon:Be,label:" nht qun",value:b(null==d?void 0:d.consistency_score)})]}),v.jsxs(Mie,{title:"Phn tch Khi lng",children:[v.jsx(Pie,{icon:ie,label:"Xu hng khi lng",value:(null==(r=null==f?void 0:f.volume_analysis)?void 0:r.volume_trend)||"K/C",valueClassName:"text-blue-600"}),v.jsx(Pie,{icon:G,label:"Cht lng khi lng",value:(null==(i=null==f?void 0:f.volume_analysis)?void 0:i.volume_quality)||"K/C",valueClassName:"text-purple-600"}),v.jsx(Pie,{icon:Te,label:"T l khi lng",value:_(null==(a=null==f?void 0:f.volume_analysis)?void 0:a.recent_volume_ratio),valueClassName:ene(null==(s=null==f?void 0:f.volume_analysis)?void 0:s.recent_volume_ratio)}),v.jsx(Pie,{icon:Me,label:"Stop loss",value:b(null==f?void 0:f.stop_loss_distance),valueClassName:"text-red-600"})]}),v.jsxs(Mie,{title:"Thng k Hiu sut",children:[v.jsx(Pie,{icon:de,label:"phin vt tri",value:`${(null==u?void 0:u.outperforming_days)||0}/${(null==u?void 0:u.total_days)||0}`,valueClassName:"text-green-600"}),v.jsx(Pie,{icon:fe,label:"phin tt hu",value:`${(null==u?void 0:u.underperforming_days)||0}/${(null==u?void 0:u.total_days)||0}`,valueClassName:"text-red-600"}),v.jsx(Pie,{icon:ie,label:"Bin ng RS",value:b(null==u?void 0:u.rs_volatility)}),v.jsx(Pie,{icon:G,label:"Bin ng CRS",value:b(null==u?void 0:u.crs_volatility)})]})]})]})};function Aie({selectedItems:e,hoveredPoint:t,mousePosition:n,onClose:r,getSeriesColor:i,type:a,timeframe:s,availableIndustries:o,availableGroups:l}){return e&&0!==e.length?v.jsx("div",{className:"mt-6 space-y-4",children:e.map((e,t)=>{let n=null;return("industry"===e.type||"group"===e.type||"symbol"===e.type)&&(n=e),n?v.jsxs("div",{className:"p-4 bg-white border rounded-lg shadow-sm",children:[v.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Thng tin chi tit - ","symbol"===e.type?"C phiu":"group"===e.type?"Nhm vn ha":"Ngnh ngh",": ",e.name||e.custom_id||e.id]}),v.jsx("div",{className:"space-y-4",children:"symbol"===e.type?v.jsx(Eie,{symbol:n,timeframe:s},`${e.id}-${s}-${t}`):"group"===e.type?v.jsx(Oie,{group:n,timeframe:s},`${e.custom_id}-${s}-${t}`):v.jsx(Hne,{industry:n,timeframe:s},`${e.custom_id}-${s}-${t}`)})]},`${e.type}-${e.custom_id||e.id}-${t}`):v.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:v.jsxs("div",{className:"text-center py-4",children:[v.jsx("div",{className:"text-yellow-600 font-medium",children:"Khng c d liu"}),v.jsxs("div",{className:"text-yellow-500 text-sm mt-1",children:["Khng tm thy d liu cho ","symbol"===e.type?"c phiu":"group"===e.type?"nhm":"ngnh",": ",e.name||e.custom_id||e.id]})]})},`${e.type}-${e.custom_id||e.id}-${t}`)})}):null}const Tie=(e,t,n)=>`hsl(${360*t/n}, 70%, 50%)`;function Die(e){const{type:t="industries",timeframe:n,analyticsData:r}=e,{companies:i,industries:a,essentialDataLoading:s,essentialDataError:o}=N.useContext(Bne),{getTickerInfo:l,getIndustryTickers:c}=Bf(i,a),u=a||[],[d,p]=N.useState([]),[g,x]=N.useState([]),[y,b]=N.useState([]),[_,w]=N.useState("all"),[j,k]=N.useState(10),[S,C]=N.useState({width:600,height:600}),[E,P]=N.useState(null),[M,O]=N.useState({x:0,y:0}),A=N.useRef(null),T=N.useRef(null),[D,R]=N.useState(1),[I,L]=N.useState(null);if(N.useEffect(()=>{p([]),x([]),b([]),w("all"),R(1),P(null)},[n]),s)return v.jsx("div",{className:"flex items-center justify-center h-64",children:v.jsx("div",{className:"text-gray-500",children:"ang ti d liu..."})});if(o)return v.jsx("div",{className:"flex items-center justify-center h-64",children:v.jsxs("div",{className:"text-red-500",children:["Li: ",o]})});N.useEffect(()=>{Array.from(Ff.getCacheKeys()).forEach(e=>{(e.includes("industries")||e.includes("companies"))&&Ff.removeFromCache(e)})},[]),N.useEffect(()=>{const e=()=>{if(A.current){const e=A.current.offsetWidth,t=Math.min(e-32,800);C({width:t,height:t})}};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const{groups:z=[],symbols:F=[],industries:B=[]}=r||{},W=Array.isArray(u)?u:[],$=Array.isArray(z)?z:[],V=Array.isArray(F)?F:[],K=Array.isArray(B)?B:[],H=W&&"function"==typeof W.slice?W:[],U=$&&"function"==typeof $.slice?$:[],Y=V&&"function"==typeof V.slice?V:[],q=K&&"function"==typeof K.slice?K:[],G=u&&"object"==typeof u&&!Array.isArray(u)?Object.entries(u).map(([e,t])=>h({custom_id:e},t)):H;N.useEffect(()=>{"tickers"===t&&"all"===_&&!y.length&&G.length>0&&b([G[0].custom_id])},[t,_,G,y.length]),N.useEffect(()=>{"industries"===t&&0===d.length&&G.length>0&&p(G.map(e=>e.custom_id))},[t,G,d.length]),N.useEffect(()=>{"groups"===t&&0===g.length&&U.length>0&&x(U.map(e=>e.custom_id))},[t,g,U]);const X=N.useMemo(()=>{if("industries"===t)return 0===d.length?q||[]:(q||[]).filter(e=>d.includes(e.custom_id));if("groups"===t)return 0===g.length?U||[]:(U||[]).filter(e=>g.includes(e.custom_id));if(_&&"all"!==_){const e=Y;return"top10rs"===_?e.map(e=>{var t,n;return f(h({},e),{latestRS:(null==(n=null==(t=e.tail)?void 0:t[e.tail.length-1])?void 0:n.x)||0})}).sort((e,t)=>t.latestRS-e.latestRS).slice(0,10):"bottom10rs"===_?e.map(e=>{var t,n;return f(h({},e),{latestRS:(null==(n=null==(t=e.tail)?void 0:t[e.tail.length-1])?void 0:n.x)||0})}).sort((e,t)=>e.latestRS-t.latestRS).slice(0,10):"top10momentum"===_?e.map(e=>{var t,n;return f(h({},e),{latestMomentum:(null==(n=null==(t=e.tail)?void 0:t[e.tail.length-1])?void 0:n.y)||0})}).sort((e,t)=>t.latestMomentum-e.latestMomentum).slice(0,10):"bottom10momentum"===_?e.map(e=>{var t,n;return f(h({},e),{latestMomentum:(null==(n=null==(t=e.tail)?void 0:t[e.tail.length-1])?void 0:n.y)||0})}).sort((e,t)=>e.latestMomentum-t.latestMomentum).slice(0,10):[]}return y.length>0?(Y||[]).filter(e=>{let t=!1;if(e.industries&&e.industries.some(e=>y.includes(e.custom_id))&&(t=!0),!t&&i&&e.symbol){const n=i[e.symbol];n&&n.industry_id&&y.includes(n.industry_id)&&(t=!0)}return!t&&e.industry_id&&y.includes(e.industry_id)&&(t=!0),t}):Y||[]},[t,d,g,y,_,Y,H,U,q,n,r]),Q=N.useMemo(()=>"industries"===t?(d.length>0?(q||[]).filter(e=>d.includes(e.custom_id)):(q||[]).slice(0,5)).filter((e,t,n)=>t===n.findIndex(t=>t.custom_id===e.custom_id)).map(e=>{const t=G.find(t=>t.custom_id===e.custom_id);return f(h({},e),{type:"industry",name:(null==t?void 0:t.name)||e.custom_id})}):"groups"===t?(g.length>0?(U||[]).filter(e=>g.includes(e.custom_id)):(U||[]).slice(0,3)).map(e=>f(h({},e),{type:"group",name:e.name||e.custom_id})):"tickers"===t&&X&&0!==X.length?"all"===_&&y.length>0?[...(H||[]).filter(e=>y.includes(e.custom_id)).map(e=>f(h({},e),{type:"industry",name:e.name||e.custom_id})),...X.slice(0,50).map(e=>f(h({},e),{id:e.symbol||e.custom_id,name:e.symbol||e.custom_id,type:"symbol"}))]:X.slice(0,50).map(e=>f(h({},e),{id:e.symbol||e.custom_id,name:e.symbol||e.custom_id,type:"symbol"})):[],[t,d,g,y,_,H,U,q,X,n,r]),Z=X.slice(0,50),{domainX:J,domainY:ee}=N.useMemo(()=>{const e=Z.flatMap(e=>{var t;return(null==(t=e.tail)?void 0:t.map(e=>e.x))||[]}),t=Z.flatMap(e=>{var t;return(null==(t=e.tail)?void 0:t.map(e=>e.y))||[]});if(0===e.length||0===t.length)return{domainX:[90,110],domainY:[90,110]};const n=Math.max(...e.map(e=>Math.abs(e-100))),r=Math.max(...t.map(e=>Math.abs(e-100))),i=1.1*Math.max(n,r)/D;return{domainX:[100-i,100+i],domainY:[100-i,100+i]}},[Z,D,n,r]),te=N.useMemo(()=>Z&&0!==Z.length?Z.map((e,n)=>{var r;const i=null==(r=e.tail)?void 0:r[e.tail.length-1],a=l(e.symbol||e.custom_id),s=(null==a?void 0:a.industry_id)?c(a.industry_id):null;let o;if("industries"===t){const t=G.find(t=>t.custom_id===e.custom_id);o=(null==t?void 0:t.name)||e.custom_id}else if("groups"===t){const t=U.find(t=>t.custom_id===e.custom_id);o=(null==t?void 0:t.name)||e.custom_id}else o=e.symbol||e.custom_id;return f(h({},i),{name:o,id:e.symbol||e.custom_id,type:t,industry:(null==s?void 0:s.name)||null,color:Tie(e.symbol||e.custom_id,n,Z.length),seriesIndex:n})}):[],[Z,t,H,U,l,c,G,n,r]);if(!H||!U||!Y)return v.jsxs("div",{className:"w-full p-8 text-center",children:[v.jsx("div",{className:"text-red-600 text-lg font-medium",children:"Khng c d liu RRG"}),v.jsx("div",{className:"text-gray-600 mt-2",children:"Vui lng kim tra li sau"})]});if(!r||!r.industries)return v.jsxs("div",{className:"w-full p-8 text-center",children:[v.jsx("div",{className:"text-red-600 text-lg font-medium",children:"D liu RRG khng ng nh dng"}),v.jsx("div",{className:"text-gray-600 mt-2",children:"Thiu d liu ngnh ngh trong analyticsData"}),v.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["analyticsData: ",JSON.stringify(r?Object.keys(r):"null")]})]});const ne=q.filter(e=>e.tail&&Array.isArray(e.tail)&&e.tail.length>0);return"industries"===t&&0===ne.length?v.jsxs("div",{className:"w-full p-8 text-center",children:[v.jsx("div",{className:"text-red-600 text-lg font-medium",children:"D liu RRG ngnh ngh khng c ta "}),v.jsx("div",{className:"text-gray-600 mt-2",children:"Thiu thuc tnh 'tail' vi ta  x,y trong d liu ngnh ngh"}),v.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["Tng s ngnh: ",q.length,", C tail: ",ne.length]})]}):"tickers"===t&&y.length>0&&0===X.length?v.jsxs("div",{className:"w-full p-8 text-center",children:[v.jsx("div",{className:"text-orange-600 text-lg font-medium",children:"No tickers found"}),v.jsxs("div",{className:"text-gray-600 mt-2",children:["No tickers found for the selected industries: ",y.join(", ")]}),v.jsx("div",{className:"text-gray-500 mt-1 text-sm",children:"Try selecting different industries or clear the filter to see top/bottom performers."}),v.jsx("button",{onClick:()=>b([]),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm cursor-pointer",children:"Clear Filter & Show Top/Bottom Performers"})]}):0===Z.length?v.jsxs("div",{className:"w-full p-8 text-center",children:[v.jsx("div",{className:"text-orange-600 text-lg font-medium",children:"No data available"}),v.jsxs("div",{className:"text-gray-600 mt-2",children:["No ",t," data found for the current selection. Try changing filters or timeframe."]})]}):v.jsxs("div",{className:"w-full space-y-4",children:[v.jsx(Nie,{type:t,trailLength:j,setTrailLength:k,selectedIndustries:d,setSelectedIndustries:p,selectedGroups:g,setSelectedGroups:x,selectedTickerIndustries:y,setSelectedTickerIndustries:b,specialTickerFilter:_,setSpecialTickerFilter:w,availableIndustries:G,availableGroups:U,filteredData:X}),v.jsx("div",{ref:A,className:"w-full flex justify-center",children:v.jsxs("div",{ref:T,className:"border rounded-lg p-4 bg-white shadow-sm relative",style:{width:S.width+32,height:S.height+32},children:[v.jsx(Gne,{onZoomIn:()=>R(e=>Math.min(1.5*e,10)),onZoomOut:()=>R(e=>Math.max(e/1.5,1)),onReset:()=>R(1),zoomLevel:D}),v.jsx(sF,{width:S.width,height:S.height,children:v.jsxs(FY,{margin:{top:20,right:20,bottom:40,left:40},onMouseMove:()=>{P(null)},onMouseLeave:()=>{P(null)},children:[v.jsx(vK,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),v.jsx(zV,{x1:100,x2:J[1],y1:100,y2:ee[1],fill:"#10b981",fillOpacity:.08,children:v.jsx(UF,{value:"Leading",position:"center",fill:"#10b981",fontSize:16,fontWeight:"600"})},`leading-${D}`),v.jsx(zV,{x1:100,x2:J[1],y1:ee[0],y2:100,fill:"#f59e0b",fillOpacity:.08,children:v.jsx(UF,{value:"Weakening",position:"center",fill:"#f59e0b",fontSize:16,fontWeight:"600"})},`weakening-${D}`),v.jsx(zV,{x1:J[0],x2:100,y1:ee[0],y2:100,fill:"#ef4444",fillOpacity:.08,children:v.jsx(UF,{value:"Lagging",position:"center",fill:"#ef4444",fontSize:16,fontWeight:"600"})},`lagging-${D}`),v.jsx(zV,{x1:J[0],x2:100,y1:100,y2:ee[1],fill:"#3b82f6",fillOpacity:.08,children:v.jsx(UF,{value:"Improving",position:"center",fill:"#3b82f6",fontSize:16,fontWeight:"600"})},`improving-${D}`),v.jsx(MV,{x:100,stroke:"#6b7280",strokeWidth:2}),v.jsx(MV,{y:100,stroke:"#6b7280",strokeWidth:2}),v.jsx(fU,{dataKey:"x",type:"number",domain:J,label:{value:"RS-Ratio (Trend)",position:"insideBottom",offset:-10},tickFormatter:e=>e.toFixed(0),ticks:[J[0],95,100,105,J[1]].filter(e=>e>=J[0]&&e<=J[1])}),v.jsx(_U,{dataKey:"y",type:"number",domain:ee,label:{value:"RS-Momentum",angle:-90,position:"insideLeft"},tickFormatter:e=>e.toFixed(0),ticks:[ee[0],95,100,105,ee[1]].filter(e=>e>=ee[0]&&e<=ee[1])}),j>0&&Z.map((e,n)=>{var r;const i=Tie(e.symbol||e.custom_id,n,Z.length);return v.jsx(UK,{data:(null==(r=e.tail)?void 0:r.slice(-j).map(n=>{const r=l(e.symbol||e.custom_id),i=(null==r?void 0:r.industry_id)?c(r.industry_id):null;let a;if("industries"===t){const t=G.find(t=>t.custom_id===e.custom_id);a=(null==t?void 0:t.name)||e.custom_id}else if("groups"===t){const t=U.find(t=>t.custom_id===e.custom_id);a=(null==t?void 0:t.name)||e.custom_id}else a=e.symbol||e.custom_id;return f(h({},n),{name:a,date:n.date,industry:"tickers"===t&&(null==i?void 0:i.name)||null})}))||[],type:"monotone",dataKey:"y",stroke:i,dot:e=>{var t=e,{key:n}=t,r=m(t,["key"]);return v.jsx(qne,f(h({},r),{color:i,onHover:(e,t,n)=>{P(e),O({x:t,y:n})}}),n)},isAnimationActive:!1,strokeWidth:2,opacity:.4},`trail-${e.symbol||e.custom_id}`)}),v.jsx(iU,{data:te,dataKey:"y",name:"Latest",shape:e=>{const{cx:t,cy:n,payload:r}=e,{name:i,color:a}=r,s=(null==E?void 0:E.custom_id)===r.custom_id&&(null==E?void 0:E.name)===r.name;return v.jsxs("g",{style:{cursor:"pointer"},onMouseEnter:e=>{e.stopPropagation(),P(r),O({x:t,y:n})},onMouseMove:e=>{e.stopPropagation()},children:[v.jsx("circle",{cx:t,cy:n,r:12,fill:"transparent"}),v.jsx("circle",{cx:t,cy:n,r:s?7:5,fill:a,stroke:"#fff",strokeWidth:2,style:{transition:"all 0.2s ease",pointerEvents:"none"}}),v.jsx("circle",{cx:t,cy:n,r:s?10:7,fill:"none",stroke:a,strokeWidth:s?2:1,opacity:s?.8:.5,style:{transition:"all 0.2s ease",pointerEvents:"none"}}),v.jsx("text",{x:t+12,y:n+4,fontSize:"11px",fontWeight:"500",fill:"#333",textAnchor:"start",style:{pointerEvents:"none",userSelect:"none"},children:String(i)})]})}})]})}),E&&v.jsx(Yne,{data:E,x:M.x,y:M.y})]})}),v.jsx(kie,{limitedData:Z,getSeriesColor:Tie,type:t,availableIndustries:G,availableGroups:U}),v.jsxs("div",{className:"mt-6 bg-white rounded-lg shadow-sm border p-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Hng dn c RRG"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Cc gc phn t"}),v.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[v.jsxs("li",{children:[v.jsx("span",{className:"font-medium text-green-600",children:"Dn u:"})," Vt tri vi ng lng tch cc"]}),v.jsxs("li",{children:[v.jsx("span",{className:"font-medium text-yellow-600",children:"Suy yu:"})," Vt tri nhng ng lng gim"]}),v.jsxs("li",{children:[v.jsx("span",{className:"font-medium text-red-600",children:"Tt hu:"})," Km hiu qu vi ng lng tiu cc"]}),v.jsxs("li",{children:[v.jsx("span",{className:"font-medium text-blue-600",children:"Ci thin:"})," Km hiu qu nhng ng lng tng"]})]})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Ch s"}),v.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[v.jsxs("li",{children:[v.jsx("span",{className:"font-medium",children:"T s RS:"})," Sc mnh tng i hin ti so vi VN-Index"]}),v.jsxs("li",{children:[v.jsx("span",{className:"font-medium",children:"CRS:"})," Sc mnh tng i tch ly trong 21 k"]}),v.jsxs("li",{children:[v.jsx("span",{className:"font-medium",children:"Vt:"})," ng i lch s th hin s xoay chuyn theo thi gian"]}),v.jsxs("li",{children:[v.jsx("span",{className:"font-medium",children:"Mu sc:"})," Da trn thi lng d liu (xanh = ngn,  = di)"]})]})]})]})]}),v.jsx(Aie,{selectedItems:Q,hoveredPoint:E,mousePosition:M,onClose:()=>P(null),getSeriesColor:Tie,type:t,timeframe:n,availableIndustries:G,availableGroups:U})]})}const Rie=({tabs:e,activeTab:t,onTabChange:n})=>v.jsx("nav",{className:"-mb-px flex space-x-8 px-6",children:e.map(e=>v.jsx("button",{onClick:()=>n(e.key),className:"py-4 px-1 border-b-2 font-medium text-sm cursor-pointer "+(t===e.key?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),type:"button",children:e.label},e.key))}),Iie=[{key:"overview",label:"Th trng chung"},{key:"ranking",label:" Xp hng & Phn tch"},{key:"rrg",label:"RRG Ngnh"},{key:"heatmap",label:"Heatmap"},{key:"rrg-groups",label:"RRG Nhm Vn Ha"}],Lie=()=>{var e,t,n;const[r,i]=N.useState("overview"),[a,s]=N.useState("1D"),{data:o,loading:l,error:c}=Df("RRG_ANALYSIS",a),{industries:u}=o||{},d=(null==o?void 0:o.insights)||{},m=(null==d?void 0:d.market_overview)||{};null==(e=null==d?void 0:d.insights)||e.industries;const p=(null==d?void 0:d.detailed_analysis)||{};null==d||d.investment_strategies;const{industries:g}=N.useMemo(()=>u?{industries:u.map(e=>{var t,n,r,i,a,s;const o=Array.isArray(e.tail)&&e.tail.length>0?e.tail[e.tail.length-1]:{};return f(h({},e),{industry:e.name,rs_close:null!=(n=null==(t=e.metrics)?void 0:t.current_rs)?n:null,rs_ratio:null!=(r=o.x)?r:null,rs_momentum:null!=(i=o.y)?i:null,crs:null!=(s=null==(a=e.metrics)?void 0:a.current_crs)?s:null})})}:{industries:[]},[u]),x=e=>(null==e?void 0:e.includes("Leading"))||(null==e?void 0:e.includes("Dn dt"))?"text-green-600":(null==e?void 0:e.includes("Improving"))||(null==e?void 0:e.includes("Ci thin"))?"text-blue-600":(null==e?void 0:e.includes("Weakening"))||(null==e?void 0:e.includes("Suy yu"))?"text-yellow-600":(null==e?void 0:e.includes("Lagging"))||(null==e?void 0:e.includes("Tt hu"))?"text-red-600":"text-gray-600",y=e=>{switch(null==e?void 0:e.toLowerCase()){case"bullish":return"text-green-600";case"bearish":return"text-red-600";default:return"text-gray-600"}};return l?v.jsx("div",{className:"space-y-6 p-4",children:v.jsxs("div",{className:"flex items-center justify-center py-12",children:[v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),v.jsx("span",{className:"ml-3 text-gray-600",children:"ang ti d liu phn tch ngnh..."})]})}):c?v.jsx("div",{className:"space-y-6 p-4",children:v.jsxs("div",{className:"text-center py-12",children:[v.jsx(De,{className:"mx-auto h-12 w-12 text-red-500"}),v.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Li ti d liu"}),v.jsx("p",{className:"mt-1 text-sm text-gray-500",children:c})]})}):v.jsxs("div",{className:"space-y-6 p-4",children:[v.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4 flex items-center",children:[v.jsx("span",{className:"text-gray-700 font-medium mr-4",children:"Khung thi gian:"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{className:"cursor-pointer px-4 py-1 rounded-full font-medium text-sm border transition-colors "+("1D"===a?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600 hover:bg-blue-50"),onClick:()=>s("1D"),children:"Hng ngy (1D)"}),v.jsx("button",{className:"cursor-pointer px-4 py-1 rounded-full font-medium text-sm border transition-colors "+("1W"===a?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600 hover:bg-blue-50"),onClick:()=>s("1W"),children:"Hng tun (1W)"})]})]}),v.jsx(Rie,{tabs:Iie,activeTab:r,onTabChange:i}),"overview"===r&&v.jsxs("div",{className:"space-y-6",children:[v.jsx(Xe,{marketOverview:m,getSentimentColor:y,breadth_detail:p.breadth_detail,industries:u,analyticsData:o}),v.jsx(One,{analysisData:(null==(_=null==(b=null==o?void 0:o.insights)?void 0:b.insights)?void 0:_.industries)||{},type:"industry",getQuadrantColor:x,analyzeData:o}),v.jsx(Ane,{analysisData:(null==(n=null==(t=null==o?void 0:o.insights)?void 0:t.insights)?void 0:n.industries)||{},type:"industry",renderInsightItems:(e,t)=>e&&0!==e.length?v.jsx("div",{className:"space-y-2",children:e.map((e,t)=>v.jsx("div",{className:"bg-white p-3 rounded border",children:v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsxs("div",{children:[v.jsx("div",{className:"font-medium text-gray-900",children:(null==e?void 0:e.name)||(null==e?void 0:e.custom_id)||(null==e?void 0:e.symbol)||"Unknown"}),v.jsx("div",{className:"text-sm text-gray-600 mt-1",children:(null==e?void 0:e.description)||"N/A"}),v.jsx("div",{className:`text-xs mt-1 ${x(null==e?void 0:e.rrg_position)}`,children:(null==e?void 0:e.rrg_position)||"N/A"})]}),v.jsxs("div",{className:"text-right",children:[v.jsx("div",{className:"text-sm font-medium text-blue-600",children:((null==e?void 0:e.speed_score)||0).toFixed(2)}),v.jsx("div",{className:"text-xs text-gray-500 mt-1",children:(null==e?void 0:e.speed_category)||"N/A"})]})]})},t))}):null,rrgData:o,analyzeData:o}),v.jsx(Fne,{detailedAnalysis:p,getSentimentColor:y})]}),"ranking"===r&&v.jsx("div",{className:"space-y-6",children:v.jsx(Une,{timeframe:a,analyticsData:o},`industry-rs-analysis-${a}`)}),"rrg"===r&&v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"mb-4 w-full",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Phn tch RRG ngnh ngh"}),v.jsx("p",{className:"text-gray-600",children:"Hin th sc mnh tng i v ng lng ca cc ngnh. Ngnh  gc Dn u ang vt tri vi ng lng tch cc."})]}),v.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6 w-full mb-6",children:v.jsx("div",{className:"w-full",children:v.jsx(Die,{type:"industries",timeframe:a,analyticsData:o},`industries-${a}`)})})]}),"rrg-groups"===r&&v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"mb-4 w-full",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Phn tch RRG nhm vn ha"}),v.jsx("p",{className:"text-gray-600",children:"Hin th sc mnh tng i v ng lng ca cc nhm vn ha (VN30, VN100, VNMidCap, VNSmallCap). Nhm  gc Dn u ang vt tri vi ng lng tch cc."})]}),v.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6 w-full mb-6",children:v.jsx("div",{className:"w-full",children:v.jsx(Die,{type:"groups",timeframe:a,analyticsData:o},`groups-${a}`)})})]}),"heatmap"===r&&v.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:v.jsx(_ne,{industries:g,timeframe:a})})]});var b,_},zie=({timeframe:e,analyticsData:t})=>{const{data:n,loading:r,error:i}=Df("rs_analysis",e),a=t||n,s=!t&&r,o=t?null:i,{companies:l,industries:c,essentialDataLoading:u}=N.useContext(Bne),{getTickerInfo:d,getIndustryName:h,loading:f}=Bf(l,c),[m,p]=N.useState(""),[g,x]=N.useState(""),[y,b]=N.useState(""),[_,w]=N.useState(""),[j,S]=N.useState("current_crs"),[C,E]=N.useState("desc"),[P,M]=N.useState(null),O=(null==a?void 0:a.symbols)||[],A=(e,t)=>{var n,r,i,a,s,o,l,c,u,d,h,f,m,p,g;switch(t){case"symbol":return e.symbol;case"name":return e.name;case"current_crs":return(null==(n=e.metrics)?void 0:n.current_crs)||0;case"current_rs":return(null==(r=e.metrics)?void 0:r.current_rs)||0;case"rs_trend_fast":return(null==(i=e.metrics)?void 0:i.rs_trend_fast)||0;case"rs_trend_slow":return(null==(a=e.metrics)?void 0:a.rs_trend_slow)||0;case"net_decayed":return(null==(s=e.metrics)?void 0:s.net_decayed)||0;case"rs_trend":return(null==(o=e.performance_summary)?void 0:o.rs_trend)||"";case"crs_status":return(null==(l=e.performance_summary)?void 0:l.crs_status)||"";case"speed_fast":return(null==(c=e.speed_analysis)?void 0:c.speed_fast)||0;case"speed_slow":return(null==(u=e.speed_analysis)?void 0:u.speed_slow)||0;case"momentum_acceleration":return((null==(d=e.speed_analysis)?void 0:d.speed_fast)||0)-((null==(h=e.speed_analysis)?void 0:h.speed_slow)||0);case"momentum_ratio":return(null==(f=e.speed_analysis)?void 0:f.momentum_ratio)||0;case"consistency_score":return(null==(m=e.speed_analysis)?void 0:m.consistency_score)||0;case"weighted_speed":return(null==(p=e.speed_analysis)?void 0:p.weighted_speed)||0;case"speed_category":return(null==(g=e.speed_analysis)?void 0:g.speed_category)||"";default:return 0}},T=N.useMemo(()=>{if(!O||0===O.length)return[];let e=O.filter(e=>{var t,n;const r=d(e.symbol),i=(null==r?void 0:r.name)||e.name||"",a=(null==r?void 0:r.industry)||"",s=e.symbol.toLowerCase().includes(m.toLowerCase())||i.toLowerCase().includes(m.toLowerCase()),o=!g||a.toLowerCase().includes(g.toLowerCase()),l=!y||(null==(t=e.performance_summary)?void 0:t.rs_trend)===y,c=!_||(null==(n=e.performance_summary)?void 0:n.crs_status)===_;return s&&o&&l&&c});return e.sort((e,t)=>{const n=A(e,j),r=A(t,j);return"asc"===C?n>r?1:-1:n<r?1:-1}),e},[O,m,g,y,_,j,C,d]),D=N.useMemo(()=>{if(!O||0===O.length)return[];const e=new Set;return O.forEach(t=>{const n=h(t.symbol);if("Unknown"!==n)e.add(n);else if(t.industries&&t.industries.length>0){const n=t.industries.find(e=>e.is_primary)||t.industries[0];e.add(n.name)}else{const n=d(t.symbol);(null==n?void 0:n.industry)&&e.add(n.industry)}}),Array.from(e).sort()},[O,d,h]),R=e=>null==e?"N/A":`${(100*e).toFixed(2)}%`,I=e=>{const t=d(e.symbol);let n="N/A";const r=h(e.symbol);return n="Unknown"!==r?r:e.industries&&e.industries.length>0?(e.industries.find(e=>e.is_primary)||e.industries[0]).name:(null==t?void 0:t.industry)||"N/A",{name:(null==t?void 0:t.name)||e.name||"N/A",industry:n}},L=e=>{j===e?E("asc"===C?"desc":"asc"):(S(e),E("desc"))},z=e=>null==e?"N/A":`${(100*e).toFixed(2)}%`,F=({field:e})=>j!==e?null:"asc"===C?v.jsx(ce,{className:"w-4 h-4"}):v.jsx(le,{className:"w-4 h-4"});return s||f||u?v.jsxs("div",{className:"flex items-center justify-center py-12",children:[v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),v.jsx("span",{className:"ml-3 text-gray-600",children:"ang ti d liu..."})]}):o?v.jsx("div",{className:"text-center py-12",children:v.jsxs("div",{className:"text-red-500 mb-4",children:["Li ti d liu: ",o]})}):a&&a.symbols?v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Phn tch Sc mnh Tng i (RS) C phiu"}),v.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Phn tch sc mnh tng i ca cc c phiu so vi VN-Index"}),a.analysis_date&&v.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:["Cp nht: ",new Date(a.analysis_date).toLocaleString("vi-VN")]})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Chi tit tt c m chng khon"}),v.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[T.length," / ",O.length," m"]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tm kim"}),v.jsxs("div",{className:"relative",children:[v.jsx(Pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),v.jsx("input",{type:"text",placeholder:"Tm theo m hoc tn...",value:m,onChange:e=>p(e.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Ngnh"}),v.jsxs("select",{value:g,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",children:[v.jsx("option",{value:"",children:"Tt c ngnh"}),D.map(e=>v.jsx("option",{value:e,children:e},e))]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Xu hng"}),v.jsxs("select",{value:y,onChange:e=>b(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",children:[v.jsx("option",{value:"",children:"Tt c xu hng"}),v.jsx("option",{value:"Tng trng",children:"Tng trng"}),v.jsx("option",{value:"Suy gim",children:"Suy gim"}),v.jsx("option",{value:"Trung lp",children:"Trung lp"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Trng thi"}),v.jsxs("select",{value:_,onChange:e=>w(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",children:[v.jsx("option",{value:"",children:"Tt c trng thi"}),v.jsx("option",{value:"Vt tri",children:"Vt tri"}),v.jsx("option",{value:"Km hiu qu",children:"Km hiu qu"}),v.jsx("option",{value:"Trung lp",children:"Trung lp"})]})]})]}),v.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[v.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>L("symbol"),children:v.jsxs("div",{className:"flex items-center gap-1",children:["M",v.jsx(F,{field:"symbol"})]})}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>L("name"),children:v.jsxs("div",{className:"flex items-center gap-1",children:["Tn cng ty",v.jsx(F,{field:"name"})]})}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Ngnh"}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>L("current_crs"),children:v.jsxs("div",{className:"flex items-center gap-1",children:["CRS",v.jsx(F,{field:"current_crs"})]})}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>L("current_rs"),children:v.jsxs("div",{className:"flex items-center gap-1",children:["RS",v.jsx(F,{field:"current_rs"})]})}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>L("rs_trend_fast"),children:v.jsxs("div",{className:"flex items-center gap-1",children:["Xu hng nhanh",v.jsx(F,{field:"rs_trend_fast"})]})}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>L("rs_trend_slow"),children:v.jsxs("div",{className:"flex items-center gap-1",children:["Xu hng chm",v.jsx(F,{field:"rs_trend_slow"})]})}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>L("net_decayed"),children:v.jsxs("div",{className:"flex items-center gap-1",children:["Net Decayed",v.jsx(F,{field:"net_decayed"})]})}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>L("speed_fast"),children:v.jsxs("div",{className:"flex items-center gap-1",children:["Tc  nhanh",v.jsx(F,{field:"speed_fast"})]})}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>L("speed_slow"),children:v.jsxs("div",{className:"flex items-center gap-1",children:["Tc  chm",v.jsx(F,{field:"speed_slow"})]})}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>L("momentum_acceleration"),children:v.jsxs("div",{className:"flex items-center gap-1",children:["Gia tc momentum",v.jsx(F,{field:"momentum_acceleration"})]})}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>L("momentum_ratio"),children:v.jsxs("div",{className:"flex items-center gap-1",children:["T l momentum",v.jsx(F,{field:"momentum_ratio"})]})}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>L("weighted_speed"),children:v.jsxs("div",{className:"flex items-center gap-1",children:["Tc  tng hp",v.jsx(F,{field:"weighted_speed"})]})}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>L("consistency_score"),children:v.jsxs("div",{className:"flex items-center gap-1",children:["im n nh",v.jsx(F,{field:"consistency_score"})]})})]})}),v.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:T.map((e,t)=>{var n,r,i,s,o,l,c,u,d,h,f,m,p,g,x,y,b,_,w,j,N,S,C,E,O,A,T,D,L,F,B,W;return v.jsxs(k.Fragment,{children:[v.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",onClick:()=>{return t=e.symbol,void M(P===t?null:t);var t},children:[v.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:v.jsxs("div",{className:"flex items-center",children:[P===e.symbol?v.jsx(ce,{className:"w-4 h-4 text-gray-400 mr-2"}):v.jsx(le,{className:"w-4 h-4 text-gray-400 mr-2"}),v.jsxs("div",{children:[v.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:e.symbol}),v.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["#",t+1]})]})]})}),v.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:v.jsx("div",{className:"text-sm text-gray-900 dark:text-gray-100",children:I(e).name})}),v.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:v.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:I(e).industry})}),v.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:v.jsx("span",{className:"text-sm font-medium "+((null==(n=e.metrics)?void 0:n.current_crs)>0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:R(null==(r=e.metrics)?void 0:r.current_crs)})}),v.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:(null==(s=null==(i=e.metrics)?void 0:i.current_rs)?void 0:s.toFixed(4))||"N/A"}),v.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:v.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Qte(null==(o=e.metrics)?void 0:o.rs_trend_fast)}`,children:(null==(c=null==(l=e.metrics)?void 0:l.rs_trend_fast)?void 0:c.toFixed(2))||"N/A"})}),v.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:v.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Qte(null==(u=e.metrics)?void 0:u.rs_trend_slow)}`,children:(null==(h=null==(d=e.metrics)?void 0:d.rs_trend_slow)?void 0:h.toFixed(2))||"N/A"})}),v.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:v.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Qte(null==(f=e.metrics)?void 0:f.net_decayed)}`,children:(null==(p=null==(m=e.metrics)?void 0:m.net_decayed)?void 0:p.toFixed(2))||"N/A"})}),v.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:v.jsx("span",{className:`text-sm font-medium ${ine(null==(g=e.performance_summary)?void 0:g.rs_trend,null==(x=e.speed_analysis)?void 0:x.speed_fast)}`,children:(null==(y=e.speed_analysis)?void 0:y.speed_fast)?(e.speed_analysis.speed_fast>0?"+":"")+z(e.speed_analysis.speed_fast):"N/A"})}),v.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:v.jsx("span",{className:`text-sm font-medium ${ine(null==(b=e.performance_summary)?void 0:b.rs_trend,null==(_=e.speed_analysis)?void 0:_.speed_slow)}`,children:(null==(w=e.speed_analysis)?void 0:w.speed_slow)?(e.speed_analysis.speed_slow>0?"+":"")+z(e.speed_analysis.speed_slow):"N/A"})}),v.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:v.jsx("span",{className:`text-sm font-medium ${ine(null==(j=e.performance_summary)?void 0:j.rs_trend,((null==(N=e.speed_analysis)?void 0:N.speed_fast)||0)-((null==(S=e.speed_analysis)?void 0:S.speed_slow)||0))}`,children:void 0!==(null==(C=e.speed_analysis)?void 0:C.speed_fast)&&void 0!==(null==(E=e.speed_analysis)?void 0:E.speed_slow)?(e.speed_analysis.speed_fast-e.speed_analysis.speed_slow>0?"+":"")+z(e.speed_analysis.speed_fast-e.speed_analysis.speed_slow):"N/A"})}),v.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:v.jsx("span",{className:`text-sm font-medium ${ine(null==(O=e.performance_summary)?void 0:O.rs_trend,null==(A=e.speed_analysis)?void 0:A.momentum_ratio)}`,children:(null==(T=e.speed_analysis)?void 0:T.momentum_ratio)?(e.speed_analysis.momentum_ratio>0?"+":"")+z(e.speed_analysis.momentum_ratio):"N/A"})}),v.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:v.jsx("span",{className:`text-sm font-medium ${ine(null==(D=e.performance_summary)?void 0:D.rs_trend,null==(L=e.speed_analysis)?void 0:L.weighted_speed)}`,children:(null==(F=e.speed_analysis)?void 0:F.weighted_speed)?(e.speed_analysis.weighted_speed>0?"+":"")+z(e.speed_analysis.weighted_speed):"N/A"})}),v.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:v.jsx("span",{className:`text-sm font-medium ${ane(100*(null==(B=e.speed_analysis)?void 0:B.consistency_score))}`,children:(null==(W=e.speed_analysis)?void 0:W.consistency_score)?(100*e.speed_analysis.consistency_score).toFixed(1)+"%":"N/A"})})]}),P===e.symbol&&v.jsx("tr",{children:v.jsx("td",{colSpan:16,className:"bg-gray-50 dark:bg-gray-900/50 p-4",children:v.jsx(Mne,{symbol:e,analyzeData:a})})})]},t)})})]})})}),v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[v.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-3",children:"Gii thch chi tit cc ch s"}),v.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[v.jsxs("div",{children:[v.jsx("h5",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:"CRS (Cumulative Relative Strength)"}),v.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"CRS l sc mnh tng i so vi VN-Index trong vng 21 ngy."}),v.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[v.jsxs("li",{children:[" ",v.jsx("strong",{children:"nh gi hiu sut:"})," CRS > 0 = vt tri, CRS < 0 = thua km"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"Phn tch xu hng:"})," CRS tng = ang ci thin, CRS gim = ang suy yu"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"So snh c phiu:"})," CRS cao = c phiu mnh, CRS thp = c phiu yu"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"Timing:"})," CRS chuyn t m sang dng = tn hiu mua tim nng"]})]}),v.jsx("h5",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2 mt-4",children:"RS (Relative Strength)"}),v.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"RS l t l gi hin ti ca c phiu so vi VN-Index. Gi tr > 1 ngha l c phiu ang c hiu sut tt hn VN-Index."}),v.jsx("h5",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2 mt-4",children:"Xu hng nhanh & chm"}),v.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"o lng xu hng RS trong cc khong thi gian khc nhau. Xu hng nhanh phn ng nhanh hn vi thay i th trng."}),v.jsx("h5",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2 mt-4",children:"Net Decayed"}),v.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Tng s phin m c phiu mnh hn th trng trong khong thi gian c tnh (13 ngy). Ch s ny c hiu chnh  cc phin gn nht c trng s cao hn."}),v.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[v.jsxs("li",{children:[" ",v.jsx("strong",{children:"Phn tch momentum:"})," Gi tr dng = xu hng tng, gi tr m = xu hng gim"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"Tm kim c hi:"})," Da vo ch s ny c th tm cc c phiu c sc mnh tng/gim trong chui ngy gn y"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"Xc nhn xu hng:"})," Gi tr cao = xu hng mnh v n nh"]})]})]}),v.jsxs("div",{children:[v.jsx("h5",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Tc  nhanh & chm"}),v.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:[v.jsx("strong",{children:"Tc  nhanh (13 ngy):"})," Phn ng nhanh vi thay i th trng, ph hp cho giao dch ngn hn.",v.jsx("br",{}),v.jsx("strong",{children:"Tc  chm (49 ngy):"})," n nh hn, ph hp cho u t di hn v xc nh xu hng chnh."]}),v.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[v.jsxs("li",{children:[" ",v.jsx("strong",{children:"So snh thi gian:"})," Tc  nhanh > chm = momentum tng, ngc li = momentum gim"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"Chin lc giao dch:"})," Da vo tc  nhanh  vo lnh, tc  chm  xc nhn xu hng"]})]}),v.jsx("h5",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2 mt-4",children:"Gia tc momentum"}),v.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Chnh lch gia tc  nhanh v chm, cho bit momentum ang tng tc hay chm li."}),v.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[v.jsxs("li",{children:[" ",v.jsx("strong",{children:"Gia tc dng:"})," Momentum ang tng tc = tn hiu mua mnh"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"Gia tc m:"})," Momentum ang chm li = cn thn trng"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"Chuyn i:"})," T m sang dng = tn hiu o chiu tch cc"]})]}),v.jsx("h5",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2 mt-4",children:"T l momentum"}),v.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"T l gia tc  nhanh v chm, cho bit momentum ngn hn so vi di hn."}),v.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[v.jsxs("li",{children:[" ",v.jsx("strong",{children:"T l > 1.0:"})," Momentum ngn hn mnh hn = xu hng tng mnh"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"T l = 1.0:"})," Momentum cn bng = xu hng n nh"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"T l < 1.0:"})," Momentum di hn mnh hn = xu hng gim"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"ng dng:"})," Dng  xc nh thi im vo lnh v qun l ri ro"]})]}),v.jsx("h5",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2 mt-4",children:"Tc  tng hp"}),v.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Ch s tng hp c trng s (70% ngn hn + 30% di hn), cung cp ci nhn ton din v momentum."}),v.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[v.jsxs("li",{children:[" ",v.jsx("strong",{children:"nh gi tng th:"})," Gi tr cao = momentum mnh, gi tr thp = momentum yu"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"So snh c phiu:"})," Dng  xp hng sc mnh tng i gia cc c phiu"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"Xc nhn tn hiu:"})," Kt hp vi cc ch s khc  xc nhn xu hng"]})]}),v.jsx("h5",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2 mt-4",children:"im n nh"}),v.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:'T l tn hiu-nhiu, o lng  "sch" ca xu hng so vi bin ng.'}),v.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[v.jsxs("li",{children:[" ",v.jsx("strong",{children:"Gi tr cao:"})," Xu hng n nh, t nhiu = tn hiu ng tin cy"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"Gi tr thp:"})," Bin ng mnh, nhiu nhiu = cn thn trng"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"ng dng:"})," Dng  nh gi  tin cy ca tn hiu momentum"]})]})]})]}),v.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[v.jsx("h5",{className:"font-medium text-gray-900 dark:text-gray-100 mb-3",children:"Tm tt cc ch s momentum"}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full text-sm text-gray-600 dark:text-gray-400",children:[v.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-900 dark:text-gray-100",children:"Ch s"}),v.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-900 dark:text-gray-100",children:"Cng thc"}),v.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-900 dark:text-gray-100",children:"Phm vi"}),v.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-900 dark:text-gray-100",children:" ngha"})]})}),v.jsxs("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[v.jsxs("tr",{children:[v.jsx("td",{className:"px-3 py-2 font-medium",children:"Net Decayed"}),v.jsx("td",{className:"px-3 py-2",children:"EMA(daily_signals, 13)  12"}),v.jsx("td",{className:"px-3 py-2",children:"Bt k"}),v.jsx("td",{className:"px-3 py-2",children:"Tn hiu momentum mt m"})]}),v.jsxs("tr",{children:[v.jsx("td",{className:"px-3 py-2 font-medium",children:"Weighted Speed"}),v.jsx("td",{className:"px-3 py-2",children:"0.7  speed_fast + 0.3  speed_slow"}),v.jsx("td",{className:"px-3 py-2",children:" 0"}),v.jsx("td",{className:"px-3 py-2",children:"Sc mnh xu hng tng hp"})]}),v.jsxs("tr",{children:[v.jsx("td",{className:"px-3 py-2 font-medium",children:"Momentum Ratio"}),v.jsx("td",{className:"px-3 py-2",children:"speed_fast  speed_slow"}),v.jsx("td",{className:"px-3 py-2",children:" 0"}),v.jsx("td",{className:"px-3 py-2",children:"So snh momentum ngn vs di hn"})]}),v.jsxs("tr",{children:[v.jsx("td",{className:"px-3 py-2 font-medium",children:"Consistency Score"}),v.jsx("td",{className:"px-3 py-2",children:"weighted_speed  volatility"}),v.jsx("td",{className:"px-3 py-2",children:" 0"}),v.jsx("td",{className:"px-3 py-2",children:"T l tn hiu-nhiu"})]})]})]})})]}),v.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[v.jsx("h5",{className:"font-medium text-gray-900 dark:text-gray-100 mb-3",children:"Cch c bng d liu"}),v.jsxs("div",{className:"grid gap-4 md:grid-cols-3 text-sm text-gray-600 dark:text-gray-400",children:[v.jsxs("div",{children:[v.jsx("h6",{className:"font-medium text-gray-900 dark:text-gray-100 mb-1",children:"Mu sc"}),v.jsxs("ul",{className:"space-y-1",children:[v.jsxs("li",{children:[" ",v.jsx("span",{className:"text-green-600 dark:text-green-400",children:"Xanh l:"})," Gi tr tch cc/tt"]}),v.jsxs("li",{children:[" ",v.jsx("span",{className:"text-red-600 dark:text-red-400",children:":"})," Gi tr tiu cc/xu"]}),v.jsxs("li",{children:[" ",v.jsx("span",{className:"text-yellow-600 dark:text-yellow-400",children:"Vng:"})," Gi tr trung bnh"]})]})]}),v.jsxs("div",{children:[v.jsx("h6",{className:"font-medium text-gray-900 dark:text-gray-100 mb-1",children:"Du hiu"}),v.jsxs("ul",{className:"space-y-1",children:[v.jsxs("li",{children:[" ",v.jsx("strong",{children:"+"})," trc s: Gi tr dng"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"%"}),": n v phn trm"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"N/A"}),": D liu khng c sn"]})]})]}),v.jsxs("div",{children:[v.jsx("h6",{className:"font-medium text-gray-900 dark:text-gray-100 mb-1",children:"Sp xp"}),v.jsxs("ul",{className:"space-y-1",children:[v.jsx("li",{children:" Click vo tiu  ct  sp xp"}),v.jsx("li",{children:" Mc nh sp xp theo CRS gim dn"}),v.jsx("li",{children:" Click ln na  o chiu sp xp"})]})]})]})]})]})]}):v.jsx("div",{className:"text-center py-12",children:v.jsx("div",{className:"text-gray-500",children:"Khng c d liu  hin th"})})},Fie=({data:e,filteredTickers:t,onIndustryFilterChange:n,selectedIndustries:r})=>{const[i,a]=N.useState(null),{data:s}=If(),{data:o}=Lf(),l=N.useMemo(()=>{if(!(null==e?void 0:e.symbols)||!s||!o)return e;const t=function(e,t,n){return e&&t&&n?e.map(e=>{var r;const i=e.symbol||e.id,a=t[i],s=null==(r=null==a?void 0:a.industries)?void 0:r[0],o=null==s?void 0:s.custom_id,l=o?n[o]:null;return f(h({},e),{industry_name:(null==l?void 0:l.name)||"Unknown",industry_id:o||null,industry:l||null})}):e}(e.symbols,s,o);return t.length,f(h({},e),{symbols:t})},[e,s,o]),c=N.useMemo(()=>{if(!(null==l?void 0:l.symbols))return[];const e=new Map;return l.symbols.forEach(t=>{t.industry_name&&t.industry_id&&(e.has(t.industry_id)||e.set(t.industry_id,{id:t.industry_id,name:t.industry_name}))}),Array.from(e.values()).sort((e,t)=>e.name.localeCompare(t.name))},[l]);return N.useEffect(()=>{if(c.length>0&&0===r.length){const e=c.map(e=>e.id);n(e)}},[c,r.length,n]),v.jsxs("div",{className:"flex flex-col h-full",children:[v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Lc theo ngnh:"}),v.jsx(jie,{options:c.map(e=>({value:e.id,label:e.name})),value:r,onValueChange:e=>{n(e)},placeholder:"Chn ngnh...",className:"w-full"})]}),v.jsx("div",{className:"flex-grow",children:v.jsx(yne,{data:l,dataType:"ticker",filteredItems:t,title:"RS 21-Bar Heatmap - Tickers",showAdditionalColumns:!0,onItemClick:a,selectedItem:i,setSelectedItem:a})})]})},Bie=e=>e>=110?"bg-green-600":e>=105?"bg-green-500":e>=102?"bg-green-400":e>=98?"bg-gray-400":e>=95?"bg-red-400":e>=90?"bg-red-500":"bg-red-600",Wie=({analyticsData:e,timeframe:t})=>{const{companies:n,industries:r,essentialDataLoading:i}=N.useContext(Bne),{getTickerInfo:a}=Bf(n,r),{data:s,loading:o}=zf(t,"ticker"),l=r&&"object"==typeof r&&!Array.isArray(r)?Object.entries(r).map(([e,t])=>h({custom_id:e},t)):Array.isArray(r)?r:[],[c,u]=N.useState("rs_ratio"),[d,m]=N.useState(!1),[p,g]=N.useState([]),[x,y]=N.useState("all");k.useEffect(()=>{g([]),y("all")},[t]);const{symbols:b=[]}=e||{};k.useEffect(()=>{if("all"===x&&0===p.length&&l.length>0){const e=l.map(e=>e.custom_id);g(e)}},[x,l,p.length]);const _=N.useMemo(()=>b?b.map(e=>{var t,n,r,i,s,o;const l=Array.isArray(e.tail)&&e.tail.length>0?e.tail[e.tail.length-1]:{},c=a(e.symbol);return f(h({},e),{symbol:e.symbol,rs_close:null!=(n=null==(t=e.metrics)?void 0:t.current_rs)?n:null,rs_ratio:null!=(r=l.x)?r:null,rs_momentum:null!=(i=l.y)?i:null,crs:null!=(o=null==(s=e.metrics)?void 0:s.current_crs)?o:null,industry_id:(null==c?void 0:c.industry_id)||null,industry:(null==c?void 0:c.industry)||"Unknown"})}):[],[b,a]),w=N.useMemo(()=>x&&"all"!==x?"top20rs"===x?_.map(e=>f(h({},e),{latestRS:e.rs_ratio||0})).sort((e,t)=>t.latestRS-e.latestRS).slice(0,20):"bottom20rs"===x?_.map(e=>f(h({},e),{latestRS:e.rs_ratio||0})).sort((e,t)=>e.latestRS-t.latestRS).slice(0,20):"top20momentum"===x?_.map(e=>f(h({},e),{latestMomentum:e.rs_momentum||0})).sort((e,t)=>t.latestMomentum-e.latestMomentum).slice(0,20):"bottom20momentum"===x?_.map(e=>f(h({},e),{latestMomentum:e.rs_momentum||0})).sort((e,t)=>e.latestMomentum-t.latestMomentum).slice(0,20):[]:p.length>0?_.filter(e=>e.industries&&e.industries.some(e=>p.includes(e.custom_id))):_,[_,p,x]),j=(e,t)=>{switch(t){case"rs_close":return(n=e.rs_close)>=1.5?"bg-green-600":n>=1.2?"bg-green-500":n>=1.05?"bg-green-400":n>=.95?"bg-gray-400":n>=.8?"bg-red-400":n>=.7?"bg-red-500":"bg-red-600";case"rs_ratio":return Bie(e.rs_ratio);case"rs_momentum":return Bie(e.rs_momentum);case"crs":return(e=>e>=.15?"bg-green-600":e>=.08?"bg-green-500":e>=.03?"bg-green-400":e>=-.03?"bg-gray-400":e>=-.08?"bg-red-400":e>=-.15?"bg-red-500":"bg-red-600")(e.crs);default:return"bg-gray-400"}var n},S=(e,t)=>{var n,r,i,a;switch(t){case"rs_close":return(null==(n=e.rs_close)?void 0:n.toFixed(2))||"N/A";case"rs_ratio":return(null==(r=e.rs_ratio)?void 0:r.toFixed(1))||"N/A";case"rs_momentum":return(null==(i=e.rs_momentum)?void 0:i.toFixed(1))||"N/A";case"crs":return`${null==(a=100*e.crs)?void 0:a.toFixed(1)}%`||"N/A";default:return"N/A"}},C=N.useMemo(()=>[...w].sort((e,t)=>{const n=e[c]||-1/0;return(t[c]||-1/0)-n}),[w,c]),E={rs_close:{name:"RS Close",description:"Traditional relative strength vs VN-Index",neutral:"1.0",interpretation:"> 1.0 = Outperforming, < 1.0 = Underperforming"},rs_ratio:{name:"RS Ratio",description:"RRG-style relative strength ratio",neutral:"100.0",interpretation:"> 100 = Outperforming, < 100 = Underperforming"},rs_momentum:{name:"RS Momentum",description:"RRG momentum indicator",neutral:"100.0",interpretation:"> 100 = Positive momentum, < 100 = Negative momentum"},crs:{name:"CRS",description:"21-day cumulative relative strength",neutral:"0.0%",interpretation:"> 0% = Outperforming, < 0% = Underperforming"},rs_21bar:{name:"RS 21-Bar",description:"21-day RS heatmap for individual tickers",neutral:"50.0",interpretation:"Shows RS evolution over 21 days for each ticker with color-coded values"}};return e&&b&&0!==b.length&&!i?"rs_21bar"===c?v.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-gray-900 p-4",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-200",children:"Ticker Strength Heatmap"}),v.jsx("button",{onClick:()=>m(!d),className:"cursor-pointer p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:v.jsx(Ne,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),v.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:Object.entries(E).map(([e,t])=>v.jsxs("button",{onClick:()=>u(e),className:"cursor-pointer px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2 "+(c===e?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"),children:["rs_21bar"===e&&v.jsx(je,{className:"w-4 h-4"}),t.name]},e))}),v.jsx("div",{className:"flex-grow overflow-hidden",children:o?v.jsx("div",{className:"flex items-center justify-center h-full",children:v.jsx("p",{className:"text-gray-600",children:"ang ti d liu RS 21-Bar..."})}):s?v.jsx(Fie,{data:s,filteredTickers:C,onIndustryFilterChange:g,selectedIndustries:p}):v.jsx("div",{className:"flex items-center justify-center h-full",children:v.jsx("p",{className:"text-gray-600",children:"Khng c d liu RS 21-Bar"})})})]}):v.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-gray-900 p-4",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-200",children:"Ticker Strength Heatmap"}),v.jsx("button",{onClick:()=>m(!d),className:"cursor-pointer p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:v.jsx(Ne,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),v.jsxs("div",{className:"flex flex-col gap-4 mb-4",children:[v.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(E).map(([e,t])=>v.jsxs("button",{onClick:()=>u(e),className:"cursor-pointer px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2 "+(c===e?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"),children:["rs_21bar"===e&&v.jsx(je,{className:"w-4 h-4"}),t.name]},e))}),v.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Lc theo:"}),v.jsxs("select",{value:x,onChange:e=>y(e.target.value),className:"border rounded px-3 py-1 text-sm min-w-[200px] focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-black dark:text-white cursor-pointer",children:[v.jsx("option",{value:"all",children:"Theo ngnh"}),v.jsx("option",{value:"top20rs",children:"Top 20 RS Score"}),v.jsx("option",{value:"bottom20rs",children:"Bottom 20 RS Score"}),v.jsx("option",{value:"top20momentum",children:"Top 20 RS Momentum"}),v.jsx("option",{value:"bottom20momentum",children:"Bottom 20 RS Momentum"})]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Ngnh:"}),v.jsx(jie,{options:l.map(e=>({value:e.custom_id,label:e.name||e.custom_id||"Unknown"})),onValueChange:g,value:p,placeholder:"Chn ngnh",maxCount:3,variant:"default",disabled:"all"!==x}),v.jsxs("span",{className:"text-xs text-gray-500 min-w-[120px]",children:["(",l.length," ngnh, ",p.length,"  chn)"]})]})]})]}),d&&v.jsxs("div",{className:"mb-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[v.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-2",children:E[c].name}),v.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:E[c].description}),v.jsxs("div",{className:"text-sm",children:[v.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Neutral: "}),v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:E[c].neutral})]}),v.jsxs("div",{className:"text-sm",children:[v.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Interpretation: "}),v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:E[c].interpretation})]})]}),v.jsxs("div",{className:"flex items-center gap-4 mb-4 text-sm",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Strong"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-4 h-4 bg-gray-400 rounded"}),v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Neutral"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-4 h-4 bg-red-500 rounded"}),v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Weak"})]})]}),v.jsx("div",{className:"flex-grow overflow-hidden",children:v.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3 h-full overflow-y-auto",children:C.map((e,t)=>{return v.jsx("div",{className:`${j(e,c)} p-3 rounded-lg text-white shadow-lg transition-all hover:brightness-110 hover:shadow-2xl hover:ring-2 hover:ring-white/30 cursor-pointer`,title:`${e.symbol}: ${S(e,c)}`,children:v.jsxs("div",{className:"flex flex-col h-full justify-between",children:[v.jsxs("div",{className:"flex items-start justify-between mb-2",children:[v.jsx("span",{className:"text-xs font-semibold leading-tight truncate pr-1",children:e.symbol}),"rs_momentum"===c&&v.jsx("div",{className:"flex-shrink-0",children:(n=e.rs_momentum,n>102?v.jsx(Te,{className:"w-3 h-3"}):n<98?v.jsx(Ae,{className:"w-3 h-3"}):v.jsx(Se,{className:"w-3 h-3"}))})]}),v.jsxs("div",{className:"flex items-end justify-between",children:[v.jsx("span",{className:"text-lg font-bold",children:S(e,c)}),v.jsxs("span",{className:"text-xs opacity-75",children:["#",t+1]})]})]})},e.symbol);var n})})}),v.jsxs("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-4 gap-4 text-sm",children:[v.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[v.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Strong"}),v.jsx("div",{className:"text-lg font-bold text-green-600",children:C.filter(e=>j(e,c).includes("green")).length})]}),v.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[v.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Neutral"}),v.jsx("div",{className:"text-lg font-bold text-gray-600",children:C.filter(e=>j(e,c).includes("gray")).length})]}),v.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[v.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Weak"}),v.jsx("div",{className:"text-lg font-bold text-red-600",children:C.filter(e=>j(e,c).includes("red")).length})]}),v.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[v.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Total"}),v.jsx("div",{className:"text-lg font-bold text-gray-800 dark:text-gray-200",children:C.length})]})]})]}):v.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:v.jsx("div",{className:"text-center py-8",children:v.jsx("p",{className:"text-gray-600",children:"Khng c d liu c phiu  hin th"})})})},$ie=[{key:"ranking",label:" Xp hng & Phn tch"},{key:"rrg",label:"RRG C phiu"},{key:"heatmap",label:"Heatmap"}],Vie=()=>{const[e,t]=N.useState("ranking"),[n,r]=N.useState("1D"),{data:i,loading:a,error:s}=Df("RRG_ANALYSIS",n),{symbols:o}=i||{};null==i||i.insights;const{tickers:l}=N.useMemo(()=>o?{tickers:o.map(e=>{var t,n,r,i,a,s;const o=Array.isArray(e.tail)&&e.tail.length>0?e.tail[e.tail.length-1]:{};return f(h({},e),{symbol:e.symbol,rs_close:null!=(n=null==(t=e.metrics)?void 0:t.current_rs)?n:null,rs_ratio:null!=(r=o.x)?r:null,rs_momentum:null!=(i=o.y)?i:null,crs:null!=(s=null==(a=e.metrics)?void 0:a.current_crs)?s:null})})}:{tickers:[]},[o]);return a?v.jsx("div",{className:"space-y-6 p-4",children:v.jsxs("div",{className:"flex items-center justify-center py-12",children:[v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),v.jsx("span",{className:"ml-3 text-gray-600",children:"ang ti d liu phn tch c phiu..."})]})}):s?v.jsx("div",{className:"space-y-6 p-4",children:v.jsxs("div",{className:"text-center py-12",children:[v.jsx(AlertTriangle,{className:"mx-auto h-12 w-12 text-red-500"}),v.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Li ti d liu"}),v.jsx("p",{className:"mt-1 text-sm text-gray-500",children:s})]})}):v.jsxs("div",{className:"space-y-6 p-4",children:[v.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4 flex items-center",children:[v.jsx("span",{className:"text-gray-700 font-medium mr-4",children:"Khung thi gian:"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{className:"cursor-pointer px-4 py-1 rounded-full font-medium text-sm border transition-colors "+("1D"===n?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600 hover:bg-blue-50"),onClick:()=>r("1D"),children:"Hng ngy (1D)"}),v.jsx("button",{className:"cursor-pointer px-4 py-1 rounded-full font-medium text-sm border transition-colors "+("1W"===n?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600 hover:bg-blue-50"),onClick:()=>r("1W"),children:"Hng tun (1W)"})]})]}),v.jsx(Rie,{tabs:$ie,activeTab:e,onTabChange:t}),"ranking"===e&&v.jsx("div",{className:"space-y-6",children:v.jsx(zie,{timeframe:n,analyticsData:i},`ticker-rs-table-${n}`)}),"rrg"===e&&v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"mb-4 w-full",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Phn tch RRG c phiu"}),v.jsx("p",{className:"text-gray-600",children:"Hin th sc mnh tng i v ng lng ca cc c phiu. C phiu  gc Dn u ang vt tri vi ng lng tch cc."})]}),v.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6 w-full mb-6",children:v.jsx("div",{className:"w-full",children:v.jsx(Die,{type:"tickers",timeframe:n,analyticsData:i},`tickers-${n}`)})})]}),"heatmap"===e&&v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"mb-4 w-full",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Heatmap C phiu"}),v.jsx("p",{className:"text-gray-600",children:"Hin th sc mnh tng i ca cc c phiu theo cc ch s khc nhau. Mu xanh l th hin c phiu mnh, mu  th hin c phiu yu."})]}),v.jsx(Wie,{timeframe:n,analyticsData:i},`ticker-heatmap-${n}`)]})]})};function Kie({type:e="industries"}){var t,n,r;const[i,a]=N.useState("overview"),[s,o]=N.useState("1D"),{data:l,loading:c,error:u}=Rf(s);if(N.useEffect(()=>{},[s]),c)return v.jsxs("div",{className:"text-center py-8",children:[v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),v.jsx("p",{className:"mt-2 text-gray-600",children:"ang ti d liu RRG..."})]});if(u)return v.jsx("div",{className:"text-center py-8 text-red-500",children:v.jsxs("p",{children:["Li ti d liu RRG: ",u]})});const d=(null==l?void 0:l.insights)||{},h=(null==d?void 0:d.market_overview)||{},f=(null==(t=null==d?void 0:d.insights)?void 0:t.industries)||{},m=(null==(n=null==d?void 0:d.insights)?void 0:n.groups)||{},p=(null==(r=null==d?void 0:d.insights)?void 0:r.tickers)||{};null==d||d.advanced_analysis;const g=(null==d?void 0:d.investment_strategies)||{},x=(null==d?void 0:d.detailed_analysis)||{},y=(null==l?void 0:l.industries)||[],b=(null==l?void 0:l.groups)||[],_=(null==l?void 0:l.symbols)||[],w=e=>{a(e)},j=(e,t)=>e&&Array.isArray(e)&&0!==e.length?v.jsx("div",{className:"space-y-2",children:e.slice(0,5).map((e,t)=>{var n,r,i,a,s,o,l;return v.jsx("div",{className:"bg-white p-3 rounded border",children:v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsxs("div",{className:"flex-1",children:[v.jsxs("div",{className:"font-medium text-gray-900",children:[(null==e?void 0:e.name)||(null==e?void 0:e.custom_id)||(null==e?void 0:e.symbol)||"Unknown",(null==e?void 0:e.symbol)&&` (${e.symbol})`]}),v.jsx("div",{className:"text-xs text-gray-500",children:(null==e?void 0:e.primary_industry)||((null==e?void 0:e.industries)&&e.industries.length>0?(()=>{const t=e.industries.find(e=>e.is_primary),n=e.industries[0],r=(null==t?void 0:t.name)||(null==n?void 0:n.name);return"string"==typeof r?r:"Unknown Industry"})():"N/A")}),v.jsx("div",{className:"text-sm text-gray-600 mt-1",children:(null==e?void 0:e.speed_category)||(null==(n=null==e?void 0:e.speed_analysis)?void 0:n.speed_category)||"N/A"}),v.jsx("div",{className:`text-xs mt-1 ${nne((null==e?void 0:e.direction)||(null==(r=null==e?void 0:e.direction_analysis)?void 0:r.direction))}`,children:(null==e?void 0:e.direction)||(null==(i=null==e?void 0:e.direction_analysis)?void 0:i.direction)||"N/A"}),(null==e?void 0:e.description)&&v.jsx("div",{className:"text-xs text-gray-500 mt-1",children:e.description}),(null==e?void 0:e.money_flow)&&v.jsx("div",{className:"text-xs text-blue-600 mt-1",children:e.money_flow}),(null==e?void 0:e.performance_summary)&&v.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["RS Trend: ",e.performance_summary.rs_trend||"N/A"]})]}),v.jsxs("div",{className:"text-right ml-4",children:[v.jsx("div",{className:"text-sm font-medium text-purple-600",children:((null==e?void 0:e.weighted_speed)||(null==(a=null==e?void 0:e.speed_analysis)?void 0:a.weighted_speed)||0).toFixed(3)}),v.jsxs("div",{className:`text-xs mt-1 ${qte((null==e?void 0:e.risk_level)||(null==(s=null==e?void 0:e.risk_assessment)?void 0:s.risk_level))}`,children:[(null==e?void 0:e.risk_level)||(null==(o=null==e?void 0:e.risk_assessment)?void 0:o.risk_level)||"Unknown"," Risk"]}),v.jsx("div",{className:"text-xs text-gray-500 mt-1",children:(null==e?void 0:e.position_size)||(null==(l=null==e?void 0:e.risk_assessment)?void 0:l.suggested_position_size)||"N/A"}),(null==e?void 0:e.strength_score)&&v.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Score: ",e.strength_score.toFixed(2)]}),(null==e?void 0:e.acceleration)&&v.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Acc: ",e.acceleration.toFixed(2)]}),(null==e?void 0:e.rrg_position)&&v.jsx("div",{className:"text-xs text-blue-600 mt-1",children:e.rrg_position})]})]})},t)})}):null,[k,S]=N.useState("tickers"===e?"ticker":"industry"),C=()=>"tickers"===e?v.jsxs("div",{className:"bg-gray-50 rounded-lg border p-4 flex items-center space-x-4 mb-4",children:[v.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Phn tch c phiu:"}),v.jsx("div",{className:"text-sm text-gray-600",children:"Hin th xp hng v phn tch chi tit cho cc m chng khon"})]}):v.jsxs("div",{className:"bg-gray-50 rounded-lg border p-4 flex items-center space-x-4 mb-4",children:[v.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Hin th tng quan cho:"}),v.jsx("button",{className:"cursor-pointer px-4 py-1 rounded font-medium text-sm border "+("industry"===k?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600"),onClick:()=>S("industry"),children:"Ngnh ngh"}),v.jsx("button",{className:"cursor-pointer px-4 py-1 rounded font-medium text-sm border "+("group"===k?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600"),onClick:()=>S("group"),children:"Nhm vn ha"}),v.jsx("button",{className:"cursor-pointer px-4 py-1 rounded font-medium text-sm border "+("ticker"===k?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600"),onClick:()=>S("ticker"),children:"C phiu"})]});return v.jsxs("div",{className:"w-full space-y-6",children:[v.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:" th Xoay Tng i (RRG)"}),v.jsx("p",{className:"text-gray-600 mb-4",children:"Phn tch sc mnh tng i v ng lng ca cc ngnh v c phiu so vi VN-Index."}),v.jsxs("div",{className:"bg-gray-50 rounded-lg border p-4 flex items-center space-x-4 mb-4",children:[v.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Khung thi gian:"}),v.jsx("button",{className:"cursor-pointer px-4 py-1 rounded font-medium text-sm border "+("1D"===s?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600"),onClick:()=>{o("1D")},children:"Hng ngy (1D)"}),v.jsx("button",{className:"cursor-pointer px-4 py-1 rounded font-medium text-sm border "+("1W"===s?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600"),onClick:()=>{o("1W")},children:"Hng tun (1W)"})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm",children:[v.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[v.jsx("div",{className:"font-medium text-gray-700",children:"Ngy phn tch"}),v.jsx("div",{className:"text-gray-900",children:(null==l?void 0:l.analysis_date)?new Date(l.analysis_date).toLocaleDateString():(null==l?void 0:l.rrg_date)?new Date(l.rrg_date).toLocaleDateString():"N/A"})]}),v.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[v.jsx("div",{className:"font-medium text-gray-700",children:"Khung thi gian"}),v.jsx("div",{className:"text-gray-900",children:(null==l?void 0:l.timeframe)||s})]}),v.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[v.jsx("div",{className:"font-medium text-gray-700",children:"Tng s chui"}),v.jsx("div",{className:"text-gray-900",children:y.length+b.length+_.length})]}),v.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[v.jsx("div",{className:"font-medium text-gray-700",children:"Chi tit"}),v.jsxs("div",{className:"text-gray-900",children:[y.length," ngnh, ",b.length," nhm, ",_.length," c phiu"]})]})]})]}),v.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[v.jsx("div",{className:"border-b border-gray-200",children:v.jsxs("nav",{className:"-mb-px flex space-x-8 px-6",children:[v.jsx("button",{onClick:()=>w("overview"),className:"py-4 px-1 border-b-2 font-medium text-sm cursor-pointer "+("overview"===i?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Tng quan"}),"industries"===e?v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>w("chart-industries"),className:"py-4 px-1 border-b-2 font-medium text-sm cursor-pointer "+("chart-industries"===i?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Biu  RRG Ngnh"}),v.jsx("button",{onClick:()=>w("chart-groups"),className:"py-4 px-1 border-b-2 font-medium text-sm cursor-pointer "+("chart-groups"===i?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Biu  RRG Vn Ha"})]}):v.jsx("button",{onClick:()=>w("chart"),className:"py-4 px-1 border-b-2 font-medium text-sm cursor-pointer "+("chart"===i?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Biu  RRG"})]})}),v.jsxs("div",{className:"p-6",children:["overview"===i&&v.jsxs("div",{className:"space-y-6",children:[v.jsx(C,{}),"industry"===k?v.jsxs(v.Fragment,{children:[v.jsx(One,{analysisData:f,type:"industry",getQuadrantColor:tne,analyzeData:l},`industry-score-${s}`),v.jsx(Ane,{analysisData:f,type:"industry",renderInsightItems:j,rrgData:l,analyzeData:l},`industry-speed-${s}`),v.jsx(Xe,{marketOverview:h,getSentimentColor:Yte,breadth_detail:x.breadth_detail},`market-overview-industry-${s}`)]}):"group"===k?v.jsxs(v.Fragment,{children:[v.jsx(One,{analysisData:m,type:"group",getQuadrantColor:tne,analyzeData:l},`group-score-${s}`),v.jsx(Ane,{analysisData:m,type:"group",renderInsightItems:j,rrgData:l,investmentStrategies:g,analyzeData:l},`group-speed-${s}`),v.jsx(Xe,{marketOverview:h,getSentimentColor:Yte,breadth_detail:x.breadth_detail},`market-overview-group-${s}`)]}):v.jsxs(v.Fragment,{children:[v.jsx(One,{analysisData:p,type:"ticker",getQuadrantColor:tne,analyzeData:l},`ticker-score-${s}`),v.jsx(Ane,{analysisData:p,type:"ticker",renderInsightItems:j,rrgData:l,analyzeData:l},`ticker-speed-${s}`),v.jsx(Xe,{marketOverview:h,getSentimentColor:Yte,breadth_detail:x.breadth_detail},`market-overview-ticker-${s}`)]}),v.jsx(Fne,{detailedAnalysis:x},`detailed-analysis-${s}`)]}),"chart-industries"===i&&v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"mb-4 w-full",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Phn tch RRG ngnh ngh"}),v.jsx("p",{className:"text-gray-600",children:"Hin th sc mnh tng i v ng lng ca cc ngnh. Ngnh  gc Dn u ang vt tri vi ng lng tch cc."})]}),v.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6 w-full mb-6",children:v.jsx("div",{className:"w-full",children:c?v.jsxs("div",{className:"w-full p-8 text-center",children:[v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),v.jsx("div",{className:"text-gray-600 mt-2",children:"ang ti d liu RRG..."})]}):u?v.jsxs("div",{className:"w-full p-8 text-center",children:[v.jsx("div",{className:"text-red-600 text-lg font-medium",children:"Li ti d liu RRG"}),v.jsx("div",{className:"text-gray-600 mt-2",children:u.message})]}):v.jsx(Die,{type:"industries",timeframe:s,analyticsData:l},`industries-${s}`)})})]}),"chart-groups"===i&&v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"mb-4 w-full",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Phn tch RRG nhm vn ha"}),v.jsx("p",{className:"text-gray-600",children:"Hin th sc mnh tng i v ng lng ca cc nhm vn ha (VN30, VN100, VNMidCap, VNSmallCap). Nhm  gc Dn u ang vt tri vi ng lng tch cc."})]}),v.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6 w-full mb-6",children:v.jsx("div",{className:"w-full",children:c?v.jsxs("div",{className:"w-full p-8 text-center",children:[v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),v.jsx("div",{className:"text-gray-600 mt-2",children:"ang ti d liu RRG..."})]}):u?v.jsxs("div",{className:"w-full p-8 text-center",children:[v.jsx("div",{className:"text-red-600 text-lg font-medium",children:"Li ti d liu RRG"}),v.jsx("div",{className:"text-gray-600 mt-2",children:u.message})]}):v.jsx(Die,{type:"groups",timeframe:s,analyticsData:l},`groups-${s}`)})})]}),"chart"===i&&v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"mb-4 w-full",children:[v.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:["Phn tch RRG ","tickers"===e?"c phiu":"nhm vn ha"]}),v.jsx("p",{className:"text-gray-600",children:"tickers"===e?"Hin th sc mnh tng i v ng lng ca cc c phiu. S dng b lc ngnh  tp trung vo cc nhm c th v gim nhiu.":"Hin th sc mnh tng i v ng lng ca cc nhm vn ha (VN30, VN100, VNMidCap, VNSmallCap). Nhm  gc Dn u ang vt tri vi ng lng tch cc."})]}),v.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6 w-full mb-6",children:v.jsx("div",{className:"w-full",children:c?v.jsxs("div",{className:"w-full p-8 text-center",children:[v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),v.jsx("div",{className:"text-gray-600 mt-2",children:"ang ti d liu RRG..."})]}):u?v.jsxs("div",{className:"w-full p-8 text-center",children:[v.jsx("div",{className:"text-red-600 text-lg font-medium",children:"Li ti d liu RRG"}),v.jsx("div",{className:"text-gray-600 mt-2",children:u.message})]}):v.jsx(Die,{type:e,timeframe:s,analyticsData:l},`${e}-${s}`)})})]})]})]})]})}const Hie=()=>{var e,t,n,r;const[i,a]=N.useState(""),[s,o]=N.useState(null),[l,c]=N.useState(!1),u=N.useRef(null),{data:d,loading:h,error:f}=Df("industry_strength_time_series"),m=N.useMemo(()=>(null==d?void 0:d.industries)?d.industries.map(e=>e.industry):[],[d]);N.useEffect(()=>{m.length>0&&!i&&a(m[0])},[m,i]),N.useEffect(()=>{if(!i||!(null==d?void 0:d.industries))return;const e=d.industries.find(e=>e.industry===i);if(!e)return;c(!0);const t=e.data_points.map(e=>({x:new Date(e.date).getTime(),y:e.net_flow,strong_strength:e.smoothed_signals.strong_strength,medium_strength:e.smoothed_signals.medium_strength,early_strength:e.smoothed_signals.early_strength,strong_weakness:e.smoothed_signals.strong_weakness,medium_weakness:e.smoothed_signals.medium_weakness,early_weakness:e.smoothed_signals.early_weakness}));o(t),c(!1)},[i]),N.useEffect(()=>{if(s&&u.current)if("undefined"==typeof Highcharts){const e=document.createElement("script");e.src="https://code.highcharts.com/11.1/highcharts.js",e.onload=()=>p(),document.head.appendChild(e)}else p()},[s]);const p=()=>{if(!s||!u.current)return;const e={chart:{type:"line",height:400,style:{fontSize:"14px"}},title:{text:`Sc mnh ngnh: ${i}`,align:"center"},xAxis:{type:"datetime",labels:{formatter:function(){return Highcharts.dateFormat("%d/%m/%Y",this.value)}}},yAxis:{title:{text:"Net Flow"},plotLines:[{value:0,color:"#666",dashStyle:"shortdash",width:1,label:{text:"Neutral"}}]},tooltip:{shared:!0,useHTML:!0,formatter:function(){const e=this.points[0],t=e.point;return`\n                        <div style="font-size: 12px;">\n                            <strong>${Highcharts.dateFormat("%d/%m/%Y",e.x)}</strong><br/>\n                            <strong>Net Flow:</strong> ${t.y.toFixed(3)}<br/>\n                            <strong>Strong Strength:</strong> ${t.strong_strength.toFixed(3)}<br/>\n                            <strong>Medium Strength:</strong> ${t.medium_strength.toFixed(3)}<br/>\n                            <strong>Early Strength:</strong> ${t.early_strength.toFixed(3)}<br/>\n                            <strong>Strong Weakness:</strong> ${t.strong_weakness.toFixed(3)}<br/>\n                            <strong>Medium Weakness:</strong> ${t.medium_weakness.toFixed(3)}<br/>\n                            <strong>Early Weakness:</strong> ${t.early_weakness.toFixed(3)}\n                        </div>\n                    `}},legend:{enabled:!0,align:"center",verticalAlign:"bottom"},plotOptions:{line:{marker:{enabled:!1}}},series:[{name:"Net Flow",data:s.map(e=>[e.x,e.y]),color:"#3b82f6",lineWidth:3,zIndex:1},{name:"Strong Strength",data:s.map(e=>[e.x,e.strong_strength]),color:"#10b981",lineWidth:2,visible:!1},{name:"Medium Strength",data:s.map(e=>[e.x,e.medium_strength]),color:"#059669",lineWidth:2,visible:!1},{name:"Early Strength",data:s.map(e=>[e.x,e.early_strength]),color:"#047857",lineWidth:2,visible:!1},{name:"Strong Weakness",data:s.map(e=>[e.x,e.strong_weakness]),color:"#ef4444",lineWidth:2,visible:!1},{name:"Medium Weakness",data:s.map(e=>[e.x,e.medium_weakness]),color:"#dc2626",lineWidth:2,visible:!1},{name:"Early Weakness",data:s.map(e=>[e.x,e.early_weakness]),color:"#b91c1c",lineWidth:2,visible:!1}],credits:{enabled:!1}};Highcharts.chart(u.current,e)};return d?v.jsx(Ke,{children:v.jsxs("div",{className:"p-6",children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(re,{className:"h-5 w-5 text-blue-500"}),v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Biu  sc mnh ngnh"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(ne,{className:"h-4 w-4 text-gray-500"}),v.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:(null==(t=null==(e=d.metadata)?void 0:e.date_range)?void 0:t.start)&&(null==(r=null==(n=d.metadata)?void 0:n.date_range)?void 0:r.end)&&`${new Date(d.metadata.date_range.start).toLocaleDateString("vi-VN")} - ${new Date(d.metadata.date_range.end).toLocaleDateString("vi-VN")}`})]})]}),v.jsxs("div",{className:"mb-6",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Chn ngnh:"}),v.jsx("select",{value:i,onChange:e=>a(e.target.value),className:"w-full max-w-xs px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 cursor-pointer",children:m.map(e=>v.jsx("option",{value:e,children:e},e))})]}),v.jsxs("div",{className:"relative",children:[l&&v.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/80 dark:bg-gray-800/80 z-10",children:v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}),v.jsx("div",{ref:u,className:"w-full h-96"})]}),v.jsxs("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4 text-xs",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded"}),v.jsx("span",{children:"Net Flow"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"}),v.jsx("span",{children:"Strong Strength"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-3 h-3 bg-green-600 rounded"}),v.jsx("span",{children:"Medium Strength"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-3 h-3 bg-green-700 rounded"}),v.jsx("span",{children:"Early Strength"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-3 h-3 bg-red-500 rounded"}),v.jsx("span",{children:"Strong Weakness"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-3 h-3 bg-red-600 rounded"}),v.jsx("span",{children:"Medium Weakness"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-3 h-3 bg-red-700 rounded"}),v.jsx("span",{children:"Early Weakness"})]})]}),v.jsxs("div",{className:"mt-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[v.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Gii thch:"}),v.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[v.jsxs("li",{children:[" ",v.jsx("strong",{children:"Net Flow:"})," Ch s tng hp sc mnh/im yu ca ngnh"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"Strong Strength/Weakness:"})," Tn hiu mnh v sc mnh/im yu"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"Medium Strength/Weakness:"})," Tn hiu trung bnh v sc mnh/im yu"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"Early Strength/Weakness:"})," Tn hiu sm v sc mnh/im yu"]})]})]})]})}):v.jsx(Ke,{children:v.jsxs("div",{className:"text-center py-8",children:[v.jsx(G,{className:"mx-auto h-12 w-12 text-gray-400"}),v.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100",children:"Khng th ti d liu sc mnh ngnh"}),v.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Vui lng kim tra li file d liu"})]})})},Uie=({timeframe:e="1D"})=>{const[t,n]=N.useState("rrg"),{data:r,loading:i}=zf(e,"industry"),a=[{id:"rankings",name:"Xp hng & Phn tch",icon:re},{id:"rrg",name:"Phn tch RRG",icon:Te},{id:"heatmap",name:"RS 21-Bar Heatmap",icon:je},{id:"trends",name:"Xu hng sc mnh",icon:G}];return v.jsxs("div",{className:"space-y-6",children:[v.jsx("div",{className:"flex items-center justify-between",children:v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(re,{className:"h-6 w-6 text-blue-500"}),v.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Phn tch sc mnh tng i ngnh"})]})}),v.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:v.jsx("nav",{className:"-mb-px flex space-x-8",children:a.map(e=>{const r=e.icon;return v.jsxs("button",{onClick:()=>n(e.id),className:"flex items-center gap-2 py-2 px-1 border-b-2 font-medium text-sm cursor-pointer "+(t===e.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"),children:[v.jsx(r,{className:"h-4 w-4"}),e.name]},e.id)})})}),v.jsx("div",{className:"mt-6",children:(()=>{switch(t){case"rankings":return v.jsx(Une,{timeframe:e});case"rrg":return v.jsx(Kie,{type:"industries",timeframe:e});case"heatmap":return v.jsx(vne,{data:r});case"trends":return v.jsx(Hie,{});default:return null}})()})]})},Yie=()=>{const{data:e,loading:t,error:n}=Df("pe_ratio"),{data:r,loading:i,error:a}=Df("pb_ratio"),s=(null==e?void 0:e.data)||[],o=(null==r?void 0:r.data)||[],l=N.useMemo(()=>{const e=new Map(o.map(e=>[e.reportDate,e.pb]));return s.map(t=>({date:t.reportDate.slice(0,10),pe:t.pe,pb:e.get(t.reportDate)})).filter(e=>void 0!==e.pb)},[s,o]),c=N.useMemo(()=>l,[l]),u=N.useMemo(()=>{if(0===c.length)return null;const e=c[c.length-1],t=new Date(e.date),n=new Date(t);n.setFullYear(n.getFullYear()-1);const r=c.find(e=>new Date(e.date)>=n)||c[0],i=c.map(e=>e.pe).filter(e=>null!==e&&!isNaN(e)),a=c.map(e=>e.pb).filter(e=>null!==e&&!isNaN(e));return{current:{pe:e.pe,pb:e.pb,date:e.date},change:{pe:r?e.pe-r.pe:0,pb:r?e.pb-r.pb:0,oneYearAgoDate:null==r?void 0:r.date},range:{pe:{min:Math.min(...i),max:Math.max(...i)},pb:{min:Math.min(...a),max:Math.max(...a)}},average:{pe:i.reduce((e,t)=>e+t,0)/i.length,pb:a.reduce((e,t)=>e+t,0)/a.length}}},[c]);return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-2",children:"Bo co nh gi VN-Index"}),v.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Phn tch t l P/E v P/B ca VN-Index trong ton b d liu c sn"})]}),u&&v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[v.jsx(Ke,{children:v.jsxs("div",{className:"text-center",children:[v.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"P/E Hin ti"}),v.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:u.current.pe.toFixed(2)}),v.jsxs("p",{className:"text-sm "+(u.change.pe>=0?"text-green-500":"text-red-500"),children:[u.change.pe>=0?"+":"",u.change.pe.toFixed(2)," so vi 1 nm trc"]})]})}),v.jsx(Ke,{children:v.jsxs("div",{className:"text-center",children:[v.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"P/B Hin ti"}),v.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:u.current.pb.toFixed(2)}),v.jsxs("p",{className:"text-sm "+(u.change.pb>=0?"text-green-500":"text-red-500"),children:[u.change.pb>=0?"+":"",u.change.pb.toFixed(2)," so vi 1 nm trc"]})]})}),v.jsx(Ke,{children:v.jsxs("div",{className:"text-center",children:[v.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"P/E Trung bnh"}),v.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:u.average.pe.toFixed(2)}),v.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Khong: ",u.range.pe.min.toFixed(2)," - ",u.range.pe.max.toFixed(2)]})]})}),v.jsx(Ke,{children:v.jsxs("div",{className:"text-center",children:[v.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"P/B Trung bnh"}),v.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:u.average.pb.toFixed(2)}),v.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Khong: ",u.range.pb.min.toFixed(2)," - ",u.range.pb.max.toFixed(2)]})]})})]}),v.jsxs(Ke,{children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200 mb-4",children:"Biu  P/E v P/B VN-Index (Ton b d liu)"}),v.jsx("div",{className:"h-96",children:v.jsx(sF,{width:"100%",height:"100%",children:v.jsxs(kY,{data:c,margin:{top:10,right:30,left:0,bottom:10},children:[v.jsx(vK,{strokeDasharray:"3 3",stroke:"rgba(128, 128, 128, 0.2)"}),v.jsx(fU,{dataKey:"date",tick:{fill:"rgb(156 163 175)",fontSize:12},minTickGap:30,interval:"preserveStartEnd"}),v.jsx(_U,{yAxisId:"left",tick:{fill:"rgb(156 163 175)",fontSize:12},domain:["auto","auto"],label:{value:"P/E",angle:-90,position:"insideLeft",fill:"#22c55e"}}),v.jsx(_U,{yAxisId:"right",orientation:"right",tick:{fill:"rgb(156 163 175)",fontSize:12},domain:["auto","auto"],label:{value:"P/B",angle:90,position:"insideRight",fill:"#3b82f6"}}),v.jsx(Vz,{contentStyle:{backgroundColor:"rgba(31, 41, 55, 0.9)",border:"1px solid rgba(128, 128, 128, 0.2)",borderRadius:"0.5rem",color:"#fff"},formatter:(e,t)=>[e.toFixed(2),t],labelFormatter:e=>`Ngy: ${e}`}),v.jsx(Sj,{}),v.jsx(UK,{yAxisId:"left",type:"monotone",dataKey:"pe",stroke:"#22c55e",strokeWidth:2,dot:!1,name:"P/E"}),v.jsx(UK,{yAxisId:"right",type:"monotone",dataKey:"pb",stroke:"#3b82f6",strokeWidth:2,dot:!1,name:"P/B"})]})})})]}),v.jsxs(Ke,{children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200 mb-4",children:"Phn tch nh gi"}),v.jsxs("div",{className:"space-y-4 text-sm text-gray-600 dark:text-gray-400",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2",children:"P/E Ratio (T l Gi/Li nhun)"}),v.jsx("p",{children:"P/E ratio o lng mc  t  ca th trng. P/E cao thng cho thy th trng k vng tng trng li nhun cao, nhng cng c th bo hiu th trng qu nng."})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2",children:"P/B Ratio (T l Gi/Gi tr S sch)"}),v.jsx("p",{children:"P/B ratio so snh gi th trng vi gi tr s sch ca cng ty. P/B thp c th cho thy c phiu b nh gi thp, trong khi P/B cao c th phn nh ti sn v hnh hoc k vng tng trng."})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2",children:" ngha ca Biu "}),v.jsx("p",{children:"Biu  ny gip nh u t theo di xu hng nh gi ca th trng theo thi gian. S thay i trong P/E v P/B c th phn nh thay i trong k vng tng trng, li sut, hoc tm l th trng."})]})]})]})]})},qie=({title:e,icon:t,data:n,unit:r,valueKey:i="value",nameKey:a="id"})=>v.jsxs(Ke,{children:[v.jsxs("div",{className:"flex items-center mb-4",children:[t,v.jsx("h3",{className:"text-base font-semibold text-gray-700 dark:text-gray-200 ml-2",children:e})]}),v.jsx("ul",{className:"space-y-3",children:n.map(e=>v.jsxs("li",{className:"flex justify-between items-center text-sm",children:[v.jsx("span",{className:"font-semibold text-blue-600 dark:text-blue-400 truncate pr-2",children:e[a]}),v.jsxs("span",{className:"font-medium whitespace-nowrap "+(e[i]>=0?"text-green-500":"text-red-500"),children:[e[i]>0?"+":"",e[i].toFixed(2),r]})]},e.id))})]}),Gie=[{value:"VNINDEX",label:"VNINDEX",description:"Ch s tng hp ca th trng chng khon Vit Nam, phn nh xu hng chung ca ton b th trng."},{value:"VNINDEX_EW",label:"VNINDEX Equal Weight",description:"VNINDEX_EW l mt ch s ring ca TCCK, c tnh bng cch tnh trung bnh gi v khi lng ca cc c phiu c lng giao dch trung bnh trn 50000 n v 1 ngy trong 20 ngy. Ch s ny gip loi b s nh hng ca cc c phiu tr c vn ha ln lm mo m th trng."},{value:"VN30",label:"VN30",description:"Ch s ca 30 c phiu c vn ha th trng ln nht v thanh khon tt nht trn HOSE."},{value:"VN100",label:"VN100",description:"Ch s ca 100 c phiu c vn ha th trng ln nht v thanh khon tt trn HOSE."},{value:"VNALL",label:"VN All Share",description:"Ch s tng hp ca tt c c phiu nim yt trn HOSE v HNX."},{value:"VNMID",label:"VN Mid Cap",description:"Ch s ca cc c phiu c vn ha th trng trung bnh trn th trng chng khon Vit Nam."},{value:"VNSML",label:"VN Small Cap",description:"Ch s ca cc c phiu c vn ha th trng nh trn th trng chng khon Vit Nam."}],Xie=()=>{const e=N.useRef(null),t=N.useRef(null),n=N.useRef([]),[r,i]=N.useState(!0),[a,s]=N.useState(null),[o,l]=N.useState("VNINDEX_EW"),[c,u]=N.useState(null),[d,h]=N.useState(!1),[f,m]=N.useState(!1);return N.useEffect(()=>{if(!e.current)return;let n;function r(){e.current.clientWidth>0&&!t.current&&setTimeout(()=>{if(e.current.clientWidth>0&&!t.current)try{const n=af(e.current,{width:e.current.clientWidth,height:500,layout:{background:{color:"#fff"},textColor:"#222"},grid:{vertLines:{color:"#e5e7eb"},horzLines:{color:"#e5e7eb"}},crosshair:{mode:1},rightPriceScale:{borderColor:"#d1d5db"},timeScale:{borderColor:"#d1d5db",timeVisible:!0,secondsVisible:!1},overlayPriceScales:{borderColor:"#d1d5db"}});t.current=n,h(!0)}catch(n){h(!1)}},50)}return n=new window.ResizeObserver(()=>{r()}),n.observe(e.current),r(),()=>{if(n&&n.disconnect(),t.current){try{t.current.remove()}catch(e){}t.current=null,h(!1)}}},[o]),N.useEffect(()=>{if(!d||!c)return;const e=t.current;if(!e)return;n.current=[];const r=c.map(e=>{const t=new Date(e.Time).toISOString().slice(0,10),n=Number(e.Open),r=Number(e.High),i=Number(e.Low),a=Number(e.Close);return[n,r,i,a].some(e=>null==e||isNaN(e))?null:{time:t,open:n,high:r,low:i,close:a}}).filter(Boolean);if(r.length)try{const t=e.addSeries(yf,{upColor:"#26a69a",downColor:"#ef5350"},0);t.setData(r),n.current.push(t)}catch(a){}const i=c.map(e=>{const t=new Date(e.Time).toISOString().slice(0,10),n=Number(e.Volume);return null==n||isNaN(n)?null:{time:t,value:n}}).filter(Boolean);if(i.length)try{const t=e.addSeries(_f,{color:"#c792ea",priceFormat:{type:"volume"},scaleMargins:{top:.8,bottom:0}},1);t.setData(i),n.current.push(t)}catch(a){}try{e.timeScale().fitContent();const t=e.panes();t[0]&&t[0].setHeight(400),t[1]&&t[1].setHeight(150)}catch(a){}},[c,d]),N.useEffect(()=>{var e;e=o,g(null,null,function*(){try{i(!0),s(null);const t=yield Wf.loadTicker(e);u(t)}catch(Wae){s(`Khng th ti d liu ${e}`)}finally{i(!1)}})},[o]),a?v.jsx(Ke,{children:v.jsxs("div",{className:"p-6 text-center",children:[v.jsx("div",{className:"text-red-500 mb-2",children:""}),v.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Li ti d liu"}),v.jsx("p",{className:"text-gray-600",children:a})]})}):v.jsx(Ke,{children:v.jsxs("div",{className:"p-6",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsx("div",{className:"flex items-center gap-2",children:v.jsxs("div",{className:"flex-1",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:(()=>{const e=Gie.find(e=>e.value===o);return e?e.label:o})()}),v.jsx("button",{onClick:()=>m(!f),className:"cursor-pointer text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",title:"Hng dn c biu ",children:v.jsx(he,{className:"h-5 w-5"})})]}),v.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Biu  gi v khi lng giao dch"})]})}),v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("label",{htmlFor:"source-select",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Chn ch s:"}),v.jsx("select",{id:"source-select",value:o,onChange:e=>{l(e.target.value)},className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",disabled:r,children:Gie.map(e=>v.jsx("option",{value:e.value,children:e.label},e.value))})]}),r&&v.jsxs("div",{className:"flex items-center text-blue-500",children:[v.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500 mr-2"}),v.jsx("span",{className:"text-sm",children:"ang ti..."})]})]})]}),f&&v.jsx("div",{className:"mb-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:v.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300 space-y-3",children:[v.jsx("p",{className:"font-medium",children:"Biu  ny hin th gi v khi lng giao dch ca cc ch s th trng chng khon Vit Nam."}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-semibold mb-2",children:" ngha cc ch s"}),v.jsxs("div",{className:"space-y-2 text-xs",children:[v.jsxs("div",{children:[v.jsx("strong",{children:"VNINDEX:"})," Ch s tng hp ca th trng chng khon Vit Nam, phn nh xu hng chung ca ton b th trng."]}),v.jsxs("div",{children:[v.jsx("strong",{children:"VNINDEX_EW:"})," VNINDEX_EW l mt ch s ring ca TCCK, c tnh bng cch tnh trung bnh gi v khi lng ca cc c phiu c lng giao dch trung bnh trn 50000 n v 1 ngy trong 20 ngy. Ch s ny gip loi b s nh hng ca cc c phiu tr c vn ha ln lm mo m th trng."]}),v.jsxs("div",{children:[v.jsx("strong",{children:"VN30:"})," Ch s ca 30 c phiu c vn ha th trng ln nht v thanh khon tt nht trn HOSE."]}),v.jsxs("div",{children:[v.jsx("strong",{children:"VN100:"})," Ch s ca 100 c phiu c vn ha th trng ln nht v thanh khon tt trn HOSE."]}),v.jsxs("div",{children:[v.jsx("strong",{children:"VNALL (VNAllShare):"})," Ch s vn ha bao gm cc m c phiu c nim yt trn sn HOSE, tha mn 4 tiu ch bt buc:",v.jsxs("ul",{className:"mt-1 ml-4 space-y-1",children:[v.jsxs("li",{children:[v.jsx("strong",{children:"T cch:"})," C phiu hot ng bnh thng, nim yt ti thiu 6 thng (3 thng nu thuc top 5 vn ha)"]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Free-float:"})," Ti thiu 10% (5% nu thuc top 10 vn ha)"]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Thanh khon:"}),"  0.05%"]}),v.jsxs("li",{children:[v.jsx("strong",{children:"T trng vn ha:"})," Gii hn 10%"]})]})]}),v.jsxs("div",{children:[v.jsx("strong",{children:"VNMID:"})," Ch s ca cc c phiu c vn ha th trng trung bnh trn th trng chng khon Vit Nam."]}),v.jsxs("div",{children:[v.jsx("strong",{children:"VNSML:"})," Ch s ca cc c phiu c vn ha th trng nh trn th trng chng khon Vit Nam."]})]})]})]})}),v.jsx("div",{ref:e,className:"w-full",children:r&&v.jsx("div",{className:"flex items-center justify-center h-full",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-2"}),v.jsx("p",{className:"text-gray-600",children:"ang ti d liu..."})]})})})]})})},Qie=({turnover:e,volume:t})=>{var n;const[r,i]=N.useState(!1),[a,s]=N.useState(null),[o,l]=N.useState(!0),[c,u]=N.useState(!1),d=N.useRef(null),h=N.useRef([]),{data:f,loading:m,error:p,lastUpdated:g,refresh:x}=Df("analyze_breadth_4",null,[],{refreshInterval:3e5});if(N.useEffect(()=>{if(!a||!o)return;let e;function t(){a.clientWidth>0&&!d.current&&setTimeout(()=>{if(a.clientWidth>0&&!d.current)try{const e=af(a,{width:a.clientWidth,height:a.clientHeight,layout:{background:{color:"#fff"},textColor:"#222"},grid:{vertLines:{color:"#e5e7eb"},horzLines:{color:"#e5e7eb"}},crosshair:{mode:1},rightPriceScale:{borderColor:"#d1d5db"},timeScale:{borderColor:"#d1d5db",timeVisible:!0,secondsVisible:!1}});d.current=e,i(!0)}catch(e){i(!1)}},50)}return e=new window.ResizeObserver(()=>{t()}),e.observe(a),t(),()=>{if(e&&e.disconnect(),d.current){try{d.current.remove()}catch(t){}d.current=null,i(!1)}}},[a,o]),N.useEffect(()=>{if(!r||!f||!o)return;const e=d.current;if(e){if(e)try{h.current.forEach(t=>{t&&"function"==typeof t.remove&&e.removeSeries(t)}),h.current=[]}catch(t){h.current=[]}if(f.daily_data&&f.daily_data.length>0){const n=f.daily_data.map(e=>({time:e.date.slice(0,10),value:e.up_smoothed})).filter(e=>null!=e.value&&!isNaN(e.value)),r=f.daily_data.map(e=>({time:e.date.slice(0,10),value:e.down_smoothed})).filter(e=>null!=e.value&&!isNaN(e.value)),i=f.daily_data.map(e=>({time:e.date.slice(0,10),value:e.unchanged_count})).filter(e=>null!=e.value&&!isNaN(e.value));if(n.length)try{const t=e.addSeries(mf,{color:"#10b981",lineWidth:2,title:"Tng"},0);t.setData(n),h.current.push(t)}catch(t){}if(r.length)try{const t=e.addSeries(mf,{color:"#ef4444",lineWidth:2,title:"Gim"},0);t.setData(r),h.current.push(t)}catch(t){}if(i.length)try{const t=e.addSeries(mf,{color:"#6b7280",lineWidth:1,lineStyle:1,title:"ng"},0);t.setData(i),h.current.push(t)}catch(t){}}if(f.daily_data&&f.daily_data.length>0){const n=f.daily_data.map(e=>({time:e.date.slice(0,10),value:100*e.smoothed_ratio})).filter(e=>null!=e.value&&!isNaN(e.value));if(n.length)try{const t=e.addSeries(mf,{color:"#3b82f6",lineWidth:3,title:"T l Tng/Gim (%)"},1);t.setData(n),h.current.push(t)}catch(t){}}try{e.timeScale().fitContent();const t=e.panes();t[0]&&t[0].setHeight(300),t[1]&&t[1].setHeight(150)}catch(t){}}},[f,r,o]),m)return v.jsx(Ke,{children:v.jsxs("div",{className:"animate-pulse",children:[v.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-3"}),v.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded mb-3"}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/4"}),v.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/4"}),v.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/4"})]})]})});if(p)return v.jsx(Ke,{children:v.jsxs("div",{className:"text-center py-6",children:[v.jsx(ue,{className:"w-8 h-8 text-red-500 mx-auto mb-2"}),v.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-200 mb-1",children:"Li ti d liu"}),v.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:p}),v.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"S dng nt ti li ton cc  header  th li"})]})});if(!(null==(n=null==f?void 0:f.daily_data)?void 0:n.length))return v.jsx(Ke,{children:v.jsx("div",{className:"text-center py-6",children:v.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Khng c d liu  rng th trng"})})});const y=f.daily_data[f.daily_data.length-1],{up_count:b,down_count:_,unchanged_count:w,total_count:j,ratio:k}=y,S=(()=>{var e;if(!(null==(e=null==f?void 0:f.daily_data)?void 0:e.length))return null;const t=f.daily_data[f.daily_data.length-1],n=f.daily_data[f.daily_data.length-2];return{current:t,upChange:n?t.up_count-n.up_count:0,downChange:n?t.down_count-n.down_count:0,ratioChange:n?100*(t.ratio-n.ratio):0}})(),C=(()=>{if(!(null==f?void 0:f.summary))return null;const{averages:e,extremes:t,most_bullish_day:n,most_bearish_day:r}=f.summary;return{averages:e,extremes:t,most_bullish_day:n,most_bearish_day:r}})(),E=b/j*100,P=_/j*100,M=w/j*100,O=(A=k)>.6?{sentiment:"bullish",color:"text-green-500",bg:"bg-green-100 dark:bg-green-900"}:A<.4?{sentiment:"bearish",color:"text-red-500",bg:"bg-red-100 dark:bg-red-900"}:{sentiment:"neutral",color:"text-yellow-500",bg:"bg-yellow-100 dark:bg-yellow-900"};var A;return v.jsxs(Ke,{children:[v.jsxs("div",{className:"flex items-center justify-between mb-3",children:[v.jsx("h3",{className:"text-base font-semibold text-gray-700 dark:text-gray-200",children:" rng th trng"}),v.jsx("button",{onClick:()=>u(!c),className:"p-1 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors cursor-pointer",title:"Hng dn c biu ",children:c?v.jsx(ce,{className:"w-4 h-4"}):v.jsx(he,{className:"w-4 h-4"})})]}),c&&v.jsx("div",{className:"mb-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:v.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300 space-y-3",children:[v.jsx("p",{className:"font-medium",children:"Biu  ny ging nh nhit k o sc khe ton th trng chng khon mi ngy. N khng ch nhn vo ch s VN-Index, m nhn rng hn  c bao nhiu m tng, bao nhiu m gim, v bao nhiu m ng yn."}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-semibold mb-2",children:" Cch c biu "}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{children:[v.jsx("span",{className:"text-green-600 font-medium",children:" M Tng (mu xanh l):"})," L s lng c phiu tng gi trong ngy."]}),v.jsxs("div",{children:[v.jsx("span",{className:"text-red-600 font-medium",children:" M Gim (mu ):"})," L s c phiu gim gi."]}),v.jsxs("div",{children:[v.jsx("span",{className:"text-gray-600 font-medium",children:" M ng yn (mu xm):"})," Khng tng khng gim."]}),v.jsxs("div",{children:[v.jsx("span",{className:"text-blue-600 font-medium",children:" T l Tng/(Tng + Gim)  Dng mu xanh dng:"})," y l ch bo chnh cho thy tm l th trng:"]}),v.jsxs("div",{className:"ml-4 space-y-1",children:[v.jsx("div",{children:" Nu > 60%: Th trng nghing v tch cc"}),v.jsx("div",{children:" Nu < 40%: Th trng nghing v tiu cc"})]})]})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-semibold mb-2",children:" Thng k b sung"}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{children:[v.jsx("span",{className:"font-medium",children:" Trung bnh lch s:"}),' Thng dao ng quanh 50% - ngha l th trng thng "cn bng" gia tng v gim.']}),v.jsxs("div",{children:[v.jsx("span",{className:"font-medium",children:" Ngy tch cc nht:"})," C th dng  so snh vi nh cao nht trong lch s - khi t l tng t gn 100%, ngha l gn nh ton th trng bt mnh."]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-medium",children:" Ngy tiu cc nht:"}),' C th dng  so snh vi y thp nht - khi t l tng ch cn di 5%, ngha l ton th trng "ri t do".']})]})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-semibold mb-2",children:" ng dng thc t"}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{children:[v.jsx("span",{className:"font-medium",children:"Nh u t ngn hn:"}),' C th dng  o "tm l th trng" hm nay mnh hay yu  quyt nh mua bn linh hot.']}),v.jsxs("div",{children:[v.jsx("span",{className:"font-medium",children:"Nh u t di hn:"})," Dng  xc nhn xu hng ln  v d nu t l tng trn 60% lin tc nhiu ngy, th trng c th ang bc vo sng tng."]})]})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-semibold mb-2",children:" Gi  n gin  s dng"}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("div",{children:" Khi t l > 70% nhiu ngy lin tc  th trng ang khe (c th nm gi hoc canh mua)"}),v.jsx("div",{children:" Khi t l < 30%  th trng yu  nn cn trng hoc h t trng"}),v.jsx("div",{children:" Nu t l dao ng quanh 50%  th trng cha r xu hng, cn theo di thm"})]})]})]})}),v.jsxs("div",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium mb-3 ${O.bg} ${O.color}`,children:["bullish"===O.sentiment&&v.jsx(J,{className:"w-3 h-3 mr-1"}),"bearish"===O.sentiment&&v.jsx(Q,{className:"w-3 h-3 mr-1"}),"neutral"===O.sentiment&&v.jsx(Se,{className:"w-3 h-3 mr-1"}),"bullish"===O.sentiment?"Tch cc":"bearish"===O.sentiment?"Tiu cc":"Trung tnh",v.jsxs("span",{className:"ml-1",children:["(",(100*k).toFixed(1),"%)"]})]}),v.jsxs("div",{className:"w-full flex h-2 rounded-full overflow-hidden mb-3",children:[v.jsx("div",{style:{width:`${E}%`},className:"bg-green-500"}),v.jsx("div",{style:{width:`${P}%`},className:"bg-red-500"}),v.jsx("div",{style:{width:`${M}%`},className:"bg-gray-400 dark:bg-gray-500"})]}),v.jsxs("div",{className:"flex justify-between text-xs font-medium text-gray-500 dark:text-gray-400 flex-wrap gap-2 mb-3",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx(J,{size:14,className:"text-green-500 mr-1"}),"Tng: ",v.jsx("span",{className:"text-gray-800 dark:text-gray-200 font-semibold ml-1",children:b})]}),v.jsxs("div",{className:"flex items-center",children:[v.jsx(Se,{size:14,className:"text-gray-400 mr-1"}),"ng: ",v.jsx("span",{className:"text-gray-800 dark:text-gray-200 font-semibold ml-1",children:w})]}),v.jsxs("div",{className:"flex items-center",children:[v.jsx(Q,{size:14,className:"text-red-500 mr-1"}),"Gim: ",v.jsx("span",{className:"text-gray-800 dark:text-gray-200 font-semibold ml-1",children:_})]})]}),v.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[v.jsx("div",{className:"flex-1 min-w-0",children:o&&v.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[S&&v.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[v.jsxs("div",{className:"text-center p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[v.jsxs("div",{className:"flex items-center justify-center mb-1",children:[v.jsx(Te,{className:"w-4 h-4 text-green-500 mr-1"}),v.jsx("h5",{className:"text-xs font-medium text-green-700 dark:text-green-300",children:"Tng"})]}),v.jsx("p",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:S.current.up_count}),0!==S.upChange&&v.jsxs("p",{className:"text-xs "+(S.upChange>0?"text-green-500":"text-red-500"),children:[S.upChange>0?"+":"",S.upChange]})]}),v.jsxs("div",{className:"text-center p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[v.jsxs("div",{className:"flex items-center justify-center mb-1",children:[v.jsx(Ae,{className:"w-4 h-4 text-red-500 mr-1"}),v.jsx("h5",{className:"text-xs font-medium text-red-700 dark:text-red-300",children:"Gim"})]}),v.jsx("p",{className:"text-lg font-bold text-red-600 dark:text-red-400",children:S.current.down_count}),0!==S.downChange&&v.jsxs("p",{className:"text-xs "+(S.downChange<0?"text-green-500":"text-red-500"),children:[S.downChange>0?"+":"",S.downChange]})]}),v.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-900/20 rounded-lg",children:[v.jsxs("div",{className:"flex items-center justify-center mb-1",children:[v.jsx(Se,{className:"w-4 h-4 text-gray-500 mr-1"}),v.jsx("h5",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"ng"})]}),v.jsx("p",{className:"text-lg font-bold text-gray-600 dark:text-gray-400",children:S.current.unchanged_count})]}),v.jsxs("div",{className:"text-center p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[v.jsxs("div",{className:"flex items-center justify-center mb-1",children:[v.jsx(Ne,{className:"w-4 h-4 text-blue-500 mr-1"}),v.jsx("h5",{className:"text-xs font-medium text-blue-700 dark:text-blue-300",children:"T l"})]}),v.jsxs("p",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:[(100*S.current.ratio).toFixed(1),"%"]}),0!==S.ratioChange&&v.jsxs("p",{className:"text-xs "+(S.ratioChange>0?"text-green-500":"text-red-500"),children:[S.ratioChange>0?"+":"",S.ratioChange.toFixed(1),"%"]})]})]}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{ref:s,className:"border rounded",style:{width:"100%",background:"#fff",minHeight:"450px"}}),!r&&v.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-white/70 z-10",children:[v.jsx("div",{className:"animate-spin h-6 w-6 border-b-2 border-blue-500 rounded-full"}),v.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"ang ti biu ..."})]})]}),v.jsxs("div",{className:"flex justify-center gap-4 mt-3 text-xs",children:[v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx("span",{className:"inline-block w-3 h-3 bg-green-500 rounded-full"}),"Tng"]}),v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx("span",{className:"inline-block w-3 h-3 bg-red-500 rounded-full"}),"Gim"]}),v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx("span",{className:"inline-block w-3 h-3 bg-gray-500 rounded-full"}),"ng"]}),v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx("span",{className:"inline-block w-3 h-3 bg-blue-500 rounded-full"}),"T l (%)"]})]})]})}),v.jsx("div",{className:"lg:w-[600px] flex-shrink-0",children:v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/20 rounded-lg p-3",children:[v.jsx("h5",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Thng tin d liu"}),v.jsxs("div",{className:"space-y-2 text-xs",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tng ngy:"}),v.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:f.metadata.total_trading_days})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"T:"}),v.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:new Date(f.metadata.date_range.start).toLocaleDateString("vi-VN")})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"n:"}),v.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:new Date(f.metadata.date_range.end).toLocaleDateString("vi-VN")})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Cp nht:"}),v.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:new Date(f.metadata.analysis_date).toLocaleDateString("vi-VN")})]})]})]}),C&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3",children:[v.jsx("h5",{className:"text-xs font-medium text-blue-700 dark:text-blue-300 mb-2",children:"Trung bnh lch s"}),v.jsxs("div",{className:"space-y-1 text-xs",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tng:"}),v.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:C.averages.up_count.toFixed(0)})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Gim:"}),v.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:C.averages.down_count.toFixed(0)})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"ng:"}),v.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:C.averages.unchanged_count.toFixed(0)})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"T l:"}),v.jsxs("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:[(100*C.averages.ratio).toFixed(1),"%"]})]})]})]}),v.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-3",children:[v.jsx("h5",{className:"text-xs font-medium text-orange-700 dark:text-orange-300 mb-2",children:"Cc tr lch s"}),v.jsxs("div",{className:"space-y-1 text-xs",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tng cao nht:"}),v.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:C.extremes.max_up_count})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Gim cao nht:"}),v.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:C.extremes.max_down_count})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"T l cao nht:"}),v.jsxs("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:[(100*C.extremes.max_ratio).toFixed(1),"%"]})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"T l thp nht:"}),v.jsxs("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:[(100*C.extremes.min_ratio).toFixed(1),"%"]})]})]})]}),v.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-3",children:[v.jsx("h5",{className:"text-xs font-medium text-green-700 dark:text-green-300 mb-2",children:"Ngy tch cc nht"}),v.jsxs("div",{className:"space-y-1 text-xs",children:[v.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:new Date(C.most_bullish_day.date).toLocaleDateString("vi-VN")}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tng:"}),v.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:C.most_bullish_day.up_count})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Gim:"}),v.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:C.most_bullish_day.down_count})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"T l:"}),v.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:[(100*C.most_bullish_day.ratio).toFixed(1),"%"]})]})]})]}),v.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-3",children:[v.jsx("h5",{className:"text-xs font-medium text-red-700 dark:text-red-300 mb-2",children:"Ngy tiu cc nht"}),v.jsxs("div",{className:"space-y-1 text-xs",children:[v.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:new Date(C.most_bearish_day.date).toLocaleDateString("vi-VN")}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tng:"}),v.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:C.most_bearish_day.up_count})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Gim:"}),v.jsx("span",{className:"font-semibold text-red-600 dark:text-red-400",children:C.most_bearish_day.down_count})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"T l:"}),v.jsxs("span",{className:"font-semibold text-red-600 dark:text-red-400",children:[(100*C.most_bearish_day.ratio).toFixed(1),"%"]})]})]})]}),v.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-3",children:[v.jsx("h5",{className:"text-xs font-medium text-purple-700 dark:text-purple-300 mb-2",children:"So snh hin ti"}),v.jsxs("div",{className:"space-y-2 text-xs",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tng vs TB:"}),v.jsxs("span",{className:"font-semibold "+(b>C.averages.up_count?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:[b>C.averages.up_count?"+":"",(b-C.averages.up_count).toFixed(0)]})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Gim vs TB:"}),v.jsxs("span",{className:"font-semibold "+(_<C.averages.down_count?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:[_<C.averages.down_count?"-":"+",(_-C.averages.down_count).toFixed(0)]})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"T l vs TB:"}),v.jsxs("span",{className:"font-semibold "+(k>C.averages.ratio?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:[k>C.averages.ratio?"+":"",(100*(k-C.averages.ratio)).toFixed(1),"%"]})]})]})]}),v.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 rounded-lg p-3",children:[v.jsx("h5",{className:"text-xs font-medium text-indigo-700 dark:text-indigo-300 mb-2",children:"Phn v th trng"}),v.jsxs("div",{className:"space-y-2 text-xs",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"T l hin ti:"}),v.jsxs("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:[(100*k).toFixed(1),"%"]})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"So vi lch s:"}),v.jsx("span",{className:"font-semibold "+(k>.6?"text-green-600 dark:text-green-400":k<.4?"text-red-600 dark:text-red-400":"text-yellow-600 dark:text-yellow-400"),children:k>.6?"Cao":k<.4?"Thp":"Trung bnh"})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Khong:"}),v.jsxs("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:[(100*C.extremes.min_ratio).toFixed(1),"% - ",(100*C.extremes.max_ratio).toFixed(1),"%"]})]})]})]})]})]})})]})]})},Zie=({title:e,icon:t,children:n,gradientColors:r,className:i=""})=>{const a=(null==r?void 0:r.from)||"from-gray-50",s=(null==r?void 0:r.to)||"to-gray-100",o=(null==r?void 0:r.darkFrom)||"dark:from-gray-800/50",l=(null==r?void 0:r.darkTo)||"dark:to-gray-900/50";return v.jsxs("div",{className:`p-4 h-full rounded-lg bg-gradient-to-r ${a} ${s} ${o} ${l} ${i}`,children:[e&&v.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t,v.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:e})]}),v.jsx("div",{className:"space-y-2",children:n})]})},Jie=({tabName:e,activeTab:t,setActiveTab:n,children:r})=>v.jsx("button",{onClick:()=>n(e),className:"cursor-pointer px-3 py-2 font-medium text-sm transition-colors focus:outline-none "+(t===e?"border-b-2 border-blue-600 text-blue-600 dark:text-blue-500":"border-b-2 border-transparent text-gray-500 hover:text-gray-800 dark:hover:text-gray-200"),children:r}),eae=({label:e,value:t,children:n,className:r=""})=>v.jsxs("div",{className:`flex items-start justify-between text-sm ${r}`,children:[v.jsxs("span",{className:"font-semibold text-gray-500 dark:text-gray-400 whitespace-nowrap mr-2",children:[e,":"]}),t&&v.jsx("span",{className:"text-gray-800 dark:text-gray-200 text-right",children:t}),n&&v.jsx("div",{className:"font-semibold text-right",children:n})]}),tae=({strength:e,value:t,direction:n})=>v.jsxs("div",{className:"flex items-center gap-2",children:[(e=>{switch(null==e?void 0:e.toLowerCase()){case"tch cc":return v.jsx(Te,{className:"h-3 w-3 text-green-600"});case"tiu cc":return v.jsx(Ae,{className:"h-3 w-3 text-red-600"});default:return v.jsx(G,{className:"h-3 w-3 text-gray-600"})}})(n),v.jsx("span",{className:`text-xs font-medium ${(e=>{switch(null==e?void 0:e.toLowerCase()){case"rt mnh":return"text-red-600 dark:text-red-400";case"mnh":return"text-orange-600 dark:text-orange-400";case"va phi":return"text-yellow-600 dark:text-yellow-400";case"yu":return"text-blue-600 dark:text-blue-400";default:return"text-gray-600 dark:text-gray-400"}})(e)}`,children:e}),null!=t&&v.jsxs("span",{className:"text-xs text-gray-500",children:["(",t.toFixed(2),")"]})]}),nae=()=>{var e,t,n,r,i,a,s,o,l,c,u,d,h,f,m,p,g,x,y,b,_,w,j,k,S,C,E,P,M,O,A,T,D,R,I,L,z,F,B,W,$,V,K,H,U,Y,q,X,Q,Z,J,ee,te,ne,ie,ae,se,oe,le,ce,de,fe;const[me,pe]=N.useState(!1),[ge,xe]=N.useState(["VN30","VN100","VNALL","VNMID","VNSML"]),[ye,ve]=N.useState("line"),[_e,we]=N.useState(new Set),[je,Ne]=N.useState("summary"),[ke,Se]=N.useState(""),{data:Ce,loading:Pe,error:Me,lastUpdated:De,refresh:Re}=Df("analyze_groups_mfi",null,[],{refreshInterval:3e5}),{vietnamese_insights:Ie}=Ce||{};N.useEffect(()=>{const e=()=>{var e;if(!(null==(e=null==Ie?void 0:Ie.metadata)?void 0:e.analysis_timestamp))return;const t=new Date(Ie.metadata.analysis_timestamp),n=new Date,r=Math.round((n-t)/1e3),i=Math.round(r/60),a=Math.round(i/60);Se(r<60?"vi giy trc":i<60?`${i} pht trc`:a<24?`${a} gi trc`:t.toLocaleDateString("vi-VN"))};e();const t=setInterval(e,6e4);return()=>clearInterval(t)},[null==(e=null==Ie?void 0:Ie.metadata)?void 0:e.analysis_timestamp]);const Le=(()=>{if(!Ce||!Ce.indices)return[];const e=new Set;return Ce.indices.forEach(t=>{t.mfi_data.forEach(t=>{null!==t.mfi&&e.add(t.date)})}),Array.from(e).sort().map(e=>{const t={date:e};return Ce.indices.forEach(n=>{const r=n.mfi_data.find(t=>t.date===e);r&&null!==r.mfi&&(t[n.symbol]=r.mfi)}),t}).slice(-200)})(),ze=({active:e,payload:t,label:n})=>e&&t&&t.length?v.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg",children:[v.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:new Date(n).toLocaleDateString("vi-VN")}),v.jsx("div",{className:"space-y-1",children:t.map((e,t)=>{var n;return v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:e.color}}),v.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.name,": ",null==(n=e.value)?void 0:n.toFixed(2)]})]},t)})})]}):null,Fe=({payload:e})=>v.jsx("div",{className:"flex flex-wrap justify-center gap-4 mt-4",children:e.map((e,t)=>{const n=_e.has(e.value);return v.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>(e=>{we(t=>{const n=new Set(t);return n.has(e.value)?n.delete(e.value):n.add(e.value),n})})(e),children:[v.jsx("div",{className:"w-4 h-4 rounded "+(n?"opacity-40":""),style:{backgroundColor:e.color}}),v.jsx("span",{className:"text-sm "+(n?"text-gray-400 line-through":"text-gray-700 dark:text-gray-300"),children:e.value})]},t)})}),We=(()=>{if(!Ce||!Ce.indices)return{};const e={};return Ce.indices.forEach(t=>{const n=t.mfi_data.filter(e=>null!==e.mfi);if(0===n.length)return;const r=n[n.length-1],i=n[n.length-2];if(!r||!i)return;const a=n.map(e=>e.mfi).filter(e=>null!==e),s=a.reduce((e,t)=>e+t,0)/a.length;e[t.symbol]={name:t.name,current:r.mfi,change:r.mfi-i.mfi,trend:r.mfi>i.mfi?"up":"down",signal:r.signal,avgMFI:s,minMFI:Math.min(...a),maxMFI:Math.max(...a),overboughtDays:n.filter(e=>e.mfi>80).length,oversoldDays:n.filter(e=>e.mfi<20).length,totalDays:n.length}}),e})(),$e=(()=>{if(!We||0===Object.keys(We).length)return"neutral";const e=Object.values(We).map(e=>e.current),t=e.reduce((e,t)=>e+t,0)/e.length;return t>70?"overbought":t<30?"oversold":t>60?"bullish":t<40?"bearish":"neutral"})(),Ve=e=>{switch(e){case"buy":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300";case"sell":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}};return Pe?v.jsx(Ke,{children:v.jsxs("div",{className:"flex items-center justify-center p-8",children:[v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),v.jsx("span",{className:"ml-2 text-gray-600",children:"ang ti d liu MFI..."})]})}):Me?v.jsx(Ke,{children:v.jsxs("div",{className:"text-center text-red-600 p-8",children:[v.jsx(ue,{className:"h-8 w-8 mx-auto mb-2"}),v.jsxs("p",{children:["Li khi ti d liu MFI: ",Me]}),v.jsx("button",{onClick:Re,className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Th li"})]})}):Ce&&Ce.indices&&0!==Le.length?v.jsxs(Ke,{children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Phn tch Money Flow Index (MFI)"}),v.jsx("button",{onClick:()=>pe(!me),className:"cursor-pointer text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:v.jsx(he,{className:"h-4 w-4"})})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("button",{onClick:()=>ve("line"===ye?"area":"line"),className:"cursor-pointer p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",title:"line"===ye?"Chuyn sang biu  vng":"Chuyn sang biu  ng",children:v.jsx(re,{className:"h-4 w-4"})}),_e.size>0&&v.jsxs("span",{className:"text-xs text-gray-500",children:[_e.size," ng b n"]}),v.jsx("button",{onClick:()=>we(new Set),className:"cursor-pointer px-3 py-1 text-xs bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300 rounded hover:bg-blue-200 dark:hover:bg-blue-900/30 transition-colors",title:"Hin th tt c ng",children:"Hin th tt c"})]})]}),me&&v.jsxs("div",{className:"mb-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[v.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Gii thch Money Flow Index (MFI):"}),v.jsxs("ul",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[v.jsxs("li",{children:[v.jsx("strong",{children:"MFI l g:"})," Ch s dng tin (Money Flow Index) kt hp gi v khi lng  xc nh iu kin qu mua/qu bn"]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Thang o:"})," T 0 n 100, vi 50 l mc trung bnh"]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Qu mua (Overbought):"})," MFI > 80 - c th bo hiu xu hng gim"]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Qu bn (Oversold):"})," MFI < 20 - c th bo hiu xu hng tng"]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Vng trung tnh:"})," 20-80 - th trng cn bng"]}),v.jsxs("li",{children:[v.jsx("strong",{children:" ngha:"})," MFI cao vi khi lng ln thng bo hiu nh, MFI thp vi khi lng ln thng bo hiu y"]}),v.jsxs("li",{children:[v.jsx("strong",{children:" ngha so snh:"})," Vic so snh cc ch s vn ha gip theo di s dch chuyn ca dng tin trong th trng"]})]}),v.jsxs("div",{className:"mt-4 pt-4 border-t border-blue-200 dark:border-blue-700",children:[v.jsx("h5",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"V VNAllShare Index:"}),v.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 mb-2",children:"VNAllShare l ch s vn ha bao gm cc m c phiu c nim yt trn sn HOSE, tha mn 4 tiu ch bt buc:"}),v.jsxs("ul",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1 ml-4",children:[v.jsxs("li",{children:[v.jsx("strong",{children:"T cch:"})," C phiu hot ng bnh thng, nim yt ti thiu 6 thng (3 thng cho top 5 vn ha)"]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Free-float:"})," Ti thiu 10% (5% cho top 10 vn ha)"]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Thanh khon:"}),"  0.05%"]}),v.jsxs("li",{children:[v.jsx("strong",{children:"T trng vn ha:"})," Gii hn 10%"]})]})]})]}),Ie&&v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[v.jsxs(Zie,{title:"Tn hiu Tng th",icon:v.jsx(Be,{size:16,className:"text-yellow-500"}),children:[v.jsx(eae,{label:"Hng",value:null==(n=null==(t=Ie.signal_coordination)?void 0:t.overall_signal)?void 0:n.direction}),v.jsx(eae,{label:"Cng ",value:null==(i=null==(r=Ie.signal_coordination)?void 0:r.overall_signal)?void 0:i.strength}),v.jsx(eae,{label:" tin cy",value:`${(100*(null==(s=null==(a=Ie.signal_coordination)?void 0:a.overall_signal)?void 0:s.confidence)).toFixed(0)}%`})]}),v.jsxs(Zie,{title:"Trng thi Th trng",icon:v.jsx(G,{size:16,className:"text-green-500"}),children:[v.jsx(eae,{label:"Ch ",value:null==(l=null==(o=Ie.market_analysis)?void 0:o.market_regime)?void 0:l.regime}),v.jsx(eae,{label:"MFI TB",value:`${null==(d=null==(u=null==(c=Ie.market_analysis)?void 0:c.market_regime)?void 0:u.average_mfi)?void 0:d.toFixed(1)}`}),v.jsx(eae,{label:"Spread",value:`${null==(f=null==(h=Ie.current_state)?void 0:h.mfi_spread_VNSML_vs_VN30)?void 0:f.toFixed(1)}`})]}),v.jsxs(Zie,{title:"Ri ro & Khuyn ngh",icon:v.jsx(ue,{size:16,className:"text-red-500"}),children:[v.jsx(eae,{label:"Mc ri ro",value:null==(p=null==(m=Ie.market_analysis)?void 0:m.risk_assessment)?void 0:p.risk_level}),v.jsx(eae,{label:"Hnh ng",value:null==(x=null==(g=Ie.market_analysis)?void 0:g.trading_recommendation)?void 0:x.action}),v.jsx(eae,{label:" tin cy",value:`${(100*(null==(b=null==(y=Ie.market_analysis)?void 0:y.trading_recommendation)?void 0:b.confidence)).toFixed(0)}%`})]}),v.jsxs(Zie,{title:"Trin vng",icon:v.jsx(be,{size:16,className:"text-purple-500"}),children:[v.jsx(eae,{label:"Ngn hn",value:null==(j=null==(w=null==(_=Ie.market_analysis)?void 0:_.market_outlook)?void 0:w.short_term)?void 0:j.outlook}),v.jsx(eae,{label:"Trung hn",value:null==(C=null==(S=null==(k=Ie.market_analysis)?void 0:k.market_outlook)?void 0:S.medium_term)?void 0:C.outlook})]})]}),v.jsx("div",{className:"mb-4 p-3 rounded-lg bg-gray-50 dark:bg-gray-800/50",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Tm l th trng:"}),v.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium "+("bullish"===$e?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300":"bearish"===$e?"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300":"overbought"===$e?"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-300":"oversold"===$e?"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"),children:"bullish"===$e?"Tch cc":"bearish"===$e?"Tiu cc":"overbought"===$e?"Qu mua":"oversold"===$e?"Qu bn":"Trung tnh"})]}),v.jsxs("span",{className:"text-sm text-gray-500",children:[Le.length," im d liu gn nht"]})]})}),Ce.market_overview&&v.jsxs("div",{className:"my-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg",children:[v.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-3 flex items-center gap-2",children:[v.jsx(G,{className:"h-4 w-4"}),"Tng quan th trng"]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-2xl font-bold text-blue-600",children:Ce.market_overview.money_flow_distribution.overbought_indices}),v.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Ch s qu mua"})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-2xl font-bold text-green-600",children:Ce.market_overview.money_flow_distribution.oversold_indices}),v.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Ch s qu bn"})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-2xl font-bold text-gray-600",children:Ce.market_overview.money_flow_distribution.neutral_indices}),v.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Ch s trung tnh"})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-2xl font-bold text-purple-600",children:Ce.market_overview.overall_sentiment}),v.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tm l tng th"})]})]})]}),v.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-4 mb-4",children:[v.jsx(sF,{width:"100%",height:400,children:"line"===ye?v.jsxs(kY,{data:Le,margin:{top:20,right:30,left:20,bottom:5},children:[v.jsx(vK,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),v.jsx(fU,{dataKey:"date",stroke:"#6b7280",fontSize:12,tickLine:!1,tickFormatter:e=>new Date(e).toLocaleDateString("vi-VN",{month:"short",day:"numeric"})}),v.jsx(_U,{stroke:"#6b7280",fontSize:12,tickLine:!1,axisLine:!1,domain:[0,100]}),v.jsx(Vz,{content:v.jsx(ze,{})}),v.jsx(MV,{y:80,stroke:"#ef4444",strokeDasharray:"5 5",strokeWidth:1,label:"Qu mua (80)"}),v.jsx(MV,{y:20,stroke:"#10b981",strokeDasharray:"5 5",strokeWidth:1,label:"Qu bn (20)"}),ge.map((e,t)=>{const n=["#3b82f6","#f97316","#eab308","#10b981","#8b5cf6"];return _e.has(e)?null:v.jsx(UK,{type:"monotone",dataKey:e,stroke:n[t%n.length],strokeWidth:2,dot:!1,activeDot:{r:4}},e)})]}):v.jsxs(LY,{data:Le,margin:{top:20,right:30,left:20,bottom:5},children:[v.jsx(vK,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),v.jsx(fU,{dataKey:"date",stroke:"#6b7280",fontSize:12,tickLine:!1,tickFormatter:e=>new Date(e).toLocaleDateString("vi-VN",{month:"short",day:"numeric"})}),v.jsx(_U,{stroke:"#6b7280",fontSize:12,tickLine:!1,axisLine:!1,domain:[0,100]}),v.jsx(Vz,{content:v.jsx(ze,{})}),v.jsx(MV,{y:80,stroke:"#ef4444",strokeDasharray:"5 5",strokeWidth:1,label:"Qu mua (80)"}),v.jsx(MV,{y:20,stroke:"#10b981",strokeDasharray:"5 5",strokeWidth:1,label:"Qu bn (20)"}),ge.map((e,t)=>{const n=["#3b82f6","#f97316","#eab308","#10b981","#8b5cf6"];return _e.has(e)?null:v.jsx(bH,{type:"monotone",dataKey:e,stroke:n[t%n.length],fill:n[t%n.length],fillOpacity:.3,strokeWidth:2},e)})]})}),v.jsx(Fe,{payload:ge.map((e,t)=>({value:e,color:["#3b82f6","#f97316","#eab308","#10b981","#8b5cf6"][t%5]}))})]}),Object.keys(We).length>0&&v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4 mb-6",children:Object.entries(We).map(([e,t])=>v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 text-sm",children:t.name}),"up"===t.trend?v.jsx(Te,{className:"h-4 w-4 text-green-600"}):v.jsx(Ae,{className:"h-4 w-4 text-red-600"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"MFI hin ti:"}),v.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:t.current.toFixed(2)})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Thay i:"}),v.jsxs("span",{className:"text-sm font-medium "+(t.change>0?"text-green-600":"text-red-600"),children:[t.change>0?"+":"",t.change.toFixed(2)]})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Tn hiu:"}),v.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${Ve(t.signal)}`,children:"buy"===t.signal?"Mua":"sell"===t.signal?"Bn":"Trung tnh"})]})]})]},e))}),Ie&&v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 mb-4",children:v.jsxs("nav",{className:"flex space-x-2","aria-label":"Tabs",children:[v.jsx(Jie,{tabName:"summary",activeTab:je,setActiveTab:Ne,children:"Tng quan"}),v.jsx(Jie,{tabName:"signals",activeTab:je,setActiveTab:Ne,children:"Tn hiu Chi tit"}),v.jsx(Jie,{tabName:"strategy",activeTab:je,setActiveTab:Ne,children:"Chin lc & Ri ro"})]})}),v.jsxs("div",{className:"mt-4",children:["summary"===je&&v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[v.jsx(Zie,{title:"Thng tin Chnh",icon:v.jsx(be,{className:"h-5 w-5 text-teal-600"}),gradientColors:{from:"from-teal-50",to:"to-cyan-50"},children:null==(P=null==(E=Ie.market_analysis)?void 0:E.key_insights)?void 0:P.map((e,t)=>v.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-700 dark:text-gray-300",children:[v.jsx("span",{className:"mt-1",children:""}),v.jsx("span",{children:e})]},t))}),v.jsxs(Zie,{title:"Trng thi Hin ti",icon:v.jsx(Ee,{className:"h-5 w-5 text-blue-600"}),gradientColors:{from:"from-blue-50",to:"to-indigo-50"},children:[v.jsx(eae,{label:"Ch  th trng",value:null==(O=null==(M=Ie.market_analysis)?void 0:M.market_regime)?void 0:O.regime}),v.jsx(eae,{label:"MFI trung bnh",value:`${null==(D=null==(T=null==(A=Ie.market_analysis)?void 0:A.market_regime)?void 0:T.average_mfi)?void 0:D.toFixed(1)}`}),v.jsx(eae,{label:"Spread VNSML-VN30",value:`${null==(I=null==(R=Ie.current_state)?void 0:R.mfi_spread_VNSML_vs_VN30)?void 0:I.toFixed(1)}`}),v.jsx("p",{className:"text-xs text-gray-500 pt-2",children:null==(z=null==(L=Ie.market_analysis)?void 0:L.market_regime)?void 0:z.description})]}),v.jsxs(Zie,{title:"Tn hiu Tng hp",icon:v.jsx(Te,{className:"h-5 w-5 text-pink-600"}),gradientColors:{from:"from-pink-50",to:"to-rose-50"},children:[v.jsx(eae,{label:"Hng",value:null==(B=null==(F=Ie.signal_coordination)?void 0:F.overall_signal)?void 0:B.direction}),v.jsx(eae,{label:"Cng ",value:null==($=null==(W=Ie.signal_coordination)?void 0:W.overall_signal)?void 0:$.strength}),v.jsx(eae,{label:" tin cy",value:`${(100*(null==(K=null==(V=Ie.signal_coordination)?void 0:V.overall_signal)?void 0:K.confidence)).toFixed(0)}%`}),v.jsx(eae,{label:"im ng thun",value:`${(100*(null==(U=null==(H=Ie.signal_coordination)?void 0:H.overall_signal)?void 0:U.consensus_score)).toFixed(0)}%`})]})]}),"signals"===je&&v.jsxs("div",{className:"space-y-6",children:[v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:null==(q=null==(Y=Ie.signal_coordination)?void 0:Y.component_signals)?void 0:q.map((e,t)=>v.jsxs(Zie,{title:e.name,icon:v.jsx(re,{className:"h-5 w-5 text-blue-600"}),children:[v.jsx(tae,{strength:e.strength,value:e.value,direction:e.direction}),v.jsx(eae,{label:"Trng s",value:`${(100*e.weight).toFixed(0)}%`}),v.jsx("p",{className:"text-xs text-gray-500 pt-2",children:e.description})]},t))}),(null==(Q=null==(X=Ie.signal_coordination)?void 0:X.conflicts_detected)?void 0:Q.length)>0&&v.jsx(Zie,{title:"Xung t Tn hiu",icon:v.jsx(ue,{className:"h-5 w-5 text-orange-500"}),gradientColors:{from:"from-orange-50",to:"to-red-50"},children:Ie.signal_coordination.conflicts_detected.map((e,t)=>v.jsxs("div",{className:"text-sm text-orange-700 dark:text-orange-300 bg-orange-50 dark:bg-orange-900/20 p-2 rounded",children:[" ",e]},t))})]}),"strategy"===je&&v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs(Zie,{title:"Phn tch Ri ro",icon:v.jsx(ue,{className:"h-5 w-5 text-red-600"}),gradientColors:{from:"from-red-50",to:"to-pink-50"},children:[v.jsx(eae,{label:"Ri ro tng th",value:null==(J=null==(Z=Ie.market_analysis)?void 0:Z.risk_assessment)?void 0:J.risk_level}),v.jsx(eae,{label:"im ng thun",value:`${(100*(null==(te=null==(ee=Ie.market_analysis)?void 0:ee.risk_assessment)?void 0:te.consensus_score)).toFixed(0)}%`}),v.jsx("div",{className:"pt-2 space-y-2",children:null==(ae=null==(ie=null==(ne=Ie.market_analysis)?void 0:ne.risk_assessment)?void 0:ie.risk_factors)?void 0:ae.map((e,t)=>v.jsxs("div",{className:"text-sm text-red-700 dark:text-red-300 bg-red-50 dark:bg-red-900/20 p-2 rounded",children:[" ",e]},t))})]}),v.jsxs(Zie,{title:"Chin lc Giao dch",icon:v.jsx(Oe,{className:"h-5 w-5 text-purple-600"}),gradientColors:{from:"from-purple-50",to:"to-violet-50"},children:[v.jsx(eae,{label:"Hnh ng",value:null==(oe=null==(se=Ie.market_analysis)?void 0:se.trading_recommendation)?void 0:oe.action}),v.jsx(eae,{label:" tin cy",value:`${(100*(null==(ce=null==(le=Ie.market_analysis)?void 0:le.trading_recommendation)?void 0:ce.confidence)).toFixed(0)}%`}),v.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 pt-2",children:null==(fe=null==(de=Ie.market_analysis)?void 0:de.trading_recommendation)?void 0:fe.reasoning})]})]})]})]})]}):v.jsx(Ke,{children:v.jsx("div",{className:"text-center text-gray-500 p-8",children:"Khng c d liu MFI  hin th"})})},rae=({title:e,icon:t,children:n,gradientColors:r,className:i=""})=>{const a=(null==r?void 0:r.from)||"from-gray-50",s=(null==r?void 0:r.to)||"to-gray-100",o=(null==r?void 0:r.darkFrom)||"dark:from-gray-800/50",l=(null==r?void 0:r.darkTo)||"dark:to-gray-900/50";return v.jsxs("div",{className:`p-4 h-full rounded-lg bg-gradient-to-r ${a} ${s} ${o} ${l} ${i}`,children:[e&&v.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t,v.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:e})]}),v.jsx("div",{className:"space-y-2",children:n})]})},iae=({tabName:e,activeTab:t,setActiveTab:n,children:r})=>v.jsx("button",{onClick:()=>n(e),className:"cursor-pointer px-3 py-2 font-medium text-sm transition-colors focus:outline-none "+(t===e?"border-b-2 border-blue-600 text-blue-600 dark:text-blue-500":"border-b-2 border-transparent text-gray-500 hover:text-gray-800 dark:hover:text-gray-200"),children:r}),aae=({label:e,value:t,children:n,className:r=""})=>v.jsxs("div",{className:`flex items-start justify-between text-sm ${r}`,children:[v.jsxs("span",{className:"font-semibold text-gray-500 dark:text-gray-400 whitespace-nowrap mr-2",children:[e,":"]}),t&&v.jsx("span",{className:"text-gray-800 dark:text-gray-200 text-right",children:t}),n&&v.jsx("div",{className:"font-semibold text-right",children:n})]}),sae=()=>{var e,t,n,r,i,a,s,o,l,c,u,d,h,f,m,p,g,x,y,b,_,w;const[j,k]=N.useState("overview"),[S,C]=N.useState(!1),[E,P]=N.useState(new Set),[M,O]=N.useState(""),[A,T]=N.useState("line"),[D,R]=N.useState("market"),[I,L]=N.useState(0),{data:z,loading:F}=Df("breadth_industries_summary",null,[],{refreshInterval:36e5}),{data:B,loading:W,error:$}=function(e="market"){return Df("breadth_data",e,[e],{refreshInterval:3e5})}(D),V=N.useMemo(()=>[{key:"EMA 5",color:"#3B82F6",dataKey:"ema_5"},{key:"EMA 10",color:"#10B981",dataKey:"ema_10"},{key:"EMA 20",color:"#F59E0B",dataKey:"ema_20"},{key:"EMA 50",color:"#EF4444",dataKey:"ema_50"},{key:"EMA 200",color:"#8B5CF6",dataKey:"ema_200"}],[]),{chartData:K,latestData:H}=N.useMemo(()=>{if(!(null==B?void 0:B.breadth_data))return{chartData:[],latestData:null};const e=Object.keys(B.breadth_data).sort((e,t)=>new Date(e)-new Date(t)),t=e[e.length-1],n=e.map(e=>{const t=B.breadth_data[e],n={date:new Date(e).getTime()};return V.forEach(e=>{var r;n[e.key]=null==(r=t[e.dataKey])?void 0:r.above_percentage}),n});return I>0&&V.forEach(e=>{const t=((e,t)=>{if(0===t||0===e.length)return e;const n=2/(t+1),r=[];r.push(e[0]);for(let i=1;i<e.length;i++){const t=e[i]*n+r[i-1]*(1-n);r.push(t)}return r})(n.map(t=>t[e.key]).filter(e=>null!=e),I);n.forEach((n,r)=>{r<t.length&&(n[e.key]=t[r])})}),{chartData:n,latestData:B.breadth_data[t]}},[B,V,I]),{summary:U,metadata:Y,insights:q}=B||{};N.useEffect(()=>{const e=()=>{var e;const t=(null==(e=null==Y?void 0:Y.analysis_info)?void 0:e.generated_at)||(null==Y?void 0:Y.generated_at)||(null==B?void 0:B.generated_at);if(!t)return;const n=new Date(t),r=new Date,i=Math.round((r-n)/1e3),a=Math.round(i/60),s=Math.round(a/60);O(i<60?"vi giy trc":a<60?`${a} pht trc`:s<24?`${s} gi trc`:n.toLocaleDateString("vi-VN"))};e();const t=setInterval(e,6e4);return()=>clearInterval(t)},[null==(e=null==Y?void 0:Y.analysis_info)?void 0:e.generated_at,null==Y?void 0:Y.generated_at,null==B?void 0:B.generated_at]);const X=N.useMemo(()=>{const e=[{value:"market",label:"Th trng chung"}];return(null==z?void 0:z.industries)&&Object.entries(z.industries).sort(([,e],[,t])=>e.name.localeCompare(t.name,"vi-VN")).forEach(([t,n])=>{e.push({value:t,label:`${n.name} (${n.symbol_count} m)`})}),e},[z]);if(W||F)return v.jsxs("div",{className:"p-6 text-center",children:[v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),v.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"ang ti d liu..."})]});if($)return v.jsxs("div",{className:"p-6 text-center text-red-600 dark:text-red-400",children:["Li: ",$]});if(!B||!H)return v.jsx("div",{className:"p-6 text-center text-gray-600 dark:text-gray-400",children:"Khng c d liu."});const Q=({active:e,payload:t,label:n})=>e&&(null==t?void 0:t.length)?v.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm p-3 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg",children:[v.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:new Date(n).toLocaleDateString("vi-VN")}),v.jsx("div",{className:"space-y-1",children:t.map(e=>{var t;return v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:e.color}}),v.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.name,": ",null==(t=e.value)?void 0:t.toFixed(1),"%"]})]},e.name)})})]}):null,Z=({payload:e})=>v.jsx("div",{className:"flex flex-wrap justify-center gap-x-4 gap-y-2 mt-4",children:e.map(e=>{const t=E.has(e.value);return v.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-80",onClick:()=>(e=>P(t=>{const n=new Set(t);return n.has(e.value)?n.delete(e.value):n.add(e.value),n}))(e),children:[v.jsx("div",{className:"w-4 h-4 rounded "+(t?"opacity-40":""),style:{backgroundColor:e.color}}),v.jsx("span",{className:"text-sm "+(t?"text-gray-400 line-through":"text-gray-700 dark:text-gray-300"),children:e.value})]},e.value)})});return v.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-lg p-4 sm:p-6",children:[v.jsxs("div",{className:"flex flex-wrap items-center justify-between mb-4 gap-2",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Phn tch  rng Th trng"}),v.jsx("button",{onClick:()=>C(!S),className:"cursor-pointer text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:v.jsx(he,{className:"h-4 w-4"})})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Chn d liu:"}),v.jsx("select",{value:D,onChange:e=>R(e.target.value),className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white cursor-pointer",children:X.map(e=>v.jsx("option",{value:e.value,children:e.label},e.value))})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Lm mt:"}),v.jsxs("select",{value:I,onChange:e=>L(Number(e.target.value)),className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white cursor-pointer",children:[v.jsx("option",{value:0,children:"Khng"}),v.jsx("option",{value:3,children:"3 ngy"}),v.jsx("option",{value:5,children:"5 ngy"}),v.jsx("option",{value:10,children:"10 ngy"}),v.jsx("option",{value:20,children:"20 ngy"})]})]}),v.jsx("button",{onClick:()=>T("line"===A?"area":"line"),className:"cursor-pointer p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",title:"line"===A?"Chuyn sang biu  vng":"Chuyn sang biu  ng",children:v.jsx(re,{className:"h-4 w-4"})}),E.size>0&&v.jsxs("span",{className:"text-xs text-gray-500",children:[E.size," ng b n"]}),v.jsx("button",{onClick:()=>P(new Set),className:"cursor-pointer px-3 py-1 text-xs bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300 rounded hover:bg-blue-200 dark:hover:bg-blue-900/30 transition-colors",title:"Hin th tt c ng",children:"Hin th tt c"})]})]}),S&&v.jsx(rae,{title:"Hng dn",icon:v.jsx(he,{className:"h-5 w-5 text-blue-600"}),gradientColors:{from:"from-blue-50",to:"to-indigo-50"},className:"mb-4",children:v.jsxs("div",{className:"space-y-3 text-sm text-gray-600 dark:text-gray-400",children:[v.jsx("p",{children:'Ch bo ny o lng "sc khe" bn trong ca th trng bng cch xem xt t l c phiu c xu hng tng so vi gim, cung cp cc tn hiu sm v s thay i ca VN-Index.'}),v.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg",children:[v.jsx("h5",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:" Lm mt d liu (Smoothing)"}),v.jsxs("ul",{className:"space-y-1 text-blue-700 dark:text-blue-300",children:[v.jsxs("li",{children:[" ",v.jsx("strong",{children:"Khng:"})," Hin th d liu gc hng ngy"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"3-5 ngy:"})," Gim nhiu ngn hn, ph hp cho giao dch"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"10-20 ngy:"})," Lm mt hn, ph hp cho phn tch xu hng"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"Lu :"})," Lm mt c th lm chm tn hiu nhng gim tn hiu gi"]})]})]})]})}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[v.jsxs(rae,{title:"Tn hiu tng th",icon:v.jsx(Be,{size:16,className:"text-yellow-500"}),children:[v.jsx(aae,{label:"Hng",value:(null==(n=null==(t=null==q?void 0:q.signal_coordination)?void 0:t.overall_signal)?void 0:n.direction)||"N/A"}),v.jsx(aae,{label:"Cng ",value:(null==(i=null==(r=null==q?void 0:q.signal_coordination)?void 0:r.overall_signal)?void 0:i.strength)||"N/A"})]}),v.jsxs(rae,{title:"Ch s chnh",icon:v.jsx(G,{size:16,className:"text-green-500"}),children:[v.jsx(aae,{label:"EMA 20",value:(null==(s=null==(a=null==q?void 0:q.current_state)?void 0:a.percentages)?void 0:s.ema_20)?`${q.current_state.percentages.ema_20.toFixed(1)}%`:(null==(o=null==H?void 0:H.ema_20)?void 0:o.above_percentage)?`${H.ema_20.above_percentage.toFixed(1)}%`:"N/A"}),v.jsx(aae,{label:"Tham gia",value:(null==(c=null==(l=null==q?void 0:q.current_state)?void 0:l.participation)?void 0:c.participation_percentage)?`${q.current_state.participation.participation_percentage.toFixed(1)}%`:(null==(u=null==H?void 0:H.summary)?void 0:u.data_coverage)?`${H.summary.data_coverage.toFixed(1)}%`:"N/A"})]}),v.jsxs(rae,{title:"Khuyn ngh",icon:v.jsx(ue,{size:16,className:"text-red-500"}),children:[v.jsx(aae,{label:"Hnh ng",value:(null==(h=null==(d=null==q?void 0:q.market_analysis)?void 0:d.trading_recommendation)?void 0:h.action)||"N/A"}),v.jsx(aae,{label:"Ri ro",value:(null==(m=null==(f=null==q?void 0:q.market_analysis)?void 0:f.risk_assessment)?void 0:m.risk_level)||"N/A"})]}),v.jsxs(rae,{title:"Trin vng",icon:v.jsx(be,{size:16,className:"text-purple-500"}),children:[v.jsx(aae,{label:"Ngn hn",value:(null==(x=null==(g=null==(p=null==q?void 0:q.market_analysis)?void 0:p.market_outlook)?void 0:g.short_term)?void 0:x.outlook)||"N/A"}),v.jsx(aae,{label:"Trung hn",value:(null==(_=null==(b=null==(y=null==q?void 0:q.market_analysis)?void 0:y.market_outlook)?void 0:b.medium_term)?void 0:_.outlook)||"N/A"})]})]}),v.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-4 mb-6",children:[v.jsx(sF,{width:"100%",height:400,children:"line"===A?v.jsxs(kY,{data:K,margin:{top:5,right:5,left:-20,bottom:5},children:[v.jsx(vK,{strokeDasharray:"3 3",stroke:"rgba(156, 163, 175, 0.3)"}),v.jsx(fU,{dataKey:"date",stroke:"#6b7280",fontSize:12,tickLine:!1,tickFormatter:e=>new Date(e).toLocaleDateString("vi-VN",{month:"short",day:"numeric"})}),v.jsx(_U,{stroke:"#6b7280",fontSize:12,tickLine:!1,axisLine:!1,domain:[0,100],tickFormatter:e=>`${e}%`}),v.jsx(Vz,{content:v.jsx(Q,{})}),v.jsx(MV,{y:50,stroke:"#9CA3AF",strokeDasharray:"4 4",strokeWidth:1}),V.map(e=>!E.has(e.key)&&v.jsx(UK,{type:"monotone",dataKey:e.key,stroke:e.color,strokeWidth:2,dot:!1,activeDot:{r:4}},e.key))]}):v.jsxs(LY,{data:K,margin:{top:5,right:5,left:-20,bottom:5},children:[v.jsx(vK,{strokeDasharray:"3 3",stroke:"rgba(156, 163, 175, 0.3)"}),v.jsx(fU,{dataKey:"date",stroke:"#6b7280",fontSize:12,tickLine:!1,tickFormatter:e=>new Date(e).toLocaleDateString("vi-VN",{month:"short",day:"numeric"})}),v.jsx(_U,{stroke:"#6b7280",fontSize:12,tickLine:!1,axisLine:!1,domain:[0,100],tickFormatter:e=>`${e}%`}),v.jsx(Vz,{content:v.jsx(Q,{})}),v.jsx(MV,{y:50,stroke:"#9CA3AF",strokeDasharray:"4 4",strokeWidth:1}),V.map(e=>!E.has(e.key)&&v.jsx(bH,{type:"monotone",dataKey:e.key,stroke:e.color,fill:e.color,fillOpacity:.3,strokeWidth:2},e.key))]})}),v.jsx(Z,{payload:V.map(e=>({value:e.key,color:e.color}))})]}),v.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 mb-4",children:v.jsxs("nav",{className:"flex space-x-2","aria-label":"Tabs",children:[v.jsx(iae,{tabName:"overview",activeTab:j,setActiveTab:k,children:"Tng quan"}),v.jsx(iae,{tabName:"details",activeTab:j,setActiveTab:k,children:"Tn hiu Chi tit"}),v.jsx(iae,{tabName:"risk",activeTab:j,setActiveTab:k,children:"Ri ro & Khuyn ngh"})]})}),v.jsxs("div",{className:"mt-4",children:["overview"===j&&q&&v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[v.jsx(rae,{title:"Thng tin chnh",icon:v.jsx(be,{className:"h-5 w-5 text-teal-600"}),children:v.jsxs("div",{className:"space-y-2 text-sm text-gray-700 dark:text-gray-300",children:[v.jsxs("div",{className:"flex items-start gap-2",children:[v.jsx("span",{className:"mt-1",children:""}),v.jsxs("span",{children:[v.jsx("strong",{children:"Tn hiu:"})," ",q.signal_coordination.overall_signal.direction," (",q.signal_coordination.overall_signal.strength,")"]})]}),v.jsxs("div",{className:"flex items-start gap-2",children:[v.jsx("span",{className:"mt-1",children:""}),v.jsxs("span",{children:[v.jsx("strong",{children:" tin cy:"})," ",(100*q.signal_coordination.overall_signal.confidence).toFixed(0),"%"]})]}),v.jsxs("div",{className:"flex items-start gap-2",children:[v.jsx("span",{className:"mt-1",children:""}),v.jsxs("span",{children:[v.jsx("strong",{children:"Phn tch:"})," ",q.metadata.analysis_period]})]}),v.jsxs("div",{className:"flex items-start gap-2",children:[v.jsx("span",{className:"mt-1",children:""}),v.jsxs("span",{children:[v.jsx("strong",{children:"Cp nht:"})," ",M||"Khng xc nh"]})]})]})}),v.jsxs(rae,{title:"Khuyn ngh giao dch",icon:v.jsx(Ee,{className:"h-5 w-5 text-blue-600"}),children:[v.jsx(aae,{label:"Hnh ng",value:q.market_analysis.trading_recommendation.action}),v.jsx(aae,{label:"Cng ",value:q.market_analysis.trading_recommendation.signal_strength}),v.jsx(aae,{label:" tin cy",value:`${(100*q.market_analysis.trading_recommendation.confidence).toFixed(0)}%`}),v.jsx("p",{className:"text-xs text-gray-500 pt-2",children:q.market_analysis.trading_recommendation.reasoning})]}),v.jsxs(rae,{title:"Thng tin chi tit",icon:v.jsx(Te,{className:"h-5 w-5 text-pink-600"}),children:[v.jsx(aae,{label:"Trng thi th trng",value:q.market_analysis.market_regime.regime}),v.jsx(aae,{label:"EMA 200",value:`${q.market_analysis.market_regime.ema_200_percentage.toFixed(1)}%`}),v.jsx(aae,{label:"Tn hiu h tr",value:q.market_analysis.market_regime.supporting_signals}),v.jsx("p",{className:"text-xs text-gray-500 pt-2",children:q.market_analysis.market_regime.description})]})]}),"details"===j&&q&&v.jsxs("div",{className:"space-y-6",children:[v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:q.signal_coordination.component_signals.map((e,t)=>v.jsxs(rae,{title:e.name,icon:v.jsx(re,{className:"h-5 w-5 text-blue-600"}),children:[v.jsx(aae,{label:"Hng",value:e.direction}),v.jsx(aae,{label:"Cng ",value:e.strength}),v.jsx(aae,{label:"Gi tr",value:null!=e.value?e.value.toFixed(2):"N/A"}),v.jsx("p",{className:"text-xs text-gray-500 pt-2",children:e.description})]},t))}),(null==(w=q.signal_coordination.conflicts_detected)?void 0:w.length)>0&&v.jsx(rae,{title:"Xung t tn hiu",icon:v.jsx(ue,{className:"h-5 w-5 text-orange-500"}),children:q.signal_coordination.conflicts_detected.map((e,t)=>v.jsxs("div",{className:"text-sm text-orange-700 dark:text-orange-300 bg-orange-50 dark:bg-orange-900/20 p-2 rounded mb-2",children:[" ",e]},t))})]}),"risk"===j&&q&&v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs(rae,{title:"Phn tch Ri ro",icon:v.jsx(ue,{className:"h-5 w-5 text-red-600"}),children:[v.jsx(aae,{label:"Mc ri ro",value:q.market_analysis.risk_assessment.risk_level}),v.jsx(aae,{label:"ng thun",value:`${(100*q.market_analysis.risk_assessment.consensus_score).toFixed(0)}%`}),v.jsx("div",{className:"pt-2 space-y-2",children:q.market_analysis.risk_assessment.risk_factors.map((e,t)=>v.jsx("div",{className:"text-sm text-red-700 dark:text-red-300 bg-red-50 dark:bg-red-900/20 p-2 rounded",children:e},t))}),v.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 pt-2",children:q.market_analysis.risk_assessment.recommendation})]}),v.jsx(rae,{title:"Trin vng Th trng",icon:v.jsx(Oe,{className:"h-5 w-5 text-purple-600"}),children:v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsxs("h5",{className:"font-semibold text-sm mb-2",children:["Ngn hn (",q.market_analysis.market_outlook.short_term.timeframe,")"]}),v.jsx(aae,{label:"Trin vng",value:q.market_analysis.market_outlook.short_term.outlook}),v.jsx(aae,{label:" tin cy",value:`${(100*q.market_analysis.market_outlook.short_term.confidence).toFixed(0)}%`})]}),v.jsxs("div",{children:[v.jsxs("h5",{className:"font-semibold text-sm mb-2",children:["Trung hn (",q.market_analysis.market_outlook.medium_term.timeframe,")"]}),v.jsx(aae,{label:"Trin vng",value:q.market_analysis.market_outlook.medium_term.outlook}),v.jsx(aae,{label:" tin cy",value:`${(100*q.market_analysis.market_outlook.medium_term.confidence).toFixed(0)}%`})]})]})})]})]})]})},oae=()=>{const{data:e,loading:t,error:n}=Df("abnormal_signals_intra"),{data:r,loading:i,error:a}=Df("top_deals"),{data:s,loading:o,error:l}=Df("top_by_value"),c=N.useMemo(()=>{var e;return(null==(e=null==r?void 0:r.data)?void 0:e.slice(0,10))||[]},[r]),u=N.useMemo(()=>{var e;return(null==(e=null==s?void 0:s.data)?void 0:e.slice(0,10))||[]},[s]),d=N.useMemo(()=>{if(!e||t)return{topSignals:[],summary:{},totalSignals:0};const n=e.abnormalities||[],r=e.summary||{};return{topSignals:n.sort((e,t)=>t.CompositeScore-e.CompositeScore).slice(0,10).map(e=>{var t,n,r,i,a,s;const o=Object.entries(e).filter(([e,t])=>["AbnormalPrice","AbnormalVolume","PriceVelocityAbnormal","EffortGTResult","ResultGTEffort","AbnormalERRatio"].includes(e)&&!0===t).map(([e])=>e);return{id:e.Symbol,name:e.Symbol,date:e.Date,value:e.CompositeScore,sentiment:(null==(t=e.Interpretation)?void 0:t.overall_sentiment)||"NEUTRAL",confidence:(null==(n=e.Interpretation)?void 0:n.confidence)||"MEDIUM",signalCount:(null==(r=e.Interpretation)?void 0:r.signal_count)||0,riskLevel:(null==(i=e.Interpretation)?void 0:i.risk_level)||"MEDIUM",activeSignals:o,tradingImplications:(null==(a=e.Interpretation)?void 0:a.trading_implications)||[],signalTypes:(null==(s=e.Interpretation)?void 0:s.signal_types)||[]}}),summary:r,totalSignals:n.length}},[e,t]);return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-2",children:"Bo co Tng quan Th trng"}),v.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Phn tch ton din v giao dch v tn hiu bt thng"})]}),v.jsx("div",{className:"space-y-4",children:v.jsx(Ke,{className:"p-6",children:v.jsx(Xie,{})})}),v.jsx("div",{className:"space-y-4",children:v.jsx(Ke,{className:"p-6",children:v.jsx(Qie,{turnover:"N/A",volume:"N/A"})})}),v.jsx("div",{className:"space-y-4",children:v.jsx(Ke,{className:"p-6",children:v.jsx(nae,{})})}),v.jsx("div",{className:"space-y-4",children:v.jsx(Ke,{className:"p-6",children:v.jsx(sae,{})})}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[v.jsx(qie,{title:"Giao dch tha thun nhiu nht",icon:v.jsx(ae,{className:"text-blue-500"}),data:c.map(e=>({id:e.symbol,name:e.symbol,value:e.accumulated_value/1e9,subValue:e.price_change_pct_1d})),unit:"T VN",valueKey:"value",nameKey:"name",valueClass:()=>"text-blue-500",subValueKey:"subValue",subValueClass:e=>e>0?"text-green-500":"text-red-500",subValueUnit:"%",subValuePrefix:""}),v.jsx(qie,{title:"Gi tr Giao dch Cao nht",icon:v.jsx(ye,{className:"text-green-500"}),data:u.map(e=>({id:e.symbol,name:e.symbol,value:e.accumulated_value/1e9,subValue:e.price_change_pct_1d})),unit:"T VN",valueKey:"value",nameKey:"name",valueClass:()=>"text-green-500",subValueKey:"subValue",subValueClass:e=>e>0?"text-green-500":"text-red-500",subValueUnit:"%",subValuePrefix:""})]}),t?v.jsx(Ke,{children:v.jsx("div",{className:"flex items-center justify-center h-32",children:v.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"ang ti d liu tn hiu bt thng..."})})}):n?v.jsx(Ke,{children:v.jsx("div",{className:"flex items-center justify-center h-32",children:v.jsxs("div",{className:"text-red-500",children:["Li ti d liu: ",n]})})}):v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(De,{className:"text-orange-500"}),v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Tn hiu Bt thng Ni ngy"})]}),v.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[d.totalSignals," tn hiu"]})]}),v.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:d.topSignals.slice(0,12).map((e,t)=>{const n="BULLISH"===e.sentiment?"text-green-600 dark:text-green-400":"BEARISH"===e.sentiment?"text-red-600 dark:text-red-400":"text-yellow-600 dark:text-yellow-400";return v.jsxs(Ke,{className:"p-4",children:[v.jsxs("div",{className:"flex items-start justify-between mb-3",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:e.name}),v.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(e.date).toLocaleDateString("vi-VN")}),v.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["im: ",(100*e.value).toFixed(1),"%"]})]}),v.jsx("div",{className:"text-right",children:v.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/50 text-blue-800 dark:text-blue-200",children:[e.signalCount," tn hiu"]})})]}),e.activeSignals.length>0&&v.jsxs("div",{className:"mb-3",children:[v.jsx("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Loi tn hiu:"}),v.jsx("div",{className:"space-y-1",children:e.activeSignals.map((e,t)=>v.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[v.jsx("span",{className:"text-blue-500",children:""}),v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"AbnormalPrice"===e?"Gi bt thng":"AbnormalVolume"===e?"Khi lng bt thng":"PriceVelocityAbnormal"===e?"Tc  gi bt thng":"EffortGTResult"===e?"N lc > Kt qu":"ResultGTEffort"===e?"Kt qu > N lc":"AbnormalERRatio"===e?"T l ER bt thng":e})]},t))})]}),e.tradingImplications.length>0&&v.jsxs("div",{className:"mb-3",children:[v.jsx("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" ngha giao dch:"}),v.jsx("div",{className:"space-y-1",children:e.tradingImplications.slice(0,2).map((e,t)=>v.jsxs("div",{className:"flex items-start gap-2 text-xs",children:[v.jsx("span",{className:"text-green-500 flex-shrink-0",children:""}),v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:e})]},t))})]}),v.jsxs("div",{className:"space-y-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:[v.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[v.jsx("span",{className:n,children:"BULLISH"===e.sentiment?"":"BEARISH"===e.sentiment?"":""}),v.jsx("span",{className:n,children:"BULLISH"===e.sentiment?"Tch cc":"BEARISH"===e.sentiment?"Tiu cc":"Trung tnh"})]}),v.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[v.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"HIGH"===e.confidence?"":"MEDIUM"===e.confidence?"":""}),v.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"HIGH"===e.confidence?"Cao":"MEDIUM"===e.confidence?"Trung bnh":"Thp"})]}),v.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[v.jsx("span",{className:"text-orange-600 dark:text-orange-400",children:"HIGH"===e.riskLevel?"":"MEDIUM"===e.riskLevel?"":""}),v.jsx("span",{className:"text-orange-600 dark:text-orange-400",children:"HIGH"===e.riskLevel?"Ri ro cao":"MEDIUM"===e.riskLevel?"Ri ro trung bnh":"Ri ro thp"})]})]})]},t)})})]})]})},lae=[{keyWord:"Tng trng kinh t",name:"gdp",className:"wi-g_d_p",type:"vi_mo_tien_te"},{keyWord:"GDP bnh qun",name:"gdpbinhquan",className:"wi-g_d_p_binh_quan",type:"vi_mo_tien_te"},{keyWord:"Thu nhp bnh qun",name:"gdpbinhquan",className:"wi-g_d_p_binh_quan",type:"vi_mo_tien_te"},{keyWord:"GDP",name:"gdp",className:"wi-g_d_p",type:"vi_mo_tien_te"},{keyWord:"Ch s gi tiu dng",name:"cpi",className:"wi-c_p_i",type:"vi_mo_tien_te"},{keyWord:"CPI",name:"cpi",className:"wi-c_p_i",type:"vi_mo_tien_te"},{keyWord:"Lm pht",name:"cpi",className:"wi-c_p_i",type:"vi_mo_tien_te"},{keyWord:"Tng mc bn l hng ha v dch v",name:"hhdv",className:"wi-h_h_d_v",type:"vi_mo_tien_te"},{keyWord:"Doanh thu bn l hng ha v dch v",name:"hhdv",className:"wi-h_h_d_v",type:"vi_mo_tien_te"},{keyWord:"Bn l hng ha v dch v",name:"hhdv",className:"wi-h_h_d_v",type:"vi_mo_tien_te"},{keyWord:"Vn u t pht trin x hi",name:"vdtptxh",className:"wi-v_d_t_ptxh",type:"vi_mo_tien_te"},{keyWord:"Vn u t t NSNN",name:"vdtnsnn",className:"wi-v_d_t_nsnn",type:"vi_mo_tien_te"},{keyWord:"Vn u t t ngn sch nh nc",name:"vdtnsnn",className:"wi-v_d_t_nsnn",type:"vi_mo_tien_te"},{keyWord:"Vn u t cng",name:"vdtnsnn",className:"wi-v_d_t_nsnn",type:"vi_mo_tien_te"},{keyWord:"Ch s sn xut cng nghip",name:"iip",className:"wi-i_i_p",type:"vi_mo_tien_te"},{keyWord:"IIP",name:"iip",className:"wi-i_i_p",type:"vi_mo_tien_te"},{keyWord:"PMI",name:"pmi",className:"wi-p_m_i",type:"vi_mo_tien_te"},{keyWord:"Purchasing Managers Index",name:"pmi",className:"wi-p_m_i",type:"vi_mo_tien_te"},{keyWord:"Ch s qun l thu mua",name:"pmi",className:"wi-p_m_i",type:"vi_mo_tien_te"},{keyWord:"FDI",name:"fdi",className:"wi-f_d_i",type:"vi_mo_tien_te"},{keyWord:"Vn u t trc tip nc ngoi",name:"fdi",className:"wi-f_d_i",type:"vi_mo_tien_te"},{keyWord:"Cn cn thng mi",name:"cctm",className:"wi-c_c_t_m",type:"vi_mo_tien_te"},{keyWord:"Nhp khu",name:"cctm",className:"wi-c_c_t_m",type:"vi_mo_tien_te"},{keyWord:"Xut khu",name:"cctm",className:"wi-c_c_t_m",type:"vi_mo_tien_te"},{keyWord:"Vn chuyn hng ha",name:"vt",className:"wi-v_t",type:"vi_mo_tien_te"},{keyWord:"Vn chuyn hnh khch",name:"vt",className:"wi-v_t",type:"vi_mo_tien_te"},{keyWord:"Khch quc t",name:"kqt",className:"wi-k_q_t",type:"vi_mo_tien_te"},{keyWord:"M2",name:"ctt",className:"wi-c_t_t",type:"vi_mo_tien_te"},{keyWord:"Cung tin t",name:"ctt",className:"wi-c_t_t",type:"vi_mo_tien_te"},{keyWord:"Tng huy ng vn trong nn kinh t",name:"hd",className:"wi-h_d",type:"vi_mo_tien_te"},{keyWord:"Tng tin gi trong nn kinh t",name:"hd",className:"wi-h_d",type:"vi_mo_tien_te"},{keyWord:"Tng tn dng trong nn kinh t",name:"td",className:"wi-t_d",type:"vi_mo_tien_te"},{keyWord:"Tn phiu kho bc",name:"tpkb",className:"wi-t_p_k_b",type:"vi_mo_tien_te"},{keyWord:"SBV - Bills",name:"tpkb",className:"wi-t_p_k_b",type:"vi_mo_tien_te"},{keyWord:"Treasury bills",name:"tpkb",className:"wi-t_p_k_b",type:"vi_mo_tien_te"},{keyWord:"Bills",name:"tpkb",className:"wi-t_p_k_b",type:"vi_mo_tien_te"},{keyWord:"OMO",name:"nvttm",className:"wi-n_v_t_t_t",type:"vi_mo_tien_te"},{keyWord:"Nghip v th trng m",name:"nvttm",className:"wi-n_v_t_t_t",type:"vi_mo_tien_te"},{keyWord:"Open Market Operations",name:"nvttm",className:"wi-n_v_t_t_t",type:"vi_mo_tien_te"},{keyWord:"Li sut lin ngn hng",name:"lslnh",className:"wi-l_s_l_n_h",type:"vi_mo_tien_te"},{keyWord:"Li sut chit khu",name:"lsdh",className:"wi-l_s_d_h",type:"vi_mo_tien_te"},{keyWord:"Li sut ti cp vn",name:"lsdh",className:"wi-l_s_d_h",type:"vi_mo_tien_te"},{keyWord:"LS qua m cho vay b p thiu ht vn",name:"lsdh",className:"wi-l_s_d_h",type:"vi_mo_tien_te"},{keyWord:"Li sut iu hnh",name:"lsdh",className:"wi-l_s_d_h",type:"vi_mo_tien_te"},{keyWord:"Li sut chnh sch",name:"lsdh",className:"wi-l_s_d_h",type:"vi_mo_tien_te"},{keyWord:"Li sut huy ng",name:"lshd",className:"wi-l_s_h_d",type:"vi_mo_tien_te"},{keyWord:"T gi trung tm",name:"dhtg",className:"wi-d_h_t_g",type:"vi_mo_tien_te"},{keyWord:"T gi trn",name:"dhtg",className:"wi-d_h_t_g",type:"vi_mo_tien_te"},{keyWord:"T gi sn",name:"dhtg",className:"wi-d_h_t_g",type:"vi_mo_tien_te"},{keyWord:"iu hnh t gi",name:"dhtg",className:"wi-d_h_t_g",type:"vi_mo_tien_te"},{keyWord:"D tr ngoi hi nh nc",name:"dtnh",className:"wi-d_t_n_h",type:"vi_mo_tien_te"},{keyWord:"D tr ngoi hi",name:"dtnh",className:"wi-d_t_n_h",type:"vi_mo_tien_te"},{keyWord:"Cn cn thanh ton",name:"cctt",className:"wi-c_c_t_t",type:"vi_mo_tien_te"},{keyWord:"BOP",name:"cctt",className:"wi-c_c_t_t",type:"vi_mo_tien_te"},{keyWord:"Balance of Payment",name:"cctt",className:"wi-c_c_t_t",type:"vi_mo_tien_te"},{keyWord:"Thu ngn sch",name:"tcns",className:"wi-t_c_n_s",type:"vi_mo_tien_te"},{keyWord:"Bi chi ngn sch",name:"tcns",className:"wi-t_c_n_s",type:"vi_mo_tien_te"},{keyWord:"Chi ngn sch",name:"tcns",className:"wi-t_c_n_s",type:"vi_mo_tien_te"},{keyWord:"Ngn sch nh nc",name:"tcns",className:"wi-t_c_n_s",type:"vi_mo_tien_te"},{keyWord:"N chnh ph",name:"ncp",className:"wi-n_c_p",type:"vi_mo_tien_te"},{keyWord:"N cng",name:"ncp",className:"wi-n_c_p",type:"vi_mo_tien_te"},{keyWord:"N quc gia",name:"ncp",className:"wi-n_c_p",type:"vi_mo_tien_te"},{keyWord:"Dn s",name:"ds",className:"wi-d_s",type:"vi_mo_tien_te"},{keyWord:"Lc lng lao ng",name:"ld",className:"wi-l_d",type:"vi_mo_tien_te"},{keyWord:"Lao ng",name:"ld",className:"wi-l_d",type:"vi_mo_tien_te"},{keyWord:"Tht nghip",name:"tn",className:"wi-t_n",type:"vi_mo_tien_te"},{keyWord:"Xi mng Trung Quc",name:"xi_mang",className:"wi-x_m",type:"vi_mo_hang_hoa"},{keyWord:"Xi mng",name:"xi_mang_pcb",className:"wi-xi_mang_pcb",type:"vi_mo_hang_hoa"},{keyWord:"Gi vng",name:"vang",className:"wi-vang",type:"vi_mo_hang_hoa"},{keyWord:"Gi in",name:"dien",className:"wi-dien",type:"vi_mo_hang_hoa"},{keyWord:"Heo hi",name:"heo_hoi",className:"wi-heo_hoi",type:"vi_mo_hang_hoa"},{keyWord:"Xng du",name:"xang_dau",className:"wi-xang_dau",type:"vi_mo_hang_hoa"},{keyWord:"C ph",name:"ca_phe",className:"wi-ca_phe",type:"vi_mo_hang_hoa"},{keyWord:"C tra",name:"ca_tra",className:"wi-ca_tra",type:"vi_mo_hang_hoa"},{keyWord:"Gi tiu",name:"tieu",className:"wi-tieu",type:"vi_mo_hang_hoa"},{keyWord:"Gi thp",name:"thep",className:"wi-thep",type:"vi_mo_hang_hoa"},{keyWord:"Phn Ure",name:"phan_ure",className:"wi-phan_ure",type:"vi_mo_hang_hoa"},{keyWord:"Pht pho",name:"phot_pho",className:"wi-phot_pho",type:"vi_mo_hang_hoa"},{keyWord:"Lu hunh",name:"luu_huynh",className:"wi-luu_huynh",type:"vi_mo_hang_hoa"},{keyWord:"Gi niken",name:"niken",className:"wi-niken",type:"vi_mo_hang_hoa"},{keyWord:"Gi ng Vit Nam",name:"dong",className:"wi-dong",type:"vi_mo_hang_hoa"},{keyWord:"Gi ng Trung Quc",name:"dong",className:"wi-dong",type:"vi_mo_hang_hoa"},{keyWord:"Gi ng th gii",name:"dong",className:"wi-dong",type:"vi_mo_hang_hoa"},{keyWord:"Gi ng tng",name:"dong",className:"wi-dong",type:"vi_mo_hang_hoa"},{keyWord:"Gi ng gim",name:"dong",className:"wi-dong",type:"vi_mo_hang_hoa"},{keyWord:"Gi ng vt",name:"dong",className:"wi-dong",type:"vi_mo_hang_hoa"},{keyWord:"Gi ng t",name:"dong",className:"wi-dong",type:"vi_mo_hang_hoa"},{keyWord:"Gi ng cao",name:"dong",className:"wi-dong",type:"vi_mo_hang_hoa"},{keyWord:"Gi ng thp",name:"dong",className:"wi-dong",type:"vi_mo_hang_hoa"},{keyWord:"Gi ng trn",name:"dong",className:"wi-dong",type:"vi_mo_hang_hoa"},{keyWord:"Gi ng bin ng",name:"dong",className:"wi-dong",type:"vi_mo_hang_hoa"},{keyWord:"Gi nhm",name:"nhom",className:"wi-nhom",type:"vi_mo_hang_hoa"},{keyWord:"Gi km",name:"kem",className:"wi-kem",type:"vi_mo_hang_hoa"},{keyWord:"Gi thic",name:"thiec",className:"wi-thiec",type:"vi_mo_hang_hoa"},{keyWord:"Gi ch",name:"chi",className:"wi-chi",type:"vi_mo_hang_hoa"},{keyWord:"Than cc",name:"than_coc",className:"wi-than_coc",type:"vi_mo_hang_hoa"},{keyWord:"Qung st",name:"quang_sat",className:"wi-quang_sat",type:"vi_mo_hang_hoa"},{keyWord:"Si coton",name:"soi_coton",className:"wi-soi_coton",type:"vi_mo_hang_hoa"},{keyWord:"Vi coton",name:"vai_coton",className:"wi-vai_coton",type:"vi_mo_hang_hoa"},{keyWord:"Bt giy",name:"bot_giay",className:"wi-bot_giay",type:"vi_mo_hang_hoa"},{keyWord:"Ln hi Trung Quc",name:"lon_hoi_trung_quoc",className:"wi-lon_hoi_trung_quoc",type:"vi_mo_hang_hoa"},{keyWord:"Du c",name:"dau_co_malaysia",className:"wi-dau_co_malaysia",type:"vi_mo_hang_hoa"},{keyWord:"Giy gn sng",name:"giay_gon_song_trung_quoc",className:"wi-giay_gon_song_trung_quoc",type:"vi_mo_hang_hoa"},{keyWord:"u nnh M",name:"dau_nanh_my",className:"wi-dau_nanh_my",type:"vi_mo_hang_hoa"},{keyWord:"Nha ng",name:"nhua_duong_60_70",className:"wi-nhua_duong_60_70",type:"vi_mo_hang_hoa"},{keyWord:"Gi ng",name:"duong",className:"wi-duong",type:"vi_mo_hang_hoa"},{keyWord:"Vi cotton M",name:"vai_cotton_my",className:"wi-vai_cotton_my",type:"vi_mo_hang_hoa"},{keyWord:"Go TPXK",name:"gao_tpxk",className:"wi-gao_tpxk",type:"vi_mo_hang_hoa"},{keyWord:"Tm s",name:"tom_su",className:"wi-tom_su",type:"vi_mo_hang_hoa"},{keyWord:"Tm th",name:"tom_the",className:"wi-tom_the",type:"vi_mo_hang_hoa"},{keyWord:"Ph phm la go",name:"phu_pham_lua_gao",className:"wi-phu_pham_lua_gao",type:"vi_mo_hang_hoa"},{keyWord:"La",name:"lua",className:"wi-lua",type:"vi_mo_hang_hoa"},{keyWord:"Go nguyn liu",name:"gao_nguyen_lieu",className:"wi-gao_nguyen_lieu",type:"vi_mo_hang_hoa"},{keyWord:"Gi bc",name:"bac",className:"wi-bac",type:"vi_mo_hang_hoa"},{keyWord:"Ure Trung ng",name:"ure_trung_dong",className:"wi-ure_trung_dong",type:"vi_mo_hang_hoa"},{keyWord:"Xt Trung Quc",name:"xut_naoh_trung_quoc",className:"wi-xut_naoh_trung_quoc",type:"vi_mo_hang_hoa"},{keyWord:"Phn DAP Trung Quc",name:"phan_dap_trung_quoc",className:"wi-phan_dap_trung_quoc",type:"vi_mo_hang_hoa"},{keyWord:"Phn Urea Trung Quc",name:"phan_urea_trung_quoc",className:"wi-phan_urea_trung_quoc",type:"vi_mo_hang_hoa"},{keyWord:"Thp dy Trung Quc",name:"thep_day_trung_quoc",className:"wi-thep_day_trung_quoc",type:"vi_mo_hang_hoa"},{keyWord:"Thp thanh Trung Quc",name:"thep_thanh_trung_quoc",className:"wi-thep_thanh_trung_quoc",type:"vi_mo_hang_hoa"},{keyWord:"Thp ph Anh",name:"thep_phe_anh",className:"wi-thep_phe_anh",type:"vi_mo_hang_hoa"},{keyWord:"Thp thanh Anh",name:"thep_thanh_anh",className:"wi-thep_thanh_anh",type:"vi_mo_hang_hoa"},{keyWord:"HRC Trung Quc",name:"hrc_trung_quoc",className:"wi-hrc_trung_quoc",type:"vi_mo_hang_hoa"},{keyWord:" 0-4",name:"da_0_4",className:"wi-da_0_4",type:"vi_mo_hang_hoa"},{keyWord:" mi sng",name:"da_mi_sang",className:"wi-da_mi_sang",type:"vi_mo_hang_hoa"},{keyWord:" 1x2",name:"da_1x2",className:"wi-da_1x2",type:"vi_mo_hang_hoa"},{keyWord:" Hc",name:"da_hoc",className:"wi-da_hoc",type:"vi_mo_hang_hoa"},{keyWord:"Tn lnh mu",name:"ton_lanh_mau_hoa_sen_045mm",className:"wi-ton_lanh_mau_hoa_sen_045mm",type:"vi_mo_hang_hoa"},{keyWord:"Tn lnh",name:"ton_lanh_hoa_sen_045mm",className:"wi-ton_lanh_hoa_sen_045mm",type:"vi_mo_hang_hoa"},{keyWord:"B tng nha mn",name:"be_tong_nhua_min",className:"wi-be_tong_nhua_min",type:"vi_mo_hang_hoa"},{keyWord:"ng nha 27 x 1.8mm",name:"ong_nhua_27x18mm",className:"wi-ong_nhua_27x18mm",type:"vi_mo_hang_hoa"},{keyWord:"ng nha 60 x 2mm",name:"ong_nhua_60x2mm",className:"wi-ong_nhua_60x2mm",type:"vi_mo_hang_hoa"},{keyWord:"ng nha 90 x 2,9mm",name:"ong_nhua_90x29mm",className:"wi-ong_nhua_90x29mm",type:"vi_mo_hang_hoa"},{keyWord:"Sn lt khng kim",name:"son_lot_khang_kiem_cao_cap",className:"wi-son_lot_khang_kiem_cao_cap",type:"vi_mo_hang_hoa"},{keyWord:"Sn ni tht",name:"son_noi_that_tieu_chuan",className:"wi-son_noi_that_tieu_chuan",type:"vi_mo_hang_hoa"},{keyWord:"Sn ngoi tht",name:"son_ngoai_that_tieu_chuan",className:"wi-son_ngoai_that_tieu_chuan",type:"vi_mo_hang_hoa"},{keyWord:"Knh mu trng cng lc",name:"kinh_mau_trang",className:"wi-kinh_mau_trang",type:"vi_mo_hang_hoa"},{keyWord:"Knh Solar control cng lc",name:"kinh_solar",className:"wi-kinh_solar",type:"vi_mo_hang_hoa"},{keyWord:"Dy cp in",name:"day_cap_dien",className:"wi-day_cap_dien",type:"vi_mo_hang_hoa"},{keyWord:"Gch t st nung",name:"gach_dat_set_nung",className:"wi-gach_dat_set_nung",type:"vi_mo_hang_hoa"},{keyWord:"Cc b tng",name:"coc_be_tong_du_ung_luc",className:"wi-coc_be_tong_du_ung_luc",type:"vi_mo_hang_hoa"},{keyWord:"B tng",name:"be_tong_mac_300",className:"wi-be_tong_mac_300",type:"vi_mo_hang_hoa"},{keyWord:"Kh LPG Trung Quc",name:"khi_lpg_trung_quoc",className:"wi-khi_lpg_trung_quoc",type:"vi_mo_hang_hoa"},{keyWord:"Du WTI",name:"dau_wti",className:"wi-dau_wti",type:"vi_mo_hang_hoa"},{keyWord:"Kh thin nhin",name:"khi_thien_nhien",className:"wi-khi_thien_nhien",type:"vi_mo_hang_hoa"},{keyWord:"Than Newcastle",name:"than_newcastle",className:"wi-than_newcastle",type:"vi_mo_hang_hoa"},{keyWord:"Mazt",name:"mazut",className:"wi-mazut",type:"vi_mo_hang_hoa"},{keyWord:"Cao su th gii",name:"cao_su_nhat_ban",className:"wi-cao_su_nhat_ban",type:"vi_mo_hang_hoa"},{keyWord:"Cao su",name:"cao_su",className:"wi-cao_su",type:"vi_mo_hang_hoa"},{keyWord:"Ht PET",name:"pet_trung_quoc",className:"wi-pet_trung_quoc",type:"vi_mo_hang_hoa"},{keyWord:"Ht nha PVC Trung Quc",name:"nhua_pvc_trung_quoc",className:"wi-nhua_pvc_trung_quoc",type:"vi_mo_hang_hoa"},{keyWord:"Ht nha PP Trung Quc",name:"nhua_pp_trung_quoc",className:"wi-nhua_pp_trung_quoc",type:"vi_mo_hang_hoa"},{keyWord:"CK Nht Bn - Nikkei 225",name:"ni255",className:"178",type:"investing"},{keyWord:"CK Trung Quc - Shanghai Composite (SSEC)",name:"shanghai",className:"40820",type:"investing"},{keyWord:"CK M - S&P 500",name:"dow_jone_sp500",className:"166",type:"investing"},{keyWord:"Ch s Dow Jones Industrial Average (DJI)",name:"dow_jone",className:"169",type:"investing"},{keyWord:"Ch s NASDAQ Composite (IXIC)",name:"nasdaq-composite",className:"14958",type:"investing"},{keyWord:"FTSE 100",name:"ftse100",className:"27",type:"investing"},{keyWord:"Hang Seng Index - CK Hng Kng",name:"hangseng_hsi",className:"179",type:"investing"},{keyWord:"CK Vit Nam - VNINDEX",name:"vnindex",className:"41063",type:"investing"},{keyWord:"Dollar Index - DXY",name:"dxy",className:"942611",type:"investing"},{keyWord:"Li sut TPCP M - 10 nm (%)",name:"us_bond_10y_investing",className:"23705",type:"investing"},{keyWord:"Li sut TPCP M - 1 nm (%) ",name:"us_bond_1y_investing",className:"23700",type:"investing"},{keyWord:"Li sut TPCP Vit Nam - 10 nm (%)",name:"vietnam_bond_10y_investing",className:"29379",type:"investing"},{keyWord:"Li sut TPCP Vit Nam - 1 nm (%)",name:"vietnam_bond_1y",className:"29380",type:"investing"},{keyWord:"Bng cn i k ton ca Fed (Bil USD)",name:"fed-ballance-sheet",className:"2145.json",type:"investing"},{keyWord:"Li sut qu lin bang ca Fed (%)",name:"fed-funds-rate",className:"168.json",type:"investing"},{keyWord:"Fed Funds Composite Interest Rate (%)",name:"fed-funds-composite-interest-rate",className:"985525",type:"investing"},{keyWord:"Ch s CPI M (%YoY)",name:"usa_cpi",className:"733.json",type:"investing"},{keyWord:"Ch s CPI M (%MoM)",name:"usa_cpi_mom",className:"69.json",type:"investing"},{keyWord:"Ch s CPI li M (%YoY)",name:"usa_cpi_core",className:"736.json",type:"investing"},{keyWord:"Ch s PCE Li M (%YoY)",name:"usa_pce_core",className:"905.json",type:"investing"},{keyWord:"Ch s PCE Li M (%MoM)",name:"usa_pce_month",className:"61.json",type:"investing"},{keyWord:"T l tht nghip M (%)",name:"unemployment_rate_cpi",className:"300.json",type:"investing"},{keyWord:"Ch s Th Trng Nh  ca NAHB - M",name:"nahb-housing-market-index",className:"218.json",type:"investing"},{keyWord:"S&P/Case-Shiller House Price Index (%YoY)",name:"case-shiller-house-price-index-yoy",className:"329.json",type:"investing"},{keyWord:"S&P/Case-Shiller House Price Index (%MoM)",name:"case-shiller-house-price-index-mom",className:"913.json",type:"investing"},{keyWord:"30 Year US mortgage rate (%)",name:"mba-30-year-mortgage-rate",className:"1042.json",type:"investing"},{keyWord:"USA Retail Inventories Excluding Auto (%)",name:"retail-inventories-ex-auto-1887",className:"1887.json",type:"investing"},{keyWord:"Eurozone Interest Rate (%)",name:"eurozone-interest-rate-decision",className:"164.json",type:"investing"},{keyWord:"Ch s CPI - Trung Quc (%YoY)",name:"chinese-cpi",className:"459.json",type:"investing"},{keyWord:"Ch s IIP - Trung Quc (%YoY)",name:"chinese-industrial-production",className:"462.json",type:"investing"},{keyWord:"Li sut cho vay c bn - Trung Quc (%)",name:"pboc-loan-prime-rate",className:"1967.json",type:"investing"},{keyWord:"Bitcoin US Dollar - BTCUSD",name:"btcusd",className:"945629",type:"investing"},{keyWord:"CBOE Volatility Index (VIX)",name:"volatility-sp500-vix-cboe",className:"44336",type:"investing"},{keyWord:"US Dollar Vietnamese Dong - USDVND",name:"usdvnd",className:"2214",type:"investing"},{keyWord:"US Dollar Japanese Yen - USDJPY",name:"usdjpy",className:"3",type:"investing"},{keyWord:"US Dollar British Pound - USDGPB",name:"usdgbp",className:"2126",type:"investing"},{keyWord:"US Dollar Swiss Franc - USDCHF",name:"usdchf",className:"4",type:"investing"},{keyWord:"US Dollar Canadian Dollar - USDCAD",name:"usdcad",className:"7",type:"investing"},{keyWord:"Astradian Dollar US Dollar - AUDUSD",name:"audusd",className:"5",type:"investing"},{keyWord:"New Zealand Dollar US Dollar - NZDUSD",name:"nzdusd",className:"5",type:"investing"},{keyWord:"US Dollar Chinese Yuan - USDCNY",name:"usdcny",className:"2111",type:"investing"},{keyWord:"Gi du Crude Oil WTI Futures (USD)",name:"crude-oil",className:"8849",type:"investing"},{keyWord:"Gi du Brent Oil Futures (USD)",name:"LCOc1",className:"8833",type:"investing"},{keyWord:"Cao su - Tocom (CNY)",name:"JRUc1",className:"1013463",type:"investing"},{keyWord:"Cao su RSS3",name:"SRUc1",className:"1013411",type:"investing"},{keyWord:"Cao su TSR20",name:"STFc1",className:"1013412",type:"investing"},{keyWord:"Gi vng - Gold Futures",name:"gold_future",className:"8830",type:"investing"},{keyWord:"Gi kh thin nhin - Natural Gas Futures",name:"natural_gas",className:"8862",type:"investing"},{keyWord:"Gi thp thanh - Steel Rebar Futures",name:"steel_rebar",className:"996702",type:"investing"},{keyWord:"Gi ng m - US Sugar #11 Futures",name:"SBc1",className:"8869",type:"investing"},{keyWord:"Gi Si - US Cotton #2 Futures",name:"CTc1",className:"8851",type:"investing"},{keyWord:"Hp ng Tng lai nha Polyvinyl Clorua - DPVc1 (CNY)",name:"Polyvinyl_Clorua_DPVc1",className:"961746",type:"investing"},{keyWord:"Hp ng Tng lai nha Polytylen - DLLc1 (CNY)",name:"nhua_lldpe",className:"961744",type:"investing"},{keyWord:"Ch s vn ti Baltic Dry Index",name:"baltic_dry",className:"940793",type:"investing"},{keyWord:"Gi Baltic Clean Tanker (USD)",name:"baltic-clean-tanker",className:"940799",type:"investing"}],cae=()=>{const e=N.useRef(null),t=N.useRef(null);N.useEffect(()=>{if("undefined"==typeof Highcharts){const e=document.createElement("script");e.src="https://code.highcharts.com/11.1/highcharts.js",e.onload=n,document.head.appendChild(e)}else n();return()=>{e.current&&e.current.destroy()}},[]);const n=()=>{t.current&&(t.current.innerHTML='\n            <div class="flex flex-col md:flex-row gap-4">\n                \x3c!-- Sidebar Filters --\x3e\n                <div class="w-full md:w-[300px] bg-white shadow p-4 md:h-auto">\n                    \x3c!-- Tabs --\x3e\n                    <div class="flex mb-4 space-x-2" id="tabs">\n                        <div class="tab-g transition-all duration-200 cursor-pointer flex-1 text-center py-2 px-3 border border-btn-primary-border rounded-md text-sm font-medium text-white bg-btn-primary"\n                        data-tab="vi_mo_tien_te">V m</div>\n                        <div class="tab-g transition-all duration-200 cursor-pointer flex-1 text-center py-2 px-3 border border-filter rounded-md text-sm font-medium text-menu-link bg-white hover:bg-filter"\n                        data-tab="vi_mo_hang_hoa">Hng ha</div>\n                        <div class="tab-g transition-all duration-200 cursor-pointer flex-1 text-center py-2 px-3 border border-filter rounded-md text-sm font-medium text-menu-link bg-white hover:bg-filter"\n                        data-tab="investing">Investing</div>\n                    </div>\n\n                    \x3c!-- Search --\x3e\n                    <div class="flex items-center mb-3">\n                        <svg class="w-5 h-5 mr-2 text-menu-link" fill="currentColor" viewBox="0 0 24 24">\n                        <path\n                            d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z">\n                        </path>\n                        </svg>\n                        <input autocomplete="off" id="searchInput" placeholder="Tm kim b lc"\n                        class="w-full border border-filter rounded-md px-2 py-1 text-sm text-text-color focus:outline-none focus:ring-2 focus:ring-blue" />\n                    </div>\n\n                    \x3c!-- Filter List --\x3e\n                    <ul id="filterList" class="overflow-y-auto h-[400px] list-none p-0 m-0"></ul>\n                </div>\n\n                \x3c!-- Chart Area --\x3e\n                <div class="flex-1">\n                    <div id="myChart" class="bg-white shadow p-4 min-h-[400px]"></div>\n                </div>\n            </div>\n        ',r())},r=()=>{const e=document.querySelectorAll(".tab-g"),t=document.getElementById("filterList"),n=document.getElementById("searchInput"),r=document.getElementById("myChart");let i="vi_mo_tien_te";function a(e){if(!e.xAxis)return;const t=e.xAxis[0].min,n=e.series[0].data;if(!n.length)return;const r=n[n.length-1],i=new Date,a=new Date(i.getFullYear()-2,i.getMonth(),i.getDate()),s=a.getTime()<t?t:a.getTime();e.xAxis[0].setExtremes(s,r.x)}function s(e){e.xAxis&&[{from:Date.UTC(1970,1,1),to:Date.UTC(1970,12,1)},{from:Date.UTC(1973,12,1),to:Date.UTC(1975,4,1)},{from:Date.UTC(1980,2,1),to:Date.UTC(1980,8,1)},{from:Date.UTC(1981,8,1),to:Date.UTC(1982,12,1)},{from:Date.UTC(1990,8,1),to:Date.UTC(1991,4,1)},{from:Date.UTC(2001,4,1),to:Date.UTC(2001,12,1)},{from:Date.UTC(2008,1,1),to:Date.UTC(2009,7,1)},{from:Date.UTC(2020,3,1),to:Date.UTC(2020,5,1)}].forEach((t,n)=>{e.xAxis[0].addPlotBand({id:`r${n}`,color:"#F1F1F1",from:t.from,to:t.to})})}function o(e,t){const n=function(e){let t={title:{text:e.chart.series[0].unit},labels:{style:{color:Highcharts.getOptions().colors[0]}}},n={title:{text:""},labels:{style:{color:Highcharts.getOptions().colors[0]}},opposite:!0},r=e.chart.series[0].type,i=0;const a=[];e.chart.series.forEach(e=>{r!==e.type&&(i=1,n.title.text=e.unit),a.push({name:e.name,data:e.data.sort(),fillMissingValues:{type:"previous"},unit:e.unit,connectNulls:!0,type:"bar"===e.type?"column":"spline",yAxis:r===e.type?0:1})});let s=`<b>${e.timeUpdate}</b> <br/>`;if(a.length>2)a.forEach(e=>{let t=e.data.map(e=>e[1]);s+=`${e.name} : ${t[t.length-1]||t[t.length-2]||t[t.length-3]} (${e.unit})<br/>`});else for(let o=0;o<e.titleIndex.length;o++)s+=`${e.titleIndex[o]} (${e.unitArray[o]})<br/>`;return{chart:{zoomType:"x",type:"column",height:"500px",style:{fontSize:"14px"},resetZoomButton:{position:{x:0,y:-40},theme:{fill:"white",style:{fontSize:"14px"},stroke:"silver",r:0,states:{hover:{fill:"#41739D",style:{color:"white"}}}}}},xAxis:{crosshair:!0,type:"datetime",labels:{formatter:function(){return Highcharts.dateFormat("%e/%m/%Y",this.value)}}},time:{useUTC:!1,timezone:"Asia/Ho_Chi_Minh"},title:{text:e.title,align:"center"},subtitle:{text:s,align:"left"},yAxis:i?[t,n]:[t],tooltip:{headerFormat:"<b>{point.x:%d/%m/%Y}</b><br>",pointFormat:"{series.name}: {point.y:.2f}<br>",shared:!0,useHTML:!0},credits:{enabled:!1},exporting:{enabled:!0},series:a,plotOptions:{column:{stacking:e.stacked_column},line:{dataLabels:{enabled:!1}}}}}(e);document.title=e.title,Highcharts.chart("myChart",n,e=>{s(e),a(e)})}function l(){r.innerHTML='\n    <div class="loading-container flex items-center justify-center w-full h-full bg-white bg-opacity-80">\n        <div class="lds-roller">\n            <div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>\n        </div>\n    </div>'}function c(n){i=n,e.forEach(e=>{const t=e.dataset.tab===n;e.classList.remove("bg-btn-primary","text-white","bg-white","text-menu-link","hover:bg-filter"),t?e.classList.add("bg-btn-primary","text-white"):e.classList.add("bg-white","text-menu-link","hover:bg-filter")}),function(e){t.innerHTML="";const n=document.createDocumentFragment();lae.forEach(t=>{if(t.type===e){const e=document.createElement("li");e.className="tab filter-item cursor-pointer px-3 py-2 border-b border-filter hover:bg-menu-button",e.dataset.name=t.name,e.textContent=t.keyWord,n.appendChild(e)}}),t.appendChild(n)}(n)}function u(e="lslnh"){return g(this,null,function*(){const t=lae.findIndex(t=>t.name===e);let n=e;if(-1===t&&(n="lslnh"),t>-1&&"investing"===lae[t].type)yield function(e){return g(this,null,function*(){l();try{const t=lae.findIndex(t=>t.name===e);if(-1===t)return void(r.innerHTML="<p>Khng tm thy d liu u t.</p>");const n=lae[t].className.includes("json"),i=n?`https://sbcharts.investing.com/events_charts/us/${lae[t].className}`:`https://api.investing.com/api/financialdata/${lae[t].className}/historical/chart/?period=MAX&interval=P1D&pointscount=120`,o=yield fetch(i);!function(e,t,n){var i;if(!e||!e.data||!e.data.length)return void(r.innerHTML="<p>Khng c d liu  hin th.</p>");const o=e.data.map((e,t)=>[e[0],n?e[1]:e[4]]),l=(null==(i=lae[t])?void 0:i.keyWord)||"D liu u t",c={chart:{zoomType:"x",type:"spline",height:500,style:{fontSize:"14px"}},title:{text:l,align:"center"},xAxis:{type:"datetime",crosshair:!0,labels:{formatter:function(){return Highcharts.dateFormat("%e/%m/%Y",this.value)}}},yAxis:{title:{text:""}},tooltip:{headerFormat:"<b>{point.x:%d/%m/%Y}</b><br>",pointFormat:"{series.name}: {point.y:.2f}<br>",shared:!0,useHTML:!0},credits:{enabled:!1},exporting:{enabled:!0},series:[{name:l,data:o,connectNulls:!0}]};Highcharts.chart("myChart",c,e=>{s(e),a(e)})}(yield o.json(),t,n)}catch(t){r.innerHTML='<p class="text-red-600 p-4">Li khi ti d liu Investing.</p>'}})}(n);else{l();try{let e=`https://api.wichart.vn/vietnambiz/vi-mo?name=${n}`;t>-1&&"vi_mo_hang_hoa"===lae[t].type&&(e+="&key=hanghoa");const r=yield fetch(e);if(!r.ok)throw new Error("Network response was not ok");o(yield r.json())}catch(i){r.innerHTML='<p class="text-red-600 p-4"> xy ra li khi ti d liu.</p>'}}})}t.addEventListener("click",e=>{const t=e.target.closest("li");if(!t)return;const n=t.dataset.name;n&&u(n)}),n.addEventListener("keyup",function(e,t){let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>e.apply(null,r),t)}}(function(){const e=n.value.toLowerCase(),r=t.children;Array.from(r).forEach(t=>{const n=t.textContent.toLowerCase();t.style.display=n.includes(e)?"":"none"})},200)),e.forEach(e=>{e.addEventListener("click",()=>{c(e.dataset.tab)})}),c(i),u("lslnh")};return v.jsx(Ke,{children:v.jsx("div",{ref:t,className:"w-full"})})},uae=()=>{const{data:e,loading:t,error:n}=Df("gdp_quarter"),{data:r,loading:i,error:a}=Df("money_supply_month"),{data:s,loading:o,error:l}=Df("retail_sales_year"),{data:c,loading:u,error:d}=Df("retail_sales_month"),{data:h,loading:f,error:m}=Df("cpi_month"),p=N.useMemo(()=>(null==e?void 0:e.data)?e.data.filter(e=>"Tng trng thc ca GDP"===e.group_name&&"Tng GDP"===e.name).sort((e,t)=>new Date(e.report_time)-new Date(t.report_time)).slice(-8).map(e=>({date:e.report_time.slice(0,7),gdp:e.value,quarter:e.report_type})):[],[e]),g=N.useMemo(()=>(null==r?void 0:r.data)?r.data.filter(e=>"Tng trng Cung tin M2 (YTD)*"===e.name).sort((e,t)=>new Date(e.report_time)-new Date(t.report_time)).slice(-12).map(e=>({date:e.report_time.slice(0,7),m2Growth:e.value})):[],[r]),x=N.useMemo(()=>{if(!(null==s?void 0:s.data))return[];try{return s.data.sort((e,t)=>new Date(e.report_time)-new Date(t.report_time)).slice(-8).map(e=>({date:e.report_time,total:e.data.percentage["Tng s"],service:e.data.percentage["Dch v & du lch"],commerce:e.data.percentage["Thng nghip"],hospitality:e.data.percentage["Khch sn nh hng"],totalValue:e.data.cash["Tng s"],serviceValue:e.data.cash["Dch v & du lch"],commerceValue:e.data.cash["Thng nghip"],hospitalityValue:e.data.cash["Khch sn nh hng"]}))}catch(e){return[]}},[s]),y=N.useMemo(()=>(null==h?void 0:h.data)?h.data.filter(e=>"Ch s gi tiu dng"===e.name).sort((e,t)=>new Date(e.report_time)-new Date(t.report_time)).slice(-12).map(e=>({date:e.report_time.slice(0,7),cpi:e.value})):[],[h]);return N.useMemo(()=>{const e=new Set([...p.map(e=>e.date),...g.map(e=>e.date),...x.map(e=>e.date),...y.map(e=>e.date)]);return Array.from(e).sort().map(e=>{const t=p.find(t=>t.date===e),n=g.find(t=>t.date===e),r=x.find(t=>t.date===e),i=y.find(t=>t.date===e);return{date:e,gdp:(null==t?void 0:t.gdp)||null,m2Growth:(null==n?void 0:n.m2Growth)||null,retailGrowth:(null==r?void 0:r.retailGrowth)||null,cpi:(null==i?void 0:i.cpi)||null}}).filter(e=>null!==e.gdp||null!==e.m2Growth||null!==e.retailGrowth||null!==e.cpi).slice(-24)},[p,g,x,y]),N.useMemo(()=>({gdp:p[0],m2Growth:g[0],retailGrowth:x[0],cpi:y[0]}),[p,g,x,y]),v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-2",children:"Bo co V m"}),v.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Phn tch cc ch s kinh t v m v xu hng th trng"})]}),v.jsx(cae,{}),v.jsxs(Ke,{children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200 mb-4",children:"Phn tch Th trng"}),v.jsxs("div",{className:"space-y-4 text-sm text-gray-600 dark:text-gray-400",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2",children:"Tng trng GDP"}),v.jsx("p",{children:"Tng trng GDP l ch s quan trng nht phn nh sc khe ca nn kinh t. Tng trng cao thng tng quan vi hiu sut tt ca th trng chng khon."})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2",children:"Cung tin M2"}),v.jsx("p",{children:"Tng trng cung tin M2 phn nh tnh thanh khon trong nn kinh t. Tng trng cao c th thc y th trng nhng cng c th gy lm pht."})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2",children:"Bn l"}),v.jsx("p",{children:"Tng trng bn l cho thy sc tiu th ca ngi dn. y l ch s quan trng phn nh sc khe ca nn kinh t tiu dng."})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2",children:"Ch s Gi Tiu dng (CPI)"}),v.jsx("p",{children:"CPI o lng lm pht. Lm pht va phi c th tt cho th trng, nhng lm pht cao c th nh hng tiu cc n hiu sut c phiu."})]})]})]})]})},dae=N.memo(function({symbol:e="NASDAQ:AAPL",interval:t="D",height:n="400px"}){const r=N.useRef(),i=`tradingview-${e}-${t}-${Math.random().toString(36).substr(2,9)}`;return N.useEffect(()=>{r.current&&(r.current.innerHTML="");const n=document.createElement("script");return n.src="https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js",n.type="text/javascript",n.async=!0,n.innerHTML=`\n        {\n          "allow_symbol_change": true,\n          "calendar": false,\n          "details": false,\n          "hide_side_toolbar": true,\n          "hide_top_toolbar": false,\n          "hide_legend": false,\n          "hide_volume": false,\n          "hotlist": false,\n          "interval": "${t}",\n          "locale": "en",\n          "save_image": true,\n          "style": "1",\n          "symbol": "${e}",\n          "theme": "light",\n          "timezone": "Etc/UTC",\n          "backgroundColor": "#ffffff",\n          "gridColor": "rgba(46, 46, 46, 0.06)",\n          "watchlist": [],\n          "withdateranges": false,\n          "compareSymbols": [],\n          "studies": [],\n          "autosize": true\n        }`,r.current&&r.current.appendChild(n),()=>{r.current&&(r.current.innerHTML="")}},[e,t]),v.jsxs("div",{id:i,className:"tradingview-widget-container",ref:r,style:{height:n,width:"100%",position:"relative",zIndex:1},children:[v.jsx("div",{className:"tradingview-widget-container__widget",style:{height:"calc(100% - 32px)",width:"100%"}}),v.jsx("div",{className:"tradingview-widget-copyright",children:v.jsx("a",{href:"https://www.tradingview.com/",rel:"noopener nofollow",target:"_blank",children:v.jsx("span",{className:"blue-text",children:"Track all markets on TradingView"})})})]})}),hae={inflation_mode:{status:"OFF",indicators:{}},risk_mode:{status:"OFF",indicators:{vix:20,treasury_yield:"4.0%",credit_spread:"1.0%"}},vix:20,dxy:100},fae=({title:e,mode:t,description:n,icon:r,colorClass:i})=>v.jsxs("div",{className:`p-4 rounded-lg border ${i}`,children:[v.jsxs("div",{className:"flex items-center mb-3",children:[r&&v.jsx(r,{className:"w-5 h-5 mr-2"}),v.jsx("h4",{className:"font-semibold text-sm",children:e})]}),v.jsx("div",{className:"text-lg font-bold mb-1",children:t}),v.jsx("p",{className:"text-xs text-slate-600",children:n})]}),mae=({title:e,description:t,symbol:n,interval:r,height:i,interpretationGuide:a})=>{const[s,o]=N.useState(!1);return v.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[v.jsxs("div",{className:"flex items-center justify-between mb-3",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"font-semibold text-slate-700",children:e}),v.jsx("p",{className:"text-xs text-slate-500 mt-1",children:t})]}),v.jsxs("button",{onClick:()=>o(!s),className:"text-blue-600 hover:text-blue-800 text-xs flex items-center",children:[v.jsx(he,{className:"w-4 h-4 mr-1"}),"Cch c"]})]}),s&&v.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-3 mb-3 text-xs",children:[v.jsx("h5",{className:"font-semibold text-yellow-800 mb-2",children:" Cch din gii biu :"}),v.jsx("div",{className:"space-y-1 text-yellow-700",children:a.map((e,t)=>v.jsxs("div",{className:"flex items-start",children:[v.jsx("span",{className:"font-medium mr-2",children:""}),v.jsxs("span",{children:[v.jsxs("strong",{children:[e.condition,":"]})," ",e.meaning]})]},t))})]}),v.jsx("div",{style:{height:i},children:v.jsx(dae,{symbol:n,interval:r})})]})},pae=({label:e,value:t,change:n,colorClass:r="text-slate-700"})=>v.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg border",children:[v.jsx("div",{className:"text-xs text-slate-500 mb-1",children:e}),v.jsx("div",{className:`font-bold text-lg ${r}`,children:t}),n&&v.jsxs("div",{className:"text-xs flex items-center mt-1 "+(n.startsWith("+")?"text-green-600":"text-red-600"),children:[n.startsWith("+")?v.jsx(Te,{className:"w-3 h-3 mr-1"}):v.jsx(Ae,{className:"w-3 h-3 mr-1"}),n]})]});k.memo(fae),k.memo(pae),k.memo(mae);const gae=({data:e})=>{var t,n,r;const i=(()=>{var t,n;const r="ON"===(null==(t=e.inflation_mode)?void 0:t.status),i="ON"===(null==(n=e.risk_mode)?void 0:n.status);return r&&i?{primary:{asset:"Vng (Gold)",action:"MUA",reason:"Tr n an ton khi lm pht cao"},secondary:{asset:"USD",action:"MUA",reason:"ng tin mnh trong mi trng bt n"},avoid:{asset:"C phiu",action:"TRNH/BN",reason:"Ri ro cao khi lm pht v s hi"}}:r||i?{primary:{asset:"C phiu cht lng",action:"MUA CHN LC",reason:"Cn bng ri ro v c hi"},secondary:{asset:"Tri phiu",action:"GI",reason:"a dng ha danh mc"},avoid:{asset:"Ti sn ri ro cao",action:"TRNH",reason:"Mi trng khng r rng"}}:{primary:{asset:"C phiu VN",action:"MUA",reason:"Mi trng thun li cho tng trng"},secondary:{asset:"Bitcoin",action:"MUA",reason:"Ti sn ri ro trong giai on tng trng"},avoid:{asset:"Vng",action:"TRNH",reason:"Km hp dn khi th trng tng trng"}}})();return v.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg border-2 border-green-200 p-6 mb-6",children:[v.jsxs("div",{className:"flex items-center mb-4",children:[v.jsx(Oe,{className:"w-6 h-6 text-green-600 mr-2"}),v.jsx("h3",{className:"text-xl font-bold text-green-800",children:" Tm tt Giao dch (TLDR)"})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[v.jsxs("div",{className:"bg-white rounded-lg p-4 border-l-4 border-green-500",children:[v.jsxs("div",{className:"flex items-center mb-2",children:[v.jsx(Te,{className:"w-4 h-4 text-green-600 mr-2"}),v.jsx("span",{className:"font-semibold text-green-800",children:"Khuyn ngh chnh"})]}),v.jsx("div",{className:"text-lg font-bold text-green-700",children:i.primary.asset}),v.jsx("div",{className:"text-sm font-medium mb-2 "+(i.primary.action.includes("MUA")?"text-green-600":"text-red-600"),children:i.primary.action}),v.jsx("div",{className:"text-xs text-gray-600",children:i.primary.reason})]}),v.jsxs("div",{className:"bg-white rounded-lg p-4 border-l-4 border-blue-500",children:[v.jsxs("div",{className:"flex items-center mb-2",children:[v.jsx(G,{className:"w-4 h-4 text-blue-600 mr-2"}),v.jsx("span",{className:"font-semibold text-blue-800",children:"La chn ph"})]}),v.jsx("div",{className:"text-lg font-bold text-blue-700",children:i.secondary.asset}),v.jsx("div",{className:"text-sm font-medium mb-2 "+(i.secondary.action.includes("MUA")?"text-green-600":"text-blue-600"),children:i.secondary.action}),v.jsx("div",{className:"text-xs text-gray-600",children:i.secondary.reason})]}),v.jsxs("div",{className:"bg-white rounded-lg p-4 border-l-4 border-red-500",children:[v.jsxs("div",{className:"flex items-center mb-2",children:[v.jsx(De,{className:"w-4 h-4 text-red-600 mr-2"}),v.jsx("span",{className:"font-semibold text-red-800",children:"Nn trnh"})]}),v.jsx("div",{className:"text-lg font-bold text-red-700",children:i.avoid.asset}),v.jsx("div",{className:"text-sm font-medium text-red-600 mb-2",children:i.avoid.action}),v.jsx("div",{className:"text-xs text-gray-600",children:i.avoid.reason})]})]}),v.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[v.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:" Ti sao?"}),v.jsxs("p",{className:"text-sm text-gray-700",children:["Hin ti th trng ang trong ch  ",v.jsx("strong",{children:null==(t=e.market_regime)?void 0:t.current}),". Lm pht ","ON"===(null==(n=e.inflation_mode)?void 0:n.status)?"ang tng":"c kim sot"," v tm l nh u t ","ON"===(null==(r=e.risk_mode)?void 0:r.status)?"s hi":"lc quan",". Trong bi cnh ny, chin lc tt nht l ",i.primary.action.toLowerCase()," ",i.primary.asset.toLowerCase(),"."]})]})]})},xae=({title:e,intent:t,howToUse:n,children:r})=>v.jsxs("div",{className:"mb-6",children:[v.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200 mb-4",children:[v.jsxs("h3",{className:"text-lg font-bold text-blue-900 mb-2 flex items-center",children:[v.jsx(Ne,{className:"w-5 h-5 mr-2"}),e]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"font-semibold text-blue-800 mb-1",children:" Mc ch:"}),v.jsx("p",{className:"text-blue-700",children:t})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-semibold text-blue-800 mb-1",children:" Cch s dng:"}),v.jsx("p",{className:"text-blue-700",children:n})]})]})]}),r]}),yae=({data:e})=>v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsx(fae,{title:"Ch  Lm pht",mode:e.inflation_mode,description:"Th trng ang lo ngi v lm pht",icon:Te,colorClass:"text-red-600"}),v.jsx(fae,{title:"Ch  Ri ro",mode:e.risk_mode,description:"Th trng ang s hi ri ro",icon:De,colorClass:"text-orange-600"})]}),vae=({data:e})=>{var t,n,r,i,a,s,o,l,c,u,d,h,f,m;return v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[v.jsx(pae,{label:"VIX",value:(null==(n=null==(t=e.risk_mode)?void 0:t.indicators)?void 0:n.vix)||"N/A",change:(null==(i=null==(r=e.risk_mode)?void 0:r.indicators)?void 0:i.vix_change)||"0%",colorClass:(null==(s=null==(a=e.risk_mode)?void 0:a.indicators)?void 0:s.vix)>30?"text-red-600":"text-green-600"}),v.jsx(pae,{label:"Bond Yield",value:(null==(l=null==(o=e.risk_mode)?void 0:o.indicators)?void 0:l.treasury_yield)||"N/A",change:(null==(u=null==(c=e.risk_mode)?void 0:c.indicators)?void 0:u.yield_change)||"0%",colorClass:"text-blue-600"}),v.jsx(pae,{label:"Credit Spread",value:(null==(h=null==(d=e.risk_mode)?void 0:d.indicators)?void 0:h.credit_spread)||"N/A",change:(null==(m=null==(f=e.risk_mode)?void 0:f.indicators)?void 0:m.spread_change)||"0%",colorClass:"text-purple-600"})]})},bae=({configs:e})=>v.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.map((e,t)=>v.jsx(mae,{title:e.title,description:e.description,symbol:e.symbol,interval:"1D",height:300,interpretationGuide:e.interpretationGuide},t))}),_ae=({data:e})=>{var t,n;const r=(()=>{var t,n;const r="ON"===(null==(t=e.inflation_mode)?void 0:t.status),i="ON"===(null==(n=e.risk_mode)?void 0:n.status);return{currentSituation:r&&i?"Lm pht cao + S hi":r||i?r?"Lm pht cao + Lc quan":"Lm pht thp + S hi":"Lm pht thp + Lc quan",whatItMeans:r&&i?"Th trng ang trong giai on kh khn nht - va lo lm pht va s ri ro":r||i?"Th trng trong giai on chuyn tip - cn theo di cht ch":"Th trng trong giai on l tng - lm pht kim sot v tm l tch cc",nextSteps:[r?"Theo di CPI, Fed meeting":"Theo di GDP, earnings",i?"Ch VIX gim xung di 25":"Tn dng momentum tng trng","Xem xt ti cn bng danh mc hng tun"]}})();return v.jsxs("div",{className:"bg-slate-50 rounded-lg border p-6",children:[v.jsxs("h4",{className:"font-semibold text-lg text-slate-800 mb-4 flex items-center",children:[v.jsx(ee,{className:"w-5 h-5 mr-2"}),"Phn tch tng hp & Hnh ng"]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"bg-white rounded-lg p-4 border",children:[v.jsx("h5",{className:"font-semibold text-blue-800 mb-2",children:" Tnh hnh hin ti"}),v.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[v.jsx("strong",{children:"Ch :"})," ",r.currentSituation]}),v.jsx("p",{className:"text-xs text-gray-600",children:r.whatItMeans})]}),v.jsxs("div",{className:"bg-white rounded-lg p-4 border",children:[v.jsx("h5",{className:"font-semibold text-green-800 mb-2",children:" Tn hiu quan trng"}),v.jsxs("div",{className:"space-y-2 text-sm",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{children:"VIX Level:"}),v.jsx("span",{className:e.vix>30?"text-red-600":"text-green-600",children:e.vix>30?"S hi cao":"Bnh thng"})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{children:"USD Strength:"}),v.jsx("span",{className:e.dxy>105?"text-red-600":"text-green-600",children:e.dxy>105?"Rt mnh":"n nh"})]})]})]})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"bg-white rounded-lg p-4 border",children:[v.jsx("h5",{className:"font-semibold text-purple-800 mb-2",children:" K hoch hnh ng"}),v.jsx("div",{className:"space-y-2",children:r.nextSteps.map((e,t)=>v.jsxs("div",{className:"flex items-start text-sm",children:[v.jsx("span",{className:"bg-purple-100 text-purple-800 rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold mr-2 mt-0.5",children:t+1}),v.jsx("span",{className:"text-gray-700",children:e})]},t))})]}),v.jsxs("div",{className:"bg-white rounded-lg p-4 border",children:[v.jsx("h5",{className:"font-semibold text-orange-800 mb-2",children:" Ri ro cn lu "}),v.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[v.jsxs("div",{children:[" ","ON"===(null==(t=e.inflation_mode)?void 0:t.status)?"Fed c th tng li sut bt ng":"Tng trng c th chm li"]}),v.jsxs("div",{children:[" ","ON"===(null==(n=e.risk_mode)?void 0:n.status)?"Bn tho c th lan rng":"Th trng c th qu lc quan"]}),v.jsx("div",{children:" Bin ng a chnh tr bt ng"})]})]})]})]})]})},wae=({data:e})=>{const t=[{name:"Corn",symbol:"ZC",icon:ze,color:"text-yellow-600"},{name:"Cotton",symbol:"CT",icon:ze,color:"text-white-600"},{name:"Crude Oil",symbol:"CL",icon:ve,color:"text-black-600"},{name:"Copper",symbol:"HG",icon:me,color:"text-orange-600"},{name:"Coffee",symbol:"KC",icon:ge,color:"text-brown-600"},{name:"Cocoa",symbol:"CC",icon:ge,color:"text-brown-800"},{name:"Cattle",symbol:"LE",icon:G,color:"text-red-600"}];return v.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[v.jsxs("h4",{className:"font-semibold text-sm text-slate-700 mb-3 flex items-center",children:[v.jsx(_e,{className:"w-4 h-4 mr-2"}),"Seven C's Commodities - Early Inflation Signals"]}),v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:t.map((t,n)=>{var r;const i=t.icon,a=(null==(r=null==e?void 0:e.commodities)?void 0:r[t.symbol])||0,s=a>0;return v.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg border",children:[v.jsxs("div",{className:"flex items-center mb-2",children:[v.jsx(i,{className:`w-4 h-4 mr-2 ${t.color}`}),v.jsx("span",{className:"text-xs font-medium",children:t.name})]}),v.jsxs("div",{className:"font-bold text-lg "+(s?"text-green-600":"text-red-600"),children:[s?"+":"",a.toFixed(1),"%"]}),v.jsx("div",{className:"text-xs text-slate-500 mt-1",children:s?"Inflationary":"Deflationary"})]},n)})}),v.jsx("div",{className:"mt-3 p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:v.jsxs("p",{className:"text-xs text-yellow-800",children:[v.jsx("strong",{children:" Insight:"})," Seven C's commodities serve as early inflation signals. Recent data shows coffee hitting unprecedented levels and copper surging to November 2022 highs, indicating potential inflationary pressure ahead."]})})]})},jae=({data:e})=>{var t;const n=(null==(t=null==e?void 0:e.inflation_mode)?void 0:t.indicators)||{};return v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[v.jsx(pae,{label:"CPI YoY",value:n.cpi||"2.7%",change:n.cpi_change||"+0.3%",colorClass:parseFloat(n.cpi)>3?"text-red-600":"text-orange-600"}),v.jsx(pae,{label:"Core CPI",value:n.core_cpi||"2.9%",change:n.core_cpi_change||"+0.1%",colorClass:parseFloat(n.core_cpi)>3?"text-red-600":"text-orange-600"}),v.jsx(pae,{label:"PPI YoY",value:n.ppi||"1.8%",change:n.ppi_change||"+0.2%",colorClass:"text-blue-600"}),v.jsx(pae,{label:"PCE YoY",value:n.pce||"2.6%",change:n.pce_change||"+0.1%",colorClass:"text-purple-600"}),v.jsx(pae,{label:"BCOM Index",value:n.bcom||"85.2",change:n.bcom_change||"+2.1%",colorClass:"text-green-600"}),v.jsx(pae,{label:"Copper Price",value:n.copper||"$4.85",change:n.copper_change||"+5.2%",colorClass:"text-orange-600"}),v.jsx(pae,{label:"Oil Price",value:n.oil||"$82.45",change:n.oil_change||"+1.8%",colorClass:"text-black-600"}),v.jsx(pae,{label:"Coffee Price",value:n.coffee||"$2.85",change:n.coffee_change||"+12.5%",colorClass:"text-brown-600"})]})},Nae=({data:e})=>{var t,n,r,i,a,s,o;const l="ON"===(null==(t=null==e?void 0:e.inflation_mode)?void 0:t.status),c=parseFloat(null==(r=null==(n=null==e?void 0:e.inflation_mode)?void 0:n.indicators)?void 0:r.cpi)||2.7,u=parseFloat(null==(a=null==(i=null==e?void 0:e.inflation_mode)?void 0:i.indicators)?void 0:a.core_cpi)||2.9;parseFloat(null==(o=null==(s=null==e?void 0:e.inflation_mode)?void 0:s.indicators)?void 0:o.ppi);const d=l&&c>3&&u>3?{regime:"HIGH_INFLATION_VOLATILITY",description:"Lm pht cao v bin ng mnh",characteristics:["CPI v Core CPI > 3%","PPI tng nhanh","Negative bond-stock correlation","Increased sector rotation","Commodities outperform"],strategy:"Defensive positioning, inflation hedges, commodities"}:!l&&c<2.5&&u<2.5?{regime:"LOW_INFLATION_VOLATILITY",description:"Lm pht thp v n nh",characteristics:["CPI v Core CPI < 2.5%","PPI n nh","Positive bond-stock correlation","Growth stocks perform well","Stable monetary policy"],strategy:"Growth stocks, bonds, stable allocation"}:{regime:"TRANSITIONAL",description:"Chuyn tip gia cc ch ",characteristics:["Mixed inflation signals","Uncertain Fed policy","Volatile correlations","Watch for regime change","Balanced approach needed"],strategy:"Balanced allocation, monitor closely"};return v.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[v.jsxs("h4",{className:"font-semibold text-sm text-slate-700 mb-3 flex items-center",children:[v.jsx(ee,{className:"w-4 h-4 mr-2"}),"Phn tch Ch  Lm pht"]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("h5",{className:"font-semibold text-blue-800 mb-2",children:" Ch  hin ti"}),v.jsxs("div",{className:"p-3 rounded-lg "+("HIGH_INFLATION_VOLATILITY"===d.regime?"bg-red-50 border border-red-200":"LOW_INFLATION_VOLATILITY"===d.regime?"bg-green-50 border border-green-200":"bg-yellow-50 border border-yellow-200"),children:[v.jsx("div",{className:"font-semibold text-sm mb-1",children:d.regime.replace("_"," ")}),v.jsx("div",{className:"text-xs text-gray-600",children:d.description})]})]}),v.jsxs("div",{children:[v.jsx("h5",{className:"font-semibold text-purple-800 mb-2",children:" c im"}),v.jsx("div",{className:"space-y-1",children:d.characteristics.map((e,t)=>v.jsxs("div",{className:"text-xs text-gray-700 flex items-start",children:[v.jsx("span",{className:"mr-2 mt-1",children:""}),v.jsx("span",{children:e})]},t))})]})]}),v.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[v.jsx("h5",{className:"font-semibold text-blue-800 mb-2",children:" Chin lc  xut"}),v.jsx("p",{className:"text-sm text-blue-700",children:d.strategy})]})]})},kae=()=>{var e;const[t,n]=N.useState("1D"),{data:r,loading:i,error:a}=Df("RRG_ANALYSIS",t),{data:s,loading:o,error:l}=Df("cpi_month"),{data:c,loading:u,error:d}=Df("commodities_data"),m=N.useMemo(()=>{var e,t;const n=(null==(t=null==(e=null==r?void 0:r.insights)?void 0:e.detailed_analysis)?void 0:t.market_interconnection)||hae;if(null==s?void 0:s.data){const e=s.data.filter(e=>"Ch s gi tiu dng"===e.name).sort((e,t)=>new Date(t.report_time)-new Date(e.report_time))[0];e&&(n.inflation_mode=f(h({},n.inflation_mode),{indicators:f(h({},n.inflation_mode.indicators),{cpi:`${e.value}%`,cpi_change:e.value>0?`+${e.value}%`:`${e.value}%`})}))}return(null==c?void 0:c.data)&&(n.commodities={},Object.entries(c.data).forEach(([e,t])=>{n.commodities[t.symbol]=t.change_percent}),c.summary&&(n.inflation_mode=f(h({},n.inflation_mode),{indicators:f(h({},n.inflation_mode.indicators),{bcom:c.summary.bcom_index.toString(),bcom_change:`${c.summary.bcom_change>0?"+":""}${c.summary.bcom_change}%`,copper:`$${c.data.copper.current_price}`,copper_change:`${c.data.copper.change_percent>0?"+":""}${c.data.copper.change_percent}%`,oil:`$${c.data.crude_oil.current_price}`,oil_change:`${c.data.crude_oil.change_percent>0?"+":""}${c.data.crude_oil.change_percent}%`,coffee:`$${c.data.coffee.current_price}`,coffee_change:`${c.data.coffee.change_percent>0?"+":""}${c.data.coffee.change_percent}%`})}))),n},[r,s,c]),p=N.useMemo(()=>{var e;return(e=>[{title:"Ch s VIX (Fear & Greed)",symbol:"VIX",description:"o lng mc  s hi/tham lam ca th trng",interpretationGuide:e?[{condition:"VIX > 35",meaning:"Panic v stagflation  Mua vng, bn mi th khc"},{condition:"VIX 25-35",meaning:"Lo lm pht  Rotate sang commodities"},{condition:"VIX < 20",meaning:"Nguy him! Th trng ignore lm pht  Hedge ngay"},{condition:"VIX spike t bin",meaning:"Fed c th action mnh  Bn growth stocks"}]:[{condition:"VIX > 30",meaning:"Growth scare  Mua quality dip"},{condition:"VIX 20-30",meaning:"Uncertainty  Ch clarity"},{condition:"VIX < 15",meaning:"Euphoria  Gim risk, chun b correction"},{condition:"VIX gim dn",meaning:"Recovery mode  Tng cyclicals"}]},{title:"Li sut Tri phiu 10Y",symbol:"US10Y",description:e?"Phn nh k vng lm pht v Fed hawkishness":"Phn nh k vng tng trng v Fed policy",interpretationGuide:e?[{condition:"Yield > 5%",meaning:"Fed tng li sut mnh  Bn c phiu, mua USD"},{condition:"Yield 4-5%",meaning:"Fed ang chng lm pht  Neutral stocks"},{condition:"Yield < 3.5%",meaning:"Th trng khng tin Fed  Mua vng"},{condition:"Yield curve invert",meaning:"Recession risk  Defensive positioning"}]:[{condition:"Yield > 4.5%",meaning:"Growth optimism  Rotate growth to value"},{condition:"Yield 3-4%",meaning:"Balanced growth  Maintain allocation"},{condition:"Yield < 2.5%",meaning:"Recession fear  Buy bonds, defensives"},{condition:"Yield rising fast",meaning:"Reflation trade  Buy cyclicals"}]},{title:"Ch s CPI (Consumer Price Index)",symbol:"CPI",description:"Ch s gi tiu dng - ch s lm pht c bn nht",interpretationGuide:[{condition:"CPI > 4%",meaning:"Lm pht cao  Fed hawkish, bn bonds, mua commodities"},{condition:"CPI 2-4%",meaning:"Lm pht va phi  Neutral stance, theo di Fed"},{condition:"CPI < 2%",meaning:"Lm pht thp  Fed dovish, mua bonds, bn USD"},{condition:"CPI tng nhanh",meaning:"Inflation scare  Rotate sang inflation hedges"}]},{title:"Core CPI (Loi tr Food & Energy)",symbol:"CORE_CPI",description:"CPI li - Fed's preferred measure, n nh hn",interpretationGuide:[{condition:"Core CPI > 4%",meaning:"Sticky inflation  Fed s tng li sut lu di"},{condition:"Core CPI 2-4%",meaning:"Inflation persistence  Cautious Fed policy"},{condition:"Core CPI < 2%",meaning:"Inflation under control  Fed c th dovish"},{condition:"Core CPI > Headline CPI",meaning:"Services inflation  Bad for growth stocks"}]},{title:"Producer Price Index (PPI)",symbol:"PPI",description:"Ch s gi sn xut - leading indicator cho CPI",interpretationGuide:[{condition:"PPI > 5%",meaning:"Supply chain pressure  CPI s tng trong 3-6 thng"},{condition:"PPI 2-5%",meaning:"Moderate cost pressure  Watch for CPI transmission"},{condition:"PPI < 2%",meaning:"Cost deflation  CPI c th gim"},{condition:"PPI falling",meaning:"Supply chain healing  Good for margins"}]},{title:"Personal Consumption Expenditures (PCE)",symbol:"PCE",description:"Ch s Fed a thch - broader than CPI",interpretationGuide:[{condition:"PCE > 3%",meaning:"Fed's inflation target exceeded  Hawkish policy"},{condition:"PCE 2-3%",meaning:"Near target  Balanced policy"},{condition:"PCE < 2%",meaning:"Below target  Dovish policy possible"},{condition:"PCE vs CPI gap",meaning:"Methodology differences  Fed focuses on PCE"}]},{title:"Bloomberg Commodity Index (BCOM)",symbol:"BCOM",description:"Ch s hng ha - leading inflation indicator",interpretationGuide:[{condition:"BCOM > 20% YoY",meaning:"Commodity inflation  CPI pressure in 3-5 months"},{condition:"BCOM 10-20% YoY",meaning:"Moderate commodity inflation  Watch trends"},{condition:"BCOM < 10% YoY",meaning:"Low commodity inflation  CPI relief"},{condition:"BCOM correlation 0.78-0.85",meaning:"Strong inflation signal  Hedge inflation"}]}])("ON"===(null==(e=m.inflation_mode)?void 0:e.status))},[null==(e=m.inflation_mode)?void 0:e.status]);return N.useCallback(e=>{n(e)},[]),i||o||u?v.jsx("div",{className:"flex items-center justify-center p-8",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),v.jsx("p",{className:"text-gray-600",children:"ang ti d liu phn tch lin th trng..."})]})}):a||l||d?v.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx(De,{className:"w-5 h-5 text-red-600 mr-2"}),v.jsx("h3",{className:"text-red-800 font-semibold",children:"Li ti d liu"})]}),v.jsx("p",{className:"text-red-700 mt-2",children:"Khng th ti d liu phn tch lin th trng. Vui lng th li sau."})]}):v.jsxs("div",{className:"space-y-6",children:[v.jsx(gae,{data:m}),v.jsx(xae,{title:"Ch s Ch  Th trng",intent:"Xc nh th trng ang trong giai on no  iu chnh chin lc u t ph hp",howToUse:"Lm pht BT  mua vng/USD, trnh c phiu. Ri ro BT  gim leverage, tng tin mt",children:v.jsx(yae,{data:m})}),v.jsx(xae,{title:"Ch s Lm pht Ton din",intent:"Theo di tt c cc ch s lm pht quan trng  d on xu hng v iu chnh danh mc",howToUse:"CPI/Core CPI > 3%  inflation hedges. PPI tng  CPI s tng. BCOM correlation  leading signal",children:v.jsx(jae,{data:m})}),v.jsx(xae,{title:"Seven C's Commodities - Tn hiu Lm pht Sm",intent:"Theo di 7 hng ha c bn (corn, cotton, crude oil, copper, coffee, cocoa, cattle) lm ch bo lm pht sm",howToUse:"Coffee/cocoa tng mnh  inflation pressure. Copper tng  industrial demand. Oil tng  energy inflation",children:v.jsx(wae,{data:m})}),v.jsx(xae,{title:"Phn tch Ch  Lm pht",intent:"Xc nh th trng ang trong ch  lm pht no v iu chnh chin lc ph hp",howToUse:"High volatility  defensive. Low volatility  growth. Transitional  balanced approach",children:v.jsx(Nae,{data:m})}),v.jsx(xae,{title:"Ch s Kinh t Chnh",intent:"Theo di cc ch s macro quan trng nh hng n nh gi ti sn",howToUse:"So snh vi ngng lch s  nh gi mc  extreme v c hi o chiu",children:v.jsx(vae,{data:m})}),v.jsx(xae,{title:"Biu  Th trng Ton cu",intent:"Phn tch k thut cc ti sn chnh  xc nh xu hng v im vo/ra",howToUse:"Kt hp vi ch s ch   xc nhn tn hiu v timing giao dch",children:v.jsx(bae,{configs:p})}),v.jsx(_ae,{data:m})]})},Sae=({market_overview:e,strongSignalsCount:t})=>{var n,r;return v.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg p-6",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[v.jsx(Ie,{className:"h-8 w-8 text-blue-500"}),v.jsxs("div",{children:[v.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Phn tch VSA (Volume Spread Analysis)"}),v.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Phn tch th trng da trn mi quan h gia khi lng v bin ng gi"})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[v.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:(null==e?void 0:e.total_stocks_analyzed)||0}),v.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"M c phn tch"})]}),v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[v.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:(null==(n=null==e?void 0:e.bullish_stocks)?void 0:n.length)||0}),v.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"M tng gi"})]}),v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[v.jsx("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:(null==(r=null==e?void 0:e.bearish_stocks)?void 0:r.length)||0}),v.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"M gim gi"})]}),v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[v.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:t}),v.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Tn hiu mnh"})]})]})]})},Cae=({activeSection:e,onSectionChange:t})=>{const n=[{id:"market_overview",name:"Tng quan th trng",icon:re},{id:"individual_stocks",name:"Phn tch tng m",icon:Oe},{id:"strong_signals",name:"Tn hiu mnh",icon:Be}];return v.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(n=>{const r=n.icon;return v.jsxs("button",{onClick:()=>t(n.id),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer "+(e===n.id?"bg-blue-500 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:[v.jsx(r,{className:"h-4 w-4"}),n.name]},n.id)})})},Eae=({marketBreadth:e,title:t="Phn tch tm l th trng"})=>{const n=(()=>{if(!e)return null;const{bullish_percentage:t,bearish_percentage:n,neutral_percentage:r}=e;return[{name:"Bullish",value:t,color:"#10b981",icon:Te},{name:"Bearish",value:n,color:"#ef4444",icon:Ae},{name:"Neutral",value:r,color:"#6b7280",icon:Se}].filter(e=>e.value>0)})();if(!n||0===n.length)return v.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400",children:"Khng c d liu tm l th trng"});const r=({active:e,payload:t})=>{if(e&&t&&t.length){const e=t[0];return v.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg",children:[v.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.name}),v.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.value.toFixed(1),"% (",e.payload.count||0," m)"]})]})}return null};return v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-6 text-center",children:t}),v.jsx("div",{className:"rounded-lg p-4",children:v.jsx(sF,{width:300,height:250,children:v.jsxs(RY,{children:[v.jsx($W,{data:n,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:n.map((e,t)=>v.jsx(oF,{fill:e.color},`cell-${t}`))}),v.jsx(Vz,{content:v.jsx(r,{})}),v.jsx(Sj,{verticalAlign:"bottom",height:36,formatter:(e,t)=>v.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[e," (",t.payload.value.toFixed(1),"%)"]})})]})})})]})},Pae=({volumeAnalysis:e,title:t="Phn tch khi lng"})=>{const n=(()=>{if(!e)return null;const{increasing:t,decreasing:n,stable:r}=e;return[{name:"Tng",value:t,color:"#10b981",icon:Te,description:"Khi lng tng"},{name:"Gim",value:n,color:"#ef4444",icon:Ae,description:"Khi lng gim"},{name:"n nh",value:r,color:"#6b7280",icon:Se,description:"Khi lng n nh"}].filter(e=>e.value>0)})();if(!n||0===n.length)return v.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400",children:"Khng c d liu phn tch khi lng"});const r=({active:e,payload:t})=>{if(e&&t&&t.length){const e=t[0],r=n.reduce((e,t)=>e+t.value,0),i=(e.value/r*100).toFixed(1);return v.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg",children:[v.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.payload.description}),v.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.value," m (",i,"%)"]})]})}return null},i=n.reduce((e,t)=>e+t.value,0);return v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-6 text-center",children:t}),v.jsx("div",{className:"dark:bg-gray-800/50 rounded-lg p-4",children:v.jsx(sF,{width:300,height:250,children:v.jsxs(RY,{children:[v.jsx($W,{data:n,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:n.map((e,t)=>v.jsx(oF,{fill:e.color},`cell-${t}`))}),v.jsx(Vz,{content:v.jsx(r,{})}),v.jsx(Sj,{verticalAlign:"bottom",height:36,formatter:(e,t)=>{const n=(t.payload.value/i*100).toFixed(1);return v.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[e," (",n,"%)"]})}})]})})})]})},Mae=({signalData:e,title:t="Tn sut tn hiu theo thi gian"})=>{const n=e&&Array.isArray(e)&&0!==e.length?e.map((e,t)=>({date:e.date||`Ngy ${t+1}`,bullish:e.bullish_signals||0,bearish:e.bearish_signals||0,total:(e.bullish_signals||0)+(e.bearish_signals||0),net_sentiment:(e.bullish_signals||0)-(e.bearish_signals||0)})):[];if(0===n.length)return v.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 p-8",children:"Khng c d liu tn hiu"});const r=({active:e,payload:t,label:n})=>{if(e&&t&&t.length){const e=t.find(e=>"bullish"===e.dataKey),r=t.find(e=>"bearish"===e.dataKey);return v.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg",children:[v.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:n}),v.jsxs("div",{className:"space-y-1",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"}),v.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Tn hiu tng: ",(null==e?void 0:e.value)||0]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-3 h-3 bg-red-500 rounded"}),v.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Tn hiu gim: ",(null==r?void 0:r.value)||0]})]}),v.jsx("div",{className:"pt-1 border-t border-gray-200 dark:border-gray-600",children:v.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:["Tng: ",((null==e?void 0:e.value)||0)+((null==r?void 0:r.value)||0)," tn hiu"]})})]})]})}return null},i=({payload:e})=>v.jsx("div",{className:"flex justify-center gap-6 mt-4",children:e.map((e,t)=>v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:e.color}}),v.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"bullish"===e.value?"Tn hiu tng":"Tn hiu gim"})]},t))});return v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-6 text-center",children:t}),v.jsx("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-4 w-full",children:v.jsx(sF,{width:"100%",height:300,children:v.jsxs(CY,{data:n,margin:{top:20,right:30,left:20,bottom:5},children:[v.jsx(vK,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),v.jsx(fU,{dataKey:"date",stroke:"#6b7280",fontSize:12,tickLine:!1}),v.jsx(_U,{stroke:"#6b7280",fontSize:12,tickLine:!1,axisLine:!1}),v.jsx(Vz,{content:v.jsx(r,{})}),v.jsx(Sj,{content:v.jsx(i,{})}),v.jsx(B$,{dataKey:"bullish",fill:"#10b981",radius:[4,4,0,0],name:"Tn hiu tng"}),v.jsx(B$,{dataKey:"bearish",fill:"#ef4444",radius:[4,4,0,0],name:"Tn hiu gim"})]})})}),v.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 w-full max-w-md",children:[v.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-3 text-center",children:[v.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[v.jsx(Te,{className:"h-4 w-4 text-green-600"}),v.jsx("span",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:"Tng tn hiu tng"})]}),v.jsx("span",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:n.reduce((e,t)=>e+t.bullish,0)})]}),v.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-3 text-center",children:[v.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[v.jsx(Ae,{className:"h-4 w-4 text-red-600"}),v.jsx("span",{className:"text-sm font-medium text-red-700 dark:text-red-300",children:"Tng tn hiu gim"})]}),v.jsx("span",{className:"text-lg font-bold text-red-600 dark:text-red-400",children:n.reduce((e,t)=>e+t.bearish,0)})]})]})]})},Oae=({market_overview:e,individual_results:t})=>{var n,r,i,a,s,o,l,c,u,d,h,f;const m=e=>{switch(null==e?void 0:e.toLowerCase()){case"bullish":return"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200";case"bearish":return"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200";default:return"bg-gray-100 dark:bg-gray-900/20 text-gray-800 dark:text-gray-200"}},p=N.useMemo(()=>t?function(e){const t={};return e.forEach(e=>{(e.recent_analyses||[]).forEach(e=>{const n=e.timestamp.split("T")[0];(e.signals||[]).forEach(e=>{"strong"===e.strength&&(t[n]||(t[n]={bullish:0,bearish:0}),"bullish"===e.bias&&(t[n].bullish+=1),"bearish"===e.bias&&(t[n].bearish+=1))})})}),Object.entries(t).map(([e,t])=>({date:e,bullish_signals:t.bullish,bearish_signals:t.bearish})).sort((e,t)=>new Date(e.date)-new Date(t.date)).slice(-20)}(t):[],[t]);return v.jsxs("div",{className:"space-y-6",children:[((null==e?void 0:e.market_breadth)||(null==e?void 0:e.volume_analysis))&&v.jsx(Ke,{className:"p-6",children:v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(null==e?void 0:e.market_breadth)&&v.jsx("div",{className:"flex flex-col items-center",children:v.jsx(Eae,{marketBreadth:e.market_breadth,title:"Tm l th trng"})}),(null==e?void 0:e.volume_analysis)&&v.jsx("div",{className:"flex flex-col items-center",children:v.jsx(Pae,{volumeAnalysis:e.volume_analysis,title:"Phn tch khi lng"})})]})}),p.length>0&&v.jsx(Ke,{className:"p-6",children:v.jsx(Mae,{signalData:p,title:"Tn sut tn hiu theo thi gian"})}),v.jsxs(Ke,{className:"p-6",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[v.jsx(G,{className:"h-6 w-6 text-blue-500"}),v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Chi tit tm l th trng"})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{children:[v.jsx("div",{className:"flex items-center gap-2 mb-3",children:v.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${m(null==e?void 0:e.market_sentiment)}`,children:(null==(n=null==e?void 0:e.market_sentiment)?void 0:n.toUpperCase())||"NEUTRAL"})}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"T l tng gi:"}),v.jsxs("span",{className:"font-medium text-green-600 dark:text-green-400",children:[null==(i=null==(r=null==e?void 0:e.market_breadth)?void 0:r.bullish_percentage)?void 0:i.toFixed(1),"%"]})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"T l gim gi:"}),v.jsxs("span",{className:"font-medium text-red-600 dark:text-red-400",children:[null==(s=null==(a=null==e?void 0:e.market_breadth)?void 0:a.bearish_percentage)?void 0:s.toFixed(1),"%"]})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"T l trung tnh:"}),v.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[null==(l=null==(o=null==e?void 0:e.market_breadth)?void 0:o.neutral_percentage)?void 0:l.toFixed(1),"%"]})]}),(null==(c=null==e?void 0:e.market_breadth)?void 0:c.strong_signals_count)&&v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tn hiu mnh:"}),v.jsx("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:e.market_breadth.strong_signals_count})]})]})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-3",children:"Phn tch khi lng"}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Khi lng tng:"}),v.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:(null==(u=null==e?void 0:e.volume_analysis)?void 0:u.increasing)||0})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Khi lng gim:"}),v.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:(null==(d=null==e?void 0:e.volume_analysis)?void 0:d.decreasing)||0})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Khi lng n nh:"}),v.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:(null==(h=null==e?void 0:e.volume_analysis)?void 0:h.stable)||0})]}),(null==(f=null==e?void 0:e.market_breadth)?void 0:f.average_score)&&v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"im trung bnh:"}),v.jsxs("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:[(100*e.market_breadth.average_score).toFixed(1),"%"]})]})]})]})]})]}),(null==e?void 0:e.top_opportunities)&&e.top_opportunities.length>0&&v.jsxs(Ke,{className:"p-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"C hi u t hng u"}),v.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.top_opportunities.slice(0,6).map((e,t)=>v.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 rounded-lg p-4",children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:e.symbol}),v.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${m(e.sentiment)}`,children:e.sentiment})]}),v.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.reason})]},t))})]})]})},Aae=({stock:e,variant:t="normal"})=>{var n,r,i;const a=e.latest_analysis,s=(null==a?void 0:a.bullish_score)||0,o=(null==(n=e.recent_analyses)?void 0:n.flatMap(e=>{var t;return(null==(t=e.signals)?void 0:t.map(t=>f(h({},t),{date:e.timestamp,days_ago:e.days_ago})))||[]}))||[],l=e=>{switch(null==e?void 0:e.toLowerCase()){case"bullish":return"text-green-600 dark:text-green-400";case"bearish":return"text-red-600 dark:text-red-400";default:return"text-gray-600 dark:text-gray-400"}},c=e=>{switch(null==e?void 0:e.toLowerCase()){case"bullish":return"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200";case"bearish":return"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200";default:return"bg-gray-100 dark:bg-gray-900/20 text-gray-800 dark:text-gray-200"}},u=e=>{switch(null==e?void 0:e.toLowerCase()){case"strong":return"text-red-600 dark:text-red-400";case"medium":return"text-yellow-600 dark:text-yellow-400";case"weak":return"text-green-600 dark:text-green-400";default:return"text-gray-600 dark:text-gray-400"}},d=e=>{switch(null==e?void 0:e.toLowerCase()){case"bullish":return v.jsx(Te,{className:"h-4 w-4"});case"bearish":return v.jsx(Ae,{className:"h-4 w-4"});default:return v.jsx(G,{className:"h-4 w-4"})}},m="strong"===t?o.filter(e=>"strong"===e.strength):o,p=e=>e?new Date(e).toLocaleDateString("vi-VN"):"Unknown";return v.jsxs(Ke,{className:"p-4",children:[v.jsxs("div",{className:"flex items-start justify-between mb-3",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:e.symbol}),v.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:(null==a?void 0:a.market_state)||"Unknown"})]}),v.jsxs("div",{className:"text-right",children:[v.jsx("div",{className:"text-lg font-bold "+(s>20?"text-green-600 dark:text-green-400":s<-20?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"),children:s.toFixed(1)}),v.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"VSA Score"})]})]}),v.jsxs("div",{className:"space-y-2 mb-3",children:[v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Khi lng:"}),v.jsxs("span",{className:"font-medium",children:[null==(r=null==a?void 0:a.volume_significance)?void 0:r.toFixed(1),"%"]})]}),v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:" tin cy:"}),v.jsxs("span",{className:"font-medium",children:[null==(i=null==a?void 0:a.pattern_reliability)?void 0:i.toFixed(1),"%"]})]}),v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tn hiu:"}),v.jsx("span",{className:"font-medium",children:o.length})]})]}),m.length>0?v.jsxs("div",{className:"space-y-2",children:[m.slice(0,"strong"===t?m.length:5).map((e,t)=>v.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded p-2",children:[v.jsxs("div",{className:"flex items-center justify-between mb-1",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:l(e.bias),children:d(e.bias)}),v.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:e.signal_name})]}),v.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${c(e.bias)}`,children:e.bias})]}),v.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[v.jsx("span",{children:p(e.date)}),v.jsx("span",{className:u(e.strength),children:e.strength})]}),e.action_suggestion&&v.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:e.action_suggestion})]},t)),"normal"===t&&o.length>5&&v.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:["+",o.length-5," tn hiu khc"]})]}):v.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Khng c tn hiu VSA"})]})},Tae=({individual_results:e,timeframe:t="1D"})=>{const[n,r]=N.useState(""),[i,a]=N.useState(""),[s,o]=N.useState(""),[l,c]=N.useState(""),[u,d]=N.useState(""),[m,p]=N.useState("bullish_score"),[g,x]=N.useState("desc"),[y,b]=N.useState(new Set),{data:_}=Df("RRG_ANALYSIS",t),{industries:w,symbols:j}=_||{industries:[],symbols:[]},S=e=>{switch(null==e?void 0:e.toLowerCase()){case"bullish":return"text-green-600 dark:text-green-400";case"bearish":return"text-red-600 dark:text-red-400";default:return"text-gray-600 dark:text-gray-400"}},C=e=>{switch(null==e?void 0:e.toLowerCase()){case"bullish":return"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200";case"bearish":return"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200";default:return"bg-gray-100 dark:bg-gray-900/20 text-gray-800 dark:text-gray-200"}},E=e=>{switch(null==e?void 0:e.toLowerCase()){case"strong":return"text-red-600 dark:text-red-400";case"medium":return"text-yellow-600 dark:text-yellow-400";case"weak":return"text-green-600 dark:text-green-400";default:return"text-gray-600 dark:text-gray-400"}},P=e=>{switch(null==e?void 0:e.toLowerCase()){case"bullish":return v.jsx(Te,{className:"h-4 w-4"});case"bearish":return v.jsx(Ae,{className:"h-4 w-4"});default:return v.jsx(G,{className:"h-4 w-4"})}},M=e=>e?new Date(e).toLocaleDateString("vi-VN"):"Unknown",O=N.useMemo(()=>[...new Set(e.map(e=>{var t;return null==(t=e.latest_analysis)?void 0:t.market_state}).filter(Boolean))].sort(),[e]),A=(e,t)=>{var n,r;const i=e.latest_analysis;switch(t){case"symbol":return e.symbol;case"bullish_score":return(null==i?void 0:i.bullish_score)||0;case"volume_significance":return(null==i?void 0:i.volume_significance)||0;case"pattern_reliability":return(null==i?void 0:i.pattern_reliability)||0;case"signal_count":return(null==(n=e.recent_analyses)?void 0:n.reduce((e,t)=>{var n;return e+((null==(n=t.signals)?void 0:n.length)||0)},0))||0;case"strong_signals":return(null==(r=e.recent_analyses)?void 0:r.reduce((e,t)=>{var n;return e+((null==(n=t.signals)?void 0:n.filter(e=>"strong"===e.strength).length)||0)},0))||0;default:return 0}},T=N.useMemo(()=>{let t=e.filter(e=>{var t,r;const a=e.latest_analysis,o=(null==(t=e.recent_analyses)?void 0:t.flatMap(e=>{var t;return(null==(t=e.signals)?void 0:t.map(t=>f(h({},t),{date:e.timestamp,days_ago:e.days_ago})))||[]}))||[],c=""===n||e.symbol.toLowerCase().includes(n.toLowerCase()),d=""===i||(null==a?void 0:a.market_state)===i,m=""===s||o.some(e=>e.bias===s),p=""===l||o.some(e=>e.strength===l),g=j.find(t=>t.symbol===e.symbol),x=null==(r=null==g?void 0:g.industries)?void 0:r[0],y=""===u||x&&x.id===u;return c&&d&&m&&p&&y});return t.sort((e,t)=>{const n=A(e,m),r=A(t,m);return"asc"===g?n>r?1:-1:n<r?1:-1}),t},[e,n,i,s,l,u,m,g,j]),D=e=>{m===e?x("asc"===g?"desc":"asc"):(p(e),x("desc"))},R=({field:e})=>m!==e?v.jsx(le,{className:"h-4 w-4 text-gray-400"}):"asc"===g?v.jsx(ce,{className:"h-4 w-4 text-blue-500"}):v.jsx(le,{className:"h-4 w-4 text-blue-500"});return v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Phn tch tng m chng khon"}),v.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[T.length," / ",e.length," m"]})]}),v.jsx(Ke,{className:"p-4",children:v.jsxs("div",{className:"grid gap-4 md:grid-cols-7",children:[v.jsxs("div",{className:"md:col-span-2",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tm kim"}),v.jsxs("div",{className:"relative",children:[v.jsx(Pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),v.jsx("input",{type:"text",placeholder:"Tm kim theo m...",value:n,onChange:e=>r(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Trng thi th trng"}),v.jsxs("select",{value:i,onChange:e=>a(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm",children:[v.jsx("option",{value:"",children:"Tt c trng thi"}),O.map(e=>v.jsx("option",{value:e,children:e},e))]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Ngnh"}),v.jsxs("select",{value:u,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm",children:[v.jsx("option",{value:"",children:"Tt c ngnh"}),w.map(e=>v.jsx("option",{value:e.id,children:e.name},e.id))]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tm l"}),v.jsxs("select",{value:s,onChange:e=>o(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm",children:[v.jsx("option",{value:"",children:"Tt c tm l"}),["bullish","bearish","neutral"].map(e=>v.jsx("option",{value:e,children:e},e))]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" mnh"}),v.jsxs("select",{value:l,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm",children:[v.jsx("option",{value:"",children:"Tt c  mnh"}),["strong","medium","weak"].map(e=>v.jsx("option",{value:e,children:e},e))]})]}),v.jsx("div",{className:"flex items-end",children:v.jsx("button",{onClick:()=>{a(""),o(""),c(""),d(""),r("")},className:"w-full px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg text-sm font-medium transition-colors",children:"Xa b lc"})})]})}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:[v.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"M"}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Ngnh"}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>D("bullish_score"),children:v.jsxs("div",{className:"flex items-center gap-1",children:["VSA Score",v.jsx(R,{field:"bullish_score"})]})}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>D("volume_significance"),children:v.jsxs("div",{className:"flex items-center gap-1",children:["Khi lng",v.jsx(R,{field:"volume_significance"})]})}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>D("pattern_reliability"),children:v.jsxs("div",{className:"flex items-center gap-1",children:[" tin cy",v.jsx(R,{field:"pattern_reliability"})]})}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>D("signal_count"),children:v.jsxs("div",{className:"flex items-center gap-1",children:["Tn hiu",v.jsx(R,{field:"signal_count"})]})}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>D("strong_signals"),children:v.jsxs("div",{className:"flex items-center gap-1",children:["Tn hiu mnh",v.jsx(R,{field:"strong_signals"})]})}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Trng thi"})]})}),v.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:T.map((e,t)=>{var n,r,i;const a=e.latest_analysis,s=(null==a?void 0:a.bullish_score)||0,o=y.has(e.symbol),l=(null==(n=e.recent_analyses)?void 0:n.flatMap(e=>{var t;return(null==(t=e.signals)?void 0:t.map(t=>f(h({},t),{date:e.timestamp,days_ago:e.days_ago})))||[]}))||[],c=l.length,u=l.filter(e=>"strong"===e.strength).length;return v.jsxs(k.Fragment,{children:[v.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",onClick:()=>(e=>{const t=new Set(y);t.has(e)?t.delete(e):t.add(e),b(t)})(e.symbol),children:[v.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:v.jsxs("div",{children:[v.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:e.symbol}),v.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["#",t+1]})]})}),v.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:(()=>{var t,n;const r=j.find(t=>t.symbol===e.symbol);return(null==(n=null==(t=null==r?void 0:r.industries)?void 0:t[0])?void 0:n.name)||"Unknown"})()}),v.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:v.jsx("span",{className:"text-sm font-medium "+(s>20?"text-green-600 dark:text-green-400":s<-20?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"),children:s.toFixed(1)})}),v.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:[null==(r=null==a?void 0:a.volume_significance)?void 0:r.toFixed(1),"%"]}),v.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:[null==(i=null==a?void 0:a.pattern_reliability)?void 0:i.toFixed(1),"%"]}),v.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:c}),v.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:u}),v.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:v.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+("accumulation"===(null==a?void 0:a.market_state)?"bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-200":"distribution"===(null==a?void 0:a.market_state)?"bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-200":"bg-gray-100 dark:bg-gray-900/50 text-gray-800 dark:text-gray-200"),children:(null==a?void 0:a.market_state)||"Unknown"})})]}),o&&v.jsx("tr",{children:v.jsx("td",{colSpan:"8",className:"px-4 py-3 bg-gray-50 dark:bg-gray-800",children:v.jsxs("div",{className:"space-y-3",children:[v.jsxs("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:["Tn hiu VSA cho ",e.symbol]}),l.length>0?v.jsx("div",{className:"grid gap-2 md:grid-cols-2 lg:grid-cols-3",children:l.map((e,t)=>v.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded p-3 border border-gray-200 dark:border-gray-600",children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:S(e.bias),children:P(e.bias)}),v.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:e.signal_name})]}),v.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${C(e.bias)}`,children:e.bias})]}),v.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mb-1",children:[v.jsx("span",{children:M(e.date)}),v.jsx("span",{className:E(e.strength),children:e.strength})]}),e.action_suggestion&&v.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.action_suggestion})]},t))}):v.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Khng c tn hiu VSA"})]})})})]},t)})})]})})]})},Dae=()=>{const[e,t]=N.useState("1D"),{data:n,loading:r,error:i}=Df("vsa_market_analysis",e),[a,s]=N.useState("market_overview");if(r)return v.jsxs("div",{className:"flex items-center justify-center py-12",children:[v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),v.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"ang ti d liu phn tch VSA..."})]});if(i)return v.jsxs("div",{className:"text-center py-12",children:[v.jsx(De,{className:"mx-auto h-12 w-12 text-red-500"}),v.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100",children:"Li ti d liu"}),v.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:i})]});if(!n)return v.jsx("div",{className:"text-center py-12",children:v.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Khng c d liu phn tch VSA"})});const{market_overview:o,individual_results:l}=n,c=(null==l?void 0:l.filter(e=>{var t,n;return null==(n=null==(t=e.latest_analysis)?void 0:t.signals)?void 0:n.some(e=>"strong"===e.strength)}))||[];return v.jsxs("div",{className:"space-y-6",children:[v.jsx(Sae,{market_overview:o,strongSignalsCount:c.length}),v.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4 flex items-center space-x-4",children:[v.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Khung thi gian:"}),v.jsx("button",{className:"cursor-pointer px-4 py-1 rounded font-medium text-sm border "+("1D"===e?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600"),onClick:()=>t("1D"),children:"Hng ngy (1D)"}),v.jsx("button",{className:"cursor-pointer px-4 py-1 rounded font-medium text-sm border "+("1W"===e?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600"),onClick:()=>t("1W"),children:"Hng tun (1W)"})]}),v.jsx(Cae,{activeSection:a,onSectionChange:s}),"market_overview"===a&&v.jsx(Oae,{market_overview:o,individual_results:l}),"individual_stocks"===a&&v.jsx(Tae,{individual_results:l,timeframe:e}),"strong_signals"===a&&v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Tn hiu VSA mnh"}),v.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[c.length," tn hiu mnh"]})]}),v.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:c.slice(0,12).map((e,t)=>v.jsx(Aae,{stock:e,variant:"strong"},t))})]})]})},Rae=()=>{const[e,t]=N.useState("1D"),[n,r]=N.useState("all"),[i,a]=N.useState("all"),[s,o]=N.useState("confidence"),{data:l,loading:c,error:u}=Df("VCP_ANALYSIS",e),d=N.useMemo(()=>{if(!l)return null;let e=[];Array.isArray(l)?e=l:l.signals?e=l.signals:"object"==typeof l&&null!==l&&(e=Object.values(l));const t=e.length,n=e.filter(e=>e.days_since_vcp<=7).length,r=e.filter(e=>{const t=Number(e.last_vcp_confidence);return!isNaN(t)&&t>=0&&t<=1});return{totalSignals:t,recentSignals:n,highConfidenceSignals:r.filter(e=>Number(e.last_vcp_confidence)>=.7).length,averageConfidence:r.length>0?r.reduce((e,t)=>e+Number(t.last_vcp_confidence),0)/r.length:0}},[l]),m=N.useMemo(()=>{if(!l)return[];let e=[];Array.isArray(l)?e=l:l.signals?e=l.signals:"object"==typeof l&&null!==l&&(e=Object.values(l)),e=e.map(e=>{const t=Number(e.last_vcp_confidence);return f(h({},e),{confidenceLevel:t>=.7?"high":t>=.5?"medium":"low",recency:e.days_since_vcp<=3?"recent":e.days_since_vcp<=7?"moderate":"old"})});let t=e;return"all"!==n&&(t=t.filter(e=>e.confidenceLevel===n)),"all"!==i&&(t=t.filter(e=>e.recency===i)),t.sort((e,t)=>{switch(s){case"confidence":return t.last_vcp_confidence-e.last_vcp_confidence;case"recency":return e.days_since_vcp-t.days_since_vcp;case"price":return t.last_close-e.last_close;case"symbol":return(e.symbol||"").localeCompare(t.symbol||"");default:return 0}}),t},[l,n,i,s]),p=e=>e>=.7?"bg-green-100 text-green-800":e>=.5?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",g=e=>e<=3?"bg-green-100 text-green-800":e<=7?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800";return c?v.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:v.jsxs("div",{className:"flex items-center justify-center py-12",children:[v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),v.jsx("span",{className:"ml-3 text-gray-600",children:"ang ti d liu VCP..."})]})}):u?v.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:v.jsxs("div",{className:"text-center py-12",children:[v.jsx(De,{className:"mx-auto h-12 w-12 text-red-500"}),v.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Li ti d liu"}),v.jsx("p",{className:"mt-1 text-sm text-gray-500",children:(null==u?void 0:u.message)||(null==u?void 0:u.toString())||"Li khng xc nh"})]})}):l?v.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[v.jsxs("div",{className:"mb-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Phn tch Mu VCP (Volume, Close, Price)"}),v.jsx("p",{className:"text-gray-600 text-sm",children:"Tn hiu mu VCP pht hin cc mu tch ly v phn phi da trn mi quan h gia khi lng v gi."})]}),v.jsxs("div",{className:"bg-gray-50 rounded-lg border p-4 flex items-center space-x-4 mb-6",children:[v.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Khung thi gian:"}),v.jsx("button",{className:"cursor-pointer px-4 py-1 rounded font-medium text-sm border "+("1D"===e?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600"),onClick:()=>t("1D"),children:"Hng ngy (1D)"}),v.jsx("button",{className:"cursor-pointer px-4 py-1 rounded font-medium text-sm border "+("1W"===e?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600"),onClick:()=>t("1W"),children:"Hng tun (1W)"})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[v.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[v.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(null==d?void 0:d.totalSignals)||0}),v.jsx("div",{className:"text-sm text-gray-600",children:"Tng tn hiu"})]}),v.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[v.jsx("div",{className:"text-2xl font-bold text-green-600",children:(null==d?void 0:d.recentSignals)||0}),v.jsx("div",{className:"text-sm text-green-600",children:"Tn hiu gn y (7 ngy)"})]}),v.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[v.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(null==d?void 0:d.highConfidenceSignals)||0}),v.jsx("div",{className:"text-sm text-blue-600",children:"Tn hiu  tin cy cao"})]}),v.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[v.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[(null==d?void 0:d.averageConfidence)?(100*d.averageConfidence).toFixed(1):0,"%"]}),v.jsx("div",{className:"text-sm text-purple-600",children:" tin cy trung bnh"})]})]}),v.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("label",{className:"text-sm font-medium text-gray-700",children:" tin cy:"}),v.jsxs("select",{value:n,onChange:e=>r(e.target.value),className:"border rounded px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[v.jsx("option",{value:"all",children:"Tt c"}),v.jsx("option",{value:"high",children:"Cao (70%)"}),v.jsx("option",{value:"medium",children:"Trung bnh (50%)"}),v.jsx("option",{value:"low",children:"Thp (<50%)"})]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Thi gian:"}),v.jsxs("select",{value:i,onChange:e=>a(e.target.value),className:"border rounded px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[v.jsx("option",{value:"all",children:"Tt c"}),v.jsx("option",{value:"recent",children:"Gn y (3 ngy)"}),v.jsx("option",{value:"moderate",children:"Va phi (7 ngy)"}),v.jsx("option",{value:"old",children:"C (>7 ngy)"})]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Sp xp theo:"}),v.jsxs("select",{value:s,onChange:e=>o(e.target.value),className:"border rounded px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[v.jsx("option",{value:"confidence",children:" tin cy"}),v.jsx("option",{value:"recency",children:"Thi gian"}),v.jsx("option",{value:"price",children:"Gi"}),v.jsx("option",{value:"symbol",children:"M"})]})]})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[v.jsx("thead",{className:"bg-gray-50",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"M"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gi ng ca"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" tin cy"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngy trc"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trng thi"})]})}),v.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:0===m.length?v.jsx("tr",{children:v.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-500",children:"Khng c tn hiu VCP no ph hp vi b lc hin ti"})}):m.map((e,t)=>{var n,r,i;return v.jsxs("tr",{className:"hover:bg-gray-50",children:[v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.symbol})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsx("div",{className:"text-sm text-gray-900",children:(null==(n=e.last_close)?void 0:n.toLocaleString("vi-VN"))||"N/A"})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("span",{className:"text-sm font-medium "+(i=e.last_vcp_confidence,i>=.7?"text-green-600":i>=.5?"text-yellow-600":"text-red-600"),children:[(100*e.last_vcp_confidence).toFixed(1),"%"]}),v.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${p(e.last_vcp_confidence)}`,children:"high"===e.confidenceLevel?"Cao":"medium"===e.confidenceLevel?"TB":"Thp"})]})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("span",{className:"text-sm "+(r=e.days_since_vcp,r<=3?"text-green-600":r<=7?"text-yellow-600":"text-red-600"),children:[e.days_since_vcp," ngy"]}),v.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${g(e.days_since_vcp)}`,children:"recent"===e.recency?"Gn":"moderate"===e.recency?"TB":"C"})]})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"VCP Pht hin"})})]},t)})})]})}),v.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[v.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Ch thch:"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-xs text-gray-600",children:[v.jsxs("div",{children:[v.jsx("p",{children:v.jsx("strong",{children:" tin cy:"})}),v.jsxs("ul",{className:"space-y-1 mt-1",children:[v.jsxs("li",{children:[" ",v.jsx("span",{className:"text-green-600",children:"Cao (70%):"})," Tn hiu mnh, kh nng cao"]}),v.jsxs("li",{children:[" ",v.jsx("span",{className:"text-yellow-600",children:"Trung bnh (50%):"})," Tn hiu va phi"]}),v.jsxs("li",{children:[" ",v.jsx("span",{className:"text-red-600",children:"Thp (<50%):"})," Tn hiu yu, cn thn trng"]})]})]}),v.jsxs("div",{children:[v.jsx("p",{children:v.jsx("strong",{children:"Thi gian:"})}),v.jsxs("ul",{className:"space-y-1 mt-1",children:[v.jsxs("li",{children:[" ",v.jsx("span",{className:"text-green-600",children:"Gn y (3 ngy):"})," Tn hiu mi nht"]}),v.jsxs("li",{children:[" ",v.jsx("span",{className:"text-yellow-600",children:"Va phi (7 ngy):"})," Tn hiu cn hiu lc"]}),v.jsxs("li",{children:[" ",v.jsx("span",{className:"text-red-600",children:"C (>7 ngy):"})," Tn hiu c th  li thi"]})]})]})]})]})]}):v.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:v.jsxs("div",{className:"text-center py-12",children:[v.jsx("div",{className:"text-gray-600 text-lg font-medium",children:"Khng c d liu VCP"}),v.jsx("div",{className:"text-gray-500 mt-2",children:"Vui lng th li sau"})]})})},Iae=()=>{const{isReloading:e,lastReloadTime:t,reloadAllData:n}=$ne();return v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsxs("div",{className:"hidden sm:flex items-center space-x-1 text-xs text-gray-500 dark:text-gray-400",children:[v.jsx(xe,{className:"w-3 h-3"}),v.jsx("span",{children:(()=>{if(!t)return"Cha ti";const e=new Date-t,n=Math.floor(e/6e4),r=Math.floor(e%6e4/1e3);return n>0?`${n} pht trc`:r>0?`${r} giy trc`:t.toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit",second:"2-digit"})})()})]}),v.jsx("button",{onClick:n,disabled:e,className:"p-2 rounded-md transition-colors cursor-pointer "+(e?"text-gray-400 cursor-not-allowed":"text-gray-500 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-100 dark:hover:bg-gray-800"),title:"Ti li tt c d liu",children:v.jsx(Ce,{className:"w-4 h-4 "+(e?"animate-spin":"")})})]})};class Lae{constructor(e={}){this.options=h({minHeight:e.minHeight||400,maxHeight:e.maxHeight||2e3,minWidth:e.minWidth||300,maxWidth:e.maxWidth||1200,resizeInterval:e.resizeInterval||100},e),this.iframes=new Map,this.resizeTimeout=null}init(e,t={}){const n=h(h({},this.options),t),r=t=>{t.source===e.contentWindow&&t.data&&"RESIZE"===t.data.type&&this.resizeIframe(e,t.data.width,t.data.height,n)};return window.addEventListener("message",r),this.iframes.set(e,{messageHandler:r,options:n}),e.style.overflow="hidden",e.style.border="none",this}resizeIframe(e,t,n,r){const i=Math.max(r.minWidth,Math.min(r.maxWidth,t)),a=Math.max(r.minHeight,Math.min(r.maxHeight,n));clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{e.style.width=`${i}px`,e.style.height=`${a}px`},r.resizeInterval)}destroy(e){const t=this.iframes.get(e);t&&(window.removeEventListener("message",t.messageHandler),this.iframes.delete(e))}destroyAll(){for(const[e]of this.iframes)this.destroy(e)}}document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll("iframe[data-iframe-resize]");if(e.length>0){const t=new Lae;e.forEach(e=>{const n=JSON.parse(e.getAttribute("data-iframe-resize")||"{}");t.init(e,n)})}});const zae={sendResizeMessage(e,t){window.parent&&window.parent!==window&&window.parent.postMessage({type:"RESIZE",width:Math.ceil(e),height:Math.ceil(t)},"*")},isEmbedded:()=>window.self!==window.top,getParentIframe(){if(!this.isEmbedded())return null;try{const e=window.parent.document.querySelectorAll("iframe");for(const t of e)if(t.contentWindow===window)return t}catch(e){return null}return null}};function Fae(){const[e,t]=N.useState("Market"),[n,r]=N.useState("Overview"),[i,a]=N.useState(!1),[s,o]=N.useState("rs_analysis"),[l,c]=N.useState(!1),[u,d]=N.useState("1D"),h=N.useRef(null),f=zae.isEmbedded(),{essentialDataLoading:m,essentialDataError:p}=$ne();if(N.useEffect(()=>{if(!f)return;const e=setTimeout(()=>{if(h.current){const{width:e,height:t}=h.current.getBoundingClientRect();zae.sendResizeMessage(e,t)}},100);return()=>clearTimeout(e)},[e,n,s,i,f]),m)return v.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex items-center justify-center",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),v.jsx("div",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"ang ti d liu c bn..."}),v.jsx("div",{className:"text-gray-500 dark:text-gray-500 text-sm mt-2",children:"Ti thng tin ngnh ngh v m chng khon"})]})});if(p)return v.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex items-center justify-center",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-red-500 text-lg mb-4",children:"Li ti d liu c bn"}),v.jsx("div",{className:"text-gray-600 dark:text-gray-400 mb-4",children:p}),v.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Th li"})]})});const g=["Market","Industries","Tickers"],x={Industries:[{id:"rs_analysis",name:"Phn tch Sc mnh Tng i",description:"Phn tch RS/CRS, RRG v xu hng sc mnh ca cc ngnh ngh"},{id:"abnormal_signals",name:"Tn hiu Bt thng",description:"Pht hin cc tn hiu bt thng trong ngnh"}],Tickers:[{id:"abnormal_signals",name:"Tn hiu Bt thng",description:"Pht hin cc tn hiu bt thng trong m chng khon"},{id:"vsa_report",name:"Bo co VSA",description:"Phn tch Volume Spread Analysis cho tng m chng khon"},{id:"vcp_analysis",name:"Phn tch VCP",description:"Phn tch mu hnh tch ly VCP cho cc m chng khon"}],Market:[{id:"market_overview",name:"Tng quan Th trng",description:"Bo co phn tch th trng tng hp"},{id:"macroeconomics",name:"Bo co V m",description:"Phn tch cc ch s kinh t v m v xu hng th trng"},{id:"valuation_report",name:"Bo co nh gi",description:"Phn tch t l P/E v P/B ca VN-Index"}]},y=e=>{var n,i;t(e),r("Overview"),a(!1);const s=(null==(i=null==(n=x[e])?void 0:n[0])?void 0:i.id)||"abnormal_signals";o(s)},b=x[e]||[];b.find(e=>e.id===s)||b[0];const _={Market:"Th trng",Industries:"Ngnh ngh",Tickers:"M chng khon"},w={Overview:"Tng quan",Reports:"Bo co"};return v.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200 font-sans",ref:h,children:[v.jsxs("header",{className:"bg-white dark:bg-gray-800/90 backdrop-blur-sm sticky top-0 z-30 border-b border-gray-200 dark:border-gray-700",children:[v.jsx("div",{className:"max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"flex items-center justify-between h-16",children:[v.jsxs("div",{className:"flex-shrink-0 flex items-center",children:[v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-blue-500",children:[v.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),v.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),v.jsxs("div",{className:"ml-2",children:[!f&&v.jsx("span",{className:"text-xl font-bold",children:"Phn tch VN-Index"}),v.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"D liu hng ngy c cp nht vo cui ngy"})]})]}),v.jsxs("nav",{className:"hidden md:flex items-center space-x-2",children:[g.map(t=>v.jsx("button",{onClick:()=>y(t),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors cursor-pointer "+(e===t?"bg-blue-500 text-white":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),children:_[t]},t)),v.jsx(Iae,{})]}),v.jsx("div",{className:"md:hidden",children:v.jsx("button",{onClick:()=>a(!i),className:"p-2 rounded-md text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800 cursor-pointer",children:i?v.jsx(Fe,{size:24}):v.jsx(ke,{size:24})})})]})}),i&&v.jsx("div",{className:"md:hidden pb-3 border-t border-gray-200 dark:border-gray-700",children:v.jsx("nav",{className:"px-2 space-y-1 mt-2",children:g.map(t=>v.jsx("button",{onClick:()=>y(t),className:"block w-full text-left px-3 py-2 rounded-md text-base font-medium cursor-pointer "+(e===t?"bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-300":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),children:_[t]},t))})})]}),v.jsx("div",{className:"relative",children:v.jsxs("main",{children:[v.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:v.jsx("div",{className:"max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8",children:v.jsx("div",{className:"flex items-center justify-between",children:v.jsx("div",{className:"flex -mb-px space-x-2 sm:space-x-4 items-center relative",children:["Overview","Reports"].map(e=>"Reports"===e&&b.length>1?v.jsxs("div",{className:"relative",children:[v.jsxs("button",{onClick:()=>{c(e=>!e)},className:"py-3 px-1 sm:px-4 text-sm sm:text-base font-semibold border-b-2 transition-colors cursor-pointer flex items-center space-x-2 "+(n===e?"border-blue-500 text-blue-500":"border-transparent text-gray-500 hover:text-gray-800 dark:hover:text-gray-200"),"aria-haspopup":"listbox","aria-expanded":l,children:[v.jsx("span",{children:w[e]}),v.jsx(le,{size:16,className:"transition-transform "+(l?"rotate-180":"")})]}),l&&v.jsx("div",{className:"absolute left-0 mt-2 w-80 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md shadow-lg z-50",children:v.jsx("div",{className:"py-2",children:b.map(e=>v.jsxs("button",{onClick:()=>{var t;t=e.id,o(t),c(!1),r("Reports"),c(!1)},className:"w-full text-left px-4 py-3 transition-colors cursor-pointer "+(s===e.id?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-300 font-semibold":"text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700"),children:[v.jsx("div",{className:"font-medium",children:e.name}),v.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:e.description})]},e.id))})})]},e):v.jsx("button",{onClick:()=>{r(e),c(!1)},className:"py-3 px-1 sm:px-4 text-sm sm:text-base font-semibold border-b-2 transition-colors cursor-pointer "+(n===e?"border-blue-500 text-blue-500":"border-transparent text-gray-500 hover:text-gray-800 dark:hover:text-gray-200"),children:w[e]},e))})})})}),v.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:["Overview"===n&&v.jsxs(v.Fragment,{children:["Market"===e&&v.jsxs("div",{className:"space-y-8",children:[v.jsx(Wte,{}),v.jsx(Ute,{}),v.jsx(fne,{}),v.jsx(Xe,{}),v.jsx(BY,{})]}),"Industries"===e&&v.jsx("div",{className:"space-y-8",children:v.jsx(Lie,{})}),"Tickers"===e&&v.jsx("div",{className:"space-y-8",children:v.jsx(Vie,{})})]}),"Reports"===n&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[v.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Thi gian:"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{className:"cursor-pointer px-4 py-1 rounded font-medium text-sm border "+("1D"===u?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600"),onClick:()=>d("1D"),children:"Hng ngy (1D)"}),v.jsx("button",{className:"cursor-pointer px-4 py-1 rounded font-medium text-sm border "+("1W"===u?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600"),onClick:()=>d("1W"),children:"Hng tun (1W)"})]})]}),"Industries"===e&&v.jsxs("div",{className:"space-y-8",children:["rs_analysis"===s&&v.jsx(Uie,{timeframe:u}),"abnormal_signals"===s&&v.jsx(gne,{})]}),"Tickers"===e&&v.jsxs("div",{className:"space-y-8",children:["abnormal_signals"===s&&v.jsx(pne,{}),"vsa_report"===s&&v.jsx(Dae,{}),"vcp_analysis"===s&&v.jsx(Rae,{})]}),"Market"===e&&v.jsxs("div",{className:"space-y-8",children:["market_interconnection"===s&&v.jsx(kae,{}),"market_overview"===s&&v.jsx(oae,{}),"macroeconomics"===s&&v.jsx(uae,{}),"valuation_report"===s&&v.jsx(Yie,{}),"mfi_analysis"===s&&v.jsx(MFIAnalysis,{})]})]})]})]})}),l&&v.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>c(!1)}),v.jsx("div",{className:"text-center py-4 text-xs text-gray-500 border-t border-gray-200 dark:border-gray-700",children:v.jsxs("p",{children:["S dng d liu t ",v.jsx("a",{href:"https://vnstocks.com/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline cursor-pointer",children:"https://vnstocks.com/"})," Wichart.vn v Investing.com"]})}),!f&&v.jsxs("footer",{className:"text-center mt-8 text-xs text-gray-500",children:[v.jsx("p",{children:" 2025 Taichinhchungkhoan.com"}),v.jsx("p",{className:"mt-1",children:"Taichinhchungkhoan.com - Nn tng kin thc v cng c ti chnh cho ngi Vit"}),v.jsxs("p",{className:"mt-2",children:[v.jsx("strong",{children:"Tuyn b min tr trch nhim:"})," ng dng ny c to ra cho mc ch tham kho v gio dc. Thng tin cung cp khng c coi l li khuyn u t chuyn nghip. Lun tham kho  kin chuyn gia ti chnh trc khi ra quyt nh."]})]})]})}function Bae(){return v.jsx(Wne,{children:v.jsx(Fae,{})})}V.createRoot(document.getElementById("root")).render(v.jsx(k.StrictMode,{children:v.jsx(Bae,{})}))}},function(){return t||(0,e[a(e)[0]])((t={exports:{}}).exports,t),t.exports});export default v();
