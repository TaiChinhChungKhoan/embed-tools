var e,t,n=Object.defineProperty,r=Object.defineProperties,i=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,c=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),u=Math.pow,d=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,h=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(s)for(var n of s(t))l.call(t,n)&&d(e,n,t[n]);return e},f=(e,t)=>r(e,i(t)),m=(e,t)=>{var n={};for(var r in e)o.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&s)for(var r of s(e))t.indexOf(r)<0&&l.call(e,r)&&(n[r]=e[r]);return n},p=(e,t,n)=>d(e,"symbol"!=typeof t?t+"":t,n),g=(e,t,n)=>new Promise((r,i)=>{var a=e=>{try{o(n.next(e))}catch(t){i(t)}},s=e=>{try{o(n.throw(e))}catch(t){i(t)}},o=e=>e.done?r(e.value):Promise.resolve(e.value).then(a,s);o((n=n.apply(e,t)).next())}),v=function(e,t){this[0]=e,this[1]=t},y=e=>{var t,n=e[c("asyncIterator")],r=!1,i={};return null==n?(n=e[c("iterator")](),t=e=>i[e]=t=>n[e](t)):(n=n.call(e),t=e=>i[e]=t=>{if(r){if(r=!1,"throw"===e)throw t;return t}return r=!0,{done:!1,value:new v(new Promise(r=>{var i=n[e](t);i instanceof Object||(e=>{throw TypeError(e)})("Object expected"),r(i)}),1)}}),i[c("iterator")]=()=>i,t("next"),"throw"in n?t("throw"):i.throw=e=>{throw e},"return"in n&&t("return"),i},x=(e={"assets/index-B_nT-dO7.js"(e){var t;function n(e,t){for(var n=0;n<t.length;n++){const r=t[n];if("string"!=typeof r&&!Array.isArray(r))for(const t in r)if("default"!==t&&!(t in e)){const n=Object.getOwnPropertyDescriptor(r,t);n&&Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:()=>r[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function a(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}),n}var s,o,l,c,d={exports:{}},v={},x=(o||(o=1,d.exports=function(){if(s)return v;s=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(t,n,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==n.key&&(i=""+n.key),"key"in n)for(var a in r={},n)"key"!==a&&(r[a]=n[a]);else r=n;return n=r.ref,{$$typeof:e,type:t,key:i,ref:void 0!==n?n:null,props:r}}return v.Fragment=t,v.jsx=n,v.jsxs=n,v}()),d.exports),b={exports:{}},w={};function _(){if(l)return w;l=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator,f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,p={};function g(e,t,n){this.props=e,this.context=t,this.refs=p,this.updater=n||f}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=p,this.updater=n||f}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var x=y.prototype=new v;x.constructor=y,m(x,g.prototype),x.isPureReactComponent=!0;var b=Array.isArray,_={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function k(t,n,r,i,a,s){return r=s.ref,{$$typeof:e,type:t,key:n,ref:void 0!==r?r:null,props:s}}function N(t){return"object"==typeof t&&null!==t&&t.$$typeof===e}var S=/\/+/g;function C(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36);var n,r}function E(){}function P(n,r,i,a,s){var o=typeof n;"undefined"!==o&&"boolean"!==o||(n=null);var l,c,u=!1;if(null===n)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(n.$$typeof){case e:case t:u=!0;break;case d:return P((u=n._init)(n._payload),r,i,a,s)}}if(u)return s=s(n),u=""===a?"."+C(n,0):a,b(s)?(i="",null!=u&&(i=u.replace(S,"$&/")+"/"),P(s,r,i,"",function(e){return e})):null!=s&&(N(s)&&(l=s,c=i+(null==s.key||n&&n.key===s.key?"":(""+s.key).replace(S,"$&/")+"/")+u,s=k(l.type,c,void 0,0,0,l.props)),r.push(s)),1;u=0;var f,m=""===a?".":a+":";if(b(n))for(var p=0;p<n.length;p++)u+=P(a=n[p],r,i,o=m+C(a,p),s);else if("function"==typeof(p=null===(f=n)||"object"!=typeof f?null:"function"==typeof(f=h&&f[h]||f["@@iterator"])?f:null))for(n=p.call(n),p=0;!(a=n.next()).done;)u+=P(a=a.value,r,i,o=m+C(a,p++),s);else if("object"===o){if("function"==typeof n.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(E,E):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(n),r,i,a,s);throw r=String(n),Error("Objects are not valid as a React child (found: "+("[object Object]"===r?"object with keys {"+Object.keys(n).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.")}return u}function M(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",function(e){return t.call(n,e,i++)}),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)};function T(){}return w.Children={map:M,forEach:function(e,t,n){M(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return M(e,function(){t++}),t},toArray:function(e){return M(e,function(e){return e})||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},w.Component=g,w.Fragment=n,w.Profiler=i,w.PureComponent=y,w.StrictMode=r,w.Suspense=c,w.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,w.__COMPILER_RUNTIME={__proto__:null,c:function(e){return _.H.useMemoCache(e)}},w.cache=function(e){return function(){return e.apply(null,arguments)}},w.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(a in t.ref,void 0!==t.key&&(i=""+t.key),t)!j.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var s=Array(a),o=0;o<a;o++)s[o]=arguments[o+2];r.children=s}return k(e.type,i,void 0,0,0,r)},w.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},w.createElement=function(e,t,n){var r,i={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)j.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return k(e,a,void 0,0,0,i)},w.createRef=function(){return{current:null}},w.forwardRef=function(e){return{$$typeof:o,render:e}},w.isValidElement=N,w.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:O}},w.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},w.startTransition=function(e){var t=_.T,n={};_.T=n;try{var r=e(),i=_.S;null!==i&&i(n,r),"object"==typeof r&&null!==r&&"function"==typeof r.then&&r.then(T,A)}catch(a){A(a)}finally{_.T=t}},w.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},w.use=function(e){return _.H.use(e)},w.useActionState=function(e,t,n){return _.H.useActionState(e,t,n)},w.useCallback=function(e,t){return _.H.useCallback(e,t)},w.useContext=function(e){return _.H.useContext(e)},w.useDebugValue=function(){},w.useDeferredValue=function(e,t){return _.H.useDeferredValue(e,t)},w.useEffect=function(e,t,n){var r=_.H;if("function"==typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},w.useId=function(){return _.H.useId()},w.useImperativeHandle=function(e,t,n){return _.H.useImperativeHandle(e,t,n)},w.useInsertionEffect=function(e,t){return _.H.useInsertionEffect(e,t)},w.useLayoutEffect=function(e,t){return _.H.useLayoutEffect(e,t)},w.useMemo=function(e,t){return _.H.useMemo(e,t)},w.useOptimistic=function(e,t){return _.H.useOptimistic(e,t)},w.useReducer=function(e,t,n){return _.H.useReducer(e,t,n)},w.useRef=function(e){return _.H.useRef(e)},w.useState=function(e){return _.H.useState(e)},w.useSyncExternalStore=function(e,t,n){return _.H.useSyncExternalStore(e,t,n)},w.useTransition=function(){return _.H.useTransition()},w.version="19.1.0",w}function j(){return c||(c=1,b.exports=_()),b.exports}var k=j();const N=i(k),S=n({__proto__:null,default:N},[k]);var C,E,P={exports:{}},M={},O={exports:{}},A={};function T(){return E||(E=1,O.exports=(C||(C=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,s=a>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,n))c<a&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<a&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,d=null,h=3,f=!1,m=!1,p=!1,g=!1,v="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,x="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var i=n(c);null!==i;){if(null===i.callback)r(c);else{if(!(i.startTime<=e))break;r(c),i.sortIndex=i.expirationTime,t(l,i)}i=n(c)}}function w(e){if(p=!1,b(e),!m)if(null!==n(l))m=!0,j||(j=!0,_());else{var t=n(c);null!==t&&O(w,t.startTime-e)}}var _,j=!1,k=-1,N=5,S=-1;function C(){return!(!g&&e.unstable_now()-S<N)}function E(){if(g=!1,j){var t=e.unstable_now();S=t;var i=!0;try{e:{m=!1,p&&(p=!1,y(k),k=-1),f=!0;var a=h;try{t:{for(b(t),d=n(l);null!==d&&!(d.expirationTime>t&&C());){var s=d.callback;if("function"==typeof s){d.callback=null,h=d.priorityLevel;var o=s(d.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof o){d.callback=o,b(t),i=!0;break t}d===n(l)&&r(l),b(t)}else r(l);d=n(l)}if(null!==d)i=!0;else{var u=n(c);null!==u&&O(w,u.startTime-t),i=!1}}break e}finally{d=null,h=a,f=!1}i=void 0}}finally{i?_():j=!1}}}if("function"==typeof x)_=function(){x(E)};else if("undefined"!=typeof MessageChannel){var P=new MessageChannel,M=P.port2;P.port1.onmessage=E,_=function(){M.postMessage(null)}}else _=function(){v(E,0)};function O(t,n){k=v(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e||(N=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},e.unstable_scheduleCallback=function(r,i,a){var s=e.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?s+a:s,r){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return r={id:u++,callback:i,priorityLevel:r,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(r.sortIndex=a,t(c,r),null===n(l)&&r===n(c)&&(p?(y(k),k=-1):p=!0,O(w,a-s))):(r.sortIndex=o,t(l,r),m||f||(m=!0,j||(j=!0,_()))),r},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}(A)),A)),O.exports}var D,R,I,z,L={exports:{}},F={};function B(){if(D)return F;D=1;var e=j();function t(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal"),a=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}return F.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,F.createPortal=function(e,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!n||1!==n.nodeType&&9!==n.nodeType&&11!==n.nodeType)throw Error(t(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:i,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,n,null,r)},F.flushSync=function(e){var t=a.T,n=r.p;try{if(a.T=null,r.p=2,e)return e()}finally{a.T=t,r.p=n,r.d.f()}},F.preconnect=function(e,t){"string"==typeof e&&(t=t?"string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:null,r.d.C(e,t))},F.prefetchDNS=function(e){"string"==typeof e&&r.d.D(e)},F.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,i=s(n,t.crossOrigin),a="string"==typeof t.integrity?t.integrity:void 0,o="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?r.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:i,integrity:a,fetchPriority:o}):"script"===n&&r.d.X(e,{crossOrigin:i,integrity:a,fetchPriority:o,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},F.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=s(t.as,t.crossOrigin);r.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&r.d.M(e)},F.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,i=s(n,t.crossOrigin);r.d.L(e,n,{crossOrigin:i,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},F.preloadModule=function(e,t){if("string"==typeof e)if(t){var n=s(t.as,t.crossOrigin);r.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else r.d.m(e)},F.requestFormReset=function(e){r.d.r(e)},F.unstable_batchedUpdates=function(e,t){return e(t)},F.useFormState=function(e,t,n){return a.H.useFormState(e,t,n)},F.useFormStatus=function(){return a.H.useHostTransitionStatus()},F.version="19.1.0",F}function W(){return R||(R=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),L.exports=B()),L.exports}
/**
     * @license React
     * react-dom-client.production.js
     *
     * Copyright (c) Meta Platforms, Inc. and affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */function V(){if(I)return M;I=1;var e=T(),t=j(),n=W();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function a(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function s(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function o(e){if(a(e)!==e)throw Error(r(188))}function l(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=l(e)))return t;e=e.sibling}return null}var c=Object.assign,u=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),y=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),S=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function E(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=C&&e[C]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function O(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case f:return"Fragment";case p:return"Profiler";case m:return"StrictMode";case b:return"Suspense";case w:return"SuspenseList";case N:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case h:return"Portal";case y:return(e.displayName||"Context")+".Provider";case v:return(e._context.displayName||"Context")+".Consumer";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(t=e.displayName||null)?t:O(e.type)||"Memo";case k:t=e._payload,e=e._init;try{return O(e(t))}catch(n){}}return null}var A=Array.isArray,D=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},L=[],F=-1;function B(e){return{current:e}}function V(e){0>F||(e.current=L[F],L[F]=null,F--)}function $(e,t){F++,L[F]=e.current,e.current=t}var K=B(null),H=B(null),U=B(null),Y=B(null);function q(e,t){switch($(U,t),$(H,e),$(K,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?sd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=od(t=sd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(K),$(K,e)}function G(){V(K),V(H),V(U)}function X(e){null!==e.memoizedState&&$(Y,e);var t=K.current,n=od(t,e.type);t!==n&&($(H,e),$(K,n))}function Q(e){H.current===e&&(V(K),V(H)),Y.current===e&&(V(Y),Xd._currentValue=z)}var Z=Object.prototype.hasOwnProperty,J=e.unstable_scheduleCallback,ee=e.unstable_cancelCallback,te=e.unstable_shouldYield,ne=e.unstable_requestPaint,re=e.unstable_now,ie=e.unstable_getCurrentPriorityLevel,ae=e.unstable_ImmediatePriority,se=e.unstable_UserBlockingPriority,oe=e.unstable_NormalPriority,le=e.unstable_LowPriority,ce=e.unstable_IdlePriority,ue=e.log,de=e.unstable_setDisableYieldValue,he=null,fe=null;function me(e){if("function"==typeof ue&&de(e),fe&&"function"==typeof fe.setStrictMode)try{fe.setStrictMode(he,e)}catch(t){}}var pe=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(ge(e)/ve|0)|0},ge=Math.log,ve=Math.LN2,ye=256,xe=4194304;function be(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function we(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,a=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~a)?i=be(r):0!==(s&=o)?i=be(s):n||0!==(n=o&~e)&&(i=be(n)):0!==(o=r&~a)?i=be(o):0!==s?i=be(s):n||0!==(n=r&~e)&&(i=be(n)),0===i?0:0!==t&&t!==i&&0===(t&a)&&((a=i&-i)>=(n=t&-t)||32===a&&4194048&n)?t:i}function _e(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function je(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ke(){var e=ye;return!(4194048&(ye<<=1))&&(ye=256),e}function Ne(){var e=xe;return!(62914560&(xe<<=1))&&(xe=4194304),e}function Se(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ce(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ee(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-pe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Pe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Me(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oe(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Ae(){var e=R.p;return 0!==e?e:void 0===(e=window.event)?32:dh(e.type)}var Te=Math.random().toString(36).slice(2),De="__reactFiber$"+Te,Re="__reactProps$"+Te,Ie="__reactContainer$"+Te,ze="__reactEvents$"+Te,Le="__reactListeners$"+Te,Fe="__reactHandles$"+Te,Be="__reactResources$"+Te,We="__reactMarker$"+Te;function Ve(e){delete e[De],delete e[Re],delete e[ze],delete e[Le],delete e[Fe]}function $e(e){var t=e[De];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ie]||n[De]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=wd(e);null!==e;){if(n=e[De])return n;e=wd(e)}return t}n=(e=n).parentNode}return null}function Ke(e){if(e=e[De]||e[Ie]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function He(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(r(33))}function Ue(e){var t=e[Be];return t||(t=e[Be]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ye(e){e[We]=!0}var qe=new Set,Ge={};function Xe(e,t){Qe(e,t),Qe(e+"Capture",t)}function Qe(e,t){for(Ge[e]=t,e=0;e<t.length;e++)qe.add(t[e])}var Ze,Je,et=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tt={},nt={};function rt(e,t,n){if(i=t,Z.call(nt,i)||!Z.call(tt,i)&&(et.test(i)?nt[i]=!0:(tt[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function it(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function at(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function st(e){if(void 0===Ze)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ze=t&&t[1]||"",Je=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ze+e+Je}var ot=!1;function lt(e,t){if(!e||ot)return"";ot=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(a){r=a}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"==typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split("\n"),c=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{ot=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?st(n):""}function ct(e){switch(e.tag){case 26:case 27:case 5:return st(e.type);case 16:return st("Lazy");case 13:return st("Suspense");case 19:return st("SuspenseList");case 0:case 15:return lt(e.type,!1);case 11:return lt(e.type.render,!1);case 1:return lt(e.type,!0);case 31:return st("Activity");default:return""}}function ut(e){try{var t="";do{t+=ct(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){e._valueTracker||(e._valueTracker=function(e){var t=ht(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function mt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function pt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function vt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function yt(e,t,n,r,i,a,s,o){e.name="",null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?bt(e,s,dt(t)):null!=n?bt(e,s,dt(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=a&&(e.defaultChecked=!!a),null!=i&&(e.checked=i&&"function"!=typeof i&&"symbol"!=typeof i),null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.name=""+dt(o):e.removeAttribute("name")}function xt(e,t,n,r,i,a,s,o){if(null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(e.type=a),null!=t||null!=n){if(("submit"===a||"reset"===a)&&null==t)return;n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:i)&&"symbol"!=typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.name=s)}function bt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function _t(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function jt(e,t,n,i){if(null==t){if(null!=i){if(null!=n)throw Error(r(92));if(A(i)){if(1<i.length)throw Error(r(93));i=i[0]}n=i}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(i=e.textContent)===n&&""!==i&&null!==i&&(e.value=i)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Nt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function St(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||Nt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(r(62));if(e=e.style,null!=n){for(var i in n)!n.hasOwnProperty(i)||null!=t&&t.hasOwnProperty(i)||(0===i.indexOf("--")?e.setProperty(i,""):"float"===i?e.cssFloat="":e[i]="");for(var a in t)i=t[a],t.hasOwnProperty(a)&&n[a]!==i&&St(e,a,i)}else for(var s in t)t.hasOwnProperty(s)&&St(e,s,t[s])}function Et(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ot(e){return Mt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var At=null;function Tt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Dt=null,Rt=null;function It(e){var t=Ke(e);if(t&&(e=t.stateNode)){var n=e[Re]||null;e:switch(e=t.stateNode,t.type){case"input":if(yt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var a=i[Re]||null;if(!a)throw Error(r(90));yt(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(i=n[t]).form===e.form&&mt(i)}break e;case"textarea":_t(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&wt(e,!!n.multiple,t,!1)}}}var zt=!1;function Lt(e,t,n){if(zt)return e(t,n);zt=!0;try{return e(t)}finally{if(zt=!1,(null!==Dt||null!==Rt)&&($c(),Dt&&(t=Dt,e=Rt,Rt=Dt=null,It(t),e)))for(t=0;t<e.length;t++)It(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var i=n[Re]||null;if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}var Bt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Wt=!1;if(Bt)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){Wt=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch(Rh){Wt=!1}var $t=null,Kt=null,Ht=null;function Ut(){if(Ht)return Ht;var e,t,n=Kt,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[a-t];t++);return Ht=i.slice(e,1<t?1-t:void 0)}function Yt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function qt(){return!0}function Gt(){return!1}function Xt(e){function t(t,n,r,i,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?qt:Gt,this.isPropagationStopped=Gt,this}return c(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=qt)},persist:function(){},isPersistent:qt}),t}var Qt,Zt,Jt,en={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tn=Xt(en),nn=c({},en,{view:0,detail:0}),rn=Xt(nn),an=c({},nn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jt&&(Jt&&"mousemove"===e.type?(Qt=e.screenX-Jt.screenX,Zt=e.screenY-Jt.screenY):Zt=Qt=0,Jt=e),Qt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),sn=Xt(an),on=Xt(c({},an,{dataTransfer:0})),ln=Xt(c({},nn,{relatedTarget:0})),cn=Xt(c({},en,{animationName:0,elapsedTime:0,pseudoElement:0})),un=Xt(c({},en,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),dn=Xt(c({},en,{data:0})),hn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function gn(){return pn}var vn=Xt(c({},nn,{key:function(e){if(e.key){var t=hn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Yt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?fn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gn,charCode:function(e){return"keypress"===e.type?Yt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Yt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),yn=Xt(c({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xn=Xt(c({},nn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gn})),bn=Xt(c({},en,{propertyName:0,elapsedTime:0,pseudoElement:0})),wn=Xt(c({},an,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),_n=Xt(c({},en,{newState:0,oldState:0})),jn=[9,13,27,32],kn=Bt&&"CompositionEvent"in window,Nn=null;Bt&&"documentMode"in document&&(Nn=document.documentMode);var Sn=Bt&&"TextEvent"in window&&!Nn,Cn=Bt&&(!kn||Nn&&8<Nn&&11>=Nn),En=String.fromCharCode(32),Pn=!1;function Mn(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function On(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var An=!1,Tn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Tn[e.type]:"textarea"===t}function Rn(e,t,n,r){Dt?Rt?Rt.push(r):Rt=[r]:Dt=r,0<(t=Uu(t,"onChange")).length&&(n=new tn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var In=null,zn=null;function Ln(e){Lu(e,0)}function Fn(e){if(mt(He(e)))return e}function Bn(e,t){if("change"===e)return t}var Wn=!1;if(Bt){var Vn;if(Bt){var $n="oninput"in document;if(!$n){var Kn=document.createElement("div");Kn.setAttribute("oninput","return;"),$n="function"==typeof Kn.oninput}Vn=$n}else Vn=!1;Wn=Vn&&(!document.documentMode||9<document.documentMode)}function Hn(){In&&(In.detachEvent("onpropertychange",Un),zn=In=null)}function Un(e){if("value"===e.propertyName&&Fn(zn)){var t=[];Rn(t,zn,e,Tt(e)),Lt(Ln,t)}}function Yn(e,t,n){"focusin"===e?(Hn(),zn=n,(In=t).attachEvent("onpropertychange",Un)):"focusout"===e&&Hn()}function qn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fn(zn)}function Gn(e,t){if("click"===e)return Fn(t)}function Xn(e,t){if("input"===e||"change"===e)return Fn(t)}var Qn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Zn(e,t){if(Qn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Z.call(t,i)||!Qn(e[i],t[i]))return!1}return!0}function Jn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function er(e,t){var n,r=Jn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jn(r)}}function tr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?tr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function nr(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function rr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ir=Bt&&"documentMode"in document&&11>=document.documentMode,ar=null,sr=null,or=null,lr=!1;function cr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;lr||null==ar||ar!==pt(r)||(r="selectionStart"in(r=ar)&&rr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},or&&Zn(or,r)||(or=r,0<(r=Uu(sr,"onSelect")).length&&(t=new tn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ar)))}function ur(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dr={animationend:ur("Animation","AnimationEnd"),animationiteration:ur("Animation","AnimationIteration"),animationstart:ur("Animation","AnimationStart"),transitionrun:ur("Transition","TransitionRun"),transitionstart:ur("Transition","TransitionStart"),transitioncancel:ur("Transition","TransitionCancel"),transitionend:ur("Transition","TransitionEnd")},hr={},fr={};function mr(e){if(hr[e])return hr[e];if(!dr[e])return e;var t,n=dr[e];for(t in n)if(n.hasOwnProperty(t)&&t in fr)return hr[e]=n[t];return e}Bt&&(fr=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);var pr=mr("animationend"),gr=mr("animationiteration"),vr=mr("animationstart"),yr=mr("transitionrun"),xr=mr("transitionstart"),br=mr("transitioncancel"),wr=mr("transitionend"),_r=new Map,jr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(e,t){_r.set(e,t),Xe(t,[e])}jr.push("scrollEnd");var Nr=new WeakMap;function Sr(e,t){if("object"==typeof e&&null!==e){var n=Nr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ut(t)},Nr.set(e,t),t)}return{value:e,source:t,stack:ut(t)}}var Cr=[],Er=0,Pr=0;function Mr(){for(var e=Er,t=Pr=Er=0;t<e;){var n=Cr[t];Cr[t++]=null;var r=Cr[t];Cr[t++]=null;var i=Cr[t];Cr[t++]=null;var a=Cr[t];if(Cr[t++]=null,null!==r&&null!==i){var s=r.pending;null===s?i.next=i:(i.next=s.next,s.next=i),r.pending=i}0!==a&&Dr(n,i,a)}}function Or(e,t,n,r){Cr[Er++]=e,Cr[Er++]=t,Cr[Er++]=n,Cr[Er++]=r,Pr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ar(e,t,n,r){return Or(e,t,n,r),Rr(e)}function Tr(e,t){return Or(e,null,null,t),Rr(e)}function Dr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,i&&null!==t&&(i=31-pe(n),null===(r=(e=a.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),a):null}function Rr(e){if(50<Dc)throw Dc=0,Rc=null,Error(r(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Ir={};function zr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(e,t,n,r){return new zr(e,t,n,r)}function Fr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Br(e,t){var n=e.alternate;return null===n?((n=Lr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Wr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vr(e,t,n,i,a,s){var o=0;if(i=e,"function"==typeof e)Fr(e)&&(o=1);else if("string"==typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,K.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case N:return(e=Lr(31,n,t,a)).elementType=N,e.lanes=s,e;case f:return $r(n.children,a,s,t);case m:o=8,a|=24;break;case p:return(e=Lr(12,n,t,2|a)).elementType=p,e.lanes=s,e;case b:return(e=Lr(13,n,t,a)).elementType=b,e.lanes=s,e;case w:return(e=Lr(19,n,t,a)).elementType=w,e.lanes=s,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case g:case y:o=10;break e;case v:o=9;break e;case x:o=11;break e;case _:o=14;break e;case k:o=16,i=null;break e}o=29,n=Error(r(130,null===e?"null":typeof e,"")),i=null}return(t=Lr(o,n,t,a)).elementType=e,t.type=i,t.lanes=s,t}function $r(e,t,n,r){return(e=Lr(7,e,r,t)).lanes=n,e}function Kr(e,t,n){return(e=Lr(6,e,null,t)).lanes=n,e}function Hr(e,t,n){return(t=Lr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ur=[],Yr=0,qr=null,Gr=0,Xr=[],Qr=0,Zr=null,Jr=1,ei="";function ti(e,t){Ur[Yr++]=Gr,Ur[Yr++]=qr,qr=e,Gr=t}function ni(e,t,n){Xr[Qr++]=Jr,Xr[Qr++]=ei,Xr[Qr++]=Zr,Zr=e;var r=Jr;e=ei;var i=32-pe(r)-1;r&=~(1<<i),n+=1;var a=32-pe(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Jr=1<<32-pe(t)+i|n<<i|r,ei=a+e}else Jr=1<<a|n<<i|r,ei=e}function ri(e){null!==e.return&&(ti(e,1),ni(e,1,0))}function ii(e){for(;e===qr;)qr=Ur[--Yr],Ur[Yr]=null,Gr=Ur[--Yr],Ur[Yr]=null;for(;e===Zr;)Zr=Xr[--Qr],Xr[Qr]=null,ei=Xr[--Qr],Xr[Qr]=null,Jr=Xr[--Qr],Xr[Qr]=null}var ai=null,si=null,oi=!1,li=null,ci=!1,ui=Error(r(519));function di(e){throw vi(Sr(Error(r(418,"")),e)),ui}function hi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[De]=e,t[Re]=r,n){case"dialog":Fu("cancel",t),Fu("close",t);break;case"iframe":case"object":case"embed":Fu("load",t);break;case"video":case"audio":for(n=0;n<Iu.length;n++)Fu(Iu[n],t);break;case"source":Fu("error",t);break;case"img":case"image":case"link":Fu("error",t),Fu("load",t);break;case"details":Fu("toggle",t);break;case"input":Fu("invalid",t),xt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ft(t);break;case"select":Fu("invalid",t);break;case"textarea":Fu("invalid",t),jt(t,r.value,r.defaultValue,r.children),ft(t)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Zu(t.textContent,n)?(null!=r.popover&&(Fu("beforetoggle",t),Fu("toggle",t)),null!=r.onScroll&&Fu("scroll",t),null!=r.onScrollEnd&&Fu("scrollend",t),null!=r.onClick&&(t.onclick=Ju),t=!0):t=!1,t||di(e)}function fi(e){for(ai=e.return;ai;)switch(ai.tag){case 5:case 13:return void(ci=!1);case 27:case 3:return void(ci=!0);default:ai=ai.return}}function mi(e){if(e!==ai)return!1;if(!oi)return fi(e),oi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ld(e.type,e.memoizedProps)),t=!t),t&&si&&di(e),fi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){si=xd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}si=null}}else 27===n?(n=si,pd(e.type)?(e=bd,bd=null,si=e):si=n):si=ai?xd(e.stateNode.nextSibling):null;return!0}function pi(){si=ai=null,oi=!1}function gi(){var e=li;return null!==e&&(null===wc?wc=e:wc.push.apply(wc,e),li=null),e}function vi(e){null===li?li=[e]:li.push(e)}var yi=B(null),xi=null,bi=null;function wi(e,t,n){$(yi,t._currentValue),t._currentValue=n}function _i(e){e._currentValue=yi.current,V(yi)}function ji(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ki(e,t,n,i){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var s=a.dependencies;if(null!==s){var o=a.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=a;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ji(s.return,n,e),i||(o=null);break e}s=l.next}}else if(18===a.tag){if(null===(o=a.return))throw Error(r(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),ji(o,n,e),o=null}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===e){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}}function Ni(e,t,n,i){e=null;for(var a=t,s=!1;null!==a;){if(!s)if(524288&a.flags)s=!0;else if(262144&a.flags)break;if(10===a.tag){var o=a.alternate;if(null===o)throw Error(r(387));if(null!==(o=o.memoizedProps)){var l=a.type;Qn(a.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(a===Y.current){if(null===(o=a.alternate))throw Error(r(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(Xd):e=[Xd])}a=a.return}null!==e&&ki(t,e,n,i),t.flags|=262144}function Si(e){for(e=e.firstContext;null!==e;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ci(e){xi=e,bi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ei(e){return Mi(xi,e)}function Pi(e,t){return null===xi&&Ci(e),Mi(e,t)}function Mi(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===bi){if(null===e)throw Error(r(308));bi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else bi=bi.next=t;return n}var Oi="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ai=e.unstable_scheduleCallback,Ti=e.unstable_NormalPriority,Di={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ri(){return{controller:new Oi,data:new Map,refCount:0}}function Ii(e){e.refCount--,0===e.refCount&&Ai(Ti,function(){e.controller.abort()})}var zi=null,Li=0,Fi=0,Bi=null;function Wi(){if(0===--Li&&null!==zi){null!==Bi&&(Bi.status="fulfilled");var e=zi;zi=null,Fi=0,Bi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Vi=D.S;D.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===zi){var n=zi=[];Li=0,Fi=Ou(),Bi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Li++,t.then(Wi,Wi)}(0,t),null!==Vi&&Vi(e,t)};var $i=B(null);function Ki(){var e=$i.current;return null!==e?e:ac.pooledCache}function Hi(e,t){$($i,null===t?$i.current:t.pool)}function Ui(){var e=Ki();return null===e?null:{parent:Di._currentValue,pool:e}}var Yi=Error(r(460)),qi=Error(r(474)),Gi=Error(r(542)),Xi={then:function(){}};function Qi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Zi(){}function Ji(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Zi,Zi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw na(e=t.reason),e;default:if("string"==typeof t.status)t.then(Zi,Zi);else{if(null!==(e=ac)&&100<e.shellSuspendCounter)throw Error(r(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw na(e=t.reason),e}throw ea=t,Yi}}var ea=null;function ta(){if(null===ea)throw Error(r(459));var e=ea;return ea=null,e}function na(e){if(e===Yi||e===Gi)throw Error(r(483))}var ra=!1;function ia(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function aa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function sa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&ic){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Rr(e),Dr(e,null,n),t}return Or(e,r,t,n),Rr(e)}function la(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pe(e,n)}}function ca(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ua=!1;function da(){if(ua&&null!==Bi)throw Bi}function ha(e,t,n,r){ua=!1;var i=e.updateQueue;ra=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,u=l.next;l.next=null,null===s?a=u:s.next=u,s=l;var d=e.alternate;null!==d&&(o=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===o?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l)}if(null!==a){var h=i.baseState;for(s=0,d=u=l=null,o=a;;){var f=-536870913&o.lane,m=f!==o.lane;if(m?(oc&f)===f:(r&f)===f){0!==f&&f===Fi&&(ua=!0),null!==d&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var p=e,g=o;f=t;var v=n;switch(g.tag){case 1:if("function"==typeof(p=g.payload)){h=p.call(v,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(f="function"==typeof(p=g.payload)?p.call(v,h,f):p))break e;h=c({},h,f);break e;case 2:ra=!0}}null!==(f=o.callback)&&(e.flags|=64,m&&(e.flags|=8192),null===(m=i.callbacks)?i.callbacks=[f]:m.push(f))}else m={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(u=d=m,l=h):d=d.next=m,s|=f;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(m=o).next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}null===d&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,null===a&&(i.shared.lanes=0),pc|=s,e.lanes=s,e.memoizedState=h}}function fa(e,t){if("function"!=typeof e)throw Error(r(191,e));e.call(t)}function ma(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)fa(n[e],t)}var pa=B(null),ga=B(0);function va(e,t){$(ga,e=fc),$(pa,t),fc=e|t.baseLanes}function ya(){$(ga,fc),$(pa,pa.current)}function xa(){fc=ga.current,V(pa),V(ga)}var ba=0,wa=null,_a=null,ja=null,ka=!1,Na=!1,Sa=!1,Ca=0,Ea=0,Pa=null,Ma=0;function Oa(){throw Error(r(321))}function Aa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function Ta(e,t,n,r,i,a){return ba=a,wa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?Ys:qs,Sa=!1,a=n(r,i),Sa=!1,Na&&(a=Ra(t,n,r,i)),Da(e),a}function Da(e){D.H=Us;var t=null!==_a&&null!==_a.next;if(ba=0,ja=_a=wa=null,ka=!1,Ea=0,Pa=null,t)throw Error(r(300));null===e||Po||null!==(e=e.dependencies)&&Si(e)&&(Po=!0)}function Ra(e,t,n,i){wa=e;var a=0;do{if(Na&&(Pa=null),Ea=0,Na=!1,25<=a)throw Error(r(301));if(a+=1,ja=_a=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}D.H=Gs,s=t(n,i)}while(Na);return s}function Ia(){var e=D.H,t=e.useState()[0];return t="function"==typeof t.then?Va(t):t,e=e.useState()[0],(null!==_a?_a.memoizedState:null)!==e&&(wa.flags|=1024),t}function za(){var e=0!==Ca;return Ca=0,e}function La(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Fa(e){if(ka){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ka=!1}ba=0,ja=_a=wa=null,Na=!1,Ea=Ca=0,Pa=null}function Ba(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ja?wa.memoizedState=ja=e:ja=ja.next=e,ja}function Wa(){if(null===_a){var e=wa.alternate;e=null!==e?e.memoizedState:null}else e=_a.next;var t=null===ja?wa.memoizedState:ja.next;if(null!==t)ja=t,_a=e;else{if(null===e){if(null===wa.alternate)throw Error(r(467));throw Error(r(310))}e={memoizedState:(_a=e).memoizedState,baseState:_a.baseState,baseQueue:_a.baseQueue,queue:_a.queue,next:null},null===ja?wa.memoizedState=ja=e:ja=ja.next=e}return ja}function Va(e){var t=Ea;return Ea+=1,null===Pa&&(Pa=[]),e=Ji(Pa,e,t),t=wa,null===(null===ja?t.memoizedState:ja.next)&&(t=t.alternate,D.H=null===t||null===t.memoizedState?Ys:qs),e}function $a(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return Va(e);if(e.$$typeof===y)return Ei(e)}throw Error(r(438,String(e)))}function Ka(e){var t=null,n=wa.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=wa.alternate;null!==r&&null!==(r=r.updateQueue)&&null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},wa.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=S;return t.index++,n}function Ha(e,t){return"function"==typeof t?t(e):t}function Ua(e){return Ya(Wa(),_a,e)}function Ya(e,t,n){var i=e.queue;if(null===i)throw Error(r(311));i.lastRenderedReducer=n;var a=e.baseQueue,s=i.pending;if(null!==s){if(null!==a){var o=a.next;a.next=s.next,s.next=o}t.baseQueue=a=s,i.pending=null}if(s=e.baseState,null===a)e.memoizedState=s;else{var l=o=null,c=null,u=t=a.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(oc&h)===h:(ba&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Fi&&(d=!0);else{if((ba&f)===f){u=u.next,f===Fi&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=s):c=c.next=h,wa.lanes|=f,pc|=f}h=u.action,Sa&&n(s,h),s=u.hasEagerState?u.eagerState:n(s,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=s):c=c.next=f,wa.lanes|=h,pc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=s:c.next=l,!Qn(s,e.memoizedState)&&(Po=!0,d&&null!==(n=Bi)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=c,i.lastRenderedState=s}return null===a&&(i.lanes=0),[e.memoizedState,i.dispatch]}function qa(e){var t=Wa(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,a=n.pending,s=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{s=e(s,o.action),o=o.next}while(o!==a);Qn(s,t.memoizedState)||(Po=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function Ga(e,t,n){var i=wa,a=Wa(),s=oi;if(s){if(void 0===n)throw Error(r(407));n=n()}else n=t();var o=!Qn((_a||a).memoizedState,n);if(o&&(a.memoizedState=n,Po=!0),a=a.queue,ys(2048,8,Za.bind(null,i,a,e),[e]),a.getSnapshot!==t||o||null!==ja&&1&ja.memoizedState.tag){if(i.flags|=2048,ps(9,{destroy:void 0,resource:void 0},Qa.bind(null,i,a,n,t),null),null===ac)throw Error(r(349));s||124&ba||Xa(i,t,n)}return n}function Xa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=wa.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},wa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Qa(e,t,n,r){t.value=n,t.getSnapshot=r,Ja(t)&&es(e)}function Za(e,t,n){return n(function(){Ja(t)&&es(e)})}function Ja(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch(r){return!0}}function es(e){var t=Tr(e,2);null!==t&&Lc(t,0,2)}function ts(e){var t=Ba();if("function"==typeof e){var n=e;if(e=n(),Sa){me(!0);try{n()}finally{me(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:e},t}function ns(e,t,n,r){return e.baseState=n,Ya(e,_a,"function"==typeof r?r:Ha)}function rs(e,t,n,i,a){if($s(e))throw Error(r(485));if(null!==(e=t.action)){var s={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==D.T?n(!0):s.isTransition=!1,i(s),null===(n=t.pending)?(s.next=t.pending=s,is(t,s)):(s.next=n.next,t.pending=n.next=s)}}function is(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=D.T,s={};D.T=s;try{var o=n(i,r),l=D.S;null!==l&&l(s,o),as(e,t,o)}catch(c){os(e,t,c)}finally{D.T=a}}else try{as(e,t,a=n(i,r))}catch(u){os(e,t,u)}}function as(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){ss(e,t,n)},function(n){return os(e,t,n)}):ss(e,t,n)}function ss(e,t,n){t.status="fulfilled",t.value=n,ls(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,is(e,n)))}function os(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,ls(t),t=t.next}while(t!==r)}e.action=null}function ls(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function cs(e,t){return t}function us(e,t){if(oi){var n=ac.formState;if(null!==n){e:{var r=wa;if(oi){if(si){t:{for(var i=si,a=ci;8!==i.nodeType;){if(!a){i=null;break t}if(null===(i=xd(i.nextSibling))){i=null;break t}}i="F!"===(a=i.data)||"F"===a?i:null}if(i){si=xd(i.nextSibling),r="F!"===i.data;break e}}di(r)}r=!1}r&&(t=n[0])}}return(n=Ba()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:t},n.queue=r,n=Bs.bind(null,wa,r),r.dispatch=n,r=ts(!1),a=Vs.bind(null,wa,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=Ba()).queue=i,n=rs.bind(null,wa,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function ds(e){return hs(Wa(),_a,e)}function hs(e,t,n){if(t=Ya(e,t,cs)[0],e=Ua(Ha)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=Va(t)}catch(s){if(s===Yi)throw Gi;throw s}else r=t;var i=(t=Wa()).queue,a=i.dispatch;return n!==t.memoizedState&&(wa.flags|=2048,ps(9,{destroy:void 0,resource:void 0},fs.bind(null,i,n),null)),[r,a,e]}function fs(e,t){e.action=t}function ms(e){var t=Wa(),n=_a;if(null!==n)return hs(t,n,e);Wa(),t=t.memoizedState;var r=(n=Wa()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function ps(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=wa.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},wa.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function gs(){return Wa().memoizedState}function vs(e,t,n,r){var i=Ba();r=void 0===r?null:r,wa.flags|=e,i.memoizedState=ps(1|t,{destroy:void 0,resource:void 0},n,r)}function ys(e,t,n,r){var i=Wa();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==_a&&null!==r&&Aa(r,_a.memoizedState.deps)?i.memoizedState=ps(t,a,n,r):(wa.flags|=e,i.memoizedState=ps(1|t,a,n,r))}function xs(e,t){vs(8390656,8,e,t)}function bs(e,t){ys(2048,8,e,t)}function ws(e,t){return ys(4,2,e,t)}function _s(e,t){return ys(4,4,e,t)}function js(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function ks(e,t,n){n=null!=n?n.concat([e]):null,ys(4,4,js.bind(null,t,e),n)}function Ns(){}function Ss(e,t){var n=Wa();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Aa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Cs(e,t){var n=Wa();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Aa(t,r[1]))return r[0];if(r=e(),Sa){me(!0);try{e()}finally{me(!1)}}return n.memoizedState=[r,t],r}function Es(e,t,n){return void 0===n||1073741824&ba?e.memoizedState=t:(e.memoizedState=n,e=zc(),wa.lanes|=e,pc|=e,n)}function Ps(e,t,n,r){return Qn(n,t)?n:null!==pa.current?(e=Es(e,n,r),Qn(e,t)||(Po=!0),e):42&ba?(e=zc(),wa.lanes|=e,pc|=e,t):(Po=!0,e.memoizedState=n)}function Ms(e,t,n,r,i){var a=R.p;R.p=0!==a&&8>a?a:8;var s,o,l,c=D.T,u={};D.T=u,Vs(e,!1,t,n);try{var d=i(),h=D.S;null!==h&&h(u,d),null!==d&&"object"==typeof d&&"function"==typeof d.then?Ws(e,t,(s=r,o=[],l={status:"pending",value:null,reason:null,then:function(e){o.push(e)}},d.then(function(){l.status="fulfilled",l.value=s;for(var e=0;e<o.length;e++)(0,o[e])(s)},function(e){for(l.status="rejected",l.reason=e,e=0;e<o.length;e++)(0,o[e])(void 0)}),l),Ic()):Ws(e,t,r,Ic())}catch(f){Ws(e,t,{then:function(){},status:"rejected",reason:f},Ic())}finally{R.p=a,D.T=c}}function Os(){}function As(e,t,n,i){if(5!==e.tag)throw Error(r(476));var a=Ts(e).queue;Ms(e,a,t,z,null===n?Os:function(){return Ds(e),n(i)})}function Ts(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:z},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ds(e){Ws(e,Ts(e).next.queue,{},Ic())}function Rs(){return Ei(Xd)}function Is(){return Wa().memoizedState}function zs(){return Wa().memoizedState}function Ls(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Ic(),r=oa(t,e=sa(n),n);return null!==r&&(Lc(r,0,n),la(r,t,n)),t={cache:Ri()},void(e.payload=t)}t=t.return}}function Fs(e,t,n){var r=Ic();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},$s(e)?Ks(t,n):null!==(n=Ar(e,t,n,r))&&(Lc(n,0,r),Hs(n,t,r))}function Bs(e,t,n){Ws(e,t,n,Ic())}function Ws(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if($s(e))Ks(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,Qn(o,s))return Or(e,t,i,0),null===ac&&Mr(),!1}catch(l){}if(null!==(n=Ar(e,t,i,r)))return Lc(n,0,r),Hs(n,t,r),!0}return!1}function Vs(e,t,n,i){if(i={lane:2,revertLane:Ou(),action:i,hasEagerState:!1,eagerState:null,next:null},$s(e)){if(t)throw Error(r(479))}else null!==(t=Ar(e,n,i,2))&&Lc(t,0,2)}function $s(e){var t=e.alternate;return e===wa||null!==t&&t===wa}function Ks(e,t){Na=ka=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Hs(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pe(e,n)}}var Us={readContext:Ei,use:$a,useCallback:Oa,useContext:Oa,useEffect:Oa,useImperativeHandle:Oa,useLayoutEffect:Oa,useInsertionEffect:Oa,useMemo:Oa,useReducer:Oa,useRef:Oa,useState:Oa,useDebugValue:Oa,useDeferredValue:Oa,useTransition:Oa,useSyncExternalStore:Oa,useId:Oa,useHostTransitionStatus:Oa,useFormState:Oa,useActionState:Oa,useOptimistic:Oa,useMemoCache:Oa,useCacheRefresh:Oa},Ys={readContext:Ei,use:$a,useCallback:function(e,t){return Ba().memoizedState=[e,void 0===t?null:t],e},useContext:Ei,useEffect:xs,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,vs(4194308,4,js.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vs(4194308,4,e,t)},useInsertionEffect:function(e,t){vs(4,2,e,t)},useMemo:function(e,t){var n=Ba();t=void 0===t?null:t;var r=e();if(Sa){me(!0);try{e()}finally{me(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Ba();if(void 0!==n){var i=n(t);if(Sa){me(!0);try{n(t)}finally{me(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Fs.bind(null,wa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ba().memoizedState=e},useState:function(e){var t=(e=ts(e)).queue,n=Bs.bind(null,wa,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ns,useDeferredValue:function(e,t){return Es(Ba(),e,t)},useTransition:function(){var e=ts(!1);return e=Ms.bind(null,wa,e.queue,!0,!1),Ba().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=wa,a=Ba();if(oi){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===ac)throw Error(r(349));124&oc||Xa(i,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,xs(Za.bind(null,i,s,e),[e]),i.flags|=2048,ps(9,{destroy:void 0,resource:void 0},Qa.bind(null,i,s,n,t),null),n},useId:function(){var e=Ba(),t=ac.identifierPrefix;if(oi){var n=ei;t="«"+t+"R"+(n=(Jr&~(1<<32-pe(Jr)-1)).toString(32)+n),0<(n=Ca++)&&(t+="H"+n.toString(32)),t+="»"}else t="«"+t+"r"+(n=Ma++).toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:Rs,useFormState:us,useActionState:us,useOptimistic:function(e){var t=Ba();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Vs.bind(null,wa,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ka,useCacheRefresh:function(){return Ba().memoizedState=Ls.bind(null,wa)}},qs={readContext:Ei,use:$a,useCallback:Ss,useContext:Ei,useEffect:bs,useImperativeHandle:ks,useInsertionEffect:ws,useLayoutEffect:_s,useMemo:Cs,useReducer:Ua,useRef:gs,useState:function(){return Ua(Ha)},useDebugValue:Ns,useDeferredValue:function(e,t){return Ps(Wa(),_a.memoizedState,e,t)},useTransition:function(){var e=Ua(Ha)[0],t=Wa().memoizedState;return["boolean"==typeof e?e:Va(e),t]},useSyncExternalStore:Ga,useId:Is,useHostTransitionStatus:Rs,useFormState:ds,useActionState:ds,useOptimistic:function(e,t){return ns(Wa(),0,e,t)},useMemoCache:Ka,useCacheRefresh:zs},Gs={readContext:Ei,use:$a,useCallback:Ss,useContext:Ei,useEffect:bs,useImperativeHandle:ks,useInsertionEffect:ws,useLayoutEffect:_s,useMemo:Cs,useReducer:qa,useRef:gs,useState:function(){return qa(Ha)},useDebugValue:Ns,useDeferredValue:function(e,t){var n=Wa();return null===_a?Es(n,e,t):Ps(n,_a.memoizedState,e,t)},useTransition:function(){var e=qa(Ha)[0],t=Wa().memoizedState;return["boolean"==typeof e?e:Va(e),t]},useSyncExternalStore:Ga,useId:Is,useHostTransitionStatus:Rs,useFormState:ms,useActionState:ms,useOptimistic:function(e,t){var n=Wa();return null!==_a?ns(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ka,useCacheRefresh:zs},Xs=null,Qs=0;function Zs(e){var t=Qs;return Qs+=1,null===Xs&&(Xs=[]),Ji(Xs,e,t)}function Js(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function eo(e,t){if(t.$$typeof===u)throw Error(r(525));throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function to(e){return(0,e._init)(e._payload)}function no(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function i(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Br(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Kr(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===f?m(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===k&&to(i)===t.type)?(Js(t=a(t,n.props),n),t.return=e,t):(Js(t=Vr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hr(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function m(e,t,n,r,i){return null===t||7!==t.tag?((t=$r(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Kr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case d:return Js(n=Vr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case h:return(t=Hr(t,e.mode,n)).return=e,t;case k:return p(e,t=(0,t._init)(t._payload),n)}if(A(t)||E(t))return(t=$r(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return p(e,Zs(t),n);if(t.$$typeof===y)return p(e,Pi(e,t),n);eo(e,t)}return null}function g(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case d:return n.key===i?c(e,t,n,r):null;case h:return n.key===i?u(e,t,n,r):null;case k:return g(e,t,n=(i=n._init)(n._payload),r)}if(A(n)||E(n))return null!==i?null:m(e,t,n,r,null);if("function"==typeof n.then)return g(e,t,Zs(n),r);if(n.$$typeof===y)return g(e,t,Pi(e,n),r);eo(e,n)}return null}function v(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case d:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case h:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return v(e,t,n,r=(0,r._init)(r._payload),i)}if(A(r)||E(r))return m(t,e=e.get(n)||null,r,i,null);if("function"==typeof r.then)return v(e,t,n,Zs(r),i);if(r.$$typeof===y)return v(e,t,n,Pi(t,r),i);eo(t,r)}return null}function x(l,c,u,m){if("object"==typeof u&&null!==u&&u.type===f&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case d:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===f){if(7===c.tag){n(l,c.sibling),(m=a(c,u.props.children)).return=l,l=m;break e}}else if(c.elementType===b||"object"==typeof b&&null!==b&&b.$$typeof===k&&to(b)===c.type){n(l,c.sibling),Js(m=a(c,u.props),u),m.return=l,l=m;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===f?((m=$r(u.props.children,l.mode,m,u.key)).return=l,l=m):(Js(m=Vr(u.type,u.key,u.props,null,l.mode,m),u),m.return=l,l=m)}return o(l);case h:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(m=a(c,u.children||[])).return=l,l=m;break e}n(l,c);break}t(l,c),c=c.sibling}(m=Hr(u,l.mode,m)).return=l,l=m}return o(l);case k:return x(l,c,u=(b=u._init)(u._payload),m)}if(A(u))return function(r,a,o,l){for(var c=null,u=null,d=a,h=a=0,f=null;null!==d&&h<o.length;h++){d.index>h?(f=d,d=null):f=d.sibling;var m=g(r,d,o[h],l);if(null===m){null===d&&(d=f);break}e&&d&&null===m.alternate&&t(r,d),a=s(m,a,h),null===u?c=m:u.sibling=m,u=m,d=f}if(h===o.length)return n(r,d),oi&&ti(r,h),c;if(null===d){for(;h<o.length;h++)null!==(d=p(r,o[h],l))&&(a=s(d,a,h),null===u?c=d:u.sibling=d,u=d);return oi&&ti(r,h),c}for(d=i(d);h<o.length;h++)null!==(f=v(d,r,h,o[h],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?h:f.key),a=s(f,a,h),null===u?c=f:u.sibling=f,u=f);return e&&d.forEach(function(e){return t(r,e)}),oi&&ti(r,h),c}(l,c,u,m);if(E(u)){if("function"!=typeof(b=E(u)))throw Error(r(150));return function(a,o,l,c){if(null==l)throw Error(r(151));for(var u=null,d=null,h=o,f=o=0,m=null,y=l.next();null!==h&&!y.done;f++,y=l.next()){h.index>f?(m=h,h=null):m=h.sibling;var x=g(a,h,y.value,c);if(null===x){null===h&&(h=m);break}e&&h&&null===x.alternate&&t(a,h),o=s(x,o,f),null===d?u=x:d.sibling=x,d=x,h=m}if(y.done)return n(a,h),oi&&ti(a,f),u;if(null===h){for(;!y.done;f++,y=l.next())null!==(y=p(a,y.value,c))&&(o=s(y,o,f),null===d?u=y:d.sibling=y,d=y);return oi&&ti(a,f),u}for(h=i(h);!y.done;f++,y=l.next())null!==(y=v(h,a,f,y.value,c))&&(e&&null!==y.alternate&&h.delete(null===y.key?f:y.key),o=s(y,o,f),null===d?u=y:d.sibling=y,d=y);return e&&h.forEach(function(e){return t(a,e)}),oi&&ti(a,f),u}(l,c,u=b.call(u),m)}if("function"==typeof u.then)return x(l,c,Zs(u),m);if(u.$$typeof===y)return x(l,c,Pi(l,u),m);eo(l,u)}return"string"==typeof u&&""!==u||"number"==typeof u||"bigint"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(m=a(c,u)).return=l,l=m):(n(l,c),(m=Kr(u,l.mode,m)).return=l,l=m),o(l)):n(l,c)}return function(e,t,n,r){try{Qs=0;var i=x(e,t,n,r);return Xs=null,i}catch(s){if(s===Yi||s===Gi)throw s;var a=Lr(29,s,null,e.mode);return a.lanes=r,a.return=e,a}}}var ro=no(!0),io=no(!1),ao=B(null),so=null;function oo(e){var t=e.alternate;$(ho,1&ho.current),$(ao,e),null===so&&(null===t||null!==pa.current||null!==t.memoizedState)&&(so=e)}function lo(e){if(22===e.tag){if($(ho,ho.current),$(ao,e),null===so){var t=e.alternate;null!==t&&null!==t.memoizedState&&(so=e)}}else co()}function co(){$(ho,ho.current),$(ao,ao.current)}function uo(e){V(ao),so===e&&(so=null),V(ho)}var ho=B(0);function fo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||yd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function mo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:c({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var po={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ic(),i=sa(r);i.payload=t,null!=n&&(i.callback=n),null!==(t=oa(e,i,r))&&(Lc(t,0,r),la(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ic(),i=sa(r);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=oa(e,i,r))&&(Lc(t,0,r),la(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ic(),r=sa(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=oa(e,r,n))&&(Lc(t,0,n),la(t,e,n))}};function go(e,t,n,r,i,a,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!(t.prototype&&t.prototype.isPureReactComponent&&Zn(n,r)&&Zn(i,a))}function vo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function yo(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=c({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var xo="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)};function bo(e){xo(e)}function wo(e){}function _o(e){xo(e)}function jo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function ko(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function No(e,t,n){return(n=sa(n)).tag=3,n.payload={element:null},n.callback=function(){jo(e,t)},n}function So(e){return(e=sa(e)).tag=3,e}function Co(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"==typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){ko(t,n,r)}}var s=n.stateNode;null!==s&&"function"==typeof s.componentDidCatch&&(e.callback=function(){ko(t,n,r),"function"!=typeof i&&(null===Sc?Sc=new Set([this]):Sc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Eo=Error(r(461)),Po=!1;function Mo(e,t,n,r){t.child=null===e?io(t,null,n,r):ro(t,e.child,n,r)}function Oo(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var s={};for(var o in r)"ref"!==o&&(s[o]=r[o])}else s=r;return Ci(t),r=Ta(e,t,n,s,a,i),o=za(),null===e||Po?(oi&&o&&ri(t),t.flags|=1,Mo(e,t,r,i),t.child):(La(e,t,i),Qo(e,t,i))}function Ao(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||Fr(a)||void 0!==a.defaultProps||null!==n.compare?((e=Vr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,To(e,t,a,r,i))}if(a=e.child,!Zo(e,i)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(s,r)&&e.ref===t.ref)return Qo(e,t,i)}return t.flags|=1,(e=Br(a,r)).ref=t.ref,e.return=t,t.child=e}function To(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(Zn(a,r)&&e.ref===t.ref){if(Po=!1,t.pendingProps=r=a,!Zo(e,i))return t.lanes=e.lanes,Qo(e,t,i);131072&e.flags&&(Po=!0)}}return zo(e,t,n,r,i)}function Do(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(128&t.flags){if(r=null!==a?a.baseLanes|n:n,null!==e){for(i=t.child=e.child,a=0;null!==i;)a=a|i.lanes|i.childLanes,i=i.sibling;t.childLanes=a&~r}else t.childLanes=0,t.child=null;return Ro(e,t,r,n)}if(!(536870912&n))return t.lanes=t.childLanes=536870912,Ro(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Hi(0,null!==a?a.cachePool:null),null!==a?va(t,a):ya(),lo(t)}else null!==a?(Hi(0,a.cachePool),va(t,a),co(),t.memoizedState=null):(null!==e&&Hi(0,null),ya(),co());return Mo(e,t,i,n),t.child}function Ro(e,t,n,r){var i=Ki();return i=null===i?null:{parent:Di._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Hi(0,null),ya(),lo(t),null!==e&&Ni(e,t,r,!0),null}function Io(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(r(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function zo(e,t,n,r,i){return Ci(t),n=Ta(e,t,n,r,void 0,i),r=za(),null===e||Po?(oi&&r&&ri(t),t.flags|=1,Mo(e,t,n,i),t.child):(La(e,t,i),Qo(e,t,i))}function Lo(e,t,n,r,i,a){return Ci(t),t.updateQueue=null,n=Ra(t,r,n,i),Da(e),r=za(),null===e||Po?(oi&&r&&ri(t),t.flags|=1,Mo(e,t,n,a),t.child):(La(e,t,a),Qo(e,t,a))}function Fo(e,t,n,r,i){if(Ci(t),null===t.stateNode){var a=Ir,s=n.contextType;"object"==typeof s&&null!==s&&(a=Ei(s)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=po,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},ia(t),s=n.contextType,a.context="object"==typeof s&&null!==s?Ei(s):Ir,a.state=t.memoizedState,"function"==typeof(s=n.getDerivedStateFromProps)&&(mo(t,n,s,r),a.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(s=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),s!==a.state&&po.enqueueReplaceState(a,a.state,null),ha(t,r,a,i),da(),a.state=t.memoizedState),"function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var o=t.memoizedProps,l=yo(n,o);a.props=l;var c=a.context,u=n.contextType;s=Ir,"object"==typeof u&&null!==u&&(s=Ei(u));var d=n.getDerivedStateFromProps;u="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o||c!==s)&&vo(t,a,r,s),ra=!1;var h=t.memoizedState;a.state=h,ha(t,r,a,i),da(),c=t.memoizedState,o||h!==c||ra?("function"==typeof d&&(mo(t,n,d,r),c=t.memoizedState),(l=ra||go(t,n,l,r,h,c,s))?(u||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=s,r=l):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,aa(e,t),u=yo(n,s=t.memoizedProps),a.props=u,d=t.pendingProps,h=a.context,c=n.contextType,l=Ir,"object"==typeof c&&null!==c&&(l=Ei(c)),(c="function"==typeof(o=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||h!==l)&&vo(t,a,r,l),ra=!1,h=t.memoizedState,a.state=h,ha(t,r,a,i),da();var f=t.memoizedState;s!==d||h!==f||ra||null!==e&&null!==e.dependencies&&Si(e.dependencies)?("function"==typeof o&&(mo(t,n,o,r),f=t.memoizedState),(u=ra||go(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Si(e.dependencies))?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=u):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Io(e,t),r=!!(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=ro(t,e.child,null,i),t.child=ro(t,null,n,i)):Mo(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Qo(e,t,i),e}function Bo(e,t,n,r){return pi(),t.flags|=256,Mo(e,t,n,r),t.child}var Wo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vo(e){return{baseLanes:e,cachePool:Ui()}}function $o(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=yc),e}function Ko(e,t,n){var i,a=t.pendingProps,s=!1,o=!!(128&t.flags);if((i=o)||(i=(null===e||null!==e.memoizedState)&&!!(2&ho.current)),i&&(s=!0,t.flags&=-129),i=!!(32&t.flags),t.flags&=-33,null===e){if(oi){if(s?oo(t):co(),oi){var l,c=si;if(l=c){e:{for(l=c,c=ci;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=xd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Zr?{id:Jr,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},(l=Lr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ai=t,si=null,l=!0):l=!1}l||di(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return yd(c)?t.lanes=32:t.lanes=536870912,null;uo(t)}return c=a.children,a=a.fallback,s?(co(),c=Uo({mode:"hidden",children:c},s=t.mode),a=$r(a,s,n,null),c.return=t,a.return=t,c.sibling=a,t.child=c,(s=t.child).memoizedState=Vo(n),s.childLanes=$o(e,i,n),t.memoizedState=Wo,a):(oo(t),Ho(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(oo(t),t.flags&=-257,t=Yo(e,t,n)):null!==t.memoizedState?(co(),t.child=e.child,t.flags|=128,t=null):(co(),s=a.fallback,c=t.mode,a=Uo({mode:"visible",children:a.children},c),(s=$r(s,c,n,null)).flags|=2,a.return=t,s.return=t,a.sibling=s,t.child=a,ro(t,e.child,null,n),(a=t.child).memoizedState=Vo(n),a.childLanes=$o(e,i,n),t.memoizedState=Wo,t=s);else if(oo(t),yd(c)){if(i=c.nextSibling&&c.nextSibling.dataset)var u=i.dgst;i=u,(a=Error(r(419))).stack="",a.digest=i,vi({value:a,source:null,stack:null}),t=Yo(e,t,n)}else if(Po||Ni(e,t,n,!1),i=0!==(n&e.childLanes),Po||i){if(null!==(i=ac)&&0!==(a=0!==((a=42&(a=n&-n)?1:Me(a))&(i.suspendedLanes|n))?0:a)&&a!==l.retryLane)throw l.retryLane=a,Tr(e,a),Lc(i,0,a),Eo;"$?"===c.data||Gc(),t=Yo(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,si=xd(c.nextSibling),ai=t,oi=!0,li=null,ci=!1,null!==e&&(Xr[Qr++]=Jr,Xr[Qr++]=ei,Xr[Qr++]=Zr,Jr=e.id,ei=e.overflow,Zr=t),(t=Ho(t,a.children)).flags|=4096);return t}return s?(co(),s=a.fallback,c=t.mode,u=(l=e.child).sibling,(a=Br(l,{mode:"hidden",children:a.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?s=Br(u,s):(s=$r(s,c,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,null===(c=e.child.memoizedState)?c=Vo(n):(null!==(l=c.cachePool)?(u=Di._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Ui(),c={baseLanes:c.baseLanes|n,cachePool:l}),s.memoizedState=c,s.childLanes=$o(e,i,n),t.memoizedState=Wo,a):(oo(t),e=(n=e.child).sibling,(n=Br(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function Ho(e,t){return(t=Uo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Uo(e,t){return(e=Lr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Yo(e,t,n){return ro(t,e.child,null,n),(e=Ho(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function qo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ji(e.return,t,n)}function Go(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Xo(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Mo(e,t,r.children,n),2&(r=ho.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&qo(e,n,t);else if(19===e.tag)qo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch($(ho,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===fo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Go(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===fo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Go(t,!0,n,null,a);break;case"together":Go(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ni(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Br(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Br(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Zo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Si(e))}function Jo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Po=!0;else{if(!(Zo(e,n)||128&t.flags))return Po=!1,function(e,t,n){switch(t.tag){case 3:q(t,t.stateNode.containerInfo),wi(0,Di,e.memoizedState.cache),pi();break;case 27:case 5:X(t);break;case 4:q(t,t.stateNode.containerInfo);break;case 10:wi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(oo(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Ko(e,t,n):(oo(t),null!==(e=Qo(e,t,n))?e.sibling:null);oo(t);break;case 19:var i=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(Ni(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Xo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),$(ho,ho.current),r)break;return null;case 22:case 23:return t.lanes=0,Do(e,t,n);case 24:wi(0,Di,e.memoizedState.cache)}return Qo(e,t,n)}(e,t,n);Po=!!(131072&e.flags)}else Po=!1,oi&&1048576&t.flags&&ni(t,Gr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,a=i._init;if(i=a(i._payload),t.type=i,"function"!=typeof i){if(null!=i){if((a=i.$$typeof)===x){t.tag=11,t=Oo(null,t,i,e,n);break e}if(a===_){t.tag=14,t=Ao(null,t,i,e,n);break e}}throw t=O(i)||i,Error(r(306,t,""))}Fr(i)?(e=yo(i,e),t.tag=1,t=Fo(null,t,i,e,n)):(t.tag=0,t=zo(null,t,i,e,n))}return t;case 0:return zo(e,t,t.type,t.pendingProps,n);case 1:return Fo(e,t,i=t.type,a=yo(i,t.pendingProps),n);case 3:e:{if(q(t,t.stateNode.containerInfo),null===e)throw Error(r(387));i=t.pendingProps;var s=t.memoizedState;a=s.element,aa(e,t),ha(t,i,null,n);var o=t.memoizedState;if(i=o.cache,wi(0,Di,i),i!==s.cache&&ki(t,[Di],n,!0),da(),i=o.element,s.isDehydrated){if(s={element:i,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Bo(e,t,i,n);break e}if(i!==a){vi(a=Sr(Error(r(424)),t)),t=Bo(e,t,i,n);break e}for(e=9===(e=t.stateNode.containerInfo).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,si=xd(e.firstChild),ai=t,oi=!0,li=null,ci=!0,n=io(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pi(),i===a){t=Qo(e,t,n);break e}Mo(e,t,i,n)}t=t.child}return t;case 26:return Io(e,t),null===e?(n=Md(t.type,null,t.pendingProps,null))?t.memoizedState=n:oi||(n=t.type,e=t.pendingProps,(i=ad(U.current).createElement(n))[De]=t,i[Re]=e,nd(i,n,e),Ye(i),t.stateNode=i):t.memoizedState=Md(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return X(t),null===e&&oi&&(i=t.stateNode=_d(t.type,t.pendingProps,U.current),ai=t,ci=!0,a=si,pd(t.type)?(bd=a,si=xd(i.firstChild)):si=a),Mo(e,t,t.pendingProps.children,n),Io(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&oi&&((a=i=si)&&(null!==(i=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[We])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===a)return e}if(null===(e=xd(e.nextSibling)))break}return null}(i,t.type,t.pendingProps,ci))?(t.stateNode=i,ai=t,si=xd(i.firstChild),ci=!1,a=!0):a=!1),a||di(t)),X(t),a=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,i=s.children,ld(a,s)?i=null:null!==o&&ld(a,o)&&(t.flags|=32),null!==t.memoizedState&&(a=Ta(e,t,Ia,null,null,n),Xd._currentValue=a),Io(e,t),Mo(e,t,i,n),t.child;case 6:return null===e&&oi&&((e=n=si)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=xd(e.nextSibling)))return null}return e}(n,t.pendingProps,ci))?(t.stateNode=n,ai=t,si=null,e=!0):e=!1),e||di(t)),null;case 13:return Ko(e,t,n);case 4:return q(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=ro(t,null,i,n):Mo(e,t,i,n),t.child;case 11:return Oo(e,t,t.type,t.pendingProps,n);case 7:return Mo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Mo(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,wi(0,t.type,i.value),Mo(e,t,i.children,n),t.child;case 9:return a=t.type._context,i=t.pendingProps.children,Ci(t),i=i(a=Ei(a)),t.flags|=1,Mo(e,t,i,n),t.child;case 14:return Ao(e,t,t.type,t.pendingProps,n);case 15:return To(e,t,t.type,t.pendingProps,n);case 19:return Xo(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},null===e?((n=Uo(i,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Br(e.child,i)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Do(e,t,n);case 24:return Ci(t),i=Ei(Di),null===e?(null===(a=Ki())&&(a=ac,s=Ri(),a.pooledCache=s,s.refCount++,null!==s&&(a.pooledCacheLanes|=n),a=s),t.memoizedState={parent:i,cache:a},ia(t),wi(0,Di,a)):(0!==(e.lanes&n)&&(aa(e,t),ha(t,null,null,n),da()),a=e.memoizedState,s=t.memoizedState,a.parent!==i?(a={parent:i,cache:i},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),wi(0,Di,i)):(i=s.cache,wi(0,Di,i),i!==a.cache&&ki(t,[Di],n,!0))),Mo(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function el(e){e.flags|=4}function tl(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!$d(t)){if(null!==(t=ao.current)&&((4194048&oc)===oc?null!==so:(62914560&oc)!==oc&&!(536870912&oc)||t!==so))throw ea=Xi,qi;e.flags|=8192}}function nl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ne():536870912,e.lanes|=t,xc|=t)}function rl(e,t){if(!oi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function il(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function al(e,t,n){var i=t.pendingProps;switch(ii(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return il(t),null;case 3:return n=t.stateNode,i=null,null!==e&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),_i(Di),G(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(mi(t)?el(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,gi())),il(t),null;case 26:return n=t.memoizedState,null===e?(el(t),null!==n?(il(t),tl(t,n)):(il(t),t.flags&=-16777217)):n?n!==e.memoizedState?(el(t),il(t),tl(t,n)):(il(t),t.flags&=-16777217):(e.memoizedProps!==i&&el(t),il(t),t.flags&=-16777217),null;case 27:Q(t),n=U.current;var a=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==i&&el(t);else{if(!i){if(null===t.stateNode)throw Error(r(166));return il(t),null}e=K.current,mi(t)?hi(t):(e=_d(a,i,n),t.stateNode=e,el(t))}return il(t),null;case 5:if(Q(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&el(t);else{if(!i){if(null===t.stateNode)throw Error(r(166));return il(t),null}if(e=K.current,mi(t))hi(t);else{switch(a=ad(U.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof i.is?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e="string"==typeof i.is?a.createElement(n,{is:i.is}):a.createElement(n)}}e[De]=t,e[Re]=i;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(nd(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&el(t)}}return il(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==i&&el(t);else{if("string"!=typeof i&&null===t.stateNode)throw Error(r(166));if(e=U.current,mi(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,null!==(a=ai))switch(a.tag){case 27:case 5:i=a.memoizedProps}e[De]=t,(e=!!(e.nodeValue===n||null!==i&&!0===i.suppressHydrationWarning||Zu(e.nodeValue,n)))||di(t)}else(e=ad(e).createTextNode(i))[De]=t,t.stateNode=e}return il(t),null;case 13:if(i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=mi(t),null!==i&&null!==i.dehydrated){if(null===e){if(!a)throw Error(r(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(r(317));a[De]=t}else pi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;il(t),a=!1}else a=gi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(uo(t),t):(uo(t),null)}if(uo(t),128&t.flags)return t.lanes=n,t;if(n=null!==i,e=null!==e&&null!==e.memoizedState,n){a=null,null!==(i=t.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(a=i.alternate.memoizedState.cachePool.pool);var s=null;null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(s=i.memoizedState.cachePool.pool),s!==a&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),nl(t,t.updateQueue),il(t),null;case 4:return G(),null===e&&Vu(t.stateNode.containerInfo),il(t),null;case 10:return _i(t.type),il(t),null;case 19:if(V(ho),null===(a=t.memoizedState))return il(t),null;if(i=!!(128&t.flags),null===(s=a.rendering))if(i)rl(a,!1);else{if(0!==mc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(s=fo(e))){for(t.flags|=128,rl(a,!1),e=s.updateQueue,t.updateQueue=e,nl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Wr(n,e),n=n.sibling;return $(ho,1&ho.current|2),t.child}e=e.sibling}null!==a.tail&&re()>kc&&(t.flags|=128,i=!0,rl(a,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=fo(s))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,nl(t,e),rl(a,!0),null===a.tail&&"hidden"===a.tailMode&&!s.alternate&&!oi)return il(t),null}else 2*re()-a.renderingStartTime>kc&&536870912!==n&&(t.flags|=128,i=!0,rl(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=a.last)?e.sibling=s:t.child=s,a.last=s)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=re(),t.sibling=null,e=ho.current,$(ho,i?1&e|2:1&e),t):(il(t),null);case 22:case 23:return uo(t),xa(),i=null!==t.memoizedState,null!==e?null!==e.memoizedState!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?!!(536870912&n)&&!(128&t.flags)&&(il(t),6&t.subtreeFlags&&(t.flags|=8192)):il(t),null!==(n=t.updateQueue)&&nl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),i=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),null!==e&&V($i),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),_i(Di),il(t),null;case 25:case 30:return null}throw Error(r(156,t.tag))}function sl(e,t){switch(ii(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return _i(Di),G(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 13:if(uo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return V(ho),null;case 4:return G(),null;case 10:return _i(t.type),null;case 22:case 23:return uo(t),xa(),null!==e&&V($i),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return _i(Di),null;default:return null}}function ol(e,t){switch(ii(t),t.tag){case 3:_i(Di),G();break;case 26:case 27:case 5:Q(t);break;case 4:G();break;case 13:uo(t);break;case 19:V(ho);break;case 10:_i(t.type);break;case 22:case 23:uo(t),xa(),null!==e&&V($i);break;case 24:_i(Di)}}function ll(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(o){hu(t,t.return,o)}}function cl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var s=r.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,i=t;var l=n,c=o;try{c()}catch(u){hu(i,l,u)}}}r=r.next}while(r!==a)}}catch(u){hu(t,t.return,u)}}function ul(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ma(t,n)}catch(r){hu(e,e.return,r)}}}function dl(e,t,n){n.props=yo(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){hu(e,t,r)}}function hl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(i){hu(e,t,i)}}function fl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(i){hu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(a){hu(e,t,a)}else n.current=null}function ml(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){hu(e,e.return,i)}}function pl(e,t,n){try{var i=e.stateNode;!function(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,s=null,o=null,l=null,c=null,u=null,d=null;for(m in n){var h=n[m];if(n.hasOwnProperty(m)&&null!=h)switch(m){case"checked":case"value":break;case"defaultValue":c=h;default:i.hasOwnProperty(m)||ed(e,t,m,null,i,h)}}for(var f in i){var m=i[f];if(h=n[f],i.hasOwnProperty(f)&&(null!=m||null!=h))switch(f){case"type":s=m;break;case"name":a=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":o=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(r(137,t));break;default:m!==h&&ed(e,t,f,m,i,h)}}return void yt(e,o,l,c,u,d,s,a);case"select":for(s in m=o=l=f=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":m=c;default:i.hasOwnProperty(s)||ed(e,t,s,null,i,c)}for(a in i)if(s=i[a],c=n[a],i.hasOwnProperty(a)&&(null!=s||null!=c))switch(a){case"value":f=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==c&&ed(e,t,a,s,i,c)}return t=l,n=o,i=m,void(null!=f?wt(e,!!n,f,!1):!!i!=!!n&&(null!=t?wt(e,!!n,t,!0):wt(e,!!n,n?[]:"",!1)));case"textarea":for(l in m=f=null,n)if(a=n[l],n.hasOwnProperty(l)&&null!=a&&!i.hasOwnProperty(l))switch(l){case"value":case"children":break;default:ed(e,t,l,null,i,a)}for(o in i)if(a=i[o],s=n[o],i.hasOwnProperty(o)&&(null!=a||null!=s))switch(o){case"value":f=a;break;case"defaultValue":m=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(r(91));break;default:a!==s&&ed(e,t,o,a,i,s)}return void _t(e,f,m);case"option":for(var p in n)f=n[p],n.hasOwnProperty(p)&&null!=f&&!i.hasOwnProperty(p)&&("selected"===p?e.selected=!1:ed(e,t,p,null,i,f));for(c in i)f=i[c],m=n[c],!i.hasOwnProperty(c)||f===m||null==f&&null==m||("selected"===c?e.selected=f&&"function"!=typeof f&&"symbol"!=typeof f:ed(e,t,c,f,i,m));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!i.hasOwnProperty(g)&&ed(e,t,g,null,i,f);for(u in i)if(f=i[u],m=n[u],i.hasOwnProperty(u)&&f!==m&&(null!=f||null!=m))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(r(137,t));break;default:ed(e,t,u,f,i,m)}return;default:if(Et(t)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&void 0!==f&&!i.hasOwnProperty(v)&&td(e,t,v,void 0,i,f);for(d in i)f=i[d],m=n[d],!i.hasOwnProperty(d)||f===m||void 0===f&&void 0===m||td(e,t,d,f,i,m);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!i.hasOwnProperty(y)&&ed(e,t,y,null,i,f);for(h in i)f=i[h],m=n[h],!i.hasOwnProperty(h)||f===m||null==f&&null==m||ed(e,t,h,f,i,m)}(i,e.type,n,t),i[Re]=t}catch(a){hu(e,e.return,a)}}function gl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&pd(e.type)||4===e.tag}function vl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||gl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&pd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Ju));else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function xl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(xl(e,t,n),e=e.sibling;null!==e;)xl(e,t,n),e=e.sibling}function bl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);nd(t,r,n),t[De]=e,t[Re]=n}catch(a){hu(e,e.return,a)}}var wl=!1,_l=!1,jl=!1,kl="function"==typeof WeakSet?WeakSet:Set,Nl=null;function Sl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Fl(e,n),4&r&&ll(5,n);break;case 1:if(Fl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){hu(n,n.return,s)}else{var i=yo(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){hu(n,n.return,o)}}64&r&&ul(n),512&r&&hl(n,n.return);break;case 3:if(Fl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ma(e,t)}catch(s){hu(n,n.return,s)}}break;case 27:null===t&&4&r&&bl(n);case 26:case 5:Fl(e,n),null===t&&4&r&&ml(n),512&r&&hl(n,n.return);break;case 12:Fl(e,n);break;case 13:Fl(e,n),4&r&&Al(e,n),64&r&&null!==(e=n.memoizedState)&&null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=gu.bind(null,n));break;case 22:if(!(r=null!==n.memoizedState||wl)){t=null!==t&&null!==t.memoizedState||_l,i=wl;var a=_l;wl=r,(_l=t)&&!a?Wl(e,n,!!(8772&n.subtreeFlags)):Fl(e,n),wl=i,_l=a}break;case 30:break;default:Fl(e,n)}}function Cl(e){var t=e.alternate;null!==t&&(e.alternate=null,Cl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&Ve(t),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var El=null,Pl=!1;function Ml(e,t,n){for(n=n.child;null!==n;)Ol(e,t,n),n=n.sibling}function Ol(e,t,n){if(fe&&"function"==typeof fe.onCommitFiberUnmount)try{fe.onCommitFiberUnmount(he,n)}catch(a){}switch(n.tag){case 26:_l||fl(n,t),Ml(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:_l||fl(n,t);var r=El,i=Pl;pd(n.type)&&(El=n.stateNode,Pl=!1),Ml(e,t,n),jd(n.stateNode),El=r,Pl=i;break;case 5:_l||fl(n,t);case 6:if(r=El,i=Pl,El=null,Ml(e,t,n),Pl=i,null!==(El=r))if(Pl)try{(9===El.nodeType?El.body:"HTML"===El.nodeName?El.ownerDocument.body:El).removeChild(n.stateNode)}catch(s){hu(n,t,s)}else try{El.removeChild(n.stateNode)}catch(s){hu(n,t,s)}break;case 18:null!==El&&(Pl?(gd(9===(e=El).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Ph(e)):gd(El,n.stateNode));break;case 4:r=El,i=Pl,El=n.stateNode.containerInfo,Pl=!0,Ml(e,t,n),El=r,Pl=i;break;case 0:case 11:case 14:case 15:_l||cl(2,n,t),_l||cl(4,n,t),Ml(e,t,n);break;case 1:_l||(fl(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&dl(n,t,r)),Ml(e,t,n);break;case 21:Ml(e,t,n);break;case 22:_l=(r=_l)||null!==n.memoizedState,Ml(e,t,n),_l=r;break;default:Ml(e,t,n)}}function Al(e,t){if(null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))try{Ph(e)}catch(n){hu(t,t.return,n)}}function Tl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new kl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new kl),t;default:throw Error(r(435,e.tag))}}(e);t.forEach(function(t){var r=vu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Dl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var a=n[i],s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(pd(l.type)){El=l.stateNode,Pl=!1;break e}break;case 5:El=l.stateNode,Pl=!1;break e;case 3:case 4:El=l.stateNode.containerInfo,Pl=!0;break e}l=l.return}if(null===El)throw Error(r(160));Ol(s,o,a),El=null,Pl=!1,null!==(s=a.alternate)&&(s.return=null),a.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Il(t,e),t=t.sibling}var Rl=null;function Il(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Dl(t,e),zl(e),4&i&&(cl(3,e,e.return),ll(3,e),cl(5,e,e.return));break;case 1:Dl(t,e),zl(e),512&i&&(_l||null===n||fl(n,n.return)),64&i&&wl&&null!==(e=e.updateQueue)&&null!==(i=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?i:n.concat(i));break;case 26:var a=Rl;if(Dl(t,e),zl(e),512&i&&(_l||null===n||fl(n,n.return)),4&i){var s=null!==n?n.memoizedState:null;if(i=e.memoizedState,null===n)if(null===i)if(null===e.stateNode){e:{i=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(i){case"title":(!(s=a.getElementsByTagName("title")[0])||s[We]||s[De]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=a.createElement(i),a.head.insertBefore(s,a.querySelector("head > title"))),nd(s,i,n),s[De]=e,Ye(s),i=s;break e;case"link":var o=Wd("link","href",a).get(i+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((s=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}nd(s=a.createElement(i),i,n),a.head.appendChild(s);break;case"meta":if(o=Wd("meta","content",a).get(i+(n.content||"")))for(l=0;l<o.length;l++)if((s=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}nd(s=a.createElement(i),i,n),a.head.appendChild(s);break;default:throw Error(r(468,i))}s[De]=e,Ye(s),i=s}e.stateNode=i}else Vd(a,e.type,e.stateNode);else e.stateNode=Id(a,i,e.memoizedProps);else s!==i?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===i?Vd(a,e.type,e.stateNode):Id(a,i,e.memoizedProps)):null===i&&null!==e.stateNode&&pl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Dl(t,e),zl(e),512&i&&(_l||null===n||fl(n,n.return)),null!==n&&4&i&&pl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Dl(t,e),zl(e),512&i&&(_l||null===n||fl(n,n.return)),32&e.flags){a=e.stateNode;try{kt(a,"")}catch(m){hu(e,e.return,m)}}4&i&&null!=e.stateNode&&pl(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&i&&(jl=!0);break;case 6:if(Dl(t,e),zl(e),4&i){if(null===e.stateNode)throw Error(r(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(m){hu(e,e.return,m)}}break;case 3:if(Bd=null,a=Rl,Rl=Sd(t.containerInfo),Dl(t,e),Rl=a,zl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Ph(t.containerInfo)}catch(m){hu(e,e.return,m)}jl&&(jl=!1,Ll(e));break;case 4:i=Rl,Rl=Sd(e.stateNode.containerInfo),Dl(t,e),zl(e),Rl=i;break;case 12:default:Dl(t,e),zl(e);break;case 13:Dl(t,e),zl(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(jc=re()),4&i&&null!==(i=e.updateQueue)&&(e.updateQueue=null,Tl(e,i));break;case 22:a=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=wl,d=_l;if(wl=u||a,_l=d||c,Dl(t,e),_l=d,wl=u,zl(e),8192&i)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||c||wl||_l||Bl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(s=c.stateNode,a)"function"==typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=null!=h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"==typeof f?"":(""+f).trim()}}catch(m){hu(c,c.return,m)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(m){hu(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&i&&null!==(i=e.updateQueue)&&null!==(n=i.retryQueue)&&(i.retryQueue=null,Tl(e,n));break;case 19:Dl(t,e),zl(e),4&i&&null!==(i=e.updateQueue)&&(e.updateQueue=null,Tl(e,i));case 30:case 21:}}function zl(e){var t=e.flags;if(2&t){try{for(var n,i=e.return;null!==i;){if(gl(i)){n=i;break}i=i.return}if(null==n)throw Error(r(160));switch(n.tag){case 27:var a=n.stateNode;xl(e,vl(e),a);break;case 5:var s=n.stateNode;32&n.flags&&(kt(s,""),n.flags&=-33),xl(e,vl(e),s);break;case 3:case 4:var o=n.stateNode.containerInfo;yl(e,vl(e),o);break;default:throw Error(r(161))}}catch(l){hu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ll(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ll(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Fl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Sl(e,t.alternate,t),t=t.sibling}function Bl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:cl(4,t,t.return),Bl(t);break;case 1:fl(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&dl(t,t.return,n),Bl(t);break;case 27:jd(t.stateNode);case 26:case 5:fl(t,t.return),Bl(t);break;case 22:null===t.memoizedState&&Bl(t);break;default:Bl(t)}e=e.sibling}}function Wl(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,a=t,s=a.flags;switch(a.tag){case 0:case 11:case 15:Wl(i,a,n),ll(4,a);break;case 1:if(Wl(i,a,n),"function"==typeof(i=(r=a).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){hu(r,r.return,c)}if(null!==(i=(r=a).updateQueue)){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)fa(l[i],o)}catch(c){hu(r,r.return,c)}}n&&64&s&&ul(a),hl(a,a.return);break;case 27:bl(a);case 26:case 5:Wl(i,a,n),n&&null===r&&4&s&&ml(a),hl(a,a.return);break;case 12:Wl(i,a,n);break;case 13:Wl(i,a,n),n&&4&s&&Al(i,a);break;case 22:null===a.memoizedState&&Wl(i,a,n),hl(a,a.return);break;case 30:break;default:Wl(i,a,n)}t=t.sibling}}function Vl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ii(n))}function $l(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ii(e))}function Kl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Hl(e,t,n,r),t=t.sibling}function Hl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Kl(e,t,n,r),2048&i&&ll(9,t);break;case 1:case 13:default:Kl(e,t,n,r);break;case 3:Kl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ii(e)));break;case 12:if(2048&i){Kl(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,s=a.id,o=a.onPostCommit;"function"==typeof o&&o(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){hu(t,t.return,l)}}else Kl(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,s=t.alternate,null!==t.memoizedState?2&a._visibility?Kl(e,t,n,r):Yl(e,t):2&a._visibility?Kl(e,t,n,r):(a._visibility|=2,Ul(e,t,n,r,!!(10256&t.subtreeFlags))),2048&i&&Vl(s,t);break;case 24:Kl(e,t,n,r),2048&i&&$l(t.alternate,t)}}function Ul(e,t,n,r,i){for(i=i&&!!(10256&t.subtreeFlags),t=t.child;null!==t;){var a=e,s=t,o=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:Ul(a,s,o,l,i),ll(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?Ul(a,s,o,l,i):Yl(a,s):(u._visibility|=2,Ul(a,s,o,l,i)),i&&2048&c&&Vl(s.alternate,s);break;case 24:Ul(a,s,o,l,i),i&&2048&c&&$l(s.alternate,s);break;default:Ul(a,s,o,l,i)}t=t.sibling}}function Yl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Yl(n,r),2048&i&&Vl(r.alternate,r);break;case 24:Yl(n,r),2048&i&&$l(r.alternate,r);break;default:Yl(n,r)}t=t.sibling}}var ql=8192;function Gl(e){if(e.subtreeFlags&ql)for(e=e.child;null!==e;)Xl(e),e=e.sibling}function Xl(e){switch(e.tag){case 26:Gl(e),e.flags&ql&&null!==e.memoizedState&&function(e,t,n){if(null===Kd)throw Error(r(475));var i=Kd;if(!("stylesheet"!==t.type||"string"==typeof n.media&&!1===matchMedia(n.media).matches||4&t.state.loading)){if(null===t.instance){var a=Od(n.href),s=e.querySelector(Ad(a));if(s)return null!==(e=s._p)&&"object"==typeof e&&"function"==typeof e.then&&(i.count++,i=Ud.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=s,void Ye(s);s=e.ownerDocument||e,n=Td(n),(a=kd.get(a))&&Ld(n,a),Ye(s=s.createElement("link"));var o=s;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),nd(s,"link",n),t.instance=s}null===i.stylesheets&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(3&t.state.loading)&&(i.count++,t=Ud.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}(Rl,e.memoizedState,e.memoizedProps);break;case 5:default:Gl(e);break;case 3:case 4:var t=Rl;Rl=Sd(e.stateNode.containerInfo),Gl(e),Rl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=ql,ql=16777216,Gl(e),ql=t):Gl(e))}}function Ql(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Zl(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Nl=r,tc(r,e)}Ql(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Jl(e),e=e.sibling}function Jl(e){switch(e.tag){case 0:case 11:case 15:Zl(e),2048&e.flags&&cl(9,e,e.return);break;case 3:case 12:default:Zl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,ec(e)):Zl(e)}}function ec(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Nl=r,tc(r,e)}Ql(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:cl(8,t,t.return),ec(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,ec(t));break;default:ec(t)}e=e.sibling}}function tc(e,t){for(;null!==Nl;){var n=Nl;switch(n.tag){case 0:case 11:case 15:cl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ii(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Nl=r;else e:for(n=e;null!==Nl;){var i=(r=Nl).sibling,a=r.return;if(Cl(r),r===n){Nl=null;break e}if(null!==i){i.return=a,Nl=i;break e}Nl=a}}}var nc={getCacheForType:function(e){var t=Ei(Di),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},rc="function"==typeof WeakMap?WeakMap:Map,ic=0,ac=null,sc=null,oc=0,lc=0,cc=null,uc=!1,dc=!1,hc=!1,fc=0,mc=0,pc=0,gc=0,vc=0,yc=0,xc=0,bc=null,wc=null,_c=!1,jc=0,kc=1/0,Nc=null,Sc=null,Cc=0,Ec=null,Pc=null,Mc=0,Oc=0,Ac=null,Tc=null,Dc=0,Rc=null;function Ic(){return 2&ic&&0!==oc?oc&-oc:null!==D.T?0!==Fi?Fi:Ou():Ae()}function zc(){0===yc&&(yc=536870912&oc&&!oi?536870912:ke());var e=ao.current;return null!==e&&(e.flags|=32),yc}function Lc(e,t,n){(e!==ac||2!==lc&&9!==lc)&&null===e.cancelPendingCommit||(Hc(e,0),Vc(e,oc,yc,!1)),Ce(e,n),2&ic&&e===ac||(e===ac&&(!(2&ic)&&(gc|=n),4===mc&&Vc(e,oc,yc,!1)),ku(e))}function Fc(e,t,n){if(6&ic)throw Error(r(327));for(var i=!n&&!(124&t)&&0===(t&e.expiredLanes)||_e(e,t),a=i?function(e,t){var n=ic;ic|=2;var i=Yc(),a=qc();ac!==e||oc!==t?(Nc=null,kc=re()+500,Hc(e,t)):dc=_e(e,t);e:for(;;)try{if(0!==lc&&null!==sc){t=sc;var s=cc;t:switch(lc){case 1:lc=0,cc=null,tu(e,t,s,1);break;case 2:case 9:if(Qi(s)){lc=0,cc=null,eu(t);break}t=function(){2!==lc&&9!==lc||ac!==e||(lc=7),ku(e)},s.then(t,t);break e;case 3:lc=7;break e;case 4:lc=5;break e;case 7:Qi(s)?(lc=0,cc=null,eu(t)):(lc=0,cc=null,tu(e,t,s,7));break;case 5:var o=null;switch(sc.tag){case 26:o=sc.memoizedState;case 5:case 27:var l=sc;if(!o||$d(o)){lc=0,cc=null;var c=l.sibling;if(null!==c)sc=c;else{var u=l.return;null!==u?(sc=u,nu(u)):sc=null}break t}}lc=0,cc=null,tu(e,t,s,5);break;case 6:lc=0,cc=null,tu(e,t,s,6);break;case 8:Kc(),mc=6;break e;default:throw Error(r(462))}}Zc();break}catch(d){Uc(e,d)}return bi=xi=null,D.H=i,D.A=a,ic=n,null!==sc?0:(ac=null,oc=0,Mr(),mc)}(e,t):Xc(e,t,!0),s=i;;){if(0===a){dc&&!i&&Vc(e,t,0,!1);break}if(n=e.current.alternate,!s||Wc(n)){if(2===a){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!=(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;a=bc;var c=l.current.memoizedState.isDehydrated;if(c&&(Hc(l,o).flags|=256),2!==(o=Xc(l,o,!1))){if(hc&&!c){l.errorRecoveryDisabledLanes|=s,gc|=s,a=4;break e}s=wc,wc=a,null!==s&&(null===wc?wc=s:wc.push.apply(wc,s))}a=o}if(s=!1,2!==a)continue}}if(1===a){Hc(e,0),Vc(e,t,0,!0);break}e:{switch(i=e,s=a){case 0:case 1:throw Error(r(345));case 4:if((4194048&t)!==t)break;case 6:Vc(i,t,yc,!uc);break e;case 2:wc=null;break;case 3:case 5:break;default:throw Error(r(329))}if((62914560&t)===t&&10<(a=jc+300-re())){if(Vc(i,t,yc,!uc),0!==we(i,0,!0))break e;i.timeoutHandle=ud(Bc.bind(null,i,n,wc,Nc,_c,t,yc,gc,xc,uc,s,2,-0,0),a)}else Bc(i,n,wc,Nc,_c,t,yc,gc,xc,uc,s,0,-0,0)}break}a=Xc(e,t,!1),s=!1}ku(e)}function Bc(e,t,n,i,a,s,o,l,c,u,d,h,f,m){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||!(16785408&~h))&&(Kd={stylesheets:null,count:0,unsuspend:Hd},Xl(t),null!==(h=function(){if(null===Kd)throw Error(r(475));var e=Kd;return e.stylesheets&&0===e.count&&qd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&qd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(iu.bind(null,e,t,s,n,i,a,o,l,c,d,1,f,m)),void Vc(e,s,o,!u);iu(e,t,s,n,i,a,o,l,c)}function Wc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&null!==(n=t.updateQueue)&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Qn(a(),i))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vc(e,t,n,r){t&=~vc,t&=~gc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-pe(i),s=1<<a;r[a]=-1,i&=~s}0!==n&&Ee(e,n,t)}function $c(){return!!(6&ic)||(Nu(0),!1)}function Kc(){if(null!==sc){if(0===lc)var e=sc.return;else bi=xi=null,Fa(e=sc),Xs=null,Qs=0,e=sc;for(;null!==e;)ol(e.alternate,e),e=e.return;sc=null}}function Hc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,dd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Kc(),ac=e,sc=n=Br(e.current,null),oc=t,lc=0,cc=null,uc=!1,dc=_e(e,t),hc=!1,xc=yc=vc=gc=pc=mc=0,wc=bc=null,_c=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-pe(r),a=1<<i;t|=e[i],r&=~a}return fc=t,Mr(),n}function Uc(e,t){wa=null,D.H=Us,t===Yi||t===Gi?(t=ta(),lc=3):t===qi?(t=ta(),lc=4):lc=t===Eo?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,cc=t,null===sc&&(mc=1,jo(e,Sr(t,e.current)))}function Yc(){var e=D.H;return D.H=Us,null===e?Us:e}function qc(){var e=D.A;return D.A=nc,e}function Gc(){mc=4,uc||(4194048&oc)!==oc&&null!==ao.current||(dc=!0),!(134217727&pc)&&!(134217727&gc)||null===ac||Vc(ac,oc,yc,!1)}function Xc(e,t,n){var r=ic;ic|=2;var i=Yc(),a=qc();ac===e&&oc===t||(Nc=null,Hc(e,t)),t=!1;var s=mc;e:for(;;)try{if(0!==lc&&null!==sc){var o=sc,l=cc;switch(lc){case 8:Kc(),s=6;break e;case 3:case 2:case 9:case 6:null===ao.current&&(t=!0);var c=lc;if(lc=0,cc=null,tu(e,o,l,c),n&&dc){s=0;break e}break;default:c=lc,lc=0,cc=null,tu(e,o,l,c)}}Qc(),s=mc;break}catch(u){Uc(e,u)}return t&&e.shellSuspendCounter++,bi=xi=null,ic=r,D.H=i,D.A=a,null===sc&&(ac=null,oc=0,Mr()),s}function Qc(){for(;null!==sc;)Jc(sc)}function Zc(){for(;null!==sc&&!te();)Jc(sc)}function Jc(e){var t=Jo(e.alternate,e,fc);e.memoizedProps=e.pendingProps,null===t?nu(e):sc=t}function eu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Lo(n,t,t.pendingProps,t.type,void 0,oc);break;case 11:t=Lo(n,t,t.pendingProps,t.type.render,t.ref,oc);break;case 5:Fa(t);default:ol(n,t),t=Jo(n,t=sc=Wr(t,fc),fc)}e.memoizedProps=e.pendingProps,null===t?nu(e):sc=t}function tu(e,t,n,i){bi=xi=null,Fa(t),Xs=null,Qs=0;var a=t.return;try{if(function(e,t,n,i,a){if(n.flags|=32768,null!==i&&"object"==typeof i&&"function"==typeof i.then){if(null!==(t=n.alternate)&&Ni(t,n,a,!0),null!==(n=ao.current)){switch(n.tag){case 13:return null===so?Gc():null===n.alternate&&0===mc&&(mc=3),n.flags&=-257,n.flags|=65536,n.lanes=a,i===Xi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([i]):t.add(i),fu(e,i,a)),!1;case 22:return n.flags|=65536,i===Xi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([i]):n.add(i),fu(e,i,a)),!1}throw Error(r(435,n.tag))}return fu(e,i,a),Gc(),!1}if(oi)return null!==(t=ao.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,i!==ui&&vi(Sr(e=Error(r(422),{cause:i}),n))):(i!==ui&&vi(Sr(t=Error(r(423),{cause:i}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,i=Sr(i,n),ca(e,a=No(e.stateNode,i,a)),4!==mc&&(mc=2)),!1;var s=Error(r(520),{cause:i});if(s=Sr(s,n),null===bc?bc=[s]:bc.push(s),4!==mc&&(mc=2),null===t)return!0;i=Sr(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,ca(n,e=No(n.stateNode,i,e)),!1;case 1:if(t=n.type,s=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===s||"function"!=typeof s.componentDidCatch||null!==Sc&&Sc.has(s))))return n.flags|=65536,a&=-a,n.lanes|=a,Co(a=So(a),e,n,i),ca(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,oc))return mc=1,jo(e,Sr(n,e.current)),void(sc=null)}catch(s){if(null!==a)throw sc=a,s;return mc=1,jo(e,Sr(n,e.current)),void(sc=null)}32768&t.flags?(oi||1===i?e=!0:dc||536870912&oc?e=!1:(uc=e=!0,(2===i||9===i||3===i||6===i)&&null!==(i=ao.current)&&13===i.tag&&(i.flags|=16384)),ru(t,e)):nu(t)}function nu(e){var t=e;do{if(32768&t.flags)return void ru(t,uc);e=t.return;var n=al(t.alternate,t,fc);if(null!==n)return void(sc=n);if(null!==(t=t.sibling))return void(sc=t);sc=t=e}while(null!==t);0===mc&&(mc=5)}function ru(e,t){do{var n=sl(e.alternate,e);if(null!==n)return n.flags&=32767,void(sc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(sc=e);sc=e=n}while(null!==e);mc=6,sc=null}function iu(e,t,n,i,a,s,o,l,c){e.cancelPendingCommit=null;do{cu()}while(0!==Cc);if(6&ic)throw Error(r(327));if(null!==t){if(t===e.current)throw Error(r(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,i,a){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-pe(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Ee(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(s&~t))}(e,n,s|=Pr,o,l,c),e===ac&&(sc=ac=null,oc=0),Pc=t,Ec=e,Mc=n,Oc=s,Ac=a,Tc=i,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,J(oe,function(){return uu(),null})):(e.callbackNode=null,e.callbackPriority=0),i=!!(13878&t.flags),13878&t.subtreeFlags||i){i=D.T,D.T=null,a=R.p,R.p=2,o=ic,ic|=4;try{!function(e,t){if(e=e.containerInfo,rd=ih,rr(e=nr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var a=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||0!==a&&3!==h.nodeType||(l=o+a),h!==s||0!==i&&3!==h.nodeType||(c=o+i),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===a&&(l=o),f===s&&++d===i&&(c=o),null!==(m=h.nextSibling))break;f=(h=f).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(id={focusedElem:e,selectionRange:n},ih=!1,Nl=t;null!==Nl;)if(e=(t=Nl).child,1024&t.subtreeFlags&&null!==e)e.return=t,Nl=e;else for(;null!==Nl;){switch(s=(t=Nl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==s){e=void 0,n=t,a=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var p=yo(n.type,a,(n.elementType,n.type));e=i.getSnapshotBeforeUpdate(p,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(v){hu(n,n.return,v)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))vd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":vd(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(r(163))}if(null!==(e=t.sibling)){e.return=t.return,Nl=e;break}Nl=t.return}}(e,t)}finally{ic=o,R.p=a,D.T=i}}Cc=1,au(),su(),ou()}}function au(){if(1===Cc){Cc=0;var e=Ec,t=Pc,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=D.T,D.T=null;var r=R.p;R.p=2;var i=ic;ic|=4;try{Il(t,e);var a=id,s=nr(e.containerInfo),o=a.focusedElem,l=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&tr(o.ownerDocument.documentElement,o)){if(null!==l&&rr(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),m=o.textContent.length,p=Math.min(l.start,m),g=void 0===l.end?p:Math.min(l.end,m);!f.extend&&p>g&&(s=g,g=p,p=s);var v=er(o,p),y=er(o,g);if(v&&y&&(1!==f.rangeCount||f.anchorNode!==v.node||f.anchorOffset!==v.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var x=d.createRange();x.setStart(v.node,v.offset),f.removeAllRanges(),p>g?(f.addRange(x),f.extend(y.node,y.offset)):(x.setEnd(y.node,y.offset),f.addRange(x))}}}}for(d=[],f=o;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"==typeof o.focus&&o.focus(),o=0;o<d.length;o++){var b=d[o];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}ih=!!rd,id=rd=null}finally{ic=i,R.p=r,D.T=n}}e.current=t,Cc=2}}function su(){if(2===Cc){Cc=0;var e=Ec,t=Pc,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=D.T,D.T=null;var r=R.p;R.p=2;var i=ic;ic|=4;try{Sl(e,t.alternate,t)}finally{ic=i,R.p=r,D.T=n}}Cc=3}}function ou(){if(4===Cc||3===Cc){Cc=0,ne();var e=Ec,t=Pc,n=Mc,r=Tc;10256&t.subtreeFlags||10256&t.flags?Cc=5:(Cc=0,Pc=Ec=null,lu(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Sc=null),Oe(n),t=t.stateNode,fe&&"function"==typeof fe.onCommitFiberRoot)try{fe.onCommitFiberRoot(he,t,void 0,!(128&~t.current.flags))}catch(l){}if(null!==r){t=D.T,i=R.p,R.p=2,D.T=null;try{for(var a=e.onRecoverableError,s=0;s<r.length;s++){var o=r[s];a(o.value,{componentStack:o.stack})}}finally{D.T=t,R.p=i}}3&Mc&&cu(),ku(e),i=e.pendingLanes,4194090&n&&42&i?e===Rc?Dc++:(Dc=0,Rc=e):Dc=0,Nu(0)}}function lu(e,t){0===(e.pooledCacheLanes&=t)&&null!=(t=e.pooledCache)&&(e.pooledCache=null,Ii(t))}function cu(e){return au(),su(),ou(),uu()}function uu(){if(5!==Cc)return!1;var e=Ec,t=Oc;Oc=0;var n=Oe(Mc),i=D.T,a=R.p;try{R.p=32>n?32:n,D.T=null,n=Ac,Ac=null;var s=Ec,o=Mc;if(Cc=0,Pc=Ec=null,Mc=0,6&ic)throw Error(r(331));var l=ic;if(ic|=4,Jl(s.current),Hl(s,s.current,o,n),ic=l,Nu(0),fe&&"function"==typeof fe.onPostCommitFiberRoot)try{fe.onPostCommitFiberRoot(he,s)}catch(c){}return!0}finally{R.p=a,D.T=i,lu(e,t)}}function du(e,t,n){t=Sr(n,t),null!==(e=oa(e,t=No(e.stateNode,t,2),2))&&(Ce(e,2),ku(e))}function hu(e,t,n){if(3===e.tag)du(e,e,n);else for(;null!==t;){if(3===t.tag){du(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Sc||!Sc.has(r))){e=Sr(n,e),null!==(r=oa(t,n=So(2),2))&&(Co(n,r,t,e),Ce(r,2),ku(r));break}}t=t.return}}function fu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new rc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(hc=!0,i.add(n),e=mu.bind(null,e,t,n),t.then(e,e))}function mu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ac===e&&(oc&n)===n&&(4===mc||3===mc&&(62914560&oc)===oc&&300>re()-jc?!(2&ic)&&Hc(e,0):vc|=n,xc===oc&&(xc=0)),ku(e)}function pu(e,t){0===t&&(t=Ne()),null!==(e=Tr(e,t))&&(Ce(e,t),ku(e))}function gu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pu(e,n)}function vu(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(r(314))}null!==i&&i.delete(t),pu(e,n)}var yu=null,xu=null,bu=!1,wu=!1,_u=!1,ju=0;function ku(e){e!==xu&&null===e.next&&(null===xu?yu=xu=e:xu=xu.next=e),wu=!0,bu||(bu=!0,fd(function(){6&ic?J(ae,Su):Cu()}))}function Nu(e,t){if(!_u&&wu){_u=!0;do{for(var n=!1,r=yu;null!==r;){if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var s=r.suspendedLanes,o=r.pingedLanes;a=(1<<31-pe(42|e)+1)-1,a=201326741&(a&=i&~(s&~o))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Mu(r,a))}else a=oc,!(3&(a=we(r,r===ac?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||_e(r,a)||(n=!0,Mu(r,a));r=r.next}}while(n);_u=!1}}function Su(){Cu()}function Cu(){wu=bu=!1;var e,t=0;0!==ju&&(((e=window.event)&&"popstate"===e.type?e!==cd&&(cd=e,!0):(cd=null,!1))&&(t=ju),ju=0);for(var n=re(),r=null,i=yu;null!==i;){var a=i.next,s=Eu(i,n);0===s?(i.next=null,null===r?yu=a:r.next=a,null===a&&(xu=r)):(r=i,(0!==t||3&s)&&(wu=!0)),i=a}Nu(t)}function Eu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var s=31-pe(a),o=1<<s,l=i[s];-1===l?0!==(o&n)&&0===(o&r)||(i[s]=je(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}if(n=oc,n=we(e,e===(t=ac)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===lc||9===lc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ee(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||_e(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ee(r),Oe(n)){case 2:case 8:n=se;break;case 32:default:n=oe;break;case 268435456:n=ce}return r=Pu.bind(null,e),n=J(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ee(r),e.callbackPriority=2,e.callbackNode=null,2}function Pu(e,t){if(0!==Cc&&5!==Cc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(cu()&&e.callbackNode!==n)return null;var r=oc;return 0===(r=we(e,e===ac?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Fc(e,r,t),Eu(e,re()),null!=e.callbackNode&&e.callbackNode===n?Pu.bind(null,e):null)}function Mu(e,t){if(cu())return null;Fc(e,t,!0)}function Ou(){return 0===ju&&(ju=ke()),ju}function Au(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Ot(""+e)}function Tu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Du=0;Du<jr.length;Du++){var Ru=jr[Du];kr(Ru.toLowerCase(),"on"+(Ru[0].toUpperCase()+Ru.slice(1)))}kr(pr,"onAnimationEnd"),kr(gr,"onAnimationIteration"),kr(vr,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(yr,"onTransitionRun"),kr(xr,"onTransitionStart"),kr(br,"onTransitionCancel"),kr(wr,"onTransitionEnd"),Qe("onMouseEnter",["mouseout","mouseover"]),Qe("onMouseLeave",["mouseout","mouseover"]),Qe("onPointerEnter",["pointerout","pointerover"]),Qe("onPointerLeave",["pointerout","pointerover"]),Xe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Iu));function Lu(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(u){xo(u)}i.currentTarget=null,a=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(u){xo(u)}i.currentTarget=null,a=l}}}}function Fu(e,t){var n=t[ze];void 0===n&&(n=t[ze]=new Set);var r=e+"__bubble";n.has(r)||($u(t,e,2,!1),n.add(r))}function Bu(e,t,n){var r=0;t&&(r|=4),$u(n,e,r,t)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function Vu(e){if(!e[Wu]){e[Wu]=!0,qe.forEach(function(t){"selectionchange"!==t&&(zu.has(t)||Bu(t,!1,e),Bu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Wu]||(t[Wu]=!0,Bu("selectionchange",!1,t))}}function $u(e,t,n,r){switch(dh(t)){case 2:var i=ah;break;case 8:i=sh;break;default:i=oh}n=i.bind(null,t,n,e),i=void 0,!Wt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ku(e,t,n,r,i){var s=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var l=r.stateNode.containerInfo;if(l===i)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===i)return;o=o.return}for(;null!==l;){if(null===(o=$e(l)))return;if(5===(c=o.tag)||6===c||26===c||27===c){r=s=o;continue e}l=l.parentNode}}r=r.return}Lt(function(){var r=s,i=Tt(n),o=[];e:{var l=_r.get(e);if(void 0!==l){var c=tn,u=e;switch(e){case"keypress":if(0===Yt(n))break e;case"keydown":case"keyup":c=vn;break;case"focusin":u="focus",c=ln;break;case"focusout":u="blur",c=ln;break;case"beforeblur":case"afterblur":c=ln;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=xn;break;case pr:case gr:case vr:c=cn;break;case wr:c=bn;break;case"scroll":case"scrollend":c=rn;break;case"wheel":c=wn;break;case"copy":case"cut":case"paste":c=un;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=yn;break;case"toggle":case"beforetoggle":c=_n}var d=!!(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==l?l+"Capture":null:l;d=[];for(var m,p=r;null!==p;){var g=p;if(m=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===m||null===f||null!=(g=Ft(p,f))&&d.push(Hu(p,g,m)),h)break;p=p.return}0<d.length&&(l=new c(l,u,null,n,i),o.push({event:l,listeners:d}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===At||!(u=n.relatedTarget||n.fromElement)||!$e(u)&&!u[Ie])&&(c||l)&&(l=i.window===i?i:(l=i.ownerDocument)?l.defaultView||l.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?$e(u):null)&&(h=a(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=sn,g="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=yn,g="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==c?l:He(c),m=null==u?l:He(u),(l=new d(g,p+"leave",c,n,i)).target=h,l.relatedTarget=m,g=null,$e(i)===r&&((d=new d(f,p+"enter",u,n,i)).target=m,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(f=u,p=0,m=d=c;m;m=Yu(m))p++;for(m=0,g=f;g;g=Yu(g))m++;for(;0<p-m;)d=Yu(d),p--;for(;0<m-p;)f=Yu(f),m--;for(;p--;){if(d===f||null!==f&&d===f.alternate)break e;d=Yu(d),f=Yu(f)}d=null}else d=null;null!==c&&qu(o,l,c,d,!1),null!==u&&null!==h&&qu(o,h,u,d,!0)}if("select"===(c=(l=r?He(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===c&&"file"===l.type)var v=Bn;else if(Dn(l))if(Wn)v=Xn;else{v=qn;var y=Yn}else!(c=l.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==l.type&&"radio"!==l.type?r&&Et(r.elementType)&&(v=Bn):v=Gn;switch(v&&(v=v(e,r))?Rn(o,v,n,i):(y&&y(e,l,r),"focusout"===e&&r&&"number"===l.type&&null!=r.memoizedProps.value&&bt(l,"number",l.value)),y=r?He(r):window,e){case"focusin":(Dn(y)||"true"===y.contentEditable)&&(ar=y,sr=r,or=null);break;case"focusout":or=sr=ar=null;break;case"mousedown":lr=!0;break;case"contextmenu":case"mouseup":case"dragend":lr=!1,cr(o,n,i);break;case"selectionchange":if(ir)break;case"keydown":case"keyup":cr(o,n,i)}var x;if(kn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else An?Mn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Cn&&"ko"!==n.locale&&(An||"onCompositionStart"!==b?"onCompositionEnd"===b&&An&&(x=Ut()):(Kt="value"in($t=i)?$t.value:$t.textContent,An=!0)),0<(y=Uu(r,b)).length&&(b=new dn(b,e,null,n,i),o.push({event:b,listeners:y}),(x||null!==(x=On(n)))&&(b.data=x))),(x=Sn?function(e,t){switch(e){case"compositionend":return On(t);case"keypress":return 32!==t.which?null:(Pn=!0,En);case"textInput":return(e=t.data)===En&&Pn?null:e;default:return null}}(e,n):function(e,t){if(An)return"compositionend"===e||!kn&&Mn(e,t)?(e=Ut(),Ht=Kt=$t=null,An=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(b=Uu(r,"onBeforeInput")).length&&(y=new dn("onBeforeInput","beforeinput",null,n,i),o.push({event:y,listeners:b}),y.data=x),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var a=Au((i[Re]||null).action),s=r.submitter;s&&null!==(t=(t=s[Re]||null)?Au(t.formAction):s.getAttribute("formAction"))&&(a=t,s=null);var o=new tn("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==ju){var e=s?Tu(i,s):new FormData(i);As(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else"function"==typeof a&&(o.preventDefault(),e=s?Tu(i,s):new FormData(i),As(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}(o,e,r,n,i)}Lu(o,t)})}function Hu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Uu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===a||(null!=(i=Ft(e,n))&&r.unshift(Hu(e,i,a)),null!=(i=Ft(e,t))&&r.push(Hu(e,i,a))),3===e.tag)return r;e=e.return}return[]}function Yu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function qu(e,t,n,r,i){for(var a=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,i?null!=(c=Ft(n,a))&&s.unshift(Hu(n,c,l)):i||null!=(c=Ft(n,a))&&s.push(Hu(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Gu=/\r\n?/g,Xu=/\u0000|\uFFFD/g;function Qu(e){return("string"==typeof e?e:""+e).replace(Gu,"\n").replace(Xu,"")}function Zu(e,t){return t=Qu(t),Qu(e)===t}function Ju(){}function ed(e,t,n,i,a,s){switch(n){case"children":"string"==typeof i?"body"===t||"textarea"===t&&""===i||kt(e,i):("number"==typeof i||"bigint"==typeof i)&&"body"!==t&&kt(e,""+i);break;case"className":it(e,"class",i);break;case"tabIndex":it(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":it(e,n,i);break;case"style":Ct(e,i,s);break;case"data":if("object"!==t){it(e,"data",i);break}case"src":case"href":if(""===i&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==i||"function"==typeof i||"symbol"==typeof i||"boolean"==typeof i){e.removeAttribute(n);break}i=Ot(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if("function"==typeof i){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof s&&("formAction"===n?("input"!==t&&ed(e,t,"name",a.name,a,null),ed(e,t,"formEncType",a.formEncType,a,null),ed(e,t,"formMethod",a.formMethod,a,null),ed(e,t,"formTarget",a.formTarget,a,null)):(ed(e,t,"encType",a.encType,a,null),ed(e,t,"method",a.method,a,null),ed(e,t,"target",a.target,a,null))),null==i||"symbol"==typeof i||"boolean"==typeof i){e.removeAttribute(n);break}i=Ot(""+i),e.setAttribute(n,i);break;case"onClick":null!=i&&(e.onclick=Ju);break;case"onScroll":null!=i&&Fu("scroll",e);break;case"onScrollEnd":null!=i&&Fu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(r(61));if(null!=(n=i.__html)){if(null!=a.children)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"muted":e.muted=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==i||"function"==typeof i||"boolean"==typeof i||"symbol"==typeof i){e.removeAttribute("xlink:href");break}n=Ot(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===i?e.setAttribute(n,""):!1!==i&&null!=i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":null==i||"function"==typeof i||"symbol"==typeof i||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Fu("beforetoggle",e),Fu("toggle",e),rt(e,"popover",i);break;case"xlinkActuate":at(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":at(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":at(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":at(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":at(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":at(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":at(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":at(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":at(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":rt(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&rt(e,n=Pt.get(n)||n,i)}}function td(e,t,n,i,a,s){switch(n){case"style":Ct(e,i,s);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(r(61));if(null!=(n=i.__html)){if(null!=a.children)throw Error(r(60));e.innerHTML=n}}break;case"children":"string"==typeof i?kt(e,i):("number"==typeof i||"bigint"==typeof i)&&kt(e,""+i);break;case"onScroll":null!=i&&Fu("scroll",e);break;case"onScrollEnd":null!=i&&Fu("scrollend",e);break;case"onClick":null!=i&&(e.onclick=Ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ge.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"==typeof(s=null!=(s=e[Re]||null)?s[n]:null)&&e.removeEventListener(t,s,a),"function"!=typeof i)?n in e?e[n]=i:!0===i?e.setAttribute(n,""):rt(e,n,i):("function"!=typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,a)))}}function nd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fu("error",e),Fu("load",e);var i,a=!1,s=!1;for(i in n)if(n.hasOwnProperty(i)){var o=n[i];if(null!=o)switch(i){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:ed(e,t,i,o,n,null)}}return s&&ed(e,t,"srcSet",n.srcSet,n,null),void(a&&ed(e,t,"src",n.src,n,null));case"input":Fu("invalid",e);var l=i=o=s=null,c=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var d=n[a];if(null!=d)switch(a){case"name":s=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":i=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(r(137,t));break;default:ed(e,t,a,d,n,null)}}return xt(e,i,l,c,u,o,s,!1),void ft(e);case"select":for(s in Fu("invalid",e),a=o=i=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":i=l;break;case"defaultValue":o=l;break;case"multiple":a=l;default:ed(e,t,s,l,n,null)}return t=i,n=o,e.multiple=!!a,void(null!=t?wt(e,!!a,t,!1):null!=n&&wt(e,!!a,n,!0));case"textarea":for(o in Fu("invalid",e),i=s=a=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":a=l;break;case"defaultValue":s=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(r(91));break;default:ed(e,t,o,l,n,null)}return jt(e,a,s,i),void ft(e);case"option":for(c in n)n.hasOwnProperty(c)&&null!=(a=n[c])&&("selected"===c?e.selected=a&&"function"!=typeof a&&"symbol"!=typeof a:ed(e,t,c,a,n,null));return;case"dialog":Fu("beforetoggle",e),Fu("toggle",e),Fu("cancel",e),Fu("close",e);break;case"iframe":case"object":Fu("load",e);break;case"video":case"audio":for(a=0;a<Iu.length;a++)Fu(Iu[a],e);break;case"image":Fu("error",e),Fu("load",e);break;case"details":Fu("toggle",e);break;case"embed":case"source":case"link":Fu("error",e),Fu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(a=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:ed(e,t,u,a,n,null)}return;default:if(Et(t)){for(d in n)n.hasOwnProperty(d)&&void 0!==(a=n[d])&&td(e,t,d,a,n,void 0);return}}for(l in n)n.hasOwnProperty(l)&&null!=(a=n[l])&&ed(e,t,l,a,n,null)}var rd=null,id=null;function ad(e){return 9===e.nodeType?e:e.ownerDocument}function sd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function od(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ld(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var cd=null,ud="function"==typeof setTimeout?setTimeout:void 0,dd="function"==typeof clearTimeout?clearTimeout:void 0,hd="function"==typeof Promise?Promise:void 0,fd="function"==typeof queueMicrotask?queueMicrotask:void 0!==hd?function(e){return hd.resolve(null).then(e).catch(md)}:ud;function md(e){setTimeout(function(){throw e})}function pd(e){return"head"===e}function gd(e,t){var n=t,r=0,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0<r&&8>r){n=r;var s=e.ownerDocument;if(1&n&&jd(s.documentElement),2&n&&jd(s.body),4&n)for(jd(n=s.head),s=n.firstChild;s;){var o=s.nextSibling,l=s.nodeName;s[We]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=o}}if(0===i)return e.removeChild(a),void Ph(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=a}while(n);Ph(t)}function vd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":vd(n),Ve(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function yd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function xd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var bd=null;function wd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function _d(e,t,n){switch(t=ad(n),e){case"html":if(!(e=t.documentElement))throw Error(r(452));return e;case"head":if(!(e=t.head))throw Error(r(453));return e;case"body":if(!(e=t.body))throw Error(r(454));return e;default:throw Error(r(451))}}function jd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ve(e)}var kd=new Map,Nd=new Set;function Sd(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Cd=R.d;R.d={f:function(){var e=Cd.f(),t=$c();return e||t},r:function(e){var t=Ke(e);null!==t&&5===t.tag&&"form"===t.type?Ds(t):Cd.r(e)},D:function(e){Cd.D(e),Pd("dns-prefetch",e,null)},C:function(e,t){Cd.C(e,t),Pd("preconnect",e,t)},L:function(e,t,n){Cd.L(e,t,n);var r=Ed;if(r&&e&&t){var i='link[rel="preload"][as="'+vt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+vt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(i+='[imagesizes="'+vt(n.imageSizes)+'"]')):i+='[href="'+vt(e)+'"]';var a=i;switch(t){case"style":a=Od(e);break;case"script":a=Dd(e)}kd.has(a)||(e=c({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),kd.set(a,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Ad(a))||"script"===t&&r.querySelector(Rd(a))||(nd(t=r.createElement("link"),"link",e),Ye(t),r.head.appendChild(t)))}},m:function(e,t){Cd.m(e,t);var n=Ed;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+vt(r)+'"][href="'+vt(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Dd(e)}if(!kd.has(a)&&(e=c({rel:"modulepreload",href:e},t),kd.set(a,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Rd(a)))return}nd(r=n.createElement("link"),"link",e),Ye(r),n.head.appendChild(r)}}},X:function(e,t){Cd.X(e,t);var n=Ed;if(n&&e){var r=Ue(n).hoistableScripts,i=Dd(e),a=r.get(i);a||((a=n.querySelector(Rd(i)))||(e=c({src:e,async:!0},t),(t=kd.get(i))&&Fd(e,t),Ye(a=n.createElement("script")),nd(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}},S:function(e,t,n){Cd.S(e,t,n);var r=Ed;if(r&&e){var i=Ue(r).hoistableStyles,a=Od(e);t=t||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(Ad(a)))o.loading=5;else{e=c({rel:"stylesheet",href:e,"data-precedence":t},n),(n=kd.get(a))&&Ld(e,n);var l=s=r.createElement("link");Ye(l),nd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,zd(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}},M:function(e,t){Cd.M(e,t);var n=Ed;if(n&&e){var r=Ue(n).hoistableScripts,i=Dd(e),a=r.get(i);a||((a=n.querySelector(Rd(i)))||(e=c({src:e,async:!0,type:"module"},t),(t=kd.get(i))&&Fd(e,t),Ye(a=n.createElement("script")),nd(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}};var Ed="undefined"==typeof document?null:document;function Pd(e,t,n){var r=Ed;if(r&&"string"==typeof t&&t){var i=vt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"==typeof n&&(i+='[crossorigin="'+n+'"]'),Nd.has(i)||(Nd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(nd(t=r.createElement("link"),"link",e),Ye(t),r.head.appendChild(t)))}}function Md(e,t,n,i){var a,s,o,l,c=(c=U.current)?Sd(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Od(n.href),(i=(n=Ue(c).hoistableStyles).get(t))||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Od(n.href);var u=Ue(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Ad(e)))&&!u._p&&(d.instance=u,d.state.loading=5),kd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},kd.set(e,n),u||(a=c,s=e,o=n,l=d.state,a.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=a.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),nd(s,"link",o),Ye(s),a.head.appendChild(s))))),t&&null===i)throw Error(r(528,""));return d}if(t&&null!==i)throw Error(r(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Dd(n),(i=(n=Ue(c).hoistableScripts).get(t))||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Od(e){return'href="'+vt(e)+'"'}function Ad(e){return'link[rel="stylesheet"]['+e+"]"}function Td(e){return c({},e,{"data-precedence":e.precedence,precedence:null})}function Dd(e){return'[src="'+vt(e)+'"]'}function Rd(e){return"script[async]"+e}function Id(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+vt(n.href)+'"]');if(i)return t.instance=i,Ye(i),i;var a=c({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ye(i=(e.ownerDocument||e).createElement("style")),nd(i,"style",a),zd(i,n.precedence,e),t.instance=i;case"stylesheet":a=Od(n.href);var s=e.querySelector(Ad(a));if(s)return t.state.loading|=4,t.instance=s,Ye(s),s;i=Td(n),(a=kd.get(a))&&Ld(i,a),Ye(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),nd(s,"link",i),t.state.loading|=4,zd(s,n.precedence,e),t.instance=s;case"script":return s=Dd(n.src),(a=e.querySelector(Rd(s)))?(t.instance=a,Ye(a),a):(i=n,(a=kd.get(s))&&Fd(i=c({},n),a),Ye(a=(e=e.ownerDocument||e).createElement("script")),nd(a,"link",i),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(r(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(i=t.instance,t.state.loading|=4,zd(i,n.precedence,e));return t.instance}function zd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===t)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Ld(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Fd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Bd=null;function Wd(e,t,n){if(null===Bd){var r=new Map,i=Bd=new Map;i.set(n,r)}else(r=(i=Bd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[We]||a[De]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var s=a.getAttribute(t)||"";s=e+s;var o=r.get(s);o?o.push(a):r.set(s,[a])}}return r}function Vd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function $d(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var Kd=null;function Hd(){}function Ud(){if(this.count--,0===this.count)if(this.stylesheets)qd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Yd=null;function qd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Yd=new Map,t.forEach(Gd,e),Yd=null,Ud.call(e))}function Gd(e,t){if(!(4&t.state.loading)){var n=Yd.get(e);if(n)var r=n.get(null);else{n=new Map,Yd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(i=t.instance).getAttribute("data-precedence"),(a=n.get(s)||r)===r&&n.set(null,i),n.set(s,i),this.count++,r=Ud.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Xd={$$typeof:y,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function Qd(e,t,n,r,i,a,s,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Se(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Se(0),this.hiddenUpdates=Se(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Zd(e,t,n,r,i,a,s,o,l,c,u,d){return e=new Qd(e,t,n,s,o,l,c,d),t=1,!0===a&&(t|=24),a=Lr(3,null,null,t),e.current=a,a.stateNode=e,(t=Ri()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},ia(a),e}function Jd(e){return e?e=Ir:Ir}function eh(e,t,n,r,i,a){i=Jd(i),null===r.context?r.context=i:r.pendingContext=i,(r=sa(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=oa(e,r,t))&&(Lc(n,0,t),la(n,e,t))}function th(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nh(e,t){th(e,t),(e=e.alternate)&&th(e,t)}function rh(e){if(13===e.tag){var t=Tr(e,67108864);null!==t&&Lc(t,0,67108864),nh(e,67108864)}}var ih=!0;function ah(e,t,n,r){var i=D.T;D.T=null;var a=R.p;try{R.p=2,oh(e,t,n,r)}finally{R.p=a,D.T=i}}function sh(e,t,n,r){var i=D.T;D.T=null;var a=R.p;try{R.p=8,oh(e,t,n,r)}finally{R.p=a,D.T=i}}function oh(e,t,n,r){if(ih){var i=lh(r);if(null===i)Ku(e,t,r,ch,n),bh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return fh=wh(fh,e,t,n,r,i),!0;case"dragenter":return mh=wh(mh,e,t,n,r,i),!0;case"mouseover":return ph=wh(ph,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return gh.set(a,wh(gh.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,vh.set(a,wh(vh.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(bh(e,r),4&t&&-1<xh.indexOf(e)){for(;null!==i;){var a=Ke(i);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var s=be(a.pendingLanes);if(0!==s){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-pe(s);o.entanglements[1]|=l,s&=~l}ku(a),!(6&ic)&&(kc=re()+500,Nu(0))}}break;case 13:null!==(o=Tr(a,2))&&Lc(o,0,2),$c(),nh(a,2)}if(null===(a=lh(r))&&Ku(e,t,r,ch,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Ku(e,t,r,null,n)}}function lh(e){return uh(e=Tt(e))}var ch=null;function uh(e){if(ch=null,null!==(e=$e(e))){var t=a(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=s(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ch=e,null}function dh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ie()){case ae:return 2;case se:return 8;case oe:case le:return 32;case ce:return 268435456;default:return 32}default:return 32}}var hh=!1,fh=null,mh=null,ph=null,gh=new Map,vh=new Map,yh=[],xh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bh(e,t){switch(e){case"focusin":case"focusout":fh=null;break;case"dragenter":case"dragleave":mh=null;break;case"mouseover":case"mouseout":ph=null;break;case"pointerover":case"pointerout":gh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vh.delete(t.pointerId)}}function wh(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&null!==(t=Ke(t))&&rh(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function _h(e){var t=$e(e.target);if(null!==t){var n=a(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=s(n)))return e.blockedOn=t,void function(e,t){var n=R.p;try{return R.p=e,t()}finally{R.p=n}}(e.priority,function(){if(13===n.tag){var e=Ic();e=Me(e);var t=Tr(n,e);null!==t&&Lc(t,0,e),nh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=lh(e.nativeEvent);if(null!==n)return null!==(t=Ke(n))&&rh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);At=r,n.target.dispatchEvent(r),At=null,t.shift()}return!0}function kh(e,t,n){jh(e)&&n.delete(t)}function Nh(){hh=!1,null!==fh&&jh(fh)&&(fh=null),null!==mh&&jh(mh)&&(mh=null),null!==ph&&jh(ph)&&(ph=null),gh.forEach(kh),vh.forEach(kh)}function Sh(t,n){t.blockedOn===n&&(t.blockedOn=null,hh||(hh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Nh)))}var Ch=null;function Eh(t){Ch!==t&&(Ch=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ch===t&&(Ch=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if("function"!=typeof r){if(null===uh(r||n))continue;break}var a=Ke(n);null!==a&&(t.splice(e,3),e-=3,As(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Ph(e){function t(t){return Sh(t,e)}null!==fh&&Sh(fh,e),null!==mh&&Sh(mh,e),null!==ph&&Sh(ph,e),gh.forEach(t),vh.forEach(t);for(var n=0;n<yh.length;n++){var r=yh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<yh.length&&null===(n=yh[0]).blockedOn;)_h(n),null===n.blockedOn&&yh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[Re]||null;if("function"==typeof a)s||Eh(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[Re]||null)o=s.formAction;else if(null!==uh(i))continue}else o=s.action;"function"==typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Eh(n)}}}function Mh(e){this._internalRoot=e}function Oh(e){this._internalRoot=e}Oh.prototype.render=Mh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));eh(t.current,Ic(),e,t,null,null)},Oh.prototype.unmount=Mh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;eh(e.current,2,null,e,null,null),$c(),t[Ie]=null}},Oh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ae();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yh.length&&0!==t&&t<yh[n].priority;n++);yh.splice(n,0,e),0===n&&_h(e)}};var Ah=t.version;if("19.1.0"!==Ah)throw Error(r(527,Ah,"19.1.0"));R.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=a(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(null===s)break;var l=s.alternate;if(null===l){if(null!==(i=s.return)){n=i;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return o(s),e;if(l===i)return o(s),t;l=l.sibling}throw Error(r(188))}if(n.return!==i.return)n=s,i=l;else{for(var c=!1,u=s.child;u;){if(u===n){c=!0,n=s,i=l;break}if(u===i){c=!0,i=s,n=l;break}u=u.sibling}if(!c){for(u=l.child;u;){if(u===n){c=!0,n=l,i=s;break}if(u===i){c=!0,i=l,n=s;break}u=u.sibling}if(!c)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?l(e):null)?null:e.stateNode};var Th={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.0"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dh.isDisabled&&Dh.supportsFiber)try{he=Dh.inject(Th),fe=Dh}catch(Ih){}}return M.createRoot=function(e,t){if(!i(e))throw Error(r(299));var n=!1,a="",s=bo,o=wo,l=_o;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onUncaughtError&&(s=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Zd(e,1,!1,null,0,n,a,s,o,l,0,null),e[Ie]=t.current,Vu(e),new Mh(t)},M.hydrateRoot=function(e,t,n){if(!i(e))throw Error(r(299));var a=!1,s="",o=bo,l=wo,c=_o,u=null;return null!=n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Zd(e,1,!0,t,0,a,s,o,l,c,0,u)).context=Jd(null),n=t.current,(s=sa(a=Me(a=Ic()))).callback=null,oa(n,s,a),n=a,t.current.lanes=n,Ce(t,n),ku(t),e[Ie]=t.current,Vu(e),new Oh(t)},M.version="19.1.0",M}const $=i((z||(z=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),P.exports=V()),P.exports)),K=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},H=(...e)=>e.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim();
/**
     * @license lucide-react v0.525.0 - ISC
     *
     * This source code is licensed under the ISC license.
     * See the LICENSE file in the root directory of this source tree.
     */
/**
     * @license lucide-react v0.525.0 - ISC
     *
     * This source code is licensed under the ISC license.
     * See the LICENSE file in the root directory of this source tree.
     */
var U={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
     * @license lucide-react v0.525.0 - ISC
     *
     * This source code is licensed under the ISC license.
     * See the LICENSE file in the root directory of this source tree.
     */const Y=k.forwardRef((e,t)=>{var n=e,{color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:c}=n,u=m(n,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return k.createElement("svg",h(h(f(h({ref:t},U),{width:i,height:i,stroke:r,strokeWidth:s?24*Number(a)/Number(i):a,className:H("lucide",o)}),!l&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(u)&&{"aria-hidden":"true"}),u),[...c.map(([e,t])=>k.createElement(e,t)),...Array.isArray(l)?l:[l]])}),q=(e,t)=>{const n=k.forwardRef((n,r)=>{var i,a=n,{className:s}=a,o=m(a,["className"]);return k.createElement(Y,h({ref:r,iconNode:t,className:H(`lucide-${i=K(e),i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,s)},o))});return n.displayName=K(e),n},G=q("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),X=q("arrow-down-right",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]),Q=q("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),Z=q("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),J=q("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),ee=q("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),te=q("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),ne=q("chart-no-axes-column-increasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),re=q("chart-no-axes-column",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),ie=q("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]),ae=q("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),se=q("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),oe=q("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),le=q("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),ce=q("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),ue=q("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),de=q("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),he=q("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),fe=q("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),me=q("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),pe=q("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ge=q("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),ve=q("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]),ye=q("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),xe=q("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),be=q("scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]),we=q("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),_e=q("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),je=q("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),ke=q("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]),Ne=q("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),Se=q("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Ce=q("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Ee=q("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),Pe=q("wand-sparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),Me=q("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Oe=q("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Ae=({children:e,className:t=""})=>x.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 sm:p-5 transition-all duration-300 h-full ${t}`,children:e}),Te=({industries:e,analysisDate:t,lookbackPeriod:n,keyMetrics:r,getSentimentColor:i})=>{if(!e||0===e.length)return null;const a=[x.jsxs(Ae,{className:"p-6 min-h-[180px]",children:[x.jsx("div",{className:"font-medium text-gray-700 mb-2",children:"Ngành vượt trội"}),x.jsx("div",{className:"text-lg font-semibold text-green-600",children:(null==r?void 0:r.outperforming_industries)||"N/A"}),x.jsx("div",{className:`text-sm ${i?i(null==r?void 0:r.industry_sentiment):""}`,children:(null==r?void 0:r.industry_sentiment)||"N/A"}),x.jsx("div",{className:"text-xs text-gray-500 mt-1",children:(null==r?void 0:r.outperforming_industries_pct)||"N/A"})]},"outperforming-industry"),x.jsxs(Ae,{className:"p-6 min-h-[180px]",children:[x.jsx("div",{className:"font-medium text-gray-700 mb-2",children:"Cổ phiếu vượt trội"}),x.jsx("div",{className:"text-lg font-semibold text-green-600",children:(null==r?void 0:r.outperforming_symbols)||"N/A"}),x.jsx("div",{className:`text-sm ${i?i(null==r?void 0:r.symbol_sentiment):""}`,children:(null==r?void 0:r.symbol_sentiment)||"N/A"}),x.jsx("div",{className:"text-xs text-gray-500 mt-1",children:(null==r?void 0:r.outperforming_symbols_pct)||"N/A"})]},"outperforming-symbol"),x.jsxs(Ae,{className:"p-6 min-h-[180px]",children:[x.jsx("div",{className:"font-medium text-gray-700 mb-2",children:"Nhóm vốn hóa vượt trội"}),x.jsx("div",{className:"text-lg font-semibold text-green-600",children:(null==r?void 0:r.outperforming_groups)||"N/A"}),x.jsx("div",{className:`text-sm ${i?i(null==r?void 0:r.group_sentiment):""}`,children:(null==r?void 0:r.group_sentiment)||"N/A"}),x.jsx("div",{className:"text-xs text-gray-500 mt-1",children:(null==r?void 0:r.outperforming_groups_pct)||"N/A"})]},"outperforming-group"),x.jsxs(Ae,{className:"p-6 min-h-[180px]",children:[x.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Phân bố Hiệu suất"}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Outperforming:"}),x.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:e.filter(e=>{var t;return"Vượt trội"===(null==(t=e.performance_summary)?void 0:t.crs_status)}).length})]}),x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Underperforming:"}),x.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:e.filter(e=>{var t;return"Kém hiệu quả"===(null==(t=e.performance_summary)?void 0:t.crs_status)}).length})]}),x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tổng cộng:"}),x.jsx("span",{className:"font-medium",children:e.length})]})]})]},"performance"),x.jsxs(Ae,{className:"p-6 min-h-[180px]",children:[x.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Phân bố Xu hướng"}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tăng trưởng:"}),x.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:e.filter(e=>{var t;return"Tăng trưởng"===(null==(t=e.performance_summary)?void 0:t.rs_trend)}).length})]}),x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Suy giảm:"}),x.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:e.filter(e=>{var t;return"Suy giảm"===(null==(t=e.performance_summary)?void 0:t.rs_trend)}).length})]}),x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Trung lập:"}),x.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:e.filter(e=>{var t;return"Trung lập"===(null==(t=e.performance_summary)?void 0:t.rs_trend)}).length})]})]})]},"trend"),x.jsxs(Ae,{className:"p-6 min-h-[180px]",children:[x.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Phân tích Độ biến động"}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Thấp (<3%):"}),x.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:e.filter(e=>{var t;return(null==(t=e.metrics)?void 0:t.rs_volatility)<.03}).length})]}),x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Trung bình (3-6%):"}),x.jsx("span",{className:"font-medium text-yellow-600 dark:text-yellow-400",children:e.filter(e=>{var t,n;return(null==(t=e.metrics)?void 0:t.rs_volatility)>=.03&&(null==(n=e.metrics)?void 0:n.rs_volatility)<.06}).length})]}),x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Cao (>6%):"}),x.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:e.filter(e=>{var t;return(null==(t=e.metrics)?void 0:t.rs_volatility)>=.06}).length})]})]})]},"volatility"),x.jsxs(Ae,{className:"p-6 min-h-[180px]",children:[x.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Phân tích Độ ổn định"}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tốt (>60%):"}),x.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:e.filter(e=>{var t,n;return(null==(t=e.metrics)?void 0:t.outperforming_days)/(null==(n=e.metrics)?void 0:n.total_days)>.6}).length})]}),x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Trung bình (40-60%):"}),x.jsx("span",{className:"font-medium text-yellow-600 dark:text-yellow-400",children:e.filter(e=>{var t,n,r,i;return(null==(t=e.metrics)?void 0:t.outperforming_days)/(null==(n=e.metrics)?void 0:n.total_days)>=.4&&(null==(r=e.metrics)?void 0:r.outperforming_days)/(null==(i=e.metrics)?void 0:i.total_days)<=.6}).length})]}),x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Kém (<40%):"}),x.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:e.filter(e=>{var t,n;return(null==(t=e.metrics)?void 0:t.outperforming_days)/(null==(n=e.metrics)?void 0:n.total_days)<.4}).length})]})]})]},"consistency"),x.jsxs(Ae,{className:"p-6 min-h-[180px]",children:[x.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Phân tích Momentum"}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tăng tốc:"}),x.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:e.filter(e=>{var t,n;return(null==(t=e.speed_analysis)?void 0:t.short_term_momentum)>0&&(null==(n=e.speed_analysis)?void 0:n.long_term_momentum)>0}).length})]}),x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Giảm tốc:"}),x.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:e.filter(e=>{var t,n;return(null==(t=e.speed_analysis)?void 0:t.short_term_momentum)<0&&(null==(n=e.speed_analysis)?void 0:n.long_term_momentum)<0}).length})]}),x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Hỗn hợp:"}),x.jsx("span",{className:"font-medium text-yellow-600 dark:text-yellow-400",children:e.filter(e=>{var t,n,r,i;return(null==(t=e.speed_analysis)?void 0:t.short_term_momentum)>0&&(null==(n=e.speed_analysis)?void 0:n.long_term_momentum)<0||(null==(r=e.speed_analysis)?void 0:r.short_term_momentum)<0&&(null==(i=e.speed_analysis)?void 0:i.long_term_momentum)>0}).length})]})]})]},"momentum"),x.jsxs(Ae,{className:"p-6 min-h-[180px]",children:[x.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Đánh giá Rủi ro"}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Thấp:"}),x.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:e.filter(e=>{var t;return"Thấp"===(null==(t=e.risk_assessment)?void 0:t.risk_level)}).length})]}),x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Trung bình:"}),x.jsx("span",{className:"font-medium text-yellow-600 dark:text-yellow-400",children:e.filter(e=>{var t;return"Trung bình"===(null==(t=e.risk_assessment)?void 0:t.risk_level)}).length})]}),x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Cao:"}),x.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:e.filter(e=>{var t;return"Cao"===(null==(t=e.risk_assessment)?void 0:t.risk_level)}).length})]})]})]},"risk")],s=a.length%3,o=0===s?0:3-s;return x.jsxs("div",{className:"space-y-6",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Thống kê và Phân tích"}),x.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[a,[...Array(o)].map((e,t)=>x.jsx("div",{className:"invisible min-h-[180px]"},`placeholder-${t}`))]})]})},De=({marketOverview:e,getSentimentColor:t,breadth_detail:n,industries:r,analyticsData:i})=>{var a,s,o,l,c,u,d,h,f,m,p,g,v,y,b,w,_,j,k,N,S,C,E;return e&&e.title?x.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[x.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:e.title||"Tổng quan thị trường (Macro)"}),x.jsxs("div",{className:"text-sm text-blue-700 mb-4",children:[e.analysis_date&&x.jsxs("span",{children:["Ngày phân tích: ",new Date(e.analysis_date).toLocaleDateString()," | "]}),e.timeframe&&x.jsxs("span",{children:["Khung thời gian: ",e.timeframe," | "]}),e.benchmark&&x.jsxs("span",{children:["Chuẩn so sánh: ",e.benchmark]})]}),x.jsx(Te,{industries:r,analysisDate:null==i?void 0:i.analysis_date,lookbackPeriod:null==i?void 0:i.lookback_period,keyMetrics:e.key_metrics,getSentimentColor:t}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.market_regime&&x.jsxs("div",{className:"bg-white p-3 rounded border",children:[x.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Trạng thái thị trường"}),x.jsx("div",{className:"text-lg font-semibold text-blue-600",children:e.market_regime.regime||"N/A"}),x.jsx("div",{className:"text-sm text-gray-600 mb-2",children:e.market_regime.description||"N/A"}),x.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm mb-2",children:[x.jsxs("div",{children:[x.jsx("span",{className:"font-medium",children:"Độ tin cậy:"})," ",e.market_regime.confidence||"N/A","%"]}),x.jsxs("div",{children:[x.jsx("span",{className:"font-medium",children:"Điểm rộng:"})," ",e.market_regime.breadth_score?`${(100*e.market_regime.breadth_score).toFixed(1)}%`:"N/A"]}),x.jsxs("div",{children:[x.jsx("span",{className:"font-medium",children:"Điểm động lượng:"})," ",e.market_regime.momentum_score?`${(100*e.market_regime.momentum_score).toFixed(1)}%`:"N/A"]})]}),e.market_regime.supporting_evidence&&e.market_regime.supporting_evidence.length>0&&x.jsxs("div",{className:"text-xs text-gray-500",children:[x.jsx("span",{className:"font-medium",children:"Bằng chứng hỗ trợ:"}),x.jsx("ul",{className:"list-disc list-inside mt-1",children:e.market_regime.supporting_evidence.map((e,t)=>x.jsx("li",{children:e},t))})]})]}),e.strategic_recommendation&&x.jsxs("div",{className:"bg-white p-3 rounded border",children:[x.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Khuyến nghị chiến lược"}),x.jsx("div",{className:"text-lg font-semibold text-purple-600",children:e.strategic_recommendation.stance||"N/A"}),x.jsx("div",{className:"text-sm text-gray-600",children:e.market_health.market_character.strategy||"N/A"}),x.jsxs("div",{className:"text-sm text-gray-600",children:["Độ tin cậy: ",e.strategic_recommendation.confidence||"N/A","%"]}),x.jsx("div",{className:"text-sm text-gray-700 mt-1",children:e.strategic_recommendation.rationale||"N/A"})]})]}),e.market_health&&x.jsxs("div",{className:"bg-white p-3 rounded border mb-4",children:[x.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Sức khỏe thị trường"}),x.jsx("div",{className:"text-sm text-gray-600 mb-3",children:e.market_health.summary||"N/A"}),e.market_health.key_metrics&&x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[e.market_health.key_metrics.market_breadth&&x.jsxs("div",{className:"p-2 bg-blue-50 rounded",children:[x.jsx("div",{className:"font-medium text-sm text-blue-700 mb-1",children:"Độ rộng thị trường"}),x.jsx("div",{className:"text-sm font-semibold text-blue-600",children:e.market_health.key_metrics.market_breadth.score?`${(100*e.market_health.key_metrics.market_breadth.score).toFixed(1)}%`:"N/A"}),x.jsx("div",{className:"text-xs text-blue-600",children:e.market_health.key_metrics.market_breadth.interpretation||"N/A"}),x.jsx("div",{className:"text-xs text-gray-500 mt-1",children:e.market_health.key_metrics.market_breadth.description||"N/A"})]}),e.market_health.key_metrics.momentum_distribution&&x.jsxs("div",{className:"p-2 bg-green-50 rounded",children:[x.jsx("div",{className:"font-medium text-sm text-green-700 mb-1",children:"Phân bổ động lượng"}),x.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:[x.jsx("span",{className:"font-medium",children:"Rất mạnh:"})," ",(null==(a=e.market_health.key_metrics.momentum_distribution.momentum_categories)?void 0:a.very_strong)||"N/A"]}),x.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:[x.jsx("span",{className:"font-medium",children:"Mạnh:"})," ",(null==(s=e.market_health.key_metrics.momentum_distribution.momentum_categories)?void 0:s.strong)||"N/A"]}),x.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:[x.jsx("span",{className:"font-medium",children:"Trung bình:"})," ",(null==(o=e.market_health.key_metrics.momentum_distribution.momentum_categories)?void 0:o.moderate)||"N/A"]}),x.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:[x.jsx("span",{className:"font-medium",children:"Yếu:"})," ",(null==(l=e.market_health.key_metrics.momentum_distribution.momentum_categories)?void 0:l.weak)||"N/A"]}),x.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:[x.jsx("span",{className:"font-medium",children:"Giảm:"})," ",(null==(c=e.market_health.key_metrics.momentum_distribution.momentum_categories)?void 0:c.declining)||"N/A"]}),x.jsx("div",{className:"text-xs text-green-600 font-medium mt-1",children:e.market_health.key_metrics.momentum_distribution.momentum_summary||"N/A"})]})]}),(null==(u=e.market_health.key_metrics)?void 0:u.momentum_distribution)&&x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[e.market_health.key_metrics.momentum_distribution.risk_distribution&&x.jsxs("div",{className:"p-2 bg-red-50 rounded",children:[x.jsx("div",{className:"font-medium text-sm text-red-700 mb-1",children:"Phân bổ rủi ro"}),x.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:[x.jsx("span",{className:"font-medium",children:"Cao:"})," ",e.market_health.key_metrics.momentum_distribution.risk_distribution.Cao||"N/A"]}),x.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:[x.jsx("span",{className:"font-medium",children:"Trung bình:"})," ",e.market_health.key_metrics.momentum_distribution.risk_distribution["Trung bình"]||"N/A"]}),x.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:[x.jsx("span",{className:"font-medium",children:"Thấp:"})," ",e.market_health.key_metrics.momentum_distribution.risk_distribution["Thấp"]||"N/A"]}),x.jsx("div",{className:"text-xs text-red-600 font-medium mt-1",children:e.market_health.key_metrics.momentum_distribution.momentum_summary||"N/A"})]}),e.market_health.key_metrics.momentum_distribution.speed_distribution&&x.jsxs("div",{className:"p-2 bg-yellow-50 rounded",children:[x.jsx("div",{className:"font-medium text-sm text-yellow-700 mb-1",children:"Phân bổ tốc độ"}),x.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:[x.jsx("span",{className:"font-medium",children:"Nhanh:"})," ",e.market_health.key_metrics.momentum_distribution.speed_distribution.fast||"N/A"]}),x.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:[x.jsx("span",{className:"font-medium",children:"Trung bình:"})," ",e.market_health.key_metrics.momentum_distribution.speed_distribution.moderate||"N/A"]}),x.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:[x.jsx("span",{className:"font-medium",children:"Chậm:"})," ",e.market_health.key_metrics.momentum_distribution.speed_distribution.slow||"N/A"]})]})]})]}),n&&x.jsxs("div",{className:"bg-white p-3 rounded border mb-4",children:[x.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Phân tích độ rộng thị trường"}),x.jsxs("div",{className:"grid grid-cols-4 gap-x-6 text-center",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-gray-500",children:"Breadth Thrust (Đà lan tỏa)"}),x.jsx("div",{className:"font-mono font-semibold text-base",children:null!=(h=null==(d=n.industry_breadth_thrust)?void 0:d.value)?h:"K/C"}),x.jsx("div",{className:"text-xs text-gray-400 mt-1",children:null!=(m=null==(f=n.industry_breadth_thrust)?void 0:f.interpretation)?m:""}),x.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Chỉ báo cho thấy mức độ đồng thuận tăng giá trong ngành."})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-gray-500",children:"Momentum Breadth (Độ rộng động lượng)"}),x.jsx("div",{className:"font-mono font-semibold text-base",children:null!=(g=null==(p=n.momentum_breadth)?void 0:p.value)?g:"K/C"}),x.jsx("div",{className:"text-xs text-gray-400 mt-1",children:null!=(y=null==(v=n.momentum_breadth)?void 0:v.interpretation)?y:""}),x.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Tỷ lệ cổ phiếu trong ngành đang có động lượng mạnh."})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-gray-500",children:"Tập trung động lượng"}),x.jsx("div",{className:"font-mono font-semibold text-base",children:null!=(w=null==(b=n.momentum_concentration)?void 0:b.value)?w:"K/C"}),x.jsx("div",{className:"text-xs text-gray-400 mt-1",children:null!=(j=null==(_=n.momentum_concentration)?void 0:_.interpretation)?j:""}),x.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Đo lường mức độ các cổ phiếu dẫn dắt có sức ảnh hưởng lớn."})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-gray-500",children:"Phân tán biến động"}),x.jsx("div",{className:"font-mono font-semibold text-base",children:null!=(N=null==(k=n.volatility_dispersion)?void 0:k.value)?N:"K/C"}),x.jsx("div",{className:"text-xs text-gray-400 mt-1",children:null!=(C=null==(S=n.volatility_dispersion)?void 0:S.interpretation)?C:""}),x.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Xác định mức độ phân tán rủi ro giữa các mã cổ phiếu trong ngành."})]})]}),n.summary&&x.jsx("div",{className:"text-blue-700 text-xs mt-2",children:n.summary})]}),(null==(E=e.market_health)?void 0:E.market_cap_rotation)&&x.jsxs("div",{className:"bg-white p-3 rounded border mt-4",children:[x.jsx("div",{className:"font-medium text-gray-700 mb-2",children:"Luân chuyển vốn hóa thị trường"}),x.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[x.jsx("span",{className:"font-medium",children:"Chủ đề:"})," ",e.market_health.market_cap_rotation.rotation_theme||"N/A"]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.market_health.market_cap_rotation.large_cap&&x.jsxs("div",{className:"border-l-4 border-blue-500 pl-3",children:[x.jsx("div",{className:"font-medium text-sm",children:e.market_health.market_cap_rotation.large_cap.name}),x.jsx("div",{className:"text-sm "+("Vượt trội"===e.market_health.market_cap_rotation.large_cap.performance?"text-green-600":"text-red-600"),children:e.market_health.market_cap_rotation.large_cap.performance}),x.jsx("div",{className:"text-xs text-gray-500",children:e.market_health.market_cap_rotation.large_cap.interpretation})]}),e.market_health.market_cap_rotation.mid_cap&&x.jsxs("div",{className:"border-l-4 border-yellow-500 pl-3",children:[x.jsx("div",{className:"font-medium text-sm",children:e.market_health.market_cap_rotation.mid_cap.name}),x.jsx("div",{className:"text-sm "+("Vượt trội"===e.market_health.market_cap_rotation.mid_cap.performance?"text-green-600":"text-red-600"),children:e.market_health.market_cap_rotation.mid_cap.performance}),x.jsx("div",{className:"text-xs text-gray-500",children:e.market_health.market_cap_rotation.mid_cap.interpretation})]}),e.market_health.market_cap_rotation.small_cap&&x.jsxs("div",{className:"border-l-4 border-red-500 pl-3",children:[x.jsx("div",{className:"font-medium text-sm",children:e.market_health.market_cap_rotation.small_cap.name}),x.jsx("div",{className:"text-sm "+("Vượt trội"===e.market_health.market_cap_rotation.small_cap.performance?"text-green-600":"text-red-600"),children:e.market_health.market_cap_rotation.small_cap.performance}),x.jsx("div",{className:"text-xs text-gray-500",children:e.market_health.market_cap_rotation.small_cap.interpretation})]})]})]}),e.market_indices&&x.jsxs("div",{className:"bg-white p-3 rounded border mt-4",children:[x.jsx("div",{className:"font-medium text-gray-700 mb-2",children:"Chỉ số thị trường"}),x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:[x.jsxs("div",{children:[x.jsx("span",{className:"text-gray-600",children:"Tổng thể:"})," ",e.market_indices.general_market]}),x.jsxs("div",{children:[x.jsx("span",{className:"text-gray-600",children:"Vốn hóa lớn:"})," ",e.market_indices.large_cap]}),x.jsxs("div",{children:[x.jsx("span",{className:"text-gray-600",children:"Vốn hóa vừa:"})," ",e.market_indices.mid_cap]}),x.jsxs("div",{children:[x.jsx("span",{className:"text-gray-600",children:"Vốn hóa nhỏ:"})," ",e.market_indices.small_cap]})]})]})]}):null};
/**
     * @license lucide-react v0.525.0 - ISC
     *
     * This source code is licensed under the ISC license.
     * See the LICENSE file in the root directory of this source tree.
     */function Re(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function Ie(...e){return t=>{let n=!1;const r=e.map(e=>{const r=Re(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){const n=r[t];"function"==typeof n?n():Re(e[t],null)}}}}function ze(...e){return k.useCallback(Ie(...e),e)}function Le(e){const t=Be(e),n=k.forwardRef((e,n)=>{const r=e,{children:i}=r,a=m(r,["children"]),s=k.Children.toArray(i),o=s.find(Ve);if(o){const e=o.props.children,r=s.map(t=>t===o?k.Children.count(e)>1?k.Children.only(null):k.isValidElement(e)?e.props.children:null:t);return x.jsx(t,f(h({},a),{ref:n,children:k.isValidElement(e)?k.cloneElement(e,void 0,r):null}))}return x.jsx(t,f(h({},a),{ref:n,children:i}))});return n.displayName=`${e}.Slot`,n}var Fe=Le("Slot");function Be(e){const t=k.forwardRef((e,t)=>{const n=e,{children:r}=n,i=m(n,["children"]);if(k.isValidElement(r)){const e=function(e){var t,n;let r=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?e.ref:(r=null==(n=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:n.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}(r),n=function(e,t){const n=h({},t);for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...e)=>{const t=a(...e);return i(...e),t}:i&&(n[r]=i):"style"===r?n[r]=h(h({},i),a):"className"===r&&(n[r]=[i,a].filter(Boolean).join(" "))}return h(h({},e),n)}(i,r.props);return r.type!==k.Fragment&&(n.ref=t?Ie(t,e):e),k.cloneElement(r,n)}return k.Children.count(r)>1?k.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var We=Symbol("radix.slottable");function Ve(e){return k.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===We}function $e(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=$e(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ke(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=$e(e))&&(r&&(r+=" "),r+=t);return r}const He=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,Ue=Ke,Ye=(e,t)=>n=>{var r;if(null==(null==t?void 0:t.variants))return Ue(e,null==n?void 0:n.class,null==n?void 0:n.className);const{variants:i,defaultVariants:a}=t,s=Object.keys(i).map(e=>{const t=null==n?void 0:n[e],r=null==a?void 0:a[e];if(null===t)return null;const s=He(t)||He(r);return i[e][s]}),o=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{}),l=null==t||null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let n=t,{class:r,className:i}=n,s=m(n,["class","className"]);return Object.entries(s).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes(h(h({},a),o)[t]):h(h({},a),o)[t]===n})?[...e,r,i]:e},[]);return Ue(e,s,l,null==n?void 0:n.class,null==n?void 0:n.className)},qe=(e,t)=>{var n;if(0===e.length)return t.classGroupId;const r=e[0],i=t.nextPart.get(r),a=i?qe(e.slice(1),i):void 0;if(a)return a;if(0===t.validators.length)return;const s=e.join("-");return null==(n=t.validators.find(({validator:e})=>e(s)))?void 0:n.classGroupId},Ge=/^\[(.+)\]$/,Xe=e=>{if(Ge.test(e)){const t=Ge.exec(e)[1],n=null==t?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Qe=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const i in n)Ze(n[i],r,i,t);return r},Ze=(e,t,n,r)=>{e.forEach(e=>{if("string"!=typeof e)return"function"==typeof e?et(e)?void Ze(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n}):void Object.entries(e).forEach(([e,i])=>{Ze(i,Je(t,e),n,r)});(""===e?t:Je(t,e)).classGroupId=n})},Je=(e,t)=>{let n=e;return t.split("-").forEach(e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)}),n},et=e=>e.isThemeGetter,tt=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(i,a)=>{n.set(i,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(i(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):i(e,t)}}},nt=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=e=>{const t=[];let n,r=0,i=0,a=0;for(let l=0;l<e.length;l++){let s=e[l];if(0===r&&0===i){if(":"===s){t.push(e.slice(a,l)),a=l+1;continue}if("/"===s){n=l;continue}}"["===s?r++:"]"===s?r--:"("===s?i++:")"===s&&i--}const s=0===t.length?e:e.substring(a),o=rt(s);return{modifiers:t,hasImportantModifier:o!==s,baseClassName:o,maybePostfixModifierPosition:n&&n>a?n-a:void 0}};if(t){const e=t+":",n=r;r=t=>t.startsWith(e)?n(t.substring(e.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:t,maybePostfixModifierPosition:void 0}}if(n){const e=r;r=t=>n({className:t,parseClassName:e})}return r},rt=e=>e.endsWith("!")?e.substring(0,e.length-1):e.startsWith("!")?e.substring(1):e,it=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(e=>[e,!0]));return e=>{if(e.length<=1)return e;const n=[];let r=[];return e.forEach(e=>{"["===e[0]||t[e]?(n.push(...r.sort(),e),r=[]):r.push(e)}),n.push(...r.sort()),n}},at=e=>h({cache:tt(e.cacheSize),parseClassName:nt(e),sortModifiers:it(e)},(e=>{const t=Qe(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),qe(n,t)||Xe(e)},getConflictingClassGroupIds:(e,t)=>{const i=n[e]||[];return t&&r[e]?[...i,...r[e]]:i}}})(e)),st=/\s+/;function ot(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=lt(e))&&(r&&(r+=" "),r+=t);return r}const lt=e=>{if("string"==typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=lt(e[r]))&&(n&&(n+=" "),n+=t);return n};function ct(e,...t){let n,r,i,a=function(o){const l=t.reduce((e,t)=>t(e),e());return n=at(l),r=n.cache.get,i=n.cache.set,a=s,s(o)};function s(e){const t=r(e);if(t)return t;const a=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=t,s=[],o=e.trim().split(st);let l="";for(let c=o.length-1;c>=0;c-=1){const e=o[c],{isExternal:t,modifiers:u,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:f}=n(e);if(t){l=e+(l.length>0?" "+l:l);continue}let m=!!f,p=r(m?h.substring(0,f):h);if(!p){if(!m){l=e+(l.length>0?" "+l:l);continue}if(p=r(h),!p){l=e+(l.length>0?" "+l:l);continue}m=!1}const g=a(u).join(":"),v=d?g+"!":g,y=v+p;if(s.includes(y))continue;s.push(y);const x=i(p,m);for(let n=0;n<x.length;++n){const e=x[n];s.push(v+e)}l=e+(l.length>0?" "+l:l)}return l})(e,n);return i(e,a),a}return function(){return a(ot.apply(null,arguments))}}const ut=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},dt=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ht=/^\((?:(\w[\w-]*):)?(.+)\)$/i,ft=/^\d+\/\d+$/,mt=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,pt=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,gt=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,vt=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,yt=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xt=e=>ft.test(e),bt=e=>!!e&&!Number.isNaN(Number(e)),wt=e=>!!e&&Number.isInteger(Number(e)),_t=e=>e.endsWith("%")&&bt(e.slice(0,-1)),jt=e=>mt.test(e),kt=()=>!0,Nt=e=>pt.test(e)&&!gt.test(e),St=()=>!1,Ct=e=>vt.test(e),Et=e=>yt.test(e),Pt=e=>!Ot(e)&&!zt(e),Mt=e=>Kt(e,qt,St),Ot=e=>dt.test(e),At=e=>Kt(e,Gt,Nt),Tt=e=>Kt(e,Xt,bt),Dt=e=>Kt(e,Ut,St),Rt=e=>Kt(e,Yt,Et),It=e=>Kt(e,Zt,Ct),zt=e=>ht.test(e),Lt=e=>Ht(e,Gt),Ft=e=>Ht(e,Qt),Bt=e=>Ht(e,Ut),Wt=e=>Ht(e,qt),Vt=e=>Ht(e,Yt),$t=e=>Ht(e,Zt,!0),Kt=(e,t,n)=>{const r=dt.exec(e);return!!r&&(r[1]?t(r[1]):n(r[2]))},Ht=(e,t,n=!1)=>{const r=ht.exec(e);return!!r&&(r[1]?t(r[1]):n)},Ut=e=>"position"===e||"percentage"===e,Yt=e=>"image"===e||"url"===e,qt=e=>"length"===e||"size"===e||"bg-size"===e,Gt=e=>"length"===e,Xt=e=>"number"===e,Qt=e=>"family-name"===e,Zt=e=>"shadow"===e,Jt=ct(()=>{const e=ut("color"),t=ut("font"),n=ut("text"),r=ut("font-weight"),i=ut("tracking"),a=ut("leading"),s=ut("breakpoint"),o=ut("container"),l=ut("spacing"),c=ut("radius"),u=ut("shadow"),d=ut("inset-shadow"),h=ut("text-shadow"),f=ut("drop-shadow"),m=ut("blur"),p=ut("perspective"),g=ut("aspect"),v=ut("ease"),y=ut("animate"),x=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",zt,Ot],b=()=>[zt,Ot,l],w=()=>[xt,"full","auto",...b()],_=()=>[wt,"none","subgrid",zt,Ot],j=()=>["auto",{span:["full",wt,zt,Ot]},wt,zt,Ot],k=()=>[wt,"auto",zt,Ot],N=()=>["auto","min","max","fr",zt,Ot],S=()=>["auto",...b()],C=()=>[xt,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...b()],E=()=>[e,zt,Ot],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",Bt,Dt,{position:[zt,Ot]}],M=()=>["auto","cover","contain",Wt,Mt,{size:[zt,Ot]}],O=()=>[_t,Lt,At],A=()=>["","none","full",c,zt,Ot],T=()=>["",bt,Lt,At],D=()=>[bt,_t,Bt,Dt],R=()=>["","none",m,zt,Ot],I=()=>["none",bt,zt,Ot],z=()=>["none",bt,zt,Ot],L=()=>[bt,zt,Ot],F=()=>[xt,"full",...b()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[jt],breakpoint:[jt],color:[kt],container:[jt],"drop-shadow":[jt],ease:["in","out","in-out"],font:[Pt],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[jt],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[jt],shadow:[jt],spacing:["px",bt],text:[jt],"text-shadow":[jt],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",xt,Ot,zt,g]}],container:["container"],columns:[{columns:[bt,Ot,zt,o]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:x()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:w()}],"inset-x":[{"inset-x":w()}],"inset-y":[{"inset-y":w()}],start:[{start:w()}],end:[{end:w()}],top:[{top:w()}],right:[{right:w()}],bottom:[{bottom:w()}],left:[{left:w()}],visibility:["visible","invisible","collapse"],z:[{z:[wt,"auto",zt,Ot]}],basis:[{basis:[xt,"full","auto",o,...b()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[bt,xt,"auto","initial","none",Ot]}],grow:[{grow:["",bt,zt,Ot]}],shrink:[{shrink:["",bt,zt,Ot]}],order:[{order:[wt,"first","last","none",zt,Ot]}],"grid-cols":[{"grid-cols":_()}],"col-start-end":[{col:j()}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":_()}],"row-start-end":[{row:j()}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":N()}],"auto-rows":[{"auto-rows":N()}],gap:[{gap:b()}],"gap-x":[{"gap-x":b()}],"gap-y":[{"gap-y":b()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:b()}],px:[{px:b()}],py:[{py:b()}],ps:[{ps:b()}],pe:[{pe:b()}],pt:[{pt:b()}],pr:[{pr:b()}],pb:[{pb:b()}],pl:[{pl:b()}],m:[{m:S()}],mx:[{mx:S()}],my:[{my:S()}],ms:[{ms:S()}],me:[{me:S()}],mt:[{mt:S()}],mr:[{mr:S()}],mb:[{mb:S()}],ml:[{ml:S()}],"space-x":[{"space-x":b()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":b()}],"space-y-reverse":["space-y-reverse"],size:[{size:C()}],w:[{w:[o,"screen",...C()]}],"min-w":[{"min-w":[o,"screen","none",...C()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[s]},...C()]}],h:[{h:["screen","lh",...C()]}],"min-h":[{"min-h":["screen","lh","none",...C()]}],"max-h":[{"max-h":["screen","lh",...C()]}],"font-size":[{text:["base",n,Lt,At]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,zt,Tt]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",_t,Ot]}],"font-family":[{font:[Ft,Ot,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,zt,Ot]}],"line-clamp":[{"line-clamp":[bt,"none",zt,Tt]}],leading:[{leading:[a,...b()]}],"list-image":[{"list-image":["none",zt,Ot]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",zt,Ot]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:E()}],"text-color":[{text:E()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[bt,"from-font","auto",zt,At]}],"text-decoration-color":[{decoration:E()}],"underline-offset":[{"underline-offset":[bt,"auto",zt,Ot]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",zt,Ot]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",zt,Ot]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:P()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:M()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},wt,zt,Ot],radial:["",zt,Ot],conic:[wt,zt,Ot]},Vt,Rt]}],"bg-color":[{bg:E()}],"gradient-from-pos":[{from:O()}],"gradient-via-pos":[{via:O()}],"gradient-to-pos":[{to:O()}],"gradient-from":[{from:E()}],"gradient-via":[{via:E()}],"gradient-to":[{to:E()}],rounded:[{rounded:A()}],"rounded-s":[{"rounded-s":A()}],"rounded-e":[{"rounded-e":A()}],"rounded-t":[{"rounded-t":A()}],"rounded-r":[{"rounded-r":A()}],"rounded-b":[{"rounded-b":A()}],"rounded-l":[{"rounded-l":A()}],"rounded-ss":[{"rounded-ss":A()}],"rounded-se":[{"rounded-se":A()}],"rounded-ee":[{"rounded-ee":A()}],"rounded-es":[{"rounded-es":A()}],"rounded-tl":[{"rounded-tl":A()}],"rounded-tr":[{"rounded-tr":A()}],"rounded-br":[{"rounded-br":A()}],"rounded-bl":[{"rounded-bl":A()}],"border-w":[{border:T()}],"border-w-x":[{"border-x":T()}],"border-w-y":[{"border-y":T()}],"border-w-s":[{"border-s":T()}],"border-w-e":[{"border-e":T()}],"border-w-t":[{"border-t":T()}],"border-w-r":[{"border-r":T()}],"border-w-b":[{"border-b":T()}],"border-w-l":[{"border-l":T()}],"divide-x":[{"divide-x":T()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":T()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:E()}],"border-color-x":[{"border-x":E()}],"border-color-y":[{"border-y":E()}],"border-color-s":[{"border-s":E()}],"border-color-e":[{"border-e":E()}],"border-color-t":[{"border-t":E()}],"border-color-r":[{"border-r":E()}],"border-color-b":[{"border-b":E()}],"border-color-l":[{"border-l":E()}],"divide-color":[{divide:E()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[bt,zt,Ot]}],"outline-w":[{outline:["",bt,Lt,At]}],"outline-color":[{outline:E()}],shadow:[{shadow:["","none",u,$t,It]}],"shadow-color":[{shadow:E()}],"inset-shadow":[{"inset-shadow":["none",d,$t,It]}],"inset-shadow-color":[{"inset-shadow":E()}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:E()}],"ring-offset-w":[{"ring-offset":[bt,At]}],"ring-offset-color":[{"ring-offset":E()}],"inset-ring-w":[{"inset-ring":T()}],"inset-ring-color":[{"inset-ring":E()}],"text-shadow":[{"text-shadow":["none",h,$t,It]}],"text-shadow-color":[{"text-shadow":E()}],opacity:[{opacity:[bt,zt,Ot]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[bt]}],"mask-image-linear-from-pos":[{"mask-linear-from":D()}],"mask-image-linear-to-pos":[{"mask-linear-to":D()}],"mask-image-linear-from-color":[{"mask-linear-from":E()}],"mask-image-linear-to-color":[{"mask-linear-to":E()}],"mask-image-t-from-pos":[{"mask-t-from":D()}],"mask-image-t-to-pos":[{"mask-t-to":D()}],"mask-image-t-from-color":[{"mask-t-from":E()}],"mask-image-t-to-color":[{"mask-t-to":E()}],"mask-image-r-from-pos":[{"mask-r-from":D()}],"mask-image-r-to-pos":[{"mask-r-to":D()}],"mask-image-r-from-color":[{"mask-r-from":E()}],"mask-image-r-to-color":[{"mask-r-to":E()}],"mask-image-b-from-pos":[{"mask-b-from":D()}],"mask-image-b-to-pos":[{"mask-b-to":D()}],"mask-image-b-from-color":[{"mask-b-from":E()}],"mask-image-b-to-color":[{"mask-b-to":E()}],"mask-image-l-from-pos":[{"mask-l-from":D()}],"mask-image-l-to-pos":[{"mask-l-to":D()}],"mask-image-l-from-color":[{"mask-l-from":E()}],"mask-image-l-to-color":[{"mask-l-to":E()}],"mask-image-x-from-pos":[{"mask-x-from":D()}],"mask-image-x-to-pos":[{"mask-x-to":D()}],"mask-image-x-from-color":[{"mask-x-from":E()}],"mask-image-x-to-color":[{"mask-x-to":E()}],"mask-image-y-from-pos":[{"mask-y-from":D()}],"mask-image-y-to-pos":[{"mask-y-to":D()}],"mask-image-y-from-color":[{"mask-y-from":E()}],"mask-image-y-to-color":[{"mask-y-to":E()}],"mask-image-radial":[{"mask-radial":[zt,Ot]}],"mask-image-radial-from-pos":[{"mask-radial-from":D()}],"mask-image-radial-to-pos":[{"mask-radial-to":D()}],"mask-image-radial-from-color":[{"mask-radial-from":E()}],"mask-image-radial-to-color":[{"mask-radial-to":E()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[bt]}],"mask-image-conic-from-pos":[{"mask-conic-from":D()}],"mask-image-conic-to-pos":[{"mask-conic-to":D()}],"mask-image-conic-from-color":[{"mask-conic-from":E()}],"mask-image-conic-to-color":[{"mask-conic-to":E()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:P()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:M()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",zt,Ot]}],filter:[{filter:["","none",zt,Ot]}],blur:[{blur:R()}],brightness:[{brightness:[bt,zt,Ot]}],contrast:[{contrast:[bt,zt,Ot]}],"drop-shadow":[{"drop-shadow":["","none",f,$t,It]}],"drop-shadow-color":[{"drop-shadow":E()}],grayscale:[{grayscale:["",bt,zt,Ot]}],"hue-rotate":[{"hue-rotate":[bt,zt,Ot]}],invert:[{invert:["",bt,zt,Ot]}],saturate:[{saturate:[bt,zt,Ot]}],sepia:[{sepia:["",bt,zt,Ot]}],"backdrop-filter":[{"backdrop-filter":["","none",zt,Ot]}],"backdrop-blur":[{"backdrop-blur":R()}],"backdrop-brightness":[{"backdrop-brightness":[bt,zt,Ot]}],"backdrop-contrast":[{"backdrop-contrast":[bt,zt,Ot]}],"backdrop-grayscale":[{"backdrop-grayscale":["",bt,zt,Ot]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[bt,zt,Ot]}],"backdrop-invert":[{"backdrop-invert":["",bt,zt,Ot]}],"backdrop-opacity":[{"backdrop-opacity":[bt,zt,Ot]}],"backdrop-saturate":[{"backdrop-saturate":[bt,zt,Ot]}],"backdrop-sepia":[{"backdrop-sepia":["",bt,zt,Ot]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":b()}],"border-spacing-x":[{"border-spacing-x":b()}],"border-spacing-y":[{"border-spacing-y":b()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",zt,Ot]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[bt,"initial",zt,Ot]}],ease:[{ease:["linear","initial",v,zt,Ot]}],delay:[{delay:[bt,zt,Ot]}],animate:[{animate:["none",y,zt,Ot]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[p,zt,Ot]}],"perspective-origin":[{"perspective-origin":x()}],rotate:[{rotate:I()}],"rotate-x":[{"rotate-x":I()}],"rotate-y":[{"rotate-y":I()}],"rotate-z":[{"rotate-z":I()}],scale:[{scale:z()}],"scale-x":[{"scale-x":z()}],"scale-y":[{"scale-y":z()}],"scale-z":[{"scale-z":z()}],"scale-3d":["scale-3d"],skew:[{skew:L()}],"skew-x":[{"skew-x":L()}],"skew-y":[{"skew-y":L()}],transform:[{transform:[zt,Ot,"","none","gpu","cpu"]}],"transform-origin":[{origin:x()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:F()}],"translate-x":[{"translate-x":F()}],"translate-y":[{"translate-y":F()}],"translate-z":[{"translate-z":F()}],"translate-none":["translate-none"],accent:[{accent:E()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:E()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",zt,Ot]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",zt,Ot]}],fill:[{fill:["none",...E()]}],"stroke-w":[{stroke:[bt,Lt,At,Tt]}],stroke:[{stroke:["none",...E()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function en(...e){return Jt(Ke(e))}const tn=Ye("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function nn(e){var t=e,{className:n,variant:r,asChild:i=!1}=t,a=m(t,["className","variant","asChild"]);const s=i?Fe:"span";return x.jsx(s,h({"data-slot":"badge",className:en(tn({variant:r}),n)},a))}const rn=Ye("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all cursor-pointer disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-11 rounded-md px-6 py-2.5 has-[>svg]:px-4 text-base",icon:"size-9"}},defaultVariants:{variant:"default",size:"lg"}});function an(e){var t=e,{className:n,variant:r,size:i,asChild:a=!1}=t,s=m(t,["className","variant","size","asChild"]);const o=a?Fe:"button";return x.jsx(o,h({"data-slot":"button",className:en(rn({variant:r,size:i,className:n}))},s))}const sn=k.forwardRef((e,t)=>{var n=e,{className:r}=n,i=m(n,["className"]);return x.jsx("div",h({ref:t,className:en("rounded-lg border bg-card text-card-foreground shadow-sm",r)},i))});sn.displayName="Card",k.forwardRef((e,t)=>{var n=e,{className:r}=n,i=m(n,["className"]);return x.jsx("div",h({ref:t,className:en("flex flex-col space-y-1.5 p-6",r)},i))}).displayName="CardHeader",k.forwardRef((e,t)=>{var n=e,{className:r}=n,i=m(n,["className"]);return x.jsx("h3",h({ref:t,className:en("text-2xl font-semibold leading-none tracking-tight",r)},i))}).displayName="CardTitle",k.forwardRef((e,t)=>{var n=e,{className:r}=n,i=m(n,["className"]);return x.jsx("p",h({ref:t,className:en("text-sm text-muted-foreground",r)},i))}).displayName="CardDescription",k.forwardRef((e,t)=>{var n=e,{className:r}=n,i=m(n,["className"]);return x.jsx("div",h({ref:t,className:en("p-6 pt-0",r)},i))}).displayName="CardContent",k.forwardRef((e,t)=>{var n=e,{className:r}=n,i=m(n,["className"]);return x.jsx("div",h({ref:t,className:en("flex items-center p-6 pt-0",r)},i))}).displayName="CardFooter";var on=W();const ln=i(on);var cn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const n=Le(`Primitive.${t}`),r=k.forwardRef((e,r)=>{const i=e,{asChild:a}=i,s=m(i,["asChild"]),o=a?n:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),x.jsx(o,f(h({},s),{ref:r}))});return r.displayName=`Primitive.${t}`,f(h({},e),{[t]:r})},{});function un(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(null==e||e(r),!1===n||!r.defaultPrevented)return null==t?void 0:t(r)}}function dn(e,t=[]){let n=[];const r=()=>{const t=n.map(e=>k.createContext(e));return function(n){const r=(null==n?void 0:n[e])||t;return k.useMemo(()=>({[`__scope${e}`]:f(h({},n),{[e]:r})}),[n,r])}};return r.scopeName=e,[function(t,r){const i=k.createContext(r),a=n.length;n=[...n,r];const s=t=>{var n;const r=t,{scope:s,children:o}=r,l=m(r,["scope","children"]),c=(null==(n=null==s?void 0:s[e])?void 0:n[a])||i,u=k.useMemo(()=>l,Object.values(l));return x.jsx(c.Provider,{value:u,children:o})};return s.displayName=t+"Provider",[s,function(n,s){var o;const l=(null==(o=null==s?void 0:s[e])?void 0:o[a])||i,c=k.useContext(l);if(c)return c;if(void 0!==r)return r;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},hn(r,...t)]}function hn(...e){const t=e[0];if(1===e.length)return t;const n=()=>{const n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){const r=n.reduce((t,{useScope:n,scopeName:r})=>{const i=n(e)[`__scope${r}`];return h(h({},t),i)},{});return k.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return n.scopeName=t.scopeName,n}function fn(e){const t=e+"CollectionProvider",[n,r]=dn(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=e=>{const{scope:t,children:n}=e,r=N.useRef(null),a=N.useRef(new Map).current;return x.jsx(i,{scope:t,itemMap:a,collectionRef:r,children:n})};s.displayName=t;const o=e+"CollectionSlot",l=Le(o),c=N.forwardRef((e,t)=>{const{scope:n,children:r}=e,i=ze(t,a(o,n).collectionRef);return x.jsx(l,{ref:i,children:r})});c.displayName=o;const u=e+"CollectionItemSlot",d="data-radix-collection-item",p=Le(u),g=N.forwardRef((e,t)=>{const n=e,{scope:r,children:i}=n,s=m(n,["scope","children"]),o=N.useRef(null),l=ze(t,o),c=a(u,r);return N.useEffect(()=>(c.itemMap.set(o,h({ref:o},s)),()=>{c.itemMap.delete(o)})),x.jsx(p,f(h({},{[d]:""}),{ref:l,children:i}))});return g.displayName=u,[{Provider:s,Slot:c,ItemSlot:g},function(t){const n=a(e+"CollectionConsumer",t);return N.useCallback(()=>{const e=n.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${d}]`));return Array.from(n.itemMap.values()).sort((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current))},[n.collectionRef,n.itemMap])},r]}var mn=(null==globalThis?void 0:globalThis.document)?k.useLayoutEffect:()=>{},pn=S[" useId ".trim().toString()]||(()=>{}),gn=0;function vn(e){const[t,n]=k.useState(pn());return mn(()=>{n(e=>null!=e?e:String(gn++))},[e]),t?`radix-${t}`:""}function yn(e){const t=k.useRef(e);return k.useEffect(()=>{t.current=e}),k.useMemo(()=>(...e)=>{var n;return null==(n=t.current)?void 0:n.call(t,...e)},[])}var xn=S[" useInsertionEffect ".trim().toString()]||mn;function bn({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,s]=function({defaultProp:e,onChange:t}){const[n,r]=k.useState(e),i=k.useRef(n),a=k.useRef(t);return xn(()=>{a.current=t},[t]),k.useEffect(()=>{var e;i.current!==n&&(null==(e=a.current)||e.call(a,n),i.current=n)},[n,i]),[n,r,a]}({defaultProp:t,onChange:n}),o=void 0!==e,l=o?e:i;{const t=k.useRef(void 0!==e);k.useEffect(()=>{t.current;t.current=o},[o,r])}const c=k.useCallback(t=>{var n;if(o){const r=function(e){return"function"==typeof e}(t)?t(e):t;r!==e&&(null==(n=s.current)||n.call(s,r))}else a(t)},[o,e,a,s]);return[l,c]}var wn=k.createContext(void 0);function _n(e){const[t,n]=k.useState(void 0);return mn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver(t=>{if(!Array.isArray(t))return;if(!t.length)return;const r=t[0];let i,a;if("borderBoxSize"in r){const e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;i=t.inlineSize,a=t.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),t}function jn(e){const t=k.useRef({value:e,previous:e});return k.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var kn=e=>{const{present:t,children:n}=e,r=function(e){const[t,n]=k.useState(),r=k.useRef(null),i=k.useRef(e),a=k.useRef("none"),s=e?"mounted":"unmounted",[o,l]=function(e,t){return k.useReducer((e,n)=>{const r=t[e][n];return null!=r?r:e},e)}(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return k.useEffect(()=>{const e=Nn(r.current);a.current="mounted"===o?e:"none"},[o]),mn(()=>{const t=r.current,n=i.current;if(n!==e){const r=a.current,s=Nn(t);e?l("MOUNT"):"none"===s||"none"===(null==t?void 0:t.display)?l("UNMOUNT"):l(n&&r!==s?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),mn(()=>{var e;if(t){let n;const s=null!=(e=t.ownerDocument.defaultView)?e:window,o=e=>{const a=Nn(r.current).includes(e.animationName);if(e.target===t&&a&&(l("ANIMATION_END"),!i.current)){const e=t.style.animationFillMode;t.style.animationFillMode="forwards",n=s.setTimeout(()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=e)})}},c=e=>{e.target===t&&(a.current=Nn(r.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",o),t.addEventListener("animationend",o),()=>{s.clearTimeout(n),t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",o),t.removeEventListener("animationend",o)}}l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:k.useCallback(e=>{r.current=e?getComputedStyle(e):null,n(e)},[])}}(t),i="function"==typeof n?n({present:r.isPresent}):k.Children.only(n),a=ze(r.ref,function(e){var t,n;let r=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?e.ref:(r=null==(n=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:n.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}(i));return"function"==typeof n||r.isPresent?k.cloneElement(i,{ref:a}):null};function Nn(e){return(null==e?void 0:e.animationName)||"none"}function Sn(e,[t,n]){return Math.min(n,Math.max(t,e))}kn.displayName="Presence";var Cn,En="dismissableLayer.update",Pn="dismissableLayer.pointerDownOutside",Mn="dismissableLayer.focusOutside",On=k.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),An=k.forwardRef((e,t)=>{var n;const r=e,{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:l,onDismiss:c}=r,u=m(r,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),d=k.useContext(On),[p,g]=k.useState(null),v=null!=(n=null==p?void 0:p.ownerDocument)?n:null==globalThis?void 0:globalThis.document,[,y]=k.useState({}),b=ze(t,e=>g(e)),w=Array.from(d.layers),[_]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),j=w.indexOf(_),N=p?w.indexOf(p):-1,S=d.layersWithOutsidePointerEventsDisabled.size>0,C=N>=j,E=function(e,t=(null==globalThis?void 0:globalThis.document)){const n=yn(e),r=k.useRef(!1),i=k.useRef(()=>{});return k.useEffect(()=>{const e=e=>{if(e.target&&!r.current){let r=function(){Dn(Pn,n,a,{discrete:!0})};const a={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=r,t.addEventListener("click",i.current,{once:!0})):r()}else t.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}(e=>{const t=e.target,n=[...d.branches].some(e=>e.contains(t));C&&!n&&(null==s||s(e),null==l||l(e),e.defaultPrevented||null==c||c())},v),P=function(e,t=(null==globalThis?void 0:globalThis.document)){const n=yn(e),r=k.useRef(!1);return k.useEffect(()=>{const e=e=>{e.target&&!r.current&&Dn(Mn,n,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}(e=>{const t=e.target;[...d.branches].some(e=>e.contains(t))||(null==o||o(e),null==l||l(e),e.defaultPrevented||null==c||c())},v);return function(e,t=(null==globalThis?void 0:globalThis.document)){const n=yn(e);k.useEffect(()=>{const e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[n,t])}(e=>{N===d.layers.size-1&&(null==a||a(e),!e.defaultPrevented&&c&&(e.preventDefault(),c()))},v),k.useEffect(()=>{if(p)return i&&(0===d.layersWithOutsidePointerEventsDisabled.size&&(Cn=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(p)),d.layers.add(p),Tn(),()=>{i&&1===d.layersWithOutsidePointerEventsDisabled.size&&(v.body.style.pointerEvents=Cn)}},[p,v,i,d]),k.useEffect(()=>()=>{p&&(d.layers.delete(p),d.layersWithOutsidePointerEventsDisabled.delete(p),Tn())},[p,d]),k.useEffect(()=>{const e=()=>y({});return document.addEventListener(En,e),()=>document.removeEventListener(En,e)},[]),x.jsx(cn.div,f(h({},u),{ref:b,style:h({pointerEvents:S?C?"auto":"none":void 0},e.style),onFocusCapture:un(e.onFocusCapture,P.onFocusCapture),onBlurCapture:un(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:un(e.onPointerDownCapture,E.onPointerDownCapture)}))});function Tn(){const e=new CustomEvent(En);document.dispatchEvent(e)}function Dn(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?function(e,t){e&&on.flushSync(()=>e.dispatchEvent(t))}(i,a):i.dispatchEvent(a)}An.displayName="DismissableLayer",k.forwardRef((e,t)=>{const n=k.useContext(On),r=k.useRef(null),i=ze(t,r);return k.useEffect(()=>{const e=r.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),x.jsx(cn.div,f(h({},e),{ref:i}))}).displayName="DismissableLayerBranch";var Rn=0;function In(){k.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!=(e=n[0])?e:zn()),document.body.insertAdjacentElement("beforeend",null!=(t=n[1])?t:zn()),Rn++,()=>{1===Rn&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Rn--}},[])}function zn(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ln="focusScope.autoFocusOnMount",Fn="focusScope.autoFocusOnUnmount",Bn={bubbles:!1,cancelable:!0},Wn=k.forwardRef((e,t)=>{const n=e,{loop:r=!1,trapped:i=!1,onMountAutoFocus:a,onUnmountAutoFocus:s}=n,o=m(n,["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"]),[l,c]=k.useState(null),u=yn(a),d=yn(s),p=k.useRef(null),g=ze(t,e=>c(e)),v=k.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;k.useEffect(()=>{if(i){let e=function(e){if(v.paused||!l)return;const t=e.target;l.contains(t)?p.current=t:Hn(p.current,{select:!0})},t=function(e){if(v.paused||!l)return;const t=e.relatedTarget;null!==t&&(l.contains(t)||Hn(p.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&Hn(l)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const r=new MutationObserver(n);return l&&r.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[i,l,v.paused]),k.useEffect(()=>{if(l){Un.add(v);const e=document.activeElement;if(!l.contains(e)){const t=new CustomEvent(Ln,Bn);l.addEventListener(Ln,u),l.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Hn(r,{select:t}),document.activeElement!==n)return}(Vn(l).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&Hn(l))}return()=>{l.removeEventListener(Ln,u),setTimeout(()=>{const t=new CustomEvent(Fn,Bn);l.addEventListener(Fn,d),l.dispatchEvent(t),t.defaultPrevented||Hn(null!=e?e:document.body,{select:!0}),l.removeEventListener(Fn,d),Un.remove(v)},0)}}},[l,u,d,v]);const y=k.useCallback(e=>{if(!r&&!i)return;if(v.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=document.activeElement;if(t&&n){const t=e.currentTarget,[i,a]=function(e){const t=Vn(e),n=$n(t,e),r=$n(t.reverse(),e);return[n,r]}(t);i&&a?e.shiftKey||n!==a?e.shiftKey&&n===i&&(e.preventDefault(),r&&Hn(a,{select:!0})):(e.preventDefault(),r&&Hn(i,{select:!0})):n===t&&e.preventDefault()}},[r,i,v.paused]);return x.jsx(cn.div,f(h({tabIndex:-1},o),{ref:g,onKeyDown:y}))});function Vn(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function $n(e,t){for(const n of e)if(!Kn(n,{upTo:t}))return n}function Kn(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function Hn(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}Wn.displayName="FocusScope";var Un=function(){let e=[];return{add(t){const n=e[0];t!==n&&(null==n||n.pause()),e=Yn(e,t),e.unshift(t)},remove(t){var n;e=Yn(e,t),null==(n=e[0])||n.resume()}}}();function Yn(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}const qn=["top","right","bottom","left"],Gn=Math.min,Xn=Math.max,Qn=Math.round,Zn=Math.floor,Jn=e=>({x:e,y:e}),er={left:"right",right:"left",bottom:"top",top:"bottom"},tr={start:"end",end:"start"};function nr(e,t,n){return Xn(e,Gn(t,n))}function rr(e,t){return"function"==typeof e?e(t):e}function ir(e){return e.split("-")[0]}function ar(e){return e.split("-")[1]}function sr(e){return"x"===e?"y":"x"}function or(e){return"y"===e?"height":"width"}function lr(e){return["top","bottom"].includes(ir(e))?"y":"x"}function cr(e){return sr(lr(e))}function ur(e){return e.replace(/start|end/g,e=>tr[e])}function dr(e){return e.replace(/left|right|bottom|top/g,e=>er[e])}function hr(e){return"number"!=typeof e?function(e){return h({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function fr(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function mr(e,t,n){let{reference:r,floating:i}=e;const a=lr(t),s=cr(t),o=or(s),l=ir(t),c="y"===a,u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[o]/2-i[o]/2;let f;switch(l){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-i.width,y:d};break;default:f={x:r.x,y:r.y}}switch(ar(t)){case"start":f[s]-=h*(n&&c?-1:1);break;case"end":f[s]+=h*(n&&c?-1:1)}return f}function pr(e,t){return g(this,null,function*(){var n;void 0===t&&(t={});const{x:r,y:i,platform:a,rects:s,elements:o,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=rr(t,e),m=hr(f),p=o[h?"floating"===d?"reference":"floating":d],g=fr(yield a.getClippingRect({element:null==(n=yield null==a.isElement?void 0:a.isElement(p))||n?p:p.contextElement||(yield null==a.getDocumentElement?void 0:a.getDocumentElement(o.floating)),boundary:c,rootBoundary:u,strategy:l})),v="floating"===d?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,y=yield null==a.getOffsetParent?void 0:a.getOffsetParent(o.floating),x=(yield null==a.isElement?void 0:a.isElement(y))&&(yield null==a.getScale?void 0:a.getScale(y))||{x:1,y:1},b=fr(a.convertOffsetParentRelativeRectToViewportRelativeRect?yield a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:v,offsetParent:y,strategy:l}):v);return{top:(g.top-b.top+m.top)/x.y,bottom:(b.bottom-g.bottom+m.bottom)/x.y,left:(g.left-b.left+m.left)/x.x,right:(b.right-g.right+m.right)/x.x}})}function gr(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function vr(e){return qn.some(t=>e[t]>=0)}function yr(){return"undefined"!=typeof window}function xr(e){return _r(e)?(e.nodeName||"").toLowerCase():"#document"}function br(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function wr(e){var t;return null==(t=(_r(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function _r(e){return!!yr()&&(e instanceof Node||e instanceof br(e).Node)}function jr(e){return!!yr()&&(e instanceof Element||e instanceof br(e).Element)}function kr(e){return!!yr()&&(e instanceof HTMLElement||e instanceof br(e).HTMLElement)}function Nr(e){return!(!yr()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof br(e).ShadowRoot)}function Sr(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Ar(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function Cr(e){return["table","td","th"].includes(xr(e))}function Er(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch(n){return!1}})}function Pr(e){const t=Mr(),n=jr(e)?Ar(e):e;return["transform","translate","scale","rotate","perspective"].some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","translate","scale","rotate","perspective","filter"].some(e=>(n.willChange||"").includes(e))||["paint","layout","strict","content"].some(e=>(n.contain||"").includes(e))}function Mr(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function Or(e){return["html","body","#document"].includes(xr(e))}function Ar(e){return br(e).getComputedStyle(e)}function Tr(e){return jr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Dr(e){if("html"===xr(e))return e;const t=e.assignedSlot||e.parentNode||Nr(e)&&e.host||wr(e);return Nr(t)?t.host:t}function Rr(e){const t=Dr(e);return Or(t)?e.ownerDocument?e.ownerDocument.body:e.body:kr(t)&&Sr(t)?t:Rr(t)}function Ir(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=Rr(e),a=i===(null==(r=e.ownerDocument)?void 0:r.body),s=br(i);if(a){const e=zr(s);return t.concat(s,s.visualViewport||[],Sr(i)?i:[],e&&n?Ir(e):[])}return t.concat(i,Ir(i,[],n))}function zr(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Lr(e){const t=Ar(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=kr(e),a=i?e.offsetWidth:n,s=i?e.offsetHeight:r,o=Qn(n)!==a||Qn(r)!==s;return o&&(n=a,r=s),{width:n,height:r,$:o}}function Fr(e){return jr(e)?e:e.contextElement}function Br(e){const t=Fr(e);if(!kr(t))return Jn(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=Lr(t);let s=(a?Qn(n.width):n.width)/r,o=(a?Qn(n.height):n.height)/i;return s&&Number.isFinite(s)||(s=1),o&&Number.isFinite(o)||(o=1),{x:s,y:o}}const Wr=Jn(0);function Vr(e){const t=br(e);return Mr()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Wr}function $r(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),a=Fr(e);let s=Jn(1);t&&(r?jr(r)&&(s=Br(r)):s=Br(e));const o=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==br(e))&&t}(a,n,r)?Vr(a):Jn(0);let l=(i.left+o.x)/s.x,c=(i.top+o.y)/s.y,u=i.width/s.x,d=i.height/s.y;if(a){const e=br(a),t=r&&jr(r)?br(r):r;let n=e,i=zr(n);for(;i&&r&&t!==n;){const e=Br(i),t=i.getBoundingClientRect(),r=Ar(i),a=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,s=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=a,c+=s,n=br(i),i=zr(n)}}return fr({width:u,height:d,x:l,y:c})}function Kr(e,t){const n=Tr(e).scrollLeft;return t?t.left+n:$r(wr(e)).left+n}function Hr(e,t,n){void 0===n&&(n=!1);const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:Kr(e,r)),y:r.top+t.scrollTop}}function Ur(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=br(e),r=wr(e),i=n.visualViewport;let a=r.clientWidth,s=r.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;const e=Mr();(!e||e&&"fixed"===t)&&(o=i.offsetLeft,l=i.offsetTop)}return{width:a,height:s,x:o,y:l}}(e,n);else if("document"===t)r=function(e){const t=wr(e),n=Tr(e),r=e.ownerDocument.body,i=Xn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Xn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Kr(e);const o=-n.scrollTop;return"rtl"===Ar(r).direction&&(s+=Xn(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:s,y:o}}(wr(e));else if(jr(t))r=function(e,t){const n=$r(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=kr(e)?Br(e):Jn(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:i*a.x,y:r*a.y}}(t,n);else{const n=Vr(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return fr(r)}function Yr(e,t){const n=Dr(e);return!(n===t||!jr(n)||Or(n))&&("fixed"===Ar(n).position||Yr(n,t))}function qr(e,t,n){const r=kr(t),i=wr(t),a="fixed"===n,s=$r(e,!0,a,t);let o={scrollLeft:0,scrollTop:0};const l=Jn(0);function c(){l.x=Kr(i)}if(r||!r&&!a)if(("body"!==xr(t)||Sr(i))&&(o=Tr(t)),r){const e=$r(t,!0,a,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&c();a&&!r&&i&&c();const u=!i||r||a?Jn(0):Hr(i,o);return{x:s.left+o.scrollLeft-l.x-u.x,y:s.top+o.scrollTop-l.y-u.y,width:s.width,height:s.height}}function Gr(e){return"static"===Ar(e).position}function Xr(e,t){if(!kr(e)||"fixed"===Ar(e).position)return null;if(t)return t(e);let n=e.offsetParent;return wr(e)===n&&(n=n.ownerDocument.body),n}function Qr(e,t){const n=br(e);if(Er(e))return n;if(!kr(e)){let t=Dr(e);for(;t&&!Or(t);){if(jr(t)&&!Gr(t))return t;t=Dr(t)}return n}let r=Xr(e,t);for(;r&&Cr(r)&&Gr(r);)r=Xr(r,t);return r&&Or(r)&&Gr(r)&&!Pr(r)?n:r||function(e){let t=Dr(e);for(;kr(t)&&!Or(t);){if(Pr(t))return t;if(Er(t))return null;t=Dr(t)}return null}(e)||n}const Zr={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a="fixed"===i,s=wr(r),o=!!t&&Er(t.floating);if(r===s||o&&a)return n;let l={scrollLeft:0,scrollTop:0},c=Jn(1);const u=Jn(0),d=kr(r);if((d||!d&&!a)&&(("body"!==xr(r)||Sr(s))&&(l=Tr(r)),kr(r))){const e=$r(r);c=Br(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}const h=!s||d||a?Jn(0):Hr(s,l,!0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}},getDocumentElement:wr,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[..."clippingAncestors"===n?Er(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=Ir(e,[],!1).filter(e=>jr(e)&&"body"!==xr(e)),i=null;const a="fixed"===Ar(e).position;let s=a?Dr(e):e;for(;jr(s)&&!Or(s);){const t=Ar(s),n=Pr(s);n||"fixed"!==t.position||(i=null),(a?!n&&!i:!n&&"static"===t.position&&i&&["absolute","fixed"].includes(i.position)||Sr(s)&&!n&&Yr(e,s))?r=r.filter(e=>e!==s):i=t,s=Dr(s)}return t.set(e,r),r}(t,this._c):[].concat(n),r],s=a[0],o=a.reduce((e,n)=>{const r=Ur(t,n,i);return e.top=Xn(r.top,e.top),e.right=Gn(r.right,e.right),e.bottom=Gn(r.bottom,e.bottom),e.left=Xn(r.left,e.left),e},Ur(t,s,i));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}},getOffsetParent:Qr,getElementRects:function(e){return g(this,null,function*(){const t=this.getOffsetParent||Qr,n=this.getDimensions,r=yield n(e.floating);return{reference:qr(e.reference,yield t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}})},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=Lr(e);return{width:t,height:n}},getScale:Br,isElement:jr,isRTL:function(e){return"rtl"===Ar(e).direction}};function Jr(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function ei(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s="function"==typeof ResizeObserver,layoutShift:o="function"==typeof IntersectionObserver,animationFrame:l=!1}=r,c=Fr(e),u=i||a?[...c?Ir(c):[],...Ir(t)]:[];u.forEach(e=>{i&&e.addEventListener("scroll",n,{passive:!0}),a&&e.addEventListener("resize",n)});const d=c&&o?function(e,t){let n,r=null;const i=wr(e);function a(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function s(o,l){void 0===o&&(o=!1),void 0===l&&(l=1),a();const c=e.getBoundingClientRect(),{left:u,top:d,width:m,height:p}=c;if(o||t(),!m||!p)return;const g={rootMargin:-Zn(d)+"px "+-Zn(i.clientWidth-(u+m))+"px "+-Zn(i.clientHeight-(d+p))+"px "+-Zn(u)+"px",threshold:Xn(0,Gn(1,l))||1};let v=!0;function y(t){const r=t[0].intersectionRatio;if(r!==l){if(!v)return s();r?s(!1,r):n=setTimeout(()=>{s(!1,1e-7)},1e3)}1!==r||Jr(c,e.getBoundingClientRect())||s(),v=!1}try{r=new IntersectionObserver(y,f(h({},g),{root:i.ownerDocument}))}catch(x){r=new IntersectionObserver(y,g)}r.observe(e)}(!0),a}(c,n):null;let m,p=-1,g=null;s&&(g=new ResizeObserver(e=>{let[r]=e;r&&r.target===c&&g&&(g.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=g)||e.observe(t)})),n()}),c&&!l&&g.observe(c),g.observe(t));let v=l?$r(e):null;return l&&function t(){const r=$r(e);v&&!Jr(v,r)&&n(),v=r,m=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach(e=>{i&&e.removeEventListener("scroll",n),a&&e.removeEventListener("resize",n)}),null==d||d(),null==(e=g)||e.disconnect(),g=null,l&&cancelAnimationFrame(m)}}const ti=function(e){return void 0===e&&(e=0),{name:"offset",options:e,fn(t){return g(this,null,function*(){var n,r;const{x:i,y:a,placement:s,middlewareData:o}=t,l=yield function(e,t){return g(this,null,function*(){const{placement:n,platform:r,elements:i}=e,a=yield null==r.isRTL?void 0:r.isRTL(i.floating),s=ir(n),o=ar(n),l="y"===lr(n),c=["left","top"].includes(s)?-1:1,u=a&&l?-1:1,d=rr(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:m}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return o&&"number"==typeof m&&(f="end"===o?-1*m:m),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}})}(t,e);return s===(null==(n=o.offset)?void 0:n.placement)&&null!=(r=o.arrow)&&r.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:f(h({},l),{placement:s})}})}}},ni=function(e){return void 0===e&&(e={}),{name:"shift",options:e,fn(t){return g(this,null,function*(){const{x:n,y:r,placement:i}=t,a=rr(e,t),{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}}}=a,c=m(a,["mainAxis","crossAxis","limiter"]),u={x:n,y:r},d=yield pr(t,c),p=lr(ir(i)),g=sr(p);let v=u[g],y=u[p];if(s){const e="y"===g?"bottom":"right";v=nr(v+d["y"===g?"top":"left"],v,v-d[e])}if(o){const e="y"===p?"bottom":"right";y=nr(y+d["y"===p?"top":"left"],y,y-d[e])}const x=l.fn(f(h({},t),{[g]:v,[p]:y}));return f(h({},x),{data:{x:x.x-n,y:x.y-r,enabled:{[g]:s,[p]:o}}})})}}},ri=function(e){return void 0===e&&(e={}),{name:"flip",options:e,fn(t){return g(this,null,function*(){var n,r;const{placement:i,middlewareData:a,rects:s,initialPlacement:o,platform:l,elements:c}=t,u=rr(e,t),{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0}=u,y=m(u,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if(null!=(n=a.arrow)&&n.alignmentOffset)return{};const x=ir(i),b=lr(o),w=ir(o)===o,_=yield null==l.isRTL?void 0:l.isRTL(c.floating),j=f||(w||!v?[dr(o)]:function(e){const t=dr(e);return[ur(e),t,ur(t)]}(o)),k="none"!==g;!f&&k&&j.push(...function(e,t,n,r){const i=ar(e);let a=function(e,t,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?a:s;default:return[]}}(ir(e),"start"===n,r);return i&&(a=a.map(e=>e+"-"+i),t&&(a=a.concat(a.map(ur)))),a}(o,v,g,_));const N=[o,...j],S=yield pr(t,y),C=[];let E=(null==(r=a.flip)?void 0:r.overflows)||[];if(d&&C.push(S[x]),h){const e=function(e,t,n){void 0===n&&(n=!1);const r=ar(e),i=cr(e),a=or(i);let s="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[a]>t.floating[a]&&(s=dr(s)),[s,dr(s)]}(i,s,_);C.push(S[e[0]],S[e[1]])}if(E=[...E,{placement:i,overflows:C}],!C.every(e=>e<=0)){var P,M;const e=((null==(P=a.flip)?void 0:P.index)||0)+1,t=N[e];if(t&&("alignment"!==h||b===lr(t)||E.every(e=>e.overflows[0]>0&&lr(e.placement)===b)))return{data:{index:e,overflows:E},reset:{placement:t}};let n=null==(M=E.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:M.placement;if(!n)switch(p){case"bestFit":{var O;const e=null==(O=E.filter(e=>{if(k){const t=lr(e.placement);return t===b||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:O[0];e&&(n=e);break}case"initialPlacement":n=o}if(i!==n)return{reset:{placement:n}}}return{}})}}},ii=function(e){return void 0===e&&(e={}),{name:"size",options:e,fn(t){return g(this,null,function*(){var n,r;const{placement:i,rects:a,platform:s,elements:o}=t,l=rr(e,t),{apply:c=()=>{}}=l,u=m(l,["apply"]),d=yield pr(t,u),p=ir(i),g=ar(i),v="y"===lr(i),{width:y,height:x}=a.floating;let b,w;"top"===p||"bottom"===p?(b=p,w=g===((yield null==s.isRTL?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(w=p,b="end"===g?"top":"bottom");const _=x-d.top-d.bottom,j=y-d.left-d.right,k=Gn(x-d[b],_),N=Gn(y-d[w],j),S=!t.middlewareData.shift;let C=k,E=N;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(E=j),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(C=_),S&&!g){const e=Xn(d.left,0),t=Xn(d.right,0),n=Xn(d.top,0),r=Xn(d.bottom,0);v?E=y-2*(0!==e||0!==t?e+t:Xn(d.left,d.right)):C=x-2*(0!==n||0!==r?n+r:Xn(d.top,d.bottom))}yield c(f(h({},t),{availableWidth:E,availableHeight:C}));const P=yield s.getDimensions(o.floating);return y!==P.width||x!==P.height?{reset:{rects:!0}}:{}})}}},ai=function(e){return void 0===e&&(e={}),{name:"hide",options:e,fn(t){return g(this,null,function*(){const{rects:n}=t,r=rr(e,t),{strategy:i="referenceHidden"}=r,a=m(r,["strategy"]);switch(i){case"referenceHidden":{const e=gr(yield pr(t,f(h({},a),{elementContext:"reference"})),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:vr(e)}}}case"escaped":{const e=gr(yield pr(t,f(h({},a),{altBoundary:!0})),n.floating);return{data:{escapedOffsets:e,escaped:vr(e)}}}default:return{}}})}}},si=e=>({name:"arrow",options:e,fn(t){return g(this,null,function*(){const{x:n,y:r,placement:i,rects:a,platform:s,elements:o,middlewareData:l}=t,{element:c,padding:u=0}=rr(e,t)||{};if(null==c)return{};const d=hr(u),f={x:n,y:r},m=cr(i),p=or(m),g=yield s.getDimensions(c),v="y"===m,y=v?"top":"left",x=v?"bottom":"right",b=v?"clientHeight":"clientWidth",w=a.reference[p]+a.reference[m]-f[m]-a.floating[p],_=f[m]-a.reference[m],j=yield null==s.getOffsetParent?void 0:s.getOffsetParent(c);let k=j?j[b]:0;k&&(yield null==s.isElement?void 0:s.isElement(j))||(k=o.floating[b]||a.floating[p]);const N=w/2-_/2,S=k/2-g[p]/2-1,C=Gn(d[y],S),E=Gn(d[x],S),P=C,M=k-g[p]-E,O=k/2-g[p]/2+N,A=nr(P,O,M),T=!l.arrow&&null!=ar(i)&&O!==A&&a.reference[p]/2-(O<P?C:E)-g[p]/2<0,D=T?O<P?O-P:O-M:0;return{[m]:f[m]+D,data:h({[m]:A,centerOffset:O-A-D},T&&{alignmentOffset:D}),reset:T}})}}),oi=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:a,middlewareData:s}=t,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=rr(e,t),u={x:n,y:r},d=lr(i),f=sr(d);let m=u[f],p=u[d];const g=rr(o,t),v="number"==typeof g?{mainAxis:g,crossAxis:0}:h({mainAxis:0,crossAxis:0},g);if(l){const e="y"===f?"height":"width",t=a.reference[f]-a.floating[e]+v.mainAxis,n=a.reference[f]+a.reference[e]-v.mainAxis;m<t?m=t:m>n&&(m=n)}if(c){var y,x;const e="y"===f?"width":"height",t=["top","left"].includes(ir(i)),n=a.reference[d]-a.floating[e]+(t&&(null==(y=s.offset)?void 0:y[d])||0)+(t?0:v.crossAxis),r=a.reference[d]+a.reference[e]+(t?0:(null==(x=s.offset)?void 0:x[d])||0)-(t?v.crossAxis:0);p<n?p=n:p>r&&(p=r)}return{[f]:m,[d]:p}}}},li=(e,t,n)=>{const r=new Map,i=h({platform:Zr},n),a=f(h({},i.platform),{_c:r});return((e,t,n)=>g(null,null,function*(){const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:s}=n,o=a.filter(Boolean),l=yield null==s.isRTL?void 0:s.isRTL(t);let c=yield s.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=mr(c,r,l),m=r,p={},g=0;for(let n=0;n<o.length;n++){const{name:a,fn:v}=o[n],{x:y,y:x,data:b,reset:w}=yield v({x:u,y:d,initialPlacement:r,placement:m,strategy:i,middlewareData:p,rects:c,platform:s,elements:{reference:e,floating:t}});u=null!=y?y:u,d=null!=x?x:d,p=f(h({},p),{[a]:h(h({},p[a]),b)}),w&&g<=50&&(g++,"object"==typeof w&&(w.placement&&(m=w.placement),w.rects&&(c=!0===w.rects?yield s.getElementRects({reference:e,floating:t,strategy:i}):w.rects),({x:u,y:d}=mr(c,m,l))),n=-1)}return{x:u,y:d,placement:m,strategy:i,middlewareData:p}}))(e,t,f(h({},i),{platform:a}))};var ci="undefined"!=typeof document?k.useLayoutEffect:function(){};function ui(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!ui(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!==r--;){const n=i[r];if(!("_owner"===n&&e.$$typeof||ui(e[n],t[n])))return!1}return!0}return e!=e&&t!=t}function di(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function hi(e,t){const n=di(e);return Math.round(t*n)/n}function fi(e){const t=k.useRef(e);return ci(()=>{t.current=e}),t}const mi=(e,t)=>f(h({},ni(e)),{options:[e,t]}),pi=(e,t)=>f(h({},oi(e)),{options:[e,t]}),gi=(e,t)=>f(h({},ri(e)),{options:[e,t]}),vi=(e,t)=>f(h({},ii(e)),{options:[e,t]}),yi=(e,t)=>f(h({},ai(e)),{options:[e,t]}),xi=(e,t)=>f(h({},(e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"==typeof e?e(t):e;return n&&(i=n,{}.hasOwnProperty.call(i,"current"))?null!=n.current?si({element:n.current,padding:r}).fn(t):{}:n?si({element:n,padding:r}).fn(t):{};var i}}))(e)),{options:[e,t]});var bi=k.forwardRef((e,t)=>{const n=e,{children:r,width:i=10,height:a=5}=n,s=m(n,["children","width","height"]);return x.jsx(cn.svg,f(h({},s),{ref:t,width:i,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:x.jsx("polygon",{points:"0,0 30,0 15,10"})}))});bi.displayName="Arrow";var wi=bi,_i="Popper",[ji,ki]=dn(_i),[Ni,Si]=ji(_i),Ci=e=>{const{__scopePopper:t,children:n}=e,[r,i]=k.useState(null);return x.jsx(Ni,{scope:t,anchor:r,onAnchorChange:i,children:n})};Ci.displayName=_i;var Ei="PopperAnchor",Pi=k.forwardRef((e,t)=>{const n=e,{__scopePopper:r,virtualRef:i}=n,a=m(n,["__scopePopper","virtualRef"]),s=Si(Ei,r),o=k.useRef(null),l=ze(t,o);return k.useEffect(()=>{s.onAnchorChange((null==i?void 0:i.current)||o.current)}),i?null:x.jsx(cn.div,f(h({},a),{ref:l}))});Pi.displayName=Ei;var Mi="PopperContent",[Oi,Ai]=ji(Mi),Ti=k.forwardRef((e,t)=>{var n,r,i,a,s,o,l,c;const u=e,{__scopePopper:d,side:p="bottom",sideOffset:g=0,align:v="center",alignOffset:y=0,arrowPadding:b=0,avoidCollisions:w=!0,collisionBoundary:_=[],collisionPadding:j=0,sticky:N="partial",hideWhenDetached:S=!1,updatePositionStrategy:C="optimized",onPlaced:E}=u,P=m(u,["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"]),M=Si(Mi,d),[O,A]=k.useState(null),T=ze(t,e=>A(e)),[D,R]=k.useState(null),I=_n(D),z=null!=(n=null==I?void 0:I.width)?n:0,L=null!=(r=null==I?void 0:I.height)?r:0,F=p+("center"!==v?"-"+v:""),B="number"==typeof j?j:h({top:0,right:0,bottom:0,left:0},j),W=Array.isArray(_)?_:[_],V=W.length>0,$={padding:B,boundary:W.filter(zi),altBoundary:V},{refs:K,floatingStyles:H,placement:U,isPositioned:Y,middlewareData:q}=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:s}={},transform:o=!0,whileElementsMounted:l,open:c}=e,[u,d]=k.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=k.useState(r);ui(m,r)||p(r);const[g,v]=k.useState(null),[y,x]=k.useState(null),b=k.useCallback(e=>{e!==N.current&&(N.current=e,v(e))},[]),w=k.useCallback(e=>{e!==S.current&&(S.current=e,x(e))},[]),_=a||g,j=s||y,N=k.useRef(null),S=k.useRef(null),C=k.useRef(u),E=null!=l,P=fi(l),M=fi(i),O=fi(c),A=k.useCallback(()=>{if(!N.current||!S.current)return;const e={placement:t,strategy:n,middleware:m};M.current&&(e.platform=M.current),li(N.current,S.current,e).then(e=>{const t=f(h({},e),{isPositioned:!1!==O.current});T.current&&!ui(C.current,t)&&(C.current=t,on.flushSync(()=>{d(t)}))})},[m,t,n,M,O]);ci(()=>{!1===c&&C.current.isPositioned&&(C.current.isPositioned=!1,d(e=>f(h({},e),{isPositioned:!1})))},[c]);const T=k.useRef(!1);ci(()=>(T.current=!0,()=>{T.current=!1}),[]),ci(()=>{if(_&&(N.current=_),j&&(S.current=j),_&&j){if(P.current)return P.current(_,j,A);A()}},[_,j,A,P,E]);const D=k.useMemo(()=>({reference:N,floating:S,setReference:b,setFloating:w}),[b,w]),R=k.useMemo(()=>({reference:_,floating:j}),[_,j]),I=k.useMemo(()=>{const e={position:n,left:0,top:0};if(!R.floating)return e;const t=hi(R.floating,u.x),r=hi(R.floating,u.y);return o?h(f(h({},e),{transform:"translate("+t+"px, "+r+"px)"}),di(R.floating)>=1.5&&{willChange:"transform"}):{position:n,left:t,top:r}},[n,o,R.floating,u.x,u.y]);return k.useMemo(()=>f(h({},u),{update:A,refs:D,elements:R,floatingStyles:I}),[u,A,D,R,I])}({strategy:"fixed",placement:F,whileElementsMounted:(...e)=>ei(...e,{animationFrame:"always"===C}),elements:{reference:M.anchor},middleware:[(G={mainAxis:g+L,alignmentAxis:y},f(h({},ti(G)),{options:[G,X]})),w&&mi(h({mainAxis:!0,crossAxis:!1,limiter:"partial"===N?pi():void 0},$)),w&&gi(h({},$)),vi(f(h({},$),{apply:({elements:e,rects:t,availableWidth:n,availableHeight:r})=>{const{width:i,height:a}=t.reference,s=e.floating.style;s.setProperty("--radix-popper-available-width",`${n}px`),s.setProperty("--radix-popper-available-height",`${r}px`),s.setProperty("--radix-popper-anchor-width",`${i}px`),s.setProperty("--radix-popper-anchor-height",`${a}px`)}})),D&&xi({element:D,padding:b}),Li({arrowWidth:z,arrowHeight:L}),S&&yi(h({strategy:"referenceHidden"},$))]});var G,X;const[Q,Z]=Fi(U),J=yn(E);mn(()=>{Y&&(null==J||J())},[Y,J]);const ee=null==(i=q.arrow)?void 0:i.x,te=null==(a=q.arrow)?void 0:a.y,ne=0!==(null==(s=q.arrow)?void 0:s.centerOffset),[re,ie]=k.useState();return mn(()=>{O&&ie(window.getComputedStyle(O).zIndex)},[O]),x.jsx("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:h(f(h({},H),{transform:Y?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:re,"--radix-popper-transform-origin":[null==(o=q.transformOrigin)?void 0:o.x,null==(l=q.transformOrigin)?void 0:l.y].join(" ")}),(null==(c=q.hide)?void 0:c.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:x.jsx(Oi,{scope:d,placedSide:Q,onArrowChange:R,arrowX:ee,arrowY:te,shouldHideArrow:ne,children:x.jsx(cn.div,f(h({"data-side":Q,"data-align":Z},P),{ref:T,style:f(h({},P.style),{animation:Y?void 0:"none"})}))})})});Ti.displayName=Mi;var Di="PopperArrow",Ri={top:"bottom",right:"left",bottom:"top",left:"right"},Ii=k.forwardRef(function(e,t){const n=e,{__scopePopper:r}=n,i=m(n,["__scopePopper"]),a=Ai(Di,r),s=Ri[a.placedSide];return x.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:x.jsx(wi,f(h({},i),{ref:t,style:f(h({},i.style),{display:"block"})}))})});function zi(e){return null!==e}Ii.displayName=Di;var Li=e=>({name:"transformOrigin",options:e,fn(t){var n,r,i,a,s;const{placement:o,rects:l,middlewareData:c}=t,u=0!==(null==(n=c.arrow)?void 0:n.centerOffset),d=u?0:e.arrowWidth,h=u?0:e.arrowHeight,[f,m]=Fi(o),p={start:"0%",center:"50%",end:"100%"}[m],g=(null!=(i=null==(r=c.arrow)?void 0:r.x)?i:0)+d/2,v=(null!=(s=null==(a=c.arrow)?void 0:a.y)?s:0)+h/2;let y="",x="";return"bottom"===f?(y=u?p:`${g}px`,x=-h+"px"):"top"===f?(y=u?p:`${g}px`,x=`${l.floating.height+h}px`):"right"===f?(y=-h+"px",x=u?p:`${v}px`):"left"===f&&(y=`${l.floating.width+h}px`,x=u?p:`${v}px`),{data:{x:y,y:x}}}});function Fi(e){const[t,n="center"]=e.split("-");return[t,n]}var Bi=Ci,Wi=Pi,Vi=Ti,$i=Ii,Ki=k.forwardRef((e,t)=>{var n;const r=e,{container:i}=r,a=m(r,["container"]),[s,o]=k.useState(!1);mn(()=>o(!0),[]);const l=i||s&&(null==(n=null==globalThis?void 0:globalThis.document)?void 0:n.body);return l?ln.createPortal(x.jsx(cn.div,f(h({},a),{ref:t})),l):null});Ki.displayName="Portal";var Hi=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"});k.forwardRef((e,t)=>x.jsx(cn.span,f(h({},e),{ref:t,style:h(h({},Hi),e.style)}))).displayName="VisuallyHidden";var Ui=new WeakMap,Yi=new WeakMap,qi={},Gi=0,Xi=function(e){return e&&(e.host||Xi(e.parentNode))},Qi=function(e,t,n,r){var i=function(e,t){return t.map(function(t){if(e.contains(t))return t;var n=Xi(t);return n&&e.contains(n)?n:null}).filter(function(e){return Boolean(e)})}(t,Array.isArray(e)?e:[e]);qi[n]||(qi[n]=new WeakMap);var a=qi[n],s=[],o=new Set,l=new Set(i),c=function(e){e&&!o.has(e)&&(o.add(e),c(e.parentNode))};i.forEach(c);var u=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(o.has(e))u(e);else try{var t=e.getAttribute(r),i=null!==t&&"false"!==t,l=(Ui.get(e)||0)+1,c=(a.get(e)||0)+1;Ui.set(e,l),a.set(e,c),s.push(e),1===l&&i&&Yi.set(e,!0),1===c&&e.setAttribute(n,"true"),i||e.setAttribute(r,"true")}catch(d){}})};return u(t),o.clear(),Gi++,function(){s.forEach(function(e){var t=Ui.get(e)-1,i=a.get(e)-1;Ui.set(e,t),a.set(e,i),t||(Yi.has(e)||e.removeAttribute(r),Yi.delete(e)),i||e.removeAttribute(n)}),--Gi||(Ui=new WeakMap,Ui=new WeakMap,Yi=new WeakMap,qi={})}},Zi=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),Qi(r,i,n,"aria-hidden")):function(){return null}},Ji=function(){return Ji=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ji.apply(this,arguments)};function ea(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}"function"==typeof SuppressedError&&SuppressedError;var ta="right-scroll-bar-position",na="width-before-scroll-bar";function ra(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var ia="undefined"!=typeof window?k.useLayoutEffect:k.useEffect,aa=new WeakMap;function sa(e,t){var n,r,i,a=(n=null,r=function(t){return e.forEach(function(e){return ra(e,t)})},(i=k.useState(function(){return{value:n,callback:r,facade:{get current(){return i.value},set current(e){var t=i.value;t!==e&&(i.value=e,i.callback(e,t))}}}})[0]).callback=r,i.facade);return ia(function(){var t=aa.get(a);if(t){var n=new Set(t),r=new Set(e),i=a.current;n.forEach(function(e){r.has(e)||ra(e,null)}),r.forEach(function(e){n.has(e)||ra(e,i)})}aa.set(a,e)},[e]),a}function oa(e){return e}var la=function(e){var t=e.sideCar,n=ea(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return k.createElement(r,Ji({},n))};la.isSideCarExport=!0;var ca=function(e){void 0===e&&(e={});var t=function(e,t){void 0===t&&(t=oa);var n=[],r=!1;return{read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var i=t(e,r);return n.push(i),function(){n=n.filter(function(e){return e!==i})}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var i=n;n=[],i.forEach(e),t=n}var a=function(){var n=t;t=[],n.forEach(e)},s=function(){return Promise.resolve().then(a)};s(),n={push:function(e){t.push(e),s()},filter:function(e){return t=t.filter(e),n}}}}}(null);return t.options=Ji({async:!0,ssr:!1},e),t}(),ua=function(){},da=k.forwardRef(function(e,t){var n=k.useRef(null),r=k.useState({onScrollCapture:ua,onWheelCapture:ua,onTouchMoveCapture:ua}),i=r[0],a=r[1],s=e.forwardProps,o=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,d=e.shards,h=e.sideCar,f=e.noRelative,m=e.noIsolation,p=e.inert,g=e.allowPinchZoom,v=e.as,y=void 0===v?"div":v,x=e.gapMode,b=ea(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=h,_=sa([n,t]),j=Ji(Ji({},b),i);return k.createElement(k.Fragment,null,u&&k.createElement(w,{sideCar:ca,removeScrollBar:c,shards:d,noRelative:f,noIsolation:m,inert:p,setCallbacks:a,allowPinchZoom:!!g,lockRef:n,gapMode:x}),s?k.cloneElement(k.Children.only(o),Ji(Ji({},j),{ref:_})):k.createElement(y,Ji({},j,{className:l,ref:_}),o))});function ha(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=function(){if("undefined"!=typeof __webpack_nonce__)return __webpack_nonce__}();return t&&e.setAttribute("nonce",t),e}da.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},da.classNames={fullWidth:na,zeroRight:ta};var fa=function(){var e=0,t=null;return{add:function(n){var r,i;0==e&&(t=ha())&&(i=n,(r=t).styleSheet?r.styleSheet.cssText=i:r.appendChild(document.createTextNode(i)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ma=function(){var e,t=(e=fa(),function(t,n){k.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])});return function(e){var n=e.styles,r=e.dynamic;return t(n,r),null}},pa={left:0,top:0,right:0,gap:0},ga=function(e){return parseInt(e||"",10)||0},va=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return pa;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[ga(n),ga(r),ga(i)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},ya=ma(),xa="data-scroll-locked",ba=function(e,t,n,r){var i=e.left,a=e.top,s=e.right,o=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(o,"px ").concat(r,";\n  }\n  body[").concat(xa,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(a,"px;\n    padding-right: ").concat(s,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(o,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(ta," {\n    right: ").concat(o,"px ").concat(r,";\n  }\n  \n  .").concat(na," {\n    margin-right: ").concat(o,"px ").concat(r,";\n  }\n  \n  .").concat(ta," .").concat(ta," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(na," .").concat(na," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(xa,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(o,"px;\n  }\n")},wa=function(){var e=parseInt(document.body.getAttribute(xa)||"0",10);return isFinite(e)?e:0},_a=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=void 0===r?"margin":r;k.useEffect(function(){return document.body.setAttribute(xa,(wa()+1).toString()),function(){var e=wa()-1;e<=0?document.body.removeAttribute(xa):document.body.setAttribute(xa,e.toString())}},[]);var a=k.useMemo(function(){return va(i)},[i]);return k.createElement(ya,{styles:ba(a,!t,i,n?"":"!important")})},ja=!1;if("undefined"!=typeof window)try{var ka=Object.defineProperty({},"passive",{get:function(){return ja=!0,!0}});window.addEventListener("test",ka,ka),window.removeEventListener("test",ka,ka)}catch(rae){ja=!1}var Na=!!ja&&{passive:!1},Sa=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},Ca=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!=typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),Ea(e,r)){var i=Pa(e,r);if(i[1]>i[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Ea=function(e,t){return"v"===e?function(e){return Sa(e,"overflowY")}(t):function(e){return Sa(e,"overflowX")}(t)},Pa=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},Ma=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Oa=function(e){return[e.deltaX,e.deltaY]},Aa=function(e){return e&&"current"in e?e.current:e},Ta=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},Da=0,Ra=[];function Ia(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const za=(La=function(e){var t=k.useRef([]),n=k.useRef([0,0]),r=k.useRef(),i=k.useState(Da++)[0],a=k.useState(ma)[0],s=k.useRef(e);k.useEffect(function(){s.current=e},[e]),k.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([e.lockRef.current],(e.shards||[]).map(Aa),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var o=k.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!s.current.allowPinchZoom;var i,a=Ma(e),o=n.current,l="deltaX"in e?e.deltaX:o[0]-a[0],c="deltaY"in e?e.deltaY:o[1]-a[1],u=e.target,d=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var h=Ca(d,u);if(!h)return!0;if(h?i=d:(i="v"===d?"h":"v",h=Ca(d,u)),!h)return!1;if(!r.current&&"changedTouches"in e&&(l||c)&&(r.current=i),!i)return!0;var f=r.current||i;return function(e,t,n,r){var i=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),a=i*r,s=n.target,o=t.contains(s),l=!1,c=a>0,u=0,d=0;do{if(!s)break;var h=Pa(e,s),f=h[0],m=h[1]-h[2]-i*f;(f||m)&&Ea(e,s)&&(u+=m,d+=f);var p=s.parentNode;s=p&&p.nodeType===Node.DOCUMENT_FRAGMENT_NODE?p.host:p}while(!o&&s!==document.body||o&&(t.contains(s)||t===s));return(c&&Math.abs(u)<1||!c&&Math.abs(d)<1)&&(l=!0),l}(f,t,e,"h"===f?l:c)},[]),l=k.useCallback(function(e){var n=e;if(Ra.length&&Ra[Ra.length-1]===a){var r="deltaY"in n?Oa(n):Ma(n),i=t.current.filter(function(e){return e.name===n.type&&(e.target===n.target||n.target===e.shadowParent)&&(t=e.delta,i=r,t[0]===i[0]&&t[1]===i[1]);var t,i})[0];if(i&&i.should)n.cancelable&&n.preventDefault();else if(!i){var l=(s.current.shards||[]).map(Aa).filter(Boolean).filter(function(e){return e.contains(n.target)});(l.length>0?o(n,l[0]):!s.current.noIsolation)&&n.cancelable&&n.preventDefault()}}},[]),c=k.useCallback(function(e,n,r,i){var a={name:e,delta:n,target:r,should:i,shadowParent:Ia(r)};t.current.push(a),setTimeout(function(){t.current=t.current.filter(function(e){return e!==a})},1)},[]),u=k.useCallback(function(e){n.current=Ma(e),r.current=void 0},[]),d=k.useCallback(function(t){c(t.type,Oa(t),t.target,o(t,e.lockRef.current))},[]),h=k.useCallback(function(t){c(t.type,Ma(t),t.target,o(t,e.lockRef.current))},[]);k.useEffect(function(){return Ra.push(a),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Na),document.addEventListener("touchmove",l,Na),document.addEventListener("touchstart",u,Na),function(){Ra=Ra.filter(function(e){return e!==a}),document.removeEventListener("wheel",l,Na),document.removeEventListener("touchmove",l,Na),document.removeEventListener("touchstart",u,Na)}},[]);var f=e.removeScrollBar,m=e.inert;return k.createElement(k.Fragment,null,m?k.createElement(a,{styles:Ta(i)}):null,f?k.createElement(_a,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},ca.useMedium(La),la);var La,Fa=k.forwardRef(function(e,t){return k.createElement(da,Ji({},e,{ref:t,sideCar:za}))});Fa.classNames=da.classNames;var Ba=[" ","Enter","ArrowUp","ArrowDown"],Wa=[" ","Enter"],Va="Select",[$a,Ka,Ha]=fn(Va),[Ua,Ya]=dn(Va,[Ha,ki]),qa=ki(),[Ga,Xa]=Ua(Va),[Qa,Za]=Ua(Va),Ja="SelectTrigger",es=k.forwardRef((e,t)=>{const n=e,{__scopeSelect:r,disabled:i=!1}=n,a=m(n,["__scopeSelect","disabled"]),s=qa(r),o=Xa(Ja,r),l=o.disabled||i,c=ze(t,o.onTriggerChange),u=Ka(r),d=k.useRef("touch"),[p,g,v]=Ls(e=>{const t=u().filter(e=>!e.disabled),n=t.find(e=>e.value===o.value),r=Fs(t,e,n);void 0!==r&&o.onValueChange(r.value)}),y=e=>{l||(o.onOpenChange(!0),v()),e&&(o.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return x.jsx(Wi,f(h({asChild:!0},s),{children:x.jsx(cn.button,f(h({type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":zs(o.value)?"":void 0},a),{ref:c,onClick:un(a.onClick,e=>{e.currentTarget.focus(),"mouse"!==d.current&&y(e)}),onPointerDown:un(a.onPointerDown,e=>{d.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(y(e),e.preventDefault())}),onKeyDown:un(a.onKeyDown,e=>{const t=""!==p.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||g(e.key),t&&" "===e.key||Ba.includes(e.key)&&(y(),e.preventDefault())})}))}))});es.displayName=Ja;var ts="SelectValue";k.forwardRef((e,t)=>{const n=e,{__scopeSelect:r,className:i,style:a,children:s,placeholder:o=""}=n,l=m(n,["__scopeSelect","className","style","children","placeholder"]),c=Xa(ts,r),{onValueNodeHasChildrenChange:u}=c,d=void 0!==s,p=ze(t,c.onValueNodeChange);return mn(()=>{u(d)},[u,d]),x.jsx(cn.span,f(h({},l),{ref:p,style:{pointerEvents:"none"},children:zs(c.value)?x.jsx(x.Fragment,{children:o}):s}))}).displayName=ts;var ns=k.forwardRef((e,t)=>{const n=e,{__scopeSelect:r,children:i}=n,a=m(n,["__scopeSelect","children"]);return x.jsx(cn.span,f(h({"aria-hidden":!0},a),{ref:t,children:i||"▼"}))});ns.displayName="SelectIcon";var rs=e=>x.jsx(Ki,h({asChild:!0},e));rs.displayName="SelectPortal";var is="SelectContent",as=k.forwardRef((e,t)=>{const n=Xa(is,e.__scopeSelect),[r,i]=k.useState();if(mn(()=>{i(new DocumentFragment)},[]),!n.open){const t=r;return t?on.createPortal(x.jsx(os,{scope:e.__scopeSelect,children:x.jsx($a.Slot,{scope:e.__scopeSelect,children:x.jsx("div",{children:e.children})})}),t):null}return x.jsx(us,f(h({},e),{ref:t}))});as.displayName=is;var ss=10,[os,ls]=Ua(is),cs=Le("SelectContent.RemoveScroll"),us=k.forwardRef((e,t)=>{const n=e,{__scopeSelect:r,position:i="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:p,collisionBoundary:g,collisionPadding:v,sticky:y,hideWhenDetached:b,avoidCollisions:w}=n,_=m(n,["__scopeSelect","position","onCloseAutoFocus","onEscapeKeyDown","onPointerDownOutside","side","sideOffset","align","alignOffset","arrowPadding","collisionBoundary","collisionPadding","sticky","hideWhenDetached","avoidCollisions"]),j=Xa(is,r),[N,S]=k.useState(null),[C,E]=k.useState(null),P=ze(t,e=>S(e)),[M,O]=k.useState(null),[A,T]=k.useState(null),D=Ka(r),[R,I]=k.useState(!1),z=k.useRef(!1);k.useEffect(()=>{if(N)return Zi(N)},[N]),In();const L=k.useCallback(e=>{const[t,...n]=D().map(e=>e.ref.current),[r]=n.slice(-1),i=document.activeElement;for(const a of e){if(a===i)return;if(null==a||a.scrollIntoView({block:"nearest"}),a===t&&C&&(C.scrollTop=0),a===r&&C&&(C.scrollTop=C.scrollHeight),null==a||a.focus(),document.activeElement!==i)return}},[D,C]),F=k.useCallback(()=>L([M,N]),[L,M,N]);k.useEffect(()=>{R&&F()},[R,F]);const{onOpenChange:B,triggerPointerDownPosRef:W}=j;k.useEffect(()=>{if(N){let e={x:0,y:0};const t=t=>{var n,r,i,a;e={x:Math.abs(Math.round(t.pageX)-(null!=(r=null==(n=W.current)?void 0:n.x)?r:0)),y:Math.abs(Math.round(t.pageY)-(null!=(a=null==(i=W.current)?void 0:i.y)?a:0))}},n=n=>{e.x<=10&&e.y<=10?n.preventDefault():N.contains(n.target)||B(!1),document.removeEventListener("pointermove",t),W.current=null};return null!==W.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",n,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",n,{capture:!0})}}},[N,B,W]),k.useEffect(()=>{const e=()=>B(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[B]);const[V,$]=Ls(e=>{const t=D().filter(e=>!e.disabled),n=t.find(e=>e.ref.current===document.activeElement),r=Fs(t,e,n);r&&setTimeout(()=>r.ref.current.focus())}),K=k.useCallback((e,t,n)=>{const r=!z.current&&!n;(void 0!==j.value&&j.value===t||r)&&(O(e),r&&(z.current=!0))},[j.value]),H=k.useCallback(()=>null==N?void 0:N.focus(),[N]),U=k.useCallback((e,t,n)=>{const r=!z.current&&!n;(void 0!==j.value&&j.value===t||r)&&T(e)},[j.value]),Y="popper"===i?hs:ds,q=Y===hs?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:p,collisionBoundary:g,collisionPadding:v,sticky:y,hideWhenDetached:b,avoidCollisions:w}:{};return x.jsx(os,{scope:r,content:N,viewport:C,onViewportChange:E,itemRefCallback:K,selectedItem:M,onItemLeave:H,itemTextRefCallback:U,focusSelectedItem:F,selectedItemText:A,position:i,isPositioned:R,searchRef:V,children:x.jsx(Fa,{as:cs,allowPinchZoom:!0,children:x.jsx(Wn,{asChild:!0,trapped:j.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:un(a,e=>{var t;null==(t=j.trigger)||t.focus({preventScroll:!0}),e.preventDefault()}),children:x.jsx(An,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:x.jsx(Y,f(h(h({role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:e=>e.preventDefault()},_),q),{onPlaced:()=>I(!0),ref:P,style:h({display:"flex",flexDirection:"column",outline:"none"},_.style),onKeyDown:un(_.onKeyDown,e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||$(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=D().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const n=e.target,r=t.indexOf(n);t=t.slice(r+1)}setTimeout(()=>L(t)),e.preventDefault()}})}))})})})})});us.displayName="SelectContentImpl";var ds=k.forwardRef((e,t)=>{const n=e,{__scopeSelect:r,onPlaced:i}=n,a=m(n,["__scopeSelect","onPlaced"]),s=Xa(is,r),o=ls(is,r),[l,c]=k.useState(null),[u,d]=k.useState(null),p=ze(t,e=>d(e)),g=Ka(r),v=k.useRef(!1),y=k.useRef(!0),{viewport:b,selectedItem:w,selectedItemText:_,focusSelectedItem:j}=o,N=k.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&b&&w&&_){const e=s.trigger.getBoundingClientRect(),t=u.getBoundingClientRect(),n=s.valueNode.getBoundingClientRect(),r=_.getBoundingClientRect();if("rtl"!==s.dir){const i=r.left-t.left,a=n.left-i,s=e.left-a,o=e.width+s,c=Math.max(o,t.width),u=window.innerWidth-ss,d=Sn(a,[ss,Math.max(ss,u-c)]);l.style.minWidth=o+"px",l.style.left=d+"px"}else{const i=t.right-r.right,a=window.innerWidth-n.right-i,s=window.innerWidth-e.right-a,o=e.width+s,c=Math.max(o,t.width),u=window.innerWidth-ss,d=Sn(a,[ss,Math.max(ss,u-c)]);l.style.minWidth=o+"px",l.style.right=d+"px"}const a=g(),o=window.innerHeight-2*ss,c=b.scrollHeight,d=window.getComputedStyle(u),h=parseInt(d.borderTopWidth,10),f=parseInt(d.paddingTop,10),m=parseInt(d.borderBottomWidth,10),p=h+f+c+parseInt(d.paddingBottom,10)+m,y=Math.min(5*w.offsetHeight,p),x=window.getComputedStyle(b),j=parseInt(x.paddingTop,10),k=parseInt(x.paddingBottom,10),N=e.top+e.height/2-ss,S=o-N,C=w.offsetHeight/2,E=h+f+(w.offsetTop+C),P=p-E;if(E<=N){const e=a.length>0&&w===a[a.length-1].ref.current;l.style.bottom="0px";const t=u.clientHeight-b.offsetTop-b.offsetHeight,n=E+Math.max(S,C+(e?k:0)+t+m);l.style.height=n+"px"}else{const e=a.length>0&&w===a[0].ref.current;l.style.top="0px";const t=Math.max(N,h+b.offsetTop+(e?j:0)+C)+P;l.style.height=t+"px",b.scrollTop=E-N+b.offsetTop}l.style.margin=`${ss}px 0`,l.style.minHeight=y+"px",l.style.maxHeight=o+"px",null==i||i(),requestAnimationFrame(()=>v.current=!0)}},[g,s.trigger,s.valueNode,l,u,b,w,_,s.dir,i]);mn(()=>N(),[N]);const[S,C]=k.useState();mn(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const E=k.useCallback(e=>{e&&!0===y.current&&(N(),null==j||j(),y.current=!1)},[N,j]);return x.jsx(fs,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:E,children:x.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:x.jsx(cn.div,f(h({},a),{ref:p,style:h({boxSizing:"border-box",maxHeight:"100%"},a.style)}))})})});ds.displayName="SelectItemAlignedPosition";var hs=k.forwardRef((e,t)=>{const n=e,{__scopeSelect:r,align:i="start",collisionPadding:a=ss}=n,s=m(n,["__scopeSelect","align","collisionPadding"]),o=qa(r);return x.jsx(Vi,f(h(h({},o),s),{ref:t,align:i,collisionPadding:a,style:h(h({boxSizing:"border-box"},s.style),{"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"})}))});hs.displayName="SelectPopperPosition";var[fs,ms]=Ua(is,{}),ps="SelectViewport",gs=k.forwardRef((e,t)=>{const n=e,{__scopeSelect:r,nonce:i}=n,a=m(n,["__scopeSelect","nonce"]),s=ls(ps,r),o=ms(ps,r),l=ze(t,s.onViewportChange),c=k.useRef(0);return x.jsxs(x.Fragment,{children:[x.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),x.jsx($a.Slot,{scope:r,children:x.jsx(cn.div,f(h({"data-radix-select-viewport":"",role:"presentation"},a),{ref:l,style:h({position:"relative",flex:1,overflow:"hidden auto"},a.style),onScroll:un(a.onScroll,e=>{const t=e.currentTarget,{contentWrapper:n,shouldExpandOnScrollRef:r}=o;if((null==r?void 0:r.current)&&n){const e=Math.abs(c.current-t.scrollTop);if(e>0){const r=window.innerHeight-2*ss,i=parseFloat(n.style.minHeight),a=parseFloat(n.style.height),s=Math.max(i,a);if(s<r){const i=s+e,a=Math.min(r,i),o=i-a;n.style.height=a+"px","0px"===n.style.bottom&&(t.scrollTop=o>0?o:0,n.style.justifyContent="flex-end")}}}c.current=t.scrollTop})}))})]})});gs.displayName=ps;var vs="SelectGroup",[ys,xs]=Ua(vs);k.forwardRef((e,t)=>{const n=e,{__scopeSelect:r}=n,i=m(n,["__scopeSelect"]),a=vn();return x.jsx(ys,{scope:r,id:a,children:x.jsx(cn.div,f(h({role:"group","aria-labelledby":a},i),{ref:t}))})}).displayName=vs;var bs="SelectLabel",ws=k.forwardRef((e,t)=>{const n=e,{__scopeSelect:r}=n,i=m(n,["__scopeSelect"]),a=xs(bs,r);return x.jsx(cn.div,f(h({id:a.id},i),{ref:t}))});ws.displayName=bs;var _s="SelectItem",[js,ks]=Ua(_s),Ns=k.forwardRef((e,t)=>{const n=e,{__scopeSelect:r,value:i,disabled:a=!1,textValue:s}=n,o=m(n,["__scopeSelect","value","disabled","textValue"]),l=Xa(_s,r),c=ls(_s,r),u=l.value===i,[d,p]=k.useState(null!=s?s:""),[g,v]=k.useState(!1),y=ze(t,e=>{var t;return null==(t=c.itemRefCallback)?void 0:t.call(c,e,i,a)}),b=vn(),w=k.useRef("touch"),_=()=>{a||(l.onValueChange(i),l.onOpenChange(!1))};if(""===i)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return x.jsx(js,{scope:r,value:i,disabled:a,textId:b,isSelected:u,onItemTextChange:k.useCallback(e=>{p(t=>{var n;return t||(null!=(n=null==e?void 0:e.textContent)?n:"").trim()})},[]),children:x.jsx($a.ItemSlot,{scope:r,value:i,disabled:a,textValue:d,children:x.jsx(cn.div,f(h({role:"option","aria-labelledby":b,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1},o),{ref:y,onFocus:un(o.onFocus,()=>v(!0)),onBlur:un(o.onBlur,()=>v(!1)),onClick:un(o.onClick,()=>{"mouse"!==w.current&&_()}),onPointerUp:un(o.onPointerUp,()=>{"mouse"===w.current&&_()}),onPointerDown:un(o.onPointerDown,e=>{w.current=e.pointerType}),onPointerMove:un(o.onPointerMove,e=>{var t;w.current=e.pointerType,a?null==(t=c.onItemLeave)||t.call(c):"mouse"===w.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:un(o.onPointerLeave,e=>{var t;e.currentTarget===document.activeElement&&(null==(t=c.onItemLeave)||t.call(c))}),onKeyDown:un(o.onKeyDown,e=>{var t;""!==(null==(t=c.searchRef)?void 0:t.current)&&" "===e.key||(Wa.includes(e.key)&&_()," "===e.key&&e.preventDefault())})}))})})});Ns.displayName=_s;var Ss="SelectItemText",Cs=k.forwardRef((e,t)=>{const n=e,{__scopeSelect:r,className:i,style:a}=n,s=m(n,["__scopeSelect","className","style"]),o=Xa(Ss,r),l=ls(Ss,r),c=ks(Ss,r),u=Za(Ss,r),[d,p]=k.useState(null),g=ze(t,e=>p(e),c.onItemTextChange,e=>{var t;return null==(t=l.itemTextRefCallback)?void 0:t.call(l,e,c.value,c.disabled)}),v=null==d?void 0:d.textContent,y=k.useMemo(()=>x.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:b,onNativeOptionRemove:w}=u;return mn(()=>(b(y),()=>w(y)),[b,w,y]),x.jsxs(x.Fragment,{children:[x.jsx(cn.span,f(h({id:c.textId},s),{ref:g})),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?on.createPortal(s.children,o.valueNode):null]})});Cs.displayName=Ss;var Es="SelectItemIndicator",Ps=k.forwardRef((e,t)=>{const n=e,{__scopeSelect:r}=n,i=m(n,["__scopeSelect"]);return ks(Es,r).isSelected?x.jsx(cn.span,f(h({"aria-hidden":!0},i),{ref:t})):null});Ps.displayName=Es;var Ms="SelectScrollUpButton",Os=k.forwardRef((e,t)=>{const n=ls(Ms,e.__scopeSelect),r=ms(Ms,e.__scopeSelect),[i,a]=k.useState(!1),s=ze(t,r.onScrollButtonChange);return mn(()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollTop>0;a(e)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),i?x.jsx(Ds,f(h({},e),{ref:s,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}})):null});Os.displayName=Ms;var As="SelectScrollDownButton",Ts=k.forwardRef((e,t)=>{const n=ls(As,e.__scopeSelect),r=ms(As,e.__scopeSelect),[i,a]=k.useState(!1),s=ze(t,r.onScrollButtonChange);return mn(()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,n=Math.ceil(t.scrollTop)<e;a(n)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),i?x.jsx(Ds,f(h({},e),{ref:s,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}})):null});Ts.displayName=As;var Ds=k.forwardRef((e,t)=>{const n=e,{__scopeSelect:r,onAutoScroll:i}=n,a=m(n,["__scopeSelect","onAutoScroll"]),s=ls("SelectScrollButton",r),o=k.useRef(null),l=Ka(r),c=k.useCallback(()=>{null!==o.current&&(window.clearInterval(o.current),o.current=null)},[]);return k.useEffect(()=>()=>c(),[c]),mn(()=>{var e;const t=l().find(e=>e.ref.current===document.activeElement);null==(e=null==t?void 0:t.ref.current)||e.scrollIntoView({block:"nearest"})},[l]),x.jsx(cn.div,f(h({"aria-hidden":!0},a),{ref:t,style:h({flexShrink:0},a.style),onPointerDown:un(a.onPointerDown,()=>{null===o.current&&(o.current=window.setInterval(i,50))}),onPointerMove:un(a.onPointerMove,()=>{var e;null==(e=s.onItemLeave)||e.call(s),null===o.current&&(o.current=window.setInterval(i,50))}),onPointerLeave:un(a.onPointerLeave,()=>{c()})}))}),Rs=k.forwardRef((e,t)=>{const n=e,{__scopeSelect:r}=n,i=m(n,["__scopeSelect"]);return x.jsx(cn.div,f(h({"aria-hidden":!0},i),{ref:t}))});Rs.displayName="SelectSeparator";var Is="SelectArrow";function zs(e){return""===e||void 0===e}function Ls(e){const t=yn(e),n=k.useRef(""),r=k.useRef(0),i=k.useCallback(e=>{const i=n.current+e;t(i),function e(t){n.current=t,window.clearTimeout(r.current),""!==t&&(r.current=window.setTimeout(()=>e(""),1e3))}(i)},[t]),a=k.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return k.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function Fs(e,t,n){const r=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let a=(s=e,o=Math.max(i,0),s.map((e,t)=>s[(o+t)%s.length]));var s,o;1===r.length&&(a=a.filter(e=>e!==n));const l=a.find(e=>e.textValue.toLowerCase().startsWith(r.toLowerCase()));return l!==n?l:void 0}k.forwardRef((e,t)=>{const n=e,{__scopeSelect:r}=n,i=m(n,["__scopeSelect"]),a=qa(r),s=Xa(Is,r),o=ls(Is,r);return s.open&&"popper"===o.position?x.jsx($i,f(h(h({},a),i),{ref:t})):null}).displayName=Is,k.forwardRef((e,t)=>{var n=e,{__scopeSelect:r,value:i}=n,a=m(n,["__scopeSelect","value"]);const s=k.useRef(null),o=ze(t,s),l=jn(i);return k.useEffect(()=>{const e=s.current;if(!e)return;const t=window.HTMLSelectElement.prototype,n=Object.getOwnPropertyDescriptor(t,"value").set;if(l!==i&&n){const t=new Event("change",{bubbles:!0});n.call(e,i),e.dispatchEvent(t)}},[l,i]),x.jsx(cn.select,f(h({},a),{style:h(h({},Hi),a.style),ref:o,defaultValue:i}))}).displayName="SelectBubbleInput";var Bs=es,Ws=ns,Vs=rs,$s=as,Ks=gs,Hs=ws,Us=Ns,Ys=Cs,qs=Ps,Gs=Os,Xs=Ts,Qs=Rs;k.forwardRef((e,t)=>{var n=e,{className:r,children:i}=n,a=m(n,["className","children"]);return x.jsxs(Bs,f(h({ref:t,className:en("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r)},a),{children:[i,x.jsx(Ws,{asChild:!0,children:x.jsx(se,{className:"h-4 w-4 opacity-50"})})]}))}).displayName=Bs.displayName;const Zs=k.forwardRef((e,t)=>{var n=e,{className:r}=n,i=m(n,["className"]);return x.jsx(Gs,f(h({ref:t,className:en("flex cursor-default items-center justify-center py-1",r)},i),{children:x.jsx(oe,{className:"h-4 w-4"})}))});Zs.displayName=Gs.displayName;const Js=k.forwardRef((e,t)=>{var n=e,{className:r}=n,i=m(n,["className"]);return x.jsx(Xs,f(h({ref:t,className:en("flex cursor-default items-center justify-center py-1",r)},i),{children:x.jsx(se,{className:"h-4 w-4"})}))});Js.displayName=Xs.displayName,k.forwardRef((e,t)=>{var n=e,{className:r,children:i,position:a="popper"}=n,s=m(n,["className","children","position"]);return x.jsx(Vs,{children:x.jsxs($s,f(h({ref:t,className:en("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:a},s),{children:[x.jsx(Zs,{}),x.jsx(Ks,{className:en("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:i}),x.jsx(Js,{})]}))})}).displayName=$s.displayName,k.forwardRef((e,t)=>{var n=e,{className:r}=n,i=m(n,["className"]);return x.jsx(Hs,h({ref:t,className:en("py-1.5 pl-8 pr-2 text-sm font-semibold",r)},i))}).displayName=Hs.displayName,k.forwardRef((e,t)=>{var n=e,{className:r,children:i}=n,a=m(n,["className","children"]);return x.jsxs(Us,f(h({ref:t,className:en("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r)},a),{children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(qs,{children:x.jsx(ae,{className:"h-4 w-4"})})}),x.jsx(Ys,{children:i})]}))}).displayName=Us.displayName,k.forwardRef((e,t)=>{var n=e,{className:r}=n,i=m(n,["className"]);return x.jsx(Qs,h({ref:t,className:en("-mx-1 my-1 h-px bg-muted",r)},i))}).displayName=Qs.displayName;var eo="horizontal",to=["horizontal","vertical"],no=k.forwardRef((e,t)=>{const n=e,{decorative:r,orientation:i=eo}=n,a=m(n,["decorative","orientation"]),s=function(e){return to.includes(e)}(i)?i:eo,o=r?{role:"none"}:{"aria-orientation":"vertical"===s?s:void 0,role:"separator"};return x.jsx(cn.div,f(h(h({"data-orientation":s},o),a),{ref:t}))});no.displayName="Separator";var ro=no;const io=k.forwardRef((e,t)=>{var n=e,{className:r,orientation:i="horizontal",decorative:a=!0}=n,s=m(n,["className","orientation","decorative"]);return x.jsx(ro,h({ref:t,decorative:a,orientation:i,className:en("shrink-0 bg-border","horizontal"===i?"h-[1px] w-full":"h-full w-[1px]",r)},s))});io.displayName=ro.displayName;var ao=["PageUp","PageDown"],so=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],oo={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},lo="Slider",[co,uo,ho]=fn(lo),[fo,mo]=dn(lo,[ho]),[po,go]=fo(lo),vo=k.forwardRef((e,t)=>{const n=e,{name:r,min:i=0,max:a=100,step:s=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[i],value:d,onValueChange:p=()=>{},onValueCommit:g=()=>{},inverted:v=!1,form:y}=n,b=m(n,["name","min","max","step","orientation","disabled","minStepsBetweenThumbs","defaultValue","value","onValueChange","onValueCommit","inverted","form"]),w=k.useRef(new Set),_=k.useRef(0),j="horizontal"===o?bo:wo,[N=[],S]=bn({prop:d,defaultProp:u,onChange:e=>{var t;null==(t=[...w.current][_.current])||t.focus(),p(e)}}),C=k.useRef(N);function E(e,t,{commit:n}={commit:!1}){const r=function(e){return(String(e).split(".")[1]||"").length}(s),o=function(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}(Math.round((e-i)/s)*s+i,r),l=Sn(o,[i,a]);S((e=[])=>{const r=function(e=[],t,n){const r=[...e];return r[n]=t,r.sort((e,t)=>e-t)}(e,l,t);if(function(e,t){if(t>0){const n=function(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}(e);return Math.min(...n)>=t}return!0}(r,c*s)){_.current=r.indexOf(l);const t=String(r)!==String(e);return t&&n&&g(r),t?r:e}return e})}return x.jsx(po,{scope:e.__scopeSlider,name:r,disabled:l,min:i,max:a,valueIndexToChangeRef:_,thumbs:w.current,values:N,orientation:o,form:y,children:x.jsx(co.Provider,{scope:e.__scopeSlider,children:x.jsx(co.Slot,{scope:e.__scopeSlider,children:x.jsx(j,f(h({"aria-disabled":l,"data-disabled":l?"":void 0},b),{ref:t,onPointerDown:un(b.onPointerDown,()=>{l||(C.current=N)}),min:i,max:a,inverted:v,onSlideStart:l?void 0:function(e){const t=function(e,t){if(1===e.length)return 0;const n=e.map(e=>Math.abs(e-t)),r=Math.min(...n);return n.indexOf(r)}(N,e);E(e,t)},onSlideMove:l?void 0:function(e){E(e,_.current)},onSlideEnd:l?void 0:function(){const e=C.current[_.current];N[_.current]!==e&&g(N)},onHomeKeyDown:()=>!l&&E(i,0,{commit:!0}),onEndKeyDown:()=>!l&&E(a,N.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!l){const n=ao.includes(e.key)||e.shiftKey&&so.includes(e.key)?10:1,r=_.current;E(N[r]+s*n*t,r,{commit:!0})}}}))})})})});vo.displayName=lo;var[yo,xo]=fo(lo,{startEdge:"left",endEdge:"right",size:"width",direction:1}),bo=k.forwardRef((e,t)=>{const n=e,{min:r,max:i,dir:a,inverted:s,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u}=n,d=m(n,["min","max","dir","inverted","onSlideStart","onSlideMove","onSlideEnd","onStepKeyDown"]),[p,g]=k.useState(null),v=ze(t,e=>g(e)),y=k.useRef(void 0),b=function(e){const t=k.useContext(wn);return e||t||"ltr"}(a),w="ltr"===b,_=w&&!s||!w&&s;function j(e){const t=y.current||p.getBoundingClientRect(),n=Ao([0,t.width],_?[r,i]:[i,r]);return y.current=t,n(e-t.left)}return x.jsx(yo,{scope:e.__scopeSlider,startEdge:_?"left":"right",endEdge:_?"right":"left",direction:_?1:-1,size:"width",children:x.jsx(_o,f(h({dir:b,"data-orientation":"horizontal"},d),{ref:v,style:f(h({},d.style),{"--radix-slider-thumb-transform":"translateX(-50%)"}),onSlideStart:e=>{const t=j(e.clientX);null==o||o(t)},onSlideMove:e=>{const t=j(e.clientX);null==l||l(t)},onSlideEnd:()=>{y.current=void 0,null==c||c()},onStepKeyDown:e=>{const t=oo[_?"from-left":"from-right"].includes(e.key);null==u||u({event:e,direction:t?-1:1})}}))})}),wo=k.forwardRef((e,t)=>{const n=e,{min:r,max:i,inverted:a,onSlideStart:s,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c}=n,u=m(n,["min","max","inverted","onSlideStart","onSlideMove","onSlideEnd","onStepKeyDown"]),d=k.useRef(null),p=ze(t,d),g=k.useRef(void 0),v=!a;function y(e){const t=g.current||d.current.getBoundingClientRect(),n=Ao([0,t.height],v?[i,r]:[r,i]);return g.current=t,n(e-t.top)}return x.jsx(yo,{scope:e.__scopeSlider,startEdge:v?"bottom":"top",endEdge:v?"top":"bottom",size:"height",direction:v?1:-1,children:x.jsx(_o,f(h({"data-orientation":"vertical"},u),{ref:p,style:f(h({},u.style),{"--radix-slider-thumb-transform":"translateY(50%)"}),onSlideStart:e=>{const t=y(e.clientY);null==s||s(t)},onSlideMove:e=>{const t=y(e.clientY);null==o||o(t)},onSlideEnd:()=>{g.current=void 0,null==l||l()},onStepKeyDown:e=>{const t=oo[v?"from-bottom":"from-top"].includes(e.key);null==c||c({event:e,direction:t?-1:1})}}))})}),_o=k.forwardRef((e,t)=>{const n=e,{__scopeSlider:r,onSlideStart:i,onSlideMove:a,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c}=n,u=m(n,["__scopeSlider","onSlideStart","onSlideMove","onSlideEnd","onHomeKeyDown","onEndKeyDown","onStepKeyDown"]),d=go(lo,r);return x.jsx(cn.span,f(h({},u),{ref:t,onKeyDown:un(e.onKeyDown,e=>{"Home"===e.key?(o(e),e.preventDefault()):"End"===e.key?(l(e),e.preventDefault()):ao.concat(so).includes(e.key)&&(c(e),e.preventDefault())}),onPointerDown:un(e.onPointerDown,e=>{const t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),d.thumbs.has(t)?t.focus():i(e)}),onPointerMove:un(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&a(e)}),onPointerUp:un(e.onPointerUp,e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),s(e))})}))}),jo="SliderTrack",ko=k.forwardRef((e,t)=>{const n=e,{__scopeSlider:r}=n,i=m(n,["__scopeSlider"]),a=go(jo,r);return x.jsx(cn.span,f(h({"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation},i),{ref:t}))});ko.displayName=jo;var No="SliderRange",So=k.forwardRef((e,t)=>{const n=e,{__scopeSlider:r}=n,i=m(n,["__scopeSlider"]),a=go(No,r),s=xo(No,r),o=ze(t,k.useRef(null)),l=a.values.length,c=a.values.map(e=>Oo(e,a.min,a.max)),u=l>1?Math.min(...c):0,d=100-Math.max(...c);return x.jsx(cn.span,f(h({"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0},i),{ref:o,style:f(h({},e.style),{[s.startEdge]:u+"%",[s.endEdge]:d+"%"})}))});So.displayName=No;var Co="SliderThumb",Eo=k.forwardRef((e,t)=>{const n=uo(e.__scopeSlider),[r,i]=k.useState(null),a=ze(t,e=>i(e)),s=k.useMemo(()=>r?n().findIndex(e=>e.ref.current===r):-1,[n,r]);return x.jsx(Po,f(h({},e),{ref:a,index:s}))}),Po=k.forwardRef((e,t)=>{const n=e,{__scopeSlider:r,index:i,name:a}=n,s=m(n,["__scopeSlider","index","name"]),o=go(Co,r),l=xo(Co,r),[c,u]=k.useState(null),d=ze(t,e=>u(e)),p=!c||o.form||!!c.closest("form"),g=_n(c),v=o.values[i],y=void 0===v?0:Oo(v,o.min,o.max),b=function(e,t){return t>2?`Value ${e+1} of ${t}`:2===t?["Minimum","Maximum"][e]:void 0}(i,o.values.length),w=null==g?void 0:g[l.size],_=w?function(e,t,n){const r=e/2,i=Ao([0,50],[0,r]);return(r-i(t)*n)*n}(w,y,l.direction):0;return k.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),x.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${y}% + ${_}px)`},children:[x.jsx(co.ItemSlot,{scope:e.__scopeSlider,children:x.jsx(cn.span,f(h({role:"slider","aria-label":e["aria-label"]||b,"aria-valuemin":o.min,"aria-valuenow":v,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0},s),{ref:d,style:void 0===v?{display:"none"}:e.style,onFocus:un(e.onFocus,()=>{o.valueIndexToChangeRef.current=i})}))}),p&&x.jsx(Mo,{name:null!=a?a:o.name?o.name+(o.values.length>1?"[]":""):void 0,form:o.form,value:v},i)]})});Eo.displayName=Co;var Mo=k.forwardRef((e,t)=>{var n=e,{__scopeSlider:r,value:i}=n,a=m(n,["__scopeSlider","value"]);const s=k.useRef(null),o=ze(s,t),l=jn(i);return k.useEffect(()=>{const e=s.current;if(!e)return;const t=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(t,"value").set;if(l!==i&&n){const t=new Event("input",{bubbles:!0});n.call(e,i),e.dispatchEvent(t)}},[l,i]),x.jsx(cn.input,f(h({style:{display:"none"}},a),{ref:o,defaultValue:i}))});function Oo(e,t,n){return Sn(100/(n-t)*(e-t),[0,100])}function Ao(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}Mo.displayName="RadioBubbleInput";var To=vo,Do=ko,Ro=So,Io=Eo;k.forwardRef((e,t)=>{var n=e,{className:r}=n,i=m(n,["className"]);return x.jsxs(To,f(h({ref:t,className:en("relative flex w-full touch-none select-none items-center",r)},i),{children:[x.jsx(Do,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:x.jsx(Ro,{className:"absolute h-full bg-foreground"})}),x.jsx(Io,{className:"block h-5 w-5 cursor-pointer rounded-full border-2 border-foreground bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}))}).displayName=To.displayName;var zo="Popover",[Lo,Fo]=dn(zo,[ki]),Bo=ki(),[Wo,Vo]=Lo(zo),$o=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:s=!1}=e,o=Bo(t),l=k.useRef(null),[c,u]=k.useState(!1),[d,m]=bn({prop:r,defaultProp:null!=i&&i,onChange:a,caller:zo});return x.jsx(Bi,f(h({},o),{children:x.jsx(Wo,{scope:t,contentId:vn(),triggerRef:l,open:d,onOpenChange:m,onOpenToggle:k.useCallback(()=>m(e=>!e),[m]),hasCustomAnchor:c,onCustomAnchorAdd:k.useCallback(()=>u(!0),[]),onCustomAnchorRemove:k.useCallback(()=>u(!1),[]),modal:s,children:n})}))};$o.displayName=zo;var Ko="PopoverAnchor";k.forwardRef((e,t)=>{const n=e,{__scopePopover:r}=n,i=m(n,["__scopePopover"]),a=Vo(Ko,r),s=Bo(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return k.useEffect(()=>(o(),()=>l()),[o,l]),x.jsx(Wi,f(h(h({},s),i),{ref:t}))}).displayName=Ko;var Ho="PopoverTrigger",Uo=k.forwardRef((e,t)=>{const n=e,{__scopePopover:r}=n,i=m(n,["__scopePopover"]),a=Vo(Ho,r),s=Bo(r),o=ze(t,a.triggerRef),l=x.jsx(cn.button,f(h({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":il(a.open)},i),{ref:o,onClick:un(e.onClick,a.onOpenToggle)}));return a.hasCustomAnchor?l:x.jsx(Wi,f(h({asChild:!0},s),{children:l}))});Uo.displayName=Ho;var Yo="PopoverPortal",[qo,Go]=Lo(Yo,{forceMount:void 0}),Xo=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,a=Vo(Yo,t);return x.jsx(qo,{scope:t,forceMount:n,children:x.jsx(kn,{present:n||a.open,children:x.jsx(Ki,{asChild:!0,container:i,children:r})})})};Xo.displayName=Yo;var Qo="PopoverContent",Zo=k.forwardRef((e,t)=>{const n=Go(Qo,e.__scopePopover),r=e,{forceMount:i=n.forceMount}=r,a=m(r,["forceMount"]),s=Vo(Qo,e.__scopePopover);return x.jsx(kn,{present:i||s.open,children:s.modal?x.jsx(el,f(h({},a),{ref:t})):x.jsx(tl,f(h({},a),{ref:t}))})});Zo.displayName=Qo;var Jo=Le("PopoverContent.RemoveScroll"),el=k.forwardRef((e,t)=>{const n=Vo(Qo,e.__scopePopover),r=k.useRef(null),i=ze(t,r),a=k.useRef(!1);return k.useEffect(()=>{const e=r.current;if(e)return Zi(e)},[]),x.jsx(Fa,{as:Jo,allowPinchZoom:!0,children:x.jsx(nl,f(h({},e),{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:un(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),a.current||null==(t=n.triggerRef.current)||t.focus()}),onPointerDownOutside:un(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,r=2===t.button||n;a.current=r},{checkForDefaultPrevented:!1}),onFocusOutside:un(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})}))})}),tl=k.forwardRef((e,t)=>{const n=Vo(Qo,e.__scopePopover),r=k.useRef(!1),i=k.useRef(!1);return x.jsx(nl,f(h({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var a,s;null==(a=e.onCloseAutoFocus)||a.call(e,t),t.defaultPrevented||(r.current||null==(s=n.triggerRef.current)||s.focus(),t.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:t=>{var a,s;null==(a=e.onInteractOutside)||a.call(e,t),t.defaultPrevented||(r.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));const o=t.target;(null==(s=n.triggerRef.current)?void 0:s.contains(o))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}}))}),nl=k.forwardRef((e,t)=>{const n=e,{__scopePopover:r,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d}=n,p=m(n,["__scopePopover","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside"]),g=Vo(Qo,r),v=Bo(r);return In(),x.jsx(Wn,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:a,onUnmountAutoFocus:s,children:x.jsx(An,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>g.onOpenChange(!1),children:x.jsx(Vi,f(h(h({"data-state":il(g.open),role:"dialog",id:g.contentId},v),p),{ref:t,style:h(h({},p.style),{"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"})}))})})}),rl="PopoverClose";function il(e){return e?"open":"closed"}k.forwardRef((e,t)=>{const n=e,{__scopePopover:r}=n,i=m(n,["__scopePopover"]),a=Vo(rl,r);return x.jsx(cn.button,f(h({type:"button"},i),{ref:t,onClick:un(e.onClick,()=>a.onOpenChange(!1))}))}).displayName=rl,k.forwardRef((e,t)=>{const n=e,{__scopePopover:r}=n,i=m(n,["__scopePopover"]),a=Bo(r);return x.jsx($i,f(h(h({},a),i),{ref:t}))}).displayName="PopoverArrow";var al=Xo,sl=Zo;const ol=$o,ll=Uo,cl=k.forwardRef((e,t)=>{var n=e,{className:r,align:i="center",sideOffset:a=4}=n,s=m(n,["className","align","sideOffset"]);return x.jsx(al,{children:x.jsx(sl,h({ref:t,align:i,sideOffset:a,className:en("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none animate-in fade-in-0 zoom-in-95",r)},s))})});function ul(e){var t=e.width,n=e.height;if(t<0)throw new Error("Negative width is not allowed for Size");if(n<0)throw new Error("Negative height is not allowed for Size");return{width:t,height:n}}function dl(e,t){return e.width===t.width&&e.height===t.height}cl.displayName=sl.displayName;var hl=function(){function e(e){var t=this;this._resolutionListener=function(){return t._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=e,this._installResolutionListener()}return e.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(e.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),e.prototype.subscribe=function(e){var t=this,n={next:e};return this._observers.push(n),{unsubscribe:function(){t._observers=t._observers.filter(function(e){return e!==n})}}},e.prototype._installResolutionListener=function(){if(null!==this._resolutionMediaQueryList)throw new Error("Resolution listener is already installed");var e=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(e,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},e.prototype._uninstallResolutionListener=function(){null!==this._resolutionMediaQueryList&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},e.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},e.prototype._onResolutionChanged=function(){var e=this;this._observers.forEach(function(t){return t.next(e._window.devicePixelRatio)}),this._reinstallResolutionListener()},e}(),fl=function(){function e(e,t,n){var r;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=e,this._canvasElementClientSize=ul({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=null!=t?t:function(e){return e},this._allowResizeObserver=null===(r=null==n?void 0:n.allowResizeObserver)||void 0===r||r,this._chooseAndInitObserver()}return e.prototype.dispose=function(){var e,t;if(null===this._canvasElement)throw new Error("Object is disposed");null===(e=this._canvasElementResizeObserver)||void 0===e||e.disconnect(),this._canvasElementResizeObserver=null,null===(t=this._devicePixelRatioObservable)||void 0===t||t.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(e.prototype,"canvasElement",{get:function(){if(null===this._canvasElement)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bitmapSize",{get:function(){return ul({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),e.prototype.resizeCanvasElement=function(e){this._canvasElementClientSize=ul(e),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},e.prototype.subscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners.push(e)},e.prototype.unsubscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(t){return t!==e})},Object.defineProperty(e.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),e.prototype.subscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners.push(e)},e.prototype.unsubscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(t){return t!==e})},e.prototype.applySuggestedBitmapSize=function(){if(null!==this._suggestedBitmapSize){var e=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(e),this._emitSuggestedBitmapSizeChanged(e,this._suggestedBitmapSize)}},e.prototype._resizeBitmap=function(e){var t=this.bitmapSize;dl(t,e)||(this.canvasElement.width=e.width,this.canvasElement.height=e.height,this._emitBitmapSizeChanged(t,e))},e.prototype._emitBitmapSizeChanged=function(e,t){var n=this;this._bitmapSizeChangedListeners.forEach(function(r){return r.call(n,e,t)})},e.prototype._suggestNewBitmapSize=function(e){var t=this._suggestedBitmapSize,n=ul(this._transformBitmapSize(e,this._canvasElementClientSize)),r=dl(this.bitmapSize,n)?null:n;null===t&&null===r||null!==t&&null!==r&&dl(t,r)||(this._suggestedBitmapSize=r,this._emitSuggestedBitmapSizeChanged(t,r))},e.prototype._emitSuggestedBitmapSizeChanged=function(e,t){var n=this;this._suggestedBitmapSizeChangedListeners.forEach(function(r){return r.call(n,e,t)})},e.prototype._chooseAndInitObserver=function(){var e=this;this._allowResizeObserver?new Promise(function(e){var t=new ResizeObserver(function(n){e(n.every(function(e){return"devicePixelContentBoxSize"in e})),t.disconnect()});t.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1}).then(function(t){return t?e._initResizeObserver():e._initDevicePixelRatioObservable()}):this._initDevicePixelRatioObservable()},e.prototype._initDevicePixelRatioObservable=function(){var e=this;if(null!==this._canvasElement){var t=ml(this._canvasElement);if(null===t)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=function(e){return new hl(e)}(t),this._devicePixelRatioObservable.subscribe(function(){return e._invalidateBitmapSize()}),this._invalidateBitmapSize()}},e.prototype._invalidateBitmapSize=function(){var e,t;if(null!==this._canvasElement){var n=ml(this._canvasElement);if(null!==n){var r=null!==(t=null===(e=this._devicePixelRatioObservable)||void 0===e?void 0:e.value)&&void 0!==t?t:n.devicePixelRatio,i=this._canvasElement.getClientRects(),a=void 0!==i[0]?function(e,t){return ul({width:Math.round(e.left*t+e.width*t)-Math.round(e.left*t),height:Math.round(e.top*t+e.height*t)-Math.round(e.top*t)})}(i[0],r):ul({width:this._canvasElementClientSize.width*r,height:this._canvasElementClientSize.height*r});this._suggestNewBitmapSize(a)}}},e.prototype._initResizeObserver=function(){var e=this;null!==this._canvasElement&&(this._canvasElementResizeObserver=new ResizeObserver(function(t){var n=t.find(function(t){return t.target===e._canvasElement});if(n&&n.devicePixelContentBoxSize&&n.devicePixelContentBoxSize[0]){var r=n.devicePixelContentBoxSize[0],i=ul({width:r.inlineSize,height:r.blockSize});e._suggestNewBitmapSize(i)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},e}();function ml(e){return e.ownerDocument.defaultView}var pl=function(){function e(e,t,n){if(0===t.width||0===t.height)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=t,0===n.width||0===n.height)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=n,this._context=e}return e.prototype.useMediaCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),e({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},e.prototype.useBitmapCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),e({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(e.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),e}();function gl(e,t){var n=e.canvasElementClientSize;if(0===n.width||0===n.height)return null;var r=e.bitmapSize;if(0===r.width||0===r.height)return null;var i=e.canvasElement.getContext("2d",t);return null===i?null:new pl(i,n,r)}
/*!
     * @license
     * TradingView Lightweight Charts™ v5.0.8
     * Copyright (c) 2025 TradingView, Inc.
     * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
     */const vl={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var yl,xl,bl;function wl(e,t){const n={0:[],1:[e.lineWidth,e.lineWidth],2:[2*e.lineWidth,2*e.lineWidth],3:[6*e.lineWidth,6*e.lineWidth],4:[e.lineWidth,4*e.lineWidth]}[t];e.setLineDash(n)}function _l(e,t,n,r){e.beginPath();const i=e.lineWidth%2?.5:0;e.moveTo(n,t+i),e.lineTo(r,t+i),e.stroke()}function jl(e,t){if(!e)throw new Error("Assertion failed"+(t?": "+t:""))}function kl(e){if(void 0===e)throw new Error("Value is undefined");return e}function Nl(e){if(null===e)throw new Error("Value is null");return e}function Sl(e){return Nl(kl(e))}(bl=yl||(yl={}))[bl.Simple=0]="Simple",bl[bl.WithSteps=1]="WithSteps",bl[bl.Curved=2]="Curved",function(e){e[e.Solid=0]="Solid",e[e.Dotted=1]="Dotted",e[e.Dashed=2]="Dashed",e[e.LargeDashed=3]="LargeDashed",e[e.SparseDotted=4]="SparseDotted"}(xl||(xl={}));class Cl{constructor(){this.t=[]}i(e,t,n){const r={h:e,l:t,o:!0===n};this.t.push(r)}_(e){const t=this.t.findIndex(t=>e===t.h);t>-1&&this.t.splice(t,1)}u(e){this.t=this.t.filter(t=>t.l!==e)}p(e,t,n){const r=[...this.t];this.t=this.t.filter(e=>!e.o),r.forEach(r=>r.h(e,t,n))}v(){return this.t.length>0}m(){this.t=[]}}function El(e,...t){for(const n of t)for(const t in n)void 0!==n[t]&&Object.prototype.hasOwnProperty.call(n,t)&&!["__proto__","constructor","prototype"].includes(t)&&("object"!=typeof n[t]||void 0===e[t]||Array.isArray(n[t])?e[t]=n[t]:El(e[t],n[t]));return e}function Pl(e){return"number"==typeof e&&isFinite(e)}function Ml(e){return"number"==typeof e&&e%1==0}function Ol(e){return"string"==typeof e}function Al(e){return"boolean"==typeof e}function Tl(e){const t=e;if(!t||"object"!=typeof t)return t;let n,r,i;for(r in n=Array.isArray(t)?[]:{},t)t.hasOwnProperty(r)&&(i=t[r],n[r]=i&&"object"==typeof i?Tl(i):i);return n}function Dl(e){return null!==e}function Rl(e){return null===e?void 0:e}const Il="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function zl(e,t,n){return void 0===t&&(t=Il),`${n=void 0!==n?`${n} `:""}${e}px ${t}`}let Ll=class{constructor(e){this.M={S:1,C:5,P:NaN,k:"",T:"",R:"",D:"",V:0,I:0,B:0,A:0,L:0},this.O=e}N(){const e=this.M,t=this.F(),n=this.W();return e.P===t&&e.T===n||(e.P=t,e.T=n,e.k=zl(t,n),e.A=2.5/12*t,e.V=e.A,e.I=t/12*e.C,e.B=t/12*e.C,e.L=0),e.R=this.H(),e.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}F(){return this.O.N().layout.fontSize}W(){return this.O.N().layout.fontFamily}};function Fl(e){return e<0?0:e>255?255:Math.round(e)||0}function Bl(e){return.199*e[0]+.687*e[1]+.114*e[2]}let Wl=class{constructor(e,t){this.q=new Map,this.Y=e,t&&(this.q=t)}j(e,t){if("transparent"===e)return e;const n=this.K(e),r=n[3];return`rgba(${n[0]}, ${n[1]}, ${n[2]}, ${t*r})`}X(e){const t=this.K(e);return{Z:`rgb(${t[0]}, ${t[1]}, ${t[2]})`,G:Bl(t)>160?"black":"white"}}J(e){return Bl(this.K(e))}tt(e,t,n){const[r,i,a,s]=this.K(e),[o,l,c,u]=this.K(t),d=[Fl(r+n*(o-r)),Fl(i+n*(l-i)),Fl(a+n*(c-a)),(h=s+n*(u-s),h<=0||h>1?Math.min(Math.max(h,0),1):Math.round(1e4*h)/1e4)];var h;return`rgba(${d[0]}, ${d[1]}, ${d[2]}, ${d[3]})`}K(e){const t=this.q.get(e);if(t)return t;const n=function(e){const t=document.createElement("div");t.style.display="none",document.body.appendChild(t),t.style.color=e;const n=window.getComputedStyle(t).color;return document.body.removeChild(t),n}(e).match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!n){if(this.Y.length)for(const t of this.Y){const n=t(e);if(n)return this.q.set(e,n),n}throw new Error(`Failed to parse color: ${e}`)}const r=[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),n[4]?parseFloat(n[4]):1];return this.q.set(e,r),r}},Vl=class{constructor(){this.it=[]}st(e){this.it=e}nt(e,t,n){this.it.forEach(r=>{r.nt(e,t,n)})}};class $l{nt(e,t,n){e.useBitmapCoordinateSpace(e=>this.et(e,t,n))}}let Kl=class extends $l{constructor(){super(...arguments),this.rt=null}ht(e){this.rt=e}et({context:e,horizontalPixelRatio:t,verticalPixelRatio:n}){if(null===this.rt||null===this.rt.lt)return;const r=this.rt.lt,i=this.rt,a=Math.max(1,Math.floor(t))%2/2,s=s=>{e.beginPath();for(let o=r.to-1;o>=r.from;--o){const r=i.ot[o],l=Math.round(r._t*t)+a,c=r.ut*n,u=s*n+a;e.moveTo(l,c),e.arc(l,c,u,0,2*Math.PI)}e.fill()};i.ct>0&&(e.fillStyle=i.dt,s(i.ft+i.ct)),e.fillStyle=i.vt,s(i.ft)}};function Hl(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:"",dt:"",ft:0,ct:0,lt:null}}const Ul={from:0,to:1};let Yl=class{constructor(e,t,n){this.Mt=new Vl,this.bt=[],this.St=[],this.xt=!0,this.O=e,this.Ct=t,this.Pt=n,this.Mt.st(this.bt)}kt(e){this.yt(),this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Mt}yt(){const e=this.Pt.Dt();e.length!==this.bt.length&&(this.St=e.map(Hl),this.bt=this.St.map(e=>{const t=new Kl;return t.ht(e),t}),this.Mt.st(this.bt))}Rt(){const e=2===this.Ct.N().mode||!this.Ct.Vt(),t=this.Pt.It(),n=this.Ct.Bt(),r=this.O.Et();this.yt(),t.forEach((t,i)=>{var a;const s=this.St[i],o=t.At(n),l=t.zt();!e&&null!==o&&t.Vt()&&null!==l?(s.vt=o.Lt,s.ft=o.ft,s.ct=o.Ot,s.ot[0].gt=o.gt,s.ot[0].ut=t.Ft().Nt(o.gt,l.Wt),s.dt=null!=(a=o.Ht)?a:this.O.Ut(s.ot[0].ut/t.Ft().$t()),s.ot[0].wt=n,s.ot[0]._t=r.qt(n),s.lt=Ul):s.lt=null})}},ql=class extends $l{constructor(e){super(),this.Yt=e}et({context:e,bitmapSize:t,horizontalPixelRatio:n,verticalPixelRatio:r}){if(null===this.Yt)return;const i=this.Yt.jt.Vt,a=this.Yt.Kt.Vt;if(!i&&!a)return;const s=Math.round(this.Yt._t*n),o=Math.round(this.Yt.ut*r);e.lineCap="butt",i&&s>=0&&(e.lineWidth=Math.floor(this.Yt.jt.ct*n),e.strokeStyle=this.Yt.jt.R,e.fillStyle=this.Yt.jt.R,wl(e,this.Yt.jt.Xt),function(e,t,n,r){e.beginPath();const i=e.lineWidth%2?.5:0;e.moveTo(t+i,0),e.lineTo(t+i,r),e.stroke()}(e,s,0,t.height)),a&&o>=0&&(e.lineWidth=Math.floor(this.Yt.Kt.ct*r),e.strokeStyle=this.Yt.Kt.R,e.fillStyle=this.Yt.Kt.R,wl(e,this.Yt.Kt.Xt),_l(e,o,0,t.width))}},Gl=class{constructor(e,t){this.xt=!0,this.Zt={jt:{ct:1,Xt:0,R:"",Vt:!1},Kt:{ct:1,Xt:0,R:"",Vt:!1},_t:0,ut:0},this.Gt=new ql(this.Zt),this.Jt=e,this.Pt=t}kt(){this.xt=!0}Tt(e){return this.xt&&(this.Rt(),this.xt=!1),this.Gt}Rt(){const e=this.Jt.Vt(),t=this.Pt.Qt().N().crosshair,n=this.Zt;if(2===t.mode)return n.Kt.Vt=!1,void(n.jt.Vt=!1);n.Kt.Vt=e&&this.Jt.ti(this.Pt),n.jt.Vt=e&&this.Jt.ii(),n.Kt.ct=t.horzLine.width,n.Kt.Xt=t.horzLine.style,n.Kt.R=t.horzLine.color,n.jt.ct=t.vertLine.width,n.jt.Xt=t.vertLine.style,n.jt.R=t.vertLine.color,n._t=this.Jt.si(),n.ut=this.Jt.ni()}};function Xl(e,t,n,r,i,a){e.save(),e.globalCompositeOperation="copy",e.fillStyle=a,e.fillRect(t,n,r,i),e.restore()}function Ql(e,t,n,r,i,a){e.beginPath(),e.roundRect?e.roundRect(t,n,r,i,a):(e.lineTo(t+r-a[1],n),0!==a[1]&&e.arcTo(t+r,n,t+r,n+a[1],a[1]),e.lineTo(t+r,n+i-a[2]),0!==a[2]&&e.arcTo(t+r,n+i,t+r-a[2],n+i,a[2]),e.lineTo(t+a[3],n+i),0!==a[3]&&e.arcTo(t,n+i,t,n+i-a[3],a[3]),e.lineTo(t,n+a[0]),0!==a[0]&&e.arcTo(t,n,t+a[0],n,a[0]))}function Zl(e,t,n,r,i,a,s=0,o=[0,0,0,0],l=""){if(e.save(),!s||!l||l===a)return Ql(e,t,n,r,i,o),e.fillStyle=a,e.fill(),void e.restore();const c=s/2;var u;Ql(e,t+c,n+c,r-s,i-s,(u=-c,o.map(e=>0===e?e:e+u))),"transparent"!==a&&(e.fillStyle=a,e.fill()),"transparent"!==l&&(e.lineWidth=s,e.strokeStyle=l,e.closePath(),e.stroke()),e.restore()}function Jl(e,t,n,r,i,a,s){e.save(),e.globalCompositeOperation="copy";const o=e.createLinearGradient(0,0,0,i);o.addColorStop(0,a),o.addColorStop(1,s),e.fillStyle=o,e.fillRect(t,n,r,i),e.restore()}let ec=class{constructor(e,t){this.ht(e,t)}ht(e,t){this.Yt=e,this.ei=t}$t(e,t){return this.Yt.Vt?e.P+e.A+e.V:0}nt(e,t,n,r){if(!this.Yt.Vt||0===this.Yt.ri.length)return;const i=this.Yt.R,a=this.ei.Z,s=e.useBitmapCoordinateSpace(e=>{const s=e.context;s.font=t.k;const o=this.hi(e,t,n,r),l=o.ai;return o.li?Zl(s,l.oi,l._i,l.ui,l.ci,a,l.di,[l.ft,0,0,l.ft],a):Zl(s,l.fi,l._i,l.ui,l.ci,a,l.di,[0,l.ft,l.ft,0],a),this.Yt.pi&&(s.fillStyle=i,s.fillRect(l.fi,l.mi,l.wi-l.fi,l.gi)),this.Yt.Mi&&(s.fillStyle=t.D,s.fillRect(o.li?l.bi-l.di:0,l._i,l.di,l.Si-l._i)),o});e.useMediaCoordinateSpace(({context:e})=>{const n=s.xi;e.font=t.k,e.textAlign=s.li?"right":"left",e.textBaseline="middle",e.fillStyle=i,e.fillText(this.Yt.ri,n.Ci,(n._i+n.Si)/2+n.Pi)})}hi(e,t,n,r){var i;const{context:a,bitmapSize:s,mediaSize:o,horizontalPixelRatio:l,verticalPixelRatio:c}=e,u=this.Yt.pi||!this.Yt.ki?t.C:0,d=this.Yt.yi?t.S:0,h=t.A+this.ei.Ti,f=t.V+this.ei.Ri,m=t.I,p=t.B,g=this.Yt.ri,v=t.P,y=n.Di(a,g),x=Math.ceil(n.Vi(a,g)),b=v+h+f,w=t.S+m+p+x+u,_=Math.max(1,Math.floor(c));let j=Math.round(b*c);j%2!=_%2&&(j+=1);const k=d>0?Math.max(1,Math.floor(d*l)):0,N=Math.round(w*l),S=Math.round(u*l),C=null!=(i=this.ei.Ii)?i:this.ei.Bi,E=Math.round(C*c)-Math.floor(.5*c),P=Math.floor(E+_/2-j/2),M=P+j,O="right"===r,A=O?o.width-d:d,T=O?s.width-k:k;let D,R,I;return O?(D=T-N,R=T-S,I=A-u-m-d):(D=T+N,R=T+S,I=A+u+m),{li:O,ai:{_i:P,mi:E,Si:M,ui:N,ci:j,ft:2*l,di:k,oi:D,fi:T,wi:R,gi:_,bi:s.width},xi:{_i:P/c,Si:M/c,Ci:I,Pi:y}}}},tc=class{constructor(e){this.Ei={Bi:0,Z:"#000",Ri:0,Ti:0},this.Ai={ri:"",Vt:!1,pi:!0,ki:!1,Ht:"",R:"#FFF",Mi:!1,yi:!1},this.zi={ri:"",Vt:!1,pi:!1,ki:!0,Ht:"",R:"#FFF",Mi:!0,yi:!0},this.xt=!0,this.Li=new(e||ec)(this.Ai,this.Ei),this.Oi=new(e||ec)(this.zi,this.Ei)}ri(){return this.Ni(),this.Ai.ri}Bi(){return this.Ni(),this.Ei.Bi}kt(){this.xt=!0}$t(e,t=!1){return Math.max(this.Li.$t(e,t),this.Oi.$t(e,t))}Fi(){return this.Ei.Ii||0}Wi(e){this.Ei.Ii=e}Hi(){return this.Ni(),this.Ai.Vt||this.zi.Vt}Ui(){return this.Ni(),this.Ai.Vt}Tt(e){return this.Ni(),this.Ai.pi=this.Ai.pi&&e.N().ticksVisible,this.zi.pi=this.zi.pi&&e.N().ticksVisible,this.Li.ht(this.Ai,this.Ei),this.Oi.ht(this.zi,this.Ei),this.Li}$i(){return this.Ni(),this.Li.ht(this.Ai,this.Ei),this.Oi.ht(this.zi,this.Ei),this.Oi}Ni(){this.xt&&(this.Ai.pi=!0,this.zi.pi=!1,this.qi(this.Ai,this.zi,this.Ei))}},nc=class extends tc{constructor(e,t,n){super(),this.Jt=e,this.Yi=t,this.ji=n}qi(e,t,n){if(e.Vt=!1,2===this.Jt.N().mode)return;const r=this.Jt.N().horzLine;if(!r.labelVisible)return;const i=this.Yi.zt();if(!this.Jt.Vt()||this.Yi.Ki()||null===i)return;const a=this.Yi.Xi().X(r.labelBackgroundColor);n.Z=a.Z,e.R=a.G;const s=2/12*this.Yi.P();n.Ti=s,n.Ri=s;const o=this.ji(this.Yi);n.Bi=o.Bi,e.ri=this.Yi.Zi(o.gt,i),e.Vt=!0}};const rc=/[1-9]/g;class ic{constructor(){this.Yt=null}ht(e){this.Yt=e}nt(e,t){if(null===this.Yt||!1===this.Yt.Vt||0===this.Yt.ri.length)return;const n=e.useMediaCoordinateSpace(({context:e})=>(e.font=t.k,Math.round(t.Gi.Vi(e,Nl(this.Yt).ri,rc))));if(n<=0)return;const r=t.Ji,i=n+2*r,a=i/2,s=this.Yt.Qi;let o=this.Yt.Bi,l=Math.floor(o-a)+.5;l<0?(o+=Math.abs(0-l),l=Math.floor(o-a)+.5):l+i>s&&(o-=Math.abs(s-(l+i)),l=Math.floor(o-a)+.5);const c=l+i,u=Math.ceil(0+t.S+t.C+t.A+t.P+t.V);e.useBitmapCoordinateSpace(({context:e,horizontalPixelRatio:n,verticalPixelRatio:r})=>{const i=Nl(this.Yt);e.fillStyle=i.Z;const a=Math.round(l*n),s=Math.round(0*r),o=Math.round(c*n),d=Math.round(u*r),h=Math.round(2*n);if(e.beginPath(),e.moveTo(a,s),e.lineTo(a,d-h),e.arcTo(a,d,a+h,d,h),e.lineTo(o-h,d),e.arcTo(o,d,o,d-h,h),e.lineTo(o,s),e.fill(),i.pi){const a=Math.round(i.Bi*n),o=s,l=Math.round((o+t.C)*r);e.fillStyle=i.R;const c=Math.max(1,Math.floor(n)),u=Math.floor(.5*n);e.fillRect(a-u,o,c,l-o)}}),e.useMediaCoordinateSpace(({context:e})=>{const n=Nl(this.Yt),i=0+t.S+t.C+t.A+t.P/2;e.font=t.k,e.textAlign="left",e.textBaseline="middle",e.fillStyle=n.R;const a=t.Gi.Di(e,"Apr0");e.translate(l+r,i+a),e.fillText(n.ri,0,0)})}}let ac=class{constructor(e,t,n){this.xt=!0,this.Gt=new ic,this.Zt={Vt:!1,Z:"#4c525e",R:"white",ri:"",Qi:0,Bi:NaN,pi:!0},this.Ct=e,this.ts=t,this.ji=n}kt(){this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Gt.ht(this.Zt),this.Gt}Rt(){const e=this.Zt;if(e.Vt=!1,2===this.Ct.N().mode)return;const t=this.Ct.N().vertLine;if(!t.labelVisible)return;const n=this.ts.Et();if(n.Ki())return;e.Qi=n.Qi();const r=this.ji();if(null===r)return;e.Bi=r.Bi;const i=n.ss(this.Ct.Bt());e.ri=n.ns(Nl(i)),e.Vt=!0;const a=this.ts.Xi().X(t.labelBackgroundColor);e.Z=a.Z,e.R=a.G,e.pi=n.N().ticksVisible}};class sc{constructor(){this.es=null,this.rs=0}hs(){return this.rs}ls(e){this.rs=e}Ft(){return this.es}_s(e){this.es=e}us(e){return[]}cs(){return[]}Vt(){return!0}}var oc;!function(e){e[e.Normal=0]="Normal",e[e.Magnet=1]="Magnet",e[e.Hidden=2]="Hidden",e[e.MagnetOHLC=3]="MagnetOHLC"}(oc||(oc={}));let lc=class extends sc{constructor(e,t){super(),this.Pt=null,this.ds=NaN,this.fs=0,this.ps=!1,this.vs=new Map,this.ws=!1,this.gs=new WeakMap,this.Ms=new WeakMap,this.bs=NaN,this.Ss=NaN,this.xs=NaN,this.Cs=NaN,this.ts=e,this.Ps=t,this.ks=((e,t)=>n=>{const r=t(),i=e();if(n===Nl(this.Pt).ys())return{gt:i,Bi:r};{const e=Nl(n.zt());return{gt:n.Ts(r,e),Bi:r}}})(()=>this.ds,()=>this.Ss);const n=((e,t)=>()=>{const n=this.ts.Et().Rs(e()),r=t();return n&&Number.isFinite(r)?{wt:n,Bi:r}:null})(()=>this.fs,()=>this.si());this.Ds=new ac(this,e,n)}N(){return this.Ps}Vs(e,t){this.xs=e,this.Cs=t}Is(){this.xs=NaN,this.Cs=NaN}Bs(){return this.xs}Es(){return this.Cs}As(e,t,n){this.ws||(this.ws=!0),this.ps=!0,this.zs(e,t,n)}Bt(){return this.fs}si(){return this.bs}ni(){return this.Ss}Vt(){return this.ps}Ls(){this.ps=!1,this.Os(),this.ds=NaN,this.bs=NaN,this.Ss=NaN,this.Pt=null,this.Is(),this.Ns()}Fs(e){let t=this.gs.get(e);t||(t=new Gl(this,e),this.gs.set(e,t));let n=this.Ms.get(e);return n||(n=new Yl(this.ts,this,e),this.Ms.set(e,n)),[t,n]}ti(e){return e===this.Pt&&this.Ps.horzLine.visible}ii(){return this.Ps.vertLine.visible}Ws(e,t){this.ps&&this.Pt===e||this.vs.clear();const n=[];return this.Pt===e&&n.push(this.Hs(this.vs,t,this.ks)),n}cs(){return this.ps?[this.Ds]:[]}Us(){return this.Pt}Ns(){this.ts.$s().forEach(e=>{var t,n;null==(t=this.gs.get(e))||t.kt(),null==(n=this.Ms.get(e))||n.kt()}),this.vs.forEach(e=>e.kt()),this.Ds.kt()}qs(e){return e&&!e.ys().Ki()?e.ys():null}zs(e,t,n){this.Ys(e,t,n)&&this.Ns()}Ys(e,t,n){const r=this.bs,i=this.Ss,a=this.ds,s=this.fs,o=this.Pt,l=this.qs(n);this.fs=e,this.bs=isNaN(e)?NaN:this.ts.Et().qt(e),this.Pt=n;const c=null!==l?l.zt():null;return null!==l&&null!==c?(this.ds=t,this.Ss=l.Nt(t,c)):(this.ds=NaN,this.Ss=NaN),r!==this.bs||i!==this.Ss||s!==this.fs||a!==this.ds||o!==this.Pt}Os(){const e=this.ts.js().map(e=>e.Xs().Ks()).filter(Dl),t=0===e.length?null:Math.max(...e);this.fs=null!==t?t:NaN}Hs(e,t,n){let r=e.get(t);return void 0===r&&(r=new nc(this,t,n),e.set(t,r)),r}};function cc(e){return"left"===e||"right"===e}let uc=class e{constructor(e){this.Zs=new Map,this.Gs=[],this.Js=e}Qs(e,t){const n=(r=this.Zs.get(e),i=t,void 0===r?i:{tn:Math.max(r.tn,i.tn),sn:r.sn||i.sn});var r,i;this.Zs.set(e,n)}nn(){return this.Js}en(e){const t=this.Zs.get(e);return void 0===t?{tn:this.Js}:{tn:Math.max(this.Js,t.tn),sn:t.sn}}rn(){this.hn(),this.Gs=[{an:0}]}ln(e){this.hn(),this.Gs=[{an:1,Wt:e}]}_n(e){this.un(),this.Gs.push({an:5,Wt:e})}hn(){this.un(),this.Gs.push({an:6})}cn(){this.hn(),this.Gs=[{an:4}]}dn(e){this.hn(),this.Gs.push({an:2,Wt:e})}fn(e){this.hn(),this.Gs.push({an:3,Wt:e})}pn(){return this.Gs}vn(e){for(const t of e.Gs)this.mn(t);this.Js=Math.max(this.Js,e.Js),e.Zs.forEach((e,t)=>{this.Qs(t,e)})}static wn(){return new e(2)}static gn(){return new e(3)}mn(e){switch(e.an){case 0:this.rn();break;case 1:this.ln(e.Wt);break;case 2:this.dn(e.Wt);break;case 3:this.fn(e.Wt);break;case 4:this.cn();break;case 5:this._n(e.Wt);break;case 6:this.un()}}un(){const e=this.Gs.findIndex(e=>5===e.an);-1!==e&&this.Gs.splice(e,1)}},dc=class{formatTickmarks(e){return e.map(e=>this.format(e))}};function hc(e,t){if(!Pl(e))return"n/a";if(!Ml(t))throw new TypeError("invalid length");if(t<0||t>16)throw new TypeError("invalid length");return 0===t?e.toString():("0000000000000000"+e.toString()).slice(-t)}class fc extends dc{constructor(e,t){if(super(),t||(t=1),Pl(e)&&Ml(e)||(e=100),e<0)throw new TypeError("invalid base");this.Yi=e,this.Mn=t,this.bn()}format(e){const t=e<0?"−":"";return e=Math.abs(e),t+this.Sn(e)}bn(){if(this.xn=0,this.Yi>0&&this.Mn>0){let e=this.Yi;for(;e>1;)e/=10,this.xn++}}Sn(e){const t=this.Yi/this.Mn;let n=Math.floor(e),r="";const i=void 0!==this.xn?this.xn:NaN;if(t>1){let a=+(Math.round(e*t)-n*t).toFixed(this.xn);a>=t&&(a-=t,n+=1),r="."+hc(+a.toFixed(this.xn)*this.Mn,i)}else n=Math.round(n*t)/t,i>0&&(r="."+hc(0,i));return n.toFixed(0)+r}}class mc extends fc{constructor(e=100){super(e)}format(e){return`${super.format(e)}%`}}class pc extends dc{constructor(e){super(),this.Cn=e}format(e){let t="";return e<0&&(t="-",e=-e),e<995?t+this.Pn(e):e<999995?t+this.Pn(e/1e3)+"K":e<999999995?(e=1e3*Math.round(e/1e3),t+this.Pn(e/1e6)+"M"):(e=1e6*Math.round(e/1e6),t+this.Pn(e/1e9)+"B")}Pn(e){let t;const n=Math.pow(10,this.Cn);return t=(e=Math.round(e*n)/n)>=1e-15&&e<1?e.toFixed(this.Cn).replace(/\.?0+$/,""):String(e),t.replace(/(\.[1-9]*)0+$/,(e,t)=>t)}}const gc=/[2-9]/g;class vc{constructor(e=50){this.kn=0,this.yn=1,this.Tn=1,this.Rn={},this.Dn=new Map,this.Vn=e}In(){this.kn=0,this.Dn.clear(),this.yn=1,this.Tn=1,this.Rn={}}Vi(e,t,n){return this.Bn(e,t,n).width}Di(e,t,n){const r=this.Bn(e,t,n);return((r.actualBoundingBoxAscent||0)-(r.actualBoundingBoxDescent||0))/2}Bn(e,t,n){const r=n||gc,i=String(t).replace(r,"0");if(this.Dn.has(i))return kl(this.Dn.get(i)).En;if(this.kn===this.Vn){const e=this.Rn[this.Tn];delete this.Rn[this.Tn],this.Dn.delete(e),this.Tn++,this.kn--}e.save(),e.textBaseline="middle";const a=e.measureText(i);return e.restore(),0===a.width&&t.length||(this.Dn.set(i,{En:a,An:this.yn}),this.Rn[this.yn]=i,this.kn++,this.yn++),a}}class yc{constructor(e){this.zn=null,this.M=null,this.Ln="right",this.On=e}Nn(e,t,n){this.zn=e,this.M=t,this.Ln=n}nt(e){null!==this.M&&null!==this.zn&&this.zn.nt(e,this.M,this.On,this.Ln)}}class xc{constructor(e,t,n){this.Fn=e,this.On=new vc(50),this.Wn=t,this.O=n,this.F=-1,this.Gt=new yc(this.On)}Tt(){const e=this.O.Hn(this.Wn);if(null===e)return null;const t=e.Un(this.Wn)?e.$n():this.Wn.Ft();if(null===t)return null;const n=e.qn(t);if("overlay"===n)return null;const r=this.O.Yn();return r.P!==this.F&&(this.F=r.P,this.On.In()),this.Gt.Nn(this.Fn.$i(),r,n),this.Gt}}class bc extends $l{constructor(){super(...arguments),this.Yt=null}ht(e){this.Yt=e}jn(e,t){var n;if(!(null==(n=this.Yt)?void 0:n.Vt))return null;const{ut:r,ct:i,Kn:a}=this.Yt;return t>=r-i-7&&t<=r+i+7?{Xn:this.Yt,Kn:a}:null}et({context:e,bitmapSize:t,horizontalPixelRatio:n,verticalPixelRatio:r}){if(null===this.Yt)return;if(!1===this.Yt.Vt)return;const i=Math.round(this.Yt.ut*r);i<0||i>t.height||(e.lineCap="butt",e.strokeStyle=this.Yt.R,e.lineWidth=Math.floor(this.Yt.ct*n),wl(e,this.Yt.Xt),_l(e,i,0,t.width))}}class wc{constructor(e){this.Zn={ut:0,R:"rgba(0, 0, 0, 0)",ct:1,Xt:0,Vt:!1},this.Gn=new bc,this.xt=!0,this.Jn=e,this.Qn=e.Qt(),this.Gn.ht(this.Zn)}kt(){this.xt=!0}Tt(){return this.Jn.Vt()?(this.xt&&(this.te(),this.xt=!1),this.Gn):null}}class _c extends wc{constructor(e){super(e)}te(){this.Zn.Vt=!1;const e=this.Jn.Ft(),t=e.ie().ie;if(2!==t&&3!==t)return;const n=this.Jn.N();if(!n.baseLineVisible||!this.Jn.Vt())return;const r=this.Jn.zt();null!==r&&(this.Zn.Vt=!0,this.Zn.ut=e.Nt(r.Wt,r.Wt),this.Zn.R=n.baseLineColor,this.Zn.ct=n.baseLineWidth,this.Zn.Xt=n.baseLineStyle)}}class jc extends $l{constructor(){super(...arguments),this.Yt=null}ht(e){this.Yt=e}se(){return this.Yt}et({context:e,horizontalPixelRatio:t,verticalPixelRatio:n}){const r=this.Yt;if(null===r)return;const i=Math.max(1,Math.floor(t)),a=i%2/2,s=Math.round(r.ne.x*t)+a,o=r.ne.y*n;e.fillStyle=r.ee,e.beginPath();const l=Math.max(2,1.5*r.re)*t;e.arc(s,o,l,0,2*Math.PI,!1),e.fill(),e.fillStyle=r.he,e.beginPath(),e.arc(s,o,r.ft*t,0,2*Math.PI,!1),e.fill(),e.lineWidth=i,e.strokeStyle=r.ae,e.beginPath(),e.arc(s,o,r.ft*t+i/2,0,2*Math.PI,!1),e.stroke()}}const kc=[{le:0,oe:.25,_e:4,ue:10,ce:.25,de:0,fe:.4,pe:.8},{le:.25,oe:.525,_e:10,ue:14,ce:0,de:0,fe:.8,pe:0},{le:.525,oe:1,_e:14,ue:14,ce:0,de:0,fe:0,pe:0}];class Nc{constructor(e){this.Gt=new jc,this.xt=!0,this.ve=!0,this.me=performance.now(),this.we=this.me-1,this.ge=e}Me(){this.we=this.me-1,this.kt()}be(){if(this.kt(),2===this.ge.N().lastPriceAnimation){const e=performance.now(),t=this.we-e;if(t>0)return void(t<650&&(this.we+=2600));this.me=e,this.we=e+2600}}kt(){this.xt=!0}Se(){this.ve=!0}Vt(){return 0!==this.ge.N().lastPriceAnimation}xe(){switch(this.ge.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.we}}Tt(){return this.xt?(this.Rt(),this.xt=!1,this.ve=!1):this.ve&&(this.Ce(),this.ve=!1),this.Gt}Rt(){this.Gt.ht(null);const e=this.ge.Qt().Et(),t=e.Pe(),n=this.ge.zt();if(null===t||null===n)return;const r=this.ge.ke(!0);if(r.ye||!t.Te(r.Re))return;const i={x:e.qt(r.Re),y:this.ge.Ft().Nt(r.gt,n.Wt)},a=r.R,s=this.ge.N().lineWidth,o=this.De(this.Ve(),a);this.Gt.ht({ee:a,re:s,he:o.he,ae:o.ae,ft:o.ft,ne:i})}Ce(){const e=this.Gt.se();if(null!==e){const t=this.De(this.Ve(),e.ee);e.he=t.he,e.ae=t.ae,e.ft=t.ft}}Ve(){return this.xe()?performance.now()-this.me:2599}Ie(e,t,n,r){const i=n+(r-n)*t;return this.ge.Qt().Xi().j(e,i)}De(e,t){const n=e%2600/2600;let r;for(const l of kc)if(n>=l.le&&n<=l.oe){r=l;break}jl(void 0!==r,"Last price animation internal logic error");const i=(n-r.le)/(r.oe-r.le);return{he:this.Ie(t,i,r.ce,r.de),ae:this.Ie(t,i,r.fe,r.pe),ft:(a=i,s=r._e,o=r.ue,s+(o-s)*a)};var a,s,o}}class Sc extends wc{constructor(e){super(e)}te(){const e=this.Zn;e.Vt=!1;const t=this.Jn.N();if(!t.priceLineVisible||!this.Jn.Vt())return;const n=this.Jn.ke(0===t.priceLineSource);n.ye||(e.Vt=!0,e.ut=n.Bi,e.R=this.Jn.Be(n.R),e.ct=t.priceLineWidth,e.Xt=t.priceLineStyle)}}class Cc extends tc{constructor(e){super(),this.Jt=e}qi(e,t,n){e.Vt=!1,t.Vt=!1;const r=this.Jt;if(!r.Vt())return;const i=r.N(),a=i.lastValueVisible,s=""!==r.Ee(),o=0===i.seriesLastValueMode,l=r.ke(!1);if(l.ye)return;a&&(e.ri=this.Ae(l,a,o),e.Vt=0!==e.ri.length),(s||o)&&(t.ri=this.ze(l,a,s,o),t.Vt=t.ri.length>0);const c=r.Be(l.R),u=this.Jt.Qt().Xi().X(c);n.Z=u.Z,n.Bi=l.Bi,t.Ht=r.Qt().Ut(l.Bi/r.Ft().$t()),e.Ht=c,e.R=u.G,t.R=u.G}ze(e,t,n,r){let i="";const a=this.Jt.Ee();return n&&0!==a.length&&(i+=`${a} `),t&&r&&(i+=this.Jt.Ft().Le()?e.Oe:e.Ne),i.trim()}Ae(e,t,n){return t?n?this.Jt.Ft().Le()?e.Ne:e.Oe:e.ri:""}}function Ec(e,t,n,r){const i=Number.isFinite(t),a=Number.isFinite(n);return i&&a?e(t,n):i||a?i?t:n:r}class Pc{constructor(e,t){this.Fe=e,this.We=t}He(e){return null!==e&&this.Fe===e.Fe&&this.We===e.We}Ue(){return new Pc(this.Fe,this.We)}$e(){return this.Fe}qe(){return this.We}Ye(){return this.We-this.Fe}Ki(){return this.We===this.Fe||Number.isNaN(this.We)||Number.isNaN(this.Fe)}vn(e){return null===e?this:new Pc(Ec(Math.min,this.$e(),e.$e(),-1/0),Ec(Math.max,this.qe(),e.qe(),1/0))}je(e){if(!Pl(e))return;if(0===this.We-this.Fe)return;const t=.5*(this.We+this.Fe);let n=this.We-t,r=this.Fe-t;n*=e,r*=e,this.We=t+n,this.Fe=t+r}Ke(e){Pl(e)&&(this.We+=e,this.Fe+=e)}Xe(){return{minValue:this.Fe,maxValue:this.We}}static Ze(e){return null===e?null:new Pc(e.minValue,e.maxValue)}}class Mc{constructor(e,t){this.Ge=e,this.Je=t||null}Qe(){return this.Ge}tr(){return this.Je}Xe(){return{priceRange:null===this.Ge?null:this.Ge.Xe(),margins:this.Je||void 0}}static Ze(e){return null===e?null:new Mc(Pc.Ze(e.priceRange),e.margins)}}class Oc extends wc{constructor(e,t){super(e),this.ir=t}te(){const e=this.Zn;e.Vt=!1;const t=this.ir.N();if(!this.Jn.Vt()||!t.lineVisible)return;const n=this.ir.sr();null!==n&&(e.Vt=!0,e.ut=n,e.R=t.color,e.ct=t.lineWidth,e.Xt=t.lineStyle,e.Kn=this.ir.N().id)}}class Ac extends tc{constructor(e,t){super(),this.ge=e,this.ir=t}qi(e,t,n){e.Vt=!1,t.Vt=!1;const r=this.ir.N(),i=r.axisLabelVisible,a=""!==r.title,s=this.ge;if(!i||!s.Vt())return;const o=this.ir.sr();if(null===o)return;a&&(t.ri=r.title,t.Vt=!0),t.Ht=s.Qt().Ut(o/s.Ft().$t()),e.ri=this.nr(r.price),e.Vt=!0;const l=this.ge.Qt().Xi().X(r.axisLabelColor||r.color);n.Z=l.Z;const c=r.axisLabelTextColor||l.G;e.R=c,t.R=c,n.Bi=o}nr(e){const t=this.ge.zt();return null===t?"":this.ge.Ft().Zi(e,t.Wt)}}class Tc{constructor(e,t){this.ge=e,this.Ps=t,this.er=new Oc(e,this),this.Fn=new Ac(e,this),this.rr=new xc(this.Fn,e,e.Qt())}hr(e){El(this.Ps,e),this.kt(),this.ge.Qt().ar()}N(){return this.Ps}lr(){return this.er}_r(){return this.rr}ur(){return this.Fn}kt(){this.er.kt(),this.Fn.kt()}sr(){const e=this.ge,t=e.Ft();if(e.Qt().Et().Ki()||t.Ki())return null;const n=e.zt();return null===n?null:t.Nt(this.Ps.price,n.Wt)}}class Dc extends sc{constructor(e){super(),this.ts=e}Qt(){return this.ts}}const Rc={Bar:(e,t,n,r)=>{var i;const a=t.upColor,s=t.downColor,o=Nl(e(n,r)),l=Sl(o.Wt[0])<=Sl(o.Wt[3]);return{cr:null!=(i=o.R)?i:l?a:s}},Candlestick:(e,t,n,r)=>{var i,a,s;const o=t.upColor,l=t.downColor,c=t.borderUpColor,u=t.borderDownColor,d=t.wickUpColor,h=t.wickDownColor,f=Nl(e(n,r)),m=Sl(f.Wt[0])<=Sl(f.Wt[3]);return{cr:null!=(i=f.R)?i:m?o:l,dr:null!=(a=f.Ht)?a:m?c:u,pr:null!=(s=f.vr)?s:m?d:h}},Custom:(e,t,n,r)=>{var i;return{cr:null!=(i=Nl(e(n,r)).R)?i:t.color}},Area:(e,t,n,r)=>{var i,a,s,o;const l=Nl(e(n,r));return{cr:null!=(i=l.vt)?i:t.lineColor,vt:null!=(a=l.vt)?a:t.lineColor,mr:null!=(s=l.mr)?s:t.topColor,wr:null!=(o=l.wr)?o:t.bottomColor}},Baseline:(e,t,n,r)=>{var i,a,s,o,l,c;const u=Nl(e(n,r));return{cr:u.Wt[3]>=t.baseValue.price?t.topLineColor:t.bottomLineColor,gr:null!=(i=u.gr)?i:t.topLineColor,Mr:null!=(a=u.Mr)?a:t.bottomLineColor,br:null!=(s=u.br)?s:t.topFillColor1,Sr:null!=(o=u.Sr)?o:t.topFillColor2,Cr:null!=(l=u.Cr)?l:t.bottomFillColor1,Pr:null!=(c=u.Pr)?c:t.bottomFillColor2}},Line:(e,t,n,r)=>{var i,a;const s=Nl(e(n,r));return{cr:null!=(i=s.R)?i:t.color,vt:null!=(a=s.R)?a:t.color}},Histogram:(e,t,n,r)=>{var i;return{cr:null!=(i=Nl(e(n,r)).R)?i:t.color}}};class Ic{constructor(e){this.kr=(e,t)=>void 0!==t?t.Wt:this.ge.Xs().yr(e),this.ge=e,this.Tr=Rc[e.Rr()]}Dr(e,t){return this.Tr(this.kr,this.ge.N(),e,t)}}function zc(e,t,n,r,i=0,a=t.length){let s=a-i;for(;0<s;){const a=s>>1,o=i+a;r(t[o],n)===e?(i=o+1,s-=a+1):s=a}return i}const Lc=zc.bind(null,!0),Fc=zc.bind(null,!1);var Bc;!function(e){e[e.NearestLeft=-1]="NearestLeft",e[e.None=0]="None",e[e.NearestRight=1]="NearestRight"}(Bc||(Bc={}));const Wc=30;class Vc{constructor(){this.Vr=[],this.Ir=new Map,this.Br=new Map,this.Er=[]}Ar(){return this.zr()>0?this.Vr[this.Vr.length-1]:null}Lr(){return this.zr()>0?this.Or(0):null}Ks(){return this.zr()>0?this.Or(this.Vr.length-1):null}zr(){return this.Vr.length}Ki(){return 0===this.zr()}Te(e){return null!==this.Nr(e,0)}yr(e){return this.Fr(e)}Fr(e,t=0){const n=this.Nr(e,t);return null===n?null:f(h({},this.Wr(n)),{Re:this.Or(n)})}Hr(){return this.Vr}Ur(e,t,n){if(this.Ki())return null;let r=null;for(const i of n)r=$c(r,this.$r(e,t,i));return r}ht(e){this.Br.clear(),this.Ir.clear(),this.Vr=e,this.Er=e.map(e=>e.Re)}qr(){return this.Er}Or(e){return this.Vr[e].Re}Wr(e){return this.Vr[e]}Nr(e,t){const n=this.Yr(e);if(null===n&&0!==t)switch(t){case-1:return this.jr(e);case 1:return this.Kr(e);default:throw new TypeError("Unknown search mode")}return n}jr(e){let t=this.Xr(e);return t>0&&(t-=1),t!==this.Vr.length&&this.Or(t)<e?t:null}Kr(e){const t=this.Zr(e);return t!==this.Vr.length&&e<this.Or(t)?t:null}Yr(e){const t=this.Xr(e);return t===this.Vr.length||e<this.Vr[t].Re?null:t}Xr(e){return Lc(this.Vr,e,(e,t)=>e.Re<t)}Zr(e){return Fc(this.Vr,e,(e,t)=>e.Re>t)}Gr(e,t,n){let r=null;for(let i=e;i<t;i++){const e=this.Vr[i].Wt[n];Number.isNaN(e)||(null===r?r={Jr:e,Qr:e}:(e<r.Jr&&(r.Jr=e),e>r.Qr&&(r.Qr=e)))}return r}$r(e,t,n){if(this.Ki())return null;let r=null;const i=Nl(this.Lr()),a=Nl(this.Ks()),s=Math.max(e,i),o=Math.min(t,a),l=Math.ceil(s/Wc)*Wc,c=Math.max(l,Math.floor(o/Wc)*Wc);{const e=this.Xr(s),i=this.Zr(Math.min(o,l,t));r=$c(r,this.Gr(e,i,n))}let u=this.Ir.get(n);void 0===u&&(u=new Map,this.Ir.set(n,u));for(let d=Math.max(l+1,s);d<c;d+=Wc){const e=Math.floor(d/Wc);let t=u.get(e);if(void 0===t){const r=this.Xr(e*Wc),i=this.Zr((e+1)*Wc-1);t=this.Gr(r,i,n),u.set(e,t)}r=$c(r,t)}{const e=this.Xr(c),t=this.Zr(o);r=$c(r,this.Gr(e,t,n))}return r}}function $c(e,t){return null===e?t:null===t?e:{Jr:Math.min(e.Jr,t.Jr),Qr:Math.max(e.Qr,t.Qr)}}class Kc{constructor(e){this.th=e}nt(e,t,n){this.th.draw(e)}ih(e,t,n){var r,i;null==(i=(r=this.th).drawBackground)||i.call(r,e)}}class Hc{constructor(e){this.Dn=null,this.sh=e}Tt(){var e;const t=this.sh.renderer();if(null===t)return null;if((null==(e=this.Dn)?void 0:e.nh)===t)return this.Dn.eh;const n=new Kc(t);return this.Dn={nh:t,eh:n},n}rh(){var e,t,n;return null!=(n=null==(t=(e=this.sh).zOrder)?void 0:t.call(e))?n:"normal"}}class Uc{constructor(e){this.hh=null,this.ah=e}oh(){return this.ah}Ns(){var e,t;null==(t=(e=this.ah).updateAllViews)||t.call(e)}Fs(){var e,t,n,r;const i=null!=(n=null==(t=(e=this.ah).paneViews)?void 0:t.call(e))?n:[];if((null==(r=this.hh)?void 0:r.nh)===i)return this.hh.eh;const a=i.map(e=>new Hc(e));return this.hh={nh:i,eh:a},a}jn(e,t){var n,r,i;return null!=(i=null==(r=(n=this.ah).hitTest)?void 0:r.call(n,e,t))?i:null}}let Yc=class extends Uc{us(){return[]}};class qc{constructor(e){this.th=e}nt(e,t,n){this.th.draw(e)}ih(e,t,n){var r,i;null==(i=(r=this.th).drawBackground)||i.call(r,e)}}class Gc{constructor(e){this.Dn=null,this.sh=e}Tt(){var e;const t=this.sh.renderer();if(null===t)return null;if((null==(e=this.Dn)?void 0:e.nh)===t)return this.Dn.eh;const n=new qc(t);return this.Dn={nh:t,eh:n},n}rh(){var e,t,n;return null!=(n=null==(t=(e=this.sh).zOrder)?void 0:t.call(e))?n:"normal"}}function Xc(e){var t,n,r,i,a;return{ri:e.text(),Bi:e.coordinate(),Ii:null==(t=e.fixedCoordinate)?void 0:t.call(e),R:e.textColor(),Z:e.backColor(),Vt:null==(r=null==(n=e.visible)?void 0:n.call(e))||r,pi:null==(a=null==(i=e.tickVisible)?void 0:i.call(e))||a}}class Qc{constructor(e,t){this.Gt=new ic,this._h=e,this.uh=t}Tt(){return this.Gt.ht(h({Qi:this.uh.Qi()},Xc(this._h))),this.Gt}}class Zc extends tc{constructor(e,t){super(),this._h=e,this.Yi=t}qi(e,t,n){const r=Xc(this._h);n.Z=r.Z,e.R=r.R;const i=2/12*this.Yi.P();n.Ti=i,n.Ri=i,n.Bi=r.Bi,n.Ii=r.Ii,e.ri=r.ri,e.Vt=r.Vt,e.pi=r.pi}}class Jc extends Uc{constructor(e,t){super(e),this.dh=null,this.fh=null,this.ph=null,this.mh=null,this.ge=t}cs(){var e,t,n,r;const i=null!=(n=null==(t=(e=this.ah).timeAxisViews)?void 0:t.call(e))?n:[];if((null==(r=this.dh)?void 0:r.nh)===i)return this.dh.eh;const a=this.ge.Qt().Et(),s=i.map(e=>new Qc(e,a));return this.dh={nh:i,eh:s},s}Ws(){var e,t,n,r;const i=null!=(n=null==(t=(e=this.ah).priceAxisViews)?void 0:t.call(e))?n:[];if((null==(r=this.fh)?void 0:r.nh)===i)return this.fh.eh;const a=this.ge.Ft(),s=i.map(e=>new Zc(e,a));return this.fh={nh:i,eh:s},s}wh(){var e,t,n,r;const i=null!=(n=null==(t=(e=this.ah).priceAxisPaneViews)?void 0:t.call(e))?n:[];if((null==(r=this.ph)?void 0:r.nh)===i)return this.ph.eh;const a=i.map(e=>new Gc(e));return this.ph={nh:i,eh:a},a}gh(){var e,t,n,r;const i=null!=(n=null==(t=(e=this.ah).timeAxisPaneViews)?void 0:t.call(e))?n:[];if((null==(r=this.mh)?void 0:r.nh)===i)return this.mh.eh;const a=i.map(e=>new Gc(e));return this.mh={nh:i,eh:a},a}Mh(e,t){var n,r,i;return null!=(i=null==(r=(n=this.ah).autoscaleInfo)?void 0:r.call(n,e,t))?i:null}}function eu(e,t,n,r){e.forEach(e=>{t(e).forEach(e=>{e.rh()===n&&r.push(e)})})}function tu(e){return e.Fs()}function nu(e){return e.wh()}function ru(e){return e.gh()}const iu=["Area","Line","Baseline"];class au extends Dc{constructor(e,t,n,r,i){super(e),this.Yt=new Vc,this.er=new Sc(this),this.bh=[],this.Sh=new _c(this),this.xh=null,this.Ch=null,this.Ph=null,this.kh=[],this.Ps=n,this.yh=t;const a=new Cc(this);this.vs=[a],this.rr=new xc(a,this,e),iu.includes(this.yh)&&(this.xh=new Nc(this)),this.Th(),this.sh=r(this,this.Qt(),i)}m(){null!==this.Ph&&clearTimeout(this.Ph)}Be(e){return this.Ps.priceLineColor||e}ke(e){const t={ye:!0},n=this.Ft();if(this.Qt().Et().Ki()||n.Ki()||this.Yt.Ki())return t;const r=this.Qt().Et().Pe(),i=this.zt();if(null===r||null===i)return t;let a,s;if(e){const e=this.Yt.Ar();if(null===e)return t;a=e,s=e.Re}else{const e=this.Yt.Fr(r.bi(),-1);if(null===e)return t;if(a=this.Yt.yr(e.Re),null===a)return t;s=e.Re}const o=a.Wt[3],l=this.Rh().Dr(s,{Wt:a}),c=n.Nt(o,i.Wt);return{ye:!1,gt:o,ri:n.Zi(o,i.Wt),Oe:n.Dh(o),Ne:n.Vh(o,i.Wt),R:l.cr,Bi:c,Re:s}}Rh(){return null!==this.Ch||(this.Ch=new Ic(this)),this.Ch}N(){return this.Ps}hr(e){const t=e.priceScaleId;void 0!==t&&t!==this.Ps.priceScaleId&&this.Qt().Ih(this,t),El(this.Ps,e),void 0!==e.priceFormat&&(this.Th(),this.Qt().Bh()),this.Qt().Eh(this),this.Qt().Ah(),this.sh.kt("options")}ht(e,t){this.Yt.ht(e),this.sh.kt("data"),null!==this.xh&&(t&&t.zh?this.xh.be():0===e.length&&this.xh.Me());const n=this.Qt().Hn(this);this.Qt().Lh(n),this.Qt().Eh(this),this.Qt().Ah(),this.Qt().ar()}Oh(e){const t=new Tc(this,e);return this.bh.push(t),this.Qt().Eh(this),t}Nh(e){const t=this.bh.indexOf(e);-1!==t&&this.bh.splice(t,1),this.Qt().Eh(this)}Fh(){return this.bh}Rr(){return this.yh}zt(){const e=this.Wh();return null===e?null:{Wt:e.Wt[3],Hh:e.wt}}Wh(){const e=this.Qt().Et().Pe();if(null===e)return null;const t=e.Uh();return this.Yt.Fr(t,1)}Xs(){return this.Yt}$h(e){const t=this.Yt.yr(e);return null===t?null:"Bar"===this.yh||"Candlestick"===this.yh||"Custom"===this.yh?{qh:t.Wt[0],Yh:t.Wt[1],jh:t.Wt[2],Kh:t.Wt[3]}:t.Wt[3]}Xh(e){const t=[];eu(this.kh,tu,"top",t);const n=this.xh;return null!==n&&n.Vt()?(null===this.Ph&&n.xe()&&(this.Ph=setTimeout(()=>{this.Ph=null,this.Qt().Zh()},0)),n.Se(),t.unshift(n),t):t}Fs(){const e=[];this.Gh()||e.push(this.Sh),e.push(this.sh,this.er);const t=this.bh.map(e=>e.lr());return e.push(...t),eu(this.kh,tu,"normal",e),e}Jh(){return this.Qh(tu,"bottom")}ta(e){return this.Qh(nu,e)}ia(e){return this.Qh(ru,e)}sa(e,t){return this.kh.map(n=>n.jn(e,t)).filter(e=>null!==e)}us(){return[this.rr,...this.bh.map(e=>e._r())]}Ws(e,t){if(t!==this.es&&!this.Gh())return[];const n=[...this.vs];for(const r of this.bh)n.push(r.ur());return this.kh.forEach(e=>{n.push(...e.Ws())}),n}cs(){const e=[];return this.kh.forEach(t=>{e.push(...t.cs())}),e}Mh(e,t){if(void 0!==this.Ps.autoscaleInfoProvider){const n=this.Ps.autoscaleInfoProvider(()=>{const n=this.na(e,t);return null===n?null:n.Xe()});return Mc.Ze(n)}return this.na(e,t)}ea(){return this.Ps.priceFormat.minMove}ra(){return this.ha}Ns(){var e;this.sh.kt();for(const t of this.vs)t.kt();for(const t of this.bh)t.kt();this.er.kt(),this.Sh.kt(),null==(e=this.xh)||e.kt(),this.kh.forEach(e=>e.Ns())}Ft(){return Nl(super.Ft())}At(e){if("Line"!==this.yh&&"Area"!==this.yh&&"Baseline"!==this.yh||!this.Ps.crosshairMarkerVisible)return null;const t=this.Yt.yr(e);return null===t?null:{gt:t.Wt[3],ft:this.aa(),Ht:this.la(),Ot:this.oa(),Lt:this._a(e)}}Ee(){return this.Ps.title}Vt(){return this.Ps.visible}ua(e){this.kh.push(new Jc(e,this))}ca(e){this.kh=this.kh.filter(t=>t.oh()!==e)}da(){if("Custom"===this.yh)return e=>this.sh.fa(e)}pa(){if("Custom"===this.yh)return e=>this.sh.va(e)}ma(){return this.Yt.qr()}Gh(){return!cc(this.Ft().wa())}na(e,t){if(!Ml(e)||!Ml(t)||this.Yt.Ki())return null;const n="Line"===this.yh||"Area"===this.yh||"Baseline"===this.yh||"Histogram"===this.yh?[3]:[2,1],r=this.Yt.Ur(e,t,n);let i=null!==r?new Pc(r.Jr,r.Qr):null,a=null;if("Histogram"===this.Rr()){const e=this.Ps.base,t=new Pc(e,e);i=null!==i?i.vn(t):t}return this.kh.forEach(n=>{const r=n.Mh(e,t);if(null==r?void 0:r.priceRange){const e=new Pc(r.priceRange.minValue,r.priceRange.maxValue);i=null!==i?i.vn(e):e}(null==r?void 0:r.margins)&&(a=r.margins)}),new Mc(i,a)}aa(){switch(this.yh){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerRadius}return 0}la(){switch(this.yh){case"Line":case"Area":case"Baseline":{const e=this.Ps.crosshairMarkerBorderColor;if(0!==e.length)return e}}return null}oa(){switch(this.yh){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerBorderWidth}return 0}_a(e){switch(this.yh){case"Line":case"Area":case"Baseline":{const e=this.Ps.crosshairMarkerBackgroundColor;if(0!==e.length)return e}}return this.Rh().Dr(e).cr}Th(){var e;switch(this.Ps.priceFormat.type){case"custom":{const t=this.Ps.priceFormat.formatter;this.ha={format:t,formatTickmarks:null!=(e=this.Ps.priceFormat.tickmarksFormatter)?e:e=>e.map(t)};break}case"volume":this.ha=new pc(this.Ps.priceFormat.precision);break;case"percent":this.ha=new mc(this.Ps.priceFormat.precision);break;default:{const e=Math.pow(10,this.Ps.priceFormat.precision);this.ha=new fc(e,this.Ps.priceFormat.minMove*e)}}null!==this.es&&this.es.ga()}Qh(e,t){const n=[];return eu(this.kh,e,t,n),n}}const su=[3],ou=[0,1,2,3];class lu{constructor(e){this.Ps=e}Ma(e,t,n){let r=e;if(0===this.Ps.mode)return r;const i=n.ys(),a=i.zt();if(null===a)return r;const s=i.Nt(e,a),o=n.ba().filter(e=>e instanceof au).reduce((e,r)=>{if(n.Un(r)||!r.Vt())return e;const i=r.Ft(),a=r.Xs();if(i.Ki()||!a.Te(t))return e;const s=a.yr(t);if(null===s)return e;const o=Sl(r.zt()),l=3===this.Ps.mode?ou:su;return e.concat(l.map(e=>i.Nt(s.Wt[e],o.Wt)))},[]);if(0===o.length)return r;o.sort((e,t)=>Math.abs(e-s)-Math.abs(t-s));const l=o[0];return r=i.Ts(l,a),r}}function cu(e,t,n){return Math.min(Math.max(e,t),n)}function uu(e,t,n){return t-e<=n}class du extends $l{constructor(){super(...arguments),this.Yt=null}ht(e){this.Yt=e}et({context:e,bitmapSize:t,horizontalPixelRatio:n,verticalPixelRatio:r}){if(null===this.Yt)return;const i=Math.max(1,Math.floor(n));var a,s;e.lineWidth=i,s=()=>{const a=Nl(this.Yt);if(a.Sa){e.strokeStyle=a.xa,wl(e,a.Ca),e.beginPath();for(const r of a.Pa){const a=Math.round(r.ka*n);e.moveTo(a,-i),e.lineTo(a,t.height+i)}e.stroke()}if(a.ya){e.strokeStyle=a.Ta,wl(e,a.Ra),e.beginPath();for(const n of a.Da){const a=Math.round(n.ka*r);e.moveTo(-i,a),e.lineTo(t.width+i,a)}e.stroke()}},(a=e).save(),a.lineWidth%2&&a.translate(.5,.5),s(),a.restore()}}class hu{constructor(e){this.Gt=new du,this.xt=!0,this.Pt=e}kt(){this.xt=!0}Tt(){if(this.xt){const e=this.Pt.Qt().N().grid,t={ya:e.horzLines.visible,Sa:e.vertLines.visible,Ta:e.horzLines.color,xa:e.vertLines.color,Ra:e.horzLines.style,Ca:e.vertLines.style,Da:this.Pt.ys().Va(),Pa:(this.Pt.Qt().Et().Va()||[]).map(e=>({ka:e.coord}))};this.Gt.ht(t),this.xt=!1}return this.Gt}}class fu{constructor(e){this.sh=new hu(e)}lr(){return this.sh}}const mu={Ia:4,Ba:1e-4};function pu(e,t){const n=100*(e-t)/t;return t<0?-n:n}function gu(e,t){const n=pu(e.$e(),t),r=pu(e.qe(),t);return new Pc(n,r)}function vu(e,t){const n=100*(e-t)/t+100;return t<0?-n:n}function yu(e,t){const n=vu(e.$e(),t),r=vu(e.qe(),t);return new Pc(n,r)}function xu(e,t){const n=Math.abs(e);if(n<1e-15)return 0;const r=Math.log10(n+t.Ba)+t.Ia;return e<0?-r:r}function bu(e,t){const n=Math.abs(e);if(n<1e-15)return 0;const r=Math.pow(10,n-t.Ia)-t.Ba;return e<0?-r:r}function wu(e,t){if(null===e)return null;const n=xu(e.$e(),t),r=xu(e.qe(),t);return new Pc(n,r)}function _u(e,t){if(null===e)return null;const n=bu(e.$e(),t),r=bu(e.qe(),t);return new Pc(n,r)}function ju(e){if(null===e)return mu;const t=Math.abs(e.qe()-e.$e());if(t>=1||t<1e-15)return mu;const n=Math.ceil(Math.abs(Math.log10(t))),r=mu.Ia+n;return{Ia:r,Ba:1/Math.pow(10,r)}}class ku{constructor(e,t){if(this.Ea=e,this.Aa=t,function(e){if(e<0)return!1;for(let t=e;t>1;t/=10)if(t%10!=0)return!1;return!0}(this.Ea))this.za=[2,2.5,2];else{this.za=[];for(let e=this.Ea;1!==e;){if(e%2==0)this.za.push(2),e/=2;else{if(e%5!=0)throw new Error("unexpected base");this.za.push(2,2.5),e/=5}if(this.za.length>100)throw new Error("something wrong with base")}}}La(e,t,n){const r=0===this.Ea?0:1/this.Ea;let i=Math.pow(10,Math.max(0,Math.ceil(Math.log10(e-t)))),a=0,s=this.Aa[0];for(;;){const e=uu(i,r,1e-14)&&i>r+1e-14,t=uu(i,n*s,1e-14),o=uu(i,1,1e-14);if(!(e&&t&&o))break;i/=s,s=this.Aa[++a%this.Aa.length]}if(i<=r+1e-14&&(i=r),i=Math.max(1,i),this.za.length>0&&(o=i,Math.abs(o-1)<1e-14))for(a=0,s=this.za[0];uu(i,n*s,1e-14)&&i>r+1e-14;)i/=s,s=this.za[++a%this.za.length];var o;return i}}class Nu{constructor(e,t,n,r){this.Oa=[],this.Yi=e,this.Ea=t,this.Na=n,this.Fa=r}La(e,t){if(e<t)throw new Error("high < low");const n=this.Yi.$t(),r=(e-t)*this.Wa()/n,i=new ku(this.Ea,[2,2.5,2]),a=new ku(this.Ea,[2,2,2.5]),s=new ku(this.Ea,[2.5,2,2]),o=[];return o.push(i.La(e,t,r),a.La(e,t,r),s.La(e,t,r)),function(e){if(e.length<1)throw Error("array is empty");let t=e[0];for(let n=1;n<e.length;++n)e[n]<t&&(t=e[n]);return t}(o)}Ha(){const e=this.Yi,t=e.zt();if(null===t)return void(this.Oa=[]);const n=e.$t(),r=this.Na(n-1,t),i=this.Na(0,t),a=this.Yi.N().entireTextOnly?this.Ua()/2:0,s=a,o=n-1-a,l=Math.max(r,i),c=Math.min(r,i);if(l===c)return void(this.Oa=[]);const u=this.La(l,c);if(this.$a(t,u,l,c,s,o),e.qa()&&this.Ya(u,c,l)){const e=this.Yi.ja();this.Ka(t,u,s,o,e,2*e)}const d=this.Oa.map(e=>e.Xa),h=this.Yi.Za(d);for(let f=0;f<this.Oa.length;f++)this.Oa[f].Ga=h[f]}Va(){return this.Oa}Ua(){return this.Yi.P()}Wa(){return Math.ceil(2.5*this.Ua())}$a(e,t,n,r,i,a){const s=this.Oa,o=this.Yi;let l=n%t;l+=l<0?t:0;const c=n>=r?1:-1;let u=null,d=0;for(let h=n-l;h>r;h-=t){const n=this.Fa(h,e,!0);null!==u&&Math.abs(n-u)<this.Wa()||n<i||n>a||(d<s.length?(s[d].ka=n,s[d].Ga=o.Ja(h),s[d].Xa=h):s.push({ka:n,Ga:o.Ja(h),Xa:h}),d++,u=n,o.Qa()&&(t=this.La(h*c,r)))}s.length=d}Ka(e,t,n,r,i,a){const s=this.Oa,o=this.tl(e,n,i,a),l=this.tl(e,r,-a,-i),c=this.Fa(0,e,!0)-this.Fa(t,e,!0);s.length>0&&s[0].ka-o.ka<c/2&&s.shift(),s.length>0&&l.ka-s[s.length-1].ka<c/2&&s.pop(),s.unshift(o),s.push(l)}tl(e,t,n,r){const i=(n+r)/2,a=this.Na(t+n,e),s=this.Na(t+r,e),o=Math.min(a,s),l=Math.max(a,s),c=Math.max(.1,this.La(l,o)),u=this.Na(t+i,e),d=u-u%c,h=this.Fa(d,e,!0);return{Ga:this.Yi.Ja(d),ka:h,Xa:d}}Ya(e,t,n){let r=Sl(this.Yi.Qe());return this.Yi.Qa()&&(r=_u(r,this.Yi.il())),r.$e()-t<e&&n-r.qe()<e}}function Su(e){return e.slice().sort((e,t)=>Nl(e.hs())-Nl(t.hs()))}var Cu;!function(e){e[e.Normal=0]="Normal",e[e.Logarithmic=1]="Logarithmic",e[e.Percentage=2]="Percentage",e[e.IndexedTo100=3]="IndexedTo100"}(Cu||(Cu={}));const Eu=new mc,Pu=new fc(100,1);class Mu{constructor(e,t,n,r,i){this.sl=0,this.nl=null,this.Ge=null,this.el=null,this.rl={hl:!1,al:null},this.ll=!1,this.ol=0,this._l=0,this.ul=new Cl,this.cl=new Cl,this.dl=[],this.fl=null,this.pl=null,this.vl=null,this.ml=null,this.wl=null,this.ha=Pu,this.gl=ju(null),this.Ml=e,this.Ps=t,this.bl=n,this.Sl=r,this.xl=i,this.Cl=new Nu(this,100,this.Pl.bind(this),this.kl.bind(this))}wa(){return this.Ml}N(){return this.Ps}hr(e){if(El(this.Ps,e),this.ga(),void 0!==e.mode&&this.yl({ie:e.mode}),void 0!==e.scaleMargins){const t=kl(e.scaleMargins.top),n=kl(e.scaleMargins.bottom);if(t<0||t>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${t}`);if(n<0||n>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${n}`);if(t+n>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${t+n}`);this.Tl(),this.vl=null}}Rl(){return this.Ps.autoScale}Dl(){return this.ll}Qa(){return 1===this.Ps.mode}Le(){return 2===this.Ps.mode}Vl(){return 3===this.Ps.mode}il(){return this.gl}ie(){return{sn:this.Ps.autoScale,Il:this.Ps.invertScale,ie:this.Ps.mode}}yl(e){const t=this.ie();let n=null;void 0!==e.sn&&(this.Ps.autoScale=e.sn),void 0!==e.ie&&(this.Ps.mode=e.ie,2!==e.ie&&3!==e.ie||(this.Ps.autoScale=!0),this.rl.hl=!1),1===t.ie&&e.ie!==t.ie&&(function(e,t){if(null===e)return!1;const n=bu(e.$e(),t),r=bu(e.qe(),t);return isFinite(n)&&isFinite(r)}(this.Ge,this.gl)?(n=_u(this.Ge,this.gl),null!==n&&this.Bl(n)):this.Ps.autoScale=!0),1===e.ie&&e.ie!==t.ie&&(n=wu(this.Ge,this.gl),null!==n&&this.Bl(n));const r=t.ie!==this.Ps.mode;r&&(2===t.ie||this.Le())&&this.ga(),r&&(3===t.ie||this.Vl())&&this.ga(),void 0!==e.Il&&t.Il!==e.Il&&(this.Ps.invertScale=e.Il,this.El()),this.cl.p(t,this.ie())}Al(){return this.cl}P(){return this.bl.fontSize}$t(){return this.sl}zl(e){this.sl!==e&&(this.sl=e,this.Tl(),this.vl=null)}Ll(){if(this.nl)return this.nl;const e=this.$t()-this.Ol()-this.Nl();return this.nl=e,e}Qe(){return this.Fl(),this.Ge}Bl(e,t){const n=this.Ge;(t||null===n&&null!==e||null!==n&&!n.He(e))&&(this.vl=null,this.Ge=e)}Wl(e){this.Bl(e),this.Hl(null!==e)}Ki(){return this.Fl(),0===this.sl||!this.Ge||this.Ge.Ki()}Ul(e){return this.Il()?e:this.$t()-1-e}Nt(e,t){return this.Le()?e=pu(e,t):this.Vl()&&(e=vu(e,t)),this.kl(e,t)}$l(e,t,n){this.Fl();const r=this.Nl(),i=Nl(this.Qe()),a=i.$e(),s=i.qe(),o=this.Ll()-1,l=this.Il(),c=o/(s-a),u=void 0===n?0:n.from,d=void 0===n?e.length:n.to,h=this.ql();for(let f=u;f<d;f++){const n=e[f],i=n.gt;if(isNaN(i))continue;let s=i;null!==h&&(s=h(n.gt,t));const o=r+c*(s-a),u=l?o:this.sl-1-o;n.ut=u}}Yl(e,t,n){this.Fl();const r=this.Nl(),i=Nl(this.Qe()),a=i.$e(),s=i.qe(),o=this.Ll()-1,l=this.Il(),c=o/(s-a),u=void 0===n?0:n.from,d=void 0===n?e.length:n.to,h=this.ql();for(let f=u;f<d;f++){const n=e[f];let i=n.qh,s=n.Yh,o=n.jh,u=n.Kh;null!==h&&(i=h(n.qh,t),s=h(n.Yh,t),o=h(n.jh,t),u=h(n.Kh,t));let d=r+c*(i-a),m=l?d:this.sl-1-d;n.jl=m,d=r+c*(s-a),m=l?d:this.sl-1-d,n.Kl=m,d=r+c*(o-a),m=l?d:this.sl-1-d,n.Xl=m,d=r+c*(u-a),m=l?d:this.sl-1-d,n.Zl=m}}Ts(e,t){const n=this.Pl(e,t);return this.Gl(n,t)}Gl(e,t){let n=e;return this.Le()?(r=n,(i=t)<0&&(r=-r),n=r/100*i+i):this.Vl()&&(n=function(e,t){return e-=100,t<0&&(e=-e),e/100*t+t}(n,t)),n;var r,i}ba(){return this.dl}Dt(){return this.pl||(this.pl=Su(this.dl)),this.pl}Jl(e){-1===this.dl.indexOf(e)&&(this.dl.push(e),this.ga(),this.Ql())}io(e){const t=this.dl.indexOf(e);if(-1===t)throw new Error("source is not attached to scale");this.dl.splice(t,1),0===this.dl.length&&(this.yl({sn:!0}),this.Bl(null)),this.ga(),this.Ql()}zt(){let e=null;for(const t of this.dl){const n=t.zt();null!==n&&(null===e||n.Hh<e.Hh)&&(e=n)}return null===e?null:e.Wt}Il(){return this.Ps.invertScale}Va(){const e=null===this.zt();if(null!==this.vl&&(e||this.vl.so===e))return this.vl.Va;this.Cl.Ha();const t=this.Cl.Va();return this.vl={Va:t,so:e},this.ul.p(),t}no(){return this.ul}eo(e){this.Le()||this.Vl()||null===this.ml&&null===this.el&&(this.Ki()||(this.ml=this.sl-e,this.el=Nl(this.Qe()).Ue()))}ro(e){if(this.Le()||this.Vl())return;if(null===this.ml)return;this.yl({sn:!1}),(e=this.sl-e)<0&&(e=0);let t=(this.ml+.2*(this.sl-1))/(e+.2*(this.sl-1));const n=Nl(this.el).Ue();t=Math.max(t,.1),n.je(t),this.Bl(n)}ho(){this.Le()||this.Vl()||(this.ml=null,this.el=null)}ao(e){this.Rl()||null===this.wl&&null===this.el&&(this.Ki()||(this.wl=e,this.el=Nl(this.Qe()).Ue()))}lo(e){if(this.Rl())return;if(null===this.wl)return;const t=Nl(this.Qe()).Ye()/(this.Ll()-1);let n=e-this.wl;this.Il()&&(n*=-1);const r=n*t,i=Nl(this.el).Ue();i.Ke(r),this.Bl(i,!0),this.vl=null}oo(){this.Rl()||null!==this.wl&&(this.wl=null,this.el=null)}ra(){return this.ha||this.ga(),this.ha}Zi(e,t){switch(this.Ps.mode){case 2:return this._o(pu(e,t));case 3:return this.ra().format(vu(e,t));default:return this.nr(e)}}Ja(e){switch(this.Ps.mode){case 2:return this._o(e);case 3:return this.ra().format(e);default:return this.nr(e)}}Za(e){switch(this.Ps.mode){case 2:return this.uo(e);case 3:return this.ra().formatTickmarks(e);default:return this.co(e)}}Dh(e){return this.nr(e,Nl(this.fl).ra())}Vh(e,t){return e=pu(e,t),this._o(e,Eu)}do(){return this.dl}fo(e){this.rl={al:e,hl:!1}}Ns(){this.dl.forEach(e=>e.Ns())}qa(){return this.Ps.ensureEdgeTickMarksVisible&&this.Rl()}ja(){return this.P()/2}ga(){this.vl=null;let e=1/0;this.fl=null;for(const n of this.dl)n.hs()<e&&(e=n.hs(),this.fl=n);let t=100;null!==this.fl&&(t=Math.round(1/this.fl.ea())),this.ha=Pu,this.Le()?(this.ha=Eu,t=100):this.Vl()?(this.ha=new fc(100,1),t=100):null!==this.fl&&(this.ha=this.fl.ra()),this.Cl=new Nu(this,t,this.Pl.bind(this),this.kl.bind(this)),this.Cl.Ha()}Ql(){this.pl=null}Xi(){return this.xl}Hl(e){this.ll=e}Ol(){return this.Il()?this.Ps.scaleMargins.bottom*this.$t()+this._l:this.Ps.scaleMargins.top*this.$t()+this.ol}Nl(){return this.Il()?this.Ps.scaleMargins.top*this.$t()+this.ol:this.Ps.scaleMargins.bottom*this.$t()+this._l}Fl(){this.rl.hl||(this.rl.hl=!0,this.po())}Tl(){this.nl=null}kl(e,t){if(this.Fl(),this.Ki())return 0;e=this.Qa()&&e?xu(e,this.gl):e;const n=Nl(this.Qe()),r=this.Nl()+(this.Ll()-1)*(e-n.$e())/n.Ye();return this.Ul(r)}Pl(e,t){if(this.Fl(),this.Ki())return 0;const n=this.Ul(e),r=Nl(this.Qe()),i=r.$e()+r.Ye()*((n-this.Nl())/(this.Ll()-1));return this.Qa()?bu(i,this.gl):i}El(){this.vl=null,this.Cl.Ha()}po(){if(this.Dl()&&!this.Rl())return;const e=this.rl.al;if(null===e)return;let t=null;const n=this.do();let r=0,i=0;for(const o of n){if(!o.Vt())continue;const n=o.zt();if(null===n)continue;const a=o.Mh(e.Uh(),e.bi());let s=a&&a.Qe();if(null!==s){switch(this.Ps.mode){case 1:s=wu(s,this.gl);break;case 2:s=gu(s,n.Wt);break;case 3:s=yu(s,n.Wt)}if(t=null===t?s:t.vn(Nl(s)),null!==a){const e=a.tr();null!==e&&(r=Math.max(r,e.above),i=Math.max(i,e.below))}}}if(this.qa()&&(r=Math.max(r,this.ja()),i=Math.max(i,this.ja())),r===this.ol&&i===this._l||(this.ol=r,this._l=i,this.vl=null,this.Tl()),null!==t){if(t.$e()===t.qe()){const e=this.fl,n=5*(null===e||this.Le()||this.Vl()?1:e.ea());this.Qa()&&(t=_u(t,this.gl)),t=new Pc(t.$e()-n,t.qe()+n),this.Qa()&&(t=wu(t,this.gl))}if(this.Qa()){const e=_u(t,this.gl),n=ju(e);if(a=n,s=this.gl,a.Ia!==s.Ia||a.Ba!==s.Ba){const r=null!==this.el?_u(this.el,this.gl):null;this.gl=n,t=wu(e,n),null!==r&&(this.el=wu(r,n))}}this.Bl(t)}else null===this.Ge&&(this.Bl(new Pc(-.5,.5)),this.gl=ju(null));var a,s}ql(){return this.Le()?pu:this.Vl()?vu:this.Qa()?e=>xu(e,this.gl):null}vo(e,t,n){return void 0===t?(void 0===n&&(n=this.ra()),n.format(e)):t(e)}mo(e,t,n){return void 0===t?(void 0===n&&(n=this.ra()),n.formatTickmarks(e)):t(e)}nr(e,t){return this.vo(e,this.Sl.priceFormatter,t)}co(e,t){var n;const r=this.Sl.priceFormatter;return this.mo(e,null!=(n=this.Sl.tickmarksPriceFormatter)?n:r?e=>e.map(r):void 0,t)}_o(e,t){return this.vo(e,this.Sl.percentageFormatter,t)}uo(e,t){var n;const r=this.Sl.percentageFormatter;return this.mo(e,null!=(n=this.Sl.tickmarksPercentageFormatter)?n:r?e=>e.map(r):void 0,t)}}function Ou(e){return e instanceof au}class Au{constructor(e,t){this.dl=[],this.wo=new Map,this.sl=0,this.Mo=0,this.bo=1,this.pl=null,this.So=!1,this.xo=new Cl,this.kh=[],this.uh=e,this.ts=t,this.Co=new fu(this);const n=t.N();this.Po=this.ko("left",n.leftPriceScale),this.yo=this.ko("right",n.rightPriceScale),this.Po.Al().i(this.To.bind(this,this.Po),this),this.yo.Al().i(this.To.bind(this,this.yo),this),this.Ro(n)}Ro(e){if(e.leftPriceScale&&this.Po.hr(e.leftPriceScale),e.rightPriceScale&&this.yo.hr(e.rightPriceScale),e.localization&&(this.Po.ga(),this.yo.ga()),e.overlayPriceScales){const t=Array.from(this.wo.values());for(const n of t){const t=Nl(n[0].Ft());t.hr(e.overlayPriceScales),e.localization&&t.ga()}}}Do(e){switch(e){case"left":return this.Po;case"right":return this.yo}return this.wo.has(e)?kl(this.wo.get(e))[0].Ft():null}m(){this.Qt().Vo().u(this),this.Po.Al().u(this),this.yo.Al().u(this),this.dl.forEach(e=>{e.m&&e.m()}),this.kh=this.kh.filter(e=>{const t=e.oh();return t.detached&&t.detached(),!1}),this.xo.p()}Io(){return this.bo}Bo(e){this.bo=e}Qt(){return this.ts}Qi(){return this.Mo}$t(){return this.sl}Eo(e){this.Mo=e,this.Ao()}zl(e){this.sl=e,this.Po.zl(e),this.yo.zl(e),this.dl.forEach(t=>{if(this.Un(t)){const n=t.Ft();null!==n&&n.zl(e)}}),this.Ao()}zo(e){this.So=e}Lo(){return this.So}Oo(){return this.dl.filter(Ou)}ba(){return this.dl}Un(e){const t=e.Ft();return null===t||this.Po!==t&&this.yo!==t}Jl(e,t,n){this.No(e,t,n?e.hs():this.dl.length)}io(e,t){const n=this.dl.indexOf(e);jl(-1!==n,"removeDataSource: invalid data source"),this.dl.splice(n,1),t||this.dl.forEach((e,t)=>e.ls(t));const r=Nl(e.Ft()).wa();if(this.wo.has(r)){const t=kl(this.wo.get(r)),n=t.indexOf(e);-1!==n&&(t.splice(n,1),0===t.length&&this.wo.delete(r))}const i=e.Ft();i&&i.ba().indexOf(e)>=0&&(i.io(e),this.Fo(i)),this.pl=null}qn(e){return e===this.Po?"left":e===this.yo?"right":"overlay"}Wo(){return this.Po}Ho(){return this.yo}Uo(e,t){e.eo(t)}$o(e,t){e.ro(t),this.Ao()}qo(e){e.ho()}Yo(e,t){e.ao(t)}jo(e,t){e.lo(t),this.Ao()}Ko(e){e.oo()}Ao(){this.dl.forEach(e=>{e.Ns()})}ys(){let e=null;return this.ts.N().rightPriceScale.visible&&0!==this.yo.ba().length?e=this.yo:this.ts.N().leftPriceScale.visible&&0!==this.Po.ba().length?e=this.Po:0!==this.dl.length&&(e=this.dl[0].Ft()),null===e&&(e=this.yo),e}$n(){let e=null;return this.ts.N().rightPriceScale.visible?e=this.yo:this.ts.N().leftPriceScale.visible&&(e=this.Po),e}Fo(e){null!==e&&e.Rl()&&this.Xo(e)}Zo(e){const t=this.uh.Pe();e.yl({sn:!0}),null!==t&&e.fo(t),this.Ao()}Go(){this.Xo(this.Po),this.Xo(this.yo)}Jo(){this.Fo(this.Po),this.Fo(this.yo),this.dl.forEach(e=>{this.Un(e)&&this.Fo(e.Ft())}),this.Ao(),this.ts.ar()}Dt(){return null===this.pl&&(this.pl=Su(this.dl)),this.pl}Qo(e,t){t=cu(t,0,this.dl.length-1);const n=this.dl.indexOf(e);jl(-1!==n,"setSeriesOrder: invalid data source"),this.dl.splice(n,1),this.dl.splice(t,0,e),this.dl.forEach((e,t)=>e.ls(t)),this.pl=null;for(const r of[this.Po,this.yo])r.Ql(),r.ga();this.ts.ar()}It(){return this.Dt().filter(Ou)}t_(){return this.xo}i_(){return this.Co}ua(e){this.kh.push(new Yc(e))}ca(e){this.kh=this.kh.filter(t=>t.oh()!==e),e.detached&&e.detached(),this.ts.ar()}s_(){return this.kh}sa(e,t){return this.kh.map(n=>n.jn(e,t)).filter(e=>null!==e)}Xo(e){const t=e.do();if(t&&t.length>0&&!this.uh.Ki()){const t=this.uh.Pe();null!==t&&e.fo(t)}e.Ns()}No(e,t,n){let r=this.Do(t);if(null===r&&(r=this.ko(t,this.ts.N().overlayPriceScales)),this.dl.splice(n,0,e),!cc(t)){const n=this.wo.get(t)||[];n.push(e),this.wo.set(t,n)}e.ls(n),r.Jl(e),e._s(r),this.Fo(r),this.pl=null}To(e,t,n){t.ie!==n.ie&&this.Xo(e)}ko(e,t){const n=h({visible:!0,autoScale:!0},Tl(t)),r=new Mu(e,n,this.ts.N().layout,this.ts.N().localization,this.ts.Xi());return r.zl(this.$t()),r}}function Tu(e){return{n_:e.n_,e_:{Kn:e.r_.externalId},h_:e.r_.cursorStyle}}function Du(e,t,n,r){for(const i of e){const e=i.Tt(r);if(null!==e&&e.jn){const r=e.jn(t,n);if(null!==r)return{a_:i,e_:r}}}return null}function Ru(e){return void 0!==e.Fs}function Iu(e,t,n){const r=[e,...e.Dt()],i=function(e,t,n){var r,i;let a,s;for(const c of e){const e=null!=(i=null==(r=c.sa)?void 0:r.call(c,t,n))?i:[];for(const t of e)o=t.zOrder,(!(l=null==a?void 0:a.zOrder)||"top"===o&&"top"!==l||"normal"===o&&"bottom"===l)&&(a=t,s=c)}var o,l;return a&&s?{r_:a,n_:s}:null}(r,t,n);if("top"===(null==i?void 0:i.r_.zOrder))return Tu(i);for(const a of r){if(i&&i.n_===a&&"bottom"!==i.r_.zOrder&&!i.r_.isBackground)return Tu(i);if(Ru(a)){const r=Du(a.Fs(e),t,n,e);if(null!==r)return{n_:a,a_:r.a_,e_:r.e_}}if(i&&i.n_===a&&"bottom"!==i.r_.zOrder&&i.r_.isBackground)return Tu(i)}return(null==i?void 0:i.r_)?Tu(i):null}class zu{constructor(e,t,n=50){this.kn=0,this.yn=1,this.Tn=1,this.Dn=new Map,this.Rn=new Map,this.l_=e,this.o_=t,this.Vn=n}__(e){const t=e.time,n=this.o_.cacheKey(t),r=this.Dn.get(n);if(void 0!==r)return r.u_;if(this.kn===this.Vn){const e=this.Rn.get(this.Tn);this.Rn.delete(this.Tn),this.Dn.delete(kl(e)),this.Tn++,this.kn--}const i=this.l_(e);return this.Dn.set(n,{u_:i,An:this.yn}),this.Rn.set(this.yn,n),this.kn++,this.yn++,i}}class Lu{constructor(e,t){jl(e<=t,"right should be >= left"),this.c_=e,this.d_=t}Uh(){return this.c_}bi(){return this.d_}f_(){return this.d_-this.c_+1}Te(e){return this.c_<=e&&e<=this.d_}He(e){return this.c_===e.Uh()&&this.d_===e.bi()}}function Fu(e,t){return null===e||null===t?e===t:e.He(t)}class Bu{constructor(){this.p_=new Map,this.Dn=null,this.v_=!1}m_(e){this.v_=e,this.Dn=null}w_(e,t){this.g_(t),this.Dn=null;for(let n=t;n<e.length;++n){const t=e[n];let r=this.p_.get(t.timeWeight);void 0===r&&(r=[],this.p_.set(t.timeWeight,r)),r.push({index:n,time:t.time,weight:t.timeWeight,originalTime:t.originalTime})}}M_(e,t,n,r,i){const a=Math.ceil(t/e);return null!==this.Dn&&this.Dn.b_===a&&i===this.Dn.S_&&n===this.Dn.x_||(this.Dn={S_:i,x_:n,Va:this.C_(a,n,r),b_:a}),this.Dn.Va}g_(e){if(0===e)return void this.p_.clear();const t=[];this.p_.forEach((n,r)=>{e<=n[0].index?t.push(r):n.splice(Lc(n,e,t=>t.index<e),1/0)});for(const n of t)this.p_.delete(n)}C_(e,t,n){let r=[];const i=e=>!t||n.has(e.index);for(const a of Array.from(this.p_.keys()).sort((e,t)=>t-e)){if(!this.p_.get(a))continue;const t=r;r=[];const n=t.length;let s=0;const o=kl(this.p_.get(a)),l=o.length;let c=1/0,u=-1/0;for(let a=0;a<l;a++){const l=o[a],d=l.index;for(;s<n;){const e=t[s],n=e.index;if(!(n<d&&i(e))){c=n;break}s++,r.push(e),u=n,c=1/0}if(c-d>=e&&d-u>=e&&i(l))r.push(l),u=d;else if(this.v_)return t}for(;s<n;s++)i(t[s])&&r.push(t[s])}return r}}class Wu{constructor(e){this.P_=e}k_(){return null===this.P_?null:new Lu(Math.floor(this.P_.Uh()),Math.ceil(this.P_.bi()))}y_(){return this.P_}static T_(){return new Wu(null)}}function Vu(e,t){return e.weight>t.weight?e:t}class $u{constructor(e,t,n,r){this.Mo=0,this.R_=null,this.D_=[],this.wl=null,this.ml=null,this.V_=new Bu,this.I_=new Map,this.B_=Wu.T_(),this.E_=!0,this.A_=new Cl,this.z_=new Cl,this.L_=new Cl,this.O_=null,this.N_=null,this.F_=new Map,this.W_=-1,this.H_=[],this.Ps=t,this.Sl=n,this.U_=t.rightOffset,this.q_=t.barSpacing,this.ts=e,this.o_=r,this.Y_(),this.V_.m_(t.uniformDistribution),this.j_()}N(){return this.Ps}K_(e){El(this.Sl,e),this.X_(),this.Y_()}hr(e,t){var n;El(this.Ps,e),this.Ps.fixLeftEdge&&this.Z_(),this.Ps.fixRightEdge&&this.G_(),void 0!==e.barSpacing&&this.ts.dn(e.barSpacing),void 0!==e.rightOffset&&this.ts.fn(e.rightOffset),void 0===e.minBarSpacing&&void 0===e.maxBarSpacing||this.ts.dn(null!=(n=e.barSpacing)?n:this.q_),void 0!==e.ignoreWhitespaceIndices&&e.ignoreWhitespaceIndices!==this.Ps.ignoreWhitespaceIndices&&this.j_(),this.X_(),this.Y_(),this.L_.p()}Rs(e){var t,n;return null!=(n=null==(t=this.D_[e])?void 0:t.time)?n:null}ss(e){var t;return null!=(t=this.D_[e])?t:null}J_(e,t){if(this.D_.length<1)return null;if(this.o_.key(e)>this.o_.key(this.D_[this.D_.length-1].time))return t?this.D_.length-1:null;const n=Lc(this.D_,this.o_.key(e),(e,t)=>this.o_.key(e.time)<t);return this.o_.key(e)<this.o_.key(this.D_[n].time)?t?n:null:n}Ki(){return 0===this.Mo||0===this.D_.length||null===this.R_}Q_(){return this.D_.length>0}Pe(){return this.tu(),this.B_.k_()}iu(){return this.tu(),this.B_.y_()}su(){const e=this.Pe();if(null===e)return null;const t={from:e.Uh(),to:e.bi()};return this.nu(t)}nu(e){const t=Math.round(e.from),n=Math.round(e.to),r=Nl(this.eu()),i=Nl(this.ru());return{from:Nl(this.ss(Math.max(r,t))),to:Nl(this.ss(Math.min(i,n)))}}hu(e){return{from:Nl(this.J_(e.from,!0)),to:Nl(this.J_(e.to,!0))}}Qi(){return this.Mo}Eo(e){if(!isFinite(e)||e<=0)return;if(this.Mo===e)return;const t=this.iu(),n=this.Mo;if(this.Mo=e,this.E_=!0,this.Ps.lockVisibleTimeRangeOnResize&&0!==n){const t=this.q_*e/n;this.q_=t}if(this.Ps.fixLeftEdge&&null!==t&&t.Uh()<=0){const t=n-e;this.U_-=Math.round(t/this.q_)+1,this.E_=!0}this.au(),this.lu()}qt(e){if(this.Ki()||!Ml(e))return 0;const t=this.ou()+this.U_-e;return this.Mo-(t+.5)*this.q_-1}_u(e,t){const n=this.ou(),r=void 0===t?0:t.from,i=void 0===t?e.length:t.to;for(let a=r;a<i;a++){const t=e[a].wt,r=n+this.U_-t,i=this.Mo-(r+.5)*this.q_-1;e[a]._t=i}}uu(e,t){const n=Math.ceil(this.cu(e));return t&&this.Ps.ignoreWhitespaceIndices&&!this.du(n)?this.fu(n):n}fn(e){this.E_=!0,this.U_=e,this.lu(),this.ts.pu(),this.ts.ar()}vu(){return this.q_}dn(e){this.mu(e),this.lu(),this.ts.pu(),this.ts.ar()}wu(){return this.U_}Va(){if(this.Ki())return null;if(null!==this.N_)return this.N_;const e=this.q_,t=5*(this.ts.N().layout.fontSize+4)/8*(this.Ps.tickMarkMaxCharacterLength||8),n=Math.round(t/e),r=Nl(this.Pe()),i=Math.max(r.Uh(),r.Uh()-n),a=Math.max(r.bi(),r.bi()-n),s=this.V_.M_(e,t,this.Ps.ignoreWhitespaceIndices,this.F_,this.W_),o=this.eu()+n,l=this.ru()-n,c=this.gu(),u=this.Ps.fixLeftEdge||c,d=this.Ps.fixRightEdge||c;let h=0;for(const f of s){if(!(i<=f.index&&f.index<=a))continue;let e;h<this.H_.length?(e=this.H_[h],e.coord=this.qt(f.index),e.label=this.Mu(f),e.weight=f.weight):(e={needAlignCoordinate:!1,coord:this.qt(f.index),label:this.Mu(f),weight:f.weight},this.H_.push(e)),this.q_>t/2&&!c?e.needAlignCoordinate=!1:e.needAlignCoordinate=u&&f.index<=o||d&&f.index>=l,h++}return this.H_.length=h,this.N_=this.H_,this.H_}bu(){this.E_=!0,this.dn(this.Ps.barSpacing),this.fn(this.Ps.rightOffset)}Su(e){this.E_=!0,this.R_=e,this.lu(),this.Z_()}xu(e,t){const n=this.cu(e),r=this.vu(),i=r+t*(r/10);this.dn(i),this.Ps.rightBarStaysOnScroll||this.fn(this.wu()+(n-this.cu(e)))}eo(e){this.wl&&this.oo(),null===this.ml&&null===this.O_&&(this.Ki()||(this.ml=e,this.Cu()))}ro(e){if(null===this.O_)return;const t=cu(this.Mo-e,0,this.Mo),n=cu(this.Mo-Nl(this.ml),0,this.Mo);0!==t&&0!==n&&this.dn(this.O_.vu*t/n)}ho(){null!==this.ml&&(this.ml=null,this.Pu())}ao(e){null===this.wl&&null===this.O_&&(this.Ki()||(this.wl=e,this.Cu()))}lo(e){if(null===this.wl)return;const t=(this.wl-e)/this.vu();this.U_=Nl(this.O_).wu+t,this.E_=!0,this.lu()}oo(){null!==this.wl&&(this.wl=null,this.Pu())}ku(){this.yu(this.Ps.rightOffset)}yu(e,t=400){if(!isFinite(e))throw new RangeError("offset is required and must be finite number");if(!isFinite(t)||t<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const n=this.U_,r=performance.now();this.ts._n({Tu:e=>(e-r)/t>=1,Ru:i=>{const a=(i-r)/t;return a>=1?e:n+(e-n)*a}})}kt(e,t){this.E_=!0,this.D_=e,this.V_.w_(e,t),this.lu()}Du(){return this.A_}Vu(){return this.z_}Iu(){return this.L_}ou(){return this.R_||0}Bu(e){const t=e.f_();this.mu(this.Mo/t),this.U_=e.bi()-this.ou(),this.lu(),this.E_=!0,this.ts.pu(),this.ts.ar()}Eu(){const e=this.eu(),t=this.ru();null!==e&&null!==t&&this.Bu(new Lu(e,t+this.Ps.rightOffset))}Au(e){const t=new Lu(e.from,e.to);this.Bu(t)}ns(e){return void 0!==this.Sl.timeFormatter?this.Sl.timeFormatter(e.originalTime):this.o_.formatHorzItem(e.time)}j_(){if(!this.Ps.ignoreWhitespaceIndices)return;this.F_.clear();const e=this.ts.js();for(const t of e)for(const e of t.ma())this.F_.set(e,!0);this.W_++}gu(){const e=this.ts.N().handleScroll,t=this.ts.N().handleScale;return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||t.axisDoubleClickReset.time||t.axisPressedMouseMove.time||t.mouseWheel||t.pinch)}eu(){return 0===this.D_.length?null:0}ru(){return 0===this.D_.length?null:this.D_.length-1}zu(e){return(this.Mo-1-e)/this.q_}cu(e){const t=this.zu(e),n=this.ou()+this.U_-t;return Math.round(1e6*n)/1e6}mu(e){const t=this.q_;this.q_=e,this.au(),t!==this.q_&&(this.E_=!0,this.Lu())}tu(){if(!this.E_)return;if(this.E_=!1,this.Ki())return void this.Ou(Wu.T_());const e=this.ou(),t=this.Mo/this.q_,n=this.U_+e,r=new Lu(n-t+1,n);this.Ou(new Wu(r))}au(){const e=cu(this.q_,this.Nu(),this.Fu());this.q_!==e&&(this.q_=e,this.E_=!0)}Fu(){return this.Ps.maxBarSpacing>0?this.Ps.maxBarSpacing:.5*this.Mo}Nu(){return this.Ps.fixLeftEdge&&this.Ps.fixRightEdge&&0!==this.D_.length?this.Mo/this.D_.length:this.Ps.minBarSpacing}lu(){const e=this.Wu();null!==e&&this.U_<e&&(this.U_=e,this.E_=!0);const t=this.Hu();this.U_>t&&(this.U_=t,this.E_=!0)}Wu(){const e=this.eu(),t=this.R_;return null===e||null===t?null:e-t-1+(this.Ps.fixLeftEdge?this.Mo/this.q_:Math.min(2,this.D_.length))}Hu(){return this.Ps.fixRightEdge?0:this.Mo/this.q_-Math.min(2,this.D_.length)}Cu(){this.O_={vu:this.vu(),wu:this.wu()}}Pu(){this.O_=null}Mu(e){let t=this.I_.get(e.weight);return void 0===t&&(t=new zu(e=>this.Uu(e),this.o_),this.I_.set(e.weight,t)),t.__(e)}Uu(e){return this.o_.formatTickmark(e,this.Sl)}Ou(e){const t=this.B_;this.B_=e,Fu(t.k_(),this.B_.k_())||this.A_.p(),Fu(t.y_(),this.B_.y_())||this.z_.p(),this.Lu()}Lu(){this.N_=null}X_(){this.Lu(),this.I_.clear()}Y_(){this.o_.updateFormatter(this.Sl)}Z_(){if(!this.Ps.fixLeftEdge)return;const e=this.eu();if(null===e)return;const t=this.Pe();if(null===t)return;const n=t.Uh()-e;if(n<0){const e=this.U_-n-1;this.fn(e)}this.au()}G_(){this.lu(),this.au()}du(e){return!this.Ps.ignoreWhitespaceIndices||this.F_.get(e)||!1}fu(e){const t=function*(e){const t=Math.round(e),n=t<e;let r=1;for(;;)n?(yield t+r,yield t-r):(yield t-r,yield t+r),r++}(e),n=this.ru();for(;n;){const e=t.next().value;if(this.F_.get(e))return e;if(e<0||e>n)break}return e}}var Ku,Hu,Uu,Yu,qu;!function(e){e[e.OnTouchEnd=0]="OnTouchEnd",e[e.OnNextTap=1]="OnNextTap"}(Ku||(Ku={}));class Gu{constructor(e,t,n){this.$u=[],this.qu=[],this.Mo=0,this.Yu=null,this.ju=new Cl,this.Ku=new Cl,this.Xu=null,this.Zu=e,this.Ps=t,this.o_=n,this.xl=new Wl(this.Ps.layout.colorParsers),this.Gu=new Ll(this),this.uh=new $u(this,t.timeScale,this.Ps.localization,n),this.Ct=new lc(this,t.crosshair),this.Ju=new lu(t.crosshair),t.addDefaultPane&&(this.Qu(0),this.$u[0].Bo(2)),this.tc=this.sc(0),this.nc=this.sc(1)}Bh(){this.ec(uc.gn())}ar(){this.ec(uc.wn())}Zh(){this.ec(new uc(1))}Eh(e){const t=this.rc(e);this.ec(t)}hc(){return this.Yu}ac(e){var t,n,r,i;if((null==(t=this.Yu)?void 0:t.n_)===(null==e?void 0:e.n_)&&(null==(r=null==(n=this.Yu)?void 0:n.e_)?void 0:r.Kn)===(null==(i=null==e?void 0:e.e_)?void 0:i.Kn))return;const a=this.Yu;this.Yu=e,null!==a&&this.Eh(a.n_),null!==e&&e.n_!==(null==a?void 0:a.n_)&&this.Eh(e.n_)}N(){return this.Ps}hr(e){El(this.Ps,e),this.$u.forEach(t=>t.Ro(e)),void 0!==e.timeScale&&this.uh.hr(e.timeScale),void 0!==e.localization&&this.uh.K_(e.localization),(e.leftPriceScale||e.rightPriceScale)&&this.ju.p(),this.tc=this.sc(0),this.nc=this.sc(1),this.Bh()}lc(e,t,n=0){const r=this.$u[n];if(void 0===r)return;if("left"===e)return El(this.Ps,{leftPriceScale:t}),r.Ro({leftPriceScale:t}),this.ju.p(),void this.Bh();if("right"===e)return El(this.Ps,{rightPriceScale:t}),r.Ro({rightPriceScale:t}),this.ju.p(),void this.Bh();const i=this.oc(e,n);null!==i&&(i.Ft.hr(t),this.ju.p())}oc(e,t){const n=this.$u[t];if(void 0===n)return null;const r=n.Do(e);return null!==r?{Us:n,Ft:r}:null}Et(){return this.uh}$s(){return this.$u}_c(){return this.Ct}uc(){return this.Ku}cc(e,t){e.zl(t),this.pu()}Eo(e){this.Mo=e,this.uh.Eo(this.Mo),this.$u.forEach(t=>t.Eo(e)),this.pu()}dc(e){1!==this.$u.length&&(jl(e>=0&&e<this.$u.length,"Invalid pane index"),this.$u.splice(e,1),this.Bh())}fc(e,t){if(this.$u.length<2)return;jl(e>=0&&e<this.$u.length,"Invalid pane index");const n=this.$u[e],r=this.$u.reduce((e,t)=>e+t.Io(),0),i=this.$u.reduce((e,t)=>e+t.$t(),0),a=i-30*(this.$u.length-1);t=Math.min(a,Math.max(30,t));const s=r/i,o=n.$t();n.Bo(t*s);let l=t-o,c=this.$u.length-1;for(const u of this.$u)if(u!==n){const e=Math.min(a,Math.max(30,u.$t()-l/c));l-=u.$t()-e,c-=1;const t=e*s;u.Bo(t)}this.Bh()}vc(e,t){jl(e>=0&&e<this.$u.length&&t>=0&&t<this.$u.length,"Invalid pane index");const n=this.$u[e],r=this.$u[t];this.$u[e]=r,this.$u[t]=n,this.Bh()}mc(e,t){if(jl(e>=0&&e<this.$u.length&&t>=0&&t<this.$u.length,"Invalid pane index"),e===t)return;const[n]=this.$u.splice(e,1);this.$u.splice(t,0,n),this.Bh()}Uo(e,t,n){e.Uo(t,n)}$o(e,t,n){e.$o(t,n),this.Ah(),this.ec(this.wc(e,2))}qo(e,t){e.qo(t),this.ec(this.wc(e,2))}Yo(e,t,n){t.Rl()||e.Yo(t,n)}jo(e,t,n){t.Rl()||(e.jo(t,n),this.Ah(),this.ec(this.wc(e,2)))}Ko(e,t){t.Rl()||(e.Ko(t),this.ec(this.wc(e,2)))}Zo(e,t){e.Zo(t),this.ec(this.wc(e,2))}gc(e){this.uh.eo(e)}Mc(e,t){const n=this.Et();if(n.Ki()||0===t)return;const r=n.Qi();e=Math.max(1,Math.min(e,r)),n.xu(e,t),this.pu()}bc(e){this.Sc(0),this.xc(e),this.Cc()}Pc(e){this.uh.ro(e),this.pu()}kc(){this.uh.ho(),this.ar()}Sc(e){this.uh.ao(e)}xc(e){this.uh.lo(e),this.pu()}Cc(){this.uh.oo(),this.ar()}js(){return this.qu}yc(e,t,n,r,i){this.Ct.Vs(e,t);let a=NaN,s=this.uh.uu(e,!0);const o=this.uh.Pe();null!==o&&(s=Math.min(Math.max(o.Uh(),s),o.bi()));const l=r.ys(),c=l.zt();if(null!==c&&(a=l.Ts(t,c)),a=this.Ju.Ma(a,s,r),this.Ct.As(s,a,r),this.Zh(),!i){const i=Iu(r,e,t);this.ac(i&&{n_:i.n_,e_:i.e_,h_:i.h_||null}),this.Ku.p(this.Ct.Bt(),{x:e,y:t},n)}}Tc(e,t,n){const r=n.ys(),i=r.zt(),a=r.Nt(e,Nl(i)),s=this.uh.J_(t,!0),o=this.uh.qt(Nl(s));this.yc(o,a,null,n,!0)}Rc(e){this._c().Ls(),this.Zh(),e||this.Ku.p(null,null,null)}Ah(){const e=this.Ct.Us();if(null!==e){const t=this.Ct.Bs(),n=this.Ct.Es();this.yc(t,n,null,e)}this.Ct.Ns()}Dc(e,t,n){const r=this.uh.Rs(0);void 0!==t&&void 0!==n&&this.uh.kt(t,n);const i=this.uh.Rs(0),a=this.uh.ou(),s=this.uh.Pe();if(null!==s&&null!==r&&null!==i){const t=s.Te(a),o=this.o_.key(r)>this.o_.key(i),l=null!==e&&e>a&&!o,c=this.uh.N().allowShiftVisibleRangeOnWhitespaceReplacement,u=t&&(!(void 0===n)||c)&&this.uh.N().shiftVisibleRangeOnNewBar;if(l&&!u){const t=e-a;this.uh.fn(this.uh.wu()-t)}}this.uh.Su(e)}Lh(e){null!==e&&e.Jo()}Hn(e){if(e instanceof Au)return e;const t=this.$u.find(t=>t.Dt().includes(e));return void 0===t?null:t}pu(){this.$u.forEach(e=>e.Jo()),this.Ah()}m(){this.$u.forEach(e=>e.m()),this.$u.length=0,this.Ps.localization.priceFormatter=void 0,this.Ps.localization.percentageFormatter=void 0,this.Ps.localization.timeFormatter=void 0}Vc(){return this.Gu}Yn(){return this.Gu.N()}Vo(){return this.ju}Ic(e,t){const n=this.Qu(t);this.Bc(e,n),this.qu.push(e),1===this.qu.length?this.Bh():this.ar()}Ec(e){const t=this.Hn(e),n=this.qu.indexOf(e);jl(-1!==n,"Series not found");const r=Nl(t);this.qu.splice(n,1),r.io(e),e.m&&e.m(),this.uh.j_(),this.Ac(r)}Ih(e,t){const n=Nl(this.Hn(e));n.io(e,!0),n.Jl(e,t,!0)}Eu(){const e=uc.wn();e.rn(),this.ec(e)}zc(e){const t=uc.wn();t.ln(e),this.ec(t)}cn(){const e=uc.wn();e.cn(),this.ec(e)}dn(e){const t=uc.wn();t.dn(e),this.ec(t)}fn(e){const t=uc.wn();t.fn(e),this.ec(t)}_n(e){const t=uc.wn();t._n(e),this.ec(t)}hn(){const e=uc.wn();e.hn(),this.ec(e)}Lc(){return this.Ps.rightPriceScale.visible?"right":"left"}Oc(e,t){if(jl(t>=0,"Index should be greater or equal to 0"),t===this.Nc(e))return;const n=Nl(this.Hn(e));n.io(e);const r=this.Qu(t);this.Bc(e,r),0===n.ba().length&&this.Ac(n),this.Bh()}Fc(){return this.nc}$(){return this.tc}Ut(e){const t=this.nc,n=this.tc;if(t===n)return t;if(e=Math.max(0,Math.min(100,Math.round(100*e))),null===this.Xu||this.Xu.mr!==n||this.Xu.wr!==t)this.Xu={mr:n,wr:t,Wc:new Map};else{const t=this.Xu.Wc.get(e);if(void 0!==t)return t}const r=this.xl.tt(n,t,e/100);return this.Xu.Wc.set(e,r),r}Hc(e){return this.$u.indexOf(e)}Xi(){return this.xl}Uc(){return this.$c()}$c(e){const t=new Au(this.uh,this);this.$u.push(t);const n=null!=e?e:this.$u.length-1,r=uc.gn();return r.Qs(n,{tn:0,sn:!0}),this.ec(r),t}Qu(e){return jl(e>=0,"Index should be greater or equal to 0"),(e=Math.min(this.$u.length,e))<this.$u.length?this.$u[e]:this.$c(e)}Nc(e){return this.$u.findIndex(t=>t.Oo().includes(e))}wc(e,t){const n=new uc(t);if(null!==e){const r=this.$u.indexOf(e);n.Qs(r,{tn:t})}return n}rc(e,t){return void 0===t&&(t=2),this.wc(this.Hn(e),t)}ec(e){this.Zu&&this.Zu(e),this.$u.forEach(e=>e.i_().lr().kt())}Bc(e,t){const n=e.N().priceScaleId,r=void 0!==n?n:this.Lc();t.Jl(e,r),cc(r)||e.hr(e.N())}sc(e){const t=this.Ps.layout;return"gradient"===t.background.type?0===e?t.background.topColor:t.background.bottomColor:t.background.color}Ac(e){!e.Lo()&&0===e.ba().length&&this.$u.length>1&&this.$u.splice(this.Hc(e),1)}}function Xu(e){return!Pl(e)&&!Ol(e)}function Qu(e){return Pl(e)}!function(e){e[e.Disabled=0]="Disabled",e[e.Continuous=1]="Continuous",e[e.OnDataUpdate=2]="OnDataUpdate"}(Hu||(Hu={})),function(e){e[e.LastBar=0]="LastBar",e[e.LastVisible=1]="LastVisible"}(Uu||(Uu={})),function(e){e.Solid="solid",e.VerticalGradient="gradient"}(Yu||(Yu={})),function(e){e[e.Year=0]="Year",e[e.Month=1]="Month",e[e.DayOfMonth=2]="DayOfMonth",e[e.Time=3]="Time",e[e.TimeWithSeconds=4]="TimeWithSeconds"}(qu||(qu={}));const Zu=e=>e.getUTCFullYear();class Ju{constructor(e="yyyy-MM-dd",t="default"){this.qc=e,this.Yc=t}__(e){return function(e,t,n){return t.replace(/yyyy/g,(r=e,hc(Zu(r),4))).replace(/yy/g,(e=>hc(Zu(e)%100,2))(e)).replace(/MMMM/g,((e,t)=>new Date(e.getUTCFullYear(),e.getUTCMonth(),1).toLocaleString(t,{month:"long"}))(e,n)).replace(/MMM/g,((e,t)=>new Date(e.getUTCFullYear(),e.getUTCMonth(),1).toLocaleString(t,{month:"short"}))(e,n)).replace(/MM/g,(e=>hc(e.getUTCMonth()+1,2))(e)).replace(/dd/g,(e=>hc(e.getUTCDate(),2))(e));var r}(e,this.qc,this.Yc)}}class ed{constructor(e){this.jc=e||"%h:%m:%s"}__(e){return this.jc.replace("%h",hc(e.getUTCHours(),2)).replace("%m",hc(e.getUTCMinutes(),2)).replace("%s",hc(e.getUTCSeconds(),2))}}const td={Kc:"yyyy-MM-dd",Xc:"%h:%m:%s",Zc:" ",Gc:"default"};class nd{constructor(e={}){const t=h(h({},td),e);this.Jc=new Ju(t.Kc,t.Gc),this.Qc=new ed(t.Xc),this.td=t.Zc}__(e){return`${this.Jc.__(e)}${this.td}${this.Qc.__(e)}`}}function rd(e){return 60*e*60*1e3}function id(e){return 60*e*1e3}const ad=[{sd:1e3,nd:10},{sd:id(1),nd:20},{sd:id(5),nd:21},{sd:id(30),nd:22},{sd:rd(1),nd:30},{sd:rd(3),nd:31},{sd:rd(6),nd:32},{sd:rd(12),nd:33}];function sd(e,t){if(e.getUTCFullYear()!==t.getUTCFullYear())return 70;if(e.getUTCMonth()!==t.getUTCMonth())return 60;if(e.getUTCDate()!==t.getUTCDate())return 50;for(let n=ad.length-1;n>=0;--n)if(Math.floor(t.getTime()/ad[n].sd)!==Math.floor(e.getTime()/ad[n].sd))return ad[n].nd;return 0}function od(e){let t=e;if(Ol(e)&&(t=cd(e)),!Xu(t))throw new Error("time must be of type BusinessDay");const n=new Date(Date.UTC(t.year,t.month-1,t.day,0,0,0,0));return{ed:Math.round(n.getTime()/1e3),rd:t}}function ld(e){if(!Qu(e))throw new Error("time must be of type isUTCTimestamp");return{ed:e}}function cd(e){const t=new Date(e);if(isNaN(t.getTime()))throw new Error(`Invalid date string=${e}, expected format=yyyy-mm-dd`);return{day:t.getUTCDate(),month:t.getUTCMonth()+1,year:t.getUTCFullYear()}}function ud(e){Ol(e.time)&&(e.time=cd(e.time))}class dd{options(){return this.Ps}setOptions(e){this.Ps=e,this.updateFormatter(e.localization)}preprocessData(e){Array.isArray(e)?e.forEach(ud):ud(e)}createConverterToInternalObj(e){return Nl(0===(t=e).length?null:Xu(t[0].time)||Ol(t[0].time)?od:ld);var t}key(e){return"object"==typeof e&&"ed"in e?e.ed:this.key(this.convertHorzItemToInternal(e))}cacheKey(e){const t=e;return void 0===t.rd?new Date(1e3*t.ed).getTime():new Date(Date.UTC(t.rd.year,t.rd.month-1,t.rd.day)).getTime()}convertHorzItemToInternal(e){return Qu(t=e)?ld(t):Xu(t)?od(t):od(cd(t));var t}updateFormatter(e){if(!this.Ps)return;const t=e.dateFormat;this.Ps.timeScale.timeVisible?this.hd=new nd({Kc:t,Xc:this.Ps.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",Zc:"   ",Gc:e.locale}):this.hd=new Ju(t,e.locale)}formatHorzItem(e){const t=e;return this.hd.__(new Date(1e3*t.ed))}formatTickmark(e,t){const n=function(e,t,n){switch(e){case 0:case 10:return t?n?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return t?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(e.weight,this.Ps.timeScale.timeVisible,this.Ps.timeScale.secondsVisible),r=this.Ps.timeScale;if(void 0!==r.tickMarkFormatter){const i=r.tickMarkFormatter(e.originalTime,n,t.locale);if(null!==i)return i}return function(e,t,n){const r={};switch(t){case 0:r.year="numeric";break;case 1:r.month="short";break;case 2:r.day="numeric";break;case 3:r.hour12=!1,r.hour="2-digit",r.minute="2-digit";break;case 4:r.hour12=!1,r.hour="2-digit",r.minute="2-digit",r.second="2-digit"}const i=void 0===e.rd?new Date(1e3*e.ed):new Date(Date.UTC(e.rd.year,e.rd.month-1,e.rd.day));return new Date(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()).toLocaleString(n,r)}(e.time,n,t.locale)}maxTickMarkWeight(e){let t=e.reduce(Vu,e[0]).weight;return t>30&&t<50&&(t=30),t}fillWeightsForPoints(e,t){!function(e,t=0){if(0===e.length)return;let n=0===t?null:e[t-1].time.ed,r=null!==n?new Date(1e3*n):null,i=0;for(let a=t;a<e.length;++a){const t=e[a],s=new Date(1e3*t.time.ed);null!==r&&(t.timeWeight=sd(s,r)),i+=t.time.ed-(n||t.time.ed),n=t.time.ed,r=s}if(0===t&&e.length>1){const t=Math.ceil(i/(e.length-1)),n=new Date(1e3*(e[0].time.ed-t));e[0].timeWeight=sd(new Date(1e3*e[0].time.ed),n)}}(e,t)}static ad(e){return El({localization:{dateFormat:"dd MMM 'yy"}},null!=e?e:{})}}const hd="undefined"!=typeof window;function fd(){return!!hd&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function md(){return!!hd&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function pd(e){return e+e%2}class gd{constructor(e,t,n){this.ld=0,this.od=null,this._d={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.ud=0,this.dd=null,this.fd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.pd=null,this.vd=!1,this.md=null,this.wd=null,this.gd=!1,this.Md=!1,this.bd=!1,this.Sd=null,this.xd=null,this.Cd=null,this.Pd=null,this.kd=null,this.yd=null,this.Td=null,this.Rd=0,this.Dd=!1,this.Vd=!1,this.Id=!1,this.Bd=0,this.Ed=null,this.Ad=!md(),this.zd=e=>{this.Ld(e)},this.Od=e=>{if(this.Nd(e)){const t=this.Fd(e);if(++this.ud,this.dd&&this.ud>1){const{Wd:n}=this.Hd(xd(e),this.fd);n<30&&!this.bd&&this.Ud(t,this.qd.$d),this.Yd()}}else{const t=this.Fd(e);if(++this.ld,this.od&&this.ld>1){const{Wd:n}=this.Hd(xd(e),this._d);n<5&&!this.Md&&this.jd(t,this.qd.Kd),this.Xd()}}},this.Zd=e,this.qd=t,this.Ps=n,this.Gd()}m(){null!==this.Sd&&(this.Sd(),this.Sd=null),null!==this.xd&&(this.xd(),this.xd=null),null!==this.Pd&&(this.Pd(),this.Pd=null),null!==this.kd&&(this.kd(),this.kd=null),null!==this.yd&&(this.yd(),this.yd=null),null!==this.Cd&&(this.Cd(),this.Cd=null),this.Jd(),this.Xd()}Qd(e){this.Pd&&this.Pd();const t=this.tf.bind(this);if(this.Pd=()=>{this.Zd.removeEventListener("mousemove",t)},this.Zd.addEventListener("mousemove",t),this.Nd(e))return;const n=this.Fd(e);this.jd(n,this.qd.if),this.Ad=!0}Xd(){null!==this.od&&clearTimeout(this.od),this.ld=0,this.od=null,this._d={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}Yd(){null!==this.dd&&clearTimeout(this.dd),this.ud=0,this.dd=null,this.fd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}tf(e){if(this.Id||null!==this.wd)return;if(this.Nd(e))return;const t=this.Fd(e);this.jd(t,this.qd.sf),this.Ad=!0}nf(e){const t=wd(e.changedTouches,Nl(this.Ed));if(null===t)return;if(this.Bd=bd(e),null!==this.Td)return;if(this.Vd)return;this.Dd=!0;const n=this.Hd(xd(t),Nl(this.wd)),{ef:r,rf:i,Wd:a}=n;if(this.gd||!(a<5)){if(!this.gd){const e=.5*r,t=i>=e&&!this.Ps.hf(),n=e>i&&!this.Ps.af();t||n||(this.Vd=!0),this.gd=!0,this.bd=!0,this.Jd(),this.Yd()}if(!this.Vd){const n=this.Fd(e,t);this.Ud(n,this.qd.lf),yd(e)}}}_f(e){if(0!==e.button)return;const t=this.Hd(xd(e),Nl(this.md)),{Wd:n}=t;if(n>=5&&(this.Md=!0,this.Xd()),this.Md){const t=this.Fd(e);this.jd(t,this.qd.uf)}}Hd(e,t){const n=Math.abs(t._t-e._t),r=Math.abs(t.ut-e.ut);return{ef:n,rf:r,Wd:n+r}}cf(e){let t=wd(e.changedTouches,Nl(this.Ed));if(null===t&&0===e.touches.length&&(t=e.changedTouches[0]),null===t)return;this.Ed=null,this.Bd=bd(e),this.Jd(),this.wd=null,this.yd&&(this.yd(),this.yd=null);const n=this.Fd(e,t);if(this.Ud(n,this.qd.df),++this.ud,this.dd&&this.ud>1){const{Wd:e}=this.Hd(xd(t),this.fd);e<30&&!this.bd&&this.Ud(n,this.qd.$d),this.Yd()}else this.bd||(this.Ud(n,this.qd.ff),this.qd.ff&&yd(e));0===this.ud&&yd(e),0===e.touches.length&&this.vd&&(this.vd=!1,yd(e))}Ld(e){if(0!==e.button)return;const t=this.Fd(e);if(this.md=null,this.Id=!1,this.kd&&(this.kd(),this.kd=null),fd()&&this.Zd.ownerDocument.documentElement.removeEventListener("mouseleave",this.zd),!this.Nd(e))if(this.jd(t,this.qd.pf),++this.ld,this.od&&this.ld>1){const{Wd:n}=this.Hd(xd(e),this._d);n<5&&!this.Md&&this.jd(t,this.qd.Kd),this.Xd()}else this.Md||this.jd(t,this.qd.vf)}Jd(){null!==this.pd&&(clearTimeout(this.pd),this.pd=null)}mf(e){if(null!==this.Ed)return;const t=e.changedTouches[0];this.Ed=t.identifier,this.Bd=bd(e);const n=this.Zd.ownerDocument.documentElement;this.bd=!1,this.gd=!1,this.Vd=!1,this.wd=xd(t),this.yd&&(this.yd(),this.yd=null);{const t=this.nf.bind(this),r=this.cf.bind(this);this.yd=()=>{n.removeEventListener("touchmove",t),n.removeEventListener("touchend",r)},n.addEventListener("touchmove",t,{passive:!1}),n.addEventListener("touchend",r,{passive:!1}),this.Jd(),this.pd=setTimeout(this.wf.bind(this,e),240)}const r=this.Fd(e,t);this.Ud(r,this.qd.gf),this.dd||(this.ud=0,this.dd=setTimeout(this.Yd.bind(this),500),this.fd=xd(t))}Mf(e){if(0!==e.button)return;const t=this.Zd.ownerDocument.documentElement;fd()&&t.addEventListener("mouseleave",this.zd),this.Md=!1,this.md=xd(e),this.kd&&(this.kd(),this.kd=null);{const e=this._f.bind(this),n=this.Ld.bind(this);this.kd=()=>{t.removeEventListener("mousemove",e),t.removeEventListener("mouseup",n)},t.addEventListener("mousemove",e),t.addEventListener("mouseup",n)}if(this.Id=!0,this.Nd(e))return;const n=this.Fd(e);this.jd(n,this.qd.bf),this.od||(this.ld=0,this.od=setTimeout(this.Xd.bind(this),500),this._d=xd(e))}Gd(){this.Zd.addEventListener("mouseenter",this.Qd.bind(this)),this.Zd.addEventListener("touchcancel",this.Jd.bind(this));{const e=this.Zd.ownerDocument,t=e=>{this.qd.Sf&&(e.composed&&this.Zd.contains(e.composedPath()[0])||e.target&&this.Zd.contains(e.target)||this.qd.Sf())};this.xd=()=>{e.removeEventListener("touchstart",t)},this.Sd=()=>{e.removeEventListener("mousedown",t)},e.addEventListener("mousedown",t),e.addEventListener("touchstart",t,{passive:!0})}md()&&(this.Cd=()=>{this.Zd.removeEventListener("dblclick",this.Od)},this.Zd.addEventListener("dblclick",this.Od)),this.Zd.addEventListener("mouseleave",this.xf.bind(this)),this.Zd.addEventListener("touchstart",this.mf.bind(this),{passive:!0}),function(e){hd&&void 0!==window.chrome&&e.addEventListener("mousedown",e=>{if(1===e.button)return e.preventDefault(),!1})}(this.Zd),this.Zd.addEventListener("mousedown",this.Mf.bind(this)),this.Cf(),this.Zd.addEventListener("touchmove",()=>{},{passive:!1})}Cf(){void 0===this.qd.Pf&&void 0===this.qd.kf&&void 0===this.qd.yf||(this.Zd.addEventListener("touchstart",e=>this.Tf(e.touches),{passive:!0}),this.Zd.addEventListener("touchmove",e=>{if(2===e.touches.length&&null!==this.Td&&void 0!==this.qd.kf){const t=vd(e.touches[0],e.touches[1])/this.Rd;this.qd.kf(this.Td,t),yd(e)}},{passive:!1}),this.Zd.addEventListener("touchend",e=>{this.Tf(e.touches)}))}Tf(e){1===e.length&&(this.Dd=!1),2!==e.length||this.Dd||this.vd?this.Rf():this.Df(e)}Df(e){const t=this.Zd.getBoundingClientRect()||{left:0,top:0};this.Td={_t:(e[0].clientX-t.left+(e[1].clientX-t.left))/2,ut:(e[0].clientY-t.top+(e[1].clientY-t.top))/2},this.Rd=vd(e[0],e[1]),void 0!==this.qd.Pf&&this.qd.Pf(),this.Jd()}Rf(){null!==this.Td&&(this.Td=null,void 0!==this.qd.yf&&this.qd.yf())}xf(e){if(this.Pd&&this.Pd(),this.Nd(e))return;if(!this.Ad)return;const t=this.Fd(e);this.jd(t,this.qd.Vf),this.Ad=!md()}wf(e){const t=wd(e.touches,Nl(this.Ed));if(null===t)return;const n=this.Fd(e,t);this.Ud(n,this.qd.If),this.bd=!0,this.vd=!0}Nd(e){return e.sourceCapabilities&&void 0!==e.sourceCapabilities.firesTouchEvents?e.sourceCapabilities.firesTouchEvents:bd(e)<this.Bd+500}Ud(e,t){t&&t.call(this.qd,e)}jd(e,t){t&&t.call(this.qd,e)}Fd(e,t){const n=t||e,r=this.Zd.getBoundingClientRect()||{left:0,top:0};return{clientX:n.clientX,clientY:n.clientY,pageX:n.pageX,pageY:n.pageY,screenX:n.screenX,screenY:n.screenY,localX:n.clientX-r.left,localY:n.clientY-r.top,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,Bf:!e.type.startsWith("mouse")&&"contextmenu"!==e.type&&"click"!==e.type,Ef:e.type,Af:n.target,a_:e.view,zf:()=>{"touchstart"!==e.type&&yd(e)}}}}function vd(e,t){const n=e.clientX-t.clientX,r=e.clientY-t.clientY;return Math.sqrt(n*n+r*r)}function yd(e){e.cancelable&&e.preventDefault()}function xd(e){return{_t:e.pageX,ut:e.pageY}}function bd(e){return e.timeStamp||performance.now()}function wd(e,t){for(let n=0;n<e.length;++n)if(e[n].identifier===t)return e[n];return null}class _d{constructor(e,t,n){this.Lf=null,this.Of=null,this.Nf=!0,this.Ff=null,this.Wf=e,this.Hf=e.Uf()[t],this.$f=e.Uf()[n],this.qf=document.createElement("tr"),this.qf.style.height="1px",this.Yf=document.createElement("td"),this.Yf.style.position="relative",this.Yf.style.padding="0",this.Yf.style.margin="0",this.Yf.setAttribute("colspan","3"),this.jf(),this.qf.appendChild(this.Yf),this.Nf=this.Wf.N().layout.panes.enableResize,this.Nf?this.Kf():(this.Lf=null,this.Of=null)}m(){null!==this.Of&&this.Of.m()}Xf(){return this.qf}Zf(){return ul({width:this.Hf.Zf().width,height:1})}Gf(){return ul({width:this.Hf.Gf().width,height:1*window.devicePixelRatio})}Jf(e,t,n){const r=this.Gf();e.fillStyle=this.Wf.N().layout.panes.separatorColor,e.fillRect(t,n,r.width,r.height)}kt(){this.jf(),this.Wf.N().layout.panes.enableResize!==this.Nf&&(this.Nf=this.Wf.N().layout.panes.enableResize,this.Nf?this.Kf():(null!==this.Lf&&(this.Yf.removeChild(this.Lf.Qf),this.Yf.removeChild(this.Lf.tp),this.Lf=null),null!==this.Of&&(this.Of.m(),this.Of=null)))}Kf(){const e=document.createElement("div"),t=e.style;t.position="fixed",t.display="none",t.zIndex="49",t.top="0",t.left="0",t.width="100%",t.height="100%",t.cursor="row-resize",this.Yf.appendChild(e);const n=document.createElement("div"),r=n.style;r.position="absolute",r.zIndex="50",r.top="-4px",r.height="9px",r.width="100%",r.backgroundColor="",r.cursor="row-resize",this.Yf.appendChild(n);const i={if:this.ip.bind(this),Vf:this.sp.bind(this),bf:this.np.bind(this),gf:this.np.bind(this),uf:this.ep.bind(this),lf:this.ep.bind(this),pf:this.rp.bind(this),df:this.rp.bind(this)};this.Of=new gd(n,i,{hf:()=>!1,af:()=>!0}),this.Lf={tp:n,Qf:e}}jf(){this.Yf.style.background=this.Wf.N().layout.panes.separatorColor}ip(e){null!==this.Lf&&(this.Lf.tp.style.backgroundColor=this.Wf.N().layout.panes.separatorHoverColor)}sp(e){null!==this.Lf&&null===this.Ff&&(this.Lf.tp.style.backgroundColor="")}np(e){if(null===this.Lf)return;const t=this.Hf.hp().Io()+this.$f.hp().Io(),n=t/(this.Hf.Zf().height+this.$f.Zf().height),r=30*n;t<=2*r||(this.Ff={ap:e.pageY,lp:this.Hf.hp().Io(),op:t-r,_p:t,up:n,cp:r},this.Lf.Qf.style.display="block")}ep(e){const t=this.Ff;if(null===t)return;const n=(e.pageY-t.ap)*t.up,r=cu(t.lp+n,t.cp,t.op);this.Hf.hp().Bo(r),this.$f.hp().Bo(t._p-r),this.Wf.Qt().Bh()}rp(e){null!==this.Ff&&null!==this.Lf&&(this.Ff=null,this.Lf.Qf.style.display="none")}}function jd(e,t){return e.dp-t.dp}function kd(e,t,n){const r=(e.dp-t.dp)/(e.wt-t.wt);return Math.sign(r)*Math.min(Math.abs(r),n)}class Nd{constructor(e,t,n,r){this.fp=null,this.pp=null,this.vp=null,this.mp=null,this.wp=null,this.gp=0,this.Mp=0,this.bp=e,this.Sp=t,this.xp=n,this.Mn=r}Cp(e,t){if(null!==this.fp){if(this.fp.wt===t)return void(this.fp.dp=e);if(Math.abs(this.fp.dp-e)<this.Mn)return}this.mp=this.vp,this.vp=this.pp,this.pp=this.fp,this.fp={wt:t,dp:e}}le(e,t){if(null===this.fp||null===this.pp)return;if(t-this.fp.wt>50)return;let n=0;const r=kd(this.fp,this.pp,this.Sp),i=jd(this.fp,this.pp),a=[r],s=[i];if(n+=i,null!==this.vp){const e=kd(this.pp,this.vp,this.Sp);if(Math.sign(e)===Math.sign(r)){const t=jd(this.pp,this.vp);if(a.push(e),s.push(t),n+=t,null!==this.mp){const e=kd(this.vp,this.mp,this.Sp);if(Math.sign(e)===Math.sign(r)){const t=jd(this.vp,this.mp);a.push(e),s.push(t),n+=t}}}}let o=0;for(let l=0;l<a.length;++l)o+=s[l]/n*a[l];Math.abs(o)<this.bp||(this.wp={dp:e,wt:t},this.Mp=o,this.gp=function(e,t){const n=Math.log(t);return Math.log(1*n/-e)/n}(Math.abs(o),this.xp))}Ru(e){const t=Nl(this.wp),n=e-t.wt;return t.dp+this.Mp*(Math.pow(this.xp,n)-1)/Math.log(this.xp)}Tu(e){return null===this.wp||this.Pp(e)===this.gp}Pp(e){const t=e-Nl(this.wp).wt;return Math.min(t,this.gp)}}class Sd{constructor(e,t){this.kp=void 0,this.yp=void 0,this.Tp=void 0,this.ps=!1,this.Rp=e,this.Dp=t,this.Vp()}kt(){this.Vp()}Ip(){this.kp&&this.Rp.removeChild(this.kp),this.yp&&this.Rp.removeChild(this.yp),this.kp=void 0,this.yp=void 0}Bp(){return this.ps!==this.Ep()||this.Tp!==this.Ap()}Ap(){return this.Dp.Qt().Xi().J(this.Dp.N().layout.textColor)>160?"dark":"light"}Ep(){return this.Dp.N().layout.attributionLogo}zp(){const e=new URL(location.href);return e.hostname?"&utm_source="+e.hostname+e.pathname:""}Vp(){this.Bp()&&(this.Ip(),this.ps=this.Ep(),this.ps&&(this.Tp=this.Ap(),this.yp=document.createElement("style"),this.yp.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.kp=document.createElement("a"),this.kp.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.zp()}`,this.kp.title="Charting by TradingView",this.kp.id="tv-attr-logo",this.kp.target="_blank",this.kp.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.kp.toggleAttribute("data-dark","dark"===this.Tp),this.Rp.appendChild(this.yp),this.Rp.appendChild(this.kp)))}}function Cd(e,t){const n=Nl(e.ownerDocument).createElement("canvas");e.appendChild(n);const r=new fl(n,(i={options:{allowResizeObserver:!0},transform:(e,t)=>({width:Math.max(e.width,t.width),height:Math.max(e.height,t.height)})}).transform,i.options);var i;return r.resizeCanvasElement(t),r}function Ed(e){var t;e.width=1,e.height=1,null==(t=e.getContext("2d"))||t.clearRect(0,0,1,1)}function Pd(e,t,n,r){e.ih&&e.ih(t,n,r)}function Md(e,t,n,r){e.nt(t,n,r)}function Od(e,t,n,r){const i=e(n,r);for(const a of i){const e=a.Tt(r);null!==e&&t(e)}}function Ad(e,t){return n=>{var r,i,a,s;return void 0===n.Ft||(null!=(i=null==(r=n.Ft())?void 0:r.wa())?i:"")!==t?[]:null!=(s=null==(a=n.ta)?void 0:a.call(n,e))?s:[]}}function Td(e,t,n,r){if(!e.length)return;let i=0;const a=e[0].$t(r,!0);let s=1===t?n/2-(e[0].Fi()-a/2):e[0].Fi()-a/2-n/2;s=Math.max(0,s);for(let o=1;o<e.length;o++){const a=e[o],l=e[o-1],c=l.$t(r,!1),u=a.Fi(),d=l.Fi();if(1===t?u>d-c:u<d+c){const r=d-c*t;a.Wi(r);const o=r-t*c/2;if((1===t?o<0:o>n)&&s>0){const r=1===t?-1-o:o-n,a=Math.min(r,s);for(let n=i;n<e.length;n++)e[n].Wi(e[n].Fi()+t*a);s-=a}}else i=o,s=1===t?d-c-u:u-(d+c)}}class Dd{constructor(e,t,n,r){this.Yi=null,this.Lp=null,this.Op=!1,this.Np=new vc(200),this.Fp=null,this.Wp=0,this.Hp=!1,this.Up=()=>{this.Hp||this.Pt.$p().Qt().ar()},this.qp=()=>{this.Hp||this.Pt.$p().Qt().ar()},this.Pt=e,this.Ps=t,this.bl=t.layout,this.Gu=n,this.Yp="left"===r,this.jp=Ad("normal",r),this.Kp=Ad("top",r),this.Xp=Ad("bottom",r),this.Yf=document.createElement("div"),this.Yf.style.height="100%",this.Yf.style.overflow="hidden",this.Yf.style.width="25px",this.Yf.style.left="0",this.Yf.style.position="relative",this.Zp=Cd(this.Yf,ul({width:16,height:16})),this.Zp.subscribeSuggestedBitmapSizeChanged(this.Up);const i=this.Zp.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.Gp=Cd(this.Yf,ul({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.qp);const a=this.Gp.canvasElement;a.style.position="absolute",a.style.zIndex="2",a.style.left="0",a.style.top="0";const s={bf:this.np.bind(this),gf:this.np.bind(this),uf:this.ep.bind(this),lf:this.ep.bind(this),Sf:this.Jp.bind(this),pf:this.rp.bind(this),df:this.rp.bind(this),Kd:this.Qp.bind(this),$d:this.Qp.bind(this),if:this.tv.bind(this),Vf:this.sp.bind(this)};this.Of=new gd(this.Gp.canvasElement,s,{hf:()=>!this.Ps.handleScroll.vertTouchDrag,af:()=>!0})}m(){this.Of.m(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.qp),Ed(this.Gp.canvasElement),this.Gp.dispose(),this.Zp.unsubscribeSuggestedBitmapSizeChanged(this.Up),Ed(this.Zp.canvasElement),this.Zp.dispose(),null!==this.Yi&&this.Yi.no().u(this),this.Yi=null}Xf(){return this.Yf}P(){return this.bl.fontSize}iv(){const e=this.Gu.N();return this.Fp!==e.k&&(this.Np.In(),this.Fp=e.k),e}sv(){if(null===this.Yi)return 0;let e=0;const t=this.iv(),n=Nl(this.Zp.canvasElement.getContext("2d",{colorSpace:this.Pt.$p().N().layout.colorSpace}));n.save();const r=this.Yi.Va();n.font=this.nv(),r.length>0&&(e=Math.max(this.Np.Vi(n,r[0].Ga),this.Np.Vi(n,r[r.length-1].Ga)));const i=this.ev();for(let l=i.length;l--;){const t=this.Np.Vi(n,i[l].ri());t>e&&(e=t)}const a=this.Yi.zt();if(null!==a&&null!==this.Lp&&2!==(s=this.Ps.crosshair).mode&&s.horzLine.visible&&s.horzLine.labelVisible){const t=this.Yi.Ts(1,a),r=this.Yi.Ts(this.Lp.height-2,a);e=Math.max(e,this.Np.Vi(n,this.Yi.Zi(Math.floor(Math.min(t,r))+.11111111111111,a)),this.Np.Vi(n,this.Yi.Zi(Math.ceil(Math.max(t,r))-.11111111111111,a)))}var s;n.restore();const o=e||34;return pd(Math.ceil(t.S+t.C+t.I+t.B+5+o))}rv(e){null!==this.Lp&&dl(this.Lp,e)||(this.Lp=e,this.Hp=!0,this.Zp.resizeCanvasElement(e),this.Gp.resizeCanvasElement(e),this.Hp=!1,this.Yf.style.width=`${e.width}px`,this.Yf.style.height=`${e.height}px`)}hv(){return Nl(this.Lp).width}_s(e){this.Yi!==e&&(null!==this.Yi&&this.Yi.no().u(this),this.Yi=e,e.no().i(this.ul.bind(this),this))}Ft(){return this.Yi}In(){const e=this.Pt.hp();this.Pt.$p().Qt().Zo(e,Nl(this.Ft()))}av(e){if(null===this.Lp)return;const t={colorSpace:this.Pt.$p().N().layout.colorSpace};if(1!==e){this.lv(),this.Zp.applySuggestedBitmapSize();const e=gl(this.Zp,t);null!==e&&(e.useBitmapCoordinateSpace(e=>{this.ov(e),this._v(e)}),this.Pt.uv(e,this.Xp),this.cv(e),this.Pt.uv(e,this.jp),this.dv(e))}this.Gp.applySuggestedBitmapSize();const n=gl(this.Gp,t);null!==n&&(n.useBitmapCoordinateSpace(({context:e,bitmapSize:t})=>{e.clearRect(0,0,t.width,t.height)}),this.fv(n),this.Pt.uv(n,this.Kp))}Gf(){return this.Zp.bitmapSize}Jf(e,t,n){const r=this.Gf();r.width>0&&r.height>0&&e.drawImage(this.Zp.canvasElement,t,n)}kt(){var e;null==(e=this.Yi)||e.Va()}np(e){if(null===this.Yi||this.Yi.Ki()||!this.Ps.handleScale.axisPressedMouseMove.price)return;const t=this.Pt.$p().Qt(),n=this.Pt.hp();this.Op=!0,t.Uo(n,this.Yi,e.localY)}ep(e){if(null===this.Yi||!this.Ps.handleScale.axisPressedMouseMove.price)return;const t=this.Pt.$p().Qt(),n=this.Pt.hp(),r=this.Yi;t.$o(n,r,e.localY)}Jp(){if(null===this.Yi||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.Pt.$p().Qt(),t=this.Pt.hp(),n=this.Yi;this.Op&&(this.Op=!1,e.qo(t,n))}rp(e){if(null===this.Yi||!this.Ps.handleScale.axisPressedMouseMove.price)return;const t=this.Pt.$p().Qt(),n=this.Pt.hp();this.Op=!1,t.qo(n,this.Yi)}Qp(e){this.Ps.handleScale.axisDoubleClickReset.price&&this.In()}tv(e){null!==this.Yi&&(!this.Pt.$p().Qt().N().handleScale.axisPressedMouseMove.price||this.Yi.Le()||this.Yi.Vl()||this.pv(1))}sp(e){this.pv(0)}ev(){const e=[],t=null===this.Yi?void 0:this.Yi;return(n=>{for(let r=0;r<n.length;++r){const i=n[r].Ws(this.Pt.hp(),t);for(let t=0;t<i.length;t++)e.push(i[t])}})(this.Pt.hp().Dt()),e}ov({context:e,bitmapSize:t}){const{width:n,height:r}=t,i=this.Pt.hp().Qt(),a=i.$(),s=i.Fc();a===s?Xl(e,0,0,n,r,a):Jl(e,0,0,n,r,a,s)}_v({context:e,bitmapSize:t,horizontalPixelRatio:n}){if(null===this.Lp||null===this.Yi||!this.Yi.N().borderVisible)return;e.fillStyle=this.Yi.N().borderColor;const r=Math.max(1,Math.floor(this.iv().S*n));let i;i=this.Yp?t.width-r:0,e.fillRect(i,0,r,t.height)}cv(e){if(null===this.Lp||null===this.Yi)return;const t=this.Yi.Va(),n=this.Yi.N(),r=this.iv(),i=this.Yp?this.Lp.width-r.C:0;n.borderVisible&&n.ticksVisible&&e.useBitmapCoordinateSpace(({context:e,horizontalPixelRatio:a,verticalPixelRatio:s})=>{e.fillStyle=n.borderColor;const o=Math.max(1,Math.floor(s)),l=Math.floor(.5*s),c=Math.round(r.C*a);e.beginPath();for(const n of t)e.rect(Math.floor(i*a),Math.round(n.ka*s)-l,c,o);e.fill()}),e.useMediaCoordinateSpace(({context:e})=>{var a;e.font=this.nv(),e.fillStyle=null!=(a=n.textColor)?a:this.bl.textColor,e.textAlign=this.Yp?"right":"left",e.textBaseline="middle";const s=this.Yp?Math.round(i-r.I):Math.round(i+r.C+r.I),o=t.map(t=>this.Np.Di(e,t.Ga));for(let n=t.length;n--;){const r=t[n];e.fillText(r.Ga,s,r.ka+o[n])}})}lv(){if(null===this.Lp||null===this.Yi)return;let e=this.Lp.height/2;const t=[],n=this.Yi.Dt().slice(),r=this.Pt.hp(),i=this.iv();this.Yi===r.$n()&&this.Pt.hp().Dt().forEach(e=>{r.Un(e)&&n.push(e)});const a=this.Yi.ba()[0],s=this.Yi;n.forEach(n=>{const i=n.Ws(r,s);i.forEach(e=>{e.Wi(null),e.Hi()&&t.push(e)}),a===n&&i.length>0&&(e=i[0].Bi())}),t.forEach(e=>e.Wi(e.Bi())),this.Yi.N().alignLabels&&this.vv(t,i,e)}vv(e,t,n){if(null===this.Lp)return;const r=e.filter(e=>e.Bi()<=n),i=e.filter(e=>e.Bi()>n);r.sort((e,t)=>t.Bi()-e.Bi()),r.length&&i.length&&i.push(r[0]),i.sort((e,t)=>e.Bi()-t.Bi());for(const a of e){const e=Math.floor(a.$t(t)/2),n=a.Bi();n>-e&&n<e&&a.Wi(e),n>this.Lp.height-e&&n<this.Lp.height+e&&a.Wi(this.Lp.height-e)}Td(r,1,this.Lp.height,t),Td(i,-1,this.Lp.height,t)}dv(e){if(null===this.Lp)return;const t=this.ev(),n=this.iv(),r=this.Yp?"right":"left";t.forEach(t=>{t.Ui()&&t.Tt(Nl(this.Yi)).nt(e,n,this.Np,r)})}fv(e){if(null===this.Lp||null===this.Yi)return;const t=this.Pt.$p().Qt(),n=[],r=this.Pt.hp(),i=t._c().Ws(r,this.Yi);i.length&&n.push(i);const a=this.iv(),s=this.Yp?"right":"left";n.forEach(t=>{t.forEach(t=>{t.Tt(Nl(this.Yi)).nt(e,a,this.Np,s)})})}pv(e){this.Yf.style.cursor=1===e?"ns-resize":"default"}ul(){const e=this.sv();this.Wp<e&&this.Pt.$p().Qt().Bh(),this.Wp=e}nv(){return zl(this.bl.fontSize,this.bl.fontFamily)}}function Rd(e,t){var n,r;return null!=(r=null==(n=e.Jh)?void 0:n.call(e,t))?r:[]}function Id(e,t){var n,r;return null!=(r=null==(n=e.Fs)?void 0:n.call(e,t))?r:[]}function zd(e,t){var n,r;return null!=(r=null==(n=e.us)?void 0:n.call(e,t))?r:[]}function Ld(e,t){var n,r;return null!=(r=null==(n=e.Xh)?void 0:n.call(e,t))?r:[]}class Fd{constructor(e,t){this.Lp=ul({width:0,height:0}),this.mv=null,this.wv=null,this.gv=null,this.Mv=null,this.bv=!1,this.Sv=new Cl,this.xv=new Cl,this.Cv=0,this.Pv=!1,this.kv=null,this.yv=!1,this.Tv=null,this.Rv=null,this.Hp=!1,this.Up=()=>{this.Hp||null===this.Dv||this.ts().ar()},this.qp=()=>{this.Hp||null===this.Dv||this.ts().ar()},this.Dp=e,this.Dv=t,this.Dv.t_().i(this.Vv.bind(this),this,!0),this.Iv=document.createElement("td"),this.Iv.style.padding="0",this.Iv.style.position="relative";const n=document.createElement("div");n.style.width="100%",n.style.height="100%",n.style.position="relative",n.style.overflow="hidden",this.Bv=document.createElement("td"),this.Bv.style.padding="0",this.Ev=document.createElement("td"),this.Ev.style.padding="0",this.Iv.appendChild(n),this.Zp=Cd(n,ul({width:16,height:16})),this.Zp.subscribeSuggestedBitmapSizeChanged(this.Up);const r=this.Zp.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Gp=Cd(n,ul({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.qp);const i=this.Gp.canvasElement;i.style.position="absolute",i.style.zIndex="2",i.style.left="0",i.style.top="0",this.qf=document.createElement("tr"),this.qf.appendChild(this.Bv),this.qf.appendChild(this.Iv),this.qf.appendChild(this.Ev),this.Av(),this.Of=new gd(this.Gp.canvasElement,this,{hf:()=>null===this.kv&&!this.Dp.N().handleScroll.vertTouchDrag,af:()=>null===this.kv&&!this.Dp.N().handleScroll.horzTouchDrag})}m(){null!==this.mv&&this.mv.m(),null!==this.wv&&this.wv.m(),this.gv=null,this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.qp),Ed(this.Gp.canvasElement),this.Gp.dispose(),this.Zp.unsubscribeSuggestedBitmapSizeChanged(this.Up),Ed(this.Zp.canvasElement),this.Zp.dispose(),null!==this.Dv&&(this.Dv.t_().u(this),this.Dv.m()),this.Of.m()}hp(){return Nl(this.Dv)}zv(e){var t,n;null!==this.Dv&&this.Dv.t_().u(this),this.Dv=e,null!==this.Dv&&this.Dv.t_().i(Fd.prototype.Vv.bind(this),this,!0),this.Av(),this.Dp.Uf().indexOf(this)===this.Dp.Uf().length-1?(this.gv=null!=(t=this.gv)?t:new Sd(this.Iv,this.Dp),this.gv.kt()):(null==(n=this.gv)||n.Ip(),this.gv=null)}$p(){return this.Dp}Xf(){return this.qf}Av(){if(null!==this.Dv&&(this.Lv(),0!==this.ts().js().length)){if(null!==this.mv){const e=this.Dv.Wo();this.mv._s(Nl(e))}if(null!==this.wv){const e=this.Dv.Ho();this.wv._s(Nl(e))}}}Ov(){null!==this.mv&&this.mv.kt(),null!==this.wv&&this.wv.kt()}Io(){return null!==this.Dv?this.Dv.Io():0}Bo(e){this.Dv&&this.Dv.Bo(e)}if(e){if(!this.Dv)return;this.Nv();const t=e.localX,n=e.localY;this.Fv(t,n,e)}bf(e){this.Nv(),this.Wv(),this.Fv(e.localX,e.localY,e)}sf(e){if(!this.Dv)return;this.Nv();const t=e.localX,n=e.localY;this.Fv(t,n,e)}vf(e){null!==this.Dv&&(this.Nv(),this.Hv(e))}Kd(e){null!==this.Dv&&this.Uv(this.xv,e)}$d(e){this.Kd(e)}uf(e){this.Nv(),this.$v(e),this.Fv(e.localX,e.localY,e)}pf(e){null!==this.Dv&&(this.Nv(),this.Pv=!1,this.qv(e))}ff(e){null!==this.Dv&&this.Hv(e)}If(e){if(this.Pv=!0,null===this.kv){const t={x:e.localX,y:e.localY};this.Yv(t,t,e)}}Vf(e){null!==this.Dv&&(this.Nv(),this.Dv.Qt().ac(null),this.jv())}Kv(){return this.Sv}Xv(){return this.xv}Pf(){this.Cv=1,this.ts().hn()}kf(e,t){if(!this.Dp.N().handleScale.pinch)return;const n=5*(t-this.Cv);this.Cv=t,this.ts().Mc(e._t,n)}gf(e){this.Pv=!1,this.yv=null!==this.kv,this.Wv();const t=this.ts()._c();null!==this.kv&&t.Vt()&&(this.Tv={x:t.si(),y:t.ni()},this.kv={x:e.localX,y:e.localY})}lf(e){if(null===this.Dv)return;const t=e.localX,n=e.localY;if(null===this.kv)this.$v(e);else{this.yv=!1;const r=Nl(this.Tv),i=r.x+(t-this.kv.x),a=r.y+(n-this.kv.y);this.Fv(i,a,e)}}df(e){0===this.$p().N().trackingMode.exitMode&&(this.yv=!0),this.Zv(),this.qv(e)}jn(e,t){const n=this.Dv;return null===n?null:Iu(n,e,t)}Gv(e,t){Nl("left"===t?this.mv:this.wv).rv(ul({width:e,height:this.Lp.height}))}Zf(){return this.Lp}rv(e){dl(this.Lp,e)||(this.Lp=e,this.Hp=!0,this.Zp.resizeCanvasElement(e),this.Gp.resizeCanvasElement(e),this.Hp=!1,this.Iv.style.width=e.width+"px",this.Iv.style.height=e.height+"px")}Jv(){const e=Nl(this.Dv);e.Fo(e.Wo()),e.Fo(e.Ho());for(const t of e.ba())if(e.Un(t)){const n=t.Ft();null!==n&&e.Fo(n),t.Ns()}for(const t of e.s_())t.Ns()}Gf(){return this.Zp.bitmapSize}Jf(e,t,n){const r=this.Gf();r.width>0&&r.height>0&&e.drawImage(this.Zp.canvasElement,t,n)}av(e){if(0===e)return;if(null===this.Dv)return;e>1&&this.Jv(),null!==this.mv&&this.mv.av(e),null!==this.wv&&this.wv.av(e);const t={colorSpace:this.Dp.N().layout.colorSpace};if(1!==e){this.Zp.applySuggestedBitmapSize();const e=gl(this.Zp,t);null!==e&&(e.useBitmapCoordinateSpace(e=>{this.ov(e)}),this.Dv&&(this.Qv(e,Rd),this.tm(e),this.Qv(e,Id),this.Qv(e,zd)))}this.Gp.applySuggestedBitmapSize();const n=gl(this.Gp,t);null!==n&&(n.useBitmapCoordinateSpace(({context:e,bitmapSize:t})=>{e.clearRect(0,0,t.width,t.height)}),this.im(n),this.Qv(n,Ld),this.Qv(n,zd))}sm(){return this.mv}nm(){return this.wv}uv(e,t){this.Qv(e,t)}Vv(){null!==this.Dv&&this.Dv.t_().u(this),this.Dv=null}Hv(e){this.Uv(this.Sv,e)}Uv(e,t){const n=t.localX,r=t.localY;e.v()&&e.p(this.ts().Et().uu(n),{x:n,y:r},t)}ov({context:e,bitmapSize:t}){const{width:n,height:r}=t,i=this.ts(),a=i.$(),s=i.Fc();a===s?Xl(e,0,0,n,r,s):Jl(e,0,0,n,r,a,s)}tm(e){const t=Nl(this.Dv),n=t.i_().lr().Tt(t);null!==n&&n.nt(e,!1)}im(e){this.rm(e,Id,Md,this.ts()._c())}Qv(e,t){const n=Nl(this.Dv),r=n.Dt(),i=n.s_();for(const a of i)this.rm(e,t,Pd,a);for(const a of r)this.rm(e,t,Pd,a);for(const a of i)this.rm(e,t,Md,a);for(const a of r)this.rm(e,t,Md,a)}rm(e,t,n,r){const i=Nl(this.Dv),a=i.Qt().hc(),s=null!==a&&a.n_===r,o=null!==a&&s&&void 0!==a.e_?a.e_.Xn:void 0;Od(t,t=>n(t,e,s,o),r,i)}Lv(){if(null===this.Dv)return;const e=this.Dp,t=this.Dv.Wo().N().visible,n=this.Dv.Ho().N().visible;t||null===this.mv||(this.Bv.removeChild(this.mv.Xf()),this.mv.m(),this.mv=null),n||null===this.wv||(this.Ev.removeChild(this.wv.Xf()),this.wv.m(),this.wv=null);const r=e.Qt().Vc();t&&null===this.mv&&(this.mv=new Dd(this,e.N(),r,"left"),this.Bv.appendChild(this.mv.Xf())),n&&null===this.wv&&(this.wv=new Dd(this,e.N(),r,"right"),this.Ev.appendChild(this.wv.Xf()))}hm(e){return e.Bf&&this.Pv||null!==this.kv}am(e){return Math.max(0,Math.min(e,this.Lp.width-1))}lm(e){return Math.max(0,Math.min(e,this.Lp.height-1))}Fv(e,t,n){this.ts().yc(this.am(e),this.lm(t),n,Nl(this.Dv))}jv(){this.ts().Rc()}Zv(){this.yv&&(this.kv=null,this.jv())}Yv(e,t,n){this.kv=e,this.yv=!1,this.Fv(t.x,t.y,n);const r=this.ts()._c();this.Tv={x:r.si(),y:r.ni()}}ts(){return this.Dp.Qt()}qv(e){if(!this.bv)return;const t=this.ts(),n=this.hp();if(t.Ko(n,n.ys()),this.Mv=null,this.bv=!1,t.Cc(),null!==this.Rv){const e=performance.now(),n=t.Et();this.Rv.le(n.wu(),e),this.Rv.Tu(e)||t._n(this.Rv)}}Nv(){this.kv=null}Wv(){if(this.Dv){if(this.ts().hn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)Nl(document.activeElement).blur();else{const e=document.getSelection();null!==e&&e.removeAllRanges()}!this.Dv.ys().Ki()&&this.ts().Et().Ki()}}$v(e){if(null===this.Dv)return;const t=this.ts(),n=t.Et();if(n.Ki())return;const r=this.Dp.N(),i=r.handleScroll,a=r.kineticScroll;if((!i.pressedMouseMove||e.Bf)&&(!i.horzTouchDrag&&!i.vertTouchDrag||!e.Bf))return;const s=this.Dv.ys(),o=performance.now();if(null!==this.Mv||this.hm(e)||(this.Mv={x:e.clientX,y:e.clientY,ed:o,om:e.localX,_m:e.localY}),null!==this.Mv&&!this.bv&&(this.Mv.x!==e.clientX||this.Mv.y!==e.clientY)){if(e.Bf&&a.touch||!e.Bf&&a.mouse){const e=n.vu();this.Rv=new Nd(.2/e,7/e,.997,15/e),this.Rv.Cp(n.wu(),this.Mv.ed)}else this.Rv=null;s.Ki()||t.Yo(this.Dv,s,e.localY),t.Sc(e.localX),this.bv=!0}this.bv&&(s.Ki()||t.jo(this.Dv,s,e.localY),t.xc(e.localX),null!==this.Rv&&this.Rv.Cp(n.wu(),o))}}class Bd{constructor(e,t,n,r,i){this.xt=!0,this.Lp=ul({width:0,height:0}),this.Up=()=>this.av(3),this.Yp="left"===e,this.Gu=n.Vc,this.Ps=t,this.um=r,this.dm=i,this.Yf=document.createElement("div"),this.Yf.style.width="25px",this.Yf.style.height="100%",this.Yf.style.overflow="hidden",this.Zp=Cd(this.Yf,ul({width:16,height:16})),this.Zp.subscribeSuggestedBitmapSizeChanged(this.Up)}m(){this.Zp.unsubscribeSuggestedBitmapSizeChanged(this.Up),Ed(this.Zp.canvasElement),this.Zp.dispose()}Xf(){return this.Yf}Zf(){return this.Lp}rv(e){dl(this.Lp,e)||(this.Lp=e,this.Zp.resizeCanvasElement(e),this.Yf.style.width=`${e.width}px`,this.Yf.style.height=`${e.height}px`,this.xt=!0)}av(e){if(e<3&&!this.xt)return;if(0===this.Lp.width||0===this.Lp.height)return;this.xt=!1,this.Zp.applySuggestedBitmapSize();const t=gl(this.Zp,{colorSpace:this.Ps.layout.colorSpace});null!==t&&t.useBitmapCoordinateSpace(e=>{this.ov(e),this._v(e)})}Gf(){return this.Zp.bitmapSize}Jf(e,t,n){const r=this.Gf();r.width>0&&r.height>0&&e.drawImage(this.Zp.canvasElement,t,n)}_v({context:e,bitmapSize:t,horizontalPixelRatio:n,verticalPixelRatio:r}){if(!this.um())return;e.fillStyle=this.Ps.timeScale.borderColor;const i=Math.floor(this.Gu.N().S*n),a=Math.floor(this.Gu.N().S*r),s=this.Yp?t.width-i:0;e.fillRect(s,0,i,a)}ov({context:e,bitmapSize:t}){Xl(e,0,0,t.width,t.height,this.dm())}}function Wd(e){return t=>{var n,r;return null!=(r=null==(n=t.ia)?void 0:n.call(t,e))?r:[]}}const Vd=Wd("normal"),$d=Wd("top"),Kd=Wd("bottom");class Hd{constructor(e,t){this.fm=null,this.pm=null,this.M=null,this.vm=!1,this.Lp=ul({width:0,height:0}),this.wm=new Cl,this.Np=new vc(5),this.Hp=!1,this.Up=()=>{this.Hp||this.Dp.Qt().ar()},this.qp=()=>{this.Hp||this.Dp.Qt().ar()},this.Dp=e,this.o_=t,this.Ps=e.N().layout,this.kp=document.createElement("tr"),this.gm=document.createElement("td"),this.gm.style.padding="0",this.Mm=document.createElement("td"),this.Mm.style.padding="0",this.Yf=document.createElement("td"),this.Yf.style.height="25px",this.Yf.style.padding="0",this.bm=document.createElement("div"),this.bm.style.width="100%",this.bm.style.height="100%",this.bm.style.position="relative",this.bm.style.overflow="hidden",this.Yf.appendChild(this.bm),this.Zp=Cd(this.bm,ul({width:16,height:16})),this.Zp.subscribeSuggestedBitmapSizeChanged(this.Up);const n=this.Zp.canvasElement;n.style.position="absolute",n.style.zIndex="1",n.style.left="0",n.style.top="0",this.Gp=Cd(this.bm,ul({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.qp);const r=this.Gp.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.kp.appendChild(this.gm),this.kp.appendChild(this.Yf),this.kp.appendChild(this.Mm),this.Sm(),this.Dp.Qt().Vo().i(this.Sm.bind(this),this),this.Of=new gd(this.Gp.canvasElement,this,{hf:()=>!0,af:()=>!this.Dp.N().handleScroll.horzTouchDrag})}m(){this.Of.m(),null!==this.fm&&this.fm.m(),null!==this.pm&&this.pm.m(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.qp),Ed(this.Gp.canvasElement),this.Gp.dispose(),this.Zp.unsubscribeSuggestedBitmapSizeChanged(this.Up),Ed(this.Zp.canvasElement),this.Zp.dispose()}Xf(){return this.kp}xm(){return this.fm}Cm(){return this.pm}bf(e){if(this.vm)return;this.vm=!0;const t=this.Dp.Qt();!t.Et().Ki()&&this.Dp.N().handleScale.axisPressedMouseMove.time&&t.gc(e.localX)}gf(e){this.bf(e)}Sf(){const e=this.Dp.Qt();!e.Et().Ki()&&this.vm&&(this.vm=!1,this.Dp.N().handleScale.axisPressedMouseMove.time&&e.kc())}uf(e){const t=this.Dp.Qt();!t.Et().Ki()&&this.Dp.N().handleScale.axisPressedMouseMove.time&&t.Pc(e.localX)}lf(e){this.uf(e)}pf(){this.vm=!1;const e=this.Dp.Qt();e.Et().Ki()&&!this.Dp.N().handleScale.axisPressedMouseMove.time||e.kc()}df(){this.pf()}Kd(){this.Dp.N().handleScale.axisDoubleClickReset.time&&this.Dp.Qt().cn()}$d(){this.Kd()}if(){this.Dp.Qt().N().handleScale.axisPressedMouseMove.time&&this.pv(1)}Vf(){this.pv(0)}Zf(){return this.Lp}Pm(){return this.wm}km(e,t,n){dl(this.Lp,e)||(this.Lp=e,this.Hp=!0,this.Zp.resizeCanvasElement(e),this.Gp.resizeCanvasElement(e),this.Hp=!1,this.Yf.style.width=`${e.width}px`,this.Yf.style.height=`${e.height}px`,this.wm.p(e)),null!==this.fm&&this.fm.rv(ul({width:t,height:e.height})),null!==this.pm&&this.pm.rv(ul({width:n,height:e.height}))}ym(){const e=this.Tm();return Math.ceil(e.S+e.C+e.P+e.A+e.V+e.Rm)}kt(){this.Dp.Qt().Et().Va()}Gf(){return this.Zp.bitmapSize}Jf(e,t,n){const r=this.Gf();r.width>0&&r.height>0&&e.drawImage(this.Zp.canvasElement,t,n)}av(e){if(0===e)return;const t={colorSpace:this.Ps.colorSpace};if(1!==e){this.Zp.applySuggestedBitmapSize();const n=gl(this.Zp,t);null!==n&&(n.useBitmapCoordinateSpace(e=>{this.ov(e),this._v(e),this.Dm(n,Kd)}),this.cv(n),this.Dm(n,Vd)),null!==this.fm&&this.fm.av(e),null!==this.pm&&this.pm.av(e)}this.Gp.applySuggestedBitmapSize();const n=gl(this.Gp,t);null!==n&&(n.useBitmapCoordinateSpace(({context:e,bitmapSize:t})=>{e.clearRect(0,0,t.width,t.height)}),this.Vm([...this.Dp.Qt().js(),this.Dp.Qt()._c()],n),this.Dm(n,$d))}Dm(e,t){const n=this.Dp.Qt().js();for(const r of n)Od(t,t=>Pd(t,e,!1,void 0),r,void 0);for(const r of n)Od(t,t=>Md(t,e,!1,void 0),r,void 0)}ov({context:e,bitmapSize:t}){Xl(e,0,0,t.width,t.height,this.Dp.Qt().Fc())}_v({context:e,bitmapSize:t,verticalPixelRatio:n}){if(this.Dp.N().timeScale.borderVisible){e.fillStyle=this.Im();const r=Math.max(1,Math.floor(this.Tm().S*n));e.fillRect(0,0,t.width,r)}}cv(e){const t=this.Dp.Qt().Et(),n=t.Va();if(!n||0===n.length)return;const r=this.o_.maxTickMarkWeight(n),i=this.Tm(),a=t.N();a.borderVisible&&a.ticksVisible&&e.useBitmapCoordinateSpace(({context:e,horizontalPixelRatio:t,verticalPixelRatio:r})=>{e.strokeStyle=this.Im(),e.fillStyle=this.Im();const a=Math.max(1,Math.floor(t)),s=Math.floor(.5*t);e.beginPath();const o=Math.round(i.C*r);for(let i=n.length;i--;){const r=Math.round(n[i].coord*t);e.rect(r-s,0,a,o)}e.fill()}),e.useMediaCoordinateSpace(({context:e})=>{const t=i.S+i.C+i.A+i.P/2;e.textAlign="center",e.textBaseline="middle",e.fillStyle=this.H(),e.font=this.nv();for(const i of n)if(i.weight<r){const n=i.needAlignCoordinate?this.Bm(e,i.coord,i.label):i.coord;e.fillText(i.label,n,t)}this.Dp.N().timeScale.allowBoldLabels&&(e.font=this.Em());for(const i of n)if(i.weight>=r){const n=i.needAlignCoordinate?this.Bm(e,i.coord,i.label):i.coord;e.fillText(i.label,n,t)}})}Bm(e,t,n){const r=this.Np.Vi(e,n),i=r/2,a=Math.floor(t-i)+.5;return a<0?t+=Math.abs(0-a):a+r>this.Lp.width&&(t-=Math.abs(this.Lp.width-(a+r))),t}Vm(e,t){const n=this.Tm();for(const r of e)for(const e of r.cs())e.Tt().nt(t,n)}Im(){return this.Dp.N().timeScale.borderColor}H(){return this.Ps.textColor}F(){return this.Ps.fontSize}nv(){return zl(this.F(),this.Ps.fontFamily)}Em(){return zl(this.F(),this.Ps.fontFamily,"bold")}Tm(){null===this.M&&(this.M={S:1,L:NaN,A:NaN,V:NaN,Ji:NaN,C:5,P:NaN,k:"",Gi:new vc,Rm:0});const e=this.M,t=this.nv();if(e.k!==t){const n=this.F();e.P=n,e.k=t,e.A=3*n/12,e.V=3*n/12,e.Ji=9*n/12,e.L=0,e.Rm=4*n/12,e.Gi.In()}return this.M}pv(e){this.Yf.style.cursor=1===e?"ew-resize":"default"}Sm(){const e=this.Dp.Qt(),t=e.N();t.leftPriceScale.visible||null===this.fm||(this.gm.removeChild(this.fm.Xf()),this.fm.m(),this.fm=null),t.rightPriceScale.visible||null===this.pm||(this.Mm.removeChild(this.pm.Xf()),this.pm.m(),this.pm=null);const n={Vc:this.Dp.Qt().Vc()},r=()=>t.leftPriceScale.borderVisible&&e.Et().N().borderVisible,i=()=>e.Fc();t.leftPriceScale.visible&&null===this.fm&&(this.fm=new Bd("left",t,n,r,i),this.gm.appendChild(this.fm.Xf())),t.rightPriceScale.visible&&null===this.pm&&(this.pm=new Bd("right",t,n,r,i),this.Mm.appendChild(this.pm.Xf()))}}const Ud=!!hd&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(e=>e.brand.includes("Chromium"))&&!!hd&&((null==(t=null==navigator?void 0:navigator.userAgentData)?void 0:t.platform)?"Windows"===navigator.userAgentData.platform:navigator.userAgent.toLowerCase().indexOf("win")>=0);class Yd{constructor(e,t,n){var r;this.Am=[],this.zm=[],this.Lm=0,this.sl=0,this.Mo=0,this.Om=0,this.Nm=0,this.Fm=null,this.Wm=!1,this.Sv=new Cl,this.xv=new Cl,this.Ku=new Cl,this.Hm=null,this.Um=null,this.Rp=e,this.Ps=t,this.o_=n,this.kp=document.createElement("div"),this.kp.classList.add("tv-lightweight-charts"),this.kp.style.overflow="hidden",this.kp.style.direction="ltr",this.kp.style.width="100%",this.kp.style.height="100%",(r=this.kp).style.userSelect="none",r.style.webkitUserSelect="none",r.style.msUserSelect="none",r.style.MozUserSelect="none",r.style.webkitTapHighlightColor="transparent",this.$m=document.createElement("table"),this.$m.setAttribute("cellspacing","0"),this.kp.appendChild(this.$m),this.qm=this.Ym.bind(this),qd(this.Ps)&&this.jm(!0),this.ts=new Gu(this.Zu.bind(this),this.Ps,n),this.Qt().uc().i(this.Km.bind(this),this),this.Xm=new Hd(this,this.o_),this.$m.appendChild(this.Xm.Xf());const i=t.autoSize&&this.Zm();let a=this.Ps.width,s=this.Ps.height;if(i||0===a||0===s){const t=e.getBoundingClientRect();a=a||t.width,s=s||t.height}this.Gm(a,s),this.Jm(),e.appendChild(this.kp),this.Qm(),this.ts.Et().Iu().i(this.ts.Bh.bind(this.ts),this),this.ts.Vo().i(this.ts.Bh.bind(this.ts),this)}Qt(){return this.ts}N(){return this.Ps}Uf(){return this.Am}tw(){return this.Xm}m(){this.jm(!1),0!==this.Lm&&window.cancelAnimationFrame(this.Lm),this.ts.uc().u(this),this.ts.Et().Iu().u(this),this.ts.Vo().u(this),this.ts.m();for(const e of this.Am)this.$m.removeChild(e.Xf()),e.Kv().u(this),e.Xv().u(this),e.m();this.Am=[];for(const e of this.zm)this.iw(e);this.zm=[],Nl(this.Xm).m(),null!==this.kp.parentElement&&this.kp.parentElement.removeChild(this.kp),this.Ku.m(),this.Sv.m(),this.xv.m(),this.sw()}Gm(e,t,n=!1){if(this.sl===t&&this.Mo===e)return;const r=function(e){const t=Math.floor(e.width),n=Math.floor(e.height);return ul({width:t-t%2,height:n-n%2})}(ul({width:e,height:t}));this.sl=r.height,this.Mo=r.width;const i=this.sl+"px",a=this.Mo+"px";Nl(this.kp).style.height=i,Nl(this.kp).style.width=a,this.$m.style.height=i,this.$m.style.width=a,n?this.nw(uc.gn(),performance.now()):this.ts.Bh()}av(e){void 0===e&&(e=uc.gn());for(let t=0;t<this.Am.length;t++)this.Am[t].av(e.en(t).tn);this.Ps.timeScale.visible&&this.Xm.av(e.nn())}hr(e){var t;const n=qd(this.Ps);this.ts.hr(e);const r=qd(this.Ps);r!==n&&this.jm(r),(null==(t=e.layout)?void 0:t.panes)&&this.ew(),this.Qm(),this.rw(e)}Kv(){return this.Sv}Xv(){return this.xv}uc(){return this.Ku}hw(){null!==this.Fm&&(this.nw(this.Fm,performance.now()),this.Fm=null);const e=this.aw(null),t=document.createElement("canvas");t.width=e.width,t.height=e.height;const n=Nl(t.getContext("2d"));return this.aw(n),t}lw(e){return"left"===e&&!this.ow()||"right"===e&&!this._w()||0===this.Am.length?0:Nl("left"===e?this.Am[0].sm():this.Am[0].nm()).hv()}uw(){return this.Ps.autoSize&&null!==this.Hm}tp(){return this.kp}cw(e){this.Um=e,this.Um?this.tp().style.setProperty("cursor",e):this.tp().style.removeProperty("cursor")}dw(){return this.Um}fw(e){return kl(this.Am[e]).Zf()}ew(){this.zm.forEach(e=>{e.kt()})}rw(e){(void 0!==e.autoSize||!this.Hm||void 0===e.width&&void 0===e.height)&&(e.autoSize&&!this.Hm&&this.Zm(),!1===e.autoSize&&null!==this.Hm&&this.sw(),e.autoSize||void 0===e.width&&void 0===e.height||this.Gm(e.width||this.Mo,e.height||this.sl))}aw(e){let t=0,n=0;const r=this.Am[0],i=(t,n)=>{let r=0;for(let i=0;i<this.Am.length;i++){const a=this.Am[i],s=Nl("left"===t?a.sm():a.nm()),o=s.Gf();if(null!==e&&s.Jf(e,n,r),r+=o.height,i<this.Am.length-1){const t=this.zm[i],a=t.Gf();null!==e&&t.Jf(e,n,r),r+=a.height}}};this.ow()&&(i("left",0),t+=Nl(r.sm()).Gf().width);for(let s=0;s<this.Am.length;s++){const r=this.Am[s],i=r.Gf();if(null!==e&&r.Jf(e,t,n),n+=i.height,s<this.Am.length-1){const r=this.zm[s],i=r.Gf();null!==e&&r.Jf(e,t,n),n+=i.height}}t+=r.Gf().width,this._w()&&(i("right",t),t+=Nl(r.nm()).Gf().width);const a=(t,n,r)=>{Nl("left"===t?this.Xm.xm():this.Xm.Cm()).Jf(Nl(e),n,r)};if(this.Ps.timeScale.visible){const t=this.Xm.Gf();if(null!==e){let i=0;this.ow()&&(a("left",i,n),i=Nl(r.sm()).Gf().width),this.Xm.Jf(e,i,n),i+=t.width,this._w()&&a("right",i,n)}n+=t.height}return ul({width:t,height:n})}pw(){let e=0,t=0,n=0;for(const p of this.Am)this.ow()&&(t=Math.max(t,Nl(p.sm()).sv(),this.Ps.leftPriceScale.minimumWidth)),this._w()&&(n=Math.max(n,Nl(p.nm()).sv(),this.Ps.rightPriceScale.minimumWidth)),e+=p.Io();t=pd(t),n=pd(n);const r=this.Mo,i=this.sl,a=Math.max(r-t-n,0),s=1*this.zm.length,o=this.Ps.timeScale.visible;let l=o?Math.max(this.Xm.ym(),this.Ps.timeScale.minimumHeight):0;var c;l=(c=l)+c%2;const u=s+l,d=i<u?0:i-u,h=d/e;let f=0;const m=window.devicePixelRatio||1;for(let p=0;p<this.Am.length;++p){const e=this.Am[p];e.zv(this.ts.$s()[p]);let r=0,i=0;i=p===this.Am.length-1?Math.ceil((d-f)*m)/m:Math.round(e.Io()*h*m)/m,r=Math.max(i,2),f+=r,e.rv(ul({width:a,height:r})),this.ow()&&e.Gv(t,"left"),this._w()&&e.Gv(n,"right"),e.hp()&&this.ts.cc(e.hp(),r)}this.Xm.km(ul({width:o?a:0,height:l}),o?t:0,o?n:0),this.ts.Eo(a),this.Om!==t&&(this.Om=t),this.Nm!==n&&(this.Nm=n)}jm(e){e?this.kp.addEventListener("wheel",this.qm,{passive:!1}):this.kp.removeEventListener("wheel",this.qm)}mw(e){switch(e.deltaMode){case e.DOM_DELTA_PAGE:return 120;case e.DOM_DELTA_LINE:return 32}return Ud?1/window.devicePixelRatio:1}Ym(e){if(!(0!==e.deltaX&&this.Ps.handleScroll.mouseWheel||0!==e.deltaY&&this.Ps.handleScale.mouseWheel))return;const t=this.mw(e),n=t*e.deltaX/100,r=-t*e.deltaY/100;if(e.cancelable&&e.preventDefault(),0!==r&&this.Ps.handleScale.mouseWheel){const t=Math.sign(r)*Math.min(1,Math.abs(r)),n=e.clientX-this.kp.getBoundingClientRect().left;this.Qt().Mc(n,t)}0!==n&&this.Ps.handleScroll.mouseWheel&&this.Qt().bc(-80*n)}nw(e,t){var n;const r=e.nn();3===r&&this.ww(),3!==r&&2!==r||(this.gw(e),this.Mw(e,t),this.Xm.kt(),this.Am.forEach(e=>{e.Ov()}),3===(null==(n=this.Fm)?void 0:n.nn())&&(this.Fm.vn(e),this.ww(),this.gw(this.Fm),this.Mw(this.Fm,t),e=this.Fm,this.Fm=null)),this.av(e)}Mw(e,t){for(const n of e.pn())this.mn(n,t)}gw(e){const t=this.ts.$s();for(let n=0;n<t.length;n++)e.en(n).sn&&t[n].Go()}mn(e,t){const n=this.ts.Et();switch(e.an){case 0:n.Eu();break;case 1:n.Au(e.Wt);break;case 2:n.dn(e.Wt);break;case 3:n.fn(e.Wt);break;case 4:n.bu();break;case 5:e.Wt.Tu(t)||n.fn(e.Wt.Ru(t))}}Zu(e){null!==this.Fm?this.Fm.vn(e):this.Fm=e,this.Wm||(this.Wm=!0,this.Lm=window.requestAnimationFrame(e=>{if(this.Wm=!1,this.Lm=0,null!==this.Fm){const t=this.Fm;this.Fm=null,this.nw(t,e);for(const n of t.pn())if(5===n.an&&!n.Wt.Tu(e)){this.Qt()._n(n.Wt);break}}}))}ww(){this.Jm()}iw(e){this.$m.removeChild(e.Xf()),e.m()}Jm(){const e=this.ts.$s(),t=e.length,n=this.Am.length;for(let r=t;r<n;r++){const e=kl(this.Am.pop());this.$m.removeChild(e.Xf()),e.Kv().u(this),e.Xv().u(this),e.m();const t=this.zm.pop();void 0!==t&&this.iw(t)}for(let r=n;r<t;r++){const t=new Fd(this,e[r]);if(t.Kv().i(this.bw.bind(this,t),this),t.Xv().i(this.Sw.bind(this,t),this),this.Am.push(t),r>0){const e=new _d(this,r-1,r);this.zm.push(e),this.$m.insertBefore(e.Xf(),this.Xm.Xf())}this.$m.insertBefore(t.Xf(),this.Xm.Xf())}for(let r=0;r<t;r++){const t=e[r],n=this.Am[r];n.hp()!==t?n.zv(t):n.Av()}this.Qm(),this.pw()}xw(e,t,n,r){var i;const a=new Map;let s;if(null!==e&&this.ts.js().forEach(t=>{const n=t.Xs().Fr(e);null!==n&&a.set(t,n)}),null!==e){const t=null==(i=this.ts.Et().ss(e))?void 0:i.originalTime;void 0!==t&&(s=t)}const o=this.Qt().hc(),l=null!==o&&o.n_ instanceof au?o.n_:void 0,c=null!==o&&void 0!==o.e_?o.e_.Kn:void 0,u=this.Cw(r);return{Pw:s,Re:null!=e?e:void 0,kw:null!=t?t:void 0,yw:-1!==u?u:void 0,Tw:l,Rw:a,Dw:c,Vw:null!=n?n:void 0}}Cw(e){let t=-1;if(e)t=this.Am.indexOf(e);else{const e=this.Qt()._c().Us();null!==e&&(t=this.Qt().$s().indexOf(e))}return t}bw(e,t,n,r){this.Sv.p(()=>this.xw(t,n,r,e))}Sw(e,t,n,r){this.xv.p(()=>this.xw(t,n,r,e))}Km(e,t,n){var r,i;this.cw(null!=(i=null==(r=this.Qt().hc())?void 0:r.h_)?i:null),this.Ku.p(()=>this.xw(e,t,n))}Qm(){const e=this.Ps.timeScale.visible?"":"none";this.Xm.Xf().style.display=e}ow(){return this.Am[0].hp().Wo().N().visible}_w(){return this.Am[0].hp().Ho().N().visible}Zm(){return"ResizeObserver"in window&&(this.Hm=new ResizeObserver(e=>{const t=e[e.length-1];t&&this.Gm(t.contentRect.width,t.contentRect.height)}),this.Hm.observe(this.Rp,{box:"border-box"}),!0)}sw(){null!==this.Hm&&this.Hm.disconnect(),this.Hm=null}}function qd(e){return Boolean(e.handleScroll.mouseWheel||e.handleScale.mouseWheel)}function Gd(e,t,n,r){const i=n.value,a={Re:t,wt:e,Wt:[i,i,i,i],Pw:r};return void 0!==n.color&&(a.R=n.color),a}function Xd(e,t,n,r){const i=n.value,a={Re:t,wt:e,Wt:[i,i,i,i],Pw:r};return void 0!==n.lineColor&&(a.vt=n.lineColor),void 0!==n.topColor&&(a.mr=n.topColor),void 0!==n.bottomColor&&(a.wr=n.bottomColor),a}function Qd(e,t,n,r){const i=n.value,a={Re:t,wt:e,Wt:[i,i,i,i],Pw:r};return void 0!==n.topLineColor&&(a.gr=n.topLineColor),void 0!==n.bottomLineColor&&(a.Mr=n.bottomLineColor),void 0!==n.topFillColor1&&(a.br=n.topFillColor1),void 0!==n.topFillColor2&&(a.Sr=n.topFillColor2),void 0!==n.bottomFillColor1&&(a.Cr=n.bottomFillColor1),void 0!==n.bottomFillColor2&&(a.Pr=n.bottomFillColor2),a}function Zd(e,t,n,r){const i={Re:t,wt:e,Wt:[n.open,n.high,n.low,n.close],Pw:r};return void 0!==n.color&&(i.R=n.color),i}function Jd(e,t,n,r){const i={Re:t,wt:e,Wt:[n.open,n.high,n.low,n.close],Pw:r};return void 0!==n.color&&(i.R=n.color),void 0!==n.borderColor&&(i.Ht=n.borderColor),void 0!==n.wickColor&&(i.vr=n.wickColor),i}function eh(e,t,n,r,i){const a=kl(i)(n),s=Math.max(...a),o=Math.min(...a),l=a[a.length-1],c=[l,s,o,l],u=n,{time:d,color:h}=u;return{Re:t,wt:e,Wt:c,Pw:r,se:m(u,["time","color"]),R:h}}function th(e){return void 0!==e.Wt}function nh(e,t){return void 0!==t.customValues&&(e.Iw=t.customValues),e}function rh(e){return(t,n,r,i,a,s)=>{return o=r,((l=s)?l(o):function(e){return void 0===e.open&&void 0===e.value}(o))?nh({wt:t,Re:n,Pw:i},r):nh(e(t,n,r,i,a),r);var o,l}}function ih(e){return{Candlestick:rh(Jd),Bar:rh(Zd),Area:rh(Xd),Baseline:rh(Qd),Histogram:rh(Gd),Line:rh(Gd),Custom:rh(eh)}[e]}function ah(e){return{Re:0,Bw:new Map,Hh:e}}function sh(e,t){if(void 0!==e&&0!==e.length)return{Ew:t.key(e[0].wt),Aw:t.key(e[e.length-1].wt)}}function oh(e){let t;return e.forEach(e=>{void 0===t&&(t=e.Pw)}),kl(t)}class lh{constructor(e){this.zw=new Map,this.Lw=new Map,this.Ow=new Map,this.Nw=[],this.o_=e}m(){this.zw.clear(),this.Lw.clear(),this.Ow.clear(),this.Nw=[]}Fw(e,t){let n=0!==this.zw.size,r=!1;const i=this.Lw.get(e);if(void 0!==i)if(1===this.Lw.size)n=!1,r=!0,this.zw.clear();else for(const o of this.Nw)o.pointData.Bw.delete(e)&&(r=!0);let a=[];if(0!==t.length){const n=t.map(e=>e.time),i=this.o_.createConverterToInternalObj(t),s=ih(e.Rr()),o=e.da(),l=e.pa();a=t.map((t,a)=>{const c=i(t.time),u=this.o_.key(c);let d=this.zw.get(u);void 0===d&&(d=ah(c),this.zw.set(u,d),r=!0);const h=s(c,d.Re,t,n[a],o,l);return d.Bw.set(e,h),h})}n&&this.Ww(),this.Hw(e,a);let s=-1;if(r){const e=[];this.zw.forEach(t=>{e.push({timeWeight:0,time:t.Hh,pointData:t,originalTime:oh(t.Bw)})}),e.sort((e,t)=>this.o_.key(e.time)-this.o_.key(t.time)),s=this.Uw(e)}return this.$w(e,s,function(e,t,n){const r=sh(e,n),i=sh(t,n);if(void 0!==r&&void 0!==i)return{qw:!1,zh:r.Aw>=i.Aw&&r.Ew>=i.Ew}}(this.Lw.get(e),i,this.o_))}Ec(e){return this.Fw(e,[])}Yw(e,t,n){const r=t;var i;void 0===(i=r).Pw&&(i.Pw=i.time),this.o_.preprocessData(t);const a=this.o_.createConverterToInternalObj([t])(t.time),s=this.Ow.get(e);if(!n&&void 0!==s&&this.o_.key(a)<this.o_.key(s))throw new Error(`Cannot update oldest data, last time=${s}, new time=${a}`);let o=this.zw.get(this.o_.key(a));if(n&&void 0===o)throw new Error("Cannot update non-existing data point when historicalUpdate is true");const l=void 0===o;void 0===o&&(o=ah(a),this.zw.set(this.o_.key(a),o));const c=ih(e.Rr()),u=e.da(),d=e.pa(),h=c(a,o.Re,t,r.Pw,u,d);o.Bw.set(e,h),n?this.jw(e,h,o.Re):this.Kw(e,h);const f={zh:th(h),qw:n};if(!l)return this.$w(e,-1,f);const m={timeWeight:0,time:o.Hh,pointData:o,originalTime:oh(o.Bw)},p=Lc(this.Nw,this.o_.key(m.time),(e,t)=>this.o_.key(e.time)<t);this.Nw.splice(p,0,m);for(let g=p;g<this.Nw.length;++g)ch(this.Nw[g].pointData,g);return this.o_.fillWeightsForPoints(this.Nw,p),this.$w(e,p,f)}Kw(e,t){let n=this.Lw.get(e);void 0===n&&(n=[],this.Lw.set(e,n));const r=0!==n.length?n[n.length-1]:null;null===r||this.o_.key(t.wt)>this.o_.key(r.wt)?th(t)&&n.push(t):th(t)?n[n.length-1]=t:n.splice(-1,1),this.Ow.set(e,t.wt)}jw(e,t,n){const r=this.Lw.get(e);if(void 0===r)return;const i=Lc(r,n,(e,t)=>e.Re<t);th(t)?r[i]=t:r.splice(i,1)}Hw(e,t){0!==t.length?(this.Lw.set(e,t.filter(th)),this.Ow.set(e,t[t.length-1].wt)):(this.Lw.delete(e),this.Ow.delete(e))}Ww(){for(const e of this.Nw)0===e.pointData.Bw.size&&this.zw.delete(this.o_.key(e.time))}Uw(e){let t=-1;for(let n=0;n<this.Nw.length&&n<e.length;++n){const r=this.Nw[n],i=e[n];if(this.o_.key(r.time)!==this.o_.key(i.time)){t=n;break}i.timeWeight=r.timeWeight,ch(i.pointData,n)}if(-1===t&&this.Nw.length!==e.length&&(t=Math.min(this.Nw.length,e.length)),-1===t)return-1;for(let n=t;n<e.length;++n)ch(e[n].pointData,n);return this.o_.fillWeightsForPoints(e,t),this.Nw=e,t}Xw(){if(0===this.Lw.size)return null;let e=0;return this.Lw.forEach(t=>{0!==t.length&&(e=Math.max(e,t[t.length-1].Re))}),e}$w(e,t,n){const r={Oo:new Map,Et:{ou:this.Xw()}};if(-1!==t)this.Lw.forEach((t,i)=>{r.Oo.set(i,{se:t,Zw:i===e?n:void 0})}),this.Lw.has(e)||r.Oo.set(e,{se:[],Zw:n}),r.Et.Gw=this.Nw,r.Et.Jw=t;else{const t=this.Lw.get(e);r.Oo.set(e,{se:t||[],Zw:n})}return r}}function ch(e,t){e.Re=t,e.Bw.forEach(e=>{e.Re=t})}function uh(e,t){return e.wt<t}function dh(e,t){return t<e.wt}let hh=class{constructor(e,t,n){this.Qw=!0,this.tg=!0,this.ig=!0,this.sg=[],this.ng=null,this.Jn=e,this.Qn=t,this.eg=n}kt(e){this.Qw=!0,"data"===e&&(this.tg=!0),"options"===e&&(this.ig=!0)}Tt(){return this.Jn.Vt()?(this.rg(),null===this.ng?null:this.hg):null}ag(){this.sg=this.sg.map(e=>h(h({},e),this.Jn.Rh().Dr(e.wt)))}lg(){this.ng=null}rg(){this.tg&&(this.og(),this.tg=!1),this.ig&&(this.ag(),this.ig=!1),this.Qw&&(this._g(),this.Qw=!1)}_g(){const e=this.Jn.Ft(),t=this.Qn.Et();if(this.lg(),t.Ki()||e.Ki())return;const n=t.Pe();if(null===n)return;if(0===this.Jn.Xs().zr())return;const r=this.Jn.zt();null!==r&&(this.ng=function(e,t,n){const r=t.Uh(),i=t.bi(),a=Lc(e,r,uh),s=Fc(e,i,dh);if(!n)return{from:a,to:s};let o=a,l=s;return a>0&&a<e.length&&e[a].wt>=r&&(o=a-1),s>0&&s<e.length&&e[s-1].wt<=i&&(l=s+1),{from:o,to:l}}(this.sg,n,this.eg),this.ug(e,t,r.Wt),this.cg())}};class fh{constructor(e,t){this.dg=e,this.Yi=t}nt(e,t,n){this.dg.draw(e,this.Yi,t,n)}}class mh extends hh{constructor(e,t,n){super(e,t,!1),this.sh=n,this.hg=new fh(this.sh.renderer(),t=>{const n=e.zt();return null===n?null:e.Ft().Nt(t,n.Wt)})}fa(e){return this.sh.priceValueBuilder(e)}va(e){return this.sh.isWhitespace(e)}og(){const e=this.Jn.Rh();this.sg=this.Jn.Xs().Hr().map(t=>f(h({wt:t.Re,_t:NaN},e.Dr(t.Re)),{fg:t.se}))}ug(e,t){t._u(this.sg,Rl(this.ng))}cg(){this.sh.update({bars:this.sg.map(ph),barSpacing:this.Qn.Et().vu(),visibleRange:this.ng},this.Jn.N())}}function ph(e){return{x:e._t,time:e.wt,originalData:e.fg,barColor:e.cr}}const gh={color:"#2196f3"},vh=(e,t,n)=>{const r=Sl(n);return new mh(e,t,r)};function yh(e){const t={value:e.Wt[3],time:e.Pw};return void 0!==e.Iw&&(t.customValues=e.Iw),t}function xh(e){const t=yh(e);return void 0!==e.R&&(t.color=e.R),t}function bh(e){const t=yh(e);return void 0!==e.vt&&(t.lineColor=e.vt),void 0!==e.mr&&(t.topColor=e.mr),void 0!==e.wr&&(t.bottomColor=e.wr),t}function wh(e){const t=yh(e);return void 0!==e.gr&&(t.topLineColor=e.gr),void 0!==e.Mr&&(t.bottomLineColor=e.Mr),void 0!==e.br&&(t.topFillColor1=e.br),void 0!==e.Sr&&(t.topFillColor2=e.Sr),void 0!==e.Cr&&(t.bottomFillColor1=e.Cr),void 0!==e.Pr&&(t.bottomFillColor2=e.Pr),t}function _h(e){const t={open:e.Wt[0],high:e.Wt[1],low:e.Wt[2],close:e.Wt[3],time:e.Pw};return void 0!==e.Iw&&(t.customValues=e.Iw),t}function jh(e){const t=_h(e);return void 0!==e.R&&(t.color=e.R),t}function kh(e){const t=_h(e),{R:n,Ht:r,vr:i}=e;return void 0!==n&&(t.color=n),void 0!==r&&(t.borderColor=r),void 0!==i&&(t.wickColor=i),t}function Nh(e){return{Area:bh,Line:xh,Baseline:wh,Histogram:xh,Bar:jh,Candlestick:kh,Custom:Sh}[e]}function Sh(e){const t=e.Pw;return f(h({},e.se),{time:t})}const Ch={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},Eh={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},Ph={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:Il,panes:{enableResize:!0,separatorColor:"#E0E3EB",separatorHoverColor:"rgba(178, 181, 189, 0.2)"},attributionLogo:!0,colorSpace:"srgb",colorParsers:[]},Mh={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0,ensureEdgeTickMarksVisible:!1},Oh={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1};function Ah(){return{addDefaultPane:!0,width:0,height:0,autoSize:!1,layout:Ph,crosshair:Ch,grid:Eh,overlayPriceScales:h({},Mh),leftPriceScale:f(h({},Mh),{visible:!1}),rightPriceScale:f(h({},Mh),{visible:!0}),timeScale:Oh,localization:{locale:hd?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class Th{constructor(e,t,n){this.Wf=e,this.pg=t,this.vg=null!=n?n:0}applyOptions(e){this.Wf.Qt().lc(this.pg,e,this.vg)}options(){return this.Yi().N()}width(){return cc(this.pg)?this.Wf.lw(this.pg):0}setVisibleRange(e){this.setAutoScale(!1),this.Yi().Wl(new Pc(e.from,e.to))}getVisibleRange(){const e=this.Yi().Qe();return null===e?null:{from:e.$e(),to:e.qe()}}setAutoScale(e){this.applyOptions({autoScale:e})}Yi(){return Nl(this.Wf.Qt().oc(this.pg,this.vg)).Ft}}class Dh{constructor(e,t,n,r){this.Wf=e,this.Pt=n,this.mg=t,this.wg=r}getHeight(){return this.Pt.$t()}setHeight(e){const t=this.Wf.Qt(),n=t.Hc(this.Pt);t.fc(n,e)}getStretchFactor(){return this.Pt.Io()}setStretchFactor(e){this.Pt.Bo(e),this.Wf.Qt().Bh()}paneIndex(){return this.Wf.Qt().Hc(this.Pt)}moveTo(e){const t=this.paneIndex();t!==e&&(jl(e>=0&&e<this.Wf.Uf().length,"Invalid pane index"),this.Wf.Qt().mc(t,e))}getSeries(){var e;return null!=(e=this.Pt.Oo().map(e=>this.mg(e)))?e:[]}getHTMLElement(){const e=this.Wf.Uf();return e&&0!==e.length&&e[this.paneIndex()]?e[this.paneIndex()].Xf():null}attachPrimitive(e){this.Pt.ua(e),e.attached&&e.attached({chart:this.wg,requestUpdate:()=>this.Pt.Qt().Bh()})}detachPrimitive(e){this.Pt.ca(e)}priceScale(e){if(null===this.Pt.Do(e))throw new Error(`Cannot find price scale with id: ${e}`);return new Th(this.Wf,e,this.paneIndex())}setPreserveEmptyPane(e){this.Pt.zo(e)}preserveEmptyPane(){return this.Pt.Lo()}addCustomSeries(e,t={},n=0){return this.wg.addCustomSeries(e,t,n)}addSeries(e,t={}){return this.wg.addSeries(e,t,this.paneIndex())}}const Rh={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class Ih{constructor(e){this.ir=e}applyOptions(e){this.ir.hr(e)}options(){return this.ir.N()}gg(){return this.ir}}class zh{constructor(e,t,n,r,i,a){this.Mg=new Cl,this.Jn=e,this.bg=t,this.Sg=n,this.o_=i,this.wg=r,this.xg=a}m(){this.Mg.m()}priceFormatter(){return this.Jn.ra()}priceToCoordinate(e){const t=this.Jn.zt();return null===t?null:this.Jn.Ft().Nt(e,t.Wt)}coordinateToPrice(e){const t=this.Jn.zt();return null===t?null:this.Jn.Ft().Ts(e,t.Wt)}barsInLogicalRange(e){if(null===e)return null;const t=new Wu(new Lu(e.from,e.to)).k_(),n=this.Jn.Xs();if(n.Ki())return null;const r=n.Fr(t.Uh(),1),i=n.Fr(t.bi(),-1),a=Nl(n.Lr()),s=Nl(n.Ks());if(null!==r&&null!==i&&r.Re>i.Re)return{barsBefore:e.from-a,barsAfter:s-e.to};const o={barsBefore:null===r||r.Re===a?e.from-a:r.Re-a,barsAfter:null===i||i.Re===s?s-e.to:s-i.Re};return null!==r&&null!==i&&(o.from=r.Pw,o.to=i.Pw),o}setData(e){this.o_,this.Jn.Rr(),this.bg.Cg(this.Jn,e),this.Pg("full")}update(e,t=!1){this.Jn.Rr(),this.bg.kg(this.Jn,e,t),this.Pg("update")}dataByIndex(e,t){const n=this.Jn.Xs().Fr(e,t);return null===n?null:Nh(this.seriesType())(n)}data(){const e=Nh(this.seriesType());return this.Jn.Xs().Hr().map(t=>e(t))}subscribeDataChanged(e){this.Mg.i(e)}unsubscribeDataChanged(e){this.Mg._(e)}applyOptions(e){this.Jn.hr(e)}options(){return Tl(this.Jn.N())}priceScale(){return this.Sg.priceScale(this.Jn.Ft().wa(),this.getPane().paneIndex())}createPriceLine(e){const t=El(Tl(Rh),e),n=this.Jn.Oh(t);return new Ih(n)}removePriceLine(e){this.Jn.Nh(e.gg())}priceLines(){return this.Jn.Fh().map(e=>new Ih(e))}seriesType(){return this.Jn.Rr()}attachPrimitive(e){this.Jn.ua(e),e.attached&&e.attached({chart:this.wg,series:this,requestUpdate:()=>this.Jn.Qt().Bh(),horzScaleBehavior:this.o_})}detachPrimitive(e){this.Jn.ca(e),e.detached&&e.detached(),this.Jn.Qt().Bh()}getPane(){const e=this.Jn,t=Nl(this.Jn.Qt().Hn(e));return this.xg(t)}moveToPane(e){this.Jn.Qt().Oc(this.Jn,e)}seriesOrder(){const e=this.Jn.Qt().Hn(this.Jn);return null===e?-1:e.Oo().indexOf(this.Jn)}setSeriesOrder(e){const t=this.Jn.Qt().Hn(this.Jn);null!==t&&t.Qo(this.Jn,e)}Pg(e){this.Mg.v()&&this.Mg.p(e)}}class Lh{constructor(e,t,n){this.yg=new Cl,this.z_=new Cl,this.wm=new Cl,this.ts=e,this.uh=e.Et(),this.Xm=t,this.uh.Du().i(this.Tg.bind(this)),this.uh.Vu().i(this.Rg.bind(this)),this.Xm.Pm().i(this.Dg.bind(this)),this.o_=n}m(){this.uh.Du().u(this),this.uh.Vu().u(this),this.Xm.Pm().u(this),this.yg.m(),this.z_.m(),this.wm.m()}scrollPosition(){return this.uh.wu()}scrollToPosition(e,t){t?this.uh.yu(e,1e3):this.ts.fn(e)}scrollToRealTime(){this.uh.ku()}getVisibleRange(){const e=this.uh.su();return null===e?null:{from:e.from.originalTime,to:e.to.originalTime}}setVisibleRange(e){const t={from:this.o_.convertHorzItemToInternal(e.from),to:this.o_.convertHorzItemToInternal(e.to)},n=this.uh.hu(t);this.ts.zc(n)}getVisibleLogicalRange(){const e=this.uh.iu();return null===e?null:{from:e.Uh(),to:e.bi()}}setVisibleLogicalRange(e){jl(e.from<=e.to,"The from index cannot be after the to index."),this.ts.zc(e)}resetTimeScale(){this.ts.cn()}fitContent(){this.ts.Eu()}logicalToCoordinate(e){const t=this.ts.Et();return t.Ki()?null:t.qt(e)}coordinateToLogical(e){return this.uh.Ki()?null:this.uh.uu(e)}timeToIndex(e,t){const n=this.o_.convertHorzItemToInternal(e);return this.uh.J_(n,t)}timeToCoordinate(e){const t=this.timeToIndex(e,!1);return null===t?null:this.uh.qt(t)}coordinateToTime(e){const t=this.ts.Et(),n=t.uu(e),r=t.ss(n);return null===r?null:r.originalTime}width(){return this.Xm.Zf().width}height(){return this.Xm.Zf().height}subscribeVisibleTimeRangeChange(e){this.yg.i(e)}unsubscribeVisibleTimeRangeChange(e){this.yg._(e)}subscribeVisibleLogicalRangeChange(e){this.z_.i(e)}unsubscribeVisibleLogicalRangeChange(e){this.z_._(e)}subscribeSizeChange(e){this.wm.i(e)}unsubscribeSizeChange(e){this.wm._(e)}applyOptions(e){this.uh.hr(e)}options(){return f(h({},Tl(this.uh.N())),{barSpacing:this.uh.vu()})}Tg(){this.yg.v()&&this.yg.p(this.getVisibleRange())}Rg(){this.z_.v()&&this.z_.p(this.getVisibleLogicalRange())}Dg(e){this.wm.p(e.width,e.height)}}function Fh(e){return function(e){if(Al(e.handleScale)){const t=e.handleScale;e.handleScale={axisDoubleClickReset:{time:t,price:t},axisPressedMouseMove:{time:t,price:t},mouseWheel:t,pinch:t}}else if(void 0!==e.handleScale){const{axisPressedMouseMove:t,axisDoubleClickReset:n}=e.handleScale;Al(t)&&(e.handleScale.axisPressedMouseMove={time:t,price:t}),Al(n)&&(e.handleScale.axisDoubleClickReset={time:n,price:n})}const t=e.handleScroll;Al(t)&&(e.handleScroll={horzTouchDrag:t,vertTouchDrag:t,mouseWheel:t,pressedMouseMove:t})}(e),e}class Bh{constructor(e,t,n){this.Vg=new Map,this.Ig=new Map,this.Bg=new Cl,this.Eg=new Cl,this.Ag=new Cl,this.$u=new WeakMap,this.zg=new lh(t);const r=void 0===n?Tl(Ah()):El(Tl(Ah()),Fh(n));this.Lg=t,this.Wf=new Yd(e,r,t),this.Wf.Kv().i(e=>{this.Bg.v()&&this.Bg.p(this.Og(e()))},this),this.Wf.Xv().i(e=>{this.Eg.v()&&this.Eg.p(this.Og(e()))},this),this.Wf.uc().i(e=>{this.Ag.v()&&this.Ag.p(this.Og(e()))},this);const i=this.Wf.Qt();this.Ng=new Lh(i,this.Wf.tw(),this.Lg)}remove(){this.Wf.Kv().u(this),this.Wf.Xv().u(this),this.Wf.uc().u(this),this.Ng.m(),this.Wf.m(),this.Vg.clear(),this.Ig.clear(),this.Bg.m(),this.Eg.m(),this.Ag.m(),this.zg.m()}resize(e,t,n){this.autoSizeActive()||this.Wf.Gm(e,t,n)}addCustomSeries(e,t={},n=0){const r=(i=Sl(e),{type:"Custom",isBuiltIn:!1,defaultOptions:h(h({},gh),i.defaultOptions()),Fg:vh,Wg:i});var i;return this.Hg(r,t,n)}addSeries(e,t={},n=0){return this.Hg(e,t,n)}removeSeries(e){const t=kl(this.Vg.get(e)),n=this.zg.Ec(t);this.Wf.Qt().Ec(t),this.Ug(n),this.Vg.delete(e),this.Ig.delete(t)}Cg(e,t){this.Ug(this.zg.Fw(e,t))}kg(e,t,n){this.Ug(this.zg.Yw(e,t,n))}subscribeClick(e){this.Bg.i(e)}unsubscribeClick(e){this.Bg._(e)}subscribeCrosshairMove(e){this.Ag.i(e)}unsubscribeCrosshairMove(e){this.Ag._(e)}subscribeDblClick(e){this.Eg.i(e)}unsubscribeDblClick(e){this.Eg._(e)}priceScale(e,t=0){return new Th(this.Wf,e,t)}timeScale(){return this.Ng}applyOptions(e){this.Wf.hr(Fh(e))}options(){return this.Wf.N()}takeScreenshot(){return this.Wf.hw()}addPane(e=!1){const t=this.Wf.Qt().Uc();return t.zo(e),this.$g(t)}removePane(e){this.Wf.Qt().dc(e)}swapPanes(e,t){this.Wf.Qt().vc(e,t)}autoSizeActive(){return this.Wf.uw()}chartElement(){return this.Wf.tp()}panes(){return this.Wf.Qt().$s().map(e=>this.$g(e))}paneSize(e=0){const t=this.Wf.fw(e);return{height:t.height,width:t.width}}setCrosshairPosition(e,t,n){const r=this.Vg.get(n);if(void 0===r)return;const i=this.Wf.Qt().Hn(r);null!==i&&this.Wf.Qt().Tc(e,t,i)}clearCrosshairPosition(){this.Wf.Qt().Rc(!0)}horzBehaviour(){return this.Lg}Hg(e,t={},n=0){var r;jl(void 0!==e.Fg),function(e){if(void 0===e||"custom"===e.type)return;const t=e;void 0!==t.minMove&&void 0===t.precision&&(t.precision=function(e){if(e>=1)return 0;let t=0;for(;t<8;t++){const n=Math.round(e);if(Math.abs(n-e)<1e-8)return t;e*=10}return t}(t.minMove))}(t.priceFormat),"Candlestick"===e.type&&(void 0!==(r=t).borderColor&&(r.borderUpColor=r.borderColor,r.borderDownColor=r.borderColor),void 0!==r.wickColor&&(r.wickUpColor=r.wickColor,r.wickDownColor=r.wickColor));const i=El(Tl(vl),Tl(e.defaultOptions),t),a=e.Fg,s=new au(this.Wf.Qt(),e.type,i,a,e.Wg);this.Wf.Qt().Ic(s,n);const o=new zh(s,this,this,this,this.Lg,e=>this.$g(e));return this.Vg.set(o,s),this.Ig.set(s,o),o}Ug(e){const t=this.Wf.Qt();t.Dc(e.Et.ou,e.Et.Gw,e.Et.Jw),e.Oo.forEach((e,t)=>t.ht(e.se,e.Zw)),t.Et().j_(),t.pu()}qg(e){return kl(this.Ig.get(e))}Og(e){const t=new Map;e.Rw.forEach((e,n)=>{const r=n.Rr(),i=Nh(r)(e);if("Custom"!==r)jl(function(e){return void 0!==e.open||function(e){return void 0!==e.value}(e)}(i));else{const e=n.pa();jl(!e||!1===e(i))}t.set(this.qg(n),i)});const n=void 0!==e.Tw&&this.Ig.has(e.Tw)?this.qg(e.Tw):void 0;return{time:e.Pw,logical:e.Re,point:e.kw,paneIndex:e.yw,hoveredSeries:n,hoveredObjectId:e.Dw,seriesData:t,sourceEvent:e.Vw}}$g(e){let t=this.$u.get(e);return t||(t=new Dh(this.Wf,e=>this.qg(e),e,this),this.$u.set(e,t)),t}}function Wh(e,t,n){const r=function(e){if(Ol(e)){const t=document.getElementById(e);return jl(null!==t,`Cannot find element in DOM with id=${e}`),t}return e}(e),i=new Bh(r,t,n);return t.setOptions(i.options()),i}function Vh(e,t){return Wh(e,new dd,dd.ad(t))}class $h extends hh{constructor(e,t){super(e,t,!0)}ug(e,t,n){t._u(this.sg,Rl(this.ng)),e.$l(this.sg,n,Rl(this.ng))}Yg(e,t){return{wt:e,gt:t,_t:NaN,ut:NaN}}og(){const e=this.Jn.Rh();this.sg=this.Jn.Xs().Hr().map(t=>{const n=t.Wt[3];return this.jg(t.Re,n,e)})}}function Kh(e,t){return{_t:e._t-t._t,ut:e.ut-t.ut}}function Hh(e,t){return{_t:e._t/t,ut:e.ut/t}}function Uh(e,t,n){const r=Math.max(0,t-1),i=Math.min(e.length-1,n+1);var a,s;return[(a=e[t],s=Hh(Kh(e[n],e[r]),6),{_t:a._t+s._t,ut:a.ut+s.ut}),Kh(e[n],Hh(Kh(e[i],e[t]),6))]}function Yh(e,t){const n=e.context;n.strokeStyle=t,n.stroke()}let qh=class extends $l{constructor(){super(...arguments),this.rt=null}ht(e){this.rt=e}et(e){if(null===this.rt)return;const{ot:t,lt:n,Kg:r,Xg:i,ct:a,Xt:s,Zg:o}=this.rt;if(null===n)return;const l=e.context;l.lineCap="butt",l.lineWidth=a*e.verticalPixelRatio,wl(l,s),l.lineJoin="round";const c=this.Gg.bind(this);void 0!==i&&function(e,t,n,r,i,a,s){if(0===t.length||r.from>=t.length||r.to<=0)return;const{context:o,horizontalPixelRatio:l,verticalPixelRatio:c}=e,u=t[r.from];let d=a(e,u),h=u;if(r.to-r.from<2){const t=i/2;o.beginPath();const n={_t:u._t-t,ut:u.ut},r={_t:u._t+t,ut:u.ut};o.moveTo(n._t*l,n.ut*c),o.lineTo(r._t*l,r.ut*c),s(e,d,n,r)}else{const i=(t,n)=>{s(e,d,h,n),o.beginPath(),d=t,h=n};let f=h;o.beginPath(),o.moveTo(u._t*l,u.ut*c);for(let s=r.from+1;s<r.to;++s){f=t[s];const r=a(e,f);switch(n){case 0:o.lineTo(f._t*l,f.ut*c);break;case 1:o.lineTo(f._t*l,t[s-1].ut*c),r!==d&&(i(r,f),o.lineTo(f._t*l,t[s-1].ut*c)),o.lineTo(f._t*l,f.ut*c);break;case 2:{const[e,n]=Uh(t,s-1,s);o.bezierCurveTo(e._t*l,e.ut*c,n._t*l,n.ut*c,f._t*l,f.ut*c);break}}1!==n&&r!==d&&(i(r,f),o.moveTo(f._t*l,f.ut*c))}(h!==f||h===f&&1===n)&&s(e,d,h,f)}}(e,t,i,n,r,c,Yh),o&&function(e,t,n,r,i){if(r.to-r.from<=0)return;const{horizontalPixelRatio:a,verticalPixelRatio:s,context:o}=e;let l=null;const c=Math.max(1,Math.floor(a))%2/2,u=n*s+c;for(let d=r.to-1;d>=r.from;--d){const n=t[d];if(n){const t=i(e,n);t!==l&&(o.beginPath(),null!==l&&o.fill(),o.fillStyle=t,l=t);const r=Math.round(n._t*a)+c,d=n.ut*s;o.moveTo(r,d),o.arc(r,d,u,0,2*Math.PI)}}o.fill()}(e,t,o,n,c)}},Gh=class extends qh{Gg(e,t){return t.vt}};class Xh extends $h{constructor(){super(...arguments),this.hg=new Gh}jg(e,t,n){return h(h({},this.Yg(e,t)),n.Dr(e))}cg(){const e=this.Jn.N(),t={ot:this.sg,Xt:e.lineStyle,Xg:e.lineVisible?e.lineType:void 0,ct:e.lineWidth,Zg:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,lt:this.ng,Kg:this.Qn.Et().vu()};this.hg.ht(t)}}const Qh={type:"Line",isBuiltIn:!0,defaultOptions:{color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},Fg:(e,t)=>new Xh(e,t)};let Zh=class extends $l{constructor(){super(...arguments),this.Yt=null,this.SM=0,this.xM=0}ht(e){this.Yt=e}et({context:e,horizontalPixelRatio:t,verticalPixelRatio:n}){if(null===this.Yt||0===this.Yt.Xs.length||null===this.Yt.lt)return;this.SM=this.CM(t),this.SM>=2&&Math.max(1,Math.floor(t))%2!=this.SM%2&&this.SM--,this.xM=this.Yt.PM?Math.min(this.SM,Math.floor(t)):this.SM;let r=null;const i=this.xM<=this.SM&&this.Yt.vu>=Math.floor(1.5*t);for(let a=this.Yt.lt.from;a<this.Yt.lt.to;++a){const s=this.Yt.Xs[a];r!==s.cr&&(e.fillStyle=s.cr,r=s.cr);const o=Math.floor(.5*this.xM),l=Math.round(s._t*t),c=l-o,u=this.xM,d=c+u-1,h=Math.min(s.Kl,s.Xl),f=Math.max(s.Kl,s.Xl),m=Math.round(h*n)-o,p=Math.round(f*n)+o,g=Math.max(p-m,this.xM);e.fillRect(c,m,u,g);const v=Math.ceil(1.5*this.SM);if(i){if(this.Yt.kM){const t=l-v;let r=Math.max(m,Math.round(s.jl*n)-o),i=r+u-1;i>m+g-1&&(i=m+g-1,r=i-u+1),e.fillRect(t,r,c-t,i-r+1)}const t=l+v;let r=Math.max(m,Math.round(s.Zl*n)-o),i=r+u-1;i>m+g-1&&(i=m+g-1,r=i-u+1),e.fillRect(d+1,r,t-d,i-r+1)}}}CM(e){const t=Math.floor(e);return Math.max(t,Math.floor((n=Nl(this.Yt).vu,r=e,Math.floor(.3*n*r))));var n,r}};class Jh extends hh{constructor(e,t){super(e,t,!1)}ug(e,t,n){t._u(this.sg,Rl(this.ng)),e.Yl(this.sg,n,Rl(this.ng))}yM(e,t,n){return{wt:e,qh:t.Wt[0],Yh:t.Wt[1],jh:t.Wt[2],Kh:t.Wt[3],_t:NaN,jl:NaN,Kl:NaN,Xl:NaN,Zl:NaN}}og(){const e=this.Jn.Rh();this.sg=this.Jn.Xs().Hr().map(t=>this.jg(t.Re,t,e))}}let ef=class extends Jh{constructor(){super(...arguments),this.hg=new Zh}jg(e,t,n){return h(h({},this.yM(e,t,n)),n.Dr(e))}cg(){const e=this.Jn.N();this.hg.ht({Xs:this.sg,vu:this.Qn.Et().vu(),kM:e.openVisible,PM:e.thinBars,lt:this.ng})}};const tf={type:"Bar",isBuiltIn:!0,defaultOptions:{upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},Fg:(e,t)=>new ef(e,t)};let nf=class extends $l{constructor(){super(...arguments),this.Yt=null,this.IM=[]}ht(e){this.Yt=e,this.IM=[]}et({context:e,horizontalPixelRatio:t,verticalPixelRatio:n}){if(null===this.Yt||0===this.Yt.ot.length||null===this.Yt.lt)return;this.IM.length||this.BM(t);const r=Math.max(1,Math.floor(n)),i=Math.round(this.Yt.EM*n)-Math.floor(r/2),a=i+r;for(let s=this.Yt.lt.from;s<this.Yt.lt.to;s++){const t=this.Yt.ot[s],o=this.IM[s-this.Yt.lt.from],l=Math.round(t.ut*n);let c,u;e.fillStyle=t.cr,l<=i?(c=l,u=a):(c=i,u=l-Math.floor(r/2)+r),e.fillRect(o.Uh,c,o.bi-o.Uh+1,u-c)}}BM(e){if(null===this.Yt||0===this.Yt.ot.length||null===this.Yt.lt)return void(this.IM=[]);const t=Math.ceil(this.Yt.vu*e)<=1?0:Math.max(1,Math.floor(e)),n=Math.round(this.Yt.vu*e)-t;this.IM=new Array(this.Yt.lt.to-this.Yt.lt.from);for(let i=this.Yt.lt.from;i<this.Yt.lt.to;i++){const t=this.Yt.ot[i],r=Math.round(t._t*e);let a,s;if(n%2){const e=(n-1)/2;a=r-e,s=r+e}else{const e=n/2;a=r-e,s=r+e-1}this.IM[i-this.Yt.lt.from]={Uh:a,bi:s,AM:r,ne:t._t*e,wt:t.wt}}for(let i=this.Yt.lt.from+1;i<this.Yt.lt.to;i++){const e=this.IM[i-this.Yt.lt.from],n=this.IM[i-this.Yt.lt.from-1];e.wt===n.wt+1&&e.Uh-n.bi!==t+1&&(n.AM>n.ne?n.bi=e.Uh-t-1:e.Uh=n.bi+t+1)}let r=Math.ceil(this.Yt.vu*e);for(let i=this.Yt.lt.from;i<this.Yt.lt.to;i++){const e=this.IM[i-this.Yt.lt.from];e.bi<e.Uh&&(e.bi=e.Uh);const t=e.bi-e.Uh+1;r=Math.min(t,r)}if(t>0&&r<4)for(let i=this.Yt.lt.from;i<this.Yt.lt.to;i++){const e=this.IM[i-this.Yt.lt.from];e.bi-e.Uh+1>r&&(e.AM>e.ne?e.bi-=1:e.Uh+=1)}}},rf=class extends $h{constructor(){super(...arguments),this.hg=new nf}jg(e,t,n){return h(h({},this.Yg(e,t)),n.Dr(e))}cg(){const e={ot:this.sg,vu:this.Qn.Et().vu(),lt:this.ng,EM:this.Jn.Ft().Nt(this.Jn.N().base,Nl(this.Jn.zt()).Wt)};this.hg.ht(e)}};const af={type:"Histogram",isBuiltIn:!0,defaultOptions:{color:"#26a69a",base:0},Fg:(e,t)=>new rf(e,t)};h({},vl);const sf=new Map,of={IDLE:"idle",LOADING:"loading",SUCCESS:"success",ERROR:"error"},lf={RRG_ANALYSIS:{files:e=>[`rrg_data_${e}.json`,`analyze_rs_${e}.json`],processor:uf},MARKET_BREADTH:{files:e=>[`analyze_breadth_${e}.json`],processor:df},VSA_ANALYSIS:{files:e=>[`vsa_market_analysis_${e}.json`],processor:function([e]){return f(h({},e),{processed_at:(new Date).toISOString()})}},INDUSTRY_STRENGTH:{files:()=>["industry_strength_analysis.json","industry_strength_time_series.json"],processor:function([e,t]){return{analysis:e,timeSeries:t,processed_at:(new Date).toISOString()}}},ABNORMAL_SIGNALS:{files:e=>[`abnormal_signals${"intra"===e?"_intra":""}.json`],processor:function([e]){return f(h({},e),{processed_at:(new Date).toISOString()})}},VCP_ANALYSIS:{files:e=>[`filter_vcp_${e}.json`],processor:hf},vcp_analysis:{files:e=>[`filter_vcp_${e}.json`],processor:hf},MACRO_DATA:{files:()=>["gdp_year.json","gdp_quarter.json","cpi_month.json","cpi_year.json","fdi_month.json","fdi_year.json","import_export_month.json","import_export_year.json","retail_sales_month.json","retail_sales_year.json","industrial_production_month.json","industrial_production_year.json","money_supply_month.json","money_supply_year.json"],processor:function(e){const t={};return e.forEach((e,n)=>{const r=lf.MACRO_DATA.files()[n].replace(".json","");t[r]=e}),t.processed_at=(new Date).toISOString(),t}},MARKET_OVERVIEW:{files:()=>["market_overview_dashboard.json"],processor:function([e]){return f(h({},e),{processed_at:(new Date).toISOString()})}},TOP_PERFORMERS:{files:()=>["top_gainers_vnindex_20.json","top_losers_vnindex_20.json","top_by_value_vnindex_20.json","top_by_volume_vnindex_20.json","top_deals_vnindex_20.json","foreign_buy_20.json","foreign_sell_20.json"],processor:function(e){const t={};return e.forEach((e,n)=>{const r=lf.TOP_PERFORMERS.files()[n].replace(".json","");t[r]=e}),t.processed_at=(new Date).toISOString(),t}},analyze_breadth:{files:()=>["analyze_breadth.json"],processor:df},analyze_breadth_5:{files:()=>["analyze_breadth_5.json"],processor:df},analyze_groups_mfi:{files:()=>["analyze_groups_mfi.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},rs_analysis:{files:e=>[`analyze_rs_${e}.json`],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},vsa_market_analysis:{files:e=>[`vsa_market_analysis_${e}.json`],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},industry_strength_time_series:{files:()=>["industry_strength_time_series.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},top_gainers:{files:()=>["top_gainers_vnindex_20.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},top_losers:{files:()=>["top_losers_vnindex_20.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},top_by_volume:{files:()=>["top_by_volume_vnindex_20.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},top_by_value:{files:()=>["top_by_value_vnindex_20.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},top_deals:{files:()=>["top_deals_vnindex_20.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},foreign_buy:{files:()=>["foreign_buy_20.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},foreign_sell:{files:()=>["foreign_sell_20.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},gdp_quarter:{files:()=>["gdp_quarter.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},money_supply_month:{files:()=>["money_supply_month.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},retail_sales_year:{files:()=>["retail_sales_year.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},retail_sales_month:{files:()=>["retail_sales_month.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},cpi_month:{files:()=>["cpi_month.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},pe_ratio:{files:()=>["pe_ratio_5y.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},pb_ratio:{files:()=>["pb_ratio_5y.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},market_overview:{files:()=>["market_overview_dashboard.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},abnormal_signals:{files:e=>[`abnormal_signals${"intra"===e?"_intra":""}.json`],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},analyze_greed_fear:{files:()=>["analyze_greed_fear.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},rrg_analysis:{files:e=>[`rrg_data_${e}.json`,`analyze_rs_${e}.json`],processor:uf}};function cf(e){return g(this,null,function*(){const t=e;if(sf.has(t))return sf.get(t);try{const n=`/embed-tools/vnindex-analysis/data/${e}`,r=yield fetch(n);if(!r.ok)throw new Error(`Failed to load ${e}: ${r.status}`);const i=yield r.json();return sf.set(t,i),i}catch(n){throw n}})}function uf([e,t]){const n=t.industries||[],r=t.groups||[],i=t.symbols||[],a=e.series.filter(e=>"industry"===e.type),s=e.series.filter(e=>"group"===e.type),o=e.series.filter(e=>"symbol"===e.type),l=n.map(e=>{const t=a.find(t=>t.custom_id===e.custom_id);return f(h({},e),{tail:(null==t?void 0:t.tail)||[],rrg_position:(null==t?void 0:t.tail)&&t.tail.length>0?mf(t.tail[t.tail.length-1]):null})}),c=r.map(e=>{const t=s.find(t=>t.custom_id===e.custom_id);return f(h({},e),{tail:(null==t?void 0:t.tail)||[],rrg_position:(null==t?void 0:t.tail)&&t.tail.length>0?mf(t.tail[t.tail.length-1]):null})}),u=i.map(e=>{const t=o.find(t=>t.custom_id===e.symbol);return f(h({},e),{tail:(null==t?void 0:t.tail)||[],rrg_position:(null==t?void 0:t.tail)&&t.tail.length>0?mf(t.tail[t.tail.length-1]):null})});return{industries:l.map(ff),groups:c.map(ff),symbols:u.map(ff),tickers:u.map(ff),insights:t.insights||{},analysis_date:t.analysis_date,timeframe:t.timeframe}}function df([e]){return f(h({},e),{processed_at:(new Date).toISOString()})}function hf([e]){return f(h({},e),{processed_at:(new Date).toISOString()})}function ff(e){var t,n,r,i,a,s,o,l,c,u,d,m,p,g,v,y;const x=Array.isArray(e.tail)&&e.tail.length>0?e.tail[e.tail.length-1]:{};return f(h({},e),{industry:e.name,rs:null!=(n=null==(t=e.metrics)?void 0:t.current_rs)?n:null,crs:null!=(i=null==(r=e.metrics)?void 0:r.current_crs)?i:null,momentum:null!=(s=null==(a=e.speed_analysis)?void 0:a.weighted_speed)?s:null,direction:null!=(l=null==(o=e.direction_analysis)?void 0:o.direction)?l:null,trend_strength:null!=(u=null==(c=e.direction_analysis)?void 0:c.trend_strength)?u:null,momentum_confirmed:null!=(m=null==(d=e.direction_analysis)?void 0:d.momentum_confirmed)?m:null,signal_to_noise_ratio:null!=(g=null==(p=e.direction_analysis)?void 0:p.signal_to_noise_ratio)?g:null,rs_ratio:null!=(v=x.x)?v:null,rs_momentum:null!=(y=x.y)?y:null})}function mf(e){if(!e||"number"!=typeof e.x||"number"!=typeof e.y)return null;const t=e.x,n=e.y;return t>100&&n>100?"Leading (Dẫn dắt)":t>100&&n<=100?"Weakening (Suy yếu)":t<=100&&n<=100?"Lagging (Tụt hậu)":t<=100&&n>100?"Improving (Cải thiện)":null}function pf(e){for(const t of sf.keys())t.startsWith(e+"_")&&sf.delete(t)}function gf(e,t=null,n=[],r={}){const[i,a]=k.useState(of.IDLE),[s,o]=k.useState(null),[l,c]=k.useState(null),[u,d]=k.useState(null),h=k.useCallback(()=>g(null,null,function*(){a(of.LOADING),c(null);try{const n=yield function(e,t=null){return g(this,null,function*(){const n=lf[e];if(!n)throw new Error(`Unknown data type: ${e}`);const r="string"==typeof t?t:t&&"object"==typeof t&&t.timeframe||"1D",i=`${e}_${r}`;if(sf.has(i))return sf.get(i);try{const e=n.files(r),t=yield Promise.all(e.map(cf)),a=n.processor(t);return sf.set(i,a),a}catch(l){throw l}})}(e,t);o(n),d(new Date),a(of.SUCCESS)}catch(rae){c(rae),a(of.ERROR)}}),[e,t]);k.useEffect(()=>{h()},[e,t]),k.useEffect(()=>{const t=t=>{var n;const r=null==(n=t.detail)?void 0:n.dataType;r&&r!==e||(pf(e),h())};return window.addEventListener("dataReloaded",t),()=>{window.removeEventListener("dataReloaded",t)}},[e,t]),k.useEffect(()=>{if(r.refreshInterval){const t=setInterval(()=>{pf(e),h()},r.refreshInterval);return()=>clearInterval(t)}},[r.refreshInterval,e,t]);const f={data:s,loading:i===of.LOADING||!s&&!l,error:l,lastUpdated:u,refresh:()=>{pf(e),h(),function(e){const t=new CustomEvent("dataReloaded",{detail:{dataType:e}});window.dispatchEvent(t)}(e)},reload:h};return f}function vf(e="1D"){return gf("RRG_ANALYSIS",e)}const yf={clearCache:()=>sf.clear(),getCacheSize:()=>sf.size,getCacheKeys:()=>Array.from(sf.keys()),removeFromCache:e=>sf.delete(e),getCacheStats:()=>({size:sf.size,keys:Array.from(sf.keys()),totalSize:Array.from(sf.values()).reduce((e,t)=>e+JSON.stringify(t).length,0)})},xf={useDataLoader:gf,useRRGAnalysis:vf,useMarketBreadth:function(e="1D"){return gf("MARKET_BREADTH",e)},useVSAAnalysis:function(e="1D"){return gf("VSA_ANALYSIS",e)},useIndustryStrength:function(){return gf("INDUSTRY_STRENGTH")},useAbnormalSignals:function(e="1D"){return gf("ABNORMAL_SIGNALS",e)},useVCPAnalysis:function(e="1D"){return gf("VCP_ANALYSIS",e)},useMacroData:function(){return gf("MACRO_DATA")},useMarketOverview:function(){return gf("MARKET_OVERVIEW")},useTopPerformers:function(){return gf("TOP_PERFORMERS")},useCacheStats:function(){const[e,t]=k.useState({total:0,valid:0,expired:0}),n=k.useCallback(()=>{const e=yf.getCacheStats();t({total:e.size,valid:e.size,expired:0})},[]);return k.useEffect(()=>{n()},[]),{stats:e,updateStats:n}},cacheUtils:yf,loadTicker:function(e){return g(this,null,function*(){try{const t=`/embed-tools/vnindex-analysis/data/tickers/${e}.json`,n=t;if(sf.has(n))return sf.get(n);const r=yield fetch(t);if(!r.ok)throw new Error(`Failed to load ${t}: ${r.status}`);const i=yield r.json();return sf.set(n,i),i}catch(t){throw t}})},DATA_TYPES:lf,LOADING_STATES:of};var bf,wf={},_f={};function jf(){return bf||(bf=1,e=_f,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isUnsafeProperty=function(e){return"__proto__"===e}),_f;var e}var kf,Nf={};function Sf(){return kf||(kf=1,e=Nf,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}),Nf;var e}var Cf,Ef={};function Pf(){return Cf||(Cf=1,e=Ef,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.toKey=function(e){var t;return"string"==typeof e||"symbol"==typeof e?e:Object.is(null==(t=null==e?void 0:e.valueOf)?void 0:t.call(e),-0)?"-0":String(e)}),Ef;var e}var Mf,Of,Af,Tf,Df={};function Rf(){return Mf||(Mf=1,e=Df,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.toPath=function(e){const t=[],n=e.length;if(0===n)return t;let r=0,i="",a="",s=!1;for(46===e.charCodeAt(0)&&(t.push(""),r++);r<n;){const o=e[r];a?"\\"===o&&r+1<n?(r++,i+=e[r]):o===a?a="":i+=o:s?'"'===o||"'"===o?a=o:"]"===o?(s=!1,t.push(i),i=""):i+=o:"["===o?(s=!0,i&&(t.push(i),i="")):"."===o?i&&(t.push(i),i=""):i+=o,r++}return i&&t.push(i),t}),Df;var e}function If(){return Of||(Of=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jf(),n=Sf(),r=Pf(),i=Rf();e.get=function e(a,s,o){if(null==a)return o;switch(typeof s){case"string":{if(t.isUnsafeProperty(s))return o;const r=a[s];return void 0===r?n.isDeepKey(s)?e(a,i.toPath(s),o):o:r}case"number":case"symbol":{"number"==typeof s&&(s=r.toKey(s));const e=a[s];return void 0===e?o:e}default:{if(Array.isArray(s))return function(e,n,r){if(0===n.length)return r;let i=e;for(let a=0;a<n.length;a++){if(null==i)return r;if(t.isUnsafeProperty(n[a]))return r;i=i[n[a]]}return void 0===i?r:i}(a,s,o);if(s=Object.is(null==s?void 0:s.valueOf(),-0)?"-0":String(s),t.isUnsafeProperty(s))return o;const e=a[s];return void 0===e?o:e}}}}(wf)),wf}function zf(){return Tf?Af:(Tf=1,Af=If().get)}const Lf=i(zf());var Ff,Bf,Wf={exports:{}},Vf={},$f=(Bf||(Bf=1,Wf.exports=function(){if(Ff)return Vf;Ff=1;var e="function"==typeof Symbol&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,o=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,u=e?Symbol.for("react.forward_ref"):60112,d=e?Symbol.for("react.suspense"):60113,h=e?Symbol.for("react.suspense_list"):60120,f=e?Symbol.for("react.memo"):60115,m=e?Symbol.for("react.lazy"):60116,p=e?Symbol.for("react.block"):60121,g=e?Symbol.for("react.fundamental"):60117,v=e?Symbol.for("react.responder"):60118,y=e?Symbol.for("react.scope"):60119;function x(e){if("object"==typeof e&&null!==e){var h=e.$$typeof;switch(h){case t:switch(e=e.type){case l:case c:case r:case a:case i:case d:return e;default:switch(e=e&&e.$$typeof){case o:case u:case m:case f:case s:return e;default:return h}}case n:return h}}}function b(e){return x(e)===c}return Vf.AsyncMode=l,Vf.ConcurrentMode=c,Vf.ContextConsumer=o,Vf.ContextProvider=s,Vf.Element=t,Vf.ForwardRef=u,Vf.Fragment=r,Vf.Lazy=m,Vf.Memo=f,Vf.Portal=n,Vf.Profiler=a,Vf.StrictMode=i,Vf.Suspense=d,Vf.isAsyncMode=function(e){return b(e)||x(e)===l},Vf.isConcurrentMode=b,Vf.isContextConsumer=function(e){return x(e)===o},Vf.isContextProvider=function(e){return x(e)===s},Vf.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},Vf.isForwardRef=function(e){return x(e)===u},Vf.isFragment=function(e){return x(e)===r},Vf.isLazy=function(e){return x(e)===m},Vf.isMemo=function(e){return x(e)===f},Vf.isPortal=function(e){return x(e)===n},Vf.isProfiler=function(e){return x(e)===a},Vf.isStrictMode=function(e){return x(e)===i},Vf.isSuspense=function(e){return x(e)===d},Vf.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===c||e===a||e===i||e===d||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===f||e.$$typeof===s||e.$$typeof===o||e.$$typeof===u||e.$$typeof===g||e.$$typeof===v||e.$$typeof===y||e.$$typeof===p)},Vf.typeOf=x,Vf}()),Wf.exports),Kf=e=>0===e?0:e>0?1:-1,Hf=e=>"number"==typeof e&&e!=+e,Uf=e=>"string"==typeof e&&e.indexOf("%")===e.length-1,Yf=e=>("number"==typeof e||e instanceof Number)&&!Hf(e),qf=e=>Yf(e)||"string"==typeof e,Gf=0,Xf=e=>{var t=++Gf;return"".concat(e||"").concat(t)},Qf=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Yf(e)&&"string"!=typeof e)return r;if(Uf(e)){if(null==t)return r;var a=e.indexOf("%");n=t*parseFloat(e.slice(0,a))/100}else n=+e;return Hf(n)&&(n=r),i&&null!=t&&n>t&&(n=t),n},Zf=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1},Jf=(e,t)=>Yf(e)&&Yf(t)?n=>e+n*(t-e):()=>t;function em(e,t,n){return Yf(e)&&Yf(t)?e+n*(t-e):t}function tm(e,t,n){if(e&&e.length)return e.find(e=>e&&("function"==typeof t?t(e):Lf(e,t))===n)}var nm=e=>null==e,rm=e=>nm(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),im=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],am=["points","pathLength"],sm={svg:["viewBox","children"],polygon:am,polyline:am},om=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],lm=(e,t)=>{if(!e||"function"==typeof e||"boolean"==typeof e)return null;var n=e;if(k.isValidElement(e)&&(n=e.props),"object"!=typeof n&&"function"!=typeof n)return null;var r={};return Object.keys(n).forEach(e=>{om.includes(e)&&(r[e]=t=>n[e](n,t))}),r},cm=(e,t,n)=>{if(null===e||"object"!=typeof e&&"function"!=typeof e)return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];om.includes(i)&&"function"==typeof a&&(r||(r={}),r[i]=((e,t,n)=>r=>(e(t,n,r),null))(a,t,n))}),r},um=e=>"string"==typeof e?e:e?e.displayName||e.name||"Component":"",dm=null,hm=null,fm=e=>{if(e===dm&&Array.isArray(hm))return hm;var t=[];return k.Children.forEach(e,e=>{nm(e)||($f.isFragment(e)?t=t.concat(fm(e.props.children)):t.push(e))}),hm=t,dm=e,t};function mm(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(e=>um(e)):[um(t)],fm(e).forEach(e=>{var t=Lf(e,"type.displayName")||Lf(e,"type.name");-1!==r.indexOf(t)&&n.push(e)}),n}var pm=e=>!e||"object"!=typeof e||!("clipDot"in e)||Boolean(e.clipDot),gm=(e,t,n)=>{if(!e||"function"==typeof e||"boolean"==typeof e)return null;var r=e;if(k.isValidElement(e)&&(r=e.props),"object"!=typeof r&&"function"!=typeof r)return null;var i={};return Object.keys(r).forEach(e=>{var a;((e,t,n,r)=>{var i,a=null!==(i=r&&(null==sm?void 0:sm[r]))&&void 0!==i?i:[];return t.startsWith("data-")||"function"!=typeof e&&(r&&a.includes(t)||im.includes(t))||n&&om.includes(t)})(null===(a=r)||void 0===a?void 0:a[e],e,t,n)&&(i[e]=r[e])}),i},vm=["children","width","height","viewBox","className","style","title","desc"];function ym(){return ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ym.apply(null,arguments)}var xm=k.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:o,title:l,desc:c}=e,u=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,vm),d=a||{width:r,height:i,x:0,y:0},h=Ke("recharts-surface",s);return k.createElement("svg",ym({},gm(u,!0,"svg"),{className:h,width:r,height:i,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),k.createElement("title",null,l),k.createElement("desc",null,c),n)}),bm=["children","className"];function wm(){return wm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wm.apply(null,arguments)}var _m=k.forwardRef((e,t)=>{var{children:n,className:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,bm),a=Ke("recharts-layer",r);return k.createElement("g",wm({className:a},gm(i,!0),{ref:t}),n)}),jm=k.createContext(null);function km(e){return function(){return e}}const Nm=Math.abs,Sm=Math.atan2,Cm=Math.cos,Em=Math.max,Pm=Math.min,Mm=Math.sin,Om=Math.sqrt,Am=1e-12,Tm=Math.PI,Dm=Tm/2,Rm=2*Tm;function Im(e){return e>=1?Dm:e<=-1?-Dm:Math.asin(e)}const zm=Math.PI,Lm=2*zm,Fm=1e-6,Bm=Lm-Fm;function Wm(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}let Vm=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?Wm:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Wm;const n=u(10,t);return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,i,a){this._append`C${+e},${+t},${+n},${+r},${this._x1=+i},${this._y1=+a}`}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let a=this._x1,s=this._y1,o=n-e,l=r-t,c=a-e,u=s-t,d=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>Fm)if(Math.abs(u*o-l*c)>Fm&&i){let h=n-a,f=r-s,m=o*o+l*l,p=h*h+f*f,g=Math.sqrt(m),v=Math.sqrt(d),y=i*Math.tan((zm-Math.acos((m+d-p)/(2*g*v)))/2),x=y/v,b=y/g;Math.abs(x-1)>Fm&&this._append`L${e+x*c},${t+x*u}`,this._append`A${i},${i},0,0,${+(u*h>c*f)},${this._x1=e+b*o},${this._y1=t+b*l}`}else this._append`L${this._x1=e},${this._y1=t}`}arc(e,t,n,r,i,a){if(e=+e,t=+t,a=!!a,(n=+n)<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(r),o=n*Math.sin(r),l=e+s,c=t+o,u=1^a,d=a?r-i:i-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>Fm||Math.abs(this._y1-c)>Fm)&&this._append`L${l},${c}`,n&&(d<0&&(d=d%Lm+Lm),d>Bm?this._append`A${n},${n},0,1,${u},${e-s},${t-o}A${n},${n},0,1,${u},${this._x1=l},${this._y1=c}`:d>Fm&&this._append`A${n},${n},0,${+(d>=zm)},${u},${this._x1=e+n*Math.cos(i)},${this._y1=t+n*Math.sin(i)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}};function $m(){return new Vm}function Km(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new Vm(t)}function Hm(e){return e.innerRadius}function Um(e){return e.outerRadius}function Ym(e){return e.startAngle}function qm(e){return e.endAngle}function Gm(e){return e&&e.padAngle}function Xm(e,t,n,r,i,a,s){var o=e-n,l=t-r,c=(s?a:-a)/Om(o*o+l*l),u=c*l,d=-c*o,h=e+u,f=t+d,m=n+u,p=r+d,g=(h+m)/2,v=(f+p)/2,y=m-h,x=p-f,b=y*y+x*x,w=i-a,_=h*p-m*f,j=(x<0?-1:1)*Om(Em(0,w*w*b-_*_)),k=(_*x-y*j)/b,N=(-_*y-x*j)/b,S=(_*x+y*j)/b,C=(-_*y+x*j)/b,E=k-g,P=N-v,M=S-g,O=C-v;return E*E+P*P>M*M+O*O&&(k=S,N=C),{cx:k,cy:N,x01:-u,y01:-d,x11:k*(i/w-1),y11:N*(i/w-1)}}$m.prototype=Vm.prototype;var Qm=Array.prototype.slice;function Zm(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Jm(e){this._context=e}function ep(e){return new Jm(e)}function tp(e){return e[0]}function np(e){return e[1]}function rp(e,t){var n=km(!0),r=null,i=ep,a=null,s=Km(o);function o(o){var l,c,u,d=(o=Zm(o)).length,h=!1;for(null==r&&(a=i(u=s())),l=0;l<=d;++l)!(l<d&&n(c=o[l],l,o))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(c,l,o),+t(c,l,o));if(u)return a=null,u+""||null}return e="function"==typeof e?e:void 0===e?tp:km(e),t="function"==typeof t?t:void 0===t?np:km(t),o.x=function(t){return arguments.length?(e="function"==typeof t?t:km(+t),o):e},o.y=function(e){return arguments.length?(t="function"==typeof e?e:km(+e),o):t},o.defined=function(e){return arguments.length?(n="function"==typeof e?e:km(!!e),o):n},o.curve=function(e){return arguments.length?(i=e,null!=r&&(a=i(r)),o):i},o.context=function(e){return arguments.length?(null==e?r=a=null:a=i(r=e),o):r},o}function ip(e,t,n){var r=null,i=km(!0),a=null,s=ep,o=null,l=Km(c);function c(c){var u,d,h,f,m,p=(c=Zm(c)).length,g=!1,v=new Array(p),y=new Array(p);for(null==a&&(o=s(m=l())),u=0;u<=p;++u){if(!(u<p&&i(f=c[u],u,c))===g)if(g=!g)d=u,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),h=u-1;h>=d;--h)o.point(v[h],y[h]);o.lineEnd(),o.areaEnd()}g&&(v[u]=+e(f,u,c),y[u]=+t(f,u,c),o.point(r?+r(f,u,c):v[u],n?+n(f,u,c):y[u]))}if(m)return o=null,m+""||null}function u(){return rp().defined(i).curve(s).context(a)}return e="function"==typeof e?e:void 0===e?tp:km(+e),t="function"==typeof t?t:km(void 0===t?0:+t),n="function"==typeof n?n:void 0===n?np:km(+n),c.x=function(t){return arguments.length?(e="function"==typeof t?t:km(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:km(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:km(+e),c):r},c.y=function(e){return arguments.length?(t="function"==typeof e?e:km(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"==typeof e?e:km(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:km(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"==typeof e?e:km(!!e),c):i},c.curve=function(e){return arguments.length?(s=e,null!=a&&(o=s(a)),c):s},c.context=function(e){return arguments.length?(null==e?a=o=null:o=s(a=e),c):a},c}function ap(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function sp(e){return e}Jm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var op=cp(ep);function lp(e){this._curve=e}function cp(e){function t(t){return new lp(e(t))}return t._curve=e,t}function up(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(cp(e)):t()._curve},e}function dp(){return up(rp().curve(op))}function hp(){var e=ip().curve(op),t=e.curve,n=e.lineX0,r=e.lineX1,i=e.lineY0,a=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return up(n())},delete e.lineX0,e.lineEndAngle=function(){return up(r())},delete e.lineX1,e.lineInnerRadius=function(){return up(i())},delete e.lineY0,e.lineOuterRadius=function(){return up(a())},delete e.lineY1,e.curve=function(e){return arguments.length?t(cp(e)):t()._curve},e}function fp(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}lp.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};class mp{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}class pp{constructor(e){this._context=e}lineStart(){this._point=0}lineEnd(){}point(e,t){if(e=+e,t=+t,0===this._point)this._point=1;else{const n=fp(this._x0,this._y0),r=fp(this._x0,this._y0=(this._y0+t)/2),i=fp(e,this._y0),a=fp(e,t);this._context.moveTo(...n),this._context.bezierCurveTo(...r,...i,...a)}this._x0=e,this._y0=t}}function gp(e){return new mp(e,!0)}function vp(e){return new mp(e,!1)}function yp(e){return new pp(e)}function xp(e){return e.source}function bp(e){return e.target}function wp(e){let t=xp,n=bp,r=tp,i=np,a=null,s=null,o=Km(l);function l(){let l;const c=Qm.call(arguments),u=t.apply(this,c),d=n.apply(this,c);if(null==a&&(s=e(l=o())),s.lineStart(),c[0]=u,s.point(+r.apply(this,c),+i.apply(this,c)),c[0]=d,s.point(+r.apply(this,c),+i.apply(this,c)),s.lineEnd(),l)return s=null,l+""||null}return l.source=function(e){return arguments.length?(t=e,l):t},l.target=function(e){return arguments.length?(n=e,l):n},l.x=function(e){return arguments.length?(r="function"==typeof e?e:km(+e),l):r},l.y=function(e){return arguments.length?(i="function"==typeof e?e:km(+e),l):i},l.context=function(t){return arguments.length?(null==t?a=s=null:s=e(a=t),l):a},l}const _p=Om(3),jp={draw(e,t){const n=.59436*Om(t+Pm(t/28,.75)),r=n/2,i=r*_p;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},kp={draw(e,t){const n=Om(t/Tm);e.moveTo(n,0),e.arc(0,0,n,0,Rm)}},Np={draw(e,t){const n=Om(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Sp=Om(1/3),Cp=2*Sp,Ep={draw(e,t){const n=Om(t/Cp),r=n*Sp;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Pp={draw(e,t){const n=.62625*Om(t);e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},Mp={draw(e,t){const n=.87559*Om(t-Pm(t/7,2));e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},Op={draw(e,t){const n=Om(t),r=-n/2;e.rect(r,r,n,n)}},Ap={draw(e,t){const n=.4431*Om(t);e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},Tp=Mm(Tm/10)/Mm(7*Tm/10),Dp=Mm(Rm/10)*Tp,Rp=-Cm(Rm/10)*Tp,Ip={draw(e,t){const n=Om(.8908130915292852*t),r=Dp*n,i=Rp*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const t=Rm*a/5,s=Cm(t),o=Mm(t);e.lineTo(o*n,-s*n),e.lineTo(s*r-o*i,o*r+s*i)}e.closePath()}},zp=Om(3),Lp={draw(e,t){const n=-Om(t/(3*zp));e.moveTo(0,2*n),e.lineTo(-zp*n,-n),e.lineTo(zp*n,-n),e.closePath()}},Fp=Om(3),Bp={draw(e,t){const n=.6824*Om(t),r=n/2,i=n*Fp/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},Wp=-.5,Vp=Om(3)/2,$p=1/Om(12),Kp=3*($p/2+1),Hp={draw(e,t){const n=Om(t/Kp),r=n/2,i=n*$p,a=r,s=n*$p+n,o=-a,l=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(Wp*r-Vp*i,Vp*r+Wp*i),e.lineTo(Wp*a-Vp*s,Vp*a+Wp*s),e.lineTo(Wp*o-Vp*l,Vp*o+Wp*l),e.lineTo(Wp*r+Vp*i,Wp*i-Vp*r),e.lineTo(Wp*a+Vp*s,Wp*s-Vp*a),e.lineTo(Wp*o+Vp*l,Wp*l-Vp*o),e.closePath()}},Up={draw(e,t){const n=.6189*Om(t-Pm(t/6,1.7));e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},Yp=[kp,Np,Ep,Op,Ip,Lp,Hp],qp=[kp,Mp,Up,Bp,jp,Ap,Pp];function Gp(e,t){let n=null,r=Km(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"==typeof e?e:km(e||kp),t="function"==typeof t?t:km(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"==typeof t?t:km(t),i):e},i.size=function(e){return arguments.length?(t="function"==typeof e?e:km(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}function Xp(){}function Qp(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Zp(e){this._context=e}function Jp(e){return new Zp(e)}function eg(e){this._context=e}function tg(e){return new eg(e)}function ng(e){this._context=e}function rg(e){return new ng(e)}function ig(e,t){this._basis=new Zp(e),this._beta=t}Zp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qp(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},eg.prototype={areaStart:Xp,areaEnd:Xp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Qp(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},ng.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Qp(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},ig.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],a=t[0],s=e[n]-i,o=t[n]-a,l=-1;++l<=n;)r=l/n,this._basis.point(this._beta*e[l]+(1-this._beta)*(i+r*s),this._beta*t[l]+(1-this._beta)*(a+r*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const ag=function e(t){function n(e){return 1===t?new Zp(e):new ig(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function sg(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function og(e,t){this._context=e,this._k=(1-t)/6}og.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:sg(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:sg(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const lg=function e(t){function n(e){return new og(e,t)}return n.tension=function(t){return e(+t)},n}(0);function cg(e,t){this._context=e,this._k=(1-t)/6}cg.prototype={areaStart:Xp,areaEnd:Xp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:sg(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ug=function e(t){function n(e){return new cg(e,t)}return n.tension=function(t){return e(+t)},n}(0);function dg(e,t){this._context=e,this._k=(1-t)/6}dg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:sg(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const hg=function e(t){function n(e){return new dg(e,t)}return n.tension=function(t){return e(+t)},n}(0);function fg(e,t,n){var r=e._x1,i=e._y1,a=e._x2,s=e._y2;if(e._l01_a>Am){var o=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*o-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*o-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>Am){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*c+e._x1*e._l23_2a-t*e._l12_2a)/u,s=(s*c+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(r,i,a,s,e._x2,e._y2)}function mg(e,t){this._context=e,this._alpha=t}mg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:fg(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const pg=function e(t){function n(e){return t?new mg(e,t):new og(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function gg(e,t){this._context=e,this._alpha=t}gg.prototype={areaStart:Xp,areaEnd:Xp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:fg(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const vg=function e(t){function n(e){return t?new gg(e,t):new cg(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function yg(e,t){this._context=e,this._alpha=t}yg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:fg(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const xg=function e(t){function n(e){return t?new yg(e,t):new dg(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function bg(e){this._context=e}function wg(e){return new bg(e)}function _g(e){return e<0?-1:1}function jg(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(_g(a)+_g(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function kg(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Ng(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-r)/3;e._context.bezierCurveTo(r+o,i+o*t,a-o,s-o*n,a,s)}function Sg(e){this._context=e}function Cg(e){this._context=new Eg(e)}function Eg(e){this._context=e}function Pg(e){return new Sg(e)}function Mg(e){return new Cg(e)}function Og(e){this._context=e}function Ag(e){var t,n,r=e.length-1,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Tg(e){return new Og(e)}function Dg(e,t){this._context=e,this._t=t}function Rg(e){return new Dg(e,.5)}function Ig(e){return new Dg(e,0)}function zg(e){return new Dg(e,1)}function Lg(e,t){if((i=e.length)>1)for(var n,r,i,a=1,s=e[t[0]],o=s.length;a<i;++a)for(r=s,s=e[t[a]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function Fg(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Bg(e,t){return e[t]}function Wg(e){const t=[];return t.key=e,t}function Vg(){var e=km([]),t=Fg,n=Lg,r=Bg;function i(i){var a,s,o=Array.from(e.apply(this,arguments),Wg),l=o.length,c=-1;for(const e of i)for(a=0,++c;a<l;++a)(o[a][c]=[0,+r(e,o[a].key,c,i)]).data=e;for(a=0,s=Zm(t(o));a<l;++a)o[s[a]].index=a;return n(o,s),o}return i.keys=function(t){return arguments.length?(e="function"==typeof t?t:km(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"==typeof e?e:km(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?Fg:"function"==typeof e?e:km(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?Lg:e,i):n},i}function $g(e,t){if((r=e.length)>0){for(var n,r,i,a=0,s=e[0].length;a<s;++a){for(i=n=0;n<r;++n)i+=e[n][a][1]||0;if(i)for(n=0;n<r;++n)e[n][a][1]/=i}Lg(e,t)}}function Kg(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],a=i.length;r<a;++r){for(var s=0,o=0;s<n;++s)o+=e[s][r][1]||0;i[r][1]+=i[r][0]=-o/2}Lg(e,t)}}function Hg(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,a=0,s=1;s<r;++s){for(var o=0,l=0,c=0;o<i;++o){for(var u=e[t[o]],d=u[s][1]||0,h=(d-(u[s-1][1]||0))/2,f=0;f<o;++f){var m=e[t[f]];h+=(m[s][1]||0)-(m[s-1][1]||0)}l+=d,c+=h*d}n[s-1][1]+=n[s-1][0]=a,l&&(a-=c/l)}n[s-1][1]+=n[s-1][0]=a,Lg(e,t)}}function Ug(e){var t=e.map(Yg);return Fg(e).sort(function(e,n){return t[e]-t[n]})}function Yg(e){for(var t,n=-1,r=0,i=e.length,a=-1/0;++n<i;)(t=+e[n][1])>a&&(a=t,r=n);return r}function qg(e){var t=e.map(Gg);return Fg(e).sort(function(e,n){return t[e]-t[n]})}function Gg(e){for(var t,n=0,r=-1,i=e.length;++r<i;)(t=+e[r][1])&&(n+=t);return n}bg.prototype={areaStart:Xp,areaEnd:Xp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},Sg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ng(this,this._t0,kg(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ng(this,kg(this,n=jg(this,e,t)),n);break;default:Ng(this,this._t0,n=jg(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Cg.prototype=Object.create(Sg.prototype)).point=function(e,t){Sg.prototype.point.call(this,t,e)},Eg.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}},Og.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=Ag(e),i=Ag(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},Dg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var Xg=["type","size","sizeType"];function Qg(){return Qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qg.apply(null,arguments)}function Zg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Jg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zg(Object(n),!0).forEach(function(t){ev(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ev(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tv={symbolCircle:kp,symbolCross:Np,symbolDiamond:Ep,symbolSquare:Op,symbolStar:Ip,symbolTriangle:Lp,symbolWye:Hp},nv=Math.PI/180,rv=e=>{var t,n,{type:r="circle",size:i=64,sizeType:a="area"}=e,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Xg),o=Jg(Jg({},s),{},{type:r,size:i,sizeType:a}),{className:l,cx:c,cy:d}=o,h=gm(o,!0);return c===+c&&d===+d&&i===+i?k.createElement("path",Qg({},h,{className:Ke("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(d,")"),d:(t=(e=>{var t="symbol".concat(rm(e));return tv[t]||kp})(r),n=Gp().type(t).size(((e,t,n)=>{if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*nv;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*u(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(i,a,r)),n())})):null};function iv(){return iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iv.apply(null,arguments)}function av(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sv(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}rv.registerSymbol=(e,t)=>{tv["symbol".concat(rm(e))]=t};var ov=32;class lv extends k.PureComponent{renderIcon(e,t){var{inactiveColor:n}=this.props,r=16,i=ov/6,a=ov/3,s=e.inactive?n:e.color,o=null!=t?t:e.type;if("none"===o)return null;if("plainline"===o)return k.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:r,x2:ov,y2:r,className:"recharts-legend-icon"});if("line"===o)return k.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(r,"h").concat(a,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(2*a,",").concat(r,"\n            H").concat(ov,"M").concat(2*a,",").concat(r,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(a,",").concat(r),className:"recharts-legend-icon"});if("rect"===o)return k.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(4,"h").concat(ov,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(k.isValidElement(e.legendIcon)){var l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?av(Object(n),!0).forEach(function(t){sv(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):av(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return delete l.legendIcon,k.cloneElement(e.legendIcon,l)}return k.createElement(rv,{fill:s,cx:r,cy:r,size:ov,sizeType:"diameter",type:o})}renderItems(){var{payload:e,iconSize:t,layout:n,formatter:r,inactiveColor:i,iconType:a}=this.props,s={x:0,y:0,width:ov,height:ov},o={display:"horizontal"===n?"inline-block":"block",marginRight:10},l={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((e,n)=>{var c=e.formatter||r,u=Ke({"recharts-legend-item":!0,["legend-item-".concat(n)]:!0,inactive:e.inactive});if("none"===e.type)return null;var d=e.inactive?i:e.color,h=c?c(e.value,e,n):e.value;return k.createElement("li",iv({className:u,style:o,key:"legend-item-".concat(n)},cm(this.props,e,n)),k.createElement(xm,{width:t,height:t,viewBox:s,style:l,"aria-label":"".concat(h," legend icon")},this.renderIcon(e,a)),k.createElement("span",{className:"recharts-legend-item-text",style:{color:d}},h))})}render(){var{payload:e,layout:t,align:n}=this.props;if(!e||!e.length)return null;var r={padding:0,margin:0,textAlign:"horizontal"===t?n:"left"};return k.createElement("ul",{className:"recharts-default-legend",style:r},this.renderItems())}}sv(lv,"displayName","Legend"),sv(lv,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var cv,uv={},dv={};function hv(){return cv||(cv=1,e=dv,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.uniqBy=function(e,t){const n=new Map;for(let r=0;r<e.length;r++){const i=e[r],a=t(i);n.has(a)||n.set(a,i)}return Array.from(n.values())}),dv;var e}var fv,mv={};function pv(){return fv||(fv=1,e=mv,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.identity=function(e){return e}),mv;var e}var gv,vv,yv={},xv={},bv={};function wv(){return gv||(gv=1,e=bv,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}),bv;var e}function _v(){return vv||(vv=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wv();e.isArrayLike=function(e){return null!=e&&"function"!=typeof e&&t.isLength(e.length)}}(xv)),xv}var jv,kv,Nv={};function Sv(){return jv||(jv=1,e=Nv,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isObjectLike=function(e){return"object"==typeof e&&null!==e}),Nv;var e}function Cv(){return kv||(kv=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_v(),n=Sv();e.isArrayLikeObject=function(e){return n.isObjectLike(e)&&t.isArrayLike(e)}}(yv)),yv}var Ev,Pv={},Mv={};function Ov(){return Ev||(Ev=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=If();e.property=function(e){return function(n){return t.get(n,e)}}}(Mv)),Mv}var Av,Tv={},Dv={},Rv={},Iv={};function zv(){return Av||(Av=1,e=Iv,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isObject=function(e){return null!==e&&("object"==typeof e||"function"==typeof e)}),Iv;var e}var Lv,Fv={};function Bv(){return Lv||(Lv=1,e=Fv,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isPrimitive=function(e){return null==e||"object"!=typeof e&&"function"!=typeof e}),Fv;var e}var Wv,Vv,$v,Kv={};function Hv(){return Wv||(Wv=1,e=Kv,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}),Kv;var e}function Uv(){return Vv||(Vv=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yv(),n=zv(),r=Bv(),i=Hv();function a(e,t,l,c){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,n,i){if(null==t)return!0;if(Array.isArray(t))return s(e,t,n,i);if(t instanceof Map)return function(e,t,n,r){if(0===t.size)return!0;if(!(e instanceof Map))return!1;for(const[i,a]of t.entries())if(!1===n(e.get(i),a,i,e,t,r))return!1;return!0}(e,t,n,i);if(t instanceof Set)return o(e,t,n,i);const a=Object.keys(t);if(null==e)return 0===a.length;if(0===a.length)return!0;if(i&&i.has(t))return i.get(t)===e;i&&i.set(t,e);try{for(let s=0;s<a.length;s++){const o=a[s];if(!r.isPrimitive(e)&&!(o in e))return!1;if(void 0===t[o]&&void 0!==e[o])return!1;if(null===t[o]&&null!==e[o])return!1;if(!n(e[o],t[o],o,e,t,i))return!1}return!0}finally{i&&i.delete(t)}}(e,t,l,c);case"function":return Object.keys(t).length>0?a(e,h({},t),l,c):i.eq(e,t);default:return n.isObject(e)?"string"!=typeof t||""===t:i.eq(e,t)}}function s(e,t,n,r){if(0===t.length)return!0;if(!Array.isArray(e))return!1;const i=new Set;for(let a=0;a<t.length;a++){const s=t[a];let o=!1;for(let l=0;l<e.length;l++){if(i.has(l))continue;let c=!1;if(n(e[l],s,a,e,t,r)&&(c=!0),c){i.add(l),o=!0;break}}if(!o)return!1}return!0}function o(e,t,n,r){return 0===t.size||e instanceof Set&&s([...e],[...t],n,r)}e.isMatchWith=function(e,n,r){return"function"!=typeof r?t.isMatch(e,n):a(e,n,function e(t,n,i,s,o,l){const c=r(t,n,i,s,o,l);return void 0!==c?Boolean(c):a(t,n,e,l)},new Map)},e.isSetMatch=o}(Rv)),Rv}function Yv(){return $v||($v=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uv();e.isMatch=function(e,n){return t.isMatchWith(e,n,()=>{})}}(Dv)),Dv}var qv,Gv={},Xv={},Qv={};function Zv(){return qv||(qv=1,e=Qv,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}),Qv;var e}var Jv,ey={};function ty(){return Jv||(Jv=1,e=ey,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}),ey;var e}var ny,ry={};function iy(){return ny||(ny=1,e=ry,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.argumentsTag="[object Arguments]",e.arrayBufferTag="[object ArrayBuffer]",e.arrayTag="[object Array]",e.bigInt64ArrayTag="[object BigInt64Array]",e.bigUint64ArrayTag="[object BigUint64Array]",e.booleanTag="[object Boolean]",e.dataViewTag="[object DataView]",e.dateTag="[object Date]",e.errorTag="[object Error]",e.float32ArrayTag="[object Float32Array]",e.float64ArrayTag="[object Float64Array]",e.functionTag="[object Function]",e.int16ArrayTag="[object Int16Array]",e.int32ArrayTag="[object Int32Array]",e.int8ArrayTag="[object Int8Array]",e.mapTag="[object Map]",e.numberTag="[object Number]",e.objectTag="[object Object]",e.regexpTag="[object RegExp]",e.setTag="[object Set]",e.stringTag="[object String]",e.symbolTag="[object Symbol]",e.uint16ArrayTag="[object Uint16Array]",e.uint32ArrayTag="[object Uint32Array]",e.uint8ArrayTag="[object Uint8Array]",e.uint8ClampedArrayTag="[object Uint8ClampedArray]"),ry;var e}var ay,sy,oy,ly,cy={};function uy(){return ay||(ay=1,e=cy,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}),cy;var e}function dy(){return sy||(sy=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zv(),n=ty(),r=iy(),i=Bv(),a=uy();function s(e,t,l,c=new Map,u=void 0){const d=null==u?void 0:u(e,t,l,c);if(null!=d)return d;if(i.isPrimitive(e))return e;if(c.has(e))return c.get(e);if(Array.isArray(e)){const t=new Array(e.length);c.set(e,t);for(let n=0;n<e.length;n++)t[n]=s(e[n],n,l,c,u);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;c.set(e,t);for(const[n,r]of e)t.set(n,s(r,n,l,c,u));return t}if(e instanceof Set){const t=new Set;c.set(e,t);for(const n of e)t.add(s(n,void 0,l,c,u));return t}if("undefined"!=typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(a.isTypedArray(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);c.set(e,t);for(let n=0;n<e.length;n++)t[n]=s(e[n],n,l,c,u);return t}if(e instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return c.set(e,t),o(t,e,l,c,u),t}if("undefined"!=typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return c.set(e,t),o(t,e,l,c,u),t}if(e instanceof Blob){const t=new Blob([e],{type:e.type});return c.set(e,t),o(t,e,l,c,u),t}if(e instanceof Error){const t=new e.constructor;return c.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,o(t,e,l,c,u),t}if("object"==typeof e&&function(e){switch(n.getTag(e)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return c.set(e,t),o(t,e,l,c,u),t}return e}function o(e,n,r=e,i,a){const o=[...Object.keys(n),...t.getSymbols(n)];for(let t=0;t<o.length;t++){const l=o[t],c=Object.getOwnPropertyDescriptor(e,l);(null==c||c.writable)&&(e[l]=s(n[l],l,r,i,a))}}e.cloneDeepWith=function(e,t){return s(e,void 0,e,new Map,t)},e.cloneDeepWithImpl=s,e.copyProperties=o}(Xv)),Xv}function hy(){return oy||(oy=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dy();e.cloneDeep=function(e){return t.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}}(Gv)),Gv}function fy(){return ly||(ly=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yv(),n=hy();e.matches=function(e){return e=n.cloneDeep(e),n=>t.isMatch(n,e)}}(Tv)),Tv}var my,py,gy={},vy={},yy={};function xy(){return my||(my=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dy(),n=iy();e.cloneDeepWith=function(e,r){return t.cloneDeepWith(e,(i,a,s,o)=>{const l=null==r?void 0:r(i,a,s,o);if(null!=l)return l;if("object"==typeof e)switch(Object.prototype.toString.call(e)){case n.numberTag:case n.stringTag:case n.booleanTag:{const n=new e.constructor(null==e?void 0:e.valueOf());return t.copyProperties(n,e),n}case n.argumentsTag:{const n={};return t.copyProperties(n,e),n.length=e.length,n[Symbol.iterator]=e[Symbol.iterator],n}default:return}})}}(yy)),yy}function by(){return py||(py=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xy();e.cloneDeep=function(e){return t.cloneDeepWith(e)}}(vy)),vy}var wy,_y={},jy={};function ky(){return wy||(wy=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;e.isIndex=function(e,n=Number.MAX_SAFE_INTEGER){switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<n;case"symbol":return!1;case"string":return t.test(e)}}}(jy)),jy}var Ny,Sy,Cy,Ey,Py,My,Oy,Ay={};function Ty(){return Ny||(Ny=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ty();e.isArguments=function(e){return null!==e&&"object"==typeof e&&"[object Arguments]"===t.getTag(e)}}(Ay)),Ay}function Dy(){return Sy||(Sy=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sf(),n=ky(),r=Ty(),i=Rf();e.has=function(e,a){let s;if(s=Array.isArray(a)?a:"string"==typeof a&&t.isDeepKey(a)&&null==(null==e?void 0:e[a])?i.toPath(a):[a],0===s.length)return!1;let o=e;for(let t=0;t<s.length;t++){const e=s[t];if(!(null!=o&&Object.hasOwn(o,e)||(Array.isArray(o)||r.isArguments(o))&&n.isIndex(e)&&e<o.length))return!1;o=o[e]}return!0}}(_y)),_y}function Ry(){return Cy||(Cy=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yv(),n=Pf(),r=by(),i=If(),a=Dy();e.matchesProperty=function(e,s){switch(typeof e){case"object":Object.is(null==e?void 0:e.valueOf(),-0)&&(e="-0");break;case"number":e=n.toKey(e)}return s=r.cloneDeep(s),function(n){const r=i.get(n,e);return void 0===r?a.has(n,e):void 0===s?void 0===r:t.isMatch(r,s)}}}(gy)),gy}function Iy(){return Ey||(Ey=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pv(),n=Ov(),r=fy(),i=Ry();e.iteratee=function(e){if(null==e)return t.identity;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&2===e.length?i.matchesProperty(e[0],e[1]):r.matches(e);case"string":case"symbol":case"number":return n.property(e)}}}(Pv)),Pv}function zy(){return Oy?My:(Oy=1,My=(Py||(Py=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hv(),n=pv(),r=Cv(),i=Iy();e.uniqBy=function(e,a=n.identity){return r.isArrayLikeObject(e)?t.uniqBy(Array.from(e),i.iteratee(a)):[]}}(uv)),uv).uniqBy)}const Ly=i(zy());function Fy(e,t,n){return!0===t?Ly(e,n):"function"==typeof t?Ly(e,t):e}var By,Wy,Vy,$y,Ky={exports:{}},Hy={},Uy={exports:{}},Yy={};function qy(){return Wy||(Wy=1,Uy.exports=function(){if(By)return Yy;By=1;var e=j(),t="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=e.useState,r=e.useEffect,i=e.useLayoutEffect,a=e.useDebugValue;function s(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!t(e,r)}catch(i){return!0}}var o="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var o=t(),l=n({inst:{value:o,getSnapshot:t}}),c=l[0].inst,u=l[1];return i(function(){c.value=o,c.getSnapshot=t,s(c)&&u({inst:c})},[e,o,t]),r(function(){return s(c)&&u({inst:c}),e(function(){s(c)&&u({inst:c})})},[e]),a(o),o};return Yy.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:o,Yy}()),Uy.exports}
/**
     * @license React
     * use-sync-external-store-shim/with-selector.production.js
     *
     * Copyright (c) Meta Platforms, Inc. and affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */var Gy=($y||($y=1,Ky.exports=function(){if(Vy)return Hy;Vy=1;var e=j(),t=qy(),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=t.useSyncExternalStore,i=e.useRef,a=e.useEffect,s=e.useMemo,o=e.useDebugValue;return Hy.useSyncExternalStoreWithSelector=function(e,t,l,c,u){var d=i(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=s(function(){function e(e){if(!a){if(a=!0,r=e,e=c(e),void 0!==u&&h.hasValue){var t=h.value;if(u(t,e))return i=t}return i=e}if(t=i,n(r,e))return t;var s=c(e);return void 0!==u&&u(t,s)?(r=e,t):(r=e,i=s)}var r,i,a=!1,s=void 0===l?null:l;return[function(){return e(t())},null===s?void 0:function(){return e(s())}]},[t,l,c,u]);var f=r(e,d[0],d[1]);return a(function(){h.hasValue=!0,h.value=f},[f]),o(f),f},Hy}()),Ky.exports),Xy=k.createContext(null),Qy=e=>e,Zy=()=>{var e=k.useContext(Xy);return e?e.store.dispatch:Qy},Jy=()=>{},ex=()=>Jy,tx=(e,t)=>e===t;function nx(e){var t=k.useContext(Xy);return Gy.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:ex,t?t.store.getState:Jy,t?t.store.getState:Jy,t?e:Jy,tx)}var rx=e=>Array.isArray(e)?e:[e];function ix(e){const t=Array.isArray(e[0])?e[0]:e;return function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(e=>"function"==typeof e)){const n=e.map(e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e).join(", ");throw new TypeError(`${t}[${n}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}var ax="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function sx(){return{s:0,v:void 0,o:null,p:null}}function ox(e,t={}){let n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:r}=t;let i,a=0;function s(){var t,s;let o=n;const{length:l}=arguments;for(let e=0,n=l;e<n;e++){const t=arguments[e];if("function"==typeof t||"object"==typeof t&&null!==t){let e=o.o;null===e&&(o.o=e=new WeakMap);const n=e.get(t);void 0===n?(o=sx(),e.set(t,o)):o=n}else{let e=o.p;null===e&&(o.p=e=new Map);const n=e.get(t);void 0===n?(o=sx(),e.set(t,o)):o=n}}const c=o;let u;if(1===o.s)u=o.v;else if(u=e.apply(null,arguments),a++,r){const e=null!=(s=null==(t=null==i?void 0:i.deref)?void 0:t.call(i))?s:i;null!=e&&r(e,u)&&(u=e,0!==a&&a--),i="object"==typeof u&&null!==u||"function"==typeof u?new ax(u):u}return c.s=1,c.v=u,u}return s.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function lx(e,...t){const n="function"==typeof e?{memoize:e,memoizeOptions:t}:e,r=(...e)=>{let t,r=0,i=0,a={},s=e.pop();"object"==typeof s&&(a=s,s=e.pop()),function(e,t="expected a function, instead received "+typeof e){if("function"!=typeof e)throw new TypeError(t)}(s,`createSelector expects an output function after the inputs, but received: [${typeof s}]`);const o=h(h({},n),a),{memoize:l,memoizeOptions:c=[],argsMemoize:u=ox,argsMemoizeOptions:d=[]}=o,f=rx(c),m=rx(d),p=ix(e),g=l(function(){return r++,s.apply(null,arguments)},...f),v=u(function(){i++;const e=function(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}(p,arguments);return t=g.apply(null,e),t},...m);return Object.assign(v,{resultFunc:s,memoizedResultFunc:g,dependencies:p,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>t,recomputations:()=>r,resetRecomputations:()=>{r=0},memoize:l,argsMemoize:u})};return Object.assign(r,{withTypes:()=>r}),r}var cx,ux=lx(ox),dx=Object.assign((e,t=ux)=>{!function(e,t="expected an object, instead received "+typeof e){if("object"!=typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const n=Object.keys(e);return t(n.map(t=>e[t]),(...e)=>e.reduce((e,t,r)=>(e[n[r]]=t,e),{}))},{withTypes:()=>dx}),hx={},fx={},mx={};function px(){return cx||(cx=1,function(e){function t(e){return"symbol"==typeof e?1:null===e?2:void 0===e?3:e!=e?4:0}Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.compareValues=(e,n,r)=>{if(e!==n){const i=t(e),a=t(n);if(i===a&&0===i){if(e<n)return"desc"===r?1:-1;if(e>n)return"desc"===r?-1:1}return"desc"===r?a-i:i-a}return 0}}(mx)),mx}var gx,vx,yx,xx={},bx={};function wx(){return gx||(gx=1,e=bx,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isSymbol=function(e){return"symbol"==typeof e||e instanceof Symbol}),bx;var e}function _x(){return vx||(vx=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wx(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;e.isKey=function(e,i){return!Array.isArray(e)&&(!("number"!=typeof e&&"boolean"!=typeof e&&null!=e&&!t.isSymbol(e))||"string"==typeof e&&(r.test(e)||!n.test(e))||null!=i&&Object.hasOwn(i,e))}}(xx)),xx}function jx(){return yx||(yx=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=px(),n=_x(),r=Rf();e.orderBy=function(e,i,a,s){if(null==e)return[];a=s?void 0:a,Array.isArray(e)||(e=Object.values(e)),Array.isArray(i)||(i=null==i?[null]:[i]),0===i.length&&(i=[null]),Array.isArray(a)||(a=null==a?[]:[a]),a=a.map(e=>String(e));const o=(e,t)=>{let n=e;for(let r=0;r<t.length&&null!=n;++r)n=n[t[r]];return n},l=i.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"==typeof e||Array.isArray(e)||n.isKey(e)?e:{key:e,path:r.toPath(e)}));return e.map(e=>({original:e,criteria:l.map(t=>((e,t)=>null==t||null==e?t:"object"==typeof e&&"key"in e?Object.hasOwn(t,e.key)?t[e.key]:o(t,e.path):"function"==typeof e?e(t):Array.isArray(e)?o(t,e):"object"==typeof t?t[e]:t)(t,e))})).slice().sort((e,n)=>{for(let r=0;r<l.length;r++){const i=t.compareValues(e.criteria[r],n.criteria[r],a[r]);if(0!==i)return i}return 0}).map(e=>e.original)}}(fx)),fx}var kx,Nx={};function Sx(){return kx||(kx=1,e=Nx,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.flatten=function(e,t=1){const n=[],r=Math.floor(t),i=(e,t)=>{for(let a=0;a<e.length;a++){const s=e[a];Array.isArray(s)&&t<r?i(s,t+1):n.push(s)}};return i(e,0),n}),Nx;var e}var Cx,Ex,Px,Mx,Ox={};function Ax(){return Cx||(Cx=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ky(),n=_v(),r=zv(),i=Hv();e.isIterateeCall=function(e,a,s){return!!r.isObject(s)&&!!("number"==typeof a&&n.isArrayLike(s)&&t.isIndex(a)&&a<s.length||"string"==typeof a&&a in s)&&i.eq(s[a],e)}}(Ox)),Ox}function Tx(){return Mx?Px:(Mx=1,Px=(Ex||(Ex=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jx(),n=Sx(),r=Ax();e.sortBy=function(e,...i){const a=i.length;return a>1&&r.isIterateeCall(e,i[0],i[1])?i=[]:a>2&&r.isIterateeCall(i[0],i[1],i[2])&&(i=[i[0]]),t.orderBy(e,n.flatten(i),["asc"])}}(hx)),hx).sortBy)}const Dx=i(Tx());var Rx=e=>e.legend.settings,Ix=ux([e=>e.legend.payload,Rx],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Dx(r,n):r});function zx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[t,n]=k.useState({height:0,left:0,top:0,width:0}),r=k.useCallback(e=>{if(null!=e){var r=e.getBoundingClientRect(),i={height:r.height,left:r.left,top:r.top,width:r.width};(Math.abs(i.height-t.height)>1||Math.abs(i.left-t.left)>1||Math.abs(i.top-t.top)>1||Math.abs(i.width-t.width)>1)&&n({height:i.height,left:i.left,top:i.top,width:i.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Lx(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Fx=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),Bx=()=>Math.random().toString(36).substring(7).split("").join("."),Wx={INIT:`@@redux/INIT${Bx()}`,REPLACE:`@@redux/REPLACE${Bx()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Bx()}`};function Vx(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function $x(e,t,n){if("function"!=typeof e)throw new Error(Lx(2));if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(Lx(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(Lx(1));return n($x)(e,t)}let r=e,i=t,a=new Map,s=a,o=0,l=!1;function c(){s===a&&(s=new Map,a.forEach((e,t)=>{s.set(t,e)}))}function u(){if(l)throw new Error(Lx(3));return i}function d(e){if("function"!=typeof e)throw new Error(Lx(4));if(l)throw new Error(Lx(5));let t=!0;c();const n=o++;return s.set(n,e),function(){if(t){if(l)throw new Error(Lx(6));t=!1,c(),s.delete(n),a=null}}}function h(e){if(!Vx(e))throw new Error(Lx(7));if(void 0===e.type)throw new Error(Lx(8));if("string"!=typeof e.type)throw new Error(Lx(17));if(l)throw new Error(Lx(9));try{l=!0,i=r(i,e)}finally{l=!1}return(a=s).forEach(e=>{e()}),e}return h({type:Wx.INIT}),{dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw new Error(Lx(10));r=e,h({type:Wx.REPLACE})},[Fx]:function(){const e=d;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(Lx(11));function n(){const e=t;e.next&&e.next(u())}return n(),{unsubscribe:e(n)}},[Fx](){return this}}}}}function Kx(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const r=t[s];"function"==typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let i;try{!function(e){Object.keys(e).forEach(t=>{const n=e[t];if(void 0===n(void 0,{type:Wx.INIT}))throw new Error(Lx(12));if(void 0===n(void 0,{type:Wx.PROBE_UNKNOWN_ACTION()}))throw new Error(Lx(13))})}(n)}catch(a){i=a}return function(e={},t){if(i)throw i;let a=!1;const s={};for(let i=0;i<r.length;i++){const o=r[i],l=n[o],c=e[o],u=l(c,t);if(void 0===u)throw t&&t.type,new Error(Lx(14));s[o]=u,a=a||u!==c}return a=a||r.length!==Object.keys(e).length,a?s:e}}function Hx(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,t)=>(...n)=>e(t(...n)))}function Ux(e){return Vx(e)&&"type"in e&&"string"==typeof e.type}var Yx=Symbol.for("immer-nothing"),qx=Symbol.for("immer-draftable"),Gx=Symbol.for("immer-state");function Xx(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Qx=Object.getPrototypeOf;function Zx(e){return!!e&&!!e[Gx]}function Jx(e){var t;return!!e&&(tb(e)||Array.isArray(e)||!!e[qx]||!!(null==(t=e.constructor)?void 0:t[qx])||sb(e)||ob(e))}var eb=Object.prototype.constructor.toString();function tb(e){if(!e||"object"!=typeof e)return!1;const t=Qx(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===eb}function nb(e,t){0===rb(e)?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function rb(e){const t=e[Gx];return t?t.type_:Array.isArray(e)?1:sb(e)?2:ob(e)?3:0}function ib(e,t){return 2===rb(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ab(e,t,n){const r=rb(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function sb(e){return e instanceof Map}function ob(e){return e instanceof Set}function lb(e){return e.copy_||e.base_}function cb(e,t){if(sb(e))return new Map(e);if(ob(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=tb(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[Gx];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Qx(e),t)}{const t=Qx(e);if(null!==t&&n)return h({},e);const r=Object.create(t);return Object.assign(r,e)}}function ub(e,t=!1){return hb(e)||Zx(e)||!Jx(e)||(rb(e)>1&&(e.set=e.add=e.clear=e.delete=db),Object.freeze(e),t&&Object.entries(e).forEach(([e,t])=>ub(t,!0))),e}function db(){Xx(2)}function hb(e){return Object.isFrozen(e)}var fb,mb={};function pb(e){const t=mb[e];return t||Xx(0),t}function gb(){return fb}function vb(e,t){t&&(pb("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function yb(e){xb(e),e.drafts_.forEach(wb),e.drafts_=null}function xb(e){e===fb&&(fb=e.parent_)}function bb(e){return fb={drafts_:[],parent_:fb,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function wb(e){const t=e[Gx];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function _b(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[Gx].modified_&&(yb(t),Xx(4)),Jx(e)&&(e=jb(t,e),t.parent_||Nb(t,e)),t.patches_&&pb("Patches").generateReplacementPatches_(n[Gx].base_,e,t.patches_,t.inversePatches_)):e=jb(t,n,[]),yb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Yx?e:void 0}function jb(e,t,n){if(hb(t))return t;const r=t[Gx];if(!r)return nb(t,(i,a)=>kb(e,r,t,i,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Nb(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,a=!1;3===r.type_&&(i=new Set(t),t.clear(),a=!0),nb(i,(i,s)=>kb(e,r,t,i,s,n,a)),Nb(e,t,!1),n&&e.patches_&&pb("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function kb(e,t,n,r,i,a,s){if(Zx(i)){const s=jb(e,i,a&&t&&3!==t.type_&&!ib(t.assigned_,r)?a.concat(r):void 0);if(ab(n,r,s),!Zx(s))return;e.canAutoFreeze_=!1}else s&&n.add(i);if(Jx(i)&&!hb(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;jb(e,i),t&&t.scope_.parent_||"symbol"==typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||Nb(e,i)}}function Nb(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ub(t,n)}var Sb={get(e,t){if(t===Gx)return e;const n=lb(e);if(!ib(n,t))return function(e,t,n){var r;const i=Pb(t,n);return i?"value"in i?i.value:null==(r=i.get)?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!Jx(r)?r:r===Eb(e.base_,t)?(Ob(e),e.copy_[t]=Ab(r,e)):r},has:(e,t)=>t in lb(e),ownKeys:e=>Reflect.ownKeys(lb(e)),set(e,t,n){const r=Pb(lb(e),t);if(null==r?void 0:r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=Eb(lb(e),t),s=null==r?void 0:r[Gx];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((i=n)===(a=r)?0!==i||1/i==1/a:i!=i&&a!=a)&&(void 0!==n||ib(e.base_,t)))return!0;Ob(e),Mb(e)}var i,a;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Eb(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Ob(e),Mb(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=lb(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){Xx(11)},getPrototypeOf:e=>Qx(e.base_),setPrototypeOf(){Xx(12)}},Cb={};function Eb(e,t){const n=e[Gx];return(n?lb(n):e)[t]}function Pb(e,t){if(!(t in e))return;let n=Qx(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=Qx(n)}}function Mb(e){e.modified_||(e.modified_=!0,e.parent_&&Mb(e.parent_))}function Ob(e){e.copy_||(e.copy_=cb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function Ab(e,t){const n=sb(e)?pb("MapSet").proxyMap_(e,t):ob(e)?pb("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:gb(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=Sb;n&&(i=[r],a=Cb);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}(e,t);return(t?t.scope_:gb()).drafts_.push(n),n}function Tb(e){return Zx(e)||Xx(10),Db(e)}function Db(e){if(!Jx(e)||hb(e))return e;const t=e[Gx];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=cb(e,t.scope_.immer_.useStrictShallowCopy_)}else n=cb(e,!0);return nb(n,(e,t)=>{ab(n,e,Db(t))}),t&&(t.finalized_=!1),n}nb(Sb,(e,t)=>{Cb[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Cb.deleteProperty=function(e,t){return Cb.set.call(this,e,t,void 0)},Cb.set=function(e,t,n){return Sb.set.call(this,e[0],t,n,e[0])};var Rb=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"==typeof e&&"function"!=typeof t){const n=t;t=e;const r=this;return function(e=n,...i){return r.produce(e,e=>t.call(this,e,...i))}}let r;if("function"!=typeof t&&Xx(6),void 0!==n&&"function"!=typeof n&&Xx(7),Jx(e)){const i=bb(this),a=Ab(e,void 0);let s=!0;try{r=t(a),s=!1}finally{s?yb(i):xb(i)}return vb(i,n),_b(r,i)}if(!e||"object"!=typeof e){if(r=t(e),void 0===r&&(r=e),r===Yx&&(r=void 0),this.autoFreeze_&&ub(r,!0),n){const t=[],i=[];pb("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}Xx(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...n)=>this.produceWithPatches(t,t=>e(t,...n));let n,r;return[this.produce(e,t,(e,t)=>{n=e,r=t}),n,r]},"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof(null==e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Jx(e)||Xx(8),Zx(e)&&(e=Tb(e));const t=bb(this),n=Ab(e,void 0);return n[Gx].isManual_=!0,xb(t),n}finishDraft(e,t){const n=e&&e[Gx];n&&n.isManual_||Xx(9);const{scope_:r}=n;return vb(r,t),_b(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=pb("Patches").applyPatches_;return Zx(e)?r(e,t):this.produce(e,e=>r(e,t))}},Ib=Rb.produce;function zb(e){return({dispatch:t,getState:n})=>r=>i=>"function"==typeof i?i(t,n,e):r(i)}Rb.produceWithPatches.bind(Rb),Rb.setAutoFreeze.bind(Rb),Rb.setUseStrictShallowCopy.bind(Rb),Rb.applyPatches.bind(Rb),Rb.createDraft.bind(Rb),Rb.finishDraft.bind(Rb);var Lb=zb(),Fb=zb,Bb="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?Hx:Hx.apply(null,arguments)};function Wb(e,t){function n(...n){if(t){let r=t(...n);if(!r)throw new Error(Dw(0));return h(h({type:e,payload:r.payload},"meta"in r&&{meta:r.meta}),"error"in r&&{error:r.error})}return{type:e,payload:n[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=t=>Ux(t)&&t.type===e,n}var Vb=class e extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...e){return super.concat.apply(this,e)}prepend(...t){return 1===t.length&&Array.isArray(t[0])?new e(...t[0].concat(this)):new e(...t.concat(this))}};function $b(e){return Jx(e)?Ib(e,()=>{}):e}function Kb(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var Hb=e=>t=>{setTimeout(t,e)},Ub=e=>function(t){const{autoBatch:n=!0}=null!=t?t:{};let r=new Vb(e);return n&&r.push(((e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,s=!1;const o=new Set,l="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Hb(10):"callback"===e.type?e.queueNotification:Hb(e.timeout),c=()=>{s=!1,a&&(a=!1,o.forEach(e=>e()))};return Object.assign({},r,{subscribe(e){const t=r.subscribe(()=>i&&e());return o.add(e),()=>{t(),o.delete(e)}},dispatch(e){var t;try{return i=!(null==(t=null==e?void 0:e.meta)?void 0:t.RTK_autoBatch),a=!i,a&&(s||(s=!0,l(c))),r.dispatch(e)}finally{i=!0}}})})("object"==typeof n?n:void 0)),r};function Yb(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=null!=e?e:{};let a=new Vb;return t&&("boolean"==typeof t?a.push(Lb):a.push(Fb(t.extraArgument))),a},{reducer:n,middleware:r,devTools:i=!0,preloadedState:a,enhancers:s}=e||{};let o,l;if("function"==typeof n)o=n;else{if(!Vx(n))throw new Error(Dw(1));o=Kx(n)}l="function"==typeof r?r(t):t();let c=Hx;i&&(c=Bb(h({trace:!1},"object"==typeof i&&i)));const u=function(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(Lx(15))};const s={getState:i.getState,dispatch:(e,...t)=>a(e,...t)},o=e.map(e=>e(s));return a=Hx(...o)(i.dispatch),f(h({},i),{dispatch:a})}}(...l),d=Ub(u);return $x(o,a,c(..."function"==typeof s?s(d):d()))}function qb(e){const t={},n=[];let r;const i={addCase(e,n){const r="string"==typeof e?e:e.type;if(!r)throw new Error(Dw(28));if(r in t)throw new Error(Dw(29));return t[r]=n,i},addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(r=e,i)};return e(i),[t,n,r]}var Gb=(e=21)=>{let t="",n=e;for(;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},Xb=Symbol.for("rtk-slice-createasyncthunk");function Qb(e,t){return`${e}/${t}`}function Zb({creators:e}={}){var t;const n=null==(t=null==e?void 0:e.asyncThunk)?void 0:t[Xb];return function(e){const{name:t,reducerPath:r=t}=e;if(!t)throw new Error(Dw(11));const i=("function"==typeof e.reducers?e.reducers(function(){function e(e,t){return h({_reducerDefinitionType:"asyncThunk",payloadCreator:e},t)}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name]:(...t)=>e(...t)}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},a=Object.keys(i),s={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},o={addCase(e,t){const n="string"==typeof e?e:e.type;if(!n)throw new Error(Dw(12));if(n in s.sliceCaseReducersByType)throw new Error(Dw(13));return s.sliceCaseReducersByType[n]=t,o},addMatcher:(e,t)=>(s.sliceMatchers.push({matcher:e,reducer:t}),o),exposeAction:(e,t)=>(s.actionCreators[e]=t,o),exposeCaseReducer:(e,t)=>(s.sliceCaseReducersByName[e]=t,o)};function l(){const[t={},n=[],r]="function"==typeof e.extraReducers?qb(e.extraReducers):[e.extraReducers],i=h(h({},t),s.sliceCaseReducersByType);return function(e,t){let n,[r,i,a]=qb(t);if("function"==typeof e)n=()=>$b(e());else{const t=$b(e);n=()=>t}function s(e=n(),t){let s=[r[t.type],...i.filter(({matcher:e})=>e(t)).map(({reducer:e})=>e)];return 0===s.filter(e=>!!e).length&&(s=[a]),s.reduce((e,n)=>{if(n){if(Zx(e)){const r=n(e,t);return void 0===r?e:r}if(Jx(e))return Ib(e,e=>n(e,t));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e},e)}return s.getInitialState=n,s}(e.initialState,e=>{for(let t in i)e.addCase(t,i[t]);for(let t of s.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)})}a.forEach(r=>{const a=i[r],s={reducerName:r,type:Qb(t,r),createNotation:"function"==typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(a)?function({type:e,reducerName:t,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(r))throw new Error(Dw(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?Wb(e,s):Wb(e))}(s,a,o):function({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Dw(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:c,options:u}=n,d=i(e,a,u);r.exposeAction(t,d),s&&r.addCase(d.fulfilled,s),o&&r.addCase(d.pending,o),l&&r.addCase(d.rejected,l),c&&r.addMatcher(d.settled,c),r.exposeCaseReducer(t,{fulfilled:s||tw,pending:o||tw,rejected:l||tw,settled:c||tw})}(s,a,o,n)});const c=e=>e,u=new Map,d=new WeakMap;let p;function g(e,t){return p||(p=l()),p(e,t)}function v(){return p||(p=l()),p.getInitialState()}function y(t,n=!1){function r(e){let i=e[t];return void 0===i&&n&&(i=Kb(d,r,v)),i}function i(t=c){const r=Kb(u,n,()=>new WeakMap);return Kb(r,t,()=>{var r;const i={};for(const[a,s]of Object.entries(null!=(r=e.selectors)?r:{}))i[a]=Jb(s,t,()=>Kb(d,t,v),n);return i})}return{reducerPath:t,getSelectors:i,get selectors(){return i(r)},selectSlice:r}}const x=f(h({name:t,reducer:g,actions:s.actionCreators,caseReducers:s.sliceCaseReducersByName,getInitialState:v},y(r)),{injectInto(e,t={}){var n=t,{reducerPath:i}=n,a=m(n,["reducerPath"]);const s=null!=i?i:r;return e.inject({reducerPath:s,reducer:g},a),h(h({},x),y(s,!0))}});return x}}function Jb(e,t,n,r){function i(i,...a){let s=t(i);return void 0===s&&r&&(s=n()),e(s,...a)}return i.unwrapped=e,i}var ew=Zb();function tw(){}var nw="listener",rw="completed",iw="cancelled",aw=`task-${iw}`,sw=`task-${rw}`,ow=`${nw}-${iw}`,lw=`${nw}-${rw}`,cw=class{constructor(e){p(this,"name","TaskAbortError"),p(this,"message"),this.code=e,this.message=`task ${iw} (reason: ${e})`}},uw=(e,t)=>{if("function"!=typeof e)throw new TypeError(Dw(32))},dw=()=>{},hw=(e,t=dw)=>(e.catch(t),e),fw=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),mw=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},pw=e=>{if(e.aborted){const{reason:t}=e;throw new cw(t)}};function gw(e,t){let n=dw;return new Promise((r,i)=>{const a=()=>i(new cw(e.reason));e.aborted?a():(n=fw(e,a),t.finally(()=>n()).then(r,i))}).finally(()=>{n=dw})}var vw=e=>t=>hw(gw(e,t).then(t=>(pw(e),t))),yw=e=>{const t=vw(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:xw}=Object,bw={},ww="listenerMiddleware",_w=(e,t)=>(n,r)=>{uw(n);const i=new AbortController;var a;a=i,fw(e,()=>mw(a,e.reason));const s=(o=()=>g(null,null,function*(){pw(e),pw(i.signal);const t=yield n({pause:vw(i.signal),delay:yw(i.signal),signal:i.signal});return pw(i.signal),t}),l=()=>mw(i,sw),g(null,null,function*(){try{return yield Promise.resolve(),{status:"ok",value:yield o()}}catch(e){return{status:e instanceof cw?"cancelled":"rejected",error:e}}finally{null==l||l()}}));var o,l;return(null==r?void 0:r.autoJoin)&&t.push(s.catch(dw)),{result:vw(e)(s),cancel(){mw(i,aw)}}},jw=(e,t)=>(n,r)=>hw(((n,r)=>g(null,null,function*(){pw(t);let i=()=>{};const a=[new Promise((t,r)=>{let a=e({predicate:n,effect:(e,n)=>{n.unsubscribe(),t([e,n.getState(),n.getOriginalState()])}});i=()=>{a(),r()}})];null!=r&&a.push(new Promise(e=>setTimeout(e,r,null)));try{const e=yield gw(t,Promise.race(a));return pw(t),e}finally{i()}}))(n,r)),kw=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=Wb(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Dw(21));return uw(a),{predicate:i,type:t,effect:a}},Nw=xw(e=>{const{type:t,predicate:n,effect:r}=kw(e);return{id:Gb(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Dw(22))}}},{withTypes:()=>Nw}),Sw=(e,t)=>{const{type:n,effect:r,predicate:i}=kw(t);return Array.from(e.values()).find(e=>("string"==typeof n?e.type===n:e.predicate===i)&&e.effect===r)},Cw=e=>{e.pending.forEach(e=>{mw(e,ow)})},Ew=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},Pw=xw(Wb(`${ww}/add`),{withTypes:()=>Pw}),Mw=Wb(`${ww}/removeAll`),Ow=xw(Wb(`${ww}/remove`),{withTypes:()=>Ow}),Aw=(...e)=>{},Tw=(e={})=>{const t=new Map,{extra:n,onError:r=Aw}=e;uw(r);const i=e=>{var n;return(e=>(e.unsubscribe=()=>t.delete(e.id),t.set(e.id,e),t=>{e.unsubscribe(),(null==t?void 0:t.cancelActive)&&Cw(e)}))(null!=(n=Sw(t,e))?n:Nw(e))};xw(i,{withTypes:()=>i});const a=e=>{const n=Sw(t,e);return n&&(n.unsubscribe(),e.cancelActive&&Cw(n)),!!n};xw(a,{withTypes:()=>a});const s=(e,a,s,o)=>g(null,null,function*(){const l=new AbortController,c=jw(i,l.signal),u=[];try{e.pending.add(l),yield Promise.resolve(e.effect(a,xw({},s,{getOriginalState:o,condition:(e,t)=>c(e,t).then(Boolean),take:c,delay:yw(l.signal),pause:vw(l.signal),extra:n,signal:l.signal,fork:_w(l.signal,u),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,n)=>{e!==l&&(mw(e,ow),n.delete(e))})},cancel:()=>{mw(l,ow),e.pending.delete(l)},throwIfCancelled:()=>{pw(l.signal)}})))}catch(d){d instanceof cw||Ew(r,d,{raisedBy:"effect"})}finally{yield Promise.all(u),mw(l,lw),e.pending.delete(l)}}),o=(e=>()=>{e.forEach(Cw),e.clear()})(t);return{middleware:e=>n=>l=>{if(!Ux(l))return n(l);if(Pw.match(l))return i(l.payload);if(Mw.match(l))return void o();if(Ow.match(l))return a(l.payload);let c=e.getState();const u=()=>{if(c===bw)throw new Error(Dw(23));return c};let d;try{if(d=n(l),t.size>0){const n=e.getState(),i=Array.from(t.values());for(const t of i){let i=!1;try{i=t.predicate(l,n,c)}catch(h){i=!1,Ew(r,h,{raisedBy:"predicate"})}i&&s(t,l,e,u)}}}finally{c=bw}return d},startListening:i,stopListening:a,clearListeners:o}};function Dw(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Rw=ew({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:Iw,setLayout:zw,setChartSize:Lw,setScale:Fw}=Rw.actions,Bw=Rw.reducer;function Ww(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Vw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ww(Object(n),!0).forEach(function(t){$w(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ww(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $w(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kw=Math.PI/180,Hw=e=>180*e/Math.PI,Uw=(e,t,n,r)=>({x:e+Math.cos(-Kw*r)*n,y:t+Math.sin(-Kw*r)*n}),Yw=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},qw=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,s=((e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt(u(n-i,2)+u(r-a,2))})({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(n-i)/s,l=Math.acos(o);return r>a&&(l=2*Math.PI-l),{radius:s,angle:Hw(l),angleInRadian:l}},Gw=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360);return e+360*Math.min(i,a)},Xw=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:a}=qw({x:n,y:r},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o)return null;if(0===i)return null;var l,{startAngle:c,endAngle:u}=(e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-360*a,endAngle:n-360*a}})(t),d=a;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;l=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;l=d>=u&&d<=c}return l?Vw(Vw({},t),{},{radius:i,angle:Gw(d,t)}):null};function Qw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Zw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qw(Object(n),!0).forEach(function(t){Jw(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qw(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Jw(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e_(e,t,n){return nm(e)||nm(t)?n:qf(t)?Lf(e,t,n):"function"==typeof t?t(e):n}var t_=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,n_=(e,t,n,r)=>{if(r)return e.map(e=>e.coordinate);var i,a,s=e.map(e=>(e.coordinate===t&&(i=!0),e.coordinate===n&&(a=!0),e.coordinate));return i||s.push(t),a||s.push(n),s},r_=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:d,niceTicks:h,axisType:f}=e;if(!s)return null;var m="scaleBand"===o&&s.bandwidth?s.bandwidth()/2:2,p="category"===i&&s.bandwidth?s.bandwidth()/m:0;return p="angleAxis"===f&&a&&a.length>=2?2*Kf(a[0]-a[1])*p:p,d||h?(d||h||[]).map((e,t)=>{var n=r?r.indexOf(e):e;return{coordinate:s(n)+p,value:e,offset:p,index:t}}).filter(e=>!Hf(e.coordinate)):l&&c?c.map((e,t)=>({coordinate:s(e)+p,value:e,index:t,offset:p})):s.ticks&&null!=u?s.ticks(u).map((e,t)=>({coordinate:s(e)+p,value:e,offset:p,index:t})):s.domain().map((e,t)=>({coordinate:s(e)+p,value:r?r[e]:e,index:t,offset:p}))},i_=1e-4,a_={sign:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,s=0;s<t;++s){var o=Hf(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=i,e[s][n][1]=i+o,i=e[s][n][1]):(e[s][n][0]=a,e[s][n][1]=a+o,a=e[s][n][1])}},expand:$g,none:Lg,silhouette:Kg,wiggle:Hg,positive:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var s=Hf(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}}},s_=(e,t,n)=>{var r=a_[n];return Vg().keys(t).value((e,t)=>+e_(e,t,0)).order(Fg).offset(r)(e)};function o_(e){return null==e?void 0:String(e)}function l_(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=e;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!nm(i[t.dataKey])){var o=tm(n,"value",i[t.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=e_(i,nm(s)?t.dataKey:s);return nm(l)?null:t.scale(l)}var c_=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:a,index:s}=e;if("category"===t.type)return n[s]?n[s].coordinate+r:null;var o=e_(a,t.dataKey,t.scale.domain()[s]);return nm(o)?null:t.scale(o)-i/2+r},u_=(e,t,n)=>{var r;if(null!=e)return[(r=Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:s}=a,o=s.reduce((e,r)=>{var i,a,s=(i=r.slice(t,n+1),a=i.flat(2).filter(Yf),[Math.min(...a),Math.max(...a)]);return[Math.min(e[0],s[0]),Math.max(e[1],s[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))[0]===1/0?0:r[0],r[1]===-1/0?0:r[1]]},d_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,h_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,f_=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Dx(t,e=>e.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],c=i[s-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function m_(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Zw(Zw({},t),{},{dataKey:n,payload:r,value:i,name:a})}function p_(e,t){return e?String(e):"string"==typeof t?t:void 0}var g_=e=>e.layout.width,v_=e=>e.layout.height,y_=e=>e.layout.scale,x_=e=>e.layout.margin,b_=ux(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),w_=ux(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),__="data-recharts-item-index",j_="data-recharts-item-data-key";function k_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function N_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k_(Object(n),!0).forEach(function(t){S_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function S_(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C_=ux([g_,v_,x_,e=>e.brush.height,b_,w_,Rx,e=>e.legend.size],(e,t,n,r,i,a,s,o)=>{var l=a.reduce((e,t)=>{var{orientation:n}=t;if(!t.mirror&&!t.hide){var r="number"==typeof t.width?t.width:60;return N_(N_({},e),{},{[n]:e[n]+r})}return e},{left:n.left||0,right:n.right||0}),c=i.reduce((e,t)=>{var{orientation:n}=t;return t.mirror||t.hide?e:N_(N_({},e),{},{[n]:Lf(e,"".concat(n))+t.height})},{top:n.top||0,bottom:n.bottom||0}),u=N_(N_({},c),l),d=u.bottom;u.bottom+=r,u=((e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:o}=t;if(("vertical"===o||"horizontal"===o&&"middle"===s)&&"center"!==a&&Yf(e[a]))return Zw(Zw({},e),{},{[a]:e[a]+(r||0)});if(("horizontal"===o||"vertical"===o&&"center"===a)&&"middle"!==s&&Yf(e[s]))return Zw(Zw({},e),{},{[s]:e[s]+(i||0)})}return e})(u,s,o);var h=e-u.left-u.right,f=t-u.top-u.bottom;return N_(N_({brushBottom:d},u),{},{width:Math.max(h,0),height:Math.max(f,0)})}),E_=ux(C_,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),P_=ux(g_,v_,(e,t)=>({x:0,y:0,width:e,height:t})),M_=k.createContext(null),O_=()=>null!=k.useContext(M_),A_=e=>e.brush,T_=ux([A_,C_,x_],(e,t,n)=>({height:e.height,x:Yf(e.x)?e.x:t.left,y:Yf(e.y)?e.y:t.top+t.height+t.brushBottom-((null==n?void 0:n.bottom)||0),width:Yf(e.width)?e.width:t.width})),D_=()=>{var e,t=O_(),n=nx(E_),r=nx(T_),i=null===(e=nx(A_))||void 0===e?void 0:e.padding;return t&&r&&i?{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}:n},R_={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},I_=()=>{var e;return null!==(e=nx(C_))&&void 0!==e?e:R_},z_=()=>nx(g_),L_=()=>nx(v_),F_={top:0,right:0,bottom:0,left:0},B_=e=>e.layout.layoutType,W_=()=>nx(B_),V_=ew({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=Tb(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:$_,setLegendSettings:K_,addLegendPayload:H_,removeLegendPayload:U_}=V_.actions,Y_=V_.reducer,q_=["contextPayload"];function G_(){return G_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G_.apply(null,arguments)}function X_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Q_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X_(Object(n),!0).forEach(function(t){Z_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Z_(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J_(e){return e.value}function ej(e){var{contextPayload:t}=e,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,q_),r=Fy(t,e.payloadUniqBy,J_),i=Q_(Q_({},n),{},{payload:r});return k.isValidElement(e.content)?k.cloneElement(e.content,i):"function"==typeof e.content?k.createElement(e.content,i):k.createElement(lv,i)}function tj(e){var t=Zy();return k.useEffect(()=>{t(K_(e))},[t,e]),null}function nj(e){var t=Zy();return k.useEffect(()=>(t($_(e)),()=>{t($_({width:0,height:0}))}),[t,e]),null}function rj(e){var t,n=nx(Ix),r=k.useContext(jm),i=null!==(t=nx(e=>e.layout.margin))&&void 0!==t?t:F_,{width:a,height:s,wrapperStyle:o,portal:l}=e,[c,u]=zx([n]),d=z_(),h=L_(),f=d-(i.left||0)-(i.right||0),m=ij.getWidthOrHeight(e.layout,s,a,f),p=l?o:Q_(Q_({position:"absolute",width:(null==m?void 0:m.width)||a||"auto",height:(null==m?void 0:m.height)||s||"auto"},function(e,t,n,r,i,a){var s,o,{layout:l,align:c,verticalAlign:u}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(s="center"===c&&"vertical"===l?{left:((r||0)-a.width)/2}:"right"===c?{right:n&&n.right||0}:{left:n&&n.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(o="middle"===u?{top:((i||0)-a.height)/2}:"bottom"===u?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Q_(Q_({},s),o)}(o,e,i,d,h,c)),o),g=null!=l?l:r;if(null==g)return null;var v=k.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:u},k.createElement(tj,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),k.createElement(nj,{width:c.width,height:c.height}),k.createElement(ej,G_({},e,m,{margin:i,chartWidth:d,chartHeight:h,contextPayload:n})));return on.createPortal(v,g)}class ij extends k.PureComponent{static getWidthOrHeight(e,t,n,r){return"vertical"===e&&Yf(t)?{height:t}:"horizontal"===e?{width:n||r}:null}render(){return k.createElement(rj,this.props)}}function aj(){return aj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aj.apply(null,arguments)}function sj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sj(Object(n),!0).forEach(function(t){lj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function lj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cj(e){return Array.isArray(e)&&qf(e[0])&&qf(e[1])?e.join(" ~ "):e}Z_(ij,"displayName","Legend"),Z_(ij,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});var uj=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:c,label:u,labelFormatter:d,accessibilityLayer:h=!1}=e,f=oj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),m=oj({margin:0},i),p=!nm(u),g=p?u:"",v=Ke("recharts-default-tooltip",l),y=Ke("recharts-tooltip-label",c);p&&d&&null!=a&&(g=d(u,a));var x=h?{role:"status","aria-live":"assertive"}:{};return k.createElement("div",aj({className:v,style:f},x),k.createElement("p",{className:y,style:m},k.isValidElement(g)?g:"".concat(g)),(()=>{if(a&&a.length){var e=(o?Dx(a,o):a).map((e,n)=>{if("none"===e.type)return null;var i=e.formatter||s||cj,{value:o,name:l}=e,c=o,u=l;if(i){var d=i(o,l,e,n,a);if(Array.isArray(d))[c,u]=d;else{if(null==d)return null;c=d}}var h=oj({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},r);return k.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(n),style:h},qf(u)?k.createElement("span",{className:"recharts-tooltip-item-name"},u):null,qf(u)?k.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,k.createElement("span",{className:"recharts-tooltip-item-value"},c),k.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return k.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},dj="recharts-tooltip-wrapper",hj={visibility:"hidden"};function fj(e){var{coordinate:t,translateX:n,translateY:r}=e;return Ke(dj,{["".concat(dj,"-right")]:Yf(n)&&t&&Yf(t.x)&&n>=t.x,["".concat(dj,"-left")]:Yf(n)&&t&&Yf(t.x)&&n<t.x,["".concat(dj,"-bottom")]:Yf(r)&&t&&Yf(t.y)&&r>=t.y,["".concat(dj,"-top")]:Yf(r)&&t&&Yf(t.y)&&r<t.y})}function mj(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(a&&Yf(a[r]))return a[r];var u=n[r]-o-(i>0?i:0),d=n[r]+i;if(t[r])return s[r]?u:d;var h=l[r];return null==h?0:s[r]?u<h?Math.max(d,h):Math.max(u,h):null==c?0:d+o>h+c?Math.max(u,h):Math.max(d,h)}function pj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function gj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pj(Object(n),!0).forEach(function(t){vj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class yj extends k.PureComponent{constructor(){super(...arguments),vj(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),vj(this,"handleKeyDown",e=>{var t,n,r,i;"Escape"===e.key&&this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(t=null===(n=this.props.coordinate)||void 0===n?void 0:n.x)&&void 0!==t?t:0,y:null!==(r=null===(i=this.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==r?r:0}})})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}render(){var{active:e,allowEscapeViewBox:t,animationDuration:n,animationEasing:r,children:i,coordinate:a,hasPayload:s,isAnimationActive:o,offset:l,position:c,reverseDirection:u,useTranslate3d:d,viewBox:h,wrapperStyle:f,lastBoundingBox:m,innerRef:p,hasPortalFromProps:g}=this.props,{cssClasses:v,cssProperties:y}=function(e){var t,n,r,{allowEscapeViewBox:i,coordinate:a,offsetTopLeft:s,position:o,reverseDirection:l,tooltipBox:c,useTranslate3d:u,viewBox:d}=e;return t=c.height>0&&c.width>0&&a?function(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:n=mj({allowEscapeViewBox:i,coordinate:a,key:"x",offsetTopLeft:s,position:o,reverseDirection:l,tooltipDimension:c.width,viewBox:d,viewBoxDimension:d.width}),translateY:r=mj({allowEscapeViewBox:i,coordinate:a,key:"y",offsetTopLeft:s,position:o,reverseDirection:l,tooltipDimension:c.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:u}):hj,{cssProperties:t,cssClasses:fj({translateX:n,translateY:r,coordinate:a})}}({allowEscapeViewBox:t,coordinate:a,offsetTopLeft:l,position:c,reverseDirection:u,tooltipBox:{height:m.height,width:m.width},useTranslate3d:d,viewBox:h}),x=g?{}:gj(gj({transition:o&&e?"transform ".concat(n,"ms ").concat(r):void 0},y),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&s?"visible":"hidden",position:"absolute",top:0,left:0}),b=gj(gj({},x),{},{visibility:!this.state.dismissed&&e&&s?"visible":"hidden"},f);return k.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:b,ref:p},i)}}var xj=!("undefined"!=typeof window&&window.document&&Boolean(window.document.createElement)&&window.setTimeout),bj=()=>nx(e=>e.rootProps.accessibilityLayer);function wj(e){return Number.isFinite(e)}function _j(e){return"number"==typeof e&&e>0&&Number.isFinite(e)}function jj(){return jj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jj.apply(null,arguments)}function kj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Nj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kj(Object(n),!0).forEach(function(t){Sj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Sj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cj={curveBasisClosed:tg,curveBasisOpen:rg,curveBasis:Jp,curveBumpX:gp,curveBumpY:vp,curveLinearClosed:wg,curveLinear:ep,curveMonotoneX:Pg,curveMonotoneY:Mg,curveNatural:Tg,curveStep:Rg,curveStepAfter:zg,curveStepBefore:Ig},Ej=e=>wj(e.x)&&wj(e.y),Pj=e=>e.x,Mj=e=>e.y,Oj=e=>{var t,{type:n="linear",points:r=[],baseLine:i,layout:a,connectNulls:s=!1}=e,o=((e,t)=>{if("function"==typeof e)return e;var n="curve".concat(rm(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?Cj[n]||ep:Cj["".concat(n).concat("vertical"===t?"Y":"X")]})(n,a),l=s?r.filter(Ej):r;if(Array.isArray(i)){var c=s?i.filter(e=>Ej(e)):i,u=l.map((e,t)=>Nj(Nj({},e),{},{base:c[t]}));return(t="vertical"===a?ip().y(Mj).x1(Pj).x0(e=>e.base.x):ip().x(Pj).y1(Mj).y0(e=>e.base.y)).defined(Ej).curve(o),t(u)}return(t="vertical"===a&&Yf(i)?ip().y(Mj).x1(Pj).x0(i):Yf(i)?ip().x(Pj).y1(Mj).y0(i):rp().x(Pj).y(Mj)).defined(Ej).curve(o),t(l)},Aj=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if(!(n&&n.length||r))return null;var a=n&&n.length?Oj(e):r;return k.createElement("path",jj({},gm(e,!1),lm(e),{className:Ke("recharts-curve",t),d:null===a?void 0:a,ref:i}))},Tj=["x","y","top","left","width","height","className"];function Dj(){return Dj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dj.apply(null,arguments)}function Rj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ij(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zj=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),Lj=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:o}=e,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Tj),c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rj(Object(n),!0).forEach(function(t){Ij(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:t,y:n,top:r,left:i,width:a,height:s},l);return Yf(t)&&Yf(n)&&Yf(a)&&Yf(s)&&Yf(r)&&Yf(i)?k.createElement("path",Dj({},gm(c,!0),{className:Ke("recharts-cross",o),d:zj(t,n,a,s,r,i)})):null};function Fj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Bj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wj(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fj(Object(n),!0).forEach(function(t){Bj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e),r=t;return Object.keys(t).reduce((e,t)=>(void 0===e[t]&&void 0!==r[t]&&(e[t]=r[t]),e),n)}var Vj,$j,Kj={},Hj={},Uj={};function Yj(){return Vj||(Vj=1,e=Uj,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isPlainObject=function(e){if(!e||"object"!=typeof e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t))&&"[object Object]"===Object.prototype.toString.call(e)}),Uj;var e}function qj(){return $j||($j=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yj(),n=Zv(),r=ty(),i=iy(),a=Hv();function s(e,t,n,r,i,a,s){const l=s(e,t,n,r,i,a);if(void 0!==l)return l;if(typeof e==typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return e===t;case"number":return e===t||Object.is(e,t);case"object":return o(e,t,a,s)}return o(e,t,a,s)}function o(e,l,c,u){if(Object.is(e,l))return!0;let d=r.getTag(e),h=r.getTag(l);if(d===i.argumentsTag&&(d=i.objectTag),h===i.argumentsTag&&(h=i.objectTag),d!==h)return!1;switch(d){case i.stringTag:return e.toString()===l.toString();case i.numberTag:{const t=e.valueOf(),n=l.valueOf();return a.eq(t,n)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(e.valueOf(),l.valueOf());case i.regexpTag:return e.source===l.source&&e.flags===l.flags;case i.functionTag:return e===l}const f=(c=null!=c?c:new Map).get(e),m=c.get(l);if(null!=f&&null!=m)return f===l;c.set(e,l),c.set(l,e);try{switch(d){case i.mapTag:if(e.size!==l.size)return!1;for(const[t,n]of e.entries())if(!l.has(t)||!s(n,l.get(t),t,e,l,c,u))return!1;return!0;case i.setTag:{if(e.size!==l.size)return!1;const t=Array.from(e.values()),n=Array.from(l.values());for(let r=0;r<t.length;r++){const i=t[r],a=n.findIndex(t=>s(i,t,void 0,e,l,c,u));if(-1===a)return!1;n.splice(a,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:if("undefined"!=typeof Buffer&&Buffer.isBuffer(e)!==Buffer.isBuffer(l))return!1;if(e.length!==l.length)return!1;for(let t=0;t<e.length;t++)if(!s(e[t],l[t],t,e,l,c,u))return!1;return!0;case i.arrayBufferTag:return e.byteLength===l.byteLength&&o(new Uint8Array(e),new Uint8Array(l),c,u);case i.dataViewTag:return e.byteLength===l.byteLength&&e.byteOffset===l.byteOffset&&o(new Uint8Array(e),new Uint8Array(l),c,u);case i.errorTag:return e.name===l.name&&e.message===l.message;case i.objectTag:{if(!(o(e.constructor,l.constructor,c,u)||t.isPlainObject(e)&&t.isPlainObject(l)))return!1;const r=[...Object.keys(e),...n.getSymbols(e)],i=[...Object.keys(l),...n.getSymbols(l)];if(r.length!==i.length)return!1;for(let t=0;t<r.length;t++){const n=r[t],i=e[n];if(!Object.hasOwn(l,n))return!1;if(!s(i,l[n],n,e,l,c,u))return!1}return!0}default:return!1}}finally{c.delete(e),c.delete(l)}}e.isEqualWith=function(e,t,n){return s(e,t,void 0,void 0,void 0,void 0,n)}}(Hj)),Hj}var Gj,Xj,Qj,Zj,Jj={};function ek(){return Gj||(Gj=1,e=Jj,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.noop=function(){}),Jj;var e}function tk(){return Zj?Qj:(Zj=1,Qj=(Xj||(Xj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qj(),n=ek();e.isEqual=function(e,r){return t.isEqualWith(e,r,n.noop)}}(Kj)),Kj).isEqual)}const nk=i(tk());var rk=1e-4,ik=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],ak=(e,t)=>e.map((e,n)=>e*u(t,n)).reduce((e,t)=>e+t),sk=(e,t)=>n=>{var r=ik(e,t);return ak(r,n)},ok=function(){for(var e,t,n,r,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];if(1===a.length)switch(a[0]){case"linear":[e,n,t,r]=[0,0,1,1];break;case"ease":[e,n,t,r]=[.25,.1,.25,1];break;case"ease-in":[e,n,t,r]=[.42,0,1,1];break;case"ease-out":[e,n,t,r]=[.42,0,.58,1];break;case"ease-in-out":[e,n,t,r]=[0,0,.58,1];break;default:var o=a[0].split("(");"cubic-bezier"===o[0]&&4===o[1].split(")")[0].split(",").length&&([e,n,t,r]=o[1].split(")")[0].split(",").map(e=>parseFloat(e)))}else 4===a.length&&([e,n,t,r]=a);var l,c,u=sk(e,t),d=sk(n,r),h=(l=e,c=t,e=>{var t=[...ik(l,c).map((e,t)=>e*t).slice(1),0];return ak(t,e)}),f=e=>e>1?1:e<0?0:e,m=e=>{for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=u(n)-t,a=h(n);if(Math.abs(i-t)<rk||a<rk)return d(n);n=f(n-i/a)}return d(n)};return m.isStepper=!1,m},lk=e=>{if("string"==typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ok(e);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:n=8,dt:r=17}=e,i=(e,i,a)=>{var s=a+(-(e-i)*t-a*n)*r/1e3,o=a*r/1e3+e;return Math.abs(o-i)<rk&&Math.abs(s)<rk?[i,0]:[o,s]};return i.isStepper=!0,i.dt=r,i}();default:if("cubic-bezier"===e.split("(")[0])return ok(e)}return"function"==typeof e?e:null};function ck(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function uk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ck(Object(n),!0).forEach(function(t){dk(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ck(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function dk(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hk=(e,t)=>Object.keys(t).reduce((n,r)=>uk(uk({},n),{},{[r]:e(r,t[r])}),{});function fk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function mk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fk(Object(n),!0).forEach(function(t){pk(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fk(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pk(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gk=(e,t,n)=>e+(t-e)*n,vk=e=>{var{from:t,to:n}=e;return t!==n},yk=(e,t,n)=>{var r=hk((t,n)=>{if(vk(n)){var[r,i]=e(n.from,n.to,n.velocity);return mk(mk({},n),{},{from:r,velocity:i})}return n},t);return n<1?hk((e,t)=>vk(t)?mk(mk({},t),{},{velocity:gk(t.velocity,r[e].velocity,n),from:gk(t.from,r[e].from,n)}):t,t):yk(e,r,n-1)};function xk(e,t,n,r,i,a){var s,o=r.reduce((n,r)=>mk(mk({},n),{},{[r]:{from:e[r],velocity:0,to:t[r]}}),{}),l=null,c=r=>{s||(s=r);var u=(r-s)/n.dt;o=yk(n,o,u),i(mk(mk(mk({},e),t),hk((e,t)=>t.from,o))),s=r,Object.values(o).filter(vk).length&&(l=a.setTimeout(c))};return()=>(l=a.setTimeout(c),()=>{l()})}const bk=(e,t,n,r,i,a)=>{var s,o,l=(s=e,o=t,[Object.keys(s),Object.keys(o)].reduce((e,t)=>e.filter(e=>t.includes(e))));return!0===n.isStepper?xk(e,t,n,l,i,a):function(e,t,n,r,i,a,s){var o,l=null,c=i.reduce((n,r)=>mk(mk({},n),{},{[r]:[e[r],t[r]]}),{}),u=i=>{o||(o=i);var d=(i-o)/r,h=hk((e,t)=>gk(...t,n(d)),c);if(a(mk(mk(mk({},e),t),h)),d<1)l=s.setTimeout(u);else{var f=hk((e,t)=>gk(...t,n(1)),c);a(mk(mk(mk({},e),t),f))}};return()=>(l=s.setTimeout(u),()=>{l()})}(e,t,n,r,l,i,a)};class wk{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=performance.now(),r=null,i=a=>{a-n>=t?e(a):"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(i))};return r=requestAnimationFrame(i),()=>{cancelAnimationFrame(r)}}}var _k=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function jk(){return jk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jk.apply(null,arguments)}function kk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Nk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kk(Object(n),!0).forEach(function(t){Sk(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kk(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Sk(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ck(){return e=new wk,t=()=>null,n=!1,r=null,i=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,[o,...l]=s;return"number"==typeof o?void(r=e.setTimeout(i.bind(null,l),o)):(i(o),void(r=e.setTimeout(i.bind(null,l))))}"object"==typeof a&&t(a),"function"==typeof a&&a()}},{stop:()=>{n=!0},start:e=>{n=!1,r&&(r(),r=null),i(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e};var e,t,n,r,i}class Ek extends k.PureComponent{constructor(e,t){super(e,t),Sk(this,"mounted",!1),Sk(this,"manager",null),Sk(this,"stopJSAnimation",null),Sk(this,"unSubscribe",null);var{isActive:n,attributeName:r,from:i,to:a,children:s,duration:o,animationManager:l}=this.props;if(this.manager=l,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||o<=0)return this.state={style:{}},void("function"==typeof s&&(this.state={style:a}));if(i){if("function"==typeof s)return void(this.state={style:i});this.state={style:r?{[r]:i}:i}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:t}=this.props;this.mounted=!0,e&&t&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:t,canBegin:n,attributeName:r,shouldReAnimate:i,to:a,from:s}=this.props,{style:o}=this.state;if(n)if(t){if(!(nk(e.to,a)&&e.canBegin&&e.isActive)){var l=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var c=l||i?s:e.to;if(this.state&&o){var u={style:r?{[r]:c}:c};(r&&o[r]!==c||!r&&o!==c)&&this.setState(u)}this.runAnimation(Nk(Nk({},this.props),{},{from:c,begin:0}))}}else{var d={style:r?{[r]:a}:a};this.state&&o&&(r&&o[r]!==a||!r&&o!==a)&&this.setState(d)}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:t,to:n,duration:r,easing:i,begin:a,onAnimationEnd:s,onAnimationStart:o}=e,l=bk(t,n,lk(i),r,this.changeStyle,this.manager.getTimeoutController());this.manager.start([o,a,()=>{this.stopJSAnimation=l()},r,s])}runAnimation(e){var{begin:t,duration:n,attributeName:r,to:i,easing:a,onAnimationStart:s,onAnimationEnd:o,children:l}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),"function"!=typeof a&&"function"!=typeof l&&"spring"!==a){var c=r?{[r]:i}:i,u=((e,t,n)=>e.map(e=>{return"".concat((r=e,r.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())))," ").concat(t,"ms ").concat(n);var r}).join(","))(Object.keys(c),n,a);this.manager.start([s,t,Nk(Nk({},c),{},{transition:u}),n,o])}else this.runJSAnimation(e)}render(){var e=this.props,{children:t,begin:n,duration:r,attributeName:i,easing:a,isActive:s,from:o,to:l,canBegin:c,onAnimationEnd:u,shouldReAnimate:d,onAnimationReStart:h,animationManager:f}=e,m=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,_k),p=k.Children.count(t),g=this.state.style;if("function"==typeof t)return t(g);if(!s||0===p||r<=0)return t;var v=e=>{var{style:t={},className:n}=e.props;return k.cloneElement(e,Nk(Nk({},m),{},{style:Nk(Nk({},t),g),className:n}))};return 1===p?v(k.Children.only(t)):k.createElement("div",null,k.Children.map(t,e=>v(e)))}}Sk(Ek,"displayName","Animate"),Sk(Ek,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var Pk=k.createContext(null);function Mk(e){var t,n,r=k.useContext(Pk);return k.createElement(Ek,jk({},e,{animationManager:null!==(t=null!==(n=e.animationManager)&&void 0!==n?n:r)&&void 0!==t?t:Ck()}))}function Ok(){return Ok=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ok.apply(null,arguments)}var Ak=(e,t,n,r,i)=>{var a,s=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(s>0&&i instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=i[d]>s?s:i[d];a="M".concat(e,",").concat(t+o*u[0]),u[0]>0&&(a+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),a+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(a+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+o*u[1])),a+="L ".concat(e+n,",").concat(t+r-o*u[2]),u[2]>0&&(a+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),a+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(a+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-o*u[3])),a+="Z"}else if(s>0&&i===+i&&i>0){var h=Math.min(s,i);a="M ".concat(e,",").concat(t+o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+o*h,"\n            L ").concat(e+n,",").concat(t+r-o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-o*h," Z")}else a="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return a},Tk={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Dk=e=>{var t=Wj(e,Tk),n=k.useRef(null),[r,i]=k.useState(-1);k.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&i(e)}catch(t){}},[]);var{x:a,y:s,width:o,height:l,radius:c,className:u}=t,{animationEasing:d,animationDuration:h,animationBegin:f,isAnimationActive:m,isUpdateAnimationActive:p}=t;if(a!==+a||s!==+s||o!==+o||l!==+l||0===o||0===l)return null;var g=Ke("recharts-rectangle",u);return p?k.createElement(Mk,{canBegin:r>0,from:{width:o,height:l,x:a,y:s},to:{width:o,height:l,x:a,y:s},duration:h,animationEasing:d,isActive:p},e=>{var{width:i,height:a,x:s,y:o}=e;return k.createElement(Mk,{canBegin:r>0,from:"0px ".concat(-1===r?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:f,duration:h,isActive:m,easing:d},k.createElement("path",Ok({},gm(t,!0),{className:g,d:Ak(s,o,i,a,c),ref:n})))}):k.createElement("path",Ok({},gm(t,!0),{className:g,d:Ak(a,s,o,l,c)}))};function Rk(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e;return{points:[Uw(t,n,r,i),Uw(t,n,r,a)],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function Ik(){return Ik=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ik.apply(null,arguments)}var zk=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,c=o*(s?1:-1)+r,u=Math.asin(o/c)/Kw,d=l?i:i+a*u,h=l?i-a*u:i;return{center:Uw(t,n,c,d),circleTangency:Uw(t,n,r,d),lineTangency:Uw(t,n,c*Math.cos(u*Kw),h),theta:u}},Lk=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=e,o=((e,t)=>Kf(t-e)*Math.min(Math.abs(t-e),359.999))(a,s),l=a+o,c=Uw(t,n,i,a),u=Uw(t,n,i,l),d="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(o)>180),",").concat(+(a>l),",\n    ").concat(u.x,",").concat(u.y,"\n  ");if(r>0){var h=Uw(t,n,r,a),f=Uw(t,n,r,l);d+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(o)>180),",").concat(+(a<=l),",\n            ").concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(t,",").concat(n," Z");return d},Fk={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Bk=e=>{var t=Wj(e,Fk),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u,className:d}=t;if(a<i||c===u)return null;var h,f=Ke("recharts-sector",d),m=a-i,p=Qf(s,m,0,!0);return h=p>0&&Math.abs(c-u)<360?(e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:c}=e,u=Kf(c-l),{circleTangency:d,lineTangency:h,theta:f}=zk({cx:t,cy:n,radius:i,angle:l,sign:u,cornerRadius:a,cornerIsExternal:o}),{circleTangency:m,lineTangency:p,theta:g}=zk({cx:t,cy:n,radius:i,angle:c,sign:-u,cornerRadius:a,cornerIsExternal:o}),v=o?Math.abs(l-c):Math.abs(l-c)-f-g;if(v<0)return s?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*a,",0\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*-a,",0\n      "):Lk({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var y="M ".concat(h.x,",").concat(h.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(v>180),",").concat(+(u<0),",").concat(m.x,",").concat(m.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(p.x,",").concat(p.y,"\n  ");if(r>0){var{circleTangency:x,lineTangency:b,theta:w}=zk({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:_,lineTangency:j,theta:k}=zk({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),N=o?Math.abs(l-c):Math.abs(l-c)-w-k;if(N<0&&0===a)return"".concat(y,"L").concat(t,",").concat(n,"Z");y+="L".concat(j.x,",").concat(j.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(_.x,",").concat(_.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(N>180),",").concat(+(u>0),",").concat(x.x,",").concat(x.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(b.x,",").concat(b.y,"Z")}else y+="L".concat(t,",").concat(n,"Z");return y})({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(p,m/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}):Lk({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u}),k.createElement("path",Ik({},gm(t,!0),{className:f,d:h}))};function Wk(e,t,n){var r,i,a,s;if("horizontal"===e)a=r=t.x,i=n.top,s=n.top+n.height;else if("vertical"===e)s=i=t.y,r=n.left,a=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return Rk(t);var{cx:o,cy:l,innerRadius:c,outerRadius:u,angle:d}=t,h=Uw(o,l,c,d),f=Uw(o,l,u,d);r=h.x,i=h.y,a=f.x,s=f.y}return[{x:r,y:i},{x:a,y:s}]}var Vk,$k,Kk,Hk,Uk,Yk={},qk={},Gk={};function Xk(){return Vk||(Vk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wx();e.toNumber=function(e){return t.isSymbol(e)?NaN:Number(e)}}(Gk)),Gk}function Qk(){return $k||($k=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xk();e.toFinite=function(e){return e?(e=t.toNumber(e))===1/0||e===-1/0?(e<0?-1:1)*Number.MAX_VALUE:e==e?e:0:0===e?e:0}}(qk)),qk}function Zk(){return Uk?Hk:(Uk=1,Hk=(Kk||(Kk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ax(),n=Qk();e.range=function(e,r,i){i&&"number"!=typeof i&&t.isIterateeCall(e,r,i)&&(r=i=void 0),e=n.toFinite(e),void 0===r?(r=e,e=0):r=n.toFinite(r),i=void 0===i?e<r?1:-1:n.toFinite(i);const a=Math.max(Math.ceil((r-e)/(i||1)),0),s=new Array(a);for(let t=0;t<a;t++)s[t]=e,e+=i;return s}}(Yk)),Yk).range)}const Jk=i(Zk());function eN(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function tN(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function nN(e){let t,n,r;function i(e,r,i=0,a=e.length){if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<0?i=t+1:a=t}while(i<a)}return i}return 2!==e.length?(t=eN,n=(t,n)=>eN(e(t),n),r=(t,n)=>e(t)-n):(t=e===eN||e===tN?e:rN,n=e,r=e),{left:i,center:function(e,t,n=0,a=e.length){const s=i(e,t,n,a-1);return s>n&&r(e[s-1],t)>-r(e[s],t)?s-1:s},right:function(e,r,i=0,a=e.length){if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<=0?i=t+1:a=t}while(i<a)}return i}}}function rN(){return 0}function iN(e){return null===e?NaN:+e}const aN=nN(eN),sN=aN.right,oN=aN.left,lN=nN(iN).center,cN=dN(mN),uN=dN(function(e){const t=mN(e);return(e,n,r,i,a)=>{t(e,n,0+(r<<=2),0+(i<<=2),a<<=2),t(e,n,r+1,i+1,a),t(e,n,r+2,i+2,a),t(e,n,r+3,i+3,a)}});function dN(e){return function(t,n,r=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:i,width:a,height:s}=t;if(!((a=Math.floor(a))>=0))throw new RangeError("invalid width");if(!((s=Math.floor(void 0!==s?s:i.length/a))>=0))throw new RangeError("invalid height");if(!a||!s||!n&&!r)return t;const o=n&&e(n),l=r&&e(r),c=i.slice();return o&&l?(hN(o,c,i,a,s),hN(o,i,c,a,s),hN(o,c,i,a,s),fN(l,i,c,a,s),fN(l,c,i,a,s),fN(l,i,c,a,s)):o?(hN(o,i,c,a,s),hN(o,c,i,a,s),hN(o,i,c,a,s)):l&&(fN(l,i,c,a,s),fN(l,c,i,a,s),fN(l,i,c,a,s)),t}}function hN(e,t,n,r,i){for(let a=0,s=r*i;a<s;)e(t,n,a,a+=r,1)}function fN(e,t,n,r,i){for(let a=0,s=r*i;a<r;++a)e(t,n,a,a+s,r)}function mN(e){const t=Math.floor(e);if(t===e)return function(e){const t=2*e+1;return(n,r,i,a,s)=>{if(!((a-=s)>=i))return;let o=e*r[i];const l=s*e;for(let e=i,t=i+l;e<t;e+=s)o+=r[Math.min(a,e)];for(let e=i,c=a;e<=c;e+=s)o+=r[Math.min(a,e+l)],n[e]=o/t,o-=r[Math.max(i,e-l)]}}(e);const n=e-t,r=2*e+1;return(e,i,a,s,o)=>{if(!((s-=o)>=a))return;let l=t*i[a];const c=o*t,u=c+o;for(let t=a,n=a+c;t<n;t+=o)l+=i[Math.min(s,t)];for(let t=a,d=s;t<=d;t+=o)l+=i[Math.min(s,t+c)],e[t]=(l+n*(i[Math.max(a,t-u)]+i[Math.min(s,t+u)]))/r,l-=i[Math.max(a,t-c)]}}function pN(e,t){let n=0;if(void 0===t)for(let r of e)null!=r&&(r=+r)>=r&&++n;else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(i=+i)>=i&&++n}return n}function gN(e){return 0|e.length}function vN(e){return!(e>0)}function yN(e){return"object"!=typeof e||"length"in e?e:Array.from(e)}function xN(e,t){let n,r=0,i=0,a=0;if(void 0===t)for(let s of e)null!=s&&(s=+s)>=s&&(n=s-i,i+=n/++r,a+=n*(s-i));else{let s=-1;for(let o of e)null!=(o=t(o,++s,e))&&(o=+o)>=o&&(n=o-i,i+=n/++r,a+=n*(o-i))}if(r>1)return a/(r-1)}function bN(e,t){const n=xN(e,t);return n?Math.sqrt(n):n}function wN(e,t){let n,r;if(void 0===t)for(const i of e)null!=i&&(void 0===n?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of e)null!=(a=t(a,++i,e))&&(void 0===n?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class _N{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const t=this._partials;let n=0;for(let r=0;r<this._n&&r<32;r++){const i=t[r],a=e+i,s=Math.abs(e)<Math.abs(i)?e-(a-i):i-(a-e);s&&(t[n++]=s),e=a}return t[n]=e,this._n=n+1,this}valueOf(){const e=this._partials;let t,n,r,i=this._n,a=0;if(i>0){for(a=e[--i];i>0&&(t=a,n=e[--i],a=t+n,r=n-(a-t),!r););i>0&&(r<0&&e[i-1]<0||r>0&&e[i-1]>0)&&(n=2*r,t=a+n,n==t-a&&(a=t))}return a}}class jN extends Map{constructor(e,t=EN){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(NN(this,e))}has(e){return super.has(NN(this,e))}set(e,t){return super.set(SN(this,e),t)}delete(e){return super.delete(CN(this,e))}}class kN extends Set{constructor(e,t=EN){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const n of e)this.add(n)}has(e){return super.has(NN(this,e))}add(e){return super.add(SN(this,e))}delete(e){return super.delete(CN(this,e))}}function NN({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function SN({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function CN({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function EN(e){return null!==e&&"object"==typeof e?e.valueOf():e}function PN(e){return e}function MN(e,...t){return IN(e,PN,PN,t)}function ON(e,...t){return IN(e,Array.from,PN,t)}function AN(e,t){for(let n=1,r=t.length;n<r;++n)e=e.flatMap(e=>e.pop().map(([t,n])=>[...e,t,n]));return e}function TN(e,t,...n){return IN(e,PN,t,n)}function DN(e,t,...n){return IN(e,Array.from,t,n)}function RN(e){if(1!==e.length)throw new Error("duplicate key");return e[0]}function IN(e,t,n,r){return function e(i,a){if(a>=r.length)return n(i);const s=new jN,o=r[a++];let l=-1;for(const t of i){const e=o(t,++l,i),n=s.get(e);n?n.push(t):s.set(e,[t])}for(const[t,n]of s)s.set(t,e(n,a));return t(s)}(e,0)}function zN(e,t){return Array.from(t,t=>e[t])}function LN(e,...t){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&2!==n.length||t.length>1){const r=Uint32Array.from(e,(e,t)=>t);return t.length>1?(t=t.map(t=>e.map(t)),r.sort((e,n)=>{for(const r of t){const t=BN(r[e],r[n]);if(t)return t}})):(n=e.map(n),r.sort((e,t)=>BN(n[e],n[t]))),zN(e,r)}return e.sort(FN(n))}function FN(e=eN){if(e===eN)return BN;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function BN(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}var WN=Array.prototype.slice;function VN(e){return()=>e}const $N=Math.sqrt(50),KN=Math.sqrt(10),HN=Math.sqrt(2);function UN(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=$N?10:a>=KN?5:a>=HN?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=n&&n<2?UN(e,t,2*n):[o,l,c]}function YN(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,a,s]=r?UN(t,e,n):UN(e,t,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function qN(e,t,n){return UN(e=+e,t=+t,n=+n)[2]}function GN(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?qN(t,e,n):qN(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function XN(e,t,n){let r;for(;;){const i=qN(e,t,n);if(i===r||0===i||!isFinite(i))return[e,t];i>0?(e=Math.floor(e/i)*i,t=Math.ceil(t/i)*i):i<0&&(e=Math.ceil(e*i)/i,t=Math.floor(t*i)/i),r=i}}function QN(e){return Math.max(1,Math.ceil(Math.log(pN(e))/Math.LN2)+1)}function ZN(){var e=PN,t=wN,n=QN;function r(r){Array.isArray(r)||(r=Array.from(r));var i,a,s,o=r.length,l=new Array(o);for(i=0;i<o;++i)l[i]=e(r[i],i,r);var c=t(l),u=c[0],d=c[1],h=n(l,u,d);if(!Array.isArray(h)){const e=d,n=+h;if(t===wN&&([u,d]=XN(u,d,n)),(h=YN(u,d,n))[0]<=u&&(s=qN(u,d,n)),h[h.length-1]>=d)if(e>=d&&t===wN){const e=qN(u,d,n);isFinite(e)&&(e>0?d=(Math.floor(d/e)+1)*e:e<0&&(d=(Math.ceil(d*-e)+1)/-e))}else h.pop()}for(var f=h.length,m=0,p=f;h[m]<=u;)++m;for(;h[p-1]>d;)--p;(m||p<f)&&(h=h.slice(m,p),f=p-m);var g,v=new Array(f+1);for(i=0;i<=f;++i)(g=v[i]=[]).x0=i>0?h[i-1]:u,g.x1=i<f?h[i]:d;if(isFinite(s)){if(s>0)for(i=0;i<o;++i)null!=(a=l[i])&&u<=a&&a<=d&&v[Math.min(f,Math.floor((a-u)/s))].push(r[i]);else if(s<0)for(i=0;i<o;++i)if(null!=(a=l[i])&&u<=a&&a<=d){const e=Math.floor((u-a)*s);v[Math.min(f,e+(h[e]<=a))].push(r[i])}}else for(i=0;i<o;++i)null!=(a=l[i])&&u<=a&&a<=d&&v[sN(h,a,0,f)].push(r[i]);return v}return r.value=function(t){return arguments.length?(e="function"==typeof t?t:VN(t),r):e},r.domain=function(e){return arguments.length?(t="function"==typeof e?e:VN([e[0],e[1]]),r):t},r.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:VN(Array.isArray(e)?WN.call(e):e),r):n},r}function JN(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function eS(e,t){let n,r=-1,i=-1;if(void 0===t)for(const a of e)++i,null!=a&&(n<a||void 0===n&&a>=a)&&(n=a,r=i);else for(let a of e)null!=(a=t(a,++i,e))&&(n<a||void 0===n&&a>=a)&&(n=a,r=i);return r}function tS(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function nS(e,t){let n,r=-1,i=-1;if(void 0===t)for(const a of e)++i,null!=a&&(n>a||void 0===n&&a>=a)&&(n=a,r=i);else for(let a of e)null!=(a=t(a,++i,e))&&(n>a||void 0===n&&a>=a)&&(n=a,r=i);return r}function rS(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?BN:FN(i);r>n;){if(r-n>600){const a=r-n+1,s=t-n+1,o=Math.log(a),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(a-l)/a)*(s-a/2<0?-1:1);rS(e,t,Math.max(n,Math.floor(t-s*l/a+c)),Math.min(r,Math.floor(t+(a-s)*l/a+c)),i)}const a=e[t];let s=n,o=r;for(iS(e,n,t),i(e[r],a)>0&&iS(e,n,r);s<o;){for(iS(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}0===i(e[n],a)?iS(e,n,o):(++o,iS(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function iS(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function aS(e,t=eN){let n,r=!1;if(1===t.length){let i;for(const a of e){const e=t(a);(r?eN(e,i)>0:0===eN(e,e))&&(n=a,i=e,r=!0)}}else for(const i of e)(r?t(i,n)>0:0===t(i,i))&&(n=i,r=!0);return n}function sS(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return tS(e);if(t>=1)return JN(e);var r,i=(r-1)*t,a=Math.floor(i),s=JN(rS(e,a).subarray(0,a+1));return s+(tS(e.subarray(a+1))-s)*(i-a)}}function oS(e,t,n=iN){if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e);return s+(+n(e[a+1],a+1,e)-s)*(i-a)}}function lS(e,t,n=iN){if(!isNaN(t=+t)){if(r=Float64Array.from(e,(t,r)=>iN(n(e[r],r,e))),t<=0)return nS(r);if(t>=1)return eS(r);var r,i=Uint32Array.from(e,(e,t)=>t),a=r.length-1,s=Math.floor(a*t);return rS(i,s,0,a,(e,t)=>BN(r[e],r[t])),(s=aS(i.subarray(0,s+1),e=>r[e]))>=0?s:-1}}function cS(e){return Array.from(function*(e){for(const t of e)yield*y(t)}(e))}function uS(e,t){return[e,t]}function dS(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a}function hS(e,t=eN){if(1===t.length)return nS(e,t);let n,r=-1,i=-1;for(const a of e)++i,(r<0?0===t(a,a):t(a,n)<0)&&(n=a,r=i);return r}const fS=mS(Math.random);function mS(e){return function(t,n=0,r=t.length){let i=r-(n=+n);for(;i;){const r=e()*i--|0,a=t[i+n];t[i+n]=t[r+n],t[r+n]=a}return t}}function pS(e){if(!(i=e.length))return[];for(var t=-1,n=tS(e,gS),r=new Array(n);++t<n;)for(var i,a=-1,s=r[t]=new Array(i);++a<i;)s[a]=e[a][t];return r}function gS(e){return e.length}function vS(e){return e instanceof kN?e:new kN(e)}function yS(e,t){const n=e[Symbol.iterator](),r=new Set;for(const i of t){const e=xS(i);if(r.has(e))continue;let t,a;for(;({value:t,done:a}=n.next());){if(a)return!1;const n=xS(t);if(r.add(n),Object.is(e,n))break}}return!0}function xS(e){return null!==e&&"object"==typeof e?e.valueOf():e}function bS(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function wS(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const _S=Symbol("implicit");function jS(){var e=new jN,t=[],n=[],r=_S;function i(i){let a=e.get(i);if(void 0===a){if(r!==_S)return r;e.set(i,a=t.push(i)-1)}return n[a%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new jN;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return jS(t,n).unknown(r)},bS.apply(i,arguments),i}function kS(){var e,t,n=jS().unknown(void 0),r=n.domain,i=n.range,a=0,s=1,o=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=s<a,h=d?s:a,f=d?a:s;e=(f-h)/Math.max(1,n-l+2*c),o&&(e=Math.floor(e)),h+=(f-h-e*(n-l))*u,t=e*(1-l),o&&(h=Math.round(h),t=Math.round(t));var m=dS(n).map(function(t){return h+e*t});return i(d?m.reverse():m)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([a,s]=e,a=+a,s=+s,d()):[a,s]},n.rangeRound=function(e){return[a,s]=e,a=+a,s=+s,o=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(o=!!e,d()):o},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return kS(r(),[a,s]).round(o).paddingInner(l).paddingOuter(c).align(u)},bS.apply(d(),arguments)}function NS(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return NS(t())},e}function SS(){return NS(kS.apply(null,arguments).paddingInner(1))}function CS(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ES(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function PS(){}var MS=.7,OS=1/MS,AS="\\s*([+-]?\\d+)\\s*",TS="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",DS="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",RS=/^#([0-9a-f]{3,8})$/,IS=new RegExp(`^rgb\\(${AS},${AS},${AS}\\)$`),zS=new RegExp(`^rgb\\(${DS},${DS},${DS}\\)$`),LS=new RegExp(`^rgba\\(${AS},${AS},${AS},${TS}\\)$`),FS=new RegExp(`^rgba\\(${DS},${DS},${DS},${TS}\\)$`),BS=new RegExp(`^hsl\\(${TS},${DS},${DS}\\)$`),WS=new RegExp(`^hsla\\(${TS},${DS},${DS},${TS}\\)$`),VS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function $S(){return this.rgb().formatHex()}function KS(){return this.rgb().formatRgb()}function HS(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=RS.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?US(t):3===n?new XS(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?YS(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?YS(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=IS.exec(e))?new XS(t[1],t[2],t[3],1):(t=zS.exec(e))?new XS(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=LS.exec(e))?YS(t[1],t[2],t[3],t[4]):(t=FS.exec(e))?YS(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=BS.exec(e))?nC(t[1],t[2]/100,t[3]/100,1):(t=WS.exec(e))?nC(t[1],t[2]/100,t[3]/100,t[4]):VS.hasOwnProperty(e)?US(VS[e]):"transparent"===e?new XS(NaN,NaN,NaN,0):null}function US(e){return new XS(e>>16&255,e>>8&255,255&e,1)}function YS(e,t,n,r){return r<=0&&(e=t=n=NaN),new XS(e,t,n,r)}function qS(e){return e instanceof PS||(e=HS(e)),e?new XS((e=e.rgb()).r,e.g,e.b,e.opacity):new XS}function GS(e,t,n,r){return 1===arguments.length?qS(e):new XS(e,t,n,null==r?1:r)}function XS(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function QS(){return`#${tC(this.r)}${tC(this.g)}${tC(this.b)}`}function ZS(){const e=JS(this.opacity);return`${1===e?"rgb(":"rgba("}${eC(this.r)}, ${eC(this.g)}, ${eC(this.b)}${1===e?")":`, ${e})`}`}function JS(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function eC(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function tC(e){return((e=eC(e))<16?"0":"")+e.toString(16)}function nC(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new aC(e,t,n,r)}function rC(e){if(e instanceof aC)return new aC(e.h,e.s,e.l,e.opacity);if(e instanceof PS||(e=HS(e)),!e)return new aC;if(e instanceof aC)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(s=t===a?(n-r)/o+6*(n<r):n===a?(r-t)/o+2:(t-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new aC(s,o,l,e.opacity)}function iC(e,t,n,r){return 1===arguments.length?rC(e):new aC(e,t,n,null==r?1:r)}function aC(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function sC(e){return(e=(e||0)%360)<0?e+360:e}function oC(e){return Math.max(0,Math.min(1,e||0))}function lC(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}CS(PS,HS,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:$S,formatHex:$S,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return rC(this).formatHsl()},formatRgb:KS,toString:KS}),CS(XS,GS,ES(PS,{brighter(e){return e=null==e?OS:Math.pow(OS,e),new XS(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?MS:Math.pow(MS,e),new XS(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new XS(eC(this.r),eC(this.g),eC(this.b),JS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:QS,formatHex:QS,formatHex8:function(){return`#${tC(this.r)}${tC(this.g)}${tC(this.b)}${tC(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:ZS,toString:ZS})),CS(aC,iC,ES(PS,{brighter(e){return e=null==e?OS:Math.pow(OS,e),new aC(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?MS:Math.pow(MS,e),new aC(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new XS(lC(e>=240?e-240:e+120,i,r),lC(e,i,r),lC(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new aC(sC(this.h),oC(this.s),oC(this.l),JS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=JS(this.opacity);return`${1===e?"hsl(":"hsla("}${sC(this.h)}, ${100*oC(this.s)}%, ${100*oC(this.l)}%${1===e?")":`, ${e})`}`}}));const cC=Math.PI/180,uC=180/Math.PI,dC=.96422,hC=.82521,fC=4/29,mC=6/29,pC=3*mC*mC,gC=mC*mC*mC;function vC(e){if(e instanceof xC)return new xC(e.l,e.a,e.b,e.opacity);if(e instanceof SC)return CC(e);e instanceof XS||(e=qS(e));var t,n,r=jC(e.r),i=jC(e.g),a=jC(e.b),s=bC((.2225045*r+.7168786*i+.0606169*a)/1);return r===i&&i===a?t=n=s:(t=bC((.4360747*r+.3850649*i+.1430804*a)/dC),n=bC((.0139322*r+.0971045*i+.7141733*a)/hC)),new xC(116*s-16,500*(t-s),200*(s-n),e.opacity)}function yC(e,t,n,r){return 1===arguments.length?vC(e):new xC(e,t,n,null==r?1:r)}function xC(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function bC(e){return e>gC?Math.pow(e,1/3):e/pC+fC}function wC(e){return e>mC?e*e*e:pC*(e-fC)}function _C(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function jC(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function kC(e){if(e instanceof SC)return new SC(e.h,e.c,e.l,e.opacity);if(e instanceof xC||(e=vC(e)),0===e.a&&0===e.b)return new SC(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*uC;return new SC(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function NC(e,t,n,r){return 1===arguments.length?kC(e):new SC(e,t,n,null==r?1:r)}function SC(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function CC(e){if(isNaN(e.h))return new xC(e.l,0,0,e.opacity);var t=e.h*cC;return new xC(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}CS(xC,yC,ES(PS,{brighter(e){return new xC(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker(e){return new xC(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new XS(_C(3.1338561*(t=dC*wC(t))-1.6168667*(e=1*wC(e))-.4906146*(n=hC*wC(n))),_C(-.9787684*t+1.9161415*e+.033454*n),_C(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),CS(SC,NC,ES(PS,{brighter(e){return new SC(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker(e){return new SC(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb(){return CC(this).rgb()}}));var EC=-.14861,PC=1.78277,MC=-.29227,OC=-.90649,AC=1.97294,TC=AC*OC,DC=AC*PC,RC=PC*MC-OC*EC;function IC(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof zC)return new zC(e.h,e.s,e.l,e.opacity);e instanceof XS||(e=qS(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(RC*r+TC*t-DC*n)/(RC+TC-DC),a=r-i,s=(AC*(n-i)-MC*a)/OC,o=Math.sqrt(s*s+a*a)/(AC*i*(1-i)),l=o?Math.atan2(s,a)*uC-120:NaN;return new zC(l<0?l+360:l,o,i,e.opacity)}(e):new zC(e,t,n,null==r?1:r)}function zC(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function LC(e,t,n,r,i){var a=e*e,s=a*e;return((1-3*e+3*a-s)*t+(4-6*a+3*s)*n+(1+3*e+3*a-3*s)*r+s*i)/6}function FC(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],s=r>0?e[r-1]:2*i-a,o=r<t-1?e[r+2]:2*a-i;return LC((n-r/t)*t,s,i,a,o)}}function BC(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],s=e[(r+1)%t],o=e[(r+2)%t];return LC((n-r/t)*t,i,a,s,o)}}CS(zC,IC,ES(PS,{brighter(e){return e=null==e?OS:Math.pow(OS,e),new zC(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?MS:Math.pow(MS,e),new zC(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*cC,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new XS(255*(t+n*(EC*r+PC*i)),255*(t+n*(MC*r+OC*i)),255*(t+n*(AC*r)),this.opacity)}}));const WC=e=>()=>e;function VC(e,t){return function(n){return e+n*t}}function $C(e,t){var n=t-e;return n?VC(e,n>180||n<-180?n-360*Math.round(n/360):n):WC(isNaN(e)?t:e)}function KC(e){return 1===(e=+e)?HC:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):WC(isNaN(t)?n:t)}}function HC(e,t){var n=t-e;return n?VC(e,n):WC(isNaN(e)?t:e)}const UC=function e(t){var n=KC(t);function r(e,t){var r=n((e=GS(e)).r,(t=GS(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),s=HC(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=s(t),e+""}}return r.gamma=e,r}(1);function YC(e){return function(t){var n,r,i=t.length,a=new Array(i),s=new Array(i),o=new Array(i);for(n=0;n<i;++n)r=GS(t[n]),a[n]=r.r||0,s[n]=r.g||0,o[n]=r.b||0;return a=e(a),s=e(s),o=e(o),r.opacity=1,function(e){return r.r=a(e),r.g=s(e),r.b=o(e),r+""}}}var qC=YC(FC),GC=YC(BC);function XC(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}}function QC(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ZC(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,a=new Array(i),s=new Array(r);for(n=0;n<i;++n)a[n]=aE(e[n],t[n]);for(;n<r;++n)s[n]=t[n];return function(e){for(n=0;n<i;++n)s[n]=a[n](e);return s}}function JC(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function eE(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function tE(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=aE(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var nE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rE=new RegExp(nE.source,"g");function iE(e,t){var n,r,i,a=nE.lastIndex=rE.lastIndex=0,s=-1,o=[],l=[];for(e+="",t+="";(n=nE.exec(e))&&(r=rE.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(r=r[0])?o[s]?o[s]+=r:o[++s]=r:(o[++s]=null,l.push({i:s,x:eE(n,r)})),a=rE.lastIndex;return a<t.length&&(i=t.slice(a),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)o[(n=l[r]).i]=n.x(e);return o.join("")})}function aE(e,t){var n,r=typeof t;return null==t||"boolean"===r?WC(t):("number"===r?eE:"string"===r?(n=HS(t))?(t=n,UC):iE:t instanceof HS?UC:t instanceof Date?JC:QC(t)?XC:Array.isArray(t)?ZC:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?tE:eE)(e,t)}function sE(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var oE,lE=180/Math.PI,cE={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function uE(e,t,n,r,i,a){var s,o,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,l/=o),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*lE,skewX:Math.atan(l)*lE,scaleX:s,scaleY:o}}function dE(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(a,s){var o=[],l=[];return a=e(a),s=e(s),function(e,r,i,a,s,o){if(e!==i||r!==a){var l=s.push("translate(",null,t,null,n);o.push({i:l-4,x:eE(e,i)},{i:l-2,x:eE(r,a)})}else(i||a)&&s.push("translate("+i+t+a+n)}(a.translateX,a.translateY,s.translateX,s.translateY,o,l),function(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:eE(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(a.rotate,s.rotate,o,l),function(e,t,n,a){e!==t?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:eE(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(a.skewX,s.skewX,o,l),function(e,t,n,r,a,s){if(e!==n||t!==r){var o=a.push(i(a)+"scale(",null,",",null,")");s.push({i:o-4,x:eE(e,n)},{i:o-2,x:eE(t,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,s.scaleX,s.scaleY,o,l),a=s=null,function(e){for(var t,n=-1,r=l.length;++n<r;)o[(t=l[n]).i]=t.x(e);return o.join("")}}}var hE=dE(function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?cE:uE(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),fE=dE(function(e){return null==e?cE:(oE||(oE=document.createElementNS("http://www.w3.org/2000/svg","g")),oE.setAttribute("transform",e),(e=oE.transform.baseVal.consolidate())?uE((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):cE)},", ",")",")");function mE(e){return((e=Math.exp(e))+1/e)/2}const pE=function e(t,n,r){function i(e,i){var a,s,o=e[0],l=e[1],c=e[2],u=i[0],d=i[1],h=i[2],f=u-o,m=d-l,p=f*f+m*m;if(p<1e-12)s=Math.log(h/c)/t,a=function(e){return[o+e*f,l+e*m,c*Math.exp(t*e*s)]};else{var g=Math.sqrt(p),v=(h*h-c*c+r*p)/(2*c*n*g),y=(h*h-c*c-r*p)/(2*h*n*g),x=Math.log(Math.sqrt(v*v+1)-v),b=Math.log(Math.sqrt(y*y+1)-y);s=(b-x)/t,a=function(e){var r,i=e*s,a=mE(x),u=c/(n*g)*(a*(r=t*i+x,((r=Math.exp(2*r))-1)/(r+1))-function(e){return((e=Math.exp(e))-1/e)/2}(x));return[o+u*f,l+u*m,c*a/mE(t*i+x)]}}return a.duration=1e3*s*t/Math.SQRT2,a}return i.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},i}(Math.SQRT2,2,4);function gE(e){return function(t,n){var r=e((t=iC(t)).h,(n=iC(n)).h),i=HC(t.s,n.s),a=HC(t.l,n.l),s=HC(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=i(e),t.l=a(e),t.opacity=s(e),t+""}}}const vE=gE($C);var yE=gE(HC);function xE(e){return function(t,n){var r=e((t=NC(t)).h,(n=NC(n)).h),i=HC(t.c,n.c),a=HC(t.l,n.l),s=HC(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=i(e),t.l=a(e),t.opacity=s(e),t+""}}}const bE=xE($C);var wE=xE(HC);function _E(e){return function t(n){function r(t,r){var i=e((t=IC(t)).h,(r=IC(r)).h),a=HC(t.s,r.s),s=HC(t.l,r.l),o=HC(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=a(e),t.l=s(Math.pow(e,n)),t.opacity=o(e),t+""}}return n=+n,r.gamma=t,r}(1)}const jE=_E($C);var kE=_E(HC);function NE(e,t){void 0===t&&(t=e,e=aE);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return a[t](e-t)}}function SE(e){return+e}var CE=[0,1];function EE(e){return e}function PE(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function ME(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=PE(i,r),a=n(s,a)):(r=PE(r,i),a=n(a,s)),function(e){return a(r(e))}}function OE(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=PE(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(t){var n=sN(e,t,1,r)-1;return a[n](i[n](t))}}function AE(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function TE(){var e,t,n,r,i,a,s=CE,o=CE,l=aE,c=EE;function u(){var e=Math.min(s.length,o.length);return c!==EE&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(s[0],s[e-1])),r=e>2?OE:ME,i=a=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(s.map(e),o,l)))(e(c(t)))}return d.invert=function(n){return c(t((a||(a=r(o,s.map(e),eE)))(n)))},d.domain=function(e){return arguments.length?(s=Array.from(e,SE),u()):s.slice()},d.range=function(e){return arguments.length?(o=Array.from(e),u()):o.slice()},d.rangeRound=function(e){return o=Array.from(e),l=sE,u()},d.clamp=function(e){return arguments.length?(c=!!e||EE,u()):c!==EE},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function DE(){return TE()(EE,EE)}function RE(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function IE(e){return(e=RE(Math.abs(e)))?e[1]:NaN}var zE,LE=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function FE(e){if(!(t=LE.exec(e)))throw new Error("invalid format: "+e);var t;return new BE({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function BE(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function WE(e,t){var n=RE(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}FE.prototype=BE.prototype,BE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const VE={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>WE(100*e,t),r:WE,s:function(e,t){var n=RE(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(zE=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+RE(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function $E(e){return e}var KE,HE,UE,YE=Array.prototype.map,qE=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function GE(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?$E:(t=YE.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(e.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?$E:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(YE.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"−":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=FE(e)).fill,n=e.align,d=e.sign,h=e.symbol,f=e.zero,m=e.width,p=e.comma,g=e.precision,v=e.trim,y=e.type;"n"===y?(p=!0,y="g"):VE[y]||(void 0===g&&(g=12),v=!0,y="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var x="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===h?a:/[%p]/.test(y)?l:"",w=VE[y],_=/[defgprs%]/.test(y);function j(e){var i,a,l,h=x,j=b;if("c"===y)j=w(e)+j,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),g),v&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),k&&0===+e&&"+"!==d&&(k=!1),h=(k?"("===d?d:c:"-"===d||"("===d?"":d)+h,j=("s"===y?qE[8+zE/3]:"")+j+(k&&"("===d?")":""),_)for(i=-1,a=e.length;++i<a;)if(48>(l=e.charCodeAt(i))||l>57){j=(46===l?s+e.slice(i+1):e.slice(i))+j,e=e.slice(0,i);break}}p&&!f&&(e=r(e,1/0));var N=h.length+e.length+j.length,S=N<m?new Array(m-N+1).join(t):"";switch(p&&f&&(e=r(S+e,S.length?m-j.length:1/0),S=""),n){case"<":e=h+e+j+S;break;case"=":e=h+S+e+j;break;case"^":e=S.slice(0,N=S.length>>1)+h+e+j+S.slice(N);break;default:e=S+h+e+j}return o(e)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),j.toString=function(){return e+""},j}return{format:d,formatPrefix:function(e,t){var n=d(((e=FE(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(IE(t)/3))),i=Math.pow(10,-r),a=qE[8+r/3];return function(e){return n(i*e)+a}}}}function XE(e){return KE=GE(e),HE=KE.format,UE=KE.formatPrefix,KE}function QE(e){return Math.max(0,-IE(Math.abs(e)))}function ZE(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(IE(t)/3)))-IE(Math.abs(e)))}function JE(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,IE(t)-IE(e))+1}function eP(e,t,n,r){var i,a=GN(e,t,n);switch((r=FE(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=ZE(a,s))||(r.precision=i),UE(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=JE(a,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=QE(a))||(r.precision=i-2*("%"===r.type))}return HE(r)}function tP(e){var t=e.domain;return e.ticks=function(e){var n=t();return YN(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return eP(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,a=t(),s=0,o=a.length-1,l=a[s],c=a[o],u=10;for(c<l&&(i=l,l=c,c=i,i=s,s=o,o=i);u-- >0;){if((i=qN(l,c,n))===r)return a[s]=l,a[o]=c,t(a);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function nP(){var e=DE();return e.copy=function(){return AE(e,nP())},bS.apply(e,arguments),tP(e)}function rP(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,SE),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return rP(e).unknown(t)},e=arguments.length?Array.from(e,SE):[0,1],tP(n)}function iP(e,t){var n,r=0,i=(e=e.slice()).length-1,a=e[r],s=e[i];return s<a&&(n=r,r=i,i=n,n=a,a=s,s=n),e[r]=t.floor(a),e[i]=t.ceil(s),e}function aP(e){return Math.log(e)}function sP(e){return Math.exp(e)}function oP(e){return-Math.log(-e)}function lP(e){return-Math.exp(-e)}function cP(e){return isFinite(e)?+("1e"+e):e<0?0:e}function uP(e){return(t,n)=>-e(-t,n)}function dP(e){const t=e(aP,sP),n=t.domain;let r,i,a=10;function s(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(a),i=function(e){return 10===e?cP:e===Math.E?Math.exp:t=>Math.pow(e,t)}(a),n()[0]<0?(r=uP(r),i=uP(i),e(oP,lP)):e(aP,sP),t}return t.base=function(e){return arguments.length?(a=+e,s()):a},t.domain=function(e){return arguments.length?(n(e),s()):n()},t.ticks=e=>{const t=n();let s=t[0],o=t[t.length-1];const l=o<s;l&&([s,o]=[o,s]);let c,u,d=r(s),h=r(o);const f=null==e?10:+e;let m=[];if(!(a%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),s>0){for(;d<=h;++d)for(c=1;c<a;++c)if(u=d<0?c/i(-d):c*i(d),!(u<s)){if(u>o)break;m.push(u)}}else for(;d<=h;++d)for(c=a-1;c>=1;--c)if(u=d>0?c/i(-d):c*i(d),!(u<s)){if(u>o)break;m.push(u)}2*m.length<f&&(m=YN(s,o,f))}else m=YN(d,h,Math.min(h-d,f)).map(i);return l?m.reverse():m},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===a?"s":","),"function"!=typeof n&&(a%1||null!=(n=FE(n)).precision||(n.trim=!0),n=HE(n)),e===1/0)return n;const s=Math.max(1,a*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*a<a-.5&&(t*=a),t<=s?n(e):""}},t.nice=()=>n(iP(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function hP(){const e=dP(TE()).domain([1,10]);return e.copy=()=>AE(e,hP()).base(e.base()),bS.apply(e,arguments),e}function fP(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function mP(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function pP(e){var t=1,n=e(fP(t),mP(t));return n.constant=function(n){return arguments.length?e(fP(t=+n),mP(t)):t},tP(n)}function gP(){var e=pP(TE());return e.copy=function(){return AE(e,gP()).constant(e.constant())},bS.apply(e,arguments)}function vP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function yP(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function xP(e){return e<0?-e*e:e*e}function bP(e){var t=e(EE,EE),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(EE,EE):.5===n?e(yP,xP):e(vP(n),vP(1/n)):n},tP(t)}function wP(){var e=bP(TE());return e.copy=function(){return AE(e,wP()).exponent(e.exponent())},bS.apply(e,arguments),e}function _P(){return wP.apply(null,arguments).exponent(.5)}function jP(e){return Math.sign(e)*e*e}function kP(){var e,t=DE(),n=[0,1],r=!1;function i(n){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(i)?e:r?Math.round(i):i}return i.invert=function(e){return t.invert(jP(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,SE)).map(jP)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return kP(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},bS.apply(i,arguments),tP(i)}function NP(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=oS(t,e/i);return a}function a(t){return null==t||isNaN(t=+t)?e:n[sN(r,t)]}return a.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},a.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(eN),i()},a.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return r.slice()},a.copy=function(){return NP().domain(t).range(n).unknown(e)},bS.apply(a,arguments)}function SP(){var e,t=0,n=1,r=1,i=[.5],a=[0,1];function s(t){return null!=t&&t<=t?a[sN(i,t,0,r)]:e}function o(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return s}return s.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,o()):[t,n]},s.range=function(e){return arguments.length?(r=(a=Array.from(e)).length-1,o()):a.slice()},s.invertExtent=function(e){var s=a.indexOf(e);return s<0?[NaN,NaN]:s<1?[t,i[0]]:s>=r?[i[r-1],n]:[i[s-1],i[s]]},s.unknown=function(t){return arguments.length?(e=t,s):s},s.thresholds=function(){return i.slice()},s.copy=function(){return SP().domain([t,n]).range(a).unknown(e)},bS.apply(tP(s),arguments)}function CP(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[sN(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return CP().domain(t).range(n).unknown(e)},bS.apply(i,arguments)}XE({thousands:",",grouping:[3],currency:["$",""]});const EP=new Date,PP=new Date;function MP(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,a)=>{const s=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r&&a>0))return s;let o;do{s.push(o=new Date(+n)),t(n,a),e(n)}while(o<n&&n<r);return s},i.filter=n=>MP(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(i.count=(t,r)=>(EP.setTime(+t),PP.setTime(+r),e(EP),e(PP),Math.floor(n(EP,PP))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const OP=MP(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);OP.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?MP(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):OP:null);const AP=OP.range,TP=1e3,DP=6e4,RP=36e5,IP=864e5,zP=6048e5,LP=2592e6,FP=31536e6,BP=MP(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*TP)},(e,t)=>(t-e)/TP,e=>e.getUTCSeconds()),WP=BP.range,VP=MP(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*TP)},(e,t)=>{e.setTime(+e+t*DP)},(e,t)=>(t-e)/DP,e=>e.getMinutes()),$P=VP.range,KP=MP(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*DP)},(e,t)=>(t-e)/DP,e=>e.getUTCMinutes()),HP=KP.range,UP=MP(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*TP-e.getMinutes()*DP)},(e,t)=>{e.setTime(+e+t*RP)},(e,t)=>(t-e)/RP,e=>e.getHours()),YP=UP.range,qP=MP(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*RP)},(e,t)=>(t-e)/RP,e=>e.getUTCHours()),GP=qP.range,XP=MP(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*DP)/IP,e=>e.getDate()-1),QP=XP.range,ZP=MP(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/IP,e=>e.getUTCDate()-1),JP=ZP.range,eM=MP(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/IP,e=>Math.floor(e/IP)),tM=eM.range;function nM(e){return MP(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*DP)/zP)}const rM=nM(0),iM=nM(1),aM=nM(2),sM=nM(3),oM=nM(4),lM=nM(5),cM=nM(6),uM=rM.range,dM=iM.range,hM=aM.range,fM=sM.range,mM=oM.range,pM=lM.range,gM=cM.range;function vM(e){return MP(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/zP)}const yM=vM(0),xM=vM(1),bM=vM(2),wM=vM(3),_M=vM(4),jM=vM(5),kM=vM(6),NM=yM.range,SM=xM.range,CM=bM.range,EM=wM.range,PM=_M.range,MM=jM.range,OM=kM.range,AM=MP(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth()),TM=AM.range,DM=MP(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth()),RM=DM.range,IM=MP(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());IM.every=e=>isFinite(e=Math.floor(e))&&e>0?MP(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null;const zM=IM.range,LM=MP(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());LM.every=e=>isFinite(e=Math.floor(e))&&e>0?MP(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null;const FM=LM.range;function BM(e,t,n,r,i,a){const s=[[BP,1,TP],[BP,5,5e3],[BP,15,15e3],[BP,30,3e4],[a,1,DP],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,RP],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,IP],[r,2,1728e5],[n,1,zP],[t,1,LP],[t,3,7776e6],[e,1,FP]];function o(t,n,r){const i=Math.abs(n-t)/r,a=nN(([,,e])=>e).right(s,i);if(a===s.length)return e.every(GN(t/FP,n/FP,r));if(0===a)return OP.every(Math.max(GN(t,n,r),1));const[o,l]=s[i/s[a-1][2]<s[a][2]/i?a-1:a];return o.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"==typeof n.range?n:o(e,t,n),a=i?i.range(e,+t+1):[];return r?a.reverse():a},o]}const[WM,VM]=BM(LM,DM,yM,eM,qP,KP),[$M,KM]=BM(IM,AM,rM,XP,UP,VP);function HM(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function UM(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function YM(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function qM(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=sO(i),u=oO(i),d=sO(a),h=oO(a),f=sO(s),m=oO(s),p=sO(o),g=oO(o),v=sO(l),y=oO(l),x={a:function(e){return s[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return o[e.getMonth()]},c:null,d:EO,e:EO,f:TO,g:KO,G:UO,H:PO,I:MO,j:OO,L:AO,m:DO,M:RO,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:pA,s:gA,S:IO,u:zO,U:LO,V:BO,w:WO,W:VO,x:null,X:null,y:$O,Y:HO,Z:YO,"%":mA},b={a:function(e){return s[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return o[e.getUTCMonth()]},c:null,d:qO,e:qO,f:JO,g:uA,G:hA,H:GO,I:XO,j:QO,L:ZO,m:eA,M:tA,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:pA,s:gA,S:nA,u:rA,U:iA,V:sA,w:oA,W:lA,x:null,X:null,y:cA,Y:dA,Z:fA,"%":mA},w={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=m.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=p.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return k(e,t,n,r)},d:yO,e:yO,f:kO,g:mO,G:fO,H:bO,I:bO,j:xO,L:jO,m:vO,M:wO,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:gO,Q:SO,s:CO,S:_O,u:cO,U:uO,V:dO,w:lO,W:hO,x:function(e,t,r){return k(e,n,t,r)},X:function(e,t,n){return k(e,r,t,n)},y:mO,Y:fO,Z:pO,"%":NO};function _(e,t){return function(n){var r,i,a,s=[],o=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++o<c;)37===e.charCodeAt(o)&&(s.push(e.slice(l,o)),null!=(i=eO[r=e.charAt(++o)])?r=e.charAt(++o):i="e"===r?" ":"0",(a=t[r])&&(r=a(n,i)),s.push(r),l=o+1);return s.push(e.slice(l,o)),s.join("")}}function j(e,t){return function(n){var r,i,a=YM(1900,void 0,1);if(k(a,e,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=UM(YM(a.y,0,1))).getUTCDay(),r=i>4||0===i?xM.ceil(r):xM(r),r=ZP.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=HM(YM(a.y,0,1))).getDay(),r=i>4||0===i?iM.ceil(r):iM(r),r=XP.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?UM(YM(a.y,0,1)).getUTCDay():HM(YM(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,UM(a)):HM(a)}}function k(e,t,n,r){for(var i,a,s=0,o=t.length,l=n.length;s<o;){if(r>=l)return-1;if(37===(i=t.charCodeAt(s++))){if(i=t.charAt(s++),!(a=w[i in eO?t.charAt(s++):i])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return x.x=_(n,x),x.X=_(r,x),x.c=_(t,x),b.x=_(n,b),b.X=_(r,b),b.c=_(t,b),{format:function(e){var t=_(e+="",x);return t.toString=function(){return e},t},parse:function(e){var t=j(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=_(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=j(e+="",!0);return t.toString=function(){return e},t}}}var GM,XM,QM,ZM,JM,eO={"-":"",_:" ",0:"0"},tO=/^\s*\d+/,nO=/^%/,rO=/[\\^$*+?|[\]().{}]/g;function iO(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function aO(e){return e.replace(rO,"\\$&")}function sO(e){return new RegExp("^(?:"+e.map(aO).join("|")+")","i")}function oO(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function lO(e,t,n){var r=tO.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function cO(e,t,n){var r=tO.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function uO(e,t,n){var r=tO.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function dO(e,t,n){var r=tO.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function hO(e,t,n){var r=tO.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function fO(e,t,n){var r=tO.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function mO(e,t,n){var r=tO.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function pO(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function gO(e,t,n){var r=tO.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function vO(e,t,n){var r=tO.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function yO(e,t,n){var r=tO.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function xO(e,t,n){var r=tO.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function bO(e,t,n){var r=tO.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function wO(e,t,n){var r=tO.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function _O(e,t,n){var r=tO.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function jO(e,t,n){var r=tO.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function kO(e,t,n){var r=tO.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function NO(e,t,n){var r=nO.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function SO(e,t,n){var r=tO.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function CO(e,t,n){var r=tO.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function EO(e,t){return iO(e.getDate(),t,2)}function PO(e,t){return iO(e.getHours(),t,2)}function MO(e,t){return iO(e.getHours()%12||12,t,2)}function OO(e,t){return iO(1+XP.count(IM(e),e),t,3)}function AO(e,t){return iO(e.getMilliseconds(),t,3)}function TO(e,t){return AO(e,t)+"000"}function DO(e,t){return iO(e.getMonth()+1,t,2)}function RO(e,t){return iO(e.getMinutes(),t,2)}function IO(e,t){return iO(e.getSeconds(),t,2)}function zO(e){var t=e.getDay();return 0===t?7:t}function LO(e,t){return iO(rM.count(IM(e)-1,e),t,2)}function FO(e){var t=e.getDay();return t>=4||0===t?oM(e):oM.ceil(e)}function BO(e,t){return e=FO(e),iO(oM.count(IM(e),e)+(4===IM(e).getDay()),t,2)}function WO(e){return e.getDay()}function VO(e,t){return iO(iM.count(IM(e)-1,e),t,2)}function $O(e,t){return iO(e.getFullYear()%100,t,2)}function KO(e,t){return iO((e=FO(e)).getFullYear()%100,t,2)}function HO(e,t){return iO(e.getFullYear()%1e4,t,4)}function UO(e,t){var n=e.getDay();return iO((e=n>=4||0===n?oM(e):oM.ceil(e)).getFullYear()%1e4,t,4)}function YO(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+iO(t/60|0,"0",2)+iO(t%60,"0",2)}function qO(e,t){return iO(e.getUTCDate(),t,2)}function GO(e,t){return iO(e.getUTCHours(),t,2)}function XO(e,t){return iO(e.getUTCHours()%12||12,t,2)}function QO(e,t){return iO(1+ZP.count(LM(e),e),t,3)}function ZO(e,t){return iO(e.getUTCMilliseconds(),t,3)}function JO(e,t){return ZO(e,t)+"000"}function eA(e,t){return iO(e.getUTCMonth()+1,t,2)}function tA(e,t){return iO(e.getUTCMinutes(),t,2)}function nA(e,t){return iO(e.getUTCSeconds(),t,2)}function rA(e){var t=e.getUTCDay();return 0===t?7:t}function iA(e,t){return iO(yM.count(LM(e)-1,e),t,2)}function aA(e){var t=e.getUTCDay();return t>=4||0===t?_M(e):_M.ceil(e)}function sA(e,t){return e=aA(e),iO(_M.count(LM(e),e)+(4===LM(e).getUTCDay()),t,2)}function oA(e){return e.getUTCDay()}function lA(e,t){return iO(xM.count(LM(e)-1,e),t,2)}function cA(e,t){return iO(e.getUTCFullYear()%100,t,2)}function uA(e,t){return iO((e=aA(e)).getUTCFullYear()%100,t,2)}function dA(e,t){return iO(e.getUTCFullYear()%1e4,t,4)}function hA(e,t){var n=e.getUTCDay();return iO((e=n>=4||0===n?_M(e):_M.ceil(e)).getUTCFullYear()%1e4,t,4)}function fA(){return"+0000"}function mA(){return"%"}function pA(e){return+e}function gA(e){return Math.floor(+e/1e3)}function vA(e){return GM=qM(e),XM=GM.format,QM=GM.parse,ZM=GM.utcFormat,JM=GM.utcParse,GM}vA({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var yA="%Y-%m-%dT%H:%M:%S.%LZ",xA=Date.prototype.toISOString?function(e){return e.toISOString()}:ZM(yA),bA=+new Date("2000-01-01T00:00:00.000Z")?function(e){var t=new Date(e);return isNaN(t)?null:t}:JM(yA);function wA(e){return new Date(e)}function _A(e){return e instanceof Date?+e:+new Date(+e)}function jA(e,t,n,r,i,a,s,o,l,c){var u=DE(),d=u.invert,h=u.domain,f=c(".%L"),m=c(":%S"),p=c("%I:%M"),g=c("%I %p"),v=c("%a %d"),y=c("%b %d"),x=c("%B"),b=c("%Y");function w(e){return(l(e)<e?f:o(e)<e?m:s(e)<e?p:a(e)<e?g:r(e)<e?i(e)<e?v:y:n(e)<e?x:b)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,_A)):h().map(wA)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var n=h();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(iP(n,e)):u},u.copy=function(){return AE(u,jA(e,t,n,r,i,a,s,o,l,c))},u}function kA(){return bS.apply(jA($M,KM,IM,AM,rM,XP,UP,VP,BP,XM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function NA(){return bS.apply(jA(WM,VM,LM,DM,yM,ZP,qP,KP,BP,ZM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function SA(){var e,t,n,r,i,a=0,s=1,o=EE,l=!1;function c(t){return null==t||isNaN(t=+t)?i:o(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,o=e(n,r),c):[o(0),o(1)]}}return c.domain=function(i){return arguments.length?([a,s]=i,e=r(a=+a),t=r(s=+s),n=e===t?0:1/(t-e),c):[a,s]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(o=e,c):o},c.range=u(aE),c.rangeRound=u(sE),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(a),t=i(s),n=e===t?0:1/(t-e),c}}function CA(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function EA(){var e=tP(SA()(EE));return e.copy=function(){return CA(e,EA())},wS.apply(e,arguments)}function PA(){var e=dP(SA()).domain([1,10]);return e.copy=function(){return CA(e,PA()).base(e.base())},wS.apply(e,arguments)}function MA(){var e=pP(SA());return e.copy=function(){return CA(e,MA()).constant(e.constant())},wS.apply(e,arguments)}function OA(){var e=bP(SA());return e.copy=function(){return CA(e,OA()).exponent(e.exponent())},wS.apply(e,arguments)}function AA(){return OA.apply(null,arguments).exponent(.5)}function TA(){var e=[],t=EE;function n(n){if(null!=n&&!isNaN(n=+n))return t((sN(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(eN),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((n,r)=>t(r/(e.length-1)))},n.quantiles=function(t){return Array.from({length:t+1},(n,r)=>sS(e,r/t))},n.copy=function(){return TA(t).domain(e)},wS.apply(n,arguments)}function DA(){var e,t,n,r,i,a,s,o=0,l=.5,c=1,u=1,d=EE,h=!1;function f(e){return isNaN(e=+e)?s:(e=.5+((e=+a(e))-t)*(u*e<u*t?r:i),d(h?Math.max(0,Math.min(1,e)):e))}function m(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,d=NE(e,[n,r,i]),f):[d(0),d(.5),d(1)]}}return f.domain=function(s){return arguments.length?([o,l,c]=s,e=a(o=+o),t=a(l=+l),n=a(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f):[o,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=m(aE),f.rangeRound=m(sE),f.unknown=function(e){return arguments.length?(s=e,f):s},function(s){return a=s,e=s(o),t=s(l),n=s(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f}}function RA(){var e=tP(DA()(EE));return e.copy=function(){return CA(e,RA())},wS.apply(e,arguments)}function IA(){var e=dP(DA()).domain([.1,1,10]);return e.copy=function(){return CA(e,IA()).base(e.base())},wS.apply(e,arguments)}function zA(){var e=pP(DA());return e.copy=function(){return CA(e,zA()).constant(e.constant())},wS.apply(e,arguments)}function LA(){var e=bP(DA());return e.copy=function(){return CA(e,LA()).exponent(e.exponent())},wS.apply(e,arguments)}function FA(){return LA.apply(null,arguments).exponent(.5)}const BA=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:kS,scaleDiverging:RA,scaleDivergingLog:IA,scaleDivergingPow:LA,scaleDivergingSqrt:FA,scaleDivergingSymlog:zA,scaleIdentity:rP,scaleImplicit:_S,scaleLinear:nP,scaleLog:hP,scaleOrdinal:jS,scalePoint:SS,scalePow:wP,scaleQuantile:NP,scaleQuantize:SP,scaleRadial:kP,scaleSequential:EA,scaleSequentialLog:PA,scaleSequentialPow:OA,scaleSequentialQuantile:TA,scaleSequentialSqrt:AA,scaleSequentialSymlog:MA,scaleSqrt:_P,scaleSymlog:gP,scaleThreshold:CP,scaleTime:kA,scaleUtc:NA,tickFormat:eP},Symbol.toStringTag,{value:"Module"}));var WA=e=>e.chartData,VA=ux([WA],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),$A=(e,t,n,r)=>r?VA(e):WA(e);function KA(e){if(Array.isArray(e)&&2===e.length){var[t,n]=e;if(wj(t)&&wj(n))return!0}return!1}function HA(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}var UA,YA=1e9,qA=!0,GA="[DecimalError] ",XA=GA+"Invalid argument: ",QA=GA+"Exponent out of range: ",ZA=Math.floor,JA=Math.pow,eT=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,tT=1e7,nT=9007199254740991,rT=ZA(1286742750677284.5),iT={};function aT(e,t){var n,r,i,a,s,o,l,c,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),qA?pT(t,d):t;if(l=e.d,c=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i){for(a<0?(r=l,a=-a,o=c.length):(r=c,i=s,o=l.length),a>(o=(s=Math.ceil(d/7))>o?s+1:o+1)&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for((o=l.length)-(a=c.length)<0&&(a=o,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/tT|0,l[a]%=tT;for(n&&(l.unshift(n),++i),o=l.length;0==l[--o];)l.pop();return t.d=l,t.e=i,qA?pT(t,d):t}function sT(e,t,n){if(e!==~~e||e<t||e>n)throw Error(XA+e)}function oT(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(a+=hT(n)),a+=r;(n=7-(r=(s=e[t])+"").length)&&(a+=hT(n))}else if(0===s)return"0";for(;s%10==0;)s/=10;return a+s}iT.absoluteValue=iT.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},iT.comparedTo=iT.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(t=0,n=(r=a.d.length)<(i=e.d.length)?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1},iT.decimalPlaces=iT.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},iT.dividedBy=iT.div=function(e){return lT(this,new this.constructor(e))},iT.dividedToIntegerBy=iT.idiv=function(e){var t=this.constructor;return pT(lT(this,new t(e),0,1),t.precision)},iT.equals=iT.eq=function(e){return!this.cmp(e)},iT.exponent=function(){return uT(this)},iT.greaterThan=iT.gt=function(e){return this.cmp(e)>0},iT.greaterThanOrEqualTo=iT.gte=function(e){return this.cmp(e)>=0},iT.isInteger=iT.isint=function(){return this.e>this.d.length-2},iT.isNegative=iT.isneg=function(){return this.s<0},iT.isPositive=iT.ispos=function(){return this.s>0},iT.isZero=function(){return 0===this.s},iT.lessThan=iT.lt=function(e){return this.cmp(e)<0},iT.lessThanOrEqualTo=iT.lte=function(e){return this.cmp(e)<1},iT.logarithm=iT.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(UA))throw Error(GA+"NaN");if(n.s<1)throw Error(GA+(n.s?"NaN":"-Infinity"));return n.eq(UA)?new r(0):(qA=!1,t=lT(fT(n,a),fT(e,a),a),qA=!0,pT(t,i))},iT.minus=iT.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?gT(t,e):aT(t,(e.s=-e.s,e))},iT.modulo=iT.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(GA+"NaN");return n.s?(qA=!1,t=lT(n,e,0,1).times(e),qA=!0,n.minus(t)):pT(new r(n),i)},iT.naturalExponential=iT.exp=function(){return cT(this)},iT.naturalLogarithm=iT.ln=function(){return fT(this)},iT.negated=iT.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},iT.plus=iT.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?aT(t,e):gT(t,(e.s=-e.s,e))},iT.precision=iT.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(XA+e);if(t=uT(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},iT.squareRoot=iT.sqrt=function(){var e,t,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(GA+"NaN")}for(e=uT(o),qA=!1,0==(i=Math.sqrt(+o))||i==1/0?(((t=oT(o.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=ZA((e+1)/2)-(e<0||e%2),r=new l(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new l(i.toString()),i=s=(n=l.precision)+3;;)if(r=(a=r).plus(lT(o,a,s+2)).times(.5),oT(a.d).slice(0,s)===(t=oT(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&"4999"==t){if(pT(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if("9999"!=t)break;s+=4}return qA=!0,pT(r,n)},iT.times=iT.mul=function(e){var t,n,r,i,a,s,o,l,c,u=this,d=u.constructor,h=u.d,f=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,n=u.e+e.e,(l=h.length)<(c=f.length)&&(a=h,h=f,f=a,s=l,l=c,c=s),a=[],r=s=l+c;r--;)a.push(0);for(r=c;--r>=0;){for(t=0,i=l+r;i>r;)o=a[i]+f[r]*h[i-r-1]+t,a[i--]=o%tT|0,t=o/tT|0;a[i]=(a[i]+t)%tT|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,qA?pT(e,d.precision):e},iT.toDecimalPlaces=iT.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(sT(e,0,YA),void 0===t?t=r.rounding:sT(t,0,8),pT(n,e+uT(n)+1,t))},iT.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=vT(r,!0):(sT(e,0,YA),void 0===t?t=i.rounding:sT(t,0,8),n=vT(r=pT(new i(r),e+1,t),!0,e+1)),n},iT.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?vT(i):(sT(e,0,YA),void 0===t?t=a.rounding:sT(t,0,8),n=vT((r=pT(new a(i),e+uT(i)+1,t)).abs(),!1,e+uT(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},iT.toInteger=iT.toint=function(){var e=this,t=e.constructor;return pT(new t(e),uT(e)+1,t.rounding)},iT.toNumber=function(){return+this},iT.toPower=iT.pow=function(e){var t,n,r,i,a,s,o=this,l=o.constructor,c=+(e=new l(e));if(!e.s)return new l(UA);if(!(o=new l(o)).s){if(e.s<1)throw Error(GA+"Infinity");return o}if(o.eq(UA))return o;if(r=l.precision,e.eq(UA))return pT(o,r);if(s=(t=e.e)>=(n=e.d.length-1),a=o.s,s){if((n=c<0?-c:c)<=nT){for(i=new l(UA),t=Math.ceil(r/7+4),qA=!1;n%2&&yT((i=i.times(o)).d,t),0!==(n=ZA(n/2));)yT((o=o.times(o)).d,t);return qA=!0,e.s<0?new l(UA).div(i):pT(i,r)}}else if(a<0)throw Error(GA+"NaN");return a=a<0&&1&e.d[Math.max(t,n)]?-1:1,o.s=1,qA=!1,i=e.times(fT(o,r+12)),qA=!0,(i=cT(i)).s=a,i},iT.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?r=vT(i,(n=uT(i))<=a.toExpNeg||n>=a.toExpPos):(sT(e,1,YA),void 0===t?t=a.rounding:sT(t,0,8),r=vT(i=pT(new a(i),e,t),e<=(n=uT(i))||n<=a.toExpNeg,e)),r},iT.toSignificantDigits=iT.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(sT(e,1,YA),void 0===t?t=n.rounding:sT(t,0,8)),pT(new n(this),e,t)},iT.toString=iT.valueOf=iT.val=iT.toJSON=iT[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=uT(e),n=e.constructor;return vT(e,t<=n.toExpNeg||t>=n.toExpPos)};var lT=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%tT|0,r=n/tT|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,a;if(n!=r)a=n>r?1:-1;else for(i=a=0;i<n;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*tT+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,a,s){var o,l,c,u,d,h,f,m,p,g,v,y,x,b,w,_,j,k,N=r.constructor,S=r.s==i.s?1:-1,C=r.d,E=i.d;if(!r.s)return new N(r);if(!i.s)throw Error(GA+"Division by zero");for(l=r.e-i.e,j=E.length,w=C.length,m=(f=new N(S)).d=[],c=0;E[c]==(C[c]||0);)++c;if(E[c]>(C[c]||0)&&--l,(y=null==a?a=N.precision:s?a+(uT(r)-uT(i))+1:a)<0)return new N(0);if(y=y/7+2|0,c=0,1==j)for(u=0,E=E[0],y++;(c<w||u)&&y--;c++)x=u*tT+(C[c]||0),m[c]=x/E|0,u=x%E|0;else{for((u=tT/(E[0]+1)|0)>1&&(E=e(E,u),C=e(C,u),j=E.length,w=C.length),b=j,g=(p=C.slice(0,j)).length;g<j;)p[g++]=0;(k=E.slice()).unshift(0),_=E[0],E[1]>=tT/2&&++_;do{u=0,(o=t(E,p,j,g))<0?(v=p[0],j!=g&&(v=v*tT+(p[1]||0)),(u=v/_|0)>1?(u>=tT&&(u=tT-1),1==(o=t(d=e(E,u),p,h=d.length,g=p.length))&&(u--,n(d,j<h?k:E,h))):(0==u&&(o=u=1),d=E.slice()),(h=d.length)<g&&d.unshift(0),n(p,d,g),-1==o&&(o=t(E,p,j,g=p.length))<1&&(u++,n(p,j<g?k:E,g)),g=p.length):0===o&&(u++,p=[0]),m[c++]=u,o&&p[0]?p[g++]=C[b]||0:(p=[C[b]],g=1)}while((b++<w||void 0!==p[0])&&y--)}return m[0]||m.shift(),f.e=l,pT(f,s?a+uT(f)+1:a)}}();function cT(e,t){var n,r,i,a,s,o=0,l=0,c=e.constructor,u=c.precision;if(uT(e)>16)throw Error(QA+uT(e));if(!e.s)return new c(UA);for(qA=!1,s=u,a=new c(.03125);e.abs().gte(.1);)e=e.times(a),l+=5;for(s+=Math.log(JA(2,l))/Math.LN10*2+5|0,n=r=i=new c(UA),c.precision=s;;){if(r=pT(r.times(e),s),n=n.times(++o),oT((a=i.plus(lT(r,n,s))).d).slice(0,s)===oT(i.d).slice(0,s)){for(;l--;)i=pT(i.times(i),s);return c.precision=u,null==t?(qA=!0,pT(i,u)):i}i=a}}function uT(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function dT(e,t,n){if(t>e.LN10.sd())throw qA=!0,n&&(e.precision=n),Error(GA+"LN10 precision limit exceeded");return pT(new e(e.LN10),t)}function hT(e){for(var t="";e--;)t+="0";return t}function fT(e,t){var n,r,i,a,s,o,l,c,u,d=1,h=e,f=h.d,m=h.constructor,p=m.precision;if(h.s<1)throw Error(GA+(h.s?"NaN":"-Infinity"));if(h.eq(UA))return new m(0);if(null==t?(qA=!1,c=p):c=t,h.eq(10))return null==t&&(qA=!0),dT(m,c);if(c+=10,m.precision=c,r=(n=oT(f)).charAt(0),a=uT(h),!(Math.abs(a)<15e14))return l=dT(m,c+2,p).times(a+""),h=fT(new m(r+"."+n.slice(1)),c-10).plus(l),m.precision=p,null==t?(qA=!0,pT(h,p)):h;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=oT((h=h.times(e)).d)).charAt(0),d++;for(a=uT(h),r>1?(h=new m("0."+n),a++):h=new m(r+"."+n.slice(1)),o=s=h=lT(h.minus(UA),h.plus(UA),c),u=pT(h.times(h),c),i=3;;){if(s=pT(s.times(u),c),oT((l=o.plus(lT(s,new m(i),c))).d).slice(0,c)===oT(o.d).slice(0,c))return o=o.times(2),0!==a&&(o=o.plus(dT(m,c+2,p).times(a+""))),o=lT(o,new m(d),c),m.precision=p,null==t?(qA=!0,pT(o,p)):o;o=l,i+=2}}function mT(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=ZA(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),qA&&(e.e>rT||e.e<-rT))throw Error(QA+n)}else e.s=0,e.e=0,e.d=[0];return e}function pT(e,t,n){var r,i,a,s,o,l,c,u,d=e.d;for(s=1,a=d[0];a>=10;a/=10)s++;if((r=t-s)<0)r+=7,i=t,c=d[u=0];else{if((u=Math.ceil((r+1)/7))>=(a=d.length))return e;for(c=a=d[u],s=1;a>=10;a/=10)s++;i=(r%=7)-7+s}if(void 0!==n&&(o=c/(a=JA(10,s-i-1))%10|0,l=t<0||void 0!==d[u+1]||c%a,l=n<4?(o||l)&&(0==n||n==(e.s<0?3:2)):o>5||5==o&&(4==n||l||6==n&&(r>0?i>0?c/JA(10,s-i):0:d[u-1])%10&1||n==(e.s<0?8:7))),t<1||!d[0])return l?(a=uT(e),d.length=1,t=t-a-1,d[0]=JA(10,(7-t%7)%7),e.e=ZA(-t/7)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(0==r?(d.length=u,a=1,u--):(d.length=u+1,a=JA(10,7-r),d[u]=i>0?(c/JA(10,s-i)%JA(10,i)|0)*a:0),l)for(;;){if(0==u){(d[0]+=a)==tT&&(d[0]=1,++e.e);break}if(d[u]+=a,d[u]!=tT)break;d[u--]=0,a=1}for(r=d.length;0===d[--r];)d.pop();if(qA&&(e.e>rT||e.e<-rT))throw Error(QA+uT(e));return e}function gT(e,t){var n,r,i,a,s,o,l,c,u,d,h=e.constructor,f=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),qA?pT(t,f):t;if(l=e.d,d=t.d,r=t.e,c=e.e,l=l.slice(),s=c-r){for((u=s<0)?(n=l,s=-s,o=d.length):(n=d,r=c,o=l.length),s>(i=Math.max(Math.ceil(f/7),o)+2)&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for((u=(i=l.length)<(o=d.length))&&(o=i),i=0;i<o;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}s=0}for(u&&(n=l,l=d,d=n,t.s=-t.s),o=l.length,i=d.length-o;i>0;--i)l[o++]=0;for(i=d.length;i>s;){if(l[--i]<d[i]){for(a=i;a&&0===l[--a];)l[a]=tT-1;--l[a],l[i]+=tT}l[i]-=d[i]}for(;0===l[--o];)l.pop();for(;0===l[0];l.shift())--r;return l[0]?(t.d=l,t.e=r,qA?pT(t,f):t):new h(0)}function vT(e,t,n){var r,i=uT(e),a=oT(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+hT(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+hT(-i-1)+a,n&&(r=n-s)>0&&(a+=hT(r))):i>=s?(a+=hT(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+hT(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=hT(r))),e.s<0?"-"+a:a}function yT(e,t){if(e.length>t)return e.length=t,!0}function xT(e){if(!e||"object"!=typeof e)throw Error(GA+"Object expected");var t,n,r,i=["precision",1,YA,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(ZA(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(XA+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(XA+n+": "+r);this[n]=new this(r)}return this}var bT=function e(t){var n,r,i;function a(e){var t=this;if(!(t instanceof a))return new a(e);if(t.constructor=a,e instanceof a)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(XA+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):mT(t,e.toString())}if("string"!=typeof e)throw Error(XA+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!eT.test(e))throw Error(XA+e);mT(t,e)}if(a.prototype=iT,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e,a.config=a.set=xT,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return a.config(t),a}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});UA=new bT(1);const wT=bT;var _T=e=>e,jT={},kT=e=>e===jT,NT=e=>function t(){return 0===arguments.length||1===arguments.length&&kT(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},ST=(e,t)=>1===e?t:NT(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(e=>e!==jT).length;return a>=e?t(...r):ST(e-a,NT(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var a=r.map(e=>kT(e)?n.shift():e);return t(...a,...n)}))}),CT=e=>ST(e.length,e),ET=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},PT=CT((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)),MT=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),OT=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t&&i.every((e,n)=>{var r;return e===(null===(r=t)||void 0===r?void 0:r[n])})?n:(t=i,n=e(...i))}};function AT(e){return 0===e?1:Math.floor(new wT(e).abs().log(10).toNumber())+1}function TT(e,t,n){for(var r=new wT(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}CT((e,t,n)=>{var r=+e;return r+n*(+t-r)}),CT((e,t,n)=>{var r=t-+e;return(n-e)/(r=r||1/0)}),CT((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var DT=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},RT=(e,t,n)=>{if(e.lte(0))return new wT(0);var r=AT(e.toNumber()),i=new wT(10).pow(r),a=e.div(i),s=1!==r?.05:.1,o=new wT(Math.ceil(a.div(s).toNumber())).add(n).mul(s).mul(i);return new wT(t?o.toNumber():Math.ceil(o.toNumber()))},IT=(e,t,n)=>{var r=new wT(1),i=new wT(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new wT(10).pow(AT(e)-1),i=new wT(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new wT(Math.floor(e)))}else 0===e?i=new wT(Math.floor((t-1)/2)):n||(i=new wT(Math.floor(e)));var s=Math.floor((t-1)/2),o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return _T;var r=t.reverse(),i=r[0],a=r.slice(1);return function(){return a.reduce((e,t)=>t(e),i(...arguments))}}(PT(e=>i.add(new wT(e-s).mul(r)).toNumber()),ET);return o(0,t)},zT=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new wT(0),tickMin:new wT(0),tickMax:new wT(0)};var a,s=RT(new wT(t).sub(e).div(n-1),r,i);a=e<=0&&t>=0?new wT(0):(a=new wT(e).add(t).div(2)).sub(new wT(a).mod(s));var o=Math.ceil(a.sub(e).div(s).toNumber()),l=Math.ceil(new wT(t).sub(a).div(s).toNumber()),c=o+l+1;return c>n?zT(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,o=t>0?o:o+(n-c)),{step:s,tickMin:a.sub(new wT(o).mul(s)),tickMax:a.add(new wT(l).mul(s))})},LT=OT(function(e){var[t,n]=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(r,2),[s,o]=DT([t,n]);if(s===-1/0||o===1/0){var l=o===1/0?[s,...ET(0,r-1).map(()=>1/0)]:[...ET(0,r-1).map(()=>-1/0),o];return t>n?MT(l):l}if(s===o)return IT(s,r,i);var{step:c,tickMin:u,tickMax:d}=zT(s,o,a,i,0),h=TT(u,d.add(new wT(.1).mul(c)),c);return t>n?MT(h):h}),FT=OT(function(e,t){var[n,r]=e,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],[a,s]=DT([n,r]);if(a===-1/0||s===1/0)return[n,r];if(a===s)return[a];var o=Math.max(t,2),l=RT(new wT(s).sub(a).div(o-1),i,0),c=[...TT(new wT(a),new wT(s).sub(new wT(.99).mul(l)),l),s];return n>r?MT(c):c}),BT=e=>e.rootProps.maxBarSize,WT=e=>e.rootProps.barCategoryGap,VT=e=>e.rootProps.stackOffset,$T=e=>e.options.chartName,KT=e=>e.rootProps.syncId,HT=e=>e.rootProps.syncMethod,UT=e=>e.options.eventEmitter,YT=0,qT="auto",GT=!0,XT=!1,QT=!0,ZT=0,JT="auto",eD=!0,tD=5,nD=(e,t)=>{if(e&&t)return null!=e&&e.reversed?[t[1],t[0]]:t},rD={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:YT,includeHidden:!1,name:void 0,reversed:!1,scale:qT,tick:GT,tickCount:void 0,ticks:void 0,type:"category",unit:void 0},iD={allowDataOverflow:XT,allowDecimals:!1,allowDuplicatedCategory:QT,dataKey:void 0,domain:void 0,id:ZT,includeHidden:!1,name:void 0,reversed:!1,scale:JT,tick:eD,tickCount:tD,ticks:void 0,type:"number",unit:void 0},aD={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:YT,includeHidden:!1,name:void 0,reversed:!1,scale:qT,tick:GT,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},sD={allowDataOverflow:XT,allowDecimals:!1,allowDuplicatedCategory:QT,dataKey:void 0,domain:void 0,id:ZT,includeHidden:!1,name:void 0,reversed:!1,scale:JT,tick:eD,tickCount:tD,ticks:void 0,type:"category",unit:void 0},oD=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?aD:rD,lD=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?sD:iD,cD=e=>e.polarOptions,uD=ux([g_,v_,C_],Yw),dD=ux([cD,uD],(e,t)=>{if(null!=e)return Qf(e.innerRadius,t,0)}),hD=ux([cD,uD],(e,t)=>{if(null!=e)return Qf(e.outerRadius,t,.8*t)}),fD=ux([cD],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]});ux([oD,fD],nD);var mD=ux([uD,dD,hD],(e,t,n)=>{if(null!=e&&null!=t&&null!=n)return[t,n]});ux([lD,mD],nD);var pD=ux([B_,cD,dD,hD,g_,v_],(e,t,n,r,i,a)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=n&&null!=r){var{cx:s,cy:o,startAngle:l,endAngle:c}=t;return{cx:Qf(s,i,i/2),cy:Qf(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),gD=(e,t)=>t,vD=(e,t,n)=>n;function yD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function xD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yD(Object(n),!0).forEach(function(t){bD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function bD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wD=[0,"auto"],_D={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},jD=(e,t)=>{var n=e.cartesianAxis.xAxis[t];return null==n?_D:n},kD={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:wD,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},ND=(e,t)=>{var n=e.cartesianAxis.yAxis[t];return null==n?kD:n},SD={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},CD=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return null==n?SD:n},ED=(e,t,n)=>{switch(t){case"xAxis":return jD(e,n);case"yAxis":return ND(e,n);case"zAxis":return CD(e,n);case"angleAxis":return oD(e,n);case"radiusAxis":return lD(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},PD=(e,t,n)=>{switch(t){case"xAxis":return jD(e,n);case"yAxis":return ND(e,n);case"angleAxis":return oD(e,n);case"radiusAxis":return lD(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},MD=e=>e.graphicalItems.countOfBars>0;function OD(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var AD=e=>e.graphicalItems.cartesianItems,TD=ux([gD,vD],OD),DD=(e,t,n)=>e.filter(n).filter(e=>!0===(null==t?void 0:t.includeHidden)||!e.hide),RD=ux([AD,ED,TD],DD),ID=e=>e.filter(e=>void 0===e.stackId),zD=ux([RD],ID),LD=e=>e.map(e=>e.data).filter(Boolean).flat(1),FD=ux([RD],LD),BD=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},WD=ux([FD,$A],BD),VD=(e,t,n)=>null!=(null==t?void 0:t.dataKey)?e.map(e=>({value:e_(e,t.dataKey)})):n.length>0?n.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:e_(e,t)}))):e.map(e=>({value:e})),$D=ux([WD,ED,RD],VD);function KD(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function HD(e){return e.filter(e=>qf(e)||e instanceof Date).map(Number).filter(e=>!1===Hf(e))}function UD(e,t,n){return!n||"number"!=typeof t||Hf(t)?[]:n.length?HD(n.flatMap(n=>{var r,i,a=e_(e,n.dataKey);if(Array.isArray(a)?[r,i]=a:r=i=a,wj(r)&&wj(i))return[t-r,t+i]})):[]}var YD=(e,t,n)=>{var r=t.reduce((e,t)=>(null==t.stackId||(null==e[t.stackId]&&(e[t.stackId]=[]),e[t.stackId].push(t)),e),{});return Object.fromEntries(Object.entries(r).map(t=>{var[r,i]=t,a=i.map(e=>e.dataKey);return[r,{stackedData:s_(e,a,n),graphicalItems:i}]}))},qD=ux([WD,RD,VT],YD),GD=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:i}=t;if("zAxis"!==n){var a=u_(e,r,i);if(null==a||0!==a[0]||0!==a[1])return a}},XD=ux([qD,WA,gD],GD),QD=(e,t,n,r)=>n.length>0?e.flatMap(e=>n.flatMap(n=>{var i,a,s=null===(i=n.errorBars)||void 0===i?void 0:i.filter(e=>KD(r,e)),o=e_(e,null!==(a=t.dataKey)&&void 0!==a?a:n.dataKey);return{value:o,errorDomain:UD(e,o,s)}})).filter(Boolean):null!=(null==t?void 0:t.dataKey)?e.map(e=>({value:e_(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]})),ZD=ux(WD,ED,zD,gD,QD);function JD(e){var{value:t}=e;if(qf(t)||t instanceof Date)return t}var eR=e=>{var t;if(null==e||!("domain"in e))return wD;if(null!=e.domain)return e.domain;if(null!=e.ticks){if("number"===e.type){var n=HD(e.ticks);return[Math.min(...n),Math.max(...n)]}if("category"===e.type)return e.ticks.map(String)}return null!==(t=null==e?void 0:e.domain)&&void 0!==t?t:wD},tR=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);if(0!==r.length){var i=r.flat();return[Math.min(...i),Math.max(...i)]}},nR=e=>e.referenceElements.dots,rR=(e,t,n)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===n:e.yAxisId===n),iR=ux([nR,gD,vD],rR),aR=e=>e.referenceElements.areas,sR=ux([aR,gD,vD],rR),oR=e=>e.referenceElements.lines,lR=ux([oR,gD,vD],rR),cR=(e,t)=>{var n=HD(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},uR=ux(iR,gD,cR),dR=(e,t)=>{var n=HD(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},hR=ux([sR,gD],dR),fR=(e,t)=>{var n=HD(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},mR=ux(lR,gD,fR),pR=ux(uR,mR,hR,(e,t,n)=>tR(e,n,t)),gR=ux([ED],eR),vR=(e,t,n,r,i)=>{var a=function(e,t){if(t&&"function"!=typeof e&&Array.isArray(e)&&2===e.length){var n,r,[i,a]=e;if(wj(i))n=i;else if("function"==typeof i)return;if(wj(a))r=a;else if("function"==typeof a)return;var s=[n,r];if(KA(s))return s}}(t,e.allowDataOverflow);return null!=a?a:function(e,t,n){if(n||null!=t){if("function"==typeof e&&null!=t)try{var r=e(t,n);if(KA(r))return HA(r,t,n)}catch(f){}if(Array.isArray(e)&&2===e.length){var i,a,[s,o]=e;if("auto"===s)null!=t&&(i=Math.min(...t));else if(Yf(s))i=s;else if("function"==typeof s)try{null!=t&&(i=s(null==t?void 0:t[0]))}catch(m){}else if("string"==typeof s&&d_.test(s)){var l=d_.exec(s);if(null==l||null==t)i=void 0;else{var c=+l[1];i=t[0]-c}}else i=null==t?void 0:t[0];if("auto"===o)null!=t&&(a=Math.max(...t));else if(Yf(o))a=o;else if("function"==typeof o)try{null!=t&&(a=o(null==t?void 0:t[1]))}catch(p){}else if("string"==typeof o&&h_.test(o)){var u=h_.exec(o);if(null==u||null==t)a=void 0;else{var d=+u[1];a=t[1]+d}}else a=null==t?void 0:t[1];var h=[i,a];if(KA(h))return null==t?h:HA(h,t,n)}}}(t,tR(n,i,(e=>{var t=HD(e.flatMap(e=>[e.value,e.errorDomain]).flat(1));if(0!==t.length)return[Math.min(...t),Math.max(...t)]})(r)),e.allowDataOverflow)},yR=ux([ED,gR,XD,ZD,pR],vR),xR=[0,1],bR=(e,t,n,r,i,a,s)=>{if(null!=e&&null!=n&&0!==n.length){var{dataKey:o,type:l}=e,c=t_(t,a);return c&&null==o?Jk(0,n.length):"category"===l?((e,t,n)=>{var r=e.map(JD).filter(e=>null!=e);return n&&(null==t.dataKey||t.allowDuplicatedCategory&&Zf(r))?Jk(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))})(r,e,c):"expand"===i?xR:s}},wR=ux([ED,B_,WD,$D,VT,gD,yR],bR),_R=(e,t,n,r,i)=>{if(null!=e){var{scale:a,type:s}=e;if("auto"===a)return"radial"===t&&"radiusAxis"===i?"band":"radial"===t&&"angleAxis"===i?"linear":"category"===s&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":"category"===s?"band":"linear";if("string"==typeof a){var o="scale".concat(rm(a));return o in BA?o:"point"}}},jR=ux([ED,B_,MD,$T,gD],_R);function kR(e,t,n,r){if(null!=n&&null!=r){if("function"==typeof e.scale)return e.scale.copy().domain(n).range(r);var i=function(e){if(null!=e){if(e in BA)return BA[e]();var t="scale".concat(rm(e));return t in BA?BA[t]():void 0}}(t);if(null!=i){var a=i.domain(n).range(r);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-i_,a=Math.max(r[0],r[1])+i_,s=e(t[0]),o=e(t[n-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[n-1]])}})(a),a}}}var NR=(e,t,n)=>{var r=eR(t);if("auto"===n||"linear"===n)return null!=t&&t.tickCount&&Array.isArray(r)&&("auto"===r[0]||"auto"===r[1])&&KA(e)?LT(e,t.tickCount,t.allowDecimals):null!=t&&t.tickCount&&"number"===t.type&&KA(e)?FT(e,t.tickCount,t.allowDecimals):void 0},SR=ux([wR,PD,jR],NR),CR=(e,t,n,r)=>{if("angleAxis"!==r&&"number"===(null==e?void 0:e.type)&&KA(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],s=t[1],o=n[n.length-1];return[Math.min(i,a),Math.max(s,o)]}return t},ER=ux([ED,wR,SR,gD],CR),PR=ux($D,ED,(e,t)=>{if(t&&"number"===t.type){var n=1/0,r=Array.from(HD(e.map(e=>e.value))).sort((e,t)=>e-t);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(0===i)return 1/0;for(var a=0;a<r.length-1;a++){var s=r[a+1]-r[a];n=Math.min(n,s)}return n/i}}),MR=ux(PR,B_,WT,C_,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!wj(e))return 0;var a="vertical"===t?r.height:r.width;if("gap"===i)return e*a/2;if("no-gap"===i){var s=Qf(n,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),OR=ux(jD,(e,t)=>{var n=jD(e,t);return null==n||"string"!=typeof n.padding?0:MR(e,"xAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{left:0,right:0};var{padding:i}=e;return"string"==typeof i?{left:t,right:t}:{left:(null!==(n=i.left)&&void 0!==n?n:0)+t,right:(null!==(r=i.right)&&void 0!==r?r:0)+t}}),AR=ux(ND,(e,t)=>{var n=ND(e,t);return null==n||"string"!=typeof n.padding?0:MR(e,"yAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{top:0,bottom:0};var{padding:i}=e;return"string"==typeof i?{top:t,bottom:t}:{top:(null!==(n=i.top)&&void 0!==n?n:0)+t,bottom:(null!==(r=i.bottom)&&void 0!==r?r:0)+t}}),TR=ux([C_,OR,T_,A_,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),DR=ux([C_,B_,AR,T_,A_,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:"horizontal"===t?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),RR=(e,t,n,r)=>{var i;switch(t){case"xAxis":return TR(e,n,r);case"yAxis":return DR(e,n,r);case"zAxis":return null===(i=CD(e,n))||void 0===i?void 0:i.range;case"angleAxis":return fD(e);case"radiusAxis":return mD(e,n);default:return}},IR=ux([ED,RR],nD),zR=ux([ED,jR,ER,IR],kR);function LR(e,t){return e.id<t.id?-1:e.id>t.id?1:0}ux(RD,gD,(e,t)=>e.flatMap(e=>{var t;return null!==(t=e.errorBars)&&void 0!==t?t:[]}).filter(e=>KD(t,e)));var FR=(e,t)=>t,BR=(e,t,n)=>n,WR=ux(b_,FR,BR,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(LR)),VR=ux(w_,FR,BR,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(LR)),$R=(e,t)=>({width:e.width,height:t.height}),KR=ux(C_,jD,$R),HR=ux(v_,C_,WR,FR,BR,(e,t,n,r,i)=>{var a,s={};return n.forEach(n=>{var o=$R(t,n);null==a&&(a=((e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}})(t,r,e));var l="top"===r&&!i||"bottom"===r&&i;s[n.id]=a-Number(l)*o.height,a+=(l?-1:1)*o.height}),s}),UR=ux(g_,C_,VR,FR,BR,(e,t,n,r,i)=>{var a,s={};return n.forEach(n=>{var o=((e,t)=>({width:"number"==typeof t.width?t.width:60,height:e.height}))(t,n);null==a&&(a=((e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}})(t,r,e));var l="left"===r&&!i||"right"===r&&i;s[n.id]=a-Number(l)*o.width,a+=(l?-1:1)*o.width}),s}),YR=ux(C_,ND,(e,t)=>({width:"number"==typeof t.width?t.width:60,height:e.height})),qR=(e,t,n)=>{switch(t){case"xAxis":return KR(e,n).width;case"yAxis":return YR(e,n).height;default:return}},GR=(e,t,n,r)=>{if(null!=n){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,o=t_(e,r),l=t.map(e=>e.value);return s&&o&&"category"===a&&i&&Zf(l)?l:void 0}},XR=ux([B_,$D,ED,gD],GR),QR=(e,t,n,r)=>{if(null!=n&&null!=n.dataKey){var{type:i,scale:a}=n;return!t_(e,r)||"number"!==i&&"auto"===a?void 0:t.map(e=>e.value)}},ZR=ux([B_,$D,PD,gD],QR),JR=ux([B_,(e,t,n)=>{switch(t){case"xAxis":return jD(e,n);case"yAxis":return ND(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},jR,zR,XR,ZR,RR,SR,gD],(e,t,n,r,i,a,s,o,l)=>{if(null==t)return null;var c=t_(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:o,range:s,realScaleType:n,scale:r}}),eI=ux([B_,PD,jR,zR,SR,RR,XR,ZR,gD],(e,t,n,r,i,a,s,o,l)=>{if(null!=t&&null!=r){var c=t_(e,l),{type:u,ticks:d,tickCount:h}=t,f="scaleBand"===n&&"function"==typeof r.bandwidth?r.bandwidth()/2:2,m="category"===u&&r.bandwidth?r.bandwidth()/f:0;m="angleAxis"===l&&null!=a&&a.length>=2?2*Kf(a[0]-a[1])*m:m;var p=d||i;return p?p.map((e,t)=>{var n=s?s.indexOf(e):e;return{index:t,coordinate:r(n)+m,value:e,offset:m}}).filter(e=>!Hf(e.coordinate)):c&&o?o.map((e,t)=>({coordinate:r(e)+m,value:e,index:t,offset:m})):r.ticks?r.ticks(h).map(e=>({coordinate:r(e)+m,value:e,offset:m})):r.domain().map((e,t)=>({coordinate:r(e)+m,value:s?s[e]:e,index:t,offset:m}))}}),tI=ux([B_,PD,zR,RR,XR,ZR,gD],(e,t,n,r,i,a,s)=>{if(null!=t&&null!=n&&null!=r&&r[0]!==r[1]){var o=t_(e,s),{tickCount:l}=t,c=0;return c="angleAxis"===s&&(null==r?void 0:r.length)>=2?2*Kf(r[0]-r[1])*c:c,o&&a?a.map((e,t)=>({coordinate:n(e)+c,value:e,index:t,offset:c})):n.ticks?n.ticks(l).map(e=>({coordinate:n(e)+c,value:e,offset:c})):n.domain().map((e,t)=>({coordinate:n(e)+c,value:i?i[e]:e,index:t,offset:c}))}}),nI=ux(ED,zR,(e,t)=>{if(null!=e&&null!=t)return xD(xD({},e),{},{scale:t})}),rI=ux([ED,jR,wR,IR],kR),iI=ux((e,t,n)=>CD(e,n),rI,(e,t)=>{if(null!=e&&null!=t)return xD(xD({},e),{},{scale:t})}),aI=ux([B_,b_,w_],(e,t,n)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),sI=e=>e.options.defaultTooltipEventType,oI=e=>e.options.validateTooltipEventTypes;function lI(e,t,n){if(null==e)return t;var r=e?"axis":"item";return null==n?t:n.includes(r)?r:t}function cI(e,t){return lI(t,sI(e),oI(e))}var uI=(e,t)=>{var n,r=Number(t);if(!Hf(r)&&null!=t)return r>=0?null==e||null===(n=e[r])||void 0===n?void 0:n.value:void 0},dI={active:!1,index:null,dataKey:void 0,coordinate:void 0},hI=ew({name:"tooltip",initialState:{itemInteraction:{click:dI,hover:dI},axisInteraction:{click:dI,hover:dI},keyboardInteraction:dI,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=Tb(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:fI,removeTooltipEntrySettings:mI,setTooltipSettingsState:pI,setActiveMouseOverItemIndex:gI,mouseLeaveItem:vI,mouseLeaveChart:yI,setActiveClickItemIndex:xI,setMouseOverAxisIndex:bI,setMouseClickAxisIndex:wI,setSyncInteraction:_I,setKeyboardInteraction:jI}=hI.actions,kI=hI.reducer;function NI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function SI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NI(Object(n),!0).forEach(function(t){CI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function CI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var EI=(e,t,n,r)=>{if(null==t)return dI;var i=function(e,t,n){return"axis"===t?"click"===n?e.axisInteraction.click:e.axisInteraction.hover:"click"===n?e.itemInteraction.click:e.itemInteraction.hover}(e,t,n);if(null==i)return dI;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var a=!0===e.settings.active;if(null!=i.index){if(a)return SI(SI({},i),{},{active:!0})}else if(null!=r)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return SI(SI({},dI),{},{coordinate:i.coordinate})},PI=(e,t)=>{var n=null==e?void 0:e.index;if(null==n)return null;var r=Number(n);if(!wj(r))return n;var i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(0,Math.min(r,i)))},MI=(e,t,n,r,i,a,s,o)=>{if(null!=a&&null!=o){var l=s[0],c=null==l?void 0:o(l.positions,a);if(null!=c)return c;var u=null==i?void 0:i[Number(a)];if(u)return"horizontal"===n?{x:u.coordinate,y:(r.top+t)/2}:{x:(r.left+e)/2,y:u.coordinate}}},OI=(e,t,n,r)=>{return"axis"===t?e.tooltipItemPayloads:0===e.tooltipItemPayloads.length?[]:null==(i="hover"===n?e.itemInteraction.hover.dataKey:e.itemInteraction.click.dataKey)&&null!=r?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(e=>{var t;return(null===(t=e.settings)||void 0===t?void 0:t.dataKey)===i});var i},AI=e=>e.options.tooltipPayloadSearcher,TI=e=>e.tooltip,DI=e=>{var t=B_(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},RI=e=>e.tooltip.settings.axisId,II=e=>{var t=DI(e),n=RI(e);return PD(e,t,n)},zI=ux([II,B_,MD,$T,DI],_R),LI=ux([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),FI=ux([DI,RI],OD),BI=ux([LI,II,FI],DD),WI=ux([BI],LD),VI=ux([WI,WA],BD),$I=ux([VI,II,BI],VD),KI=ux([II],eR),HI=ux([VI,BI,VT],YD),UI=ux([HI,WA,DI],GD),YI=ux([BI],ID),qI=ux([VI,II,YI,DI],QD),GI=ux([nR,DI,RI],rR),XI=ux([GI,DI],cR),QI=ux([aR,DI,RI],rR),ZI=ux([QI,DI],dR),JI=ux([oR,DI,RI],rR),ez=ux([JI,DI],fR),tz=ux([XI,ez,ZI],tR),nz=ux([II,KI,UI,qI,tz],vR),rz=ux([II,B_,VI,$I,VT,DI,nz],bR),iz=ux([rz,II,zI],NR),az=ux([II,rz,iz,DI],CR),sz=e=>{var t=DI(e),n=RI(e);return RR(e,t,n,!1)},oz=ux([II,sz],nD),lz=ux([II,zI,az,oz],kR),cz=ux([B_,$I,II,DI],GR),uz=ux([B_,$I,II,DI],QR),dz=ux([B_,II,zI,lz,sz,cz,uz,DI],(e,t,n,r,i,a,s,o)=>{if(t){var{type:l}=t,c=t_(e,o);if(r){var u="scaleBand"===n&&r.bandwidth?r.bandwidth()/2:2,d="category"===l&&r.bandwidth?r.bandwidth()/u:0;return d="angleAxis"===o&&null!=i&&(null==i?void 0:i.length)>=2?2*Kf(i[0]-i[1])*d:d,c&&s?s.map((e,t)=>({coordinate:r(e)+d,value:e,index:t,offset:d})):r.domain().map((e,t)=>({coordinate:r(e)+d,value:a?a[e]:e,index:t,offset:d}))}}}),hz=ux([sI,oI,e=>e.tooltip.settings],(e,t,n)=>lI(n.shared,e,t)),fz=e=>e.tooltip.settings.trigger,mz=e=>e.tooltip.settings.defaultIndex,pz=ux([TI,hz,fz,mz],EI),gz=ux([pz,VI],PI),vz=ux([dz,gz],uI),yz=ux([pz],e=>{if(e)return e.dataKey}),xz=ux([TI,hz,fz,mz],OI),bz=ux([g_,v_,B_,C_,dz,mz,xz,AI],MI),wz=ux([pz,bz],(e,t)=>null!=e&&e.coordinate?e.coordinate:t),_z=ux([pz],e=>e.active);function jz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function kz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jz(Object(n),!0).forEach(function(t){Nz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Nz(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Sz=()=>nx(II);function Cz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ez(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cz(Object(n),!0).forEach(function(t){Pz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Pz(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mz=()=>nx($T),Oz=(e,t)=>t,Az=(e,t,n)=>n,Tz=(e,t,n,r)=>r,Dz=ux(dz,e=>Dx(e,e=>e.coordinate)),Rz=ux([TI,Oz,Az,Tz],EI),Iz=ux([Rz,VI],PI),zz=ux([TI,Oz,Az,Tz],OI),Lz=ux([g_,v_,B_,C_,dz,Tz,zz,AI],MI),Fz=ux([Rz,Lz],(e,t)=>{var n;return null!==(n=e.coordinate)&&void 0!==n?n:t}),Bz=ux(dz,Iz,uI),Wz=ux([zz,Iz,WA,II,Bz,AI,Oz],(e,t,n,r,i,a,s)=>{if(null!=t&&null!=a){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:u}=n;return e.reduce((e,n)=>{var d,h,f,m,p,g,{dataDefinedOnItem:v,settings:y}=n,x=function(e,t){return null!=e?e:t}(v,o),b=(h=x,f=c,m=u,Array.isArray(h)&&h&&f+m!==0?h.slice(f,m+1):h),w=null!==(d=null==y?void 0:y.dataKey)&&void 0!==d?d:null==r?void 0:r.dataKey,_=null==y?void 0:y.nameKey;return p=null==r||!r.dataKey||null!=r&&r.allowDuplicatedCategory||!Array.isArray(b)||"axis"!==s?a(b,t,l,_):tm(b,r.dataKey,i),Array.isArray(p)?p.forEach(t=>{var n=Ez(Ez({},y),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(m_({tooltipEntrySettings:n,dataKey:t.dataKey,payload:t.payload,value:e_(t.payload,t.dataKey),name:t.name}))}):e.push(m_({tooltipEntrySettings:y,dataKey:w,payload:p,value:e_(p,w),name:null!==(g=e_(p,_))&&void 0!==g?g:null==y?void 0:y.name})),e},[])}}),Vz=ux([Rz],e=>({isActive:e.active,activeIndex:e.index}));function $z(){return $z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$z.apply(null,arguments)}function Kz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Hz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kz(Object(n),!0).forEach(function(t){Uz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Uz(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yz(e){var t,n,{coordinate:r,payload:i,index:a,offset:s,tooltipAxisBandSize:o,layout:l,cursor:c,tooltipEventType:u,chartName:d}=e,h=r,f=i,m=a;if(!c||!h||"ScatterChart"!==d&&"axis"!==u)return null;if("ScatterChart"===d)t=h,n=Lj;else if("BarChart"===d)t=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(l,h,s,o),n=Dk;else if("radial"===l){var{cx:p,cy:g,radius:v,startAngle:y,endAngle:x}=Rk(h);t={cx:p,cy:g,startAngle:y,endAngle:x,innerRadius:v,outerRadius:v},n=Bk}else t={points:Wk(l,h,s)},n=Aj;var b="object"==typeof c&&"className"in c?c.className:void 0,w=Hz(Hz(Hz(Hz({stroke:"#ccc",pointerEvents:"none"},s),t),gm(c,!1)),{},{payload:f,payloadIndex:m,className:Ke("recharts-tooltip-cursor",b)});return k.isValidElement(c)?k.cloneElement(c,w):k.createElement(n,w)}function qz(e){var t,n,r,i=(t=Sz(),n=nx(dz),r=nx(lz),f_(kz(kz({},t),{},{scale:r}),n)),a=I_(),s=W_(),o=Mz();return k.createElement(Yz,$z({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:a,layout:s,tooltipAxisBandSize:i,chartName:o}))}var Gz,Xz=k.createContext(null),Qz={exports:{}},Zz=(Gz||(Gz=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var o=new i(r,a||e,s),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),o.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,s=new Array(a);i<a;i++)s[i]=r[i].fn;return s},o.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},o.prototype.emit=function(e,t,r,i,a,s){var o=n?n+e:e;if(!this._events[o])return!1;var l,c,u=this._events[o],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,a),!0;case 6:return u.fn.call(u.context,t,r,i,a,s),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},o.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return s(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||i&&!o.once||r&&o.context!==r||s(this,a);else{for(var l=0,c=[],u=o.length;l<u;l++)(o[l].fn!==t||i&&!o[l].once||r&&o[l].context!==r)&&c.push(o[l]);c.length?this._events[a]=1===c.length?c[0]:c:s(this,a)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o}(Qz)),Qz.exports),Jz=new(i(Zz)),eL="recharts.syncEvent.tooltip",tL="recharts.syncEvent.brush";function nL(e,t){if(t){var n=Number.parseInt(t,10);if(!Hf(n))return null==e?void 0:e[n]}}var rL=ew({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),iL=rL.reducer,{createEventEmitter:aL}=rL.actions;function sL(e){return e.tooltip.syncInteraction}var oL=ew({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload)return e.dataStartIndex=0,void(e.dataEndIndex=0);t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;null!=n&&(e.dataStartIndex=n),null!=r&&(e.dataEndIndex=r)}}}),{setChartData:lL,setDataStartEndIndexes:cL,setComputedData:uL}=oL.actions,dL=oL.reducer,hL=()=>{};function fL(){var e=Zy();k.useEffect(()=>{e(aL())},[e]),function(){var e=nx(KT),t=nx(UT),n=Zy(),r=nx(HT),i=nx(dz),a=W_(),s=D_(),o=nx(e=>e.rootProps.className);k.useEffect(()=>{if(null==e)return hL;var o=(o,l,c)=>{if(t!==c&&e===o)if("index"!==r){if(null!=i){var u;if("function"==typeof r){var d={activeTooltipIndex:null==l.payload.index?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:null==l.payload.index?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate},h=r(i,d);u=i[h]}else"value"===r&&(u=i.find(e=>String(e.value)===l.payload.label));var{coordinate:f}=l.payload;if(null!=u&&!1!==l.payload.active&&null!=f&&null!=s){var{x:m,y:p}=f,g=Math.min(m,s.x+s.width),v=Math.min(p,s.y+s.height),y={x:"horizontal"===a?u.coordinate:g,y:"horizontal"===a?v:u.coordinate},x=_I({active:l.payload.active,coordinate:y,dataKey:l.payload.dataKey,index:String(u.index),label:l.payload.label});n(x)}else n(_I({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}))}}else n(l)};return Jz.on(eL,o),()=>{Jz.off(eL,o)}},[o,n,t,e,r,i,a,s])}(),function(){var e=nx(KT),t=nx(UT),n=Zy();k.useEffect(()=>{if(null==e)return hL;var r=(r,i,a)=>{t!==a&&e===r&&n(cL(i))};return Jz.on(tL,r),()=>{Jz.off(tL,r)}},[n,t,e])}()}function mL(e,t,n,r,i,a){var s=nx(n=>((e,t,n)=>{if(null!=t){var r=TI(e);return"axis"===t?"hover"===n?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:"hover"===n?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}})(n,e,t)),o=nx(UT),l=nx(KT),c=nx(HT),u=nx(sL),d=null==u?void 0:u.active;k.useEffect(()=>{if(!d&&null!=l&&null!=o){var e=_I({active:a,coordinate:n,dataKey:s,index:i,label:"number"==typeof r?String(r):r});Jz.emit(eL,l,e,o)}},[d,n,s,i,r,o,l,c,a])}function pL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function gL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pL(Object(n),!0).forEach(function(t){vL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yL(e){return e.dataKey}var xL=[],bL={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!xj,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function wL(e){var t=Wj(e,bL),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,content:s,filterNull:o,isAnimationActive:l,offset:c,payloadUniqBy:u,position:d,reverseDirection:h,useTranslate3d:f,wrapperStyle:m,cursor:p,shared:g,trigger:v,defaultIndex:y,portal:x,axisId:b}=t,w=Zy(),_="number"==typeof y?String(y):y;k.useEffect(()=>{w(pI({shared:g,trigger:v,axisId:b,active:n,defaultIndex:_}))},[w,g,v,b,n,_]);var j=D_(),N=bj(),S=function(e){return nx(t=>cI(t,e))}(g),{activeIndex:C,isActive:E}=nx(e=>Vz(e,S,v,_)),P=nx(e=>Wz(e,S,v,_)),M=nx(e=>Bz(e,S,v,_)),O=nx(e=>Fz(e,S,v,_)),A=P,T=k.useContext(Xz),D=null!=n?n:E,[R,I]=zx([A,D]),z="axis"===S?M:void 0;mL(S,v,O,z,C,D);var L=null!=x?x:T;if(null==L)return null;var F=null!=A?A:xL;D||(F=xL),o&&F.length&&(F=Fy(A.filter(e=>null!=e.value&&(!0!==e.hide||t.includeHidden)),u,yL));var B=F.length>0,W=k.createElement(yj,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:l,active:D,coordinate:O,hasPayload:B,offset:c,position:d,reverseDirection:h,useTranslate3d:f,viewBox:j,wrapperStyle:m,lastBoundingBox:R,innerRef:I,hasPortalFromProps:Boolean(x)},function(e,t){return k.isValidElement(e)?k.cloneElement(e,t):"function"==typeof e?k.createElement(e,t):k.createElement(uj,t)}(s,gL(gL({},t),{},{payload:F,label:z,active:D,coordinate:O,accessibilityLayer:N})));return k.createElement(k.Fragment,null,on.createPortal(W,L),D&&k.createElement(qz,{cursor:p,tooltipEventType:S,coordinate:O,payload:A,index:C}))}var _L,jL,kL,NL,SL,CL={},EL={},PL={};function ML(){return _L||(_L=1,e=PL,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.debounce=function(e,t,{signal:n,edges:r}={}){let i,a=null;const s=null!=r&&r.includes("leading"),o=null==r||r.includes("trailing"),l=()=>{null!==a&&(e.apply(i,a),i=void 0,a=null)};let c=null;const u=()=>{null!=c&&clearTimeout(c),c=setTimeout(()=>{c=null,o&&l(),h()},t)},d=()=>{null!==c&&(clearTimeout(c),c=null)},h=()=>{d(),i=void 0,a=null},f=function(...e){if(null==n?void 0:n.aborted)return;i=this,a=e;const t=null==c;u(),s&&t&&l()};return f.schedule=u,f.cancel=h,f.flush=()=>{d(),l()},null==n||n.addEventListener("abort",h,{once:!0}),f}),PL;var e}function OL(){return jL||(jL=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ML();e.debounce=function(e,n=0,r={}){"object"!=typeof r&&(r={});const{leading:i=!1,trailing:a=!0,maxWait:s}=r,o=Array(2);let l;i&&(o[0]="leading"),a&&(o[1]="trailing");let c=null;const u=t.debounce(function(...t){l=e.apply(this,t),c=null},n,{edges:o}),d=function(...t){return null!=s&&(null===c&&(c=Date.now()),Date.now()-c>=s)?(l=e.apply(this,t),c=Date.now(),u.cancel(),u.schedule(),l):(u.apply(this,t),l)};return d.cancel=u.cancel,d.flush=()=>(u.flush(),l),d}}(EL)),EL}function AL(){return SL?NL:(SL=1,NL=(kL||(kL=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OL();e.throttle=function(e,n=0,r={}){"object"!=typeof r&&(r={});const{leading:i=!0,trailing:a=!0}=r;return t.debounce(e,n,{leading:i,trailing:a,maxWait:n})}}(CL)),CL).throttle)}const TL=i(AL());var DL=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]};function RL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function IL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RL(Object(n),!0).forEach(function(t){zL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function zL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var LL=k.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:s=0,minHeight:o,maxHeight:l,children:c,debounce:u=0,id:d,className:h,onResize:f,style:m={}}=e,p=k.useRef(null),g=k.useRef();g.current=f,k.useImperativeHandle(t,()=>p.current);var[v,y]=k.useState({containerWidth:r.width,containerHeight:r.height}),x=k.useCallback((e,t)=>{y(n=>{var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}})},[]);k.useEffect(()=>{var e=e=>{var t,{width:n,height:r}=e[0].contentRect;x(n,r),null===(t=g.current)||void 0===t||t.call(g,n,r)};u>0&&(e=TL(e,u,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:n,height:r}=p.current.getBoundingClientRect();return x(n,r),t.observe(p.current),()=>{t.disconnect()}},[x,u]);var b=k.useMemo(()=>{var{containerWidth:e,containerHeight:t}=v;if(e<0||t<0)return null;DL(Uf(i)||Uf(a),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",i,a),DL(!n||n>0,"The aspect(%s) must be greater than zero.",n);var r=Uf(i)?e:i,u=Uf(a)?t:a;return n&&n>0&&(r?u=r/n:u&&(r=u*n),l&&u>l&&(u=l)),DL(r>0||u>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",r,u,i,a,s,o,n),k.Children.map(c,e=>k.cloneElement(e,{width:r,height:u,style:IL({height:"100%",width:"100%",maxHeight:u,maxWidth:r},e.props.style)}))},[n,c,a,l,o,s,v,i]);return k.createElement("div",{id:d?"".concat(d):void 0,className:Ke("recharts-responsive-container",h),style:IL(IL({},m),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:p},b)}),FL=e=>null;function BL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function WL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BL(Object(n),!0).forEach(function(t){VL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function VL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}FL.displayName="Cell";var $L={widthCache:{},cacheCount:0},KL={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},HL="recharts_measurement_span",UL=function(e){if(null==e||xj)return{width:0,height:0};var t,n=(t=WL({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),Object.keys(t).forEach(e=>{t[e]||delete t[e]}),t),r=JSON.stringify({text:e,copyStyle:n});if($L.widthCache[r])return $L.widthCache[r];try{var i=document.getElementById(HL);i||((i=document.createElement("span")).setAttribute("id",HL),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var a=WL(WL({},KL),n);Object.assign(i.style,a),i.textContent="".concat(e);var s=i.getBoundingClientRect(),o={width:s.width,height:s.height};return $L.widthCache[r]=o,++$L.cacheCount>2e3&&($L.cacheCount=0,$L.widthCache={}),o}catch(l){return{width:0,height:0}}},YL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GL=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,XL=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,QL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},ZL=Object.keys(QL),JL="NaN";class eF{static parse(e){var t,[,n,r]=null!==(t=XL.exec(e))&&void 0!==t?t:[];return new eF(parseFloat(n),null!=r?r:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,Hf(e)&&(this.unit=""),""===t||GL.test(t)||(this.num=NaN,this.unit=""),ZL.includes(t)&&(this.num=function(e,t){return e*QL[t]}(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new eF(NaN,""):new eF(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new eF(NaN,""):new eF(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new eF(NaN,""):new eF(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new eF(NaN,""):new eF(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Hf(this.num)}}function tF(e){if(e.includes(JL))return JL;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=null!==(n=YL.exec(t))&&void 0!==n?n:[],s=eF.parse(null!=r?r:""),o=eF.parse(null!=a?a:""),l="*"===i?s.multiply(o):s.divide(o);if(l.isNaN())return JL;t=t.replace(YL,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,d,h]=null!==(c=qL.exec(t))&&void 0!==c?c:[],f=eF.parse(null!=u?u:""),m=eF.parse(null!=h?h:""),p="+"===d?f.add(m):f.subtract(m);if(p.isNaN())return JL;t=t.replace(qL,p.toString())}return t}var nF=/\(([^()]*)\)/;function rF(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t,n=e;null!=(t=nF.exec(n));){var[,r]=t;n=n.replace(nF,tF(r))}return n}(t),t=tF(t)}function iF(e){var t=function(e){try{return rF(e)}catch(t){return JL}}(e.slice(5,-1));return t===JL?"":t}var aF=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],sF=["dx","dy","angle","className","breakAll"];function oF(){return oF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oF.apply(null,arguments)}function lF(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var cF=/[ \f\n\r\t\v\u2028\u2029]+/,uF=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];return nm(t)||(i=n?t.toString().split(""):t.toString().split(cF)),{wordsWithComputedWidth:i.map(e=>({word:e,width:UL(e,r).width})),spaceWidth:n?0:UL(" ",r).width}}catch(a){return null}},dF=e=>[{words:nm(e)?[]:e.toString().split(cF)}],hF=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=e;if((t||n)&&!xj){var o=uF({breakAll:a,children:r,style:i});if(!o)return dF(r);var{wordsWithComputedWidth:l,spaceWidth:c}=o;return((e,t,n,r,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,c=Yf(a),u=s,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((e,t)=>{var{word:a,width:s}=t,o=e[e.length-1];if(o&&(null==r||i||o.width+s+n<Number(r)))o.words.push(a),o.width+=s+n;else{var l={words:[a],width:s};e.push(l)}return e},[])},h=d(t),f=e=>e.reduce((e,t)=>e.width>t.width?e:t);if(!c||i)return h;if(!(h.length>a||f(h).width>Number(r)))return h;for(var m,p=e=>{var t=u.slice(0,e),n=uF({breakAll:l,style:o,children:t+"…"}).wordsWithComputedWidth,i=d(n);return[i.length>a||f(i).width>Number(r),i]},g=0,v=u.length-1,y=0;g<=v&&y<=u.length-1;){var x=Math.floor((g+v)/2),b=x-1,[w,_]=p(b),[j]=p(x);if(w||j||(g=x+1),w&&j&&(v=x-1),!w&&j){m=_;break}y++}return m||h})({breakAll:a,children:r,maxLines:s,style:i},l,c,t,n)}return dF(r)},fF="#808080",mF=k.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:s=!1,textAnchor:o="start",verticalAnchor:l="end",fill:c=fF}=e,u=lF(e,aF),d=k.useMemo(()=>hF({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:s,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,s,u.style,u.width]),{dx:h,dy:f,angle:m,className:p,breakAll:g}=u,v=lF(u,sF);if(!qf(n)||!qf(r))return null;var y,x=n+(Yf(h)?h:0),b=r+(Yf(f)?f:0);switch(l){case"start":y=iF("calc(".concat(a,")"));break;case"middle":y=iF("calc(".concat((d.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:y=iF("calc(".concat(d.length-1," * -").concat(i,")"))}var w=[];if(s){var _=d[0].width,{width:j}=u;w.push("scale(".concat(Yf(j)?j/_:1,")"))}return m&&w.push("rotate(".concat(m,", ").concat(x,", ").concat(b,")")),w.length&&(v.transform=w.join(" ")),k.createElement("text",oF({},gm(v,!0),{ref:t,x:x,y:b,className:Ke("recharts-text",p),textAnchor:o,fill:c.includes("url")?fF:c}),d.map((e,t)=>{var n=e.words.join(g?"":" ");return k.createElement("tspan",{x:x,dy:0===t?y:i,key:"".concat(n,"-").concat(t)},n)}))});mF.displayName="Text";var pF=["offset"],gF=["labelRef"];function vF(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function xF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yF(Object(n),!0).forEach(function(t){bF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function bF(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wF(){return wF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wF.apply(null,arguments)}var _F=e=>null!=e&&"function"==typeof e,jF=(e,t,n)=>{var r,i,{position:a,viewBox:s,offset:o,className:l}=e,{cx:c,cy:u,innerRadius:d,outerRadius:h,startAngle:f,endAngle:m,clockWise:p}=s,g=(d+h)/2,v=((e,t)=>Kf(t-e)*Math.min(Math.abs(t-e),360))(f,m),y=v>=0?1:-1;"insideStart"===a?(r=f+y*o,i=p):"insideEnd"===a?(r=m-y*o,i=!p):"end"===a&&(r=m+y*o,i=p),i=v<=0?i:!i;var x=Uw(c,u,g,r),b=Uw(c,u,g,r+359*(i?1:-1)),w="M".concat(x.x,",").concat(x.y,"\n    A").concat(g,",").concat(g,",0,1,").concat(i?0:1,",\n    ").concat(b.x,",").concat(b.y),_=nm(e.id)?Xf("recharts-radial-line-"):e.id;return k.createElement("text",wF({},n,{dominantBaseline:"central",className:Ke("recharts-radial-bar-label",l)}),k.createElement("defs",null,k.createElement("path",{id:_,d:w})),k.createElement("textPath",{xlinkHref:"#".concat(_)},t))};function kF(e){var t,{offset:n=5}=e,r=xF({offset:n},vF(e,pF)),{viewBox:i,position:a,value:s,children:o,content:l,className:c="",textBreakAll:u,labelRef:d}=r,h=D_(),f=i||h;if(!f||nm(s)&&nm(o)&&!k.isValidElement(l)&&"function"!=typeof l)return null;if(k.isValidElement(l)){var{labelRef:m}=r,p=vF(r,gF);return k.cloneElement(l,p)}if("function"==typeof l){if(t=k.createElement(l,r),k.isValidElement(t))return t}else t=(e=>{var{value:t,formatter:n}=e,r=nm(e.children)?t:e.children;return"function"==typeof n?n(r):r})(r);var g=(e=>"cx"in e&&Yf(e.cx))(f),v=gm(r,!0);if(g&&("insideStart"===a||"insideEnd"===a||"end"===a))return jF(r,t,v);var y=g?(e=>{var{viewBox:t,offset:n,position:r}=e,{cx:i,cy:a,innerRadius:s,outerRadius:o,startAngle:l,endAngle:c}=t,u=(l+c)/2;if("outside"===r){var{x:d,y:h}=Uw(i,a,o+n,u);return{x:d,y:h,textAnchor:d>=i?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:i,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:i,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:i,y:a,textAnchor:"middle",verticalAnchor:"end"};var f=(s+o)/2,{x:m,y:p}=Uw(i,a,f,u);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}})(r):((e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,{x:a,y:s,width:o,height:l}=t,c=l>=0?1:-1,u=c*r,d=c>0?"end":"start",h=c>0?"start":"end",f=o>=0?1:-1,m=f*r,p=f>0?"end":"start",g=f>0?"start":"end";if("top"===i)return xF(xF({},{x:a+o/2,y:s-c*r,textAnchor:"middle",verticalAnchor:d}),n?{height:Math.max(s-n.y,0),width:o}:{});if("bottom"===i)return xF(xF({},{x:a+o/2,y:s+l+u,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(n.y+n.height-(s+l),0),width:o}:{});if("left"===i){var v={x:a-m,y:s+l/2,textAnchor:p,verticalAnchor:"middle"};return xF(xF({},v),n?{width:Math.max(v.x-n.x,0),height:l}:{})}if("right"===i){var y={x:a+o+m,y:s+l/2,textAnchor:g,verticalAnchor:"middle"};return xF(xF({},y),n?{width:Math.max(n.x+n.width-y.x,0),height:l}:{})}var x=n?{width:o,height:l}:{};return"insideLeft"===i?xF({x:a+m,y:s+l/2,textAnchor:g,verticalAnchor:"middle"},x):"insideRight"===i?xF({x:a+o-m,y:s+l/2,textAnchor:p,verticalAnchor:"middle"},x):"insideTop"===i?xF({x:a+o/2,y:s+u,textAnchor:"middle",verticalAnchor:h},x):"insideBottom"===i?xF({x:a+o/2,y:s+l-u,textAnchor:"middle",verticalAnchor:d},x):"insideTopLeft"===i?xF({x:a+m,y:s+u,textAnchor:g,verticalAnchor:h},x):"insideTopRight"===i?xF({x:a+o-m,y:s+u,textAnchor:p,verticalAnchor:h},x):"insideBottomLeft"===i?xF({x:a+m,y:s+l-u,textAnchor:g,verticalAnchor:d},x):"insideBottomRight"===i?xF({x:a+o-m,y:s+l-u,textAnchor:p,verticalAnchor:d},x):i&&"object"==typeof i&&(Yf(i.x)||Uf(i.x))&&(Yf(i.y)||Uf(i.y))?xF({x:a+Qf(i.x,o),y:s+Qf(i.y,l),textAnchor:"end",verticalAnchor:"end"},x):xF({x:a+o/2,y:s+l/2,textAnchor:"middle",verticalAnchor:"middle"},x)})(r,f);return k.createElement(mF,wF({ref:d,className:Ke("recharts-label",c)},v,y,{breakAll:u}),t)}kF.displayName="Label";var NF=e=>{var{cx:t,cy:n,angle:r,startAngle:i,endAngle:a,r:s,radius:o,innerRadius:l,outerRadius:c,x:u,y:d,top:h,left:f,width:m,height:p,clockWise:g,labelViewBox:v}=e;if(v)return v;if(Yf(m)&&Yf(p)){if(Yf(u)&&Yf(d))return{x:u,y:d,width:m,height:p};if(Yf(h)&&Yf(f))return{x:h,y:f,width:m,height:p}}return Yf(u)&&Yf(d)?{x:u,y:d,width:0,height:0}:Yf(t)&&Yf(n)?{cx:t,cy:n,startAngle:i||r||0,endAngle:a||r||0,innerRadius:l||0,outerRadius:c||o||s||0,clockWise:g}:e.viewBox?e.viewBox:void 0};kF.parseViewBox=NF,kF.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var{children:r,labelRef:i}=e,a=NF(e),s=mm(r,kF).map((e,n)=>k.cloneElement(e,{viewBox:t||a,key:"label-".concat(n)}));if(!n)return s;var o=((e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return!0===e?k.createElement(kF,wF({key:"label-implicit"},r)):qf(e)?k.createElement(kF,wF({key:"label-implicit",value:e},r)):k.isValidElement(e)?e.type===kF?k.cloneElement(e,xF({key:"label-implicit"},r)):k.createElement(kF,wF({key:"label-implicit",content:e},r)):_F(e)?k.createElement(kF,wF({key:"label-implicit",content:e},r)):e&&"object"==typeof e?k.createElement(kF,wF({},e,{key:"label-implicit"},r)):null})(e.label,t||a,i);return[o,...s]};var SF,CF={},EF={};function PF(){return SF||(SF=1,e=EF,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.last=function(e){return e[e.length-1]}),EF;var e}var MF,OF,AF,TF,DF={};function RF(){return MF||(MF=1,e=DF,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}),DF;var e}function IF(){return TF?AF:(TF=1,AF=(OF||(OF=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PF(),n=RF(),r=_v();e.last=function(e){if(r.isArrayLike(e))return t.last(n.toArray(e))}}(CF)),CF).last)}const zF=i(IF());var LF=["valueAccessor"],FF=["data","dataKey","clockWise","id","textBreakAll"];function BF(){return BF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BF.apply(null,arguments)}function WF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function VF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WF(Object(n),!0).forEach(function(t){$F(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $F(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KF(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var HF=e=>Array.isArray(e.value)?zF(e.value):e.value;function UF(e){var{valueAccessor:t=HF}=e,n=KF(e,LF),{data:r,dataKey:i,clockWise:a,id:s,textBreakAll:o}=n,l=KF(n,FF);return r&&r.length?k.createElement(_m,{className:"recharts-label-list"},r.map((e,n)=>{var r=nm(i)?t(e,n):e_(e&&e.payload,i),c=nm(s)?{}:{id:"".concat(s,"-").concat(n)};return k.createElement(kF,BF({},gm(e,!0),l,c,{parentViewBox:e.parentViewBox,value:r,textBreakAll:o,viewBox:kF.parseViewBox(nm(a)?e:VF(VF({},e),{},{clockWise:a})),key:"label-".concat(n),index:n}))})):null}function YF(){return YF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YF.apply(null,arguments)}UF.displayName="LabelList",UF.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var{children:r}=e,i=mm(r,UF).map((e,n)=>k.cloneElement(e,{data:t,key:"labelList-".concat(n)}));return n?[function(e,t){return e?!0===e?k.createElement(UF,{key:"labelList-implicit",data:t}):k.isValidElement(e)||_F(e)?k.createElement(UF,{key:"labelList-implicit",data:t,content:e}):"object"==typeof e?k.createElement(UF,BF({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t),...i]:i};var qF=e=>{var{cx:t,cy:n,r:r,className:i}=e,a=Ke("recharts-dot",i);return t===+t&&n===+n&&r===+r?k.createElement("circle",YF({},gm(e,!1),lm(e),{className:a,cx:t,cy:n,r:r})):null},GF=e=>e.graphicalItems.polarItems,XF=ux([gD,vD],OD),QF=ux([GF,ED,XF],DD),ZF=ux([QF],LD),JF=ux([ZF,VA],BD),eB=ux([JF,ED,QF],VD),tB=ux([JF,ED,QF],(e,t,n)=>n.length>0?e.flatMap(e=>n.flatMap(n=>{var r;return{value:e_(e,null!==(r=t.dataKey)&&void 0!==r?r:n.dataKey),errorDomain:[]}})).filter(Boolean):null!=(null==t?void 0:t.dataKey)?e.map(e=>({value:e_(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]}))),nB=()=>{},rB=ux([ED,gR,nB,tB,nB],vR),iB=ux([ED,B_,JF,eB,VT,gD,rB],bR),aB=ux([iB,ED,jR],NR);ux([ED,iB,aB,gD],CR);var sB=ew({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:oB,removeRadiusAxis:lB,addAngleAxis:cB,removeAngleAxis:uB}=sB.actions,dB=sB.reducer;function hB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hB(Object(n),!0).forEach(function(t){mB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function mB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pB=(e,t)=>t,gB=[],vB=(e,t,n)=>0===(null==n?void 0:n.length)?gB:n,yB=ux([VA,pB,vB],(e,t,n)=>{var r,{chartData:i}=e;if((r=null!=(null==t?void 0:t.data)&&t.data.length>0?t.data:i)&&r.length||null==n||(r=n.map(e=>fB(fB({},t.presentationProps),e.props))),null!=r)return r}),xB=ux([yB,pB,vB],(e,t,n)=>{if(null!=e)return e.map((e,r)=>{var i,a,s=e_(e,t.nameKey,t.name);return a=null!=n&&null!==(i=n[r])&&void 0!==i&&null!==(i=i.props)&&void 0!==i&&i.fill?n[r].props.fill:"object"==typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:p_(s,t.dataKey),color:a,payload:e,type:t.legendType}})}),bB=ux([GF,pB],(e,t)=>{if(e.some(e=>"pie"===e.type&&t.dataKey===e.dataKey&&t.data===e.data))return t}),wB=ux([yB,bB,vB,C_],(e,t,n,r)=>{if(null!=t&&null!=e)return function(e){var t,n,r,{pieSettings:i,displayedData:a,cells:s,offset:o}=e,{cornerRadius:l,startAngle:c,endAngle:u,dataKey:d,nameKey:h,tooltipType:f}=i,m=Math.abs(i.minAngle),p=((e,t)=>{var n=Kf(t-e),r=Math.min(Math.abs(t-e),360);return n*r})(c,u),g=Math.abs(p),v=a.length<=1?0:null!==(t=i.paddingAngle)&&void 0!==t?t:0,y=a.filter(e=>0!==e_(e,d,0)).length,x=g-y*m-(g>=360?y:y-1)*v,b=a.reduce((e,t)=>{var n=e_(t,d,0);return e+(Yf(n)?n:0)},0);return b>0&&(n=a.map((e,t)=>{var n,a=e_(e,d,0),u=e_(e,h,t),g=((e,t,n)=>{var{top:r,left:i,width:a,height:s}=t,o=Yw(a,s),l=i+Qf(e.cx,a,a/2),c=r+Qf(e.cy,s,s/2),u=Qf(e.innerRadius,o,0),d=((e,t,n)=>"function"==typeof t?t(e):Qf(t,n,.8*n))(n,e.outerRadius,o),h=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:h}})(i,o,e),y=(Yf(a)?a:0)/b,w=lW(lW({},e),s&&s[t]&&s[t].props),_=(n=t?r.endAngle+Kf(p)*v*(0!==a?1:0):c)+Kf(p)*((0!==a?m:0)+y*x),j=(n+_)/2,k=(g.innerRadius+g.outerRadius)/2,N=[{name:u,value:a,payload:w,dataKey:d,type:f}],S=Uw(g.cx,g.cy,k,j);return r=lW(lW(lW(lW({},i.presentationProps),{},{percent:y,cornerRadius:l,name:u,tooltipPayload:N,midAngle:j,middleRadius:k,tooltipPosition:S},w),g),{},{value:e_(e,d),startAngle:n,endAngle:_,payload:w,paddingAngle:Kf(p)*v})})),n}({offset:r,pieSettings:t,displayedData:e,cells:n})}),_B=ew({name:"graphicalItems",initialState:{countOfBars:0,cartesianItems:[],polarItems:[]},reducers:{addBar(e){e.countOfBars+=1},removeBar(e){e.countOfBars-=1},addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},removeCartesianGraphicalItem(e,t){var n=Tb(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=Tb(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addBar:jB,removeBar:kB,addCartesianGraphicalItem:NB,removeCartesianGraphicalItem:SB,addPolarGraphicalItem:CB,removePolarGraphicalItem:EB}=_B.actions,PB=_B.reducer;function MB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function OB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MB(Object(n),!0).forEach(function(t){AB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function AB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TB(e){var t=Zy();return k.useEffect(()=>{var n=OB(OB({},e),{},{stackId:o_(e.stackId)});return t(NB(n)),()=>{t(SB(n))}},[t,e]),null}function DB(e){var t=Zy();return k.useEffect(()=>(t(CB(e)),()=>{t(EB(e))}),[t,e]),null}var RB,IB,zB,LB={};function FB(){return zB?IB:(zB=1,IB=(RB||(RB=1,e=LB,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isPlainObject=function(e){var t;if("object"!=typeof e)return!1;if(null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){const n=e[Symbol.toStringTag];return null!=n&&!!(null==(t=Object.getOwnPropertyDescriptor(e,Symbol.toStringTag))?void 0:t.writable)&&e.toString()===`[object ${n}]`}let n=e;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}),LB).isPlainObject);var e}const BB=i(FB());function WB(){return WB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WB.apply(null,arguments)}var VB=(e,t,n,r,i)=>{var a,s=n-r;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+n,",").concat(t),a+="L ".concat(e+n-s/2,",").concat(t+i),a+="L ".concat(e+n-s/2-r,",").concat(t+i),a+="L ".concat(e,",").concat(t," Z")},$B={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},KB=e=>{var t=Wj(e,$B),n=k.useRef(),[r,i]=k.useState(-1);k.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&i(e)}catch(t){}},[]);var{x:a,y:s,upperWidth:o,lowerWidth:l,height:c,className:u}=t,{animationEasing:d,animationDuration:h,animationBegin:f,isUpdateAnimationActive:m}=t;if(a!==+a||s!==+s||o!==+o||l!==+l||c!==+c||0===o&&0===l||0===c)return null;var p=Ke("recharts-trapezoid",u);return m?k.createElement(Mk,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:c,x:a,y:s},to:{upperWidth:o,lowerWidth:l,height:c,x:a,y:s},duration:h,animationEasing:d,isActive:m},e=>{var{upperWidth:i,lowerWidth:a,height:s,x:o,y:l}=e;return k.createElement(Mk,{canBegin:r>0,from:"0px ".concat(-1===r?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:f,duration:h,easing:d},k.createElement("path",WB({},gm(t,!0),{className:p,d:VB(o,l,i,a,s),ref:n})))}):k.createElement("g",null,k.createElement("path",WB({},gm(t,!0),{className:p,d:VB(a,s,o,l,c)})))},HB=["option","shapeType","propTransformer","activeClassName","isActive"];function UB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function YB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UB(Object(n),!0).forEach(function(t){qB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function qB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GB(e,t){return YB(YB({},t),e)}function XB(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return k.createElement(Dk,n);case"trapezoid":return k.createElement(KB,n);case"sector":return k.createElement(Bk,n);case"symbols":if(function(e){return"symbols"===e}(t))return k.createElement(rv,n);break;default:return null}}function QB(e){var t,{option:n,shapeType:r,propTransformer:i=GB,activeClassName:a="recharts-active-shape",isActive:s}=e,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,HB);if(k.isValidElement(n))t=k.cloneElement(n,YB(YB({},o),function(e){return k.isValidElement(e)?e.props:e}(n)));else if("function"==typeof n)t=n(o);else if(BB(n)&&"boolean"!=typeof n){var l=i(n,o);t=k.createElement(XB,{shapeType:r,elementProps:l})}else{var c=o;t=k.createElement(XB,{shapeType:r,elementProps:c})}return s?k.createElement(_m,{className:a},t):t}var ZB=(e,t)=>{var n=Zy();return(r,i)=>a=>{null==e||e(r,i,a),n(gI({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},JB=e=>{var t=Zy();return(n,r)=>i=>{null==e||e(n,r,i),t(vI())}},eW=(e,t)=>{var n=Zy();return(r,i)=>a=>{null==e||e(r,i,a),n(xI({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function tW(e){var{fn:t,args:n}=e,r=Zy(),i=O_();return k.useEffect(()=>{if(!i){var e=t(n);return r(fI(e)),()=>{r(mI(e))}}},[t,n,r,i]),null}var nW=()=>{};function rW(e){var{legendPayload:t}=e,n=Zy(),r=O_();return k.useEffect(()=>r?nW:(n(H_(t)),()=>{n(U_(t))}),[n,r,t]),null}function iW(e){var{legendPayload:t}=e,n=Zy(),r=nx(B_);return k.useEffect(()=>"centric"!==r&&"radial"!==r?nW:(n(H_(t)),()=>{n(U_(t))}),[n,r,t]),null}function aW(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",n=k.useRef(Xf(t)),r=k.useRef(e);return r.current!==e&&(n.current=Xf(t),r.current=e),n.current}var sW=["onMouseEnter","onClick","onMouseLeave"];function oW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oW(Object(n),!0).forEach(function(t){cW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function cW(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uW(){return uW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uW.apply(null,arguments)}function dW(e){var t=k.useMemo(()=>gm(e,!1),[e]),n=k.useMemo(()=>mm(e.children,FL),[e.children]),r=k.useMemo(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:t}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,t]),i=nx(e=>xB(e,r,n));return k.createElement(iW,{legendPayload:i})}function hW(e){var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:c}=e;return{dataDefinedOnItem:null==r?void 0:r.map(e=>e.tooltipPayload),positions:null==r?void 0:r.map(e=>e.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:n,name:p_(o,t),hide:l,type:c,color:s,unit:""}}}function fW(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:a,dataKey:s}=n;if(!r||!i||!t)return null;var o=gm(n,!1),l=gm(i,!1),c=gm(a,!1),u="object"==typeof i&&"offsetRadius"in i&&i.offsetRadius||20,d=t.map((e,t)=>{var n,r,d=(e.startAngle+e.endAngle)/2,h=Uw(e.cx,e.cy,e.outerRadius+u,d),f=lW(lW(lW(lW({},o),e),{},{stroke:"none"},l),{},{index:t,textAnchor:(n=h.x,r=e.cx,n>r?"start":n<r?"end":"middle")},h),m=lW(lW(lW(lW({},o),e),{},{fill:"none",stroke:e.fill},c),{},{index:t,points:[Uw(e.cx,e.cy,e.outerRadius,d),h],key:"line"});return k.createElement(_m,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(t)},a&&((e,t)=>{if(k.isValidElement(e))return k.cloneElement(e,t);if("function"==typeof e)return e(t);var n=Ke("recharts-pie-label-line","boolean"!=typeof e?e.className:"");return k.createElement(Aj,uW({},t,{type:"linear",className:n}))})(a,m),((e,t,n)=>{if(k.isValidElement(e))return k.cloneElement(e,t);var r=n;if("function"==typeof e&&(r=e(t),k.isValidElement(r)))return r;var i=Ke("recharts-pie-label-text","boolean"!=typeof e&&"function"!=typeof e?e.className:"");return k.createElement(mF,uW({},t,{alignmentBaseline:"middle",className:i}),r)})(i,f,e_(e,s)))});return k.createElement(_m,{className:"recharts-pie-labels"},d)}function mW(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,showLabels:a}=e,s=nx(gz),{onMouseEnter:o,onClick:l,onMouseLeave:c}=i,u=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(i,sW),d=ZB(o,i.dataKey),h=JB(c),f=eW(l,i.dataKey);return null==t?null:k.createElement(k.Fragment,null,t.map((e,a)=>{if(0===(null==e?void 0:e.startAngle)&&0===(null==e?void 0:e.endAngle)&&1!==t.length)return null;var o=n&&String(a)===s,l=o?n:s?r:null,c=lW(lW({},e),{},{stroke:e.stroke,tabIndex:-1,[__]:a,[j_]:i.dataKey});return k.createElement(_m,uW({tabIndex:-1,className:"recharts-pie-sector"},cm(u,e,a),{onMouseEnter:d(e,a),onMouseLeave:h(e,a),onClick:f(e,a),key:"sector-".concat(null==e?void 0:e.startAngle,"-").concat(null==e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(a)}),k.createElement(QB,uW({option:l,isActive:o,shapeType:"sector"},c)))}),k.createElement(fW,{sectors:t,props:i,showLabels:a}))}function pW(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:i,animationBegin:a,animationDuration:s,animationEasing:o,activeShape:l,inactiveShape:c,onAnimationStart:u,onAnimationEnd:d}=t,h=aW(t,"recharts-pie-"),f=n.current,[m,p]=k.useState(!0),g=k.useCallback(()=>{"function"==typeof d&&d(),p(!1)},[d]),v=k.useCallback(()=>{"function"==typeof u&&u(),p(!0)},[u]);return k.createElement(Mk,{begin:a,duration:s,isActive:i,easing:o,from:{t:0},to:{t:1},onAnimationStart:v,onAnimationEnd:g,key:h},e=>{var{t:i}=e,a=[],s=(r&&r[0]).startAngle;return r.forEach((e,t)=>{var n=f&&f[t],r=t>0?Lf(e,"paddingAngle",0):0;if(n){var o=Jf(n.endAngle-n.startAngle,e.endAngle-e.startAngle),l=lW(lW({},e),{},{startAngle:s+r,endAngle:s+o(i)+r});a.push(l),s=l.endAngle}else{var{endAngle:c,startAngle:u}=e,d=Jf(0,c-u)(i),h=lW(lW({},e),{},{startAngle:s+r,endAngle:s+d+r});a.push(h),s=h.endAngle}}),n.current=a,k.createElement(_m,null,k.createElement(mW,{sectors:a,activeShape:l,inactiveShape:c,allOtherPieProps:t,showLabels:!m}))})}function gW(e){var{sectors:t,isAnimationActive:n,activeShape:r,inactiveShape:i}=e,a=k.useRef(null),s=a.current;return n&&t&&t.length&&(!s||s!==t)?k.createElement(pW,{props:e,previousSectorsRef:a}):k.createElement(mW,{sectors:t,activeShape:r,inactiveShape:i,allOtherPieProps:e,showLabels:!0})}function vW(e){var{hide:t,className:n,rootTabIndex:r}=e,i=Ke("recharts-pie",n);return t?null:k.createElement(_m,{tabIndex:r,className:i},k.createElement(gW,e))}var yW={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!xj,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function xW(e){var t=Wj(e,yW),n=k.useMemo(()=>mm(e.children,FL),[e.children]),r=gm(t,!1),i=k.useMemo(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:r}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,r]),a=nx(e=>wB(e,i,n));return k.createElement(k.Fragment,null,k.createElement(tW,{fn:hW,args:lW(lW({},t),{},{sectors:a})}),k.createElement(vW,uW({},t,{sectors:a})))}class bW extends k.PureComponent{constructor(){super(...arguments),cW(this,"id",Xf("recharts-pie-"))}render(){return k.createElement(k.Fragment,null,k.createElement(DB,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),k.createElement(dW,this.props),k.createElement(xW,this.props),this.props.children)}}function wW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wW(Object(n),!0).forEach(function(t){jW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function jW(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kW(e){var t,{points:n,mainColor:r,activeDot:i,itemDataKey:a}=e,s=Sz(),o=nx(gz),l=nx(vz);if(!o)return null;var c=s.dataKey;return t=c&&!s.allowDuplicatedCategory?tm(n,"function"==typeof c?e=>c(e.payload):"payload.".concat(c),l):null==n?void 0:n[Number(o)],nm(t)?null:(e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=e;if(!1===i||null==t.x||null==t.y)return null;var s,o=_W(_W({index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:null!=r?r:"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},gm(i,!1)),lm(i));return s=k.isValidElement(i)?k.cloneElement(i,o):"function"==typeof i?i(o):k.createElement(qF,o),k.createElement(_m,{className:"recharts-active-dot"},s)})({point:t,childIndex:Number(o),mainColor:r,dataKey:a,activeDot:i})}cW(bW,"displayName","Pie"),cW(bW,"defaultProps",yW);var NW=()=>{var e=Zy();return k.useEffect(()=>(e(jB()),()=>{e(kB())})),null},SW=["children"],CW=()=>{},EW=k.createContext({addErrorBar:CW,removeErrorBar:CW}),PW={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},MW=k.createContext(PW);function OW(e){var{children:t}=e,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,SW);return k.createElement(MW.Provider,{value:n},t)}var AW=e=>{var{children:t,xAxisId:n,yAxisId:r,zAxisId:i,dataKey:a,data:s,stackId:o,hide:l,type:c,barSize:u}=e,[d,h]=k.useState([]),f=k.useCallback(e=>{h(t=>[...t,e])},[h]),m=k.useCallback(e=>{h(t=>t.filter(t=>t!==e))},[h]),p=O_();return k.createElement(EW.Provider,{value:{addErrorBar:f,removeErrorBar:m}},k.createElement(TB,{type:c,data:s,xAxisId:n,yAxisId:r,zAxisId:i,dataKey:a,errorBars:d,stackId:o,hide:l,barSize:u,isPanorama:p}),t)};function TW(e){var{addErrorBar:t,removeErrorBar:n}=k.useContext(EW);return k.useEffect(()=>(t(e),()=>{n(e)}),[t,n,e]),null}var DW=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function RW(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IW(){return IW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IW.apply(null,arguments)}function zW(e){var{direction:t,width:n,dataKey:r,isAnimationActive:i,animationBegin:a,animationDuration:s,animationEasing:o}=e,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,DW),c=gm(l,!1),{data:u,dataPointFormatter:d,xAxisId:h,yAxisId:f,errorBarOffset:m}=k.useContext(MW),p=(e=>{var t=O_();return nx(n=>nI(n,"xAxis",e,t))})(h),g=(e=>{var t=O_();return nx(n=>nI(n,"yAxis",e,t))})(f);if(null==(null==p?void 0:p.scale)||null==(null==g?void 0:g.scale)||null==u)return null;if("x"===t&&"number"!==p.type)return null;var v=u.map(e=>{var{x:l,y:u,value:h,errorVal:f}=d(e,r,t);if(!f)return null;var v,y,x=[];if(Array.isArray(f)?[v,y]=f:v=y=f,"x"===t){var{scale:b}=p,w=u+m,_=w+n,j=w-n,N=b(h-v),S=b(h+y);x.push({x1:S,y1:_,x2:S,y2:j}),x.push({x1:N,y1:w,x2:S,y2:w}),x.push({x1:N,y1:_,x2:N,y2:j})}else if("y"===t){var{scale:C}=g,E=l+m,P=E-n,M=E+n,O=C(h-v),A=C(h+y);x.push({x1:P,y1:A,x2:M,y2:A}),x.push({x1:E,y1:O,x2:E,y2:A}),x.push({x1:P,y1:O,x2:M,y2:O})}var T="".concat(l+m,"px ").concat(u+m,"px");return k.createElement(_m,IW({className:"recharts-errorBar",key:"bar-".concat(x.map(e=>"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)))},c),x.map(e=>{var t=i?{transformOrigin:"".concat(e.x1-5,"px")}:void 0;return k.createElement(Mk,{from:{transform:"scaleY(0)",transformOrigin:T},to:{transform:"scaleY(1)",transformOrigin:T},begin:a,easing:o,isActive:i,duration:s,key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2),style:{transformOrigin:T}},k.createElement("line",IW({},e,{style:t})))}))});return k.createElement(_m,{className:"recharts-errorBars"},v)}var LW=k.createContext(void 0);function FW(e){var{direction:t,children:n}=e;return k.createElement(LW.Provider,{value:t},n)}var BW={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function WW(e){var t,n,r=(t=e.direction,n=k.useContext(LW),null!=t?t:null!=n?n:"x"),{width:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l}=Wj(e,BW);return k.createElement(k.Fragment,null,k.createElement(TW,{dataKey:e.dataKey,direction:r}),k.createElement(zW,IW({},e,{direction:r,width:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l})))}class VW extends k.Component{render(){return k.createElement(WW,this.props)}}RW(VW,"defaultProps",BW),RW(VW,"displayName","ErrorBar");var $W=["x","y"];function KW(){return KW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KW.apply(null,arguments)}function HW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function UW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HW(Object(n),!0).forEach(function(t){YW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function YW(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qW(e,t){var{x:n,y:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,$W),a="".concat(n),s=parseInt(a,10),o="".concat(r),l=parseInt(o,10),c="".concat(t.height||i.height),u=parseInt(c,10),d="".concat(t.width||i.width),h=parseInt(d,10);return UW(UW(UW(UW(UW({},t),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function GW(e){return k.createElement(QB,KW({shapeType:"rectangle",propTransformer:qW,activeClassName:"recharts-active-bar"},e))}var XW=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(n,r)=>{if(Yf(e))return e;var i=Yf(n)||nm(n);return i?e(n,r):(i||function(){throw new Error("Invariant failed")}(),t)}};function QW(e,t){var n,r,i=nx(t=>jD(t,e)),a=nx(e=>ND(e,t)),s=null!==(n=null==i?void 0:i.allowDataOverflow)&&void 0!==n?n:_D.allowDataOverflow,o=null!==(r=null==a?void 0:a.allowDataOverflow)&&void 0!==r?r:kD.allowDataOverflow;return{needClip:s||o,needClipX:s,needClipY:o}}function ZW(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=I_(),{needClipX:a,needClipY:s,needClip:o}=QW(t,n);if(!o)return null;var{left:l,top:c,width:u,height:d}=i;return k.createElement("clipPath",{id:"clipPath-".concat(r)},k.createElement("rect",{x:a?l:l-u/2,y:s?c:c-d/2,width:a?u:2*u,height:s?d:2*d}))}var JW=["onMouseEnter","onMouseLeave","onClick"],eV=["value","background","tooltipPosition"],tV=["onMouseEnter","onClick","onMouseLeave"];function nV(){return nV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nV.apply(null,arguments)}function rV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function iV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rV(Object(n),!0).forEach(function(t){aV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function aV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sV(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var oV=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:p_(n,t),payload:e}]};function lV(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:a,hide:s,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:p_(a,t),hide:s,type:e.tooltipType,color:e.fill,unit:o}}}function cV(e){var t=nx(gz),{data:n,dataKey:r,background:i,allOtherBarProps:a}=e,{onMouseEnter:s,onMouseLeave:o,onClick:l}=a,c=sV(a,JW),u=ZB(s,r),d=JB(o),h=eW(l,r);if(!i||null==n)return null;var f=gm(i,!1);return k.createElement(k.Fragment,null,n.map((e,n)=>{var{value:a,background:s,tooltipPosition:o}=e,l=sV(e,eV);if(!s)return null;var m=u(e,n),p=d(e,n),g=h(e,n),v=iV(iV(iV(iV(iV({option:i,isActive:String(n)===t},l),{},{fill:"#eee"},s),f),cm(c,e,n)),{},{onMouseEnter:m,onMouseLeave:p,onClick:g,dataKey:r,index:n,className:"recharts-bar-background-rectangle"});return k.createElement(GW,nV({key:"background-bar-".concat(n)},v))}))}function uV(e){var{data:t,props:n,showLabels:r}=e,i=gm(n,!1),{shape:a,dataKey:s,activeBar:o}=n,l=nx(gz),c=nx(yz),{onMouseEnter:u,onClick:d,onMouseLeave:h}=n,f=sV(n,tV),m=ZB(u,s),p=JB(h),g=eW(d,s);return t?k.createElement(k.Fragment,null,t.map((e,t)=>{var n=o&&String(t)===l&&(null==c||s===c),r=n?o:a,u=iV(iV(iV({},i),e),{},{isActive:n,option:r,index:t,dataKey:s});return k.createElement(_m,nV({className:"recharts-bar-rectangle"},cm(f,e,t),{onMouseEnter:m(e,t),onMouseLeave:p(e,t),onClick:g(e,t),key:"rectangle-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.value,"-").concat(t)}),k.createElement(GW,u))}),r&&UF.renderCallByParent(n,t)):null}function dV(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=t,d=n.current,h=aW(t,"recharts-bar-"),[f,m]=k.useState(!1),p=k.useCallback(()=>{"function"==typeof c&&c(),m(!1)},[c]),g=k.useCallback(()=>{"function"==typeof u&&u(),m(!0)},[u]);return k.createElement(Mk,{begin:s,duration:o,isActive:a,easing:l,from:{t:0},to:{t:1},onAnimationEnd:p,onAnimationStart:g,key:h},e=>{var{t:a}=e,s=1===a?r:r.map((e,t)=>{var n=d&&d[t];if(n){var r=Jf(n.x,e.x),s=Jf(n.y,e.y),o=Jf(n.width,e.width),l=Jf(n.height,e.height);return iV(iV({},e),{},{x:r(a),y:s(a),width:o(a),height:l(a)})}if("horizontal"===i){var c=Jf(0,e.height)(a);return iV(iV({},e),{},{y:e.y+e.height-c,height:c})}var u=Jf(0,e.width)(a);return iV(iV({},e),{},{width:u})});return a>0&&(n.current=s),k.createElement(_m,null,k.createElement(uV,{props:t,data:s,showLabels:!f}))})}function hV(e){var{data:t,isAnimationActive:n}=e,r=k.useRef(null);return n&&t&&t.length&&(null==r.current||r.current!==t)?k.createElement(dV,{previousRectanglesRef:r,props:e}):k.createElement(uV,{props:e,data:t,showLabels:!0})}var fV=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:e_(e,t)}};class mV extends k.PureComponent{constructor(){super(...arguments),aV(this,"id",Xf("recharts-bar-"))}render(){var{hide:e,data:t,dataKey:n,className:r,xAxisId:i,yAxisId:a,needClip:s,background:o,id:l,layout:c}=this.props;if(e)return null;var u=Ke("recharts-bar",r),d=nm(l)?this.id:l;return k.createElement(_m,{className:u},s&&k.createElement("defs",null,k.createElement(ZW,{clipPathId:d,xAxisId:i,yAxisId:a})),k.createElement(_m,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(d,")"):null},k.createElement(cV,{data:t,dataKey:n,background:o,allOtherBarProps:this.props}),k.createElement(hV,this.props)),k.createElement(FW,{direction:"horizontal"===c?"y":"x"},this.props.children))}}var pV={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!xj,legendType:"rect",minPointSize:0,xAxisId:0,yAxisId:0};function gV(e){var t,{xAxisId:n,yAxisId:r,hide:i,legendType:a,minPointSize:s,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=Wj(e,pV),{needClip:h}=QW(n,r),f=W_(),m=O_(),p=k.useMemo(()=>({barSize:e.barSize,data:void 0,dataKey:e.dataKey,maxBarSize:e.maxBarSize,minPointSize:s,stackId:o_(e.stackId)}),[e.barSize,e.dataKey,e.maxBarSize,s,e.stackId]),g=mm(e.children,FL),v=nx(e=>AV(e,n,r,m,p,g));if("vertical"!==f&&"horizontal"!==f)return null;var y=null==v?void 0:v[0];return t=null==y||null==y.height||null==y.width?0:"vertical"===f?y.height/2:y.width/2,k.createElement(OW,{xAxisId:n,yAxisId:r,data:v,dataPointFormatter:fV,errorBarOffset:t},k.createElement(mV,nV({},e,{layout:f,needClip:h,data:v,xAxisId:n,yAxisId:r,hide:i,legendType:a,minPointSize:s,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function vV(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:s,yAxis:o,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:d,offset:h,cells:f}=e,m="horizontal"===t?o:s,p=u?m.scale.domain():null,g=(e=>{var{numericAxis:t}=e,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]})({numericAxis:m});return d.map((e,d)=>{var m,v,y,x,b,w;u?m=((e,t)=>{if(!t||2!==t.length||!Yf(t[0])||!Yf(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Yf(e[0])||e[0]<n)&&(i[0]=n),(!Yf(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i})(u[d],p):(m=e_(e,n),Array.isArray(m)||(m=[g,m]));var _=XW(r,0)(m[1],d);if("horizontal"===t){var j,[k,N]=[o.scale(m[0]),o.scale(m[1])];v=c_({axis:s,ticks:l,bandSize:a,offset:i.offset,entry:e,index:d}),y=null!==(j=null!=N?N:k)&&void 0!==j?j:void 0,x=i.size;var S=k-N;if(b=Hf(S)?0:S,w={x:v,y:h.top,width:x,height:h.height},Math.abs(_)>0&&Math.abs(b)<Math.abs(_)){var C=Kf(b||_)*(Math.abs(_)-Math.abs(b));y-=C,b+=C}}else{var[E,P]=[s.scale(m[0]),s.scale(m[1])];v=E,y=c_({axis:o,ticks:c,bandSize:a,offset:i.offset,entry:e,index:d}),x=P-E,b=i.size,w={x:h.left,y:y,width:h.width,height:b},Math.abs(_)>0&&Math.abs(x)<Math.abs(_)&&(x+=Kf(x||_)*(Math.abs(_)-Math.abs(x)))}return iV(iV({},e),{},{x:v,y:y,width:x,height:b,value:u?m:m[1],payload:e,background:w,tooltipPosition:{x:v+x/2,y:y+b/2}},f&&f[d]&&f[d].props)})}class yV extends k.PureComponent{render(){return k.createElement(AW,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},k.createElement(NW,null),k.createElement(rW,{legendPayload:oV(this.props)}),k.createElement(tW,{fn:lV,args:this.props}),k.createElement(gV,this.props))}}function xV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xV(Object(n),!0).forEach(function(t){wV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function wV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}aV(yV,"displayName","Bar"),aV(yV,"defaultProps",pV);var _V=(e,t,n,r,i)=>i,jV=(e,t,n)=>{var r=null!=n?n:e;if(!nm(r))return Qf(r,t,0)},kV=ux([B_,AD,(e,t)=>t,(e,t,n)=>n,(e,t,n,r)=>r],(e,t,n,r,i)=>t.filter(t=>"horizontal"===e?t.xAxisId===n:t.yAxisId===r).filter(e=>e.isPanorama===i).filter(e=>!1===e.hide).filter(e=>"bar"===e.type));function NV(e){return null!=e.stackId&&null!=e.dataKey}var SV=ux([kV,e=>e.rootProps.barSize,(e,t,n)=>"horizontal"===B_(e)?qR(e,"xAxis",t):qR(e,"yAxis",n)],(e,t,n)=>{var r=e.filter(NV),i=e.filter(e=>null==e.stackId),a=r.reduce((e,t)=>(e[t.stackId]||(e[t.stackId]=[]),e[t.stackId].push(t),e),{});return[...Object.entries(a).map(e=>{var[r,i]=e;return{stackId:r,dataKeys:i.map(e=>e.dataKey),barSize:jV(t,n,i[0].barSize)}}),...i.map(e=>({stackId:void 0,dataKeys:[e.dataKey].filter(e=>null!=e),barSize:jV(t,n,e.barSize)}))]}),CV=(e,t,n,r)=>{var i,a;return"horizontal"===B_(e)?(i=nI(e,"xAxis",t,r),a=tI(e,"xAxis",t,r)):(i=nI(e,"yAxis",n,r),a=tI(e,"yAxis",n,r)),f_(i,a)},EV=ux([SV,BT,e=>e.rootProps.barGap,WT,(e,t,n,r,i)=>{var a,s,o,l,c=B_(e),u=BT(e),{maxBarSize:d}=i,h=nm(d)?u:d;return"horizontal"===c?(o=nI(e,"xAxis",t,r),l=tI(e,"xAxis",t,r)):(o=nI(e,"yAxis",n,r),l=tI(e,"yAxis",n,r)),null!==(a=null!==(s=f_(o,l,!0))&&void 0!==s?s:h)&&void 0!==a?a:0},CV,(e,t,n,r,i)=>i.maxBarSize],(e,t,n,r,i,a,s)=>{var o=nm(s)?t:s,l=function(e,t,n,r,i){var a=r.length;if(!(a<1)){var s,o=Qf(e,n,0,!0),l=[];if(wj(r[0].barSize)){var c=!1,u=n/a,d=r.reduce((e,t)=>e+(t.barSize||0),0);(d+=(a-1)*o)>=n&&(d-=(a-1)*o,o=0),d>=n&&u>0&&(c=!0,d=a*(u*=.9));var h={offset:((n-d)/2|0)-o,size:0};s=r.reduce((e,t)=>{var n,r=[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:h.offset+h.size+o,size:c?u:null!==(n=t.barSize)&&void 0!==n?n:0}}];return h=r[r.length-1].position,r},l)}else{var f=Qf(t,n,0,!0);n-2*f-(a-1)*o<=0&&(o=0);var m=(n-2*f-(a-1)*o)/a;m>1&&(m>>=0);var p=wj(i)?Math.min(m,i):m;s=r.reduce((e,t,n)=>[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:f+(m+o)*n+(m-p)/2,size:p}}],l)}return s}}(n,r,i!==a?i:a,e,o);return i!==a&&null!=l&&(l=l.map(e=>bV(bV({},e),{},{position:bV(bV({},e.position),{},{offset:e.position.offset-i/2})}))),l}),PV=ux([EV,_V],(e,t)=>{if(null!=e){var n=e.find(e=>e.stackId===t.stackId&&e.dataKeys.includes(t.dataKey));if(null!=n)return n.position}}),MV=ux([AD,_V],(e,t)=>{if(e.some(e=>"bar"===e.type&&t.dataKey===e.dataKey&&t.stackId===e.stackId&&t.stackId===e.stackId))return t}),OV=ux([(e,t,n,r)=>"horizontal"===B_(e)?qD(e,"yAxis",n,r):qD(e,"xAxis",t,r),_V],(e,t)=>{if(e&&null!=(null==t?void 0:t.dataKey)){var{stackId:n}=t;if(null!=n){var r=e[n];if(r){var{stackedData:i}=r;if(i)return i.find(e=>e.key===t.dataKey)}}}}),AV=ux([C_,(e,t,n,r)=>nI(e,"xAxis",t,r),(e,t,n,r)=>nI(e,"yAxis",n,r),(e,t,n,r)=>tI(e,"xAxis",t,r),(e,t,n,r)=>tI(e,"yAxis",n,r),PV,B_,$A,CV,OV,MV,(e,t,n,r,i,a)=>a],(e,t,n,r,i,a,s,o,l,c,u,d)=>{var{chartData:h,dataStartIndex:f,dataEndIndex:m}=o;if(null!=u&&null!=a&&("horizontal"===s||"vertical"===s)&&null!=t&&null!=n&&null!=r&&null!=i&&null!=l){var p,{data:g}=u;if(null!=(p=null!=g&&g.length>0?g:null==h?void 0:h.slice(f,m+1)))return vV({layout:s,barSettings:u,pos:a,bandSize:l,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,stackedData:c,displayedData:p,offset:e,cells:d})}}),TV=e=>{var{chartData:t}=e,n=Zy(),r=O_();return k.useEffect(()=>r?()=>{}:(n(lL(t)),()=>{n(lL(void 0))}),[t,n,r]),null},DV={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},RV=ew({name:"brush",initialState:DV,reducers:{setBrushSettings:(e,t)=>null==t.payload?DV:t.payload}}),{setBrushSettings:IV}=RV.actions,zV=RV.reducer;function LV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function FV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LV(Object(n),!0).forEach(function(t){BV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function BV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var WV=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return{x:Math.min(n,i),y:Math.min(r,a),width:Math.abs(i-n),height:Math.abs(a-r)}};class VV{static create(e){return new VV(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==e){if(n)switch(n){case"start":default:return this.scale(e);case"middle":var r=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+r;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}if(t){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}BV(VV,"EPS",1e-4);var $V=e=>{var t=Object.keys(e).reduce((t,n)=>FV(FV({},t),{},{[n]:VV.create(e[n])}),{});return FV(FV({},t),{},{apply(e){var{bandAware:n,position:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.fromEntries(Object.entries(e).map(e=>{var[i,a]=e;return[i,t[i].apply(a,{bandAware:n,position:r})]}))},isInRange:e=>Object.keys(e).every(n=>t[n].isInRange(e[n]))})},KV=ew({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Tb(e).dots.findIndex(e=>e===t.payload);-1!==n&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Tb(e).areas.findIndex(e=>e===t.payload);-1!==n&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Tb(e).lines.findIndex(e=>e===t.payload);-1!==n&&e.lines.splice(n,1)}}}),{addDot:HV,removeDot:UV,addArea:YV,removeArea:qV,addLine:GV,removeLine:XV}=KV.actions,QV=KV.reducer,ZV=k.createContext(void 0),JV=e=>{var{children:t}=e,[n]=k.useState("".concat(Xf("recharts"),"-clip")),r=I_();if(null==r)return null;var{left:i,top:a,height:s,width:o}=r;return k.createElement(ZV.Provider,{value:n},k.createElement("defs",null,k.createElement("clipPath",{id:n},k.createElement("rect",{x:i,y:a,height:s,width:o}))),t)},e$=()=>k.useContext(ZV);function t$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function n$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?t$(Object(n),!0).forEach(function(t){r$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function r$(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i$(){return i$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i$.apply(null,arguments)}function a$(e){var t=Zy();return k.useEffect(()=>(t(GV(e)),()=>{t(XV(e))})),null}function s$(e){var{x:t,y:n,segment:r,xAxisId:i,yAxisId:a,shape:s,className:o,ifOverflow:l}=e,c=O_(),u=e$(),d=nx(e=>jD(e,i)),h=nx(e=>ND(e,a)),f=nx(e=>zR(e,"xAxis",i,c)),m=nx(e=>zR(e,"yAxis",a,c)),p=D_(),g=qf(t),v=qf(n);if(!u||!p||null==d||null==h||null==f||null==m)return null;var y=((e,t,n,r,i,a,s,o,l)=>{var{x:c,y:u,width:d,height:h}=i;if(n){var{y:f}=l,m=e.y.apply(f,{position:a});if(Hf(m))return null;if("discard"===l.ifOverflow&&!e.y.isInRange(m))return null;var p=[{x:c+d,y:m},{x:c,y:m}];return"left"===o?p.reverse():p}if(t){var{x:g}=l,v=e.x.apply(g,{position:a});if(Hf(v))return null;if("discard"===l.ifOverflow&&!e.x.isInRange(v))return null;var y=[{x:v,y:u+h},{x:v,y:u}];return"top"===s?y.reverse():y}if(r){var{segment:x}=l,b=x.map(t=>e.apply(t,{position:a}));return"discard"===l.ifOverflow&&b.some(t=>!e.isInRange(t))?null:b}return null})($V({x:f,y:m}),g,v,r&&2===r.length,p,e.position,d.orientation,h.orientation,e);if(!y)return null;var[{x:x,y:b},{x:w,y:_}]=y,j=n$(n$({clipPath:"hidden"===l?"url(#".concat(u,")"):void 0},gm(e,!0)),{},{x1:x,y1:b,x2:w,y2:_});return k.createElement(_m,{className:Ke("recharts-reference-line",o)},((e,t)=>k.isValidElement(e)?k.cloneElement(e,t):"function"==typeof e?e(t):k.createElement("line",i$({},t,{className:"recharts-reference-line-line"})))(s,j),kF.renderCallByParent(e,(e=>{var{x1:t,y1:n,x2:r,y2:i}=e;return WV({x:t,y:n},{x:r,y:i})})({x1:x,y1:b,x2:w,y2:_})))}function o$(e){return k.createElement(k.Fragment,null,k.createElement(a$,{yAxisId:e.yAxisId,xAxisId:e.xAxisId,ifOverflow:e.ifOverflow,x:e.x,y:e.y}),k.createElement(s$,e))}class l$ extends k.Component{render(){return k.createElement(o$,this.props)}}function c$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c$(Object(n),!0).forEach(function(t){d$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d$(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h$(){return h$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h$.apply(null,arguments)}function f$(e){var t=Zy();return k.useEffect(()=>(t(YV(e)),()=>{t(qV(e))})),null}function m$(e){var{x1:t,x2:n,y1:r,y2:i,className:a,shape:s,xAxisId:o,yAxisId:l}=e,c=e$(),u=O_(),d=nx(e=>zR(e,"xAxis",o,u)),h=nx(e=>zR(e,"yAxis",l,u));if(null==d||null==!h)return null;var f=qf(t),m=qf(n),p=qf(r),g=qf(i);if(!(f||m||p||g||s))return null;var v=((e,t,n,r,i,a,s)=>{var{x1:o,x2:l,y1:c,y2:u}=s;if(null==i||null==a)return null;var d=$V({x:i,y:a}),h={x:e?d.x.apply(o,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(c,{position:"start"}):d.y.rangeMin},f={x:t?d.x.apply(l,{position:"end"}):d.x.rangeMax,y:r?d.y.apply(u,{position:"end"}):d.y.rangeMax};return"discard"!==s.ifOverflow||d.isInRange(h)&&d.isInRange(f)?WV(h,f):null})(f,m,p,g,d,h,e);if(!v&&!s)return null;var y="hidden"===e.ifOverflow?"url(#".concat(c,")"):void 0;return k.createElement(_m,{className:Ke("recharts-reference-area",a)},((e,t)=>k.isValidElement(e)?k.cloneElement(e,t):"function"==typeof e?e(t):k.createElement(Dk,h$({},t,{className:"recharts-reference-area-rect"})))(s,u$(u$({clipPath:y},gm(e,!0)),v)),kF.renderCallByParent(e,v))}function p$(e){return k.createElement(k.Fragment,null,k.createElement(f$,{yAxisId:e.yAxisId,xAxisId:e.xAxisId,ifOverflow:e.ifOverflow,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}),k.createElement(m$,e))}r$(l$,"displayName","ReferenceLine"),r$(l$,"defaultProps",{ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});class g$ extends k.Component{render(){return k.createElement(p$,this.props)}}function v$(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function y$(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function x$(e,t,n){return function(e){var{width:t,height:n}=e,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,a=Math.atan(n/t),s=i>a&&i<Math.PI-a?n/Math.sin(i):t/Math.cos(i);return Math.abs(s)}({width:e.width+t.width,height:e.height+t.height},n)}function b$(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function w$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w$(Object(n),!0).forEach(function(t){j$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function j$(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k$(e,t,n){var r,{tick:i,ticks:a,viewBox:s,minTickGap:o,orientation:l,interval:c,tickFormatter:u,unit:d,angle:h}=e;if(!a||!a.length||!i)return[];if(Yf(c)||xj)return null!==(r=function(e,t){return y$(e,t+1)}(a,Yf(c)?c:0))&&void 0!==r?r:[];var f=[],m="top"===l||"bottom"===l?"width":"height",p=d&&"width"===m?UL(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},g=(e,r)=>{var i="function"==typeof u?u(e.value,r):e.value;return"width"===m?x$(UL(i,{fontSize:t,letterSpacing:n}),p,h):UL(i,{fontSize:t,letterSpacing:n})[m]},v=a.length>=2?Kf(a[1].coordinate-a[0].coordinate):1,y=function(e,t,n){var r="width"===n,{x:i,y:a,width:s,height:o}=e;return 1===t?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}(s,v,m);return"equidistantPreserveStart"===c?function(e,t,n,r,i){for(var a,s=(r||[]).slice(),{start:o,end:l}=t,c=0,u=1,d=o,h=function(){var t=null==r?void 0:r[c];if(void 0===t)return{v:y$(r,u)};var a,s=c,h=()=>(void 0===a&&(a=n(t,s)),a),f=t.coordinate,m=0===c||b$(e,f,h,d,l);m||(c=0,d=o,u+=1),m&&(d=f+e*(h()/2+i),c+=u)};u<=s.length;)if(a=h())return a.v;return[]}(v,y,g,a,o):(f="preserveStart"===c||"preserveStartEnd"===c?function(e,t,n,r,i,a){var s=(r||[]).slice(),o=s.length,{start:l,end:c}=t;if(a){var u=r[o-1],d=n(u,o-1),h=e*(u.coordinate+e*d/2-c);s[o-1]=u=_$(_$({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),b$(e,u.tickCoord,()=>d,l,c)&&(c=u.tickCoord-e*(d/2+i),s[o-1]=_$(_$({},u),{},{isShow:!0}))}for(var f=a?o-1:o,m=function(t){var r,a=s[t],o=()=>(void 0===r&&(r=n(a,t)),r);if(0===t){var u=e*(a.coordinate-e*o()/2-l);s[t]=a=_$(_$({},a),{},{tickCoord:u<0?a.coordinate-u*e:a.coordinate})}else s[t]=a=_$(_$({},a),{},{tickCoord:a.coordinate});b$(e,a.tickCoord,o,l,c)&&(l=a.tickCoord+e*(o()/2+i),s[t]=_$(_$({},a),{},{isShow:!0}))},p=0;p<f;p++)m(p);return s}(v,y,g,a,o,"preserveStartEnd"===c):function(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,c=function(t){var r,c=a[t],u=()=>(void 0===r&&(r=n(c,t)),r);if(t===s-1){var d=e*(c.coordinate+e*u()/2-l);a[t]=c=_$(_$({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else a[t]=c=_$(_$({},c),{},{tickCoord:c.coordinate});b$(e,c.tickCoord,u,o,l)&&(l=c.tickCoord-e*(u()/2+i),a[t]=_$(_$({},c),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return a}(v,y,g,a,o),f.filter(e=>e.isShow))}d$(g$,"displayName","ReferenceArea"),d$(g$,"defaultProps",{ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});var N$=["viewBox"],S$=["viewBox"];function C$(){return C$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C$.apply(null,arguments)}function E$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E$(Object(n),!0).forEach(function(t){O$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function M$(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function O$(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class A$ extends k.Component{constructor(e){super(e),this.tickRefs=k.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,t){var{viewBox:n}=e,r=M$(e,N$),i=this.props,{viewBox:a}=i,s=M$(i,S$);return!v$(n,a)||!v$(r,s)||!v$(t,this.state)}getTickLineCoord(e){var t,n,r,i,a,s,{x:o,y:l,width:c,height:u,orientation:d,tickSize:h,mirror:f,tickMargin:m}=this.props,p=f?-1:1,g=e.tickSize||h,v=Yf(e.tickCoord)?e.tickCoord:e.coordinate;switch(d){case"top":t=n=e.coordinate,s=(r=(i=l+ +!f*u)-p*g)-p*m,a=v;break;case"left":r=i=e.coordinate,a=(t=(n=o+ +!f*c)-p*g)-p*m,s=v;break;case"right":r=i=e.coordinate,a=(t=(n=o+ +f*c)+p*g)+p*m,s=v;break;default:t=n=e.coordinate,s=(r=(i=l+ +f*u)+p*g)+p*m,a=v}return{line:{x1:t,y1:r,x2:n,y2:i},tick:{x:a,y:s}}}getTickTextAnchor(){var e,{orientation:t,mirror:n}=this.props;switch(t){case"left":e=n?"start":"end";break;case"right":e=n?"end":"start";break;default:e="middle"}return e}getTickVerticalAnchor(){var{orientation:e,mirror:t}=this.props;switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}renderAxisLine(){var{x:e,y:t,width:n,height:r,orientation:i,mirror:a,axisLine:s}=this.props,o=P$(P$(P$({},gm(this.props,!1)),gm(s,!1)),{},{fill:"none"});if("top"===i||"bottom"===i){var l=+("top"===i&&!a||"bottom"===i&&a);o=P$(P$({},o),{},{x1:e,y1:t+l*r,x2:e+n,y2:t+l*r})}else{var c=+("left"===i&&!a||"right"===i&&a);o=P$(P$({},o),{},{x1:e+c*n,y1:t,x2:e+c*n,y2:t+r})}return k.createElement("line",C$({},o,{className:Ke("recharts-cartesian-axis-line",Lf(s,"className"))}))}static renderTickItem(e,t,n){var r,i=Ke(t.className,"recharts-cartesian-axis-tick-value");if(k.isValidElement(e))r=k.cloneElement(e,P$(P$({},t),{},{className:i}));else if("function"==typeof e)r=e(P$(P$({},t),{},{className:i}));else{var a="recharts-cartesian-axis-tick-value";"boolean"!=typeof e&&(a=Ke(a,e.className)),r=k.createElement(mF,C$({},t,{className:a}),n)}return r}renderTicks(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],{tickLine:r,stroke:i,tick:a,tickFormatter:s,unit:o}=this.props,l=k$(P$(P$({},this.props),{},{ticks:n}),e,t),c=this.getTickTextAnchor(),u=this.getTickVerticalAnchor(),d=gm(this.props,!1),h=gm(a,!1),f=P$(P$({},d),{},{fill:"none"},gm(r,!1)),m=l.map((e,t)=>{var{line:n,tick:m}=this.getTickLineCoord(e),p=P$(P$(P$(P$({textAnchor:c,verticalAnchor:u},d),{},{stroke:"none",fill:i},h),m),{},{index:t,payload:e,visibleTicksCount:l.length,tickFormatter:s});return k.createElement(_m,C$({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},cm(this.props,e,t)),r&&k.createElement("line",C$({},f,n,{className:Ke("recharts-cartesian-axis-tick-line",Lf(r,"className"))})),a&&A$.renderTickItem(a,p,"".concat("function"==typeof s?s(e.value,t):e.value).concat(o||"")))});return m.length>0?k.createElement("g",{className:"recharts-cartesian-axis-ticks"},m):null}render(){var{axisLine:e,width:t,height:n,className:r,hide:i}=this.props;if(i)return null;var{ticks:a}=this.props;return null!=t&&t<=0||null!=n&&n<=0?null:k.createElement(_m,{className:Ke("recharts-cartesian-axis",r),ref:e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(t);var n=t[0];if(n){var r=window.getComputedStyle(n).fontSize,i=window.getComputedStyle(n).letterSpacing;r===this.state.fontSize&&i===this.state.letterSpacing||this.setState({fontSize:window.getComputedStyle(n).fontSize,letterSpacing:window.getComputedStyle(n).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,a),kF.renderCallByParent(this.props))}}O$(A$,"displayName","CartesianAxis"),O$(A$,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var T$=["x1","y1","x2","y2","key"],D$=["offset"],R$=["xAxisId","yAxisId"],I$=["xAxisId","yAxisId"];function z$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function L$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z$(Object(n),!0).forEach(function(t){F$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function F$(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B$(){return B$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B$.apply(null,arguments)}function W$(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var V$=e=>{var{fill:t}=e;if(!t||"none"===t)return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:o}=e;return k.createElement("rect",{x:r,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function $$(e,t){var n;if(k.isValidElement(e))n=k.cloneElement(e,t);else if("function"==typeof e)n=e(t);else{var{x1:r,y1:i,x2:a,y2:s,key:o}=t,l=W$(t,T$),c=gm(l,!1),{offset:u}=c,d=W$(c,D$);n=k.createElement("line",B$({},d,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:o}))}return n}function K$(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=W$(e,R$),l=i.map((e,i)=>{var a=L$(L$({},o),{},{x1:t,y1:e,x2:t+n,y2:e,key:"line-".concat(i),index:i});return $$(r,a)});return k.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function H$(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=W$(e,I$),l=i.map((e,i)=>{var a=L$(L$({},o),{},{x1:e,y1:t,x2:e,y2:t+n,key:"line-".concat(i),index:i});return $$(r,a)});return k.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function U$(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length)return null;var c=o.map(e=>Math.round(e+i-i)).sort((e,t)=>e-t);i!==c[0]&&c.unshift(0);var u=c.map((e,o)=>{var l=c[o+1]?c[o+1]-e:i+s-e;if(l<=0)return null;var u=o%t.length;return k.createElement("rect",{key:"react-".concat(o),y:e,x:r,height:l,width:a,stroke:"none",fill:t[u],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function Y$(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:o,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var c=l.map(e=>Math.round(e+i-i)).sort((e,t)=>e-t);i!==c[0]&&c.unshift(0);var u=c.map((e,t)=>{var l=c[t+1]?c[t+1]-e:i+s-e;if(l<=0)return null;var u=t%n.length;return k.createElement("rect",{key:"react-".concat(t),x:e,y:a,width:l,height:o,stroke:"none",fill:n[u],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var q$=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return n_(k$(L$(L$(L$({},A$.defaultProps),n),{},{ticks:r_(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},G$=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return n_(k$(L$(L$(L$({},A$.defaultProps),n),{},{ticks:r_(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},X$={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Q$(e){var t=z_(),n=L_(),r=I_(),i=L$(L$({},Wj(e,X$)),{},{x:Yf(e.x)?e.x:r.left,y:Yf(e.y)?e.y:r.top,width:Yf(e.width)?e.width:r.width,height:Yf(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:c,height:u,syncWithTicks:d,horizontalValues:h,verticalValues:f}=i,m=O_(),p=nx(e=>JR(e,"xAxis",a,m)),g=nx(e=>JR(e,"yAxis",s,m));if(!Yf(c)||c<=0||!Yf(u)||u<=0||!Yf(o)||o!==+o||!Yf(l)||l!==+l)return null;var v=i.verticalCoordinatesGenerator||q$,y=i.horizontalCoordinatesGenerator||G$,{horizontalPoints:x,verticalPoints:b}=i;if(!(x&&x.length||"function"!=typeof y)){var w=h&&h.length,_=y({yAxis:g?L$(L$({},g),{},{ticks:w?h:g.ticks}):void 0,width:t,height:n,offset:r},!!w||d);DL(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(x=_)}if(!(b&&b.length||"function"!=typeof v)){var j=f&&f.length,N=v({xAxis:p?L$(L$({},p),{},{ticks:j?f:p.ticks}):void 0,width:t,height:n,offset:r},!!j||d);DL(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(b=N)}return k.createElement("g",{className:"recharts-cartesian-grid"},k.createElement(V$,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),k.createElement(U$,B$({},i,{horizontalPoints:x})),k.createElement(Y$,B$({},i,{verticalPoints:b})),k.createElement(K$,B$({},i,{offset:r,horizontalPoints:x,xAxis:p,yAxis:g})),k.createElement(H$,B$({},i,{offset:r,verticalPoints:b,xAxis:p,yAxis:g})))}Q$.displayName="CartesianGrid";var Z$=(e,t,n,r)=>nI(e,"xAxis",t,r),J$=(e,t,n,r)=>tI(e,"xAxis",t,r),eK=(e,t,n,r)=>nI(e,"yAxis",n,r),tK=(e,t,n,r)=>tI(e,"yAxis",n,r),nK=ux([B_,Z$,eK,J$,tK],(e,t,n,r,i)=>t_(e,"xAxis")?f_(t,r,!1):f_(n,i,!1)),rK=ux([AD,(e,t,n,r,i)=>i],(e,t)=>{if(e.some(e=>"line"===e.type&&t.dataKey===e.dataKey&&t.data===e.data))return t}),iK=ux([B_,Z$,eK,J$,tK,rK,nK,$A],(e,t,n,r,i,a,s,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=o;if(null!=a&&null!=t&&null!=n&&null!=r&&null!=i&&0!==r.length&&0!==i.length&&null!=s){var d,{dataKey:h,data:f}=a;if(null!=(d=null!=f&&f.length>0?f:null==l?void 0:l.slice(c,u+1)))return function(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:l}=e;return l.map((e,l)=>{var c=e_(e,s);return"horizontal"===t?{x:l_({axis:n,ticks:i,bandSize:o,entry:e,index:l}),y:nm(c)?null:r.scale(c),value:c,payload:e}:{x:nm(c)?null:n.scale(c),y:l_({axis:r,ticks:a,bandSize:o,entry:e,index:l}),value:c,payload:e}})}({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:h,bandSize:s,displayedData:d})}}),aK=["type","layout","connectNulls","needClip"],sK=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function oK(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function cK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lK(Object(n),!0).forEach(function(t){uK(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lK(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function uK(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dK(){return dK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dK.apply(null,arguments)}var hK=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:p_(n,t),payload:e}]};function fK(e){var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:l}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:p_(s,t),hide:o,type:e.tooltipType,color:e.stroke,unit:l}}}var mK=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function pK(e,t){for(var n=e.length%2!=0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}function gK(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:a,needClip:s}=r;if(!function(e,t){return null!=e&&(!!t||1===e.length)}(n,i))return null;var o=pm(i),l=gm(r,!1),c=gm(i,!0),u=n.map((e,t)=>{var r=cK(cK(cK({key:"dot-".concat(t),r:3},l),c),{},{index:t,cx:e.x,cy:e.y,dataKey:a,value:e.value,payload:e.payload,points:n});return function(e,t){var n;if(k.isValidElement(e))n=k.cloneElement(e,t);else if("function"==typeof e)n=e(t);else{var r=Ke("recharts-line-dot","boolean"!=typeof e?e.className:"");n=k.createElement(qF,dK({},t,{className:r}))}return n}(i,r)}),d={clipPath:s?"url(#clipPath-".concat(o?"":"dots-").concat(t,")"):null};return k.createElement(_m,dK({className:"recharts-line-dots",key:"dots"},d),u)}function vK(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:a,showLabels:s}=e,{type:o,layout:l,connectNulls:c,needClip:u}=a,d=oK(a,aK),h=cK(cK({},gm(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):null,points:r,type:o,layout:l,connectNulls:c,strokeDasharray:null!=i?i:a.strokeDasharray});return k.createElement(k.Fragment,null,(null==r?void 0:r.length)>1&&k.createElement(Aj,dK({},h,{pathRef:n})),k.createElement(gK,{points:r,clipPathId:t,props:a}),s&&UF.renderCallByParent(a,r))}function yK(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:s,strokeDasharray:o,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:d,animateNewValues:h,width:f,height:m,onAnimationEnd:p,onAnimationStart:g}=n,v=i.current,y=aW(n,"recharts-line-"),[x,b]=k.useState(!1),w=k.useCallback(()=>{"function"==typeof p&&p(),b(!1)},[p]),_=k.useCallback(()=>{"function"==typeof g&&g(),b(!0)},[g]),j=function(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}(r.current),N=a.current;return k.createElement(Mk,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},onAnimationEnd:w,onAnimationStart:_,key:y},e=>{var l,{t:c}=e,u=Jf(N,j+N),d=Math.min(u(c),j);if(o){var p="".concat(o).split(/[,\s]+/gim).map(e=>parseFloat(e));l=((e,t,n)=>{var r=n.reduce((e,t)=>e+t);if(!r)return mK(t,e);for(var i=Math.floor(e/r),a=e%r,s=t-e,o=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>a){o=[...n.slice(0,l),a-c];break}var u=o.length%2==0?[0,s]:[s];return[...pK(n,i),...o,...u].map(e=>"".concat(e,"px")).join(", ")})(d,j,p)}else l=mK(j,d);if(v){var g=v.length/s.length,y=1===c?s:s.map((e,t)=>{var n=Math.floor(t*g);if(v[n]){var r=v[n],i=Jf(r.x,e.x),a=Jf(r.y,e.y);return cK(cK({},e),{},{x:i(c),y:a(c)})}if(h){var s=Jf(2*f,e.x),o=Jf(m/2,e.y);return cK(cK({},e),{},{x:s(c),y:o(c)})}return cK(cK({},e),{},{x:e.x,y:e.y})});return i.current=y,k.createElement(vK,{props:n,points:y,clipPathId:t,pathRef:r,showLabels:!x,strokeDasharray:l})}return c>0&&j>0&&(i.current=s,a.current=d),k.createElement(vK,{props:n,points:s,clipPathId:t,pathRef:r,showLabels:!x,strokeDasharray:l})})}function xK(e){var{clipPathId:t,props:n}=e,{points:r,isAnimationActive:i}=n,a=k.useRef(null),s=k.useRef(0),o=k.useRef(null),l=a.current;return i&&r&&r.length&&l!==r?k.createElement(yK,{props:n,clipPathId:t,previousPointsRef:a,longestAnimatedLengthRef:s,pathRef:o}):k.createElement(vK,{props:n,points:r,clipPathId:t,pathRef:o,showLabels:!0})}var bK=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:e_(e.payload,t)});class wK extends k.Component{constructor(){super(...arguments),uK(this,"id",Xf("recharts-line-"))}render(){var e,{hide:t,dot:n,points:r,className:i,xAxisId:a,yAxisId:s,top:o,left:l,width:c,height:u,id:d,needClip:h,layout:f}=this.props;if(t)return null;var m=Ke("recharts-line",i),p=nm(d)?this.id:d,{r:g=3,strokeWidth:v=2}=null!==(e=gm(n,!1))&&void 0!==e?e:{r:3,strokeWidth:2},y=pm(n),x=2*g+v;return k.createElement(k.Fragment,null,k.createElement(_m,{className:m},h&&k.createElement("defs",null,k.createElement(ZW,{clipPathId:p,xAxisId:a,yAxisId:s}),!y&&k.createElement("clipPath",{id:"clipPath-dots-".concat(p)},k.createElement("rect",{x:l-x/2,y:o-x/2,width:c+x,height:u+x}))),k.createElement(xK,{props:this.props,clipPathId:p}),k.createElement(FW,{direction:"horizontal"===f?"y":"x"},k.createElement(OW,{xAxisId:a,yAxisId:s,data:r,dataPointFormatter:bK,errorBarOffset:0},this.props.children))),k.createElement(kW,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var _K={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!xj,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function jK(e){var t=Wj(e,_K),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,hide:c,isAnimationActive:u,label:d,legendType:h,xAxisId:f,yAxisId:m}=t,p=oK(t,sK),{needClip:g}=QW(f,m),{height:v,width:y,left:x,top:b}=I_(),w=W_(),_=O_(),j=k.useMemo(()=>({dataKey:e.dataKey,data:e.data}),[e.dataKey,e.data]),N=nx(e=>iK(e,f,m,_,j));return"horizontal"!==w&&"vertical"!==w?null:k.createElement(wK,dK({},p,{connectNulls:o,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:u,hide:c,label:d,legendType:h,xAxisId:f,yAxisId:m,points:N,layout:w,height:v,width:y,left:x,top:b,needClip:g}))}class kK extends k.PureComponent{render(){return k.createElement(AW,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},k.createElement(rW,{legendPayload:hK(this.props)}),k.createElement(tW,{fn:fK,args:this.props}),k.createElement(jK,this.props))}}uK(kK,"displayName","Line"),uK(kK,"defaultProps",_K);var NK=(e,t,n,r)=>nI(e,"xAxis",t,r),SK=(e,t,n,r)=>tI(e,"xAxis",t,r),CK=(e,t,n,r)=>nI(e,"yAxis",n,r),EK=(e,t,n,r)=>tI(e,"yAxis",n,r),PK=ux([B_,NK,CK,SK,EK],(e,t,n,r,i)=>t_(e,"xAxis")?f_(t,r,!1):f_(n,i,!1)),MK=ux([AD,(e,t,n,r,i)=>i],(e,t)=>{if(e.some(e=>"area"===e.type&&t.dataKey===e.dataKey&&o_(t.stackId)===e.stackId&&t.data===e.data))return t}),OK=ux([B_,NK,CK,SK,EK,(e,t,n,r,i)=>{var a,s,o=B_(e);if(null!=(s=t_(o,"xAxis")?qD(e,"yAxis",n,r):qD(e,"xAxis",t,r))){var{dataKey:l,stackId:c}=i;if(null!=c){var u=null===(a=s[c])||void 0===a?void 0:a.stackedData;return null==u?void 0:u.find(e=>e.key===l)}}},$A,PK,MK],(e,t,n,r,i,a,s,o,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=s;if(null!=l&&("horizontal"===e||"vertical"===e)&&null!=t&&null!=n&&null!=r&&null!=i&&0!==r.length&&0!==i.length&&null!=o){var h,{data:f}=l;if(null!=(h=f&&f.length>0?f:null==c?void 0:c.slice(u,d+1)))return function(e){var t,{areaSettings:{connectNulls:n,baseValue:r,dataKey:i},stackedData:a,layout:s,chartBaseValue:o,xAxis:l,yAxis:c,displayedData:u,dataStartIndex:d,xAxisTicks:h,yAxisTicks:f,bandSize:m}=e,p=a&&a.length,g=((e,t,n,r,i)=>{var a=null!=n?n:t;if(Yf(a))return a;var s="horizontal"===e?i:r,o=s.scale.domain();if("number"===s.type){var l=Math.max(o[0],o[1]),c=Math.min(o[0],o[1]);return"dataMin"===a?c:"dataMax"===a||l<0?l:Math.max(Math.min(o[0],o[1]),0)}return"dataMin"===a?o[0]:"dataMax"===a?o[1]:o[0]})(s,o,r,l,c),v="horizontal"===s,y=!1,x=u.map((e,t)=>{var r;p?r=a[d+t]:(r=e_(e,i),Array.isArray(r)?y=!0:r=[g,r]);var s=null==r[1]||p&&!n&&null==e_(e,i);return v?{x:l_({axis:l,ticks:h,bandSize:m,entry:e,index:t}),y:s?null:c.scale(r[1]),value:r,payload:e}:{x:s?null:l.scale(r[1]),y:l_({axis:c,ticks:f,bandSize:m,entry:e,index:t}),value:r,payload:e}});return t=p||y?x.map(e=>{var t=Array.isArray(e.value)?e.value[0]:null;return v?{x:e.x,y:null!=t&&null!=e.y?c.scale(t):null}:{x:null!=t?l.scale(t):null,y:e.y}}):v?c.scale(g):l.scale(g),{points:x,baseLine:t,isRange:y}}({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:u,areaSettings:l,stackedData:a,displayedData:h,chartBaseValue:void 0,bandSize:o})}}),AK=["layout","type","stroke","connectNulls","isRange"],TK=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function DK(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function RK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function IK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RK(Object(n),!0).forEach(function(t){zK(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RK(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function zK(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LK(){return LK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LK.apply(null,arguments)}function FK(e,t){return e&&"none"!==e?e:t}var BK=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:FK(r,i),value:p_(n,t),payload:e}]};function WK(e){var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:l}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:p_(s,t),hide:o,type:e.tooltipType,color:FK(r,a),unit:l}}}function VK(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:a,dataKey:s}=r;if(!function(e,t){return null!=e&&(!!t||1===e.length)}(n,a))return null;var o=pm(a),l=gm(r,!1),c=gm(a,!0),u=n.map((e,t)=>{var r=IK(IK(IK({key:"dot-".concat(t),r:3},l),c),{},{index:t,cx:e.x,cy:e.y,dataKey:s,value:e.value,payload:e.payload,points:n});return((e,t)=>{var n;if(k.isValidElement(e))n=k.cloneElement(e,t);else if("function"==typeof e)n=e(t);else{var r=Ke("recharts-area-dot","boolean"!=typeof e?e.className:"");n=k.createElement(qF,LK({},t,{className:r}))}return n})(a,r)}),d={clipPath:i?"url(#clipPath-".concat(o?"":"dots-").concat(t,")"):void 0};return k.createElement(_m,LK({className:"recharts-area-dots"},d),u)}function $K(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:a,showLabels:s}=e,{layout:o,type:l,stroke:c,connectNulls:u,isRange:d}=a,h=DK(a,AK);return k.createElement(k.Fragment,null,(null==t?void 0:t.length)>1&&k.createElement(_m,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},k.createElement(Aj,LK({},gm(h,!0),{points:t,connectNulls:u,type:l,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),"none"!==c&&k.createElement(Aj,LK({},gm(a,!1),{className:"recharts-area-curve",layout:o,type:l,connectNulls:u,fill:"none",points:t})),"none"!==c&&d&&k.createElement(Aj,LK({},gm(a,!1),{className:"recharts-area-curve",layout:o,type:l,connectNulls:u,fill:"none",points:n}))),k.createElement(VK,{points:t,props:a,clipPathId:i}),s&&UF.renderCallByParent(a,t))}function KK(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].y,s=r[r.length-1].y;if(!wj(a)||!wj(s))return null;var o=t*Math.abs(a-s),l=Math.max(...r.map(e=>e.x||0));return Yf(n)?l=Math.max(n,l):n&&Array.isArray(n)&&n.length&&(l=Math.max(...n.map(e=>e.x||0),l)),Yf(l)?k.createElement("rect",{x:0,y:a<s?a:a-o,width:l+(i?parseInt("".concat(i),10):1),height:Math.floor(o)}):null}function HK(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].x,s=r[r.length-1].x;if(!wj(a)||!wj(s))return null;var o=t*Math.abs(a-s),l=Math.max(...r.map(e=>e.y||0));return Yf(n)?l=Math.max(n,l):n&&Array.isArray(n)&&n.length&&(l=Math.max(...n.map(e=>e.y||0),l)),Yf(l)?k.createElement("rect",{x:a<s?a:a-o,y:0,width:o,height:Math.floor(l+(i?parseInt("".concat(i),10):1))}):null}function UK(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:a}=e;return"vertical"===n?k.createElement(KK,{alpha:t,points:r,baseLine:i,strokeWidth:a}):k.createElement(HK,{alpha:t,points:r,baseLine:i,strokeWidth:a})}function YK(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=e,{points:s,baseLine:o,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:d,onAnimationStart:h,onAnimationEnd:f}=r,m=aW(r,"recharts-area-"),[p,g]=k.useState(!0),v=k.useCallback(()=>{"function"==typeof f&&f(),g(!1)},[f]),y=k.useCallback(()=>{"function"==typeof h&&h(),g(!0)},[h]),x=i.current,b=a.current;return k.createElement(Mk,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},onAnimationEnd:v,onAnimationStart:y,key:m},e=>{var{t:l}=e;if(x){var c,u=x.length/s.length,d=1===l?s:s.map((e,t)=>{var n=Math.floor(t*u);if(x[n]){var r=x[n];return IK(IK({},e),{},{x:em(r.x,e.x,l),y:em(r.y,e.y,l)})}return e});return c=Yf(o)?em(b,o,l):nm(o)||Hf(o)?em(b,0,l):o.map((e,t)=>{var n=Math.floor(t*u);if(Array.isArray(b)&&b[n]){var r=b[n];return IK(IK({},e),{},{x:em(r.x,e.x,l),y:em(r.y,e.y,l)})}return e}),l>0&&(i.current=d,a.current=c),k.createElement($K,{points:d,baseLine:c,needClip:t,clipPathId:n,props:r,showLabels:!p})}return l>0&&(i.current=s,a.current=o),k.createElement(_m,null,k.createElement("defs",null,k.createElement("clipPath",{id:"animationClipPath-".concat(n)},k.createElement(UK,{alpha:l,points:s,baseLine:o,layout:r.layout,strokeWidth:r.strokeWidth}))),k.createElement(_m,{clipPath:"url(#animationClipPath-".concat(n,")")},k.createElement($K,{points:s,baseLine:o,needClip:t,clipPathId:n,props:r,showLabels:!0})))})}function qK(e){var{needClip:t,clipPathId:n,props:r}=e,{points:i,baseLine:a,isAnimationActive:s}=r,o=k.useRef(null),l=k.useRef(),c=o.current,u=l.current;return s&&i&&i.length&&(c!==i||u!==a)?k.createElement(YK,{needClip:t,clipPathId:n,props:r,previousPointsRef:o,previousBaselineRef:l}):k.createElement($K,{points:i,baseLine:a,needClip:t,clipPathId:n,props:r,showLabels:!0})}class GK extends k.PureComponent{constructor(){super(...arguments),zK(this,"id",Xf("recharts-area-"))}render(){var e,{hide:t,dot:n,points:r,className:i,top:a,left:s,needClip:o,xAxisId:l,yAxisId:c,width:u,height:d,id:h,baseLine:f}=this.props;if(t)return null;var m=Ke("recharts-area",i),p=nm(h)?this.id:h,{r:g=3,strokeWidth:v=2}=null!==(e=gm(n,!1))&&void 0!==e?e:{r:3,strokeWidth:2},y=pm(n),x=2*g+v;return k.createElement(k.Fragment,null,k.createElement(_m,{className:m},o&&k.createElement("defs",null,k.createElement(ZW,{clipPathId:p,xAxisId:l,yAxisId:c}),!y&&k.createElement("clipPath",{id:"clipPath-dots-".concat(p)},k.createElement("rect",{x:s-x/2,y:a-x/2,width:u+x,height:d+x}))),k.createElement(qK,{needClip:o,clipPathId:p,props:this.props})),k.createElement(kW,{points:r,mainColor:FK(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(f)&&k.createElement(kW,{points:f,mainColor:FK(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var XK={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!xj,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function QK(e){var t,n=Wj(e,XK),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,fill:c,fillOpacity:u,hide:d,isAnimationActive:h,legendType:f,stroke:m,xAxisId:p,yAxisId:g}=n,v=DK(n,TK),y=W_(),x=Mz(),{needClip:b}=QW(p,g),w=O_(),_=k.useMemo(()=>({baseValue:e.baseValue,stackId:e.stackId,connectNulls:o,data:e.data,dataKey:e.dataKey}),[e.baseValue,e.stackId,o,e.data,e.dataKey]),{points:j,isRange:N,baseLine:S}=null!==(t=nx(e=>OK(e,p,g,w,_)))&&void 0!==t?t:{},{height:C,width:E,left:P,top:M}=I_();return"horizontal"!==y&&"vertical"!==y||"AreaChart"!==x&&"ComposedChart"!==x?null:k.createElement(GK,LK({},v,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,baseLine:S,connectNulls:o,dot:l,fill:c,fillOpacity:u,height:C,hide:d,layout:y,isAnimationActive:h,isRange:N,legendType:f,needClip:b,points:j,stroke:m,width:E,left:P,top:M,xAxisId:p,yAxisId:g}))}class ZK extends k.PureComponent{render(){return k.createElement(AW,{type:"area",data:this.props.data,dataKey:this.props.dataKey,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,stackId:this.props.stackId,hide:this.props.hide,barSize:void 0},k.createElement(rW,{legendPayload:BK(this.props)}),k.createElement(tW,{fn:WK,args:this.props}),k.createElement(QK,this.props))}}function JK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JK(Object(n),!0).forEach(function(t){tH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JK(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tH(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}zK(ZK,"displayName","Area"),zK(ZK,"defaultProps",XK);var nH=ew({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=eH(eH({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:rH,removeXAxis:iH,addYAxis:aH,removeYAxis:sH,addZAxis:oH,removeZAxis:lH,updateYAxisWidth:cH}=nH.actions,uH=nH.reducer;function dH(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hH(e){var t=Zy();return k.useEffect(()=>(t(oH(e)),()=>{t(lH(e))}),[e,t]),null}class fH extends k.Component{render(){return k.createElement(hH,{domain:this.props.domain,id:this.props.zAxisId,dataKey:this.props.dataKey,name:this.props.name,unit:this.props.unit,range:this.props.range,scale:this.props.scale,type:this.props.type,allowDuplicatedCategory:SD.allowDuplicatedCategory,allowDataOverflow:SD.allowDataOverflow,reversed:SD.reversed,includeHidden:SD.includeHidden})}}dH(fH,"displayName","ZAxis"),dH(fH,"defaultProps",{zAxisId:0,range:SD.range,scale:SD.scale,type:SD.type});var mH=["option","isActive"];function pH(){return pH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pH.apply(null,arguments)}function gH(e){var{option:t,isActive:n}=e,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,mH);return"string"==typeof t?k.createElement(QB,pH({option:k.createElement(rv,pH({type:t},r)),isActive:n,shapeType:"symbols"},r)):k.createElement(QB,pH({option:t,isActive:n,shapeType:"symbols"},r))}var vH=ux([AD,(e,t,n,r,i)=>i],(e,t)=>{if(e.some(e=>"scatter"===e.type&&t.dataKey===e.dataKey&&t.data===e.data))return t}),yH=ux([(e,t,n,r,i,a,s)=>$A(e,0,0,s),(e,t,n,r,i,a,s)=>nI(e,"xAxis",t,s),(e,t,n,r,i,a,s)=>tI(e,"xAxis",t,s),(e,t,n,r,i,a,s)=>nI(e,"yAxis",n,s),(e,t,n,r,i,a,s)=>tI(e,"yAxis",n,s),(e,t,n,r)=>iI(e,"zAxis",r,!1),vH,(e,t,n,r,i,a)=>a],(e,t,n,r,i,a,s,o)=>{var l,{chartData:c,dataStartIndex:u,dataEndIndex:d}=e;if(null!=s&&null!=(l=null!=(null==s?void 0:s.data)&&s.data.length>0?s.data:null==c?void 0:c.slice(u,d+1))&&null!=t&&null!=r&&null!=n&&null!=i&&0!==(null==n?void 0:n.length)&&0!==(null==i?void 0:i.length))return function(e){var{displayedData:t,xAxis:n,yAxis:r,zAxis:i,scatterSettings:a,xAxisTicks:s,yAxisTicks:o,cells:l}=e,c=nm(n.dataKey)?a.dataKey:n.dataKey,u=nm(r.dataKey)?a.dataKey:r.dataKey,d=i&&i.dataKey,h=i?i.range:fH.defaultProps.range,f=h&&h[0],m=n.scale.bandwidth?n.scale.bandwidth():0,p=r.scale.bandwidth?r.scale.bandwidth():0;return t.map((e,t)=>{var h=e_(e,c),g=e_(e,u),v=!nm(d)&&e_(e,d)||"-",y=[{name:nm(n.dataKey)?a.name:n.name||n.dataKey,unit:n.unit||"",value:h,payload:e,dataKey:c,type:a.tooltipType},{name:nm(r.dataKey)?a.name:r.name||r.dataKey,unit:r.unit||"",value:g,payload:e,dataKey:u,type:a.tooltipType}];"-"!==v&&y.push({name:i.name||i.dataKey,unit:i.unit||"",value:v,payload:e,dataKey:d,type:a.tooltipType});var x=l_({axis:n,ticks:s,bandSize:m,entry:e,index:t,dataKey:c}),b=l_({axis:r,ticks:o,bandSize:p,entry:e,index:t,dataKey:u}),w="-"!==v?i.scale(v):f,_=Math.sqrt(Math.max(w,0)/Math.PI);return kH(kH({},e),{},{cx:x,cy:b,x:x-_,y:b-_,width:2*_,height:2*_,size:w,node:{x:h,y:g,z:v},tooltipPayload:y,tooltipPosition:{x:x,y:b},payload:e},l&&l[t]&&l[t].props)})}({displayedData:l,xAxis:t,yAxis:r,zAxis:a,scatterSettings:s,xAxisTicks:n,yAxisTicks:i,cells:o})}),xH=["onMouseEnter","onClick","onMouseLeave"],bH=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function wH(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _H(){return _H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_H.apply(null,arguments)}function jH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function kH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jH(Object(n),!0).forEach(function(t){NH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function NH(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var SH=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:p_(n,t),payload:e}]};function CH(e){var{points:t,props:n}=e,{line:r,lineType:i,lineJointType:a}=n;if(!r)return null;var s,o,l=gm(n,!1),c=gm(r,!1);if("joint"===i)s=t.map(e=>({x:e.cx,y:e.cy}));else if("fitting"===i){var{xmin:u,xmax:d,a:h,b:f}=(e=>{if(!e||!e.length)return null;for(var t=e.length,n=0,r=0,i=0,a=0,s=1/0,o=-1/0,l=0,c=0,u=0;u<t;u++)n+=l=e[u].cx||0,r+=c=e[u].cy||0,i+=l*c,a+=l*l,s=Math.min(s,l),o=Math.max(o,l);var d=t*a!==n*n?(t*i-n*r)/(t*a-n*n):0;return{xmin:s,xmax:o,a:d,b:(r-d*n)/t}})(t),m=e=>h*e+f;s=[{x:u,y:m(u)},{x:d,y:m(d)}]}var p=kH(kH(kH({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:s});return o=k.isValidElement(r)?k.cloneElement(r,p):"function"==typeof r?r(p):k.createElement(Aj,_H({},p,{type:a})),k.createElement(_m,{className:"recharts-scatter-line",key:"recharts-scatter-line"},o)}function EH(e){var{points:t,showLabels:n,allOtherScatterProps:r}=e,{shape:i,activeShape:a,dataKey:s}=r,o=gm(r,!1),l=nx(gz),{onMouseEnter:c,onClick:u,onMouseLeave:d}=r,h=wH(r,xH),f=ZB(c,r.dataKey),m=JB(d),p=eW(u,r.dataKey);return null==t?null:k.createElement(k.Fragment,null,k.createElement(CH,{points:t,props:r}),t.map((e,t)=>{var n=a&&l===String(t),r=n?a:i,c=kH(kH(kH({key:"symbol-".concat(t)},o),e),{},{[__]:t,[j_]:String(s)});return k.createElement(_m,_H({className:"recharts-scatter-symbol"},cm(h,e,t),{onMouseEnter:f(e,t),onMouseLeave:m(e,t),onClick:p(e,t),key:"symbol-".concat(null==e?void 0:e.cx,"-").concat(null==e?void 0:e.cy,"-").concat(null==e?void 0:e.size,"-").concat(t)}),k.createElement(gH,_H({option:r,isActive:n},c)))}),n&&UF.renderCallByParent(r,t))}function PH(e){var{previousPointsRef:t,props:n}=e,{points:r,isAnimationActive:i,animationBegin:a,animationDuration:s,animationEasing:o}=n,l=t.current,c=aW(n,"recharts-scatter-"),[u,d]=k.useState(!1),h=k.useCallback(()=>{d(!1)},[]),f=k.useCallback(()=>{d(!0)},[]);return k.createElement(Mk,{begin:a,duration:s,isActive:i,easing:o,from:{t:0},to:{t:1},onAnimationEnd:h,onAnimationStart:f,key:c},e=>{var{t:i}=e,a=1===i?r:r.map((e,t)=>{var n=l&&l[t];if(n){var r=Jf(n.cx,e.cx),a=Jf(n.cy,e.cy),s=Jf(n.size,e.size);return kH(kH({},e),{},{cx:r(i),cy:a(i),size:s(i)})}var o=Jf(0,e.size);return kH(kH({},e),{},{size:o(i)})});return i>0&&(t.current=a),k.createElement(_m,null,k.createElement(EH,{points:a,allOtherScatterProps:n,showLabels:!u}))})}function MH(e){var{points:t,isAnimationActive:n}=e,r=k.useRef(null),i=r.current;return n&&t&&t.length&&(!i||i!==t)?k.createElement(PH,{props:e,previousPointsRef:r}):k.createElement(EH,{points:t,allOtherScatterProps:e,showLabels:!0})}function OH(e){var{dataKey:t,points:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,tooltipType:l}=e;return{dataDefinedOnItem:null==n?void 0:n.map(e=>e.tooltipPayload),positions:null==n?void 0:n.map(e=>e.tooltipPosition),settings:{stroke:r,strokeWidth:i,fill:a,nameKey:void 0,dataKey:t,name:p_(s,t),hide:o,type:l,color:a,unit:""}}}var AH=(e,t,n)=>({x:e.cx,y:e.cy,value:"x"===n?+e.node.x:+e.node.y,errorVal:e_(e,t)});function TH(e){var t=k.useRef(Xf("recharts-scatter-")),{hide:n,points:r,className:i,needClip:a,xAxisId:s,yAxisId:o,id:l,children:c}=e;if(n)return null;var u=Ke("recharts-scatter",i),d=nm(l)?t.current:l;return k.createElement(_m,{className:u,clipPath:a?"url(#clipPath-".concat(d,")"):null},a&&k.createElement("defs",null,k.createElement(ZW,{clipPathId:d,xAxisId:s,yAxisId:o})),k.createElement(OW,{xAxisId:s,yAxisId:o,data:r,dataPointFormatter:AH,errorBarOffset:0},c),k.createElement(_m,{key:"recharts-scatter-symbols"},k.createElement(MH,e)))}var DH={xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!xj,animationBegin:0,animationDuration:400,animationEasing:"linear"};function RH(e){var t=Wj(e,DH),{animationBegin:n,animationDuration:r,animationEasing:i,hide:a,isAnimationActive:s,legendType:o,lineJointType:l,lineType:c,shape:u,xAxisId:d,yAxisId:h,zAxisId:f}=t,m=wH(t,bH),{needClip:p}=QW(d,h),g=k.useMemo(()=>mm(e.children,FL),[e.children]),v=k.useMemo(()=>({name:e.name,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey}),[e.data,e.dataKey,e.name,e.tooltipType]),y=O_(),x=nx(e=>yH(e,d,h,f,v,g,y));return null==p?null:k.createElement(k.Fragment,null,k.createElement(tW,{fn:OH,args:kH(kH({},e),{},{points:x})}),k.createElement(TH,_H({},m,{xAxisId:d,yAxisId:h,zAxisId:f,lineType:c,lineJointType:l,legendType:o,shape:u,hide:a,isAnimationActive:s,animationBegin:n,animationDuration:r,animationEasing:i,points:x,needClip:p})))}class IH extends k.Component{render(){return k.createElement(AW,{type:"scatter",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:this.props.zAxisId,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},k.createElement(rW,{legendPayload:SH(this.props)}),k.createElement(RH,this.props))}}NH(IH,"displayName","Scatter"),NH(IH,"defaultProps",DH);var zH=["children"],LH=["dangerouslySetInnerHTML","ticks"];function FH(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BH(){return BH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BH.apply(null,arguments)}function WH(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function VH(e){var t=Zy(),n=k.useMemo(()=>{var{children:t}=e;return WH(e,zH)},[e]),r=nx(e=>jD(e,n.id)),i=n===r;return k.useEffect(()=>(t(rH(n)),()=>{t(iH(n))}),[n,t]),i?e.children:null}var $H=e=>{var{xAxisId:t,className:n}=e,r=nx(P_),i=O_(),a="xAxis",s=nx(e=>zR(e,a,t,i)),o=nx(e=>eI(e,a,t,i)),l=nx(e=>KR(e,t)),c=nx(e=>((e,t)=>{var n=C_(e),r=jD(e,t);if(null!=r){var i=HR(e,r.orientation,r.mirror)[t];return null==i?{x:n.left,y:0}:{x:n.left,y:i}}})(e,t));if(null==l||null==c)return null;var{dangerouslySetInnerHTML:u,ticks:d}=e,h=WH(e,LH);return k.createElement(A$,BH({},h,{scale:s,x:c.x,y:c.y,width:l.width,height:l.height,className:Ke("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:o}))},KH=e=>{var t,n,r,i,a;return k.createElement(VH,{interval:null!==(t=e.interval)&&void 0!==t?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:null!==(n=e.includeHidden)&&void 0!==n&&n,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(r=e.angle)&&void 0!==r?r:0,minTickGap:null!==(i=e.minTickGap)&&void 0!==i?i:5,tick:null===(a=e.tick)||void 0===a||a,tickFormatter:e.tickFormatter},k.createElement($H,e))};class HH extends k.Component{render(){return k.createElement(KH,this.props)}}FH(HH,"displayName","XAxis"),FH(HH,"defaultProps",{allowDataOverflow:_D.allowDataOverflow,allowDecimals:_D.allowDecimals,allowDuplicatedCategory:_D.allowDuplicatedCategory,height:_D.height,hide:!1,mirror:_D.mirror,orientation:_D.orientation,padding:_D.padding,reversed:_D.reversed,scale:_D.scale,tickCount:_D.tickCount,type:_D.type,xAxisId:0});var UH=["dangerouslySetInnerHTML","ticks"];function YH(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qH(){return qH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qH.apply(null,arguments)}function GH(e){var t=Zy();return k.useEffect(()=>(t(aH(e)),()=>{t(sH(e))}),[e,t]),null}var XH=e=>{var t,{yAxisId:n,className:r,width:i,label:a}=e,s=k.useRef(null),o=k.useRef(null),l=nx(P_),c=O_(),u=Zy(),d="yAxis",h=nx(e=>zR(e,d,n,c)),f=nx(e=>YR(e,n)),m=nx(e=>((e,t)=>{var n=C_(e),r=ND(e,t);if(null!=r){var i=UR(e,r.orientation,r.mirror)[t];return null==i?{x:0,y:n.top}:{x:i,y:n.top}}})(e,n)),p=nx(e=>eI(e,d,n,c));if(k.useLayoutEffect(()=>{var e;if("auto"===i&&f&&!_F(a)&&!k.isValidElement(a)){var t=s.current,r=null==t||null===(e=t.tickRefs)||void 0===e?void 0:e.current,{tickSize:l,tickMargin:c}=t.props,d=(e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){t.forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>s&&(s=t.width)}});var o=n?n.getBoundingClientRect().width:0,l=s+(i+a)+o+(n?r:0);return Math.round(l)}return 0})({ticks:r,label:o.current,labelGapWithTick:5,tickSize:l,tickMargin:c});Math.round(f.width)!==Math.round(d)&&u(cH({id:n,width:d}))}},[s,null==s||null===(t=s.current)||void 0===t||null===(t=t.tickRefs)||void 0===t?void 0:t.current,null==f?void 0:f.width,f,u,a,n,i]),null==f||null==m)return null;var{dangerouslySetInnerHTML:g,ticks:v}=e,y=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,UH);return k.createElement(A$,qH({},y,{ref:s,labelRef:o,scale:h,x:m.x,y:m.y,width:f.width,height:f.height,className:Ke("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:p}))},QH=e=>{var t,n,r,i,a;return k.createElement(k.Fragment,null,k.createElement(GH,{interval:null!==(t=e.interval)&&void 0!==t?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:null!==(n=e.includeHidden)&&void 0!==n&&n,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(r=e.angle)&&void 0!==r?r:0,minTickGap:null!==(i=e.minTickGap)&&void 0!==i?i:5,tick:null===(a=e.tick)||void 0===a||a,tickFormatter:e.tickFormatter}),k.createElement(XH,e))},ZH={allowDataOverflow:kD.allowDataOverflow,allowDecimals:kD.allowDecimals,allowDuplicatedCategory:kD.allowDuplicatedCategory,hide:!1,mirror:kD.mirror,orientation:kD.orientation,padding:kD.padding,reversed:kD.reversed,scale:kD.scale,tickCount:kD.tickCount,type:kD.type,width:kD.width,yAxisId:0};class JH extends k.Component{render(){return k.createElement(QH,this.props)}}YH(JH,"displayName","YAxis"),YH(JH,"defaultProps",ZH);var eU,tU,nU={exports:{}},rU={};tU||(tU=1,nU.exports=function(){if(eU)return rU;eU=1;var e=j(),t="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=e.useSyncExternalStore,r=e.useRef,i=e.useEffect,a=e.useMemo,s=e.useDebugValue;return rU.useSyncExternalStoreWithSelector=function(e,o,l,c,u){var d=r(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=a(function(){function e(e){if(!i){if(i=!0,n=e,e=c(e),void 0!==u&&h.hasValue){var a=h.value;if(u(a,e))return r=a}return r=e}if(a=r,t(n,e))return a;var s=c(e);return void 0!==u&&u(a,s)?(n=e,a):(n=e,r=s)}var n,r,i=!1,a=void 0===l?null:l;return[function(){return e(o())},null===a?void 0:function(){return e(a())}]},[o,l,c,u]);var f=n(e,d[0],d[1]);return i(function(){h.hasValue=!0,h.value=f},[f]),s(f),f},rU}()),nU.exports;var iU={notify(){},get:()=>[]},aU=(()=>!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement))(),sU=(()=>"undefined"!=typeof navigator&&"ReactNative"===navigator.product)(),oU=(()=>aU||sU?k.useLayoutEffect:k.useEffect)(),lU=Symbol.for("react-redux-context"),cU="undefined"!=typeof globalThis?globalThis:{};function uU(){var e;if(!k.createContext)return{};const t=null!=(e=cU[lU])?e:cU[lU]=new Map;let n=t.get(k.createContext);return n||(n=k.createContext(null),t.set(k.createContext,n)),n}var dU=uU(),hU=function(e){const{children:t,context:n,serverState:r,store:i}=e,a=k.useMemo(()=>{const e=function(e){let t,n=iU,r=0,i=!1;function a(){l.onStateChange&&l.onStateChange()}function s(){r++,t||(t=e.subscribe(a),n=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){(()=>{let t=e;for(;t;)t.callback(),t=t.next})()},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function o(){r--,t&&0===r&&(t(),t=void 0,n.clear(),n=iU)}const l={addNestedSub:function(e){s();const t=n.subscribe(e);let r=!1;return()=>{r||(r=!0,t(),o())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:a,isSubscribed:function(){return i},trySubscribe:function(){i||(i=!0,s())},tryUnsubscribe:function(){i&&(i=!1,o())},getListeners:()=>n};return l}(i);return{store:i,subscription:e,getServerState:r?()=>r:void 0}},[i,r]),s=k.useMemo(()=>i.getState(),[i]);oU(()=>{const{subscription:e}=a;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==i.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[a,s]);const o=n||dU;return k.createElement(o.Provider,{value:a},t)},fU=ux([(e,t)=>t,B_,pD,DI,oz,dz,Dz,C_],(e,t,n,r,i,a,s,o)=>{if(e&&t&&r&&i&&a){var l=function(e,t,n,r,i){return"horizontal"===n||"vertical"===n?e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height?{x:e,y:t}:null:r?Xw({x:e,y:t},r):null}(e.chartX,e.chartY,t,n,o);if(l){var c=((e,t)=>"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius)(l,t),u=((e,t,n,r,i)=>{var a,s=-1,o=null!==(a=null==t?void 0:t.length)&&void 0!==a?a:0;if(o<=1||null==e)return 0;if("angleAxis"===r&&null!=i&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var c=l>0?n[l-1].coordinate:n[o-1].coordinate,u=n[l].coordinate,d=l>=o-1?n[0].coordinate:n[l+1].coordinate,h=void 0;if(Kf(u-c)!==Kf(d-u)){var f=[];if(Kf(d-u)===Kf(i[1]-i[0])){h=d;var m=u+i[1]-i[0];f[0]=Math.min(m,(m+c)/2),f[1]=Math.max(m,(m+c)/2)}else{h=c;var p=d+i[1]-i[0];f[0]=Math.min(u,(p+u)/2),f[1]=Math.max(u,(p+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){({index:s}=n[l]);break}}else{var v=Math.min(c,d),y=Math.max(c,d);if(e>(v+u)/2&&e<=(y+u)/2){({index:s}=n[l]);break}}}else if(t)for(var x=0;x<o;x++)if(0===x&&e<=(t[x].coordinate+t[x+1].coordinate)/2||x>0&&x<o-1&&e>(t[x].coordinate+t[x-1].coordinate)/2&&e<=(t[x].coordinate+t[x+1].coordinate)/2||x===o-1&&e>(t[x].coordinate+t[x-1].coordinate)/2){({index:s}=t[x]);break}return s})(c,s,a,r,i),d=((e,t,n,r)=>{var i=t.find(e=>e&&e.index===n);if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var a=i.coordinate,{radius:s}=r;return Zw(Zw(Zw({},r),Uw(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=r;return Zw(Zw(Zw({},r),Uw(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{x:0,y:0}})(t,a,u,l);return{activeIndex:String(u),activeCoordinate:d}}}}),mU=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},pU=Wb("mouseClick"),gU=Tw();gU.startListening({actionCreator:pU,effect:(e,t)=>{var n=e.payload,r=fU(t.getState(),mU(n));null!=(null==r?void 0:r.activeIndex)&&t.dispatch(wI({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var vU=Wb("mouseMove"),yU=Tw();function xU(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}yU.startListening({actionCreator:vU,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=cI(r,r.tooltip.settings.shared),a=fU(r,mU(n));"axis"===i&&(null!=(null==a?void 0:a.activeIndex)?t.dispatch(bI({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(yI()))}});var bU={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},wU=ew({name:"rootProps",initialState:bU,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!==(n=t.payload.barGap)&&void 0!==n?n:bU.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),_U=wU.reducer,{updateOptions:jU}=wU.actions,kU=ew({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:NU}=kU.actions,SU=kU.reducer,CU=Wb("keyDown"),EU=Wb("focus"),PU=Tw();PU.startListening({actionCreator:CU,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip,i=e.payload;if("ArrowRight"===i||"ArrowLeft"===i||"Enter"===i){var a=Number(PI(r,VI(n))),s=dz(n);if("Enter"!==i){var o=a+("ArrowRight"===i?1:-1)*("left-to-right"===aI(n)?1:-1);if(!(null==s||o>=s.length||o<0)){var l=Lz(n,"axis","hover",String(o));t.dispatch(jI({active:!0,activeIndex:o.toString(),activeDataKey:void 0,activeCoordinate:l}))}}else{var c=Lz(n,"axis","hover",String(r.index));t.dispatch(jI({active:!r.active,activeIndex:r.index,activeDataKey:r.dataKey,activeCoordinate:c}))}}}}}),PU.startListening({actionCreator:EU,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip;if(!r.active&&null==r.index){var i=Lz(n,"axis","hover",String("0"));t.dispatch(jI({activeDataKey:void 0,active:!0,activeIndex:"0",activeCoordinate:i}))}}}});var MU=Wb("externalEvent"),OU=Tw();OU.startListening({actionCreator:MU,effect:(e,t)=>{if(null!=e.payload.handler){var n=t.getState(),r={activeCoordinate:wz(n),activeDataKey:yz(n),activeIndex:gz(n),activeLabel:vz(n),activeTooltipIndex:gz(n),isTooltipActive:_z(n)};e.payload.handler(r,e.payload.reactEvent)}}});var AU=ux([TI],e=>e.tooltipItemPayloads),TU=ux([AU,AI,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(e=>e.settings.dataKey===r);if(null!=i){var{positions:a}=i;if(null!=a)return t(a,n)}}),DU=Wb("touchMove"),RU=Tw();RU.startListening({actionCreator:DU,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=cI(r,r.tooltip.settings.shared);if("axis"===i){var a=fU(r,mU({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));null!=(null==a?void 0:a.activeIndex)&&t.dispatch(bI({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if("item"===i){var s,o=n.touches[0],l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(__),u=null!==(s=l.getAttribute(j_))&&void 0!==s?s:void 0,d=TU(t.getState(),c,u);t.dispatch(gI({activeDataKey:u,activeIndex:c,activeCoordinate:d}))}}});var IU=Kx({brush:zV,cartesianAxis:uH,chartData:dL,graphicalItems:PB,layout:Bw,legend:Y_,options:iL,polarAxis:dB,polarOptions:SU,referenceElements:QV,rootProps:_U,tooltip:kI});function zU(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=O_(),a=k.useRef(null);if(i)return n;null==a.current&&(a.current=function(e){return Yb({reducer:IU,preloadedState:e,middleware:e=>e({serializableCheck:!1}).concat([gU.middleware,yU.middleware,PU.middleware,OU.middleware,RU.middleware]),devTools:{serialize:{replacer:xU},name:"recharts-".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart")}})}(t,r));var s=Xy;return k.createElement(hU,{context:s,store:a.current},n)}function LU(e){var{layout:t,width:n,height:r,margin:i}=e,a=Zy(),s=O_();return k.useEffect(()=>{s||(a(zw(t)),a(Lw({width:n,height:r})),a(Iw(i)))},[a,s,t,n,r,i]),null}function FU(e){var t=Zy();return k.useEffect(()=>{t(jU(e))},[t,e]),null}var BU=["children"];function WU(){return WU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WU.apply(null,arguments)}var VU={width:"100%",height:"100%"},$U=k.forwardRef((e,t)=>{var n=z_(),r=L_(),i=bj();if(!_j(n)||!_j(r))return null;var a,s,{children:o,otherAttributes:l,title:c,desc:u}=e;return a="number"==typeof l.tabIndex?l.tabIndex:i?0:void 0,s="string"==typeof l.role?l.role:i?"application":void 0,k.createElement(xm,WU({},l,{title:c,desc:u,role:s,tabIndex:a,width:n,height:r,style:VU,ref:t}),o)}),KU=e=>{var{children:t}=e,n=nx(T_);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return k.createElement(xm,{width:r,height:i,x:s,y:a},t)},HU=k.forwardRef((e,t)=>{var{children:n}=e,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,BU);return O_()?k.createElement(KU,null,n):k.createElement($U,WU({ref:t},r),n)});function UU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function YU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UU(Object(n),!0).forEach(function(t){qU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function qU(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var GU=k.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:u,onMouseMove:d,onMouseUp:h,onTouchEnd:f,onTouchMove:m,onTouchStart:p,style:g,width:v}=e,y=Zy(),[x,b]=k.useState(null),[w,_]=k.useState(null);fL();var j=function(){var e=Zy(),[t,n]=k.useState(null),r=nx(y_);return k.useEffect(()=>{if(null!=t){var n=t.getBoundingClientRect().width/t.offsetWidth;wj(n)&&n!==r&&e(Fw(n))}},[t,e,r]),n}(),N=k.useCallback(e=>{j(e),"function"==typeof t&&t(e),b(e),_(e)},[j,t,b,_]),S=k.useCallback(e=>{y(pU(e)),y(MU({handler:a,reactEvent:e}))},[y,a]),C=k.useCallback(e=>{y(vU(e)),y(MU({handler:c,reactEvent:e}))},[y,c]),E=k.useCallback(e=>{y(yI()),y(MU({handler:u,reactEvent:e}))},[y,u]),P=k.useCallback(e=>{y(vU(e)),y(MU({handler:d,reactEvent:e}))},[y,d]),M=k.useCallback(()=>{y(EU())},[y]),O=k.useCallback(e=>{y(CU(e.key))},[y]),A=k.useCallback(e=>{y(MU({handler:s,reactEvent:e}))},[y,s]),T=k.useCallback(e=>{y(MU({handler:o,reactEvent:e}))},[y,o]),D=k.useCallback(e=>{y(MU({handler:l,reactEvent:e}))},[y,l]),R=k.useCallback(e=>{y(MU({handler:h,reactEvent:e}))},[y,h]),I=k.useCallback(e=>{y(MU({handler:p,reactEvent:e}))},[y,p]),z=k.useCallback(e=>{y(DU(e)),y(MU({handler:m,reactEvent:e}))},[y,m]),L=k.useCallback(e=>{y(MU({handler:f,reactEvent:e}))},[y,f]);return k.createElement(Xz.Provider,{value:x},k.createElement(jm.Provider,{value:w},k.createElement("div",{className:Ke("recharts-wrapper",r),style:YU({position:"relative",cursor:"default",width:v,height:i},g),role:"application",onClick:S,onContextMenu:A,onDoubleClick:T,onFocus:M,onKeyDown:O,onMouseDown:D,onMouseEnter:C,onMouseLeave:E,onMouseMove:P,onMouseUp:R,onTouchEnd:L,onTouchMove:z,onTouchStart:I,ref:N},n)))}),XU=["children","className","width","height","style","compact","title","desc"],QU=k.forwardRef((e,t)=>{var{children:n,className:r,width:i,height:a,style:s,compact:o,title:l,desc:c}=e,u=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,XU),d=gm(u,!1);return o?k.createElement(HU,{otherAttributes:d,title:l,desc:c},n):k.createElement(GU,{className:r,style:s,width:i,height:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},k.createElement(HU,{otherAttributes:d,title:l,desc:c,ref:t},k.createElement(JV,null,n)))}),ZU=["width","height"];function JU(){return JU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JU.apply(null,arguments)}var eY={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},tY=k.forwardRef(function(e,t){var n,r=Wj(e.categoricalChartProps,eY),{width:i,height:a}=r,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(r,ZU);if(!_j(i)||!_j(a))return null;var{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,categoricalChartProps:d}=e,h={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return k.createElement(zU,{preloadedState:{options:h},reduxStoreName:null!==(n=d.id)&&void 0!==n?n:o},k.createElement(TV,{chartData:d.data}),k.createElement(LU,{width:i,height:a,layout:r.layout,margin:r.margin}),k.createElement(FU,{accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className}),k.createElement(QU,JU({},s,{width:i,height:a,ref:t})))}),nY=["axis"],rY=k.forwardRef((e,t)=>k.createElement(tY,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:nY,tooltipPayloadSearcher:nL,categoricalChartProps:e,ref:t})),iY=["axis","item"],aY=k.forwardRef((e,t)=>k.createElement(tY,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:iY,tooltipPayloadSearcher:nL,categoricalChartProps:e,ref:t}));function sY(e){var t=Zy();return k.useEffect(()=>{t(NU(e))},[t,e]),null}var oY=["width","height","layout"];function lY(){return lY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lY.apply(null,arguments)}var cY={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial"},uY=k.forwardRef(function(e,t){var n,r=Wj(e.categoricalChartProps,cY),{width:i,height:a,layout:s}=r,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(r,oY);if(!_j(i)||!_j(a))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d}=e,h={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return k.createElement(zU,{preloadedState:{options:h},reduxStoreName:null!==(n=r.id)&&void 0!==n?n:l},k.createElement(TV,{chartData:r.data}),k.createElement(LU,{width:i,height:a,layout:s,margin:r.margin}),k.createElement(FU,{accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className}),k.createElement(sY,{cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius}),k.createElement(QU,lY({width:i,height:a},o,{ref:t})))}),dY=["item"],hY={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},fY=k.forwardRef((e,t)=>{var n=Wj(e,hY);return k.createElement(uY,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:dY,tooltipPayloadSearcher:nL,categoricalChartProps:n,ref:t})}),mY=["axis"],pY=k.forwardRef((e,t)=>k.createElement(tY,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:mY,tooltipPayloadSearcher:nL,categoricalChartProps:e,ref:t})),gY=["axis"],vY=k.forwardRef((e,t)=>k.createElement(tY,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:gY,tooltipPayloadSearcher:nL,categoricalChartProps:e,ref:t}));const yY=()=>{var e,t,n;const[r,i]=k.useState("cho_mua"),[a,s]=k.useState(!0),[o,l]=k.useState(!1),[c,u]=k.useState(null),d=k.useRef(null),h=k.useRef([]),{data:f,loading:m,error:p}=gf("analyze_breadth");k.useEffect(()=>{if(!c)return;let e;function t(){c.clientWidth>0&&!d.current&&setTimeout(()=>{if(c.clientWidth>0&&!d.current)try{const e=Vh(c,{width:c.clientWidth,height:c.clientHeight,layout:{background:{color:"#fff"},textColor:"#222"},grid:{vertLines:{color:"#e5e7eb"},horzLines:{color:"#e5e7eb"}},crosshair:{mode:1},rightPriceScale:{borderColor:"#d1d5db"},timeScale:{borderColor:"#d1d5db",timeVisible:!0,secondsVisible:!1}});d.current=e,l(!0)}catch(e){l(!1)}},50)}return e=new window.ResizeObserver(()=>{t()}),e.observe(c),t(),()=>{if(e&&e.disconnect(),d.current){try{d.current.remove()}catch(t){}d.current=null,l(!1)}}},[c]),k.useEffect(()=>{if(!o||!f)return;const e=d.current;if(e){if(e)try{h.current.forEach(t=>{t&&"function"==typeof t.remove&&e.removeSeries(t)}),h.current=[]}catch(t){h.current=[]}if(f.vnindex){const n=f.vnindex.dates.map((e,t)=>{var n,r,i,a;const s=null!=(r=null==(n=f.vnindex.open)?void 0:n[t])?r:f.vnindex.close[t],o=null==(i=f.vnindex.high)?void 0:i[t],l=null==(a=f.vnindex.low)?void 0:a[t],c=f.vnindex.close[t];return[s,o,l,c].some(e=>null==e||isNaN(e))?null:{time:e.slice(0,10),open:Number(s),high:Number(o),low:Number(l),close:Number(c)}}).filter(Boolean);if(n.length)try{const t=e.addSeries(tf,{upColor:"#26a69a",downColor:"#ef5350"},0);t.setData(n),h.current.push(t)}catch(t){}const r=f.vnindex.dates.map((e,t)=>{const n=f.vnindex.volume[t];return null==n||isNaN(n)?null:{time:e.slice(0,10),value:Number(n)}}).filter(Boolean);if(r.length)try{const t=e.addSeries(af,{color:"#c792ea",priceFormat:{type:"volume"},scaleMargins:{top:.8,bottom:0}},1);t.setData(r),h.current.push(t)}catch(t){}}if(f.market_breadth){const{dates:n,indicators:r}=f.market_breadth,i={cho_mua:{name:"Chờ mua",color:"#10b981"},cho_ban:{name:"Chờ bán",color:"#ef4444"},ban:{name:"Bán",color:"#991b1b"},mua:{name:"Mua",color:"#065f46"},ap_luc_ban:{name:"Áp lực bán",color:"#f59e0b"}};["cho_mua","cho_ban","ban","mua","ap_luc_ban"].forEach(a=>{const s=r[a];if(!s)return;const o=n.map((e,t)=>{const n=s.smoothed[t];return null==n||isNaN(n)?null:{time:e.slice(0,10),value:Number(n)}}).filter(Boolean);if(o.length)try{const t=e.addSeries(Qh,{color:i[a].color,lineWidth:2},2);t.setData(o),h.current.push(t)}catch(t){}})}try{e.timeScale().fitContent();const t=e.panes();t[0]&&t[0].setHeight(400),t[1]&&t[1].setHeight(150),t[2]&&t[2].setHeight(200)}catch(t){}}},[f,o]);const g=["#10b981","#065f46","#ef4444","#991b1b","#f59e0b"];function v({data:e,date:t}){if(!e||!Array.isArray(e)||0===e.length)return null;const n=e.filter(e=>e&&"string"==typeof e.name&&"number"==typeof e.value&&!isNaN(e.value)&&e.value>=0),r=n.reduce((e,t)=>e+t.value,0);if(0===n.length||0===r)return x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx("div",{className:"w-[120px] h-[120px] flex items-center justify-center border-2 border-dashed border-gray-300 rounded-full overflow-visible",children:x.jsx("span",{className:"text-xs text-gray-400",children:"No data"})}),x.jsx("div",{className:"text-xs mt-1 text-gray-500 dark:text-gray-400",children:t})]});const i=Math.PI/180;return x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx("div",{style:{width:280,height:280},className:"overflow-visible flex items-center justify-center",children:x.jsx(fY,{width:280,height:280,children:x.jsx(bW,{data:n,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:30,outerRadius:40,paddingAngle:1,label:({cx:e,cy:t,midAngle:n,outerRadius:r,name:a,value:s,fill:o,index:l})=>{const c=r+32,u=e+c*Math.cos(-n*i),d=t+c*Math.sin(-n*i);return x.jsx("text",{x:u,y:d,fill:o||(0===l||1===l?"#065f46":"#ef4444"),textAnchor:u>e?"start":"end",dominantBaseline:"central",fontSize:13,fontWeight:500,children:`${a}: ${s}`})},labelLine:!0,children:n.map((e,t)=>x.jsx(FL,{fill:g[t%g.length]},`cell-${t}`))})})}),x.jsx("div",{className:"text-xs mt-1 text-gray-500 dark:text-gray-400",children:t})]})}let y=[];if((null==(e=null==f?void 0:f.market_breadth)?void 0:e.dates)&&(null==(t=f.market_breadth)?void 0:t.indicators)){const{dates:e,indicators:t}=f.market_breadth,n=["cho_mua","mua","cho_ban","ban","ap_luc_ban"],r=["Chờ mua","Mua","Chờ bán","Bán","Áp lực bán"],i=e.length;for(let a=Math.max(0,i-7);a<i;++a){const i=n.map((e,n)=>{var i,s;return{name:r[n],value:"number"==typeof(null==(s=null==(i=t[e])?void 0:i.raw)?void 0:s[a])?t[e].raw[a]:0}});y.push({date:new Date(e[a]).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),data:i})}}if(p)return x.jsxs(sn,{className:"p-6 text-center text-red-600",children:["Lỗi tải dữ liệu: ",p.message]});const b={cho_mua:{name:"Chờ mua",color:"#10b981"},cho_ban:{name:"Chờ bán",color:"#ef4444"},ban:{name:"Bán",color:"#991b1b"},mua:{name:"Mua",color:"#065f46"},ap_luc_ban:{name:"Áp lực bán",color:"#f59e0b"}},w=(null==(n=null==f?void 0:f.market_breadth)?void 0:n.indicators)||{};return x.jsxs(sn,{className:"p-6",children:[x.jsx("div",{className:"mb-6",children:x.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Áp lực mua bán trên thị trường"})}),y.length>0&&x.jsxs("div",{className:"mt-8",children:[x.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:y.map((e,t)=>x.jsx(v,{data:e.data,date:e.date},t))}),x.jsx("div",{className:"flex justify-center gap-4 mt-4 text-xs",children:["Chờ mua","Mua","Chờ bán","Bán","Áp lực bán"].map((e,t)=>x.jsxs("span",{className:"flex items-center gap-1",children:[x.jsx("span",{className:"inline-block w-3 h-3 rounded-full",style:{backgroundColor:g[t]}}),e]},e))})]}),x.jsx("div",{className:"my-8 border-t border-gray-200 dark:border-gray-700"}),x.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[x.jsxs("div",{className:"flex-1 min-w-0 relative",children:[x.jsx("div",{ref:u,className:"border",style:{width:"100%",background:"#fff",minHeight:"750px"}}),(m||!o)&&x.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-white/70 z-10",children:[x.jsx("div",{className:"animate-spin h-8 w-8 border-b-2 border-primary rounded-full"}),x.jsx("p",{className:"mt-2 text-muted-foreground",children:"Đang tải dữ liệu và biểu đồ..."})]})]}),x.jsx("div",{className:"w-full md:w-64 flex-shrink-0 space-y-4",children:["cho_mua","cho_ban","ban","mua","ap_luc_ban"].map(e=>{const t=w[e];if(!t)return null;const n=b[e],r=t.smoothed.at(-1)||0;return x.jsxs("div",{className:"text-center p-3 bg-muted rounded-lg",children:[x.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:n.name}),x.jsx("div",{className:"text-lg font-semibold",style:{color:n.color},children:r.toFixed(1)})]},e)})})]}),x.jsxs("div",{className:"mt-8 p-6 bg-gray-50 dark:bg-slate-900 rounded-lg border border-gray-200 dark:border-slate-700",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[x.jsx(ue,{className:"h-6 w-6 text-blue-500 dark:text-blue-400"}),x.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Cách Đọc Biểu Đồ Áp Lực Mua Bán"})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[x.jsxs("div",{children:[x.jsx("h4",{className:"font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Định nghĩa các tín hiệu"}),x.jsx("ul",{className:"space-y-3",children:Object.entries({cho_mua:{name:"Chờ Mua",color:"#10b981",description:"Khi nhiều cổ phiếu đồng loạt phát tín hiệu Mua tiềm năng, ví dụ: RSI thấp (dưới ngưỡng 40), giá đang tiệm cận đáy ngắn hạn, khối lượng phiên trước cao hơn ngưỡng trung bình."},cho_ban:{name:"Chờ Bán",color:"#ef4444",description:"Khi nhiều cổ phiếu đồng loạt phát tín hiệu Bán tiềm năng, ví dụ: RSI cao (trên ngưỡng 60), giá đang tiệm cận đỉnh ngắn hạn, khối lượng phiên trước cao hơn ngưỡng trung bình."},mua:{name:"Mua Mạnh",color:"#065f46",description:"Khi áp lực Mua chiếm ưu thế rõ rệt, nhiều cổ phiếu vượt đỉnh trong 4 phiên liên tiếp và khối lượng lớn."},ban:{name:"Bán Mạnh",color:"#991b1b",description:"Khi áp lực Bán chiếm ưu thế rõ rệt, nhiều cổ phiếu phá đáy trong 8 phiên liên tiếp và khối lượng lớn."},ap_luc_ban:{name:"Áp Lực Bán",color:"#f59e0b",description:"Đo lường tình huống thị trường đang chịu sức ép giảm giá rộng khắp, thể hiện qua: nhiều cổ phiếu lập đáy ngắn hạn (4 phiên) hoặc cổ phiếu giảm mạnh trên 10% so với đỉnh 3 phiên trước, kèm khối lượng tăng cao."}}).map(([e,t])=>x.jsxs("li",{className:"flex items-start gap-3",children:[x.jsx("span",{className:"mt-1 flex-shrink-0 h-3 w-3 rounded-full",style:{backgroundColor:t.color},"aria-hidden":"true"}),x.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[x.jsxs("span",{className:"font-semibold text-gray-800 dark:text-gray-100",children:[t.name,":"]})," ",t.description]})]},e))})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("h4",{className:"font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Tổng quan"}),x.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Biểu đồ Áp Lực Mua–Bán tổng hợp tín hiệu kỹ thuật từ toàn bộ cổ phiếu trong rổ, rồi làm mượt (EMA) để xác định xu hướng chung."})]}),x.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-slate-800 border-l-4 border-blue-500 dark:border-blue-400 rounded-r-lg",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(ge,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 flex-shrink-0"}),x.jsx("h5",{className:"font-semibold text-blue-800 dark:text-blue-300",children:"Cách sử dụng"})]}),x.jsxs("div",{className:"mt-2 text-sm text-blue-700 dark:text-slate-300 pl-8 space-y-2",children:[x.jsx("p",{children:x.jsx("strong",{children:"Quan sát các đường:"})}),x.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[x.jsx("li",{children:"Đường Mua (xanh) và Chờ Mua (xanh mờ)"}),x.jsx("li",{children:"Đường Bán (đỏ) và Chờ Bán (hồng)"}),x.jsx("li",{children:"Đường Áp Lực Bán (cam)"})]}),x.jsx("p",{children:x.jsx("strong",{children:"Giao cắt tín hiệu:"})}),x.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[x.jsx("li",{children:"Khi đường Mua vượt lên trên đường Bán: dấu hiệu thị trường tích cực"}),x.jsx("li",{children:"Khi đường Bán chọc xuống dưới đường Mua: cảnh báo xu hướng tiêu cực"})]}),x.jsx("p",{children:x.jsx("strong",{children:"Xác nhận áp lực:"})}),x.jsx("ul",{className:"list-disc list-inside space-y-1 ml-2",children:x.jsx("li",{children:"Áp Lực Bán ở mức cao (> ngưỡng 50): nhiều cổ phiếu đang chịu sức ép giảm mạnh, nên thận trọng"})}),x.jsxs("p",{className:"text-xs mt-3 italic",children:[x.jsx("strong",{children:"Lưu ý:"})," Không nên dựa duy nhất vào chỉ báo này để ra quyết định mua/bán. Hãy kết hợp phân tích giá, khối lượng, tin tức cơ bản và quản trị rủi ro."]})]})]})]})]})]})]})},xY=[{value:"VNINDEX",label:"VNINDEX",description:"Chỉ số tổng hợp của thị trường chứng khoán Việt Nam, phản ánh xu hướng chung của toàn bộ thị trường."},{value:"VNINDEX_EW",label:"VNINDEX Equal Weight",description:"VNINDEX_EW là một chỉ số riêng của TCCK, được tính bằng cách tính trung bình giá và khối lượng của các cổ phiếu có lượng giao dịch trung bình trên 50000 đơn vị 1 ngày trong 20 ngày. Chỉ số này giúp loại bỏ sự ảnh hưởng của các cổ phiếu trụ có vốn hóa lớn làm méo mó thị trường."},{value:"VN30",label:"VN30",description:"Chỉ số của 30 cổ phiếu có vốn hóa thị trường lớn nhất và thanh khoản tốt nhất trên HOSE."},{value:"VN100",label:"VN100",description:"Chỉ số của 100 cổ phiếu có vốn hóa thị trường lớn nhất và thanh khoản tốt trên HOSE."},{value:"VNALL",label:"VN All Share",description:"Chỉ số tổng hợp của tất cả cổ phiếu niêm yết trên HOSE và HNX."},{value:"VNMID",label:"VN Mid Cap",description:"Chỉ số của các cổ phiếu có vốn hóa thị trường trung bình trên thị trường chứng khoán Việt Nam."},{value:"VNSML",label:"VN Small Cap",description:"Chỉ số của các cổ phiếu có vốn hóa thị trường nhỏ trên thị trường chứng khoán Việt Nam."}],bY=()=>{const e=k.useRef(null),t=k.useRef(null),n=k.useRef([]),[r,i]=k.useState(!0),[a,s]=k.useState(null),[o,l]=k.useState("VNINDEX_EW"),[c,u]=k.useState(null),[d,h]=k.useState(!1),[f,m]=k.useState(!1);return k.useEffect(()=>{if(!e.current)return;let n;function r(){e.current.clientWidth>0&&!t.current&&setTimeout(()=>{if(e.current.clientWidth>0&&!t.current)try{const n=Vh(e.current,{width:e.current.clientWidth,height:500,layout:{background:{color:"#fff"},textColor:"#222"},grid:{vertLines:{color:"#e5e7eb"},horzLines:{color:"#e5e7eb"}},crosshair:{mode:1},rightPriceScale:{borderColor:"#d1d5db"},timeScale:{borderColor:"#d1d5db",timeVisible:!0,secondsVisible:!1},overlayPriceScales:{borderColor:"#d1d5db"}});t.current=n,h(!0)}catch(n){h(!1)}},50)}return n=new window.ResizeObserver(()=>{r()}),n.observe(e.current),r(),()=>{if(n&&n.disconnect(),t.current){try{t.current.remove()}catch(e){}t.current=null,h(!1)}}},[o]),k.useEffect(()=>{if(!d||!c)return;const e=t.current;if(!e)return;n.current=[];const r=c.map(e=>{const t=new Date(e.Time).toISOString().slice(0,10),n=Number(e.Open),r=Number(e.High),i=Number(e.Low),a=Number(e.Close);return[n,r,i,a].some(e=>null==e||isNaN(e))?null:{time:t,open:n,high:r,low:i,close:a}}).filter(Boolean);if(r.length)try{const t=e.addSeries(tf,{upColor:"#26a69a",downColor:"#ef5350"},0);t.setData(r),n.current.push(t)}catch(a){}const i=c.map(e=>{const t=new Date(e.Time).toISOString().slice(0,10),n=Number(e.Volume);return null==n||isNaN(n)?null:{time:t,value:n}}).filter(Boolean);if(i.length)try{const t=e.addSeries(af,{color:"#c792ea",priceFormat:{type:"volume"},scaleMargins:{top:.8,bottom:0}},1);t.setData(i),n.current.push(t)}catch(a){}try{e.timeScale().fitContent();const t=e.panes();t[0]&&t[0].setHeight(400),t[1]&&t[1].setHeight(150)}catch(a){}},[c,d]),k.useEffect(()=>{var e;e=o,g(null,null,function*(){try{i(!0),s(null);const t=yield xf.loadTicker(e);u(t)}catch(rae){s(`Không thể tải dữ liệu ${e}`)}finally{i(!1)}})},[o]),a?x.jsx(Ae,{children:x.jsxs("div",{className:"p-6 text-center",children:[x.jsx("div",{className:"text-red-500 mb-2",children:"⚠️"}),x.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Lỗi tải dữ liệu"}),x.jsx("p",{className:"text-gray-600",children:a})]})}):x.jsx(Ae,{children:x.jsxs("div",{className:"p-6",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("div",{className:"flex items-center gap-2",children:x.jsxs("div",{className:"flex-1",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:(()=>{const e=xY.find(e=>e.value===o);return e?e.label:o})()}),x.jsx("button",{onClick:()=>m(!f),className:"cursor-pointer text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",title:"Hướng dẫn đọc biểu đồ",children:x.jsx(ue,{className:"h-5 w-5"})})]}),x.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Biểu đồ giá và khối lượng giao dịch"})]})}),x.jsxs("div",{className:"flex items-center space-x-4",children:[x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx("label",{htmlFor:"source-select",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Chọn chỉ số:"}),x.jsx("select",{id:"source-select",value:o,onChange:e=>{l(e.target.value)},className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",disabled:r,children:xY.map(e=>x.jsx("option",{value:e.value,children:e.label},e.value))})]}),r&&x.jsxs("div",{className:"flex items-center text-blue-500",children:[x.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500 mr-2"}),x.jsx("span",{className:"text-sm",children:"Đang tải..."})]})]})]}),f&&x.jsx("div",{className:"mb-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:x.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300 space-y-3",children:[x.jsx("p",{className:"font-medium",children:"Biểu đồ này hiển thị giá và khối lượng giao dịch của các chỉ số thị trường chứng khoán Việt Nam."}),x.jsxs("div",{children:[x.jsx("h4",{className:"font-semibold mb-2",children:"Ý nghĩa các chỉ số"}),x.jsxs("div",{className:"space-y-2 text-xs",children:[x.jsxs("div",{children:[x.jsx("strong",{children:"VNINDEX:"})," Chỉ số tổng hợp của thị trường chứng khoán Việt Nam, phản ánh xu hướng chung của toàn bộ thị trường."]}),x.jsxs("div",{children:[x.jsx("strong",{children:"VNINDEX_EW:"})," VNINDEX_EW là một chỉ số riêng của TCCK, được tính bằng cách tính trung bình giá và khối lượng của các cổ phiếu có lượng giao dịch trung bình trên 50000 đơn vị 1 ngày trong 20 ngày. Chỉ số này giúp loại bỏ sự ảnh hưởng của các cổ phiếu trụ có vốn hóa lớn làm méo mó thị trường."]}),x.jsxs("div",{children:[x.jsx("strong",{children:"VN30:"})," Chỉ số của 30 cổ phiếu có vốn hóa thị trường lớn nhất và thanh khoản tốt nhất trên HOSE."]}),x.jsxs("div",{children:[x.jsx("strong",{children:"VN100:"})," Chỉ số của 100 cổ phiếu có vốn hóa thị trường lớn nhất và thanh khoản tốt trên HOSE."]}),x.jsxs("div",{children:[x.jsx("strong",{children:"VNALL (VNAllShare):"})," Chỉ số vốn hóa bao gồm các mã cổ phiếu được niêm yết trên sàn HOSE, thỏa mãn 4 tiêu chí bắt buộc:",x.jsxs("ul",{className:"mt-1 ml-4 space-y-1",children:[x.jsxs("li",{children:[x.jsx("strong",{children:"Tư cách:"})," Cổ phiếu hoạt động bình thường, niêm yết tối thiểu 6 tháng (3 tháng nếu thuộc top 5 vốn hóa)"]}),x.jsxs("li",{children:[x.jsx("strong",{children:"Free-float:"})," Tối thiểu 10% (5% nếu thuộc top 10 vốn hóa)"]}),x.jsxs("li",{children:[x.jsx("strong",{children:"Thanh khoản:"})," ≥ 0.05%"]}),x.jsxs("li",{children:[x.jsx("strong",{children:"Tỷ trọng vốn hóa:"})," Giới hạn 10%"]})]})]}),x.jsxs("div",{children:[x.jsx("strong",{children:"VNMID:"})," Chỉ số của các cổ phiếu có vốn hóa thị trường trung bình trên thị trường chứng khoán Việt Nam."]}),x.jsxs("div",{children:[x.jsx("strong",{children:"VNSML:"})," Chỉ số của các cổ phiếu có vốn hóa thị trường nhỏ trên thị trường chứng khoán Việt Nam."]})]})]})]})}),x.jsx("div",{ref:e,className:"w-full",children:r&&x.jsx("div",{className:"flex items-center justify-center h-full",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-2"}),x.jsx("p",{className:"text-gray-600",children:"Đang tải dữ liệu..."})]})})})]})})};var wY={},_Y={};function jY(e){return e}var kY=1e-6;function NY(e){return"translate("+e+",0)"}function SY(e){return"translate(0,"+e+")"}function CY(e){return t=>+e(t)}function EY(e,t){return t=Math.max(0,e.bandwidth()-2*t)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function PY(){return!this.__axis}function MY(e,t){var n=[],r=null,i=null,a=6,s=6,o=3,l="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,c=1===e||4===e?-1:1,u=4===e||2===e?"x":"y",d=1===e||3===e?NY:SY;function h(h){var f=null==r?t.ticks?t.ticks.apply(t,n):t.domain():r,m=null==i?t.tickFormat?t.tickFormat.apply(t,n):jY:i,p=Math.max(a,0)+o,g=t.range(),v=+g[0]+l,y=+g[g.length-1]+l,x=(t.bandwidth?EY:CY)(t.copy(),l),b=h.selection?h.selection():h,w=b.selectAll(".domain").data([null]),_=b.selectAll(".tick").data(f,t).order(),j=_.exit(),k=_.enter().append("g").attr("class","tick"),N=_.select("line"),S=_.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),_=_.merge(k),N=N.merge(k.append("line").attr("stroke","currentColor").attr(u+"2",c*a)),S=S.merge(k.append("text").attr("fill","currentColor").attr(u,c*p).attr("dy",1===e?"0em":3===e?"0.71em":"0.32em")),h!==b&&(w=w.transition(h),_=_.transition(h),N=N.transition(h),S=S.transition(h),j=j.transition(h).attr("opacity",kY).attr("transform",function(e){return isFinite(e=x(e))?d(e+l):this.getAttribute("transform")}),k.attr("opacity",kY).attr("transform",function(e){var t=this.parentNode.__axis;return d((t&&isFinite(t=t(e))?t:x(e))+l)})),j.remove(),w.attr("d",4===e||2===e?s?"M"+c*s+","+v+"H"+l+"V"+y+"H"+c*s:"M"+l+","+v+"V"+y:s?"M"+v+","+c*s+"V"+l+"H"+y+"V"+c*s:"M"+v+","+l+"H"+y),_.attr("opacity",1).attr("transform",function(e){return d(x(e)+l)}),N.attr(u+"2",c*a),S.attr(u,c*p).text(m),b.filter(PY).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===e?"start":4===e?"end":"middle"),b.each(function(){this.__axis=x})}return h.scale=function(e){return arguments.length?(t=e,h):t},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(e){return arguments.length?(n=null==e?[]:Array.from(e),h):n.slice()},h.tickValues=function(e){return arguments.length?(r=null==e?null:Array.from(e),h):r&&r.slice()},h.tickFormat=function(e){return arguments.length?(i=e,h):i},h.tickSize=function(e){return arguments.length?(a=s=+e,h):a},h.tickSizeInner=function(e){return arguments.length?(a=+e,h):a},h.tickSizeOuter=function(e){return arguments.length?(s=+e,h):s},h.tickPadding=function(e){return arguments.length?(o=+e,h):o},h.offset=function(e){return arguments.length?(l=+e,h):l},h}var OY={value:()=>{}};function AY(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new TY(r)}function TY(e){this._=e}function DY(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function RY(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=OY,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}TY.prototype=AY.prototype={constructor:TY,on:function(e,t){var n,r,i=this._,a=(r=i,(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}})),s=-1,o=a.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++s<o;)if(n=(e=a[s]).type)i[n]=RY(i[n],e.name,t);else if(null==t)for(n in i)i[n]=RY(i[n],e.name,null);return this}for(;++s<o;)if((n=(e=a[s]).type)&&(n=DY(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new TY(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,n=(r=this._[e]).length;a<n;++a)r[a].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};var IY="http://www.w3.org/1999/xhtml";const zY={svg:"http://www.w3.org/2000/svg",xhtml:IY,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function LY(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),zY.hasOwnProperty(t)?{space:zY[t],local:e}:e}function FY(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===IY&&t.documentElement.namespaceURI===IY?t.createElement(e):t.createElementNS(n,e)}}function BY(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function WY(e){var t=LY(e);return(t.local?BY:FY)(t)}function VY(){}function $Y(e){return null==e?VY:function(){return this.querySelector(e)}}function KY(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}function HY(){return[]}function UY(e){return null==e?HY:function(){return this.querySelectorAll(e)}}function YY(e){return function(){return this.matches(e)}}function qY(e){return function(t){return t.matches(e)}}var GY=Array.prototype.find;function XY(){return this.firstElementChild}var QY=Array.prototype.filter;function ZY(){return Array.from(this.children)}function JY(e){return new Array(e.length)}function eq(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function tq(e,t,n,r,i,a){for(var s,o=0,l=t.length,c=a.length;o<c;++o)(s=t[o])?(s.__data__=a[o],r[o]=s):n[o]=new eq(e,a[o]);for(;o<l;++o)(s=t[o])&&(i[o]=s)}function nq(e,t,n,r,i,a,s){var o,l,c,u=new Map,d=t.length,h=a.length,f=new Array(d);for(o=0;o<d;++o)(l=t[o])&&(f[o]=c=s.call(l,l.__data__,o,t)+"",u.has(c)?i[o]=l:u.set(c,l));for(o=0;o<h;++o)c=s.call(e,a[o],o,a)+"",(l=u.get(c))?(r[o]=l,l.__data__=a[o],u.delete(c)):n[o]=new eq(e,a[o]);for(o=0;o<d;++o)(l=t[o])&&u.get(f[o])===l&&(i[o]=l)}function rq(e){return e.__data__}function iq(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function aq(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function sq(e){return function(){this.removeAttribute(e)}}function oq(e){return function(){this.removeAttributeNS(e.space,e.local)}}function lq(e,t){return function(){this.setAttribute(e,t)}}function cq(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function uq(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function dq(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function hq(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function fq(e){return function(){this.style.removeProperty(e)}}function mq(e,t,n){return function(){this.style.setProperty(e,t,n)}}function pq(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function gq(e,t){return e.style.getPropertyValue(t)||hq(e).getComputedStyle(e,null).getPropertyValue(t)}function vq(e){return function(){delete this[e]}}function yq(e,t){return function(){this[e]=t}}function xq(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function bq(e){return e.trim().split(/^|\s+/)}function wq(e){return e.classList||new _q(e)}function _q(e){this._node=e,this._names=bq(e.getAttribute("class")||"")}function jq(e,t){for(var n=wq(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function kq(e,t){for(var n=wq(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Nq(e){return function(){jq(this,e)}}function Sq(e){return function(){kq(this,e)}}function Cq(e,t){return function(){(t.apply(this,arguments)?jq:kq)(this,e)}}function Eq(){this.textContent=""}function Pq(e){return function(){this.textContent=e}}function Mq(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function Oq(){this.innerHTML=""}function Aq(e){return function(){this.innerHTML=e}}function Tq(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function Dq(){this.nextSibling&&this.parentNode.appendChild(this)}function Rq(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Iq(){return null}function zq(){var e=this.parentNode;e&&e.removeChild(this)}function Lq(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Fq(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Bq(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,a=t.length;r<a;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function Wq(e,t,n){return function(){var r,i=this.__on,a=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var s=0,o=i.length;s<o;++s)if((r=i[s]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),void(r.value=t);this.addEventListener(e.type,a,n),r={type:e.type,name:e.name,value:t,listener:a,options:n},i?i.push(r):this.__on=[r]}}function Vq(e,t,n){var r=hq(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function $q(e,t){return function(){return Vq(this,e,t)}}function Kq(e,t){return function(){return Vq(this,e,t.apply(this,arguments))}}eq.prototype={constructor:eq,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},_q.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Hq=[null];function Uq(e,t){this._groups=e,this._parents=t}function Yq(){return new Uq([[document.documentElement]],Hq)}function qq(e){return"string"==typeof e?new Uq([[document.querySelector(e)]],[document.documentElement]):new Uq([[e]],Hq)}Uq.prototype=Yq.prototype={constructor:Uq,select:function(e){"function"!=typeof e&&(e=$Y(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,s,o=t[i],l=o.length,c=r[i]=new Array(l),u=0;u<l;++u)(a=o[u])&&(s=e.call(a,a.__data__,u,o))&&("__data__"in a&&(s.__data__=a.__data__),c[u]=s);return new Uq(r,this._parents)},selectAll:function(e){e="function"==typeof e?function(e){return function(){return KY(e.apply(this,arguments))}}(e):UY(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var s,o=t[a],l=o.length,c=0;c<l;++c)(s=o[c])&&(r.push(e.call(s,s.__data__,c,o)),i.push(s));return new Uq(r,i)},selectChild:function(e){return this.select(null==e?XY:function(e){return function(){return GY.call(this.children,e)}}("function"==typeof e?e:qY(e)))},selectChildren:function(e){return this.selectAll(null==e?ZY:function(e){return function(){return QY.call(this.children,e)}}("function"==typeof e?e:qY(e)))},filter:function(e){"function"!=typeof e&&(e=YY(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,s=t[i],o=s.length,l=r[i]=[],c=0;c<o;++c)(a=s[c])&&e.call(a,a.__data__,c,s)&&l.push(a);return new Uq(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,rq);var n,r=t?nq:tq,i=this._parents,a=this._groups;"function"!=typeof e&&(n=e,e=function(){return n});for(var s=a.length,o=new Array(s),l=new Array(s),c=new Array(s),u=0;u<s;++u){var d=i[u],h=a[u],f=h.length,m=iq(e.call(d,d&&d.__data__,u,i)),p=m.length,g=l[u]=new Array(p),v=o[u]=new Array(p);r(d,h,g,v,c[u]=new Array(f),m,t);for(var y,x,b=0,w=0;b<p;++b)if(y=g[b]){for(b>=w&&(w=b+1);!(x=v[w])&&++w<p;);y._next=x||null}}return(o=new Uq(o,i))._enter=l,o._exit=c,o},enter:function(){return new Uq(this._enter||this._groups.map(JY),this._parents)},exit:function(){return new Uq(this._exit||this._groups.map(JY),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,a=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,s=Math.min(i,a),o=new Array(i),l=0;l<s;++l)for(var c,u=n[l],d=r[l],h=u.length,f=o[l]=new Array(h),m=0;m<h;++m)(c=u[m]||d[m])&&(f[m]=c);for(;l<i;++l)o[l]=n[l];return new Uq(o,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],a=i.length-1,s=i[a];--a>=0;)(r=i[a])&&(s&&4^r.compareDocumentPosition(s)&&s.parentNode.insertBefore(r,s),s=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=aq);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var s,o=n[a],l=o.length,c=i[a]=new Array(l),u=0;u<l;++u)(s=o[u])&&(c[u]=s);c.sort(t)}return new Uq(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var s=r[i];if(s)return s}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,a=t[n],s=0,o=a.length;s<o;++s)(i=a[s])&&e.call(i,i.__data__,s,a);return this},attr:function(e,t){var n=LY(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?oq:sq:"function"==typeof t?n.local?dq:uq:n.local?cq:lq)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?fq:"function"==typeof t?pq:mq)(e,t,null==n?"":n)):gq(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?vq:"function"==typeof t?xq:yq)(e,t)):this.node()[e]},classed:function(e,t){var n=bq(e+"");if(arguments.length<2){for(var r=wq(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?Cq:t?Nq:Sq)(n,t))},text:function(e){return arguments.length?this.each(null==e?Eq:("function"==typeof e?Mq:Pq)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?Oq:("function"==typeof e?Tq:Aq)(e)):this.node().innerHTML},raise:function(){return this.each(Dq)},lower:function(){return this.each(Rq)},append:function(e){var t="function"==typeof e?e:WY(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"==typeof e?e:WY(e),r=null==t?Iq:"function"==typeof t?t:$Y(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(zq)},clone:function(e){return this.select(e?Fq:Lq)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,a=function(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}(e+""),s=a.length;if(!(arguments.length<2)){for(o=t?Wq:Bq,r=0;r<s;++r)this.each(o(a[r],t,n));return this}var o=this.node().__on;if(o)for(var l,c=0,u=o.length;c<u;++c)for(r=0,l=o[c];r<s;++r)if((i=a[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?Kq:$q)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,i=e[t],a=0,s=i.length;a<s;++a)(r=i[a])&&(yield r)}};var Gq=0;function Xq(){return new Qq}function Qq(){this._="@"+(++Gq).toString(36)}function Zq(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Jq(e,t){if(e=Zq(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}Qq.prototype=Xq.prototype={constructor:Qq,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};const eG={passive:!1},tG={capture:!0,passive:!1};function nG(e){e.stopImmediatePropagation()}function rG(e){e.preventDefault(),e.stopImmediatePropagation()}function iG(e){var t=e.document.documentElement,n=qq(e).on("dragstart.drag",rG,tG);"onselectstart"in t?n.on("selectstart.drag",rG,tG):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function aG(e,t){var n=e.document.documentElement,r=qq(e).on("dragstart.drag",null);t&&(r.on("click.drag",rG,tG),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const sG=e=>()=>e;function oG(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:a,x:s,y:o,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}function lG(e){return!e.ctrlKey&&!e.button}function cG(){return this.parentNode}function uG(e,t){return null==t?{x:e.x,y:e.y}:t}function dG(){return navigator.maxTouchPoints||"ontouchstart"in this}oG.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var hG,fG,mG=0,pG=0,gG=0,vG=0,yG=0,xG=0,bG="object"==typeof performance&&performance.now?performance:Date,wG="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function _G(){return yG||(wG(jG),yG=bG.now()+xG)}function jG(){yG=0}function kG(){this._call=this._time=this._next=null}function NG(e,t,n){var r=new kG;return r.restart(e,t,n),r}function SG(){_G(),++mG;for(var e,t=hG;t;)(e=yG-t._time)>=0&&t._call.call(void 0,e),t=t._next;--mG}function CG(){yG=(vG=bG.now())+xG,mG=pG=0;try{SG()}finally{mG=0,function(){for(var e,t,n=hG,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:hG=t);fG=e,PG(r)}(),yG=0}}function EG(){var e=bG.now(),t=e-vG;t>1e3&&(xG-=t,vG=e)}function PG(e){mG||(pG&&(pG=clearTimeout(pG)),e-yG>24?(e<1/0&&(pG=setTimeout(CG,e-bG.now()-xG)),gG&&(gG=clearInterval(gG))):(gG||(vG=bG.now(),gG=setInterval(EG,1e3)),mG=1,wG(CG)))}function MG(e,t,n){var r=new kG;return t=null==t?0:+t,r.restart(n=>{r.stop(),e(n+t)},t,n),r}kG.prototype=NG.prototype={constructor:kG,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?_G():+n)+(null==t?0:+t),this._next||fG===this||(fG?fG._next=this:hG=this,fG=this),this._call=e,this._time=n,PG()},stop:function(){this._call&&(this._call=null,this._time=1/0,PG())}};var OG=AY("start","end","cancel","interrupt"),AG=[];function TG(e,t,n,r,i,a){var s=e.__transition;if(s){if(n in s)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function a(e){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=e&&s(e-n.delay)}function s(a){var c,u,d,h;if(1!==n.state)return l();for(c in i)if((h=i[c]).name===n.name){if(3===h.state)return MG(s);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete i[c]):+c<t&&(h.state=6,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete i[c])}if(MG(function(){3===n.state&&(n.state=4,n.timer.restart(o,n.delay,n.time),o(a))}),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(d=n.tween.length),c=0,u=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=h);r.length=u+1}}function o(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=5,1),a=-1,s=r.length;++a<s;)r[a].call(e,i);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=NG(a,0,n.time)}(e,n,{name:t,index:r,group:i,on:OG,tween:AG,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function DG(e,t){var n=IG(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function RG(e,t){var n=IG(e,t);if(n.state>3)throw new Error("too late; already running");return n}function IG(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function zG(e,t){var n,r,i,a=e.__transition,s=!0;if(a){for(i in t=null==t?null:t+"",a)(n=a[i]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete a[i]):s=!1;s&&delete e.__transition}}function LG(e,t){var n,r;return function(){var i=RG(this,e),a=i.tween;if(a!==n)for(var s=0,o=(r=n=a).length;s<o;++s)if(r[s].name===t){(r=r.slice()).splice(s,1);break}i.tween=r}}function FG(e,t,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var a=RG(this,e),s=a.tween;if(s!==r){i=(r=s).slice();for(var o={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=o;break}l===c&&i.push(o)}a.tween=i}}function BG(e,t,n){var r=e._id;return e.each(function(){var e=RG(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return IG(e,r).value[t]}}function WG(e,t){var n;return("number"==typeof t?eE:t instanceof HS?UC:(n=HS(t))?(t=n,UC):iE)(e,t)}function VG(e){return function(){this.removeAttribute(e)}}function $G(e){return function(){this.removeAttributeNS(e.space,e.local)}}function KG(e,t,n){var r,i,a=n+"";return function(){var s=this.getAttribute(e);return s===a?null:s===r?i:i=t(r=s,n)}}function HG(e,t,n){var r,i,a=n+"";return function(){var s=this.getAttributeNS(e.space,e.local);return s===a?null:s===r?i:i=t(r=s,n)}}function UG(e,t,n){var r,i,a;return function(){var s,o,l=n(this);if(null!=l)return(s=this.getAttribute(e))===(o=l+"")?null:s===r&&o===i?a:(i=o,a=t(r=s,l));this.removeAttribute(e)}}function YG(e,t,n){var r,i,a;return function(){var s,o,l=n(this);if(null!=l)return(s=this.getAttributeNS(e.space,e.local))===(o=l+"")?null:s===r&&o===i?a:(i=o,a=t(r=s,l));this.removeAttributeNS(e.space,e.local)}}function qG(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,i)),n}return i._value=t,i}function GG(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,i)),n}return i._value=t,i}function XG(e,t){return function(){DG(this,e).delay=+t.apply(this,arguments)}}function QG(e,t){return t=+t,function(){DG(this,e).delay=t}}function ZG(e,t){return function(){RG(this,e).duration=+t.apply(this,arguments)}}function JG(e,t){return t=+t,function(){RG(this,e).duration=t}}var eX=Yq.prototype.constructor;function tX(e){return function(){this.style.removeProperty(e)}}var nX=0;function rX(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function iX(e){return Yq().transition(e)}function aX(){return++nX}var sX=Yq.prototype;function oX(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function lX(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}rX.prototype=iX.prototype={constructor:rX,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=$Y(e));for(var r=this._groups,i=r.length,a=new Array(i),s=0;s<i;++s)for(var o,l,c=r[s],u=c.length,d=a[s]=new Array(u),h=0;h<u;++h)(o=c[h])&&(l=e.call(o,o.__data__,h,c))&&("__data__"in o&&(l.__data__=o.__data__),d[h]=l,TG(d[h],t,n,h,d,IG(o,n)));return new rX(a,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=UY(e));for(var r=this._groups,i=r.length,a=[],s=[],o=0;o<i;++o)for(var l,c=r[o],u=c.length,d=0;d<u;++d)if(l=c[d]){for(var h,f=e.call(l,l.__data__,d,c),m=IG(l,n),p=0,g=f.length;p<g;++p)(h=f[p])&&TG(h,t,n,p,f,m);a.push(f),s.push(l)}return new rX(a,s,t,n)},selectChild:sX.selectChild,selectChildren:sX.selectChildren,filter:function(e){"function"!=typeof e&&(e=YY(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,s=t[i],o=s.length,l=r[i]=[],c=0;c<o;++c)(a=s[c])&&e.call(a,a.__data__,c,s)&&l.push(a);return new rX(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),s=new Array(r),o=0;o<a;++o)for(var l,c=t[o],u=n[o],d=c.length,h=s[o]=new Array(d),f=0;f<d;++f)(l=c[f]||u[f])&&(h[f]=l);for(;o<r;++o)s[o]=t[o];return new rX(s,this._parents,this._name,this._id)},selection:function(){return new eX(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=aX(),r=this._groups,i=r.length,a=0;a<i;++a)for(var s,o=r[a],l=o.length,c=0;c<l;++c)if(s=o[c]){var u=IG(s,t);TG(s,e,n,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new rX(r,this._parents,e,n)},call:sX.call,nodes:sX.nodes,node:sX.node,size:sX.size,empty:sX.empty,each:sX.each,on:function(e,t){var n=this._id;return arguments.length<2?IG(this.node(),n).on.on(e):this.each(function(e,t,n){var r,i,a=function(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(t)?DG:RG;return function(){var s=a(this,e),o=s.on;o!==r&&(i=(r=o).copy()).on(t,n),s.on=i}}(n,e,t))},attr:function(e,t){var n=LY(e),r="transform"===n?fE:WG;return this.attrTween(e,"function"==typeof t?(n.local?YG:UG)(n,r,BG(this,"attr."+e,t)):null==t?(n.local?$G:VG)(n):(n.local?HG:KG)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=LY(e);return this.tween(n,(r.local?qG:GG)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?hE:WG;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var a=gq(this,e),s=(this.style.removeProperty(e),gq(this,e));return a===s?null:a===n&&s===r?i:i=t(n=a,r=s)}}(e,r)).on("end.style."+e,tX(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,i,a;return function(){var s=gq(this,e),o=n(this),l=o+"";return null==o&&(this.style.removeProperty(e),l=o=gq(this,e)),s===l?null:s===r&&l===i?a:(i=l,a=t(r=s,o))}}(e,r,BG(this,"style."+e,t))).each(function(e,t){var n,r,i,a,s="style."+t,o="end."+s;return function(){var l=RG(this,e),c=l.on,u=null==l.value[s]?a||(a=tX(t)):void 0;c===n&&i===u||(r=(n=c).copy()).on(o,i=u),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,a=n+"";return function(){var s=gq(this,e);return s===a?null:s===r?i:i=t(r=s,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,i;function a(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,a,n)),r}return a._value=t,a}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(BG(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=IG(this.node(),n).tween,a=0,s=i.length;a<s;++a)if((r=i[a]).name===e)return r.value;return null}return this.each((null==t?LG:FG)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?XG:QG)(t,e)):IG(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?ZG:JG)(t,e)):IG(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){RG(this,e).ease=t}}(t,e)):IG(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;RG(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(a,s){var o={value:s},l={value:function(){0===--i&&a()}};n.each(function(){var n=RG(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(o),t._.interrupt.push(o),t._.end.push(l)),n.on=t}),0===i&&a()})},[Symbol.iterator]:sX[Symbol.iterator]};var cX=function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n}(3),uX=function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),dX=function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3),hX=Math.PI,fX=hX/2;function mX(e){return(1-Math.cos(hX*e))/2}function pX(e){return 1.0009775171065494*(Math.pow(2,-10*e)-.0009765625)}function gX(e){return((e*=2)<=1?pX(1-e):2-pX(e-1))/2}function vX(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var yX=4/11,xX=6/11,bX=8/11,wX=9/11,_X=10/11,jX=21/22,kX=7.5625;function NX(e){return(e=+e)<yX?kX*e*e:e<bX?kX*(e-=xX)*e+.75:e<_X?kX*(e-=wX)*e+.9375:kX*(e-=jX)*e+.984375}var SX=1.70158,CX=function e(t){function n(e){return(e=+e)*e*(t*(e-1)+e)}return t=+t,n.overshoot=e,n}(SX),EX=function e(t){function n(e){return--e*e*((e+1)*t+e)+1}return t=+t,n.overshoot=e,n}(SX),PX=function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(SX),MX=2*Math.PI,OX=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=MX);function i(e){return t*pX(- --e)*Math.sin((r-e)/n)}return i.amplitude=function(t){return e(t,n*MX)},i.period=function(n){return e(t,n)},i}(1,.3),AX=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=MX);function i(e){return 1-t*pX(e=+e)*Math.sin((e+r)/n)}return i.amplitude=function(t){return e(t,n*MX)},i.period=function(n){return e(t,n)},i}(1,.3),TX=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=MX);function i(e){return((e=2*e-1)<0?t*pX(-e)*Math.sin((r-e)/n):2-t*pX(e)*Math.sin((r+e)/n))/2}return i.amplitude=function(t){return e(t,n*MX)},i.period=function(n){return e(t,n)},i}(1,.3),DX={time:null,delay:0,duration:250,ease:lX};function RX(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}Yq.prototype.interrupt=function(e){return this.each(function(){zG(this,e)})},Yq.prototype.transition=function(e){var t,n;e instanceof rX?(t=e._id,e=e._name):(t=aX(),(n=DX).time=_G(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var s,o=r[a],l=o.length,c=0;c<l;++c)(s=o[c])&&TG(s,e,t,c,o,n||RX(s,t));return new rX(r,this._parents,e,t)};var IX=[null];const zX=e=>()=>e;function LX(e,{sourceEvent:t,target:n,selection:r,mode:i,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function FX(e){e.preventDefault(),e.stopImmediatePropagation()}var BX={name:"drag"},WX={name:"space"},VX={name:"handle"},$X={name:"center"};const{abs:KX,max:HX,min:UX}=Math;function YX(e){return[+e[0],+e[1]]}function qX(e){return[YX(e[0]),YX(e[1])]}var GX={name:"x",handles:["w","e"].map(rQ),input:function(e,t){return null==e?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},XX={name:"y",handles:["n","s"].map(rQ),input:function(e,t){return null==e?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},QX={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(rQ),input:function(e){return null==e?null:qX(e)},output:function(e){return e}},ZX={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},JX={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},eQ={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},tQ={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},nQ={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function rQ(e){return{type:e}}function iQ(e){return!e.ctrlKey&&!e.button}function aQ(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function sQ(){return navigator.maxTouchPoints||"ontouchstart"in this}function oQ(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function lQ(e){var t,n=aQ,r=iQ,i=sQ,a=!0,s=AY("start","brush","end"),o=6;function l(t){var n=t.property("__brush",p).selectAll(".overlay").data([rQ("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",ZX.overlay).merge(n).each(function(){var e=oQ(this).extent;qq(this).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1])}),t.selectAll(".selection").data([rQ("selection")]).enter().append("rect").attr("class","selection").attr("cursor",ZX.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=t.selectAll(".handle").data(e.handles,function(e){return e.type});r.exit().remove(),r.enter().append("rect").attr("class",function(e){return"handle handle--"+e.type}).attr("cursor",function(e){return ZX[e.type]}),t.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(i).on("touchstart.brush",h).on("touchmove.brush",f).on("touchend.brush touchcancel.brush",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(){var e=qq(this),t=oQ(this).selection;t?(e.selectAll(".selection").style("display",null).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1]),e.selectAll(".handle").style("display",null).attr("x",function(e){return"e"===e.type[e.type.length-1]?t[1][0]-o/2:t[0][0]-o/2}).attr("y",function(e){return"s"===e.type[0]?t[1][1]-o/2:t[0][1]-o/2}).attr("width",function(e){return"n"===e.type||"s"===e.type?t[1][0]-t[0][0]+o:o}).attr("height",function(e){return"e"===e.type||"w"===e.type?t[1][1]-t[0][1]+o:o})):e.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function u(e,t,n){var r=e.__brush.emitter;return!r||n&&r.clean?new d(e,t,n):r}function d(e,t,n){this.that=e,this.args=t,this.state=e.__brush,this.active=0,this.clean=n}function h(n){if((!t||n.touches)&&r.apply(this,arguments)){var i,s,o,l,d,h,f,m,p,g,v,y=this,x=n.target.__data__.type,b="selection"===(a&&n.metaKey?x="overlay":x)?BX:a&&n.altKey?$X:VX,w=e===XX?null:tQ[x],_=e===GX?null:nQ[x],j=oQ(y),k=j.extent,N=j.selection,S=k[0][0],C=k[0][1],E=k[1][0],P=k[1][1],M=0,O=0,A=w&&_&&a&&n.shiftKey,T=Array.from(n.touches||[n],e=>{const t=e.identifier;return(e=Jq(e,y)).point0=e.slice(),e.identifier=t,e});zG(y);var D=u(y,arguments,!0).beforestart();if("overlay"===x){N&&(p=!0);const t=[T[0],T[1]||T[0]];j.selection=N=[[i=e===XX?S:UX(t[0][0],t[1][0]),o=e===GX?C:UX(t[0][1],t[1][1])],[d=e===XX?E:HX(t[0][0],t[1][0]),f=e===GX?P:HX(t[0][1],t[1][1])]],T.length>1&&F(n)}else i=N[0][0],o=N[0][1],d=N[1][0],f=N[1][1];s=i,l=o,h=d,m=f;var R=qq(y).attr("pointer-events","none"),I=R.selectAll(".overlay").attr("cursor",ZX[x]);if(n.touches)D.moved=L,D.ended=B;else{var z=qq(n.view).on("mousemove.brush",L,!0).on("mouseup.brush",B,!0);a&&z.on("keydown.brush",function(e){switch(e.keyCode){case 16:A=w&&_;break;case 18:b===VX&&(w&&(d=h-M*w,i=s+M*w),_&&(f=m-O*_,o=l+O*_),b=$X,F(e));break;case 32:b!==VX&&b!==$X||(w<0?d=h-M:w>0&&(i=s-M),_<0?f=m-O:_>0&&(o=l-O),b=WX,I.attr("cursor",ZX.selection),F(e));break;default:return}FX(e)},!0).on("keyup.brush",function(e){switch(e.keyCode){case 16:A&&(g=v=A=!1,F(e));break;case 18:b===$X&&(w<0?d=h:w>0&&(i=s),_<0?f=m:_>0&&(o=l),b=VX,F(e));break;case 32:b===WX&&(e.altKey?(w&&(d=h-M*w,i=s+M*w),_&&(f=m-O*_,o=l+O*_),b=$X):(w<0?d=h:w>0&&(i=s),_<0?f=m:_>0&&(o=l),b=VX),I.attr("cursor",ZX[x]),F(e));break;default:return}FX(e)},!0),iG(n.view)}c.call(y),D.start(n,b.name)}function L(e){for(const t of e.changedTouches||[e])for(const e of T)e.identifier===t.identifier&&(e.cur=Jq(t,y));if(A&&!g&&!v&&1===T.length){const e=T[0];KX(e.cur[0]-e[0])>KX(e.cur[1]-e[1])?v=!0:g=!0}for(const t of T)t.cur&&(t[0]=t.cur[0],t[1]=t.cur[1]);p=!0,FX(e),F(e)}function F(e){const t=T[0],n=t.point0;var r;switch(M=t[0]-n[0],O=t[1]-n[1],b){case WX:case BX:w&&(M=HX(S-i,UX(E-d,M)),s=i+M,h=d+M),_&&(O=HX(C-o,UX(P-f,O)),l=o+O,m=f+O);break;case VX:T[1]?(w&&(s=HX(S,UX(E,T[0][0])),h=HX(S,UX(E,T[1][0])),w=1),_&&(l=HX(C,UX(P,T[0][1])),m=HX(C,UX(P,T[1][1])),_=1)):(w<0?(M=HX(S-i,UX(E-i,M)),s=i+M,h=d):w>0&&(M=HX(S-d,UX(E-d,M)),s=i,h=d+M),_<0?(O=HX(C-o,UX(P-o,O)),l=o+O,m=f):_>0&&(O=HX(C-f,UX(P-f,O)),l=o,m=f+O));break;case $X:w&&(s=HX(S,UX(E,i-M*w)),h=HX(S,UX(E,d+M*w))),_&&(l=HX(C,UX(P,o-O*_)),m=HX(C,UX(P,f+O*_)))}h<s&&(w*=-1,r=i,i=d,d=r,r=s,s=h,h=r,x in JX&&I.attr("cursor",ZX[x=JX[x]])),m<l&&(_*=-1,r=o,o=f,f=r,r=l,l=m,m=r,x in eQ&&I.attr("cursor",ZX[x=eQ[x]])),j.selection&&(N=j.selection),g&&(s=N[0][0],h=N[1][0]),v&&(l=N[0][1],m=N[1][1]),N[0][0]===s&&N[0][1]===l&&N[1][0]===h&&N[1][1]===m||(j.selection=[[s,l],[h,m]],c.call(y),D.brush(e,b.name))}function B(e){if(function(e){e.stopImmediatePropagation()}(e),e.touches){if(e.touches.length)return;t&&clearTimeout(t),t=setTimeout(function(){t=null},500)}else aG(e.view,p),z.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);R.attr("pointer-events","all"),I.attr("cursor",ZX.overlay),j.selection&&(N=j.selection),function(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}(N)&&(j.selection=null,c.call(y)),D.end(e,b.name)}}function f(e){u(this,arguments).moved(e)}function m(e){u(this,arguments).ended(e)}function p(){var t=this.__brush||{selection:null};return t.extent=qX(n.apply(this,arguments)),t.dim=e,t}return l.move=function(t,n,r){t.tween?t.on("start.brush",function(e){u(this,arguments).beforestart().start(e)}).on("interrupt.brush end.brush",function(e){u(this,arguments).end(e)}).tween("brush",function(){var t=this,r=t.__brush,i=u(t,arguments),a=r.selection,s=e.input("function"==typeof n?n.apply(this,arguments):n,r.extent),o=aE(a,s);function l(e){r.selection=1===e&&null===s?null:o(e),c.call(t),i.brush()}return null!==a&&null!==s?l:l(1)}):t.each(function(){var t=this,i=arguments,a=t.__brush,s=e.input("function"==typeof n?n.apply(t,i):n,a.extent),o=u(t,i).beforestart();zG(t),a.selection=null===s?null:s,c.call(t),o.start(r).brush(r).end(r)})},l.clear=function(e,t){l.move(e,null,t)},d.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(e,t){return this.starting?(this.starting=!1,this.emit("start",e,t)):this.emit("brush",e),this},brush:function(e,t){return this.emit("brush",e,t),this},end:function(e,t){return 0===--this.active&&(delete this.state.emitter,this.emit("end",e,t)),this},emit:function(t,n,r){var i=qq(this.that).datum();s.call(t,this.that,new LX(t,{sourceEvent:n,target:l,selection:e.output(this.state.selection),mode:r,dispatch:s}),i)}},l.extent=function(e){return arguments.length?(n="function"==typeof e?e:zX(qX(e)),l):n},l.filter=function(e){return arguments.length?(r="function"==typeof e?e:zX(!!e),l):r},l.touchable=function(e){return arguments.length?(i="function"==typeof e?e:zX(!!e),l):i},l.handleSize=function(e){return arguments.length?(o=+e,l):o},l.keyModifiers=function(e){return arguments.length?(a=!!e,l):a},l.on=function(){var e=s.on.apply(s,arguments);return e===s?l:e},l}var cQ=Math.abs,uQ=Math.cos,dQ=Math.sin,hQ=Math.PI,fQ=hQ/2,mQ=2*hQ,pQ=Math.max,gQ=1e-12;function vQ(e,t){return Array.from({length:t-e},(t,n)=>e+n)}function yQ(e,t){var n=0,r=null,i=null,a=null;function s(s){var o,l=s.length,c=new Array(l),u=vQ(0,l),d=new Array(l*l),h=new Array(l),f=0;s=Float64Array.from({length:l*l},t?(e,t)=>s[t%l][t/l|0]:(e,t)=>s[t/l|0][t%l]);for(let t=0;t<l;++t){let n=0;for(let r=0;r<l;++r)n+=s[t*l+r]+e*s[r*l+t];f+=c[t]=n}o=(f=pQ(0,mQ-n*l)/f)?n:mQ/l;{let t=0;r&&u.sort((e,t)=>r(c[e],c[t]));for(const n of u){const r=t;if(e){const e=vQ(1+~l,l).filter(e=>e<0?s[~e*l+n]:s[n*l+e]);i&&e.sort((e,t)=>i(e<0?-s[~e*l+n]:s[n*l+e],t<0?-s[~t*l+n]:s[n*l+t]));for(const r of e)r<0?(d[~r*l+n]||(d[~r*l+n]={source:null,target:null})).target={index:n,startAngle:t,endAngle:t+=s[~r*l+n]*f,value:s[~r*l+n]}:(d[n*l+r]||(d[n*l+r]={source:null,target:null})).source={index:n,startAngle:t,endAngle:t+=s[n*l+r]*f,value:s[n*l+r]};h[n]={index:n,startAngle:r,endAngle:t,value:c[n]}}else{const e=vQ(0,l).filter(e=>s[n*l+e]||s[e*l+n]);i&&e.sort((e,t)=>i(s[n*l+e],s[n*l+t]));for(const r of e){let e;if(n<r?(e=d[n*l+r]||(d[n*l+r]={source:null,target:null}),e.source={index:n,startAngle:t,endAngle:t+=s[n*l+r]*f,value:s[n*l+r]}):(e=d[r*l+n]||(d[r*l+n]={source:null,target:null}),e.target={index:n,startAngle:t,endAngle:t+=s[n*l+r]*f,value:s[n*l+r]},n===r&&(e.source=e.target)),e.source&&e.target&&e.source.value<e.target.value){const t=e.source;e.source=e.target,e.target=t}}h[n]={index:n,startAngle:r,endAngle:t,value:c[n]}}t+=o}}return(d=Object.values(d)).groups=h,a?d.sort(a):d}return s.padAngle=function(e){return arguments.length?(n=pQ(0,e),s):n},s.sortGroups=function(e){return arguments.length?(r=e,s):r},s.sortSubgroups=function(e){return arguments.length?(i=e,s):i},s.sortChords=function(e){return arguments.length?(null==e?a=null:(t=e,a=function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)})._=e,s):a&&a._;var t},s}var xQ=Array.prototype.slice;function bQ(e){return function(){return e}}function wQ(e){return e.source}function _Q(e){return e.target}function jQ(e){return e.radius}function kQ(e){return e.startAngle}function NQ(e){return e.endAngle}function SQ(){return 0}function CQ(){return 10}function EQ(e){var t=wQ,n=_Q,r=jQ,i=jQ,a=kQ,s=NQ,o=SQ,l=null;function c(){var c,u=t.apply(this,arguments),d=n.apply(this,arguments),h=o.apply(this,arguments)/2,f=xQ.call(arguments),m=+r.apply(this,(f[0]=u,f)),p=a.apply(this,f)-fQ,g=s.apply(this,f)-fQ,v=+i.apply(this,(f[0]=d,f)),y=a.apply(this,f)-fQ,x=s.apply(this,f)-fQ;if(l||(l=c=$m()),h>gQ&&(cQ(g-p)>2*h+gQ?g>p?(p+=h,g-=h):(p-=h,g+=h):p=g=(p+g)/2,cQ(x-y)>2*h+gQ?x>y?(y+=h,x-=h):(y-=h,x+=h):y=x=(y+x)/2),l.moveTo(m*uQ(p),m*dQ(p)),l.arc(0,0,m,p,g),p!==y||g!==x)if(e){var b=v-+e.apply(this,arguments),w=(y+x)/2;l.quadraticCurveTo(0,0,b*uQ(y),b*dQ(y)),l.lineTo(v*uQ(w),v*dQ(w)),l.lineTo(b*uQ(x),b*dQ(x))}else l.quadraticCurveTo(0,0,v*uQ(y),v*dQ(y)),l.arc(0,0,v,y,x);if(l.quadraticCurveTo(0,0,m*uQ(p),m*dQ(p)),l.closePath(),c)return l=null,c+""||null}return e&&(c.headRadius=function(t){return arguments.length?(e="function"==typeof t?t:bQ(+t),c):e}),c.radius=function(e){return arguments.length?(r=i="function"==typeof e?e:bQ(+e),c):r},c.sourceRadius=function(e){return arguments.length?(r="function"==typeof e?e:bQ(+e),c):r},c.targetRadius=function(e){return arguments.length?(i="function"==typeof e?e:bQ(+e),c):i},c.startAngle=function(e){return arguments.length?(a="function"==typeof e?e:bQ(+e),c):a},c.endAngle=function(e){return arguments.length?(s="function"==typeof e?e:bQ(+e),c):s},c.padAngle=function(e){return arguments.length?(o="function"==typeof e?e:bQ(+e),c):o},c.source=function(e){return arguments.length?(t=e,c):t},c.target=function(e){return arguments.length?(n=e,c):n},c.context=function(e){return arguments.length?(l=null==e?null:e,c):l},c}var PQ=Array.prototype.slice;function MQ(e,t){return e-t}const OQ=e=>()=>e;function AQ(e,t){for(var n,r=-1,i=t.length;++r<i;)if(n=TQ(e,t[r]))return n;return 0}function TQ(e,t){for(var n=t[0],r=t[1],i=-1,a=0,s=e.length,o=s-1;a<s;o=a++){var l=e[a],c=l[0],u=l[1],d=e[o],h=d[0],f=d[1];if(DQ(l,d,t))return 0;u>r!=f>r&&n<(h-c)*(r-u)/(f-u)+c&&(i=-i)}return i}function DQ(e,t,n){var r,i,a,s;return function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}(e,t,n)&&(i=e[r=+(e[0]===t[0])],a=n[r],s=t[r],i<=a&&a<=s||s<=a&&a<=i)}function RQ(){}var IQ=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function zQ(){var e=1,t=1,n=QN,r=o;function i(e){var t=n(e);if(Array.isArray(t))t=t.slice().sort(MQ);else{const n=wN(e,LQ);for(t=YN(...XN(n[0],n[1],t),t);t[t.length-1]>=n[1];)t.pop();for(;t[1]<n[0];)t.shift()}return t.map(t=>a(e,t))}function a(n,i){const a=null==i?NaN:+i;if(isNaN(a))throw new Error(`invalid value: ${i}`);var o=[],l=[];return function(n,r,i){var a,o,l,c,u,d,h=new Array,f=new Array;for(a=o=-1,c=FQ(n[0],r),IQ[c<<1].forEach(m);++a<e-1;)l=c,c=FQ(n[a+1],r),IQ[l|c<<1].forEach(m);for(IQ[0|c].forEach(m);++o<t-1;){for(a=-1,c=FQ(n[o*e+e],r),u=FQ(n[o*e],r),IQ[c<<1|u<<2].forEach(m);++a<e-1;)l=c,c=FQ(n[o*e+e+a+1],r),d=u,u=FQ(n[o*e+a+1],r),IQ[l|c<<1|u<<2|d<<3].forEach(m);IQ[c|u<<3].forEach(m)}for(a=-1,u=n[o*e]>=r,IQ[u<<2].forEach(m);++a<e-1;)d=u,u=FQ(n[o*e+a+1],r),IQ[u<<2|d<<3].forEach(m);function m(e){var t,n,r=[e[0][0]+a,e[0][1]+o],l=[e[1][0]+a,e[1][1]+o],c=s(r),u=s(l);(t=f[c])?(n=h[u])?(delete f[t.end],delete h[n.start],t===n?(t.ring.push(l),i(t.ring)):h[t.start]=f[n.end]={start:t.start,end:n.end,ring:t.ring.concat(n.ring)}):(delete f[t.end],t.ring.push(l),f[t.end=u]=t):(t=h[u])?(n=f[c])?(delete h[t.start],delete f[n.end],t===n?(t.ring.push(l),i(t.ring)):h[n.start]=f[t.end]={start:n.start,end:t.end,ring:n.ring.concat(t.ring)}):(delete h[t.start],t.ring.unshift(r),h[t.start=c]=t):h[c]=f[u]={start:c,end:u,ring:[r,l]}}IQ[u<<3].forEach(m)}(n,a,function(e){r(e,n,a),function(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}(e)>0?o.push([e]):l.push(e)}),l.forEach(function(e){for(var t,n=0,r=o.length;n<r;++n)if(-1!==AQ((t=o[n])[0],e))return void t.push(e)}),{type:"MultiPolygon",value:i,coordinates:o}}function s(t){return 2*t[0]+t[1]*(e+1)*4}function o(n,r,i){n.forEach(function(n){var a=n[0],s=n[1],o=0|a,l=0|s,c=BQ(r[l*e+o]);a>0&&a<e&&o===a&&(n[0]=WQ(a,BQ(r[l*e+o-1]),c,i)),s>0&&s<t&&l===s&&(n[1]=WQ(s,BQ(r[(l-1)*e+o]),c,i))})}return i.contour=a,i.size=function(n){if(!arguments.length)return[e,t];var r=Math.floor(n[0]),a=Math.floor(n[1]);if(!(r>=0&&a>=0))throw new Error("invalid size");return e=r,t=a,i},i.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:Array.isArray(e)?OQ(PQ.call(e)):OQ(e),i):n},i.smooth=function(e){return arguments.length?(r=e?o:RQ,i):r===o},i}function LQ(e){return isFinite(e)?e:NaN}function FQ(e,t){return null!=e&&+e>=t}function BQ(e){return null==e||isNaN(e=+e)?-1/0:e}function WQ(e,t,n,r){const i=r-t,a=n-t,s=isFinite(i)||isFinite(a)?i/a:Math.sign(i)/Math.sign(a);return isNaN(s)?e:e+s-.5}function VQ(e){return e[0]}function $Q(e){return e[1]}function KQ(){return 1}const HQ=134217729;function UQ(e,t,n,r,i){let a,s,o,l,c=t[0],u=r[0],d=0,h=0;u>c==u>-c?(a=c,c=t[++d]):(a=u,u=r[++h]);let f=0;if(d<e&&h<n)for(u>c==u>-c?(s=c+a,o=a-(s-c),c=t[++d]):(s=u+a,o=a-(s-u),u=r[++h]),a=s,0!==o&&(i[f++]=o);d<e&&h<n;)u>c==u>-c?(s=a+c,l=s-a,o=a-(s-l)+(c-l),c=t[++d]):(s=a+u,l=s-a,o=a-(s-l)+(u-l),u=r[++h]),a=s,0!==o&&(i[f++]=o);for(;d<e;)s=a+c,l=s-a,o=a-(s-l)+(c-l),c=t[++d],a=s,0!==o&&(i[f++]=o);for(;h<n;)s=a+u,l=s-a,o=a-(s-l)+(u-l),u=r[++h],a=s,0!==o&&(i[f++]=o);return 0===a&&0!==f||(i[f++]=a),f}function YQ(e){return new Float64Array(e)}const qQ=YQ(4),GQ=YQ(8),XQ=YQ(12),QQ=YQ(16),ZQ=YQ(4);function JQ(e,t,n,r,i,a){const s=(t-a)*(n-i),o=(e-i)*(r-a),l=s-o,c=Math.abs(s+o);return Math.abs(l)>=33306690738754716e-32*c?l:-function(e,t,n,r,i,a,s){let o,l,c,u,d,h,f,m,p,g,v,y,x,b,w,_,j,k;const N=e-i,S=n-i,C=t-a,E=r-a;b=N*E,h=HQ*N,f=h-(h-N),m=N-f,h=HQ*E,p=h-(h-E),g=E-p,w=m*g-(b-f*p-m*p-f*g),_=C*S,h=HQ*C,f=h-(h-C),m=C-f,h=HQ*S,p=h-(h-S),g=S-p,j=m*g-(_-f*p-m*p-f*g),v=w-j,d=w-v,qQ[0]=w-(v+d)+(d-j),y=b+v,d=y-b,x=b-(y-d)+(v-d),v=x-_,d=x-v,qQ[1]=x-(v+d)+(d-_),k=y+v,d=k-y,qQ[2]=y-(k-d)+(v-d),qQ[3]=k;let P=function(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}(4,qQ),M=22204460492503146e-32*s;if(P>=M||-P>=M)return P;if(d=e-N,o=e-(N+d)+(d-i),d=n-S,c=n-(S+d)+(d-i),d=t-C,l=t-(C+d)+(d-a),d=r-E,u=r-(E+d)+(d-a),0===o&&0===l&&0===c&&0===u)return P;if(M=11093356479670487e-47*s+33306690738754706e-32*Math.abs(P),P+=N*u+E*o-(C*c+S*l),P>=M||-P>=M)return P;b=o*E,h=HQ*o,f=h-(h-o),m=o-f,h=HQ*E,p=h-(h-E),g=E-p,w=m*g-(b-f*p-m*p-f*g),_=l*S,h=HQ*l,f=h-(h-l),m=l-f,h=HQ*S,p=h-(h-S),g=S-p,j=m*g-(_-f*p-m*p-f*g),v=w-j,d=w-v,ZQ[0]=w-(v+d)+(d-j),y=b+v,d=y-b,x=b-(y-d)+(v-d),v=x-_,d=x-v,ZQ[1]=x-(v+d)+(d-_),k=y+v,d=k-y,ZQ[2]=y-(k-d)+(v-d),ZQ[3]=k;const O=UQ(4,qQ,4,ZQ,GQ);b=N*u,h=HQ*N,f=h-(h-N),m=N-f,h=HQ*u,p=h-(h-u),g=u-p,w=m*g-(b-f*p-m*p-f*g),_=C*c,h=HQ*C,f=h-(h-C),m=C-f,h=HQ*c,p=h-(h-c),g=c-p,j=m*g-(_-f*p-m*p-f*g),v=w-j,d=w-v,ZQ[0]=w-(v+d)+(d-j),y=b+v,d=y-b,x=b-(y-d)+(v-d),v=x-_,d=x-v,ZQ[1]=x-(v+d)+(d-_),k=y+v,d=k-y,ZQ[2]=y-(k-d)+(v-d),ZQ[3]=k;const A=UQ(O,GQ,4,ZQ,XQ);b=o*u,h=HQ*o,f=h-(h-o),m=o-f,h=HQ*u,p=h-(h-u),g=u-p,w=m*g-(b-f*p-m*p-f*g),_=l*c,h=HQ*l,f=h-(h-l),m=l-f,h=HQ*c,p=h-(h-c),g=c-p,j=m*g-(_-f*p-m*p-f*g),v=w-j,d=w-v,ZQ[0]=w-(v+d)+(d-j),y=b+v,d=y-b,x=b-(y-d)+(v-d),v=x-_,d=x-v,ZQ[1]=x-(v+d)+(d-_),k=y+v,d=k-y,ZQ[2]=y-(k-d)+(v-d),ZQ[3]=k;const T=UQ(A,XQ,4,ZQ,QQ);return QQ[T-1]}(e,t,n,r,i,a,c)}const eZ=Math.pow(2,-52),tZ=new Uint32Array(512);class nZ{static from(e,t=lZ,n=cZ){const r=e.length,i=new Float64Array(2*r);for(let a=0;a<r;a++){const r=e[a];i[2*a]=t(r),i[2*a+1]=n(r)}return new nZ(i)}constructor(e){const t=e.length>>1;if(t>0&&"number"!=typeof e[0])throw new Error("Expected coords to contain numbers.");this.coords=e;const n=Math.max(2*t-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(t)),this._hullPrev=new Uint32Array(t),this._hullNext=new Uint32Array(t),this._hullTri=new Uint32Array(t),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(t),this._dists=new Float64Array(t),this.update()}update(){const{coords:e,_hullPrev:t,_hullNext:n,_hullTri:r,_hullHash:i}=this,a=e.length>>1;let s=1/0,o=1/0,l=-1/0,c=-1/0;for(let k=0;k<a;k++){const t=e[2*k],n=e[2*k+1];t<s&&(s=t),n<o&&(o=n),t>l&&(l=t),n>c&&(c=n),this._ids[k]=k}const u=(s+l)/2,d=(o+c)/2;let h,f,m;for(let k=0,N=1/0;k<a;k++){const t=rZ(u,d,e[2*k],e[2*k+1]);t<N&&(h=k,N=t)}const p=e[2*h],g=e[2*h+1];for(let k=0,N=1/0;k<a;k++){if(k===h)continue;const t=rZ(p,g,e[2*k],e[2*k+1]);t<N&&t>0&&(f=k,N=t)}let v=e[2*f],y=e[2*f+1],x=1/0;for(let k=0;k<a;k++){if(k===h||k===f)continue;const t=aZ(p,g,v,y,e[2*k],e[2*k+1]);t<x&&(m=k,x=t)}let b=e[2*m],w=e[2*m+1];if(x===1/0){for(let r=0;r<a;r++)this._dists[r]=e[2*r]-e[0]||e[2*r+1]-e[1];sZ(this._ids,this._dists,0,a-1);const t=new Uint32Array(a);let n=0;for(let e=0,r=-1/0;e<a;e++){const i=this._ids[e],a=this._dists[i];a>r&&(t[n++]=i,r=a)}return this.hull=t.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(JQ(p,g,v,y,b,w)<0){const e=f,t=v,n=y;f=m,v=b,y=w,m=e,b=t,w=n}const _=function(e,t,n,r,i,a){const s=n-e,o=r-t,l=i-e,c=a-t,u=s*s+o*o,d=l*l+c*c,h=.5/(s*c-o*l);return{x:e+(c*u-o*d)*h,y:t+(s*d-l*u)*h}}(p,g,v,y,b,w);this._cx=_.x,this._cy=_.y;for(let k=0;k<a;k++)this._dists[k]=rZ(e[2*k],e[2*k+1],_.x,_.y);sZ(this._ids,this._dists,0,a-1),this._hullStart=h;let j=3;n[h]=t[m]=f,n[f]=t[h]=m,n[m]=t[f]=h,r[h]=0,r[f]=1,r[m]=2,i.fill(-1),i[this._hashKey(p,g)]=h,i[this._hashKey(v,y)]=f,i[this._hashKey(b,w)]=m,this.trianglesLen=0,this._addTriangle(h,f,m,-1,-1,-1);for(let k,N,S=0;S<this._ids.length;S++){const a=this._ids[S],s=e[2*a],o=e[2*a+1];if(S>0&&Math.abs(s-k)<=eZ&&Math.abs(o-N)<=eZ)continue;if(k=s,N=o,a===h||a===f||a===m)continue;let l=0;for(let e=0,t=this._hashKey(s,o);e<this._hashSize&&(l=i[(t+e)%this._hashSize],-1===l||l===n[l]);e++);l=t[l];let c,u=l;for(;c=n[u],JQ(s,o,e[2*u],e[2*u+1],e[2*c],e[2*c+1])>=0;)if(u=c,u===l){u=-1;break}if(-1===u)continue;let d=this._addTriangle(u,a,n[u],-1,-1,r[u]);r[a]=this._legalize(d+2),r[u]=d,j++;let p=n[u];for(;c=n[p],JQ(s,o,e[2*p],e[2*p+1],e[2*c],e[2*c+1])<0;)d=this._addTriangle(p,a,c,r[a],-1,r[p]),r[a]=this._legalize(d+2),n[p]=p,j--,p=c;if(u===l)for(;c=t[u],JQ(s,o,e[2*c],e[2*c+1],e[2*u],e[2*u+1])<0;)d=this._addTriangle(c,a,u,-1,r[u],r[c]),this._legalize(d+2),r[c]=d,n[u]=u,j--,u=c;this._hullStart=t[a]=u,n[u]=t[p]=a,n[a]=p,i[this._hashKey(s,o)]=a,i[this._hashKey(e[2*u],e[2*u+1])]=u}this.hull=new Uint32Array(j);for(let k=0,N=this._hullStart;k<j;k++)this.hull[k]=N,N=n[N];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,t){return Math.floor(function(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:t,_halfedges:n,coords:r}=this;let i=0,a=0;for(;;){const s=n[e],o=e-e%3;if(a=o+(e+2)%3,-1===s){if(0===i)break;e=tZ[--i];continue}const l=s-s%3,c=o+(e+1)%3,u=l+(s+2)%3,d=t[a],h=t[e],f=t[c],m=t[u];if(iZ(r[2*d],r[2*d+1],r[2*h],r[2*h+1],r[2*f],r[2*f+1],r[2*m],r[2*m+1])){t[e]=m,t[s]=d;const r=n[u];if(-1===r){let t=this._hullStart;do{if(this._hullTri[t]===u){this._hullTri[t]=e;break}t=this._hullPrev[t]}while(t!==this._hullStart)}this._link(e,r),this._link(s,n[a]),this._link(a,u);const o=l+(s+1)%3;i<tZ.length&&(tZ[i++]=o)}else{if(0===i)break;e=tZ[--i]}}return a}_link(e,t){this._halfedges[e]=t,-1!==t&&(this._halfedges[t]=e)}_addTriangle(e,t,n,r,i,a){const s=this.trianglesLen;return this._triangles[s]=e,this._triangles[s+1]=t,this._triangles[s+2]=n,this._link(s,r),this._link(s+1,i),this._link(s+2,a),this.trianglesLen+=3,s}}function rZ(e,t,n,r){const i=e-n,a=t-r;return i*i+a*a}function iZ(e,t,n,r,i,a,s,o){const l=e-s,c=t-o,u=n-s,d=r-o,h=i-s,f=a-o,m=u*u+d*d,p=h*h+f*f;return l*(d*p-m*f)-c*(u*p-m*h)+(l*l+c*c)*(u*f-d*h)<0}function aZ(e,t,n,r,i,a){const s=n-e,o=r-t,l=i-e,c=a-t,u=s*s+o*o,d=l*l+c*c,h=.5/(s*c-o*l),f=(c*u-o*d)*h,m=(s*d-l*u)*h;return f*f+m*m}function sZ(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const r=e[i],a=t[r];let s=i-1;for(;s>=n&&t[e[s]]>a;)e[s+1]=e[s--];e[s+1]=r}else{let i=n+1,a=r;oZ(e,n+r>>1,i),t[e[n]]>t[e[r]]&&oZ(e,n,r),t[e[i]]>t[e[r]]&&oZ(e,i,r),t[e[n]]>t[e[i]]&&oZ(e,n,i);const s=e[i],o=t[s];for(;;){do{i++}while(t[e[i]]<o);do{a--}while(t[e[a]]>o);if(a<i)break;oZ(e,i,a)}e[n+1]=e[a],e[a]=s,r-i+1>=a-n?(sZ(e,t,i,r),sZ(e,t,n,a-1)):(sZ(e,t,n,a-1),sZ(e,t,i,r))}}function oZ(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function lZ(e){return e[0]}function cZ(e){return e[1]}const uZ=1e-6;class dZ{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,t){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,t){this._+=`L${this._x1=+e},${this._y1=+t}`}arc(e,t,n){const r=(e=+e)+(n=+n),i=t=+t;if(n<0)throw new Error("negative radius");null===this._x1?this._+=`M${r},${i}`:(Math.abs(this._x1-r)>uZ||Math.abs(this._y1-i)>uZ)&&(this._+="L"+r+","+i),n&&(this._+=`A${n},${n},0,1,1,${e-n},${t}A${n},${n},0,1,1,${this._x1=r},${this._y1=i}`)}rect(e,t,n,r){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${+n}v${+r}h${-n}Z`}value(){return this._||null}}class hZ{constructor(){this._=[]}moveTo(e,t){this._.push([e,t])}closePath(){this._.push(this._[0].slice())}lineTo(e,t){this._.push([e,t])}value(){return this._.length?this._:null}}class fZ{constructor(e,[t,n,r,i]=[0,0,960,500]){if(!((r=+r)>=(t=+t)&&(i=+i)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(2*e.points.length),this.vectors=new Float64Array(2*e.points.length),this.xmax=r,this.xmin=t,this.ymax=i,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:t,triangles:n},vectors:r}=this;let i,a;const s=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let m,p,g=0,v=0,y=n.length;g<y;g+=3,v+=2){const r=2*n[g],o=2*n[g+1],l=2*n[g+2],c=e[r],u=e[r+1],d=e[o],h=e[o+1],f=e[l],y=e[l+1],x=d-c,b=h-u,w=f-c,_=y-u,j=2*(x*_-b*w);if(Math.abs(j)<1e-9){if(void 0===i){i=a=0;for(const n of t)i+=e[2*n],a+=e[2*n+1];i/=t.length,a/=t.length}const n=1e9*Math.sign((i-c)*_-(a-u)*w);m=(c+f)/2-n*_,p=(u+y)/2+n*w}else{const e=1/j,t=x*x+b*b,n=w*w+_*_;m=c+(_*t-b*n)*e,p=u+(x*n-w*t)*e}s[v]=m,s[v+1]=p}let o,l,c,u=t[t.length-1],d=4*u,h=e[2*u],f=e[2*u+1];r.fill(0);for(let m=0;m<t.length;++m)u=t[m],o=d,l=h,c=f,d=4*u,h=e[2*u],f=e[2*u+1],r[o+2]=r[d]=c-f,r[o+3]=r[d+1]=h-l}render(e){const t=null==e?e=new dZ:void 0,{delaunay:{halfedges:n,inedges:r,hull:i},circumcenters:a,vectors:s}=this;if(i.length<=1)return null;for(let c=0,u=n.length;c<u;++c){const t=n[c];if(t<c)continue;const r=2*Math.floor(c/3),i=2*Math.floor(t/3),s=a[r],o=a[r+1],l=a[i],u=a[i+1];this._renderSegment(s,o,l,u,e)}let o,l=i[i.length-1];for(let c=0;c<i.length;++c){o=l,l=i[c];const t=2*Math.floor(r[l]/3),n=a[t],u=a[t+1],d=4*o,h=this._project(n,u,s[d+2],s[d+3]);h&&this._renderSegment(n,u,h[0],h[1],e)}return t&&t.value()}renderBounds(e){const t=null==e?e=new dZ:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}renderCell(e,t){const n=null==t?t=new dZ:void 0,r=this._clip(e);if(null===r||!r.length)return;t.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let a=2;a<i;a+=2)r[a]===r[a-2]&&r[a+1]===r[a-1]||t.lineTo(r[a],r[a+1]);return t.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let t=0,n=e.length/2;t<n;++t){const e=this.cellPolygon(t);e&&(e.index=t,yield e)}}cellPolygon(e){const t=new hZ;return this.renderCell(e,t),t.value()}_renderSegment(e,t,n,r,i){let a;const s=this._regioncode(e,t),o=this._regioncode(n,r);0===s&&0===o?(i.moveTo(e,t),i.lineTo(n,r)):(a=this._clipSegment(e,t,n,r,s,o))&&(i.moveTo(a[0],a[1]),i.lineTo(a[2],a[3]))}contains(e,t,n){return(t=+t)==t&&(n=+n)==n&&this.delaunay._step(e,t,n)===e}*neighbors(e){const t=this._clip(e);if(t)for(const n of this.delaunay.neighbors(e)){const e=this._clip(n);if(e)e:for(let r=0,i=t.length;r<i;r+=2)for(let a=0,s=e.length;a<s;a+=2)if(t[r]===e[a]&&t[r+1]===e[a+1]&&t[(r+2)%i]===e[(a+s-2)%s]&&t[(r+3)%i]===e[(a+s-1)%s]){yield n;break e}}}_cell(e){const{circumcenters:t,delaunay:{inedges:n,halfedges:r,triangles:i}}=this,a=n[e];if(-1===a)return null;const s=[];let o=a;do{const n=Math.floor(o/3);if(s.push(t[2*n],t[2*n+1]),o=o%3==2?o-2:o+1,i[o]!==e)break;o=r[o]}while(o!==a&&-1!==o);return s}_clip(e){if(0===e&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const t=this._cell(e);if(null===t)return null;const{vectors:n}=this,r=4*e;return this._simplify(n[r]||n[r+1]?this._clipInfinite(e,t,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(e,t))}_clipFinite(e,t){const n=t.length;let r,i,a,s,o=null,l=t[n-2],c=t[n-1],u=this._regioncode(l,c),d=0;for(let h=0;h<n;h+=2)if(r=l,i=c,l=t[h],c=t[h+1],a=u,u=this._regioncode(l,c),0===a&&0===u)s=d,d=0,o?o.push(l,c):o=[l,c];else{let t,n,h,f,m;if(0===a){if(null===(t=this._clipSegment(r,i,l,c,a,u)))continue;[n,h,f,m]=t}else{if(null===(t=this._clipSegment(l,c,r,i,u,a)))continue;[f,m,n,h]=t,s=d,d=this._edgecode(n,h),s&&d&&this._edge(e,s,d,o,o.length),o?o.push(n,h):o=[n,h]}s=d,d=this._edgecode(f,m),s&&d&&this._edge(e,s,d,o,o.length),o?o.push(f,m):o=[f,m]}if(o)s=d,d=this._edgecode(o[0],o[1]),s&&d&&this._edge(e,s,d,o,o.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return o}_clipSegment(e,t,n,r,i,a){const s=i<a;for(s&&([e,t,n,r,i,a]=[n,r,e,t,a,i]);;){if(0===i&&0===a)return s?[n,r,e,t]:[e,t,n,r];if(i&a)return null;let o,l,c=i||a;8&c?(o=e+(n-e)*(this.ymax-t)/(r-t),l=this.ymax):4&c?(o=e+(n-e)*(this.ymin-t)/(r-t),l=this.ymin):2&c?(l=t+(r-t)*(this.xmax-e)/(n-e),o=this.xmax):(l=t+(r-t)*(this.xmin-e)/(n-e),o=this.xmin),i?(e=o,t=l,i=this._regioncode(e,t)):(n=o,r=l,a=this._regioncode(n,r))}}_clipInfinite(e,t,n,r,i,a){let s,o=Array.from(t);if((s=this._project(o[0],o[1],n,r))&&o.unshift(s[0],s[1]),(s=this._project(o[o.length-2],o[o.length-1],i,a))&&o.push(s[0],s[1]),o=this._clipFinite(e,o))for(let l,c=0,u=o.length,d=this._edgecode(o[u-2],o[u-1]);c<u;c+=2)l=d,d=this._edgecode(o[c],o[c+1]),l&&d&&(c=this._edge(e,l,d,o,c),u=o.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(o=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return o}_edge(e,t,n,r,i){for(;t!==n;){let n,a;switch(t){case 5:t=4;continue;case 4:t=6,n=this.xmax,a=this.ymin;break;case 6:t=2;continue;case 2:t=10,n=this.xmax,a=this.ymax;break;case 10:t=8;continue;case 8:t=9,n=this.xmin,a=this.ymax;break;case 9:t=1;continue;case 1:t=5,n=this.xmin,a=this.ymin}r[i]===n&&r[i+1]===a||!this.contains(e,n,a)||(r.splice(i,0,n,a),i+=2)}return i}_project(e,t,n,r){let i,a,s,o=1/0;if(r<0){if(t<=this.ymin)return null;(i=(this.ymin-t)/r)<o&&(s=this.ymin,a=e+(o=i)*n)}else if(r>0){if(t>=this.ymax)return null;(i=(this.ymax-t)/r)<o&&(s=this.ymax,a=e+(o=i)*n)}if(n>0){if(e>=this.xmax)return null;(i=(this.xmax-e)/n)<o&&(a=this.xmax,s=t+(o=i)*r)}else if(n<0){if(e<=this.xmin)return null;(i=(this.xmin-e)/n)<o&&(a=this.xmin,s=t+(o=i)*r)}return[a,s]}_edgecode(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}_regioncode(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let t=0;t<e.length;t+=2){const n=(t+2)%e.length,r=(t+4)%e.length;(e[t]===e[n]&&e[n]===e[r]||e[t+1]===e[n+1]&&e[n+1]===e[r+1])&&(e.splice(n,2),t-=2)}e.length||(e=null)}return e}}const mZ=2*Math.PI,pZ=Math.pow;function gZ(e){return e[0]}function vZ(e){return e[1]}function yZ(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class xZ{static from(e,t=gZ,n=vZ,r){return new xZ("length"in e?function(e,t,n,r){const i=e.length,a=new Float64Array(2*i);for(let s=0;s<i;++s){const i=e[s];a[2*s]=t.call(r,i,s,e),a[2*s+1]=n.call(r,i,s,e)}return a}(e,t,n,r):Float64Array.from(function*(e,t,n,r){let i=0;for(const a of e)yield t.call(r,a,i,e),yield n.call(r,a,i,e),++i}(e,t,n,r)))}constructor(e){this._delaunator=new nZ(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&function(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const e=2*t[r],i=2*t[r+1],a=2*t[r+2];if((n[a]-n[e])*(n[i+1]-n[e+1])-(n[i]-n[e])*(n[a+1]-n[e+1])>1e-10)return!1}return!0}(e)){this.collinear=Int32Array.from({length:t.length/2},(e,t)=>t).sort((e,n)=>t[2*e]-t[2*n]||t[2*e+1]-t[2*n+1]);const e=this.collinear[0],n=this.collinear[this.collinear.length-1],r=[t[2*e],t[2*e+1],t[2*n],t[2*n+1]],i=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let a=0,s=t.length/2;a<s;++a){const e=yZ(t[2*a],t[2*a+1],i);t[2*a]=e[0],t[2*a+1]=e[1]}this._delaunator=new nZ(t)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let o=0,l=n.length;o<l;++o){const e=i[o%3==2?o-2:o+1];-1!==n[o]&&-1!==a[e]||(a[e]=o)}for(let o=0,l=r.length;o<l;++o)s[r[o]]=o;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],a[r[0]]=1,2===r.length&&(a[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(e){return new fZ(this,e)}*neighbors(e){const{inedges:t,hull:n,_hullIndex:r,halfedges:i,triangles:a,collinear:s}=this;if(s){const t=s.indexOf(e);return t>0&&(yield s[t-1]),void(t<s.length-1&&(yield s[t+1]))}const o=t[e];if(-1===o)return;let l=o,c=-1;do{if(yield c=a[l],l=l%3==2?l-2:l+1,a[l]!==e)return;if(l=i[l],-1===l){const t=n[(r[e]+1)%n.length];return void(t!==c&&(yield t))}}while(l!==o)}find(e,t,n=0){if((e=+e)!=e||(t=+t)!=t)return-1;const r=n;let i;for(;(i=this._step(n,e,t))>=0&&i!==n&&i!==r;)n=i;return i}_step(e,t,n){const{inedges:r,hull:i,_hullIndex:a,halfedges:s,triangles:o,points:l}=this;if(-1===r[e]||!l.length)return(e+1)%(l.length>>1);let c=e,u=pZ(t-l[2*e],2)+pZ(n-l[2*e+1],2);const d=r[e];let h=d;do{let r=o[h];const d=pZ(t-l[2*r],2)+pZ(n-l[2*r+1],2);if(d<u&&(u=d,c=r),h=h%3==2?h-2:h+1,o[h]!==e)break;if(h=s[h],-1===h){if(h=i[(a[e]+1)%i.length],h!==r&&pZ(t-l[2*h],2)+pZ(n-l[2*h+1],2)<u)return h;break}}while(h!==d);return c}render(e){const t=null==e?e=new dZ:void 0,{points:n,halfedges:r,triangles:i}=this;for(let a=0,s=r.length;a<s;++a){const t=r[a];if(t<a)continue;const s=2*i[a],o=2*i[t];e.moveTo(n[s],n[s+1]),e.lineTo(n[o],n[o+1])}return this.renderHull(e),t&&t.value()}renderPoints(e,t){void 0!==t||e&&"function"==typeof e.moveTo||(t=e,e=null),t=null==t?2:+t;const n=null==e?e=new dZ:void 0,{points:r}=this;for(let i=0,a=r.length;i<a;i+=2){const n=r[i],a=r[i+1];e.moveTo(n+t,a),e.arc(n,a,t,0,mZ)}return n&&n.value()}renderHull(e){const t=null==e?e=new dZ:void 0,{hull:n,points:r}=this,i=2*n[0],a=n.length;e.moveTo(r[i],r[i+1]);for(let s=1;s<a;++s){const t=2*n[s];e.lineTo(r[t],r[t+1])}return e.closePath(),t&&t.value()}hullPolygon(){const e=new hZ;return this.renderHull(e),e.value()}renderTriangle(e,t){const n=null==t?t=new dZ:void 0,{points:r,triangles:i}=this,a=2*i[e*=3],s=2*i[e+1],o=2*i[e+2];return t.moveTo(r[a],r[a+1]),t.lineTo(r[s],r[s+1]),t.lineTo(r[o],r[o+1]),t.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:e}=this;for(let t=0,n=e.length/3;t<n;++t)yield this.trianglePolygon(t)}trianglePolygon(e){const t=new hZ;return this.renderTriangle(e,t),t.value()}}var bZ={},wZ={};function _Z(e){return new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'}).join(",")+"}")}function jZ(e){var t=Object.create(null),n=[];return e.forEach(function(e){for(var r in e)r in t||n.push(t[r]=r)}),n}function kZ(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function NZ(e){var t,n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),a=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+kZ(-t,6):t>9999?"+"+kZ(t,6):kZ(t,4))+"-"+kZ(e.getUTCMonth()+1,2)+"-"+kZ(e.getUTCDate(),2)+(a?"T"+kZ(n,2)+":"+kZ(r,2)+":"+kZ(i,2)+"."+kZ(a,3)+"Z":i?"T"+kZ(n,2)+":"+kZ(r,2)+":"+kZ(i,2)+"Z":r||n?"T"+kZ(n,2)+":"+kZ(r,2)+"Z":"")}function SZ(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,i=[],a=e.length,s=0,o=0,l=a<=0,c=!1;function u(){if(l)return wZ;if(c)return c=!1,bZ;var t,r,i=s;if(34===e.charCodeAt(i)){for(;s++<a&&34!==e.charCodeAt(s)||34===e.charCodeAt(++s););return(t=s)>=a?l=!0:10===(r=e.charCodeAt(s++))?c=!0:13===r&&(c=!0,10===e.charCodeAt(s)&&++s),e.slice(i+1,t-1).replace(/""/g,'"')}for(;s<a;){if(10===(r=e.charCodeAt(t=s++)))c=!0;else if(13===r)c=!0,10===e.charCodeAt(s)&&++s;else if(r!==n)continue;return e.slice(i,t)}return l=!0,e.slice(i,a)}for(10===e.charCodeAt(a-1)&&--a,13===e.charCodeAt(a-1)&&--a;(r=u())!==wZ;){for(var d=[];r!==bZ&&r!==wZ;)d.push(r),r=u();t&&null==(d=t(d,o++))||i.push(d)}return i}function i(t,n){return t.map(function(t){return n.map(function(e){return s(t[e])}).join(e)})}function a(t){return t.map(s).join(e)}function s(e){return null==e?"":e instanceof Date?NZ(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,i,a=r(e,function(e,r){if(n)return n(e,r-1);i=e,n=t?function(e,t){var n=_Z(e);return function(r,i){return t(n(r),i,e)}}(e,t):_Z(e)});return a.columns=i||[],a},parseRows:r,format:function(t,n){return null==n&&(n=jZ(t)),[n.map(s).join(e)].concat(i(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=jZ(e)),i(e,t).join("\n")},formatRows:function(e){return e.map(a).join("\n")},formatRow:a,formatValue:s}}var CZ=SZ(","),EZ=CZ.parse,PZ=CZ.parseRows,MZ=CZ.format,OZ=CZ.formatBody,AZ=CZ.formatRows,TZ=CZ.formatRow,DZ=CZ.formatValue,RZ=SZ("\t"),IZ=RZ.parse,zZ=RZ.parseRows,LZ=RZ.format,FZ=RZ.formatBody,BZ=RZ.formatRows,WZ=RZ.formatRow,VZ=RZ.formatValue;const $Z=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function KZ(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.blob()}function HZ(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.arrayBuffer()}function UZ(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function YZ(e,t){return fetch(e,t).then(UZ)}function qZ(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),YZ(t,n).then(function(t){return e(t,r)})}}var GZ=qZ(EZ),XZ=qZ(IZ);function QZ(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(204!==e.status&&205!==e.status)return e.json()}function ZZ(e){return(t,n)=>YZ(t,n).then(t=>(new DOMParser).parseFromString(t,e))}const JZ=ZZ("application/xml");var eJ=ZZ("text/html"),tJ=ZZ("image/svg+xml");function nJ(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,a,s,o,l,c,u,d,h,f=e._root,m={data:r},p=e._x0,g=e._y0,v=e._x1,y=e._y1;if(!f)return e._root=m,e;for(;f.length;)if((c=t>=(a=(p+v)/2))?p=a:v=a,(u=n>=(s=(g+y)/2))?g=s:y=s,i=f,!(f=f[d=u<<1|c]))return i[d]=m,e;if(o=+e._x.call(null,f.data),l=+e._y.call(null,f.data),t===o&&n===l)return m.next=f,i?i[d]=m:e._root=m,e;do{i=i?i[d]=new Array(4):e._root=new Array(4),(c=t>=(a=(p+v)/2))?p=a:v=a,(u=n>=(s=(g+y)/2))?g=s:y=s}while((d=u<<1|c)==(h=(l>=s)<<1|o>=a));return i[h]=f,i[d]=m,e}function rJ(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function iJ(e){return e[0]}function aJ(e){return e[1]}function sJ(e,t,n){var r=new oJ(null==t?iJ:t,null==n?aJ:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function oJ(e,t,n,r,i,a){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function lJ(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var cJ=sJ.prototype=oJ.prototype;function uJ(e){return function(){return e}}function dJ(e){return 1e-6*(e()-.5)}function hJ(e){return e.x+e.vx}function fJ(e){return e.y+e.vy}function mJ(e){return e.index}function pJ(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}cJ.copy=function(){var e,t,n=new oJ(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=lJ(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=lJ(t));return n},cJ.add=function(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return nJ(this.cover(t,n),t,n,e)},cJ.addAll=function(e){var t,n,r,i,a=e.length,s=new Array(a),o=new Array(a),l=1/0,c=1/0,u=-1/0,d=-1/0;for(n=0;n<a;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(s[n]=r,o[n]=i,r<l&&(l=r),r>u&&(u=r),i<c&&(c=i),i>d&&(d=i));if(l>u||c>d)return this;for(this.cover(l,c).cover(u,d),n=0;n<a;++n)nJ(this,s[n],o[n],e[n]);return this},cJ.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,a=(r=Math.floor(t))+1;else{for(var s,o,l=i-n||1,c=this._root;n>e||e>=i||r>t||t>=a;)switch(o=(t<r)<<1|e<n,(s=new Array(4))[o]=c,c=s,l*=2,o){case 0:i=n+l,a=r+l;break;case 1:n=i-l,a=r+l;break;case 2:i=n+l,r=a-l;break;case 3:n=i-l,r=a-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this},cJ.data=function(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e},cJ.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},cJ.find=function(e,t,n){var r,i,a,s,o,l,c,u=this._x0,d=this._y0,h=this._x1,f=this._y1,m=[],p=this._root;for(p&&m.push(new rJ(p,u,d,h,f)),null==n?n=1/0:(u=e-n,d=t-n,h=e+n,f=t+n,n*=n);l=m.pop();)if(!(!(p=l.node)||(i=l.x0)>h||(a=l.y0)>f||(s=l.x1)<u||(o=l.y1)<d))if(p.length){var g=(i+s)/2,v=(a+o)/2;m.push(new rJ(p[3],g,v,s,o),new rJ(p[2],i,v,g,o),new rJ(p[1],g,a,s,v),new rJ(p[0],i,a,g,v)),(c=(t>=v)<<1|e>=g)&&(l=m[m.length-1],m[m.length-1]=m[m.length-1-c],m[m.length-1-c]=l)}else{var y=e-+this._x.call(null,p.data),x=t-+this._y.call(null,p.data),b=y*y+x*x;if(b<n){var w=Math.sqrt(n=b);u=e-w,d=t-w,h=e+w,f=t+w,r=p.data}}return r},cJ.remove=function(e){if(isNaN(a=+this._x.call(null,e))||isNaN(s=+this._y.call(null,e)))return this;var t,n,r,i,a,s,o,l,c,u,d,h,f=this._root,m=this._x0,p=this._y0,g=this._x1,v=this._y1;if(!f)return this;if(f.length)for(;;){if((c=a>=(o=(m+g)/2))?m=o:g=o,(u=s>=(l=(p+v)/2))?p=l:v=l,t=f,!(f=f[d=u<<1|c]))return this;if(!f.length)break;(t[d+1&3]||t[d+2&3]||t[d+3&3])&&(n=t,h=d)}for(;f.data!==e;)if(r=f,!(f=f.next))return this;return(i=f.next)&&delete f.next,r?(i?r.next=i:delete r.next,this):t?(i?t[d]=i:delete t[d],(f=t[0]||t[1]||t[2]||t[3])&&f===(t[3]||t[2]||t[1]||t[0])&&!f.length&&(n?n[h]=f:this._root=f),this):(this._root=i,this)},cJ.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},cJ.root=function(){return this._root},cJ.size=function(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e},cJ.visit=function(e){var t,n,r,i,a,s,o=[],l=this._root;for(l&&o.push(new rJ(l,this._x0,this._y0,this._x1,this._y1));t=o.pop();)if(!e(l=t.node,r=t.x0,i=t.y0,a=t.x1,s=t.y1)&&l.length){var c=(r+a)/2,u=(i+s)/2;(n=l[3])&&o.push(new rJ(n,c,u,a,s)),(n=l[2])&&o.push(new rJ(n,r,u,c,s)),(n=l[1])&&o.push(new rJ(n,c,i,a,u)),(n=l[0])&&o.push(new rJ(n,r,i,c,u))}return this},cJ.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new rJ(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var a,s=t.x0,o=t.y0,l=t.x1,c=t.y1,u=(s+l)/2,d=(o+c)/2;(a=i[0])&&n.push(new rJ(a,s,o,u,d)),(a=i[1])&&n.push(new rJ(a,u,o,l,d)),(a=i[2])&&n.push(new rJ(a,s,d,u,c)),(a=i[3])&&n.push(new rJ(a,u,d,l,c))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},cJ.x=function(e){return arguments.length?(this._x=e,this):this._x},cJ.y=function(e){return arguments.length?(this._y=e,this):this._y};const gJ=4294967296;function vJ(e){return e.x}function yJ(e){return e.y}var xJ=Math.PI*(3-Math.sqrt(5)),bJ=1e-6,wJ=1e-12,_J=Math.PI,jJ=_J/2,kJ=_J/4,NJ=2*_J,SJ=180/_J,CJ=_J/180,EJ=Math.abs,PJ=Math.atan,MJ=Math.atan2,OJ=Math.cos,AJ=Math.ceil,TJ=Math.exp,DJ=Math.hypot,RJ=Math.log,IJ=Math.pow,zJ=Math.sin,LJ=Math.sign||function(e){return e>0?1:e<0?-1:0},FJ=Math.sqrt,BJ=Math.tan;function WJ(e){return e>1?0:e<-1?_J:Math.acos(e)}function VJ(e){return e>1?jJ:e<-1?-jJ:Math.asin(e)}function $J(e){return(e=zJ(e/2))*e}function KJ(){}function HJ(e,t){e&&YJ.hasOwnProperty(e.type)&&YJ[e.type](e,t)}var UJ={Feature:function(e,t){HJ(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)HJ(n[r].geometry,t)}},YJ={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){qJ(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)qJ(n[r],t,0)},Polygon:function(e,t){GJ(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)GJ(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)HJ(n[r],t)}};function qJ(e,t,n){var r,i=-1,a=e.length-n;for(t.lineStart();++i<a;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function GJ(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)qJ(e[n],t,1);t.polygonEnd()}function XJ(e,t){e&&UJ.hasOwnProperty(e.type)?UJ[e.type](e,t):HJ(e,t)}var QJ,ZJ,JJ,e0,t0,n0,r0,i0,a0,s0,o0,l0,c0,u0,d0,h0,f0=new _N,m0=new _N,p0={point:KJ,lineStart:KJ,lineEnd:KJ,polygonStart:function(){f0=new _N,p0.lineStart=g0,p0.lineEnd=v0},polygonEnd:function(){var e=+f0;m0.add(e<0?NJ+e:e),this.lineStart=this.lineEnd=this.point=KJ},sphere:function(){m0.add(NJ)}};function g0(){p0.point=y0}function v0(){x0(QJ,ZJ)}function y0(e,t){p0.point=x0,QJ=e,ZJ=t,JJ=e*=CJ,e0=OJ(t=(t*=CJ)/2+kJ),t0=zJ(t)}function x0(e,t){var n=(e*=CJ)-JJ,r=n>=0?1:-1,i=r*n,a=OJ(t=(t*=CJ)/2+kJ),s=zJ(t),o=t0*s,l=e0*a+o*OJ(i),c=o*r*zJ(i);f0.add(MJ(c,l)),JJ=e,e0=a,t0=s}function b0(e){return[MJ(e[1],e[0]),VJ(e[2])]}function w0(e){var t=e[0],n=e[1],r=OJ(n);return[r*OJ(t),r*zJ(t),zJ(n)]}function _0(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function j0(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function k0(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function N0(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function S0(e){var t=FJ(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var C0,E0,P0,M0,O0,A0,T0,D0,R0,I0,z0,L0,F0,B0,W0,V0,$0={point:K0,lineStart:U0,lineEnd:Y0,polygonStart:function(){$0.point=q0,$0.lineStart=G0,$0.lineEnd=X0,u0=new _N,p0.polygonStart()},polygonEnd:function(){p0.polygonEnd(),$0.point=K0,$0.lineStart=U0,$0.lineEnd=Y0,f0<0?(n0=-(i0=180),r0=-(a0=90)):u0>bJ?a0=90:u0<-bJ&&(r0=-90),h0[0]=n0,h0[1]=i0},sphere:function(){n0=-(i0=180),r0=-(a0=90)}};function K0(e,t){d0.push(h0=[n0=e,i0=e]),t<r0&&(r0=t),t>a0&&(a0=t)}function H0(e,t){var n=w0([e*CJ,t*CJ]);if(c0){var r=j0(c0,n),i=j0([r[1],-r[0],0],r);S0(i),i=b0(i);var a,s=e-s0,o=s>0?1:-1,l=i[0]*SJ*o,c=EJ(s)>180;c^(o*s0<l&&l<o*e)?(a=i[1]*SJ)>a0&&(a0=a):c^(o*s0<(l=(l+360)%360-180)&&l<o*e)?(a=-i[1]*SJ)<r0&&(r0=a):(t<r0&&(r0=t),t>a0&&(a0=t)),c?e<s0?Q0(n0,e)>Q0(n0,i0)&&(i0=e):Q0(e,i0)>Q0(n0,i0)&&(n0=e):i0>=n0?(e<n0&&(n0=e),e>i0&&(i0=e)):e>s0?Q0(n0,e)>Q0(n0,i0)&&(i0=e):Q0(e,i0)>Q0(n0,i0)&&(n0=e)}else d0.push(h0=[n0=e,i0=e]);t<r0&&(r0=t),t>a0&&(a0=t),c0=n,s0=e}function U0(){$0.point=H0}function Y0(){h0[0]=n0,h0[1]=i0,$0.point=K0,c0=null}function q0(e,t){if(c0){var n=e-s0;u0.add(EJ(n)>180?n+(n>0?360:-360):n)}else o0=e,l0=t;p0.point(e,t),H0(e,t)}function G0(){p0.lineStart()}function X0(){q0(o0,l0),p0.lineEnd(),EJ(u0)>bJ&&(n0=-(i0=180)),h0[0]=n0,h0[1]=i0,c0=null}function Q0(e,t){return(t-=e)<0?t+360:t}function Z0(e,t){return e[0]-t[0]}function J0(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var e1={sphere:KJ,point:t1,lineStart:r1,lineEnd:s1,polygonStart:function(){e1.lineStart=o1,e1.lineEnd=l1},polygonEnd:function(){e1.lineStart=r1,e1.lineEnd=s1}};function t1(e,t){e*=CJ;var n=OJ(t*=CJ);n1(n*OJ(e),n*zJ(e),zJ(t))}function n1(e,t,n){++C0,P0+=(e-P0)/C0,M0+=(t-M0)/C0,O0+=(n-O0)/C0}function r1(){e1.point=i1}function i1(e,t){e*=CJ;var n=OJ(t*=CJ);B0=n*OJ(e),W0=n*zJ(e),V0=zJ(t),e1.point=a1,n1(B0,W0,V0)}function a1(e,t){e*=CJ;var n=OJ(t*=CJ),r=n*OJ(e),i=n*zJ(e),a=zJ(t),s=MJ(FJ((s=W0*a-V0*i)*s+(s=V0*r-B0*a)*s+(s=B0*i-W0*r)*s),B0*r+W0*i+V0*a);E0+=s,A0+=s*(B0+(B0=r)),T0+=s*(W0+(W0=i)),D0+=s*(V0+(V0=a)),n1(B0,W0,V0)}function s1(){e1.point=t1}function o1(){e1.point=c1}function l1(){u1(L0,F0),e1.point=t1}function c1(e,t){L0=e,F0=t,e*=CJ,t*=CJ,e1.point=u1;var n=OJ(t);B0=n*OJ(e),W0=n*zJ(e),V0=zJ(t),n1(B0,W0,V0)}function u1(e,t){e*=CJ;var n=OJ(t*=CJ),r=n*OJ(e),i=n*zJ(e),a=zJ(t),s=W0*a-V0*i,o=V0*r-B0*a,l=B0*i-W0*r,c=DJ(s,o,l),u=VJ(c),d=c&&-u/c;R0.add(d*s),I0.add(d*o),z0.add(d*l),E0+=u,A0+=u*(B0+(B0=r)),T0+=u*(W0+(W0=i)),D0+=u*(V0+(V0=a)),n1(B0,W0,V0)}function d1(e){return function(){return e}}function h1(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}function f1(e,t){return EJ(e)>_J&&(e-=Math.round(e/NJ)*NJ),[e,t]}function m1(e,t,n){return(e%=NJ)?t||n?h1(g1(e),v1(t,n)):g1(e):t||n?v1(t,n):f1}function p1(e){return function(t,n){return EJ(t+=e)>_J&&(t-=Math.round(t/NJ)*NJ),[t,n]}}function g1(e){var t=p1(e);return t.invert=p1(-e),t}function v1(e,t){var n=OJ(e),r=zJ(e),i=OJ(t),a=zJ(t);function s(e,t){var s=OJ(t),o=OJ(e)*s,l=zJ(e)*s,c=zJ(t),u=c*n+o*r;return[MJ(l*i-u*a,o*n-c*r),VJ(u*i+l*a)]}return s.invert=function(e,t){var s=OJ(t),o=OJ(e)*s,l=zJ(e)*s,c=zJ(t),u=c*i-l*a;return[MJ(l*i+c*a,o*n+u*r),VJ(u*n-o*r)]},s}function y1(e){function t(t){return(t=e(t[0]*CJ,t[1]*CJ))[0]*=SJ,t[1]*=SJ,t}return e=m1(e[0]*CJ,e[1]*CJ,e.length>2?e[2]*CJ:0),t.invert=function(t){return(t=e.invert(t[0]*CJ,t[1]*CJ))[0]*=SJ,t[1]*=SJ,t},t}function x1(e,t,n,r,i,a){if(n){var s=OJ(t),o=zJ(t),l=r*n;null==i?(i=t+r*NJ,a=t-l/2):(i=b1(s,i),a=b1(s,a),(r>0?i<a:i>a)&&(i+=r*NJ));for(var c,u=i;r>0?u>a:u<a;u-=l)c=b0([s,-o*OJ(u),-o*zJ(u)]),e.point(c[0],c[1])}}function b1(e,t){(t=w0(t))[0]-=e,S0(t);var n=WJ(-t[1]);return((-t[2]<0?-n:n)+NJ-bJ)%NJ}function w1(){var e,t=[];return{point:function(t,n,r){e.push([t,n,r])},lineStart:function(){t.push(e=[])},lineEnd:KJ,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function _1(e,t){return EJ(e[0]-t[0])<bJ&&EJ(e[1]-t[1])<bJ}function j1(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function k1(e,t,n,r,i){var a,s,o=[],l=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],s=e[t];if(_1(r,s)){if(!r[2]&&!s[2]){for(i.lineStart(),a=0;a<t;++a)i.point((r=e[a])[0],r[1]);return void i.lineEnd()}s[0]+=2e-6}o.push(n=new j1(r,e,null,!0)),l.push(n.o=new j1(r,null,n,!1)),o.push(n=new j1(s,e,null,!1)),l.push(n.o=new j1(s,null,n,!0))}}),o.length){for(l.sort(t),N1(o),N1(l),a=0,s=l.length;a<s;++a)l[a].e=n=!n;for(var c,u,d=o[0];;){for(var h=d,f=!0;h.v;)if((h=h.n)===d)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(f)for(a=0,s=c.length;a<s;++a)i.point((u=c[a])[0],u[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(f)for(c=h.p.z,a=c.length-1;a>=0;--a)i.point((u=c[a])[0],u[1]);else r(h.x,h.p.x,-1,i);h=h.p}c=(h=h.o).z,f=!f}while(!h.v);i.lineEnd()}}}function N1(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function S1(e){return EJ(e[0])<=_J?e[0]:LJ(e[0])*((EJ(e[0])+_J)%NJ-_J)}function C1(e,t){var n=S1(t),r=t[1],i=zJ(r),a=[zJ(n),-OJ(n),0],s=0,o=0,l=new _N;1===i?r=jJ+bJ:-1===i&&(r=-jJ-bJ);for(var c=0,u=e.length;c<u;++c)if(h=(d=e[c]).length)for(var d,h,f=d[h-1],m=S1(f),p=f[1]/2+kJ,g=zJ(p),v=OJ(p),y=0;y<h;++y,m=b,g=_,v=j,f=x){var x=d[y],b=S1(x),w=x[1]/2+kJ,_=zJ(w),j=OJ(w),k=b-m,N=k>=0?1:-1,S=N*k,C=S>_J,E=g*_;if(l.add(MJ(E*N*zJ(S),v*j+E*OJ(S))),s+=C?k+N*NJ:k,C^m>=n^b>=n){var P=j0(w0(f),w0(x));S0(P);var M=j0(a,P);S0(M);var O=(C^k>=0?-1:1)*VJ(M[2]);(r>O||r===O&&(P[0]||P[1]))&&(o+=C^k>=0?1:-1)}}return(s<-bJ||s<bJ&&l<-1e-12)^1&o}function E1(e,t,n,r){return function(i){var a,s,o,l=t(i),c=w1(),u=t(c),d=!1,h={point:f,lineStart:p,lineEnd:g,polygonStart:function(){h.point=v,h.lineStart=y,h.lineEnd=x,s=[],a=[]},polygonEnd:function(){h.point=f,h.lineStart=p,h.lineEnd=g,s=cS(s);var e=C1(a,r);s.length?(d||(i.polygonStart(),d=!0),k1(s,M1,e,n,i)):e&&(d||(i.polygonStart(),d=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),d&&(i.polygonEnd(),d=!1),s=a=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function f(t,n){e(t,n)&&i.point(t,n)}function m(e,t){l.point(e,t)}function p(){h.point=m,l.lineStart()}function g(){h.point=f,l.lineEnd()}function v(e,t){o.push([e,t]),u.point(e,t)}function y(){u.lineStart(),o=[]}function x(){v(o[0][0],o[0][1]),u.lineEnd();var e,t,n,r,l=u.clean(),h=c.result(),f=h.length;if(o.pop(),a.push(o),o=null,f)if(1&l){if((t=(n=h[0]).length-1)>0){for(d||(i.polygonStart(),d=!0),i.lineStart(),e=0;e<t;++e)i.point((r=n[e])[0],r[1]);i.lineEnd()}}else f>1&&2&l&&h.push(h.pop().concat(h.shift())),s.push(h.filter(P1))}return h}}function P1(e){return e.length>1}function M1(e,t){return((e=e.x)[0]<0?e[1]-jJ-bJ:jJ-e[1])-((t=t.x)[0]<0?t[1]-jJ-bJ:jJ-t[1])}f1.invert=f1;const O1=E1(function(){return!0},function(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(a,s){var o=a>0?_J:-_J,l=EJ(a-n);EJ(l-_J)<bJ?(e.point(n,r=(r+s)/2>0?jJ:-jJ),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(o,r),e.point(a,r),t=0):i!==o&&l>=_J&&(EJ(n-i)<bJ&&(n-=i*bJ),EJ(a-o)<bJ&&(a-=o*bJ),r=function(e,t,n,r){var i,a,s=zJ(e-n);return EJ(s)>bJ?PJ((zJ(t)*(a=OJ(r))*zJ(n)-zJ(r)*(i=OJ(t))*zJ(e))/(i*a*s)):(t+r)/2}(n,r,a,s),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(o,r),t=0),e.point(n=a,r=s),i=o},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}},function(e,t,n,r){var i;if(null==e)i=n*jJ,r.point(-_J,i),r.point(0,i),r.point(_J,i),r.point(_J,0),r.point(_J,-i),r.point(0,-i),r.point(-_J,-i),r.point(-_J,0),r.point(-_J,i);else if(EJ(e[0]-t[0])>bJ){var a=e[0]<t[0]?_J:-_J;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])},[-_J,-jJ]);function A1(e){var t=OJ(e),n=2*CJ,r=t>0,i=EJ(t)>bJ;function a(e,n){return OJ(e)*OJ(n)>t}function s(e,n,r){var i=[1,0,0],a=j0(w0(e),w0(n)),s=_0(a,a),o=a[0],l=s-o*o;if(!l)return!r&&e;var c=t*s/l,u=-t*o/l,d=j0(i,a),h=N0(i,c);k0(h,N0(a,u));var f=d,m=_0(h,f),p=_0(f,f),g=m*m-p*(_0(h,h)-1);if(!(g<0)){var v=FJ(g),y=N0(f,(-m-v)/p);if(k0(y,h),y=b0(y),!r)return y;var x,b=e[0],w=n[0],_=e[1],j=n[1];w<b&&(x=b,b=w,w=x);var k=w-b,N=EJ(k-_J)<bJ;if(!N&&j<_&&(x=_,_=j,j=x),N||k<bJ?N?_+j>0^y[1]<(EJ(y[0]-b)<bJ?_:j):_<=y[1]&&y[1]<=j:k>_J^(b<=y[0]&&y[0]<=w)){var S=N0(f,(-m+v)/p);return k0(S,h),[y,b0(S)]}}}function o(t,n){var i=r?e:_J-e,a=0;return t<-i?a|=1:t>i&&(a|=2),n<-i?a|=4:n>i&&(a|=8),a}return E1(a,function(e){var t,n,l,c,u;return{lineStart:function(){c=l=!1,u=1},point:function(d,h){var f,m=[d,h],p=a(d,h),g=r?p?0:o(d,h):p?o(d+(d<0?_J:-_J),h):0;if(!t&&(c=l=p)&&e.lineStart(),p!==l&&(!(f=s(t,m))||_1(t,f)||_1(m,f))&&(m[2]=1),p!==l)u=0,p?(e.lineStart(),f=s(m,t),e.point(f[0],f[1])):(f=s(t,m),e.point(f[0],f[1],2),e.lineEnd()),t=f;else if(i&&t&&r^p){var v;g&n||!(v=s(m,t,!0))||(u=0,r?(e.lineStart(),e.point(v[0][0],v[0][1]),e.point(v[1][0],v[1][1]),e.lineEnd()):(e.point(v[1][0],v[1][1]),e.lineEnd(),e.lineStart(),e.point(v[0][0],v[0][1],3)))}!p||t&&_1(t,m)||e.point(m[0],m[1]),t=m,l=p,n=g},lineEnd:function(){l&&e.lineEnd(),t=null},clean:function(){return u|(c&&l)<<1}}},function(t,r,i,a){x1(a,e,n,i,t,r)},r?[0,-e]:[-_J,e-_J])}var T1,D1,R1,I1,z1=1e9,L1=-z1;function F1(e,t,n,r){function i(i,a){return e<=i&&i<=n&&t<=a&&a<=r}function a(i,a,o,c){var u=0,d=0;if(null==i||(u=s(i,o))!==(d=s(a,o))||l(i,a)<0^o>0)do{c.point(0===u||3===u?e:n,u>1?r:t)}while((u=(u+o+4)%4)!==d);else c.point(a[0],a[1])}function s(r,i){return EJ(r[0]-e)<bJ?i>0?0:3:EJ(r[0]-n)<bJ?i>0?2:1:EJ(r[1]-t)<bJ?i>0?1:0:i>0?3:2}function o(e,t){return l(e.x,t.x)}function l(e,t){var n=s(e,1),r=s(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(s){var l,c,u,d,h,f,m,p,g,v,y,x=s,b=w1(),w={point:_,lineStart:function(){w.point=j,c&&c.push(u=[]),v=!0,g=!1,m=p=NaN},lineEnd:function(){l&&(j(d,h),f&&g&&b.rejoin(),l.push(b.result())),w.point=_,g&&x.lineEnd()},polygonStart:function(){x=b,l=[],c=[],y=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,i=c.length;n<i;++n)for(var a,s,o=c[n],l=1,u=o.length,d=o[0],h=d[0],f=d[1];l<u;++l)a=h,s=f,h=(d=o[l])[0],f=d[1],s<=r?f>r&&(h-a)*(r-s)>(f-s)*(e-a)&&++t:f<=r&&(h-a)*(r-s)<(f-s)*(e-a)&&--t;return t}(),n=y&&t,i=(l=cS(l)).length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),a(null,null,1,s),s.lineEnd()),i&&k1(l,o,t,a,s),s.polygonEnd()),x=s,l=c=u=null}};function _(e,t){i(e,t)&&x.point(e,t)}function j(a,s){var o=i(a,s);if(c&&u.push([a,s]),v)d=a,h=s,f=o,v=!1,o&&(x.lineStart(),x.point(a,s));else if(o&&g)x.point(a,s);else{var l=[m=Math.max(L1,Math.min(z1,m)),p=Math.max(L1,Math.min(z1,p))],b=[a=Math.max(L1,Math.min(z1,a)),s=Math.max(L1,Math.min(z1,s))];!function(e,t,n,r,i,a){var s,o=e[0],l=e[1],c=0,u=1,d=t[0]-o,h=t[1]-l;if(s=n-o,d||!(s>0)){if(s/=d,d<0){if(s<c)return;s<u&&(u=s)}else if(d>0){if(s>u)return;s>c&&(c=s)}if(s=i-o,d||!(s<0)){if(s/=d,d<0){if(s>u)return;s>c&&(c=s)}else if(d>0){if(s<c)return;s<u&&(u=s)}if(s=r-l,h||!(s>0)){if(s/=h,h<0){if(s<c)return;s<u&&(u=s)}else if(h>0){if(s>u)return;s>c&&(c=s)}if(s=a-l,h||!(s<0)){if(s/=h,h<0){if(s>u)return;s>c&&(c=s)}else if(h>0){if(s<c)return;s<u&&(u=s)}return c>0&&(e[0]=o+c*d,e[1]=l+c*h),u<1&&(t[0]=o+u*d,t[1]=l+u*h),!0}}}}}(l,b,e,t,n,r)?o&&(x.lineStart(),x.point(a,s),y=!1):(g||(x.lineStart(),x.point(l[0],l[1])),x.point(b[0],b[1]),o||x.lineEnd(),y=!1)}m=a,p=s,g=o}return w}}var B1={sphere:KJ,point:KJ,lineStart:function(){B1.point=V1,B1.lineEnd=W1},lineEnd:KJ,polygonStart:KJ,polygonEnd:KJ};function W1(){B1.point=B1.lineEnd=KJ}function V1(e,t){D1=e*=CJ,R1=zJ(t*=CJ),I1=OJ(t),B1.point=$1}function $1(e,t){e*=CJ;var n=zJ(t*=CJ),r=OJ(t),i=EJ(e-D1),a=OJ(i),s=r*zJ(i),o=I1*n-R1*r*a,l=R1*n+I1*r*a;T1.add(MJ(FJ(s*s+o*o),l)),D1=e,R1=n,I1=r}function K1(e){return T1=new _N,XJ(e,B1),+T1}var H1=[null,null],U1={type:"LineString",coordinates:H1};function Y1(e,t){return H1[0]=e,H1[1]=t,K1(U1)}var q1={Feature:function(e,t){return X1(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)if(X1(n[r].geometry,t))return!0;return!1}},G1={Sphere:function(){return!0},Point:function(e,t){return Q1(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(Q1(n[r],t))return!0;return!1},LineString:function(e,t){return Z1(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(Z1(n[r],t))return!0;return!1},Polygon:function(e,t){return J1(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(J1(n[r],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)if(X1(n[r],t))return!0;return!1}};function X1(e,t){return!(!e||!G1.hasOwnProperty(e.type))&&G1[e.type](e,t)}function Q1(e,t){return 0===Y1(e,t)}function Z1(e,t){for(var n,r,i,a=0,s=e.length;a<s;a++){if(0===(r=Y1(e[a],t)))return!0;if(a>0&&(i=Y1(e[a],e[a-1]))>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<wJ*i)return!0;n=r}return!1}function J1(e,t){return!!C1(e.map(e2),t2(t))}function e2(e){return(e=e.map(t2)).pop(),e}function t2(e){return[e[0]*CJ,e[1]*CJ]}function n2(e,t,n){var r=dS(e,t-bJ,n).concat(t);return function(e){return r.map(function(t){return[e,t]})}}function r2(e,t,n){var r=dS(e,t-bJ,n).concat(t);return function(e){return r.map(function(t){return[t,e]})}}function i2(){var e,t,n,r,i,a,s,o,l,c,u,d,h=10,f=h,m=90,p=360,g=2.5;function v(){return{type:"MultiLineString",coordinates:y()}}function y(){return dS(AJ(r/m)*m,n,m).map(u).concat(dS(AJ(o/p)*p,s,p).map(d)).concat(dS(AJ(t/h)*h,e,h).filter(function(e){return EJ(e%m)>bJ}).map(l)).concat(dS(AJ(a/f)*f,i,f).filter(function(e){return EJ(e%p)>bJ}).map(c))}return v.lines=function(){return y().map(function(e){return{type:"LineString",coordinates:e}})},v.outline=function(){return{type:"Polygon",coordinates:[u(r).concat(d(s).slice(1),u(n).reverse().slice(1),d(o).reverse().slice(1))]}},v.extent=function(e){return arguments.length?v.extentMajor(e).extentMinor(e):v.extentMinor()},v.extentMajor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],o=+e[0][1],s=+e[1][1],r>n&&(e=r,r=n,n=e),o>s&&(e=o,o=s,s=e),v.precision(g)):[[r,o],[n,s]]},v.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],a=+n[0][1],i=+n[1][1],t>e&&(n=t,t=e,e=n),a>i&&(n=a,a=i,i=n),v.precision(g)):[[t,a],[e,i]]},v.step=function(e){return arguments.length?v.stepMajor(e).stepMinor(e):v.stepMinor()},v.stepMajor=function(e){return arguments.length?(m=+e[0],p=+e[1],v):[m,p]},v.stepMinor=function(e){return arguments.length?(h=+e[0],f=+e[1],v):[h,f]},v.precision=function(h){return arguments.length?(g=+h,l=n2(a,i,90),c=r2(t,e,g),u=n2(o,s,90),d=r2(r,n,g),v):g},v.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}const a2=e=>e;var s2,o2,l2,c2,u2=new _N,d2=new _N,h2={point:KJ,lineStart:KJ,lineEnd:KJ,polygonStart:function(){h2.lineStart=f2,h2.lineEnd=g2},polygonEnd:function(){h2.lineStart=h2.lineEnd=h2.point=KJ,u2.add(EJ(d2)),d2=new _N},result:function(){var e=u2/2;return u2=new _N,e}};function f2(){h2.point=m2}function m2(e,t){h2.point=p2,s2=l2=e,o2=c2=t}function p2(e,t){d2.add(c2*e-l2*t),l2=e,c2=t}function g2(){p2(s2,o2)}var v2,y2,x2,b2,w2=1/0,_2=w2,j2=-w2,k2=j2,N2={point:function(e,t){e<w2&&(w2=e),e>j2&&(j2=e),t<_2&&(_2=t),t>k2&&(k2=t)},lineStart:KJ,lineEnd:KJ,polygonStart:KJ,polygonEnd:KJ,result:function(){var e=[[w2,_2],[j2,k2]];return j2=k2=-(_2=w2=1/0),e}},S2=0,C2=0,E2=0,P2=0,M2=0,O2=0,A2=0,T2=0,D2=0,R2={point:I2,lineStart:z2,lineEnd:B2,polygonStart:function(){R2.lineStart=W2,R2.lineEnd=V2},polygonEnd:function(){R2.point=I2,R2.lineStart=z2,R2.lineEnd=B2},result:function(){var e=D2?[A2/D2,T2/D2]:O2?[P2/O2,M2/O2]:E2?[S2/E2,C2/E2]:[NaN,NaN];return S2=C2=E2=P2=M2=O2=A2=T2=D2=0,e}};function I2(e,t){S2+=e,C2+=t,++E2}function z2(){R2.point=L2}function L2(e,t){R2.point=F2,I2(x2=e,b2=t)}function F2(e,t){var n=e-x2,r=t-b2,i=FJ(n*n+r*r);P2+=i*(x2+e)/2,M2+=i*(b2+t)/2,O2+=i,I2(x2=e,b2=t)}function B2(){R2.point=I2}function W2(){R2.point=$2}function V2(){K2(v2,y2)}function $2(e,t){R2.point=K2,I2(v2=x2=e,y2=b2=t)}function K2(e,t){var n=e-x2,r=t-b2,i=FJ(n*n+r*r);P2+=i*(x2+e)/2,M2+=i*(b2+t)/2,O2+=i,A2+=(i=b2*e-x2*t)*(x2+e),T2+=i*(b2+t),D2+=3*i,I2(x2=e,b2=t)}function H2(e){this._context=e}H2.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,NJ)}},result:KJ};var U2,Y2,q2,G2,X2,Q2=new _N,Z2={point:KJ,lineStart:function(){Z2.point=J2},lineEnd:function(){U2&&e4(Y2,q2),Z2.point=KJ},polygonStart:function(){U2=!0},polygonEnd:function(){U2=null},result:function(){var e=+Q2;return Q2=new _N,e}};function J2(e,t){Z2.point=e4,Y2=G2=e,q2=X2=t}function e4(e,t){G2-=e,X2-=t,Q2.add(FJ(G2*G2+X2*X2)),G2=e,X2=t}let t4,n4,r4,i4;class a4{constructor(e){this._append=null==e?s4:function(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return s4;if(t!==t4){const e=u(10,t);t4=t,n4=function(t){let n=1;this._+=t[0];for(const r=t.length;n<r;++n)this._+=Math.round(arguments[n]*e)/e+t[n]}}return n4}(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(e,t){switch(this._point){case 0:this._append`M${e},${t}`,this._point=1;break;case 1:this._append`L${e},${t}`;break;default:if(this._append`M${e},${t}`,this._radius!==r4||this._append!==n4){const e=this._radius,t=this._;this._="",this._append`m0,${e}a${e},${e} 0 1,1 0,${-2*e}a${e},${e} 0 1,1 0,${2*e}z`,r4=e,n4=this._append,i4=this._,this._=t}this._+=i4}}result(){const e=this._;return this._="",e.length?e:null}}function s4(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function o4(e){return function(t){var n=new l4;for(var r in e)n[r]=e[r];return n.stream=t,n}}function l4(){}function c4(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),XJ(n,e.stream(N2)),t(N2.result()),null!=r&&e.clipExtent(r),e}function u4(e,t,n){return c4(e,function(n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],a=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),s=+t[0][0]+(r-a*(n[1][0]+n[0][0]))/2,o=+t[0][1]+(i-a*(n[1][1]+n[0][1]))/2;e.scale(150*a).translate([s,o])},n)}function d4(e,t,n){return u4(e,[[0,0],t],n)}function h4(e,t,n){return c4(e,function(n){var r=+t,i=r/(n[1][0]-n[0][0]),a=(r-i*(n[1][0]+n[0][0]))/2,s=-i*n[0][1];e.scale(150*i).translate([a,s])},n)}function f4(e,t,n){return c4(e,function(n){var r=+t,i=r/(n[1][1]-n[0][1]),a=-i*n[0][0],s=(r-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([a,s])},n)}l4.prototype={constructor:l4,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var m4=OJ(30*CJ);function p4(e,t){return+t?function(e,t){function n(r,i,a,s,o,l,c,u,d,h,f,m,p,g){var v=c-r,y=u-i,x=v*v+y*y;if(x>4*t&&p--){var b=s+h,w=o+f,_=l+m,j=FJ(b*b+w*w+_*_),k=VJ(_/=j),N=EJ(EJ(_)-1)<bJ||EJ(a-d)<bJ?(a+d)/2:MJ(w,b),S=e(N,k),C=S[0],E=S[1],P=C-r,M=E-i,O=y*P-v*M;(O*O/x>t||EJ((v*P+y*M)/x-.5)>.3||s*h+o*f+l*m<m4)&&(n(r,i,a,s,o,l,C,E,N,b/=j,w/=j,_,p,g),g.point(C,E),n(C,E,N,b,w,_,c,u,d,h,f,m,p,g))}}return function(t){var r,i,a,s,o,l,c,u,d,h,f,m,p={point:g,lineStart:v,lineEnd:x,polygonStart:function(){t.polygonStart(),p.lineStart=b},polygonEnd:function(){t.polygonEnd(),p.lineStart=v}};function g(n,r){n=e(n,r),t.point(n[0],n[1])}function v(){u=NaN,p.point=y,t.lineStart()}function y(r,i){var a=w0([r,i]),s=e(r,i);n(u,d,c,h,f,m,u=s[0],d=s[1],c=r,h=a[0],f=a[1],m=a[2],16,t),t.point(u,d)}function x(){p.point=g,t.lineEnd()}function b(){v(),p.point=w,p.lineEnd=_}function w(e,t){y(r=e,t),i=u,a=d,s=h,o=f,l=m,p.point=y}function _(){n(u,d,c,h,f,m,i,a,r,s,o,l,16,t),p.lineEnd=x,x()}return p}}(e,t):function(e){return o4({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)}var g4=o4({point:function(e,t){this.stream.point(e*CJ,t*CJ)}});function v4(e,t,n,r,i,a){if(!a)return function(e,t,n,r,i){function a(a,s){return[t+e*(a*=r),n-e*(s*=i)]}return a.invert=function(a,s){return[(a-t)/e*r,(n-s)/e*i]},a}(e,t,n,r,i);var s=OJ(a),o=zJ(a),l=s*e,c=o*e,u=s/e,d=o/e,h=(o*n-s*t)/e,f=(o*t+s*n)/e;function m(e,a){return[l*(e*=r)-c*(a*=i)+t,n-c*e-l*a]}return m.invert=function(e,t){return[r*(u*e-d*t+h),i*(f-d*e-u*t)]},m}function y4(e){return x4(function(){return e})()}function x4(e){var t,n,r,i,a,s,o,l,c,u,d=150,h=480,f=250,m=0,p=0,g=0,v=0,y=0,x=0,b=1,w=1,_=null,j=O1,k=null,N=a2,S=.5;function C(e){return l(e[0]*CJ,e[1]*CJ)}function E(e){return(e=l.invert(e[0],e[1]))&&[e[0]*SJ,e[1]*SJ]}function P(){var e=v4(d,0,0,b,w,x).apply(null,t(m,p)),r=v4(d,h-e[0],f-e[1],b,w,x);return n=m1(g,v,y),o=h1(t,r),l=h1(n,o),s=p4(o,S),M()}function M(){return c=u=null,C}return C.stream=function(e){return c&&u===e?c:c=g4(function(e){return o4({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}(n)(j(s(N(u=e)))))},C.preclip=function(e){return arguments.length?(j=e,_=void 0,M()):j},C.postclip=function(e){return arguments.length?(N=e,k=r=i=a=null,M()):N},C.clipAngle=function(e){return arguments.length?(j=+e?A1(_=e*CJ):(_=null,O1),M()):_*SJ},C.clipExtent=function(e){return arguments.length?(N=null==e?(k=r=i=a=null,a2):F1(k=+e[0][0],r=+e[0][1],i=+e[1][0],a=+e[1][1]),M()):null==k?null:[[k,r],[i,a]]},C.scale=function(e){return arguments.length?(d=+e,P()):d},C.translate=function(e){return arguments.length?(h=+e[0],f=+e[1],P()):[h,f]},C.center=function(e){return arguments.length?(m=e[0]%360*CJ,p=e[1]%360*CJ,P()):[m*SJ,p*SJ]},C.rotate=function(e){return arguments.length?(g=e[0]%360*CJ,v=e[1]%360*CJ,y=e.length>2?e[2]%360*CJ:0,P()):[g*SJ,v*SJ,y*SJ]},C.angle=function(e){return arguments.length?(x=e%360*CJ,P()):x*SJ},C.reflectX=function(e){return arguments.length?(b=e?-1:1,P()):b<0},C.reflectY=function(e){return arguments.length?(w=e?-1:1,P()):w<0},C.precision=function(e){return arguments.length?(s=p4(o,S=e*e),M()):FJ(S)},C.fitExtent=function(e,t){return u4(C,e,t)},C.fitSize=function(e,t){return d4(C,e,t)},C.fitWidth=function(e,t){return h4(C,e,t)},C.fitHeight=function(e,t){return f4(C,e,t)},function(){return t=e.apply(this,arguments),C.invert=t.invert&&E,P()}}function b4(e){var t=0,n=_J/3,r=x4(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*CJ,n=e[1]*CJ):[t*SJ,n*SJ]},i}function w4(e,t){var n=zJ(e),r=(n+zJ(t))/2;if(EJ(r)<bJ)return function(e){var t=OJ(e);function n(e,n){return[e*t,zJ(n)/t]}return n.invert=function(e,n){return[e/t,VJ(n*t)]},n}(e);var i=1+n*(2*r-n),a=FJ(i)/r;function s(e,t){var n=FJ(i-2*r*zJ(t))/r;return[n*zJ(e*=r),a-n*OJ(e)]}return s.invert=function(e,t){var n=a-t,s=MJ(e,EJ(n))*LJ(n);return n*r<0&&(s-=_J*LJ(e)*LJ(n)),[s/r,VJ((i-(e*e+n*n)*r*r)/(2*r))]},s}function _4(){return b4(w4).scale(155.424).center([0,33.6442])}function j4(){return _4().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function k4(e){return function(t,n){var r=OJ(t),i=OJ(n),a=e(r*i);return a===1/0?[2,0]:[a*i*zJ(t),a*zJ(n)]}}function N4(e){return function(t,n){var r=FJ(t*t+n*n),i=e(r),a=zJ(i),s=OJ(i);return[MJ(t*a,r*s),VJ(r&&n*a/r)]}}var S4=k4(function(e){return FJ(2/(1+e))});S4.invert=N4(function(e){return 2*VJ(e/2)});var C4=k4(function(e){return(e=WJ(e))&&e/zJ(e)});function E4(e,t){return[e,RJ(BJ((jJ+t)/2))]}function P4(e){var t,n,r,i=y4(e),a=i.center,s=i.scale,o=i.translate,l=i.clipExtent,c=null;function u(){var a=_J*s(),o=i(y1(i.rotate()).invert([0,0]));return l(null==c?[[o[0]-a,o[1]-a],[o[0]+a,o[1]+a]]:e===E4?[[Math.max(o[0]-a,c),t],[Math.min(o[0]+a,n),r]]:[[c,Math.max(o[1]-a,t)],[n,Math.min(o[1]+a,r)]])}return i.scale=function(e){return arguments.length?(s(e),u()):s()},i.translate=function(e){return arguments.length?(o(e),u()):o()},i.center=function(e){return arguments.length?(a(e),u()):a()},i.clipExtent=function(e){return arguments.length?(null==e?c=t=n=r=null:(c=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),u()):null==c?null:[[c,t],[n,r]]},u()}function M4(e){return BJ((jJ+e)/2)}function O4(e,t){var n=OJ(e),r=e===t?zJ(e):RJ(n/OJ(t))/RJ(M4(t)/M4(e)),i=n*IJ(M4(e),r)/r;if(!r)return E4;function a(e,t){i>0?t<-jJ+bJ&&(t=-jJ+bJ):t>jJ-bJ&&(t=jJ-bJ);var n=i/IJ(M4(t),r);return[n*zJ(r*e),i-n*OJ(r*e)]}return a.invert=function(e,t){var n=i-t,a=LJ(r)*FJ(e*e+n*n),s=MJ(e,EJ(n))*LJ(n);return n*r<0&&(s-=_J*LJ(e)*LJ(n)),[s/r,2*PJ(IJ(i/a,1/r))-jJ]},a}function A4(e,t){return[e,t]}function T4(e,t){var n=OJ(e),r=e===t?zJ(e):(n-OJ(t))/(t-e),i=n/r+e;if(EJ(r)<bJ)return A4;function a(e,t){var n=i-t,a=r*e;return[n*zJ(a),i-n*OJ(a)]}return a.invert=function(e,t){var n=i-t,a=MJ(e,EJ(n))*LJ(n);return n*r<0&&(a-=_J*LJ(e)*LJ(n)),[a/r,i-LJ(r)*FJ(e*e+n*n)]},a}C4.invert=N4(function(e){return e}),E4.invert=function(e,t){return[e,2*PJ(TJ(t))-jJ]},A4.invert=A4;var D4=1.340264,R4=-.081106,I4=893e-6,z4=.003796,L4=FJ(3)/2;function F4(e,t){var n=VJ(L4*zJ(t)),r=n*n,i=r*r*r;return[e*OJ(n)/(L4*(D4+3*R4*r+i*(7*I4+9*z4*r))),n*(D4+R4*r+i*(I4+z4*r))]}function B4(e,t){var n=OJ(t),r=OJ(e)*n;return[n*zJ(e)/r,zJ(t)/r]}function W4(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function V4(e,t){return[OJ(t)*zJ(e),zJ(t)]}function $4(e,t){var n=OJ(t),r=1+OJ(e)*n;return[n*zJ(e)/r,zJ(t)/r]}function K4(e,t){return[RJ(BJ((jJ+t)/2)),-e]}function H4(e,t){return e.parent===t.parent?1:2}function U4(e,t){return e+t.x}function Y4(e,t){return Math.max(e,t.y)}function q4(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function G4(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=Q4)):void 0===t&&(t=X4);for(var n,r,i,a,s,o=new e6(e),l=[o];n=l.pop();)if((i=t(n.data))&&(s=(i=Array.from(i)).length))for(n.children=i,a=s-1;a>=0;--a)l.push(r=i[a]=new e6(i[a])),r.parent=n,r.depth=n.depth+1;return o.eachBefore(J4)}function X4(e){return e.children}function Q4(e){return Array.isArray(e)?e[1]:null}function Z4(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function J4(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function e6(e){this.data=e,this.depth=this.height=0,this.parent=null}function t6(e){return null==e?null:n6(e)}function n6(e){if("function"!=typeof e)throw new Error;return e}function r6(){return 0}function i6(e){return function(){return e}}F4.invert=function(e,t){for(var n,r=t,i=r*r,a=i*i*i,s=0;s<12&&(a=(i=(r-=n=(r*(D4+R4*i+a*(I4+z4*i))-t)/(D4+3*R4*i+a*(7*I4+9*z4*i)))*r)*i*i,!(EJ(n)<wJ));++s);return[L4*e*(D4+3*R4*i+a*(7*I4+9*z4*i))/OJ(r),VJ(zJ(r)/L4)]},B4.invert=N4(PJ),W4.invert=function(e,t){var n,r=t,i=25;do{var a=r*r,s=a*a;r-=n=(r*(1.007226+a*(.015085+s*(.028874*a-.044475-.005916*s)))-t)/(1.007226+a*(.045255+s*(.259866*a-.311325-.005916*11*s)))}while(EJ(n)>bJ&&--i>0);return[e/(.8707+(a=r*r)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),r]},V4.invert=N4(VJ),$4.invert=N4(function(e){return 2*PJ(e)}),K4.invert=function(e,t){return[-t,2*PJ(TJ(e))-jJ]},e6.prototype=G4.prototype={constructor:e6,count:function(){return this.eachAfter(q4)},each:function(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this},eachAfter:function(e,t){for(var n,r,i,a=this,s=[a],o=[],l=-1;a=s.pop();)if(o.push(a),n=a.children)for(r=0,i=n.length;r<i;++r)s.push(n[r]);for(;a=o.pop();)e.call(t,a,++l,this);return this},eachBefore:function(e,t){for(var n,r,i=this,a=[i],s=-1;i=a.pop();)if(e.call(t,i,++s,this),n=i.children)for(r=n.length-1;r>=0;--r)a.push(n[r]);return this},find:function(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r},sum:function(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})},sort:function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},links:function(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t},copy:function(){return G4(this).eachBefore(Z4)},[Symbol.iterator]:function*(){var e,t,n,r,i=this,a=[i];do{for(e=a.reverse(),a=[];i=e.pop();)if(yield i,t=i.children)for(n=0,r=t.length;n<r;++n)a.push(t[n])}while(a.length)}};const a6=4294967296;function s6(){let e=1;return()=>(e=(1664525*e+1013904223)%a6)/a6}function o6(e,t){for(var n,r,i=0,a=(e=function(e,t){let n,r,i=e.length;for(;i;)r=t()*i--|0,n=e[i],e[i]=e[r],e[r]=n;return e}(Array.from(e),t)).length,s=[];i<a;)n=e[i],r&&u6(r,n)?++i:(r=h6(s=l6(s,n)),i=0);return r}function l6(e,t){var n,r;if(d6(t,e))return[t];for(n=0;n<e.length;++n)if(c6(t,e[n])&&d6(f6(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(c6(f6(e[n],e[r]),t)&&c6(f6(e[n],t),e[r])&&c6(f6(e[r],t),e[n])&&d6(m6(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function c6(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function u6(e,t){var n=e.r-t.r+1e-9*Math.max(e.r,t.r,1),r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function d6(e,t){for(var n=0;n<t.length;++n)if(!u6(e,t[n]))return!1;return!0}function h6(e){switch(e.length){case 1:return{x:(t=e[0]).x,y:t.y,r:t.r};case 2:return f6(e[0],e[1]);case 3:return m6(e[0],e[1],e[2])}var t}function f6(e,t){var n=e.x,r=e.y,i=e.r,a=t.x,s=t.y,o=t.r,l=a-n,c=s-r,u=o-i,d=Math.sqrt(l*l+c*c);return{x:(n+a+l/d*u)/2,y:(r+s+c/d*u)/2,r:(d+i+o)/2}}function m6(e,t,n){var r=e.x,i=e.y,a=e.r,s=t.x,o=t.y,l=t.r,c=n.x,u=n.y,d=n.r,h=r-s,f=r-c,m=i-o,p=i-u,g=l-a,v=d-a,y=r*r+i*i-a*a,x=y-s*s-o*o+l*l,b=y-c*c-u*u+d*d,w=f*m-h*p,_=(m*b-p*x)/(2*w)-r,j=(p*g-m*v)/w,k=(f*x-h*b)/(2*w)-i,N=(h*v-f*g)/w,S=j*j+N*N-1,C=2*(a+_*j+k*N),E=_*_+k*k-a*a,P=-(Math.abs(S)>1e-6?(C+Math.sqrt(C*C-4*S*E))/(2*S):E/C);return{x:r+_+j*P,y:i+k+N*P,r:P}}function p6(e,t,n){var r,i,a,s,o=e.x-t.x,l=e.y-t.y,c=o*o+l*l;c?(i=t.r+n.r,i*=i,s=e.r+n.r,i>(s*=s)?(r=(c+s-i)/(2*c),a=Math.sqrt(Math.max(0,s/c-r*r)),n.x=e.x-r*o-a*l,n.y=e.y-r*l+a*o):(r=(c+i-s)/(2*c),a=Math.sqrt(Math.max(0,i/c-r*r)),n.x=t.x+r*o-a*l,n.y=t.y+r*l+a*o)):(n.x=t.x+n.r,n.y=t.y)}function g6(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function v6(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,a=(t.y*n.r+n.y*t.r)/r;return i*i+a*a}function y6(e){this._=e,this.next=null,this.previous=null}function x6(e,t){if(!(s=(n=e,e="object"==typeof n&&"length"in n?n:Array.from(n)).length))return 0;var n,r,i,a,s,o,l,c,u,d,h,f;if((r=e[0]).x=0,r.y=0,!(s>1))return r.r;if(i=e[1],r.x=-i.r,i.x=r.r,i.y=0,!(s>2))return r.r+i.r;p6(i,r,a=e[2]),r=new y6(r),i=new y6(i),a=new y6(a),r.next=a.previous=i,i.next=r.previous=a,a.next=i.previous=r;e:for(c=3;c<s;++c){p6(r._,i._,a=e[c]),a=new y6(a),u=i.next,d=r.previous,h=i._.r,f=r._.r;do{if(h<=f){if(g6(u._,a._)){i=u,r.next=i,i.previous=r,--c;continue e}h+=u._.r,u=u.next}else{if(g6(d._,a._)){(r=d).next=i,i.previous=r,--c;continue e}f+=d._.r,d=d.previous}}while(u!==d.next);for(a.previous=r,a.next=i,r.next=i.previous=i=a,o=v6(r);(a=a.next)!==i;)(l=v6(a))<o&&(r=a,o=l);i=r.next}for(r=[i._],a=i;(a=a.next)!==i;)r.push(a._);for(a=o6(r,t),c=0;c<s;++c)(r=e[c]).x-=a.x,r.y-=a.y;return a.r}function b6(e){return Math.sqrt(e.value)}function w6(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function _6(e,t,n){return function(r){if(i=r.children){var i,a,s,o=i.length,l=e(r)*t||0;if(l)for(a=0;a<o;++a)i[a].r+=l;if(s=x6(i,n),l)for(a=0;a<o;++a)i[a].r-=l;r.r=s+l}}}function j6(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function k6(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function N6(e,t,n,r,i){for(var a,s=e.children,o=-1,l=s.length,c=e.value&&(r-t)/e.value;++o<l;)(a=s[o]).y0=n,a.y1=i,a.x0=t,a.x1=t+=a.value*c}var S6={depth:-1},C6={},E6={};function P6(e){return e.id}function M6(e){return e.parentId}function O6(e){let t=e.length;if(t<2)return"";for(;--t>1&&!A6(e,t););return e.slice(0,t)}function A6(e,t){if("/"===e[t]){let n=0;for(;t>0&&"\\"===e[--t];)++n;if(!(1&n))return!0}return!1}function T6(e,t){return e.parent===t.parent?1:2}function D6(e){var t=e.children;return t?t[0]:e.t}function R6(e){var t=e.children;return t?t[t.length-1]:e.t}function I6(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function z6(e,t,n){return e.a.parent===t.parent?e.a:n}function L6(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function F6(e,t,n,r,i){for(var a,s=e.children,o=-1,l=s.length,c=e.value&&(i-n)/e.value;++o<l;)(a=s[o]).x0=t,a.x1=r,a.y0=n,a.y1=n+=a.value*c}L6.prototype=Object.create(e6.prototype);var B6=(1+Math.sqrt(5))/2;function W6(e,t,n,r,i,a){for(var s,o,l,c,u,d,h,f,m,p,g,v=[],y=t.children,x=0,b=0,w=y.length,_=t.value;x<w;){l=i-n,c=a-r;do{u=y[b++].value}while(!u&&b<w);for(d=h=u,g=u*u*(p=Math.max(c/l,l/c)/(_*e)),m=Math.max(h/g,g/d);b<w;++b){if(u+=o=y[b].value,o<d&&(d=o),o>h&&(h=o),g=u*u*p,(f=Math.max(h/g,g/d))>m){u-=o;break}m=f}v.push(s={value:u,dice:l<c,children:y.slice(x,b)}),s.dice?N6(s,n,r,i,_?r+=c*u/_:a):F6(s,n,r,_?n+=l*u/_:i,a),_-=u,x=b}return v}const V6=function e(t){function n(e,n,r,i,a){W6(t,e,n,r,i,a)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(B6),$6=function e(t){function n(e,n,r,i,a){if((s=e._squarify)&&s.ratio===t)for(var s,o,l,c,u,d=-1,h=s.length,f=e.value;++d<h;){for(l=(o=s[d]).children,c=o.value=0,u=l.length;c<u;++c)o.value+=l[c].value;o.dice?N6(o,n,r,i,f?r+=(a-r)*o.value/f:a):F6(o,n,r,f?n+=(i-n)*o.value/f:i,a),f-=o.value}else e._squarify=s=W6(t,e,n,r,i,a),s.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(B6);function K6(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function H6(e,t){return e[0]-t[0]||e[1]-t[1]}function U6(e){const t=e.length,n=[0,1];let r,i=2;for(r=2;r<t;++r){for(;i>1&&K6(e[n[i-2]],e[n[i-1]],e[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}const Y6=Math.random,q6=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,1===arguments.length?(n=e,e=0):n-=e,function(){return t()*n+e}}return n.source=e,n}(Y6),G6=function e(t){function n(e,n){return arguments.length<2&&(n=e,e=0),e=Math.floor(e),n=Math.floor(n)-e,function(){return Math.floor(t()*n+e)}}return n.source=e,n}(Y6),X6=function e(t){function n(e,n){var r,i;return e=null==e?0:+e,n=null==n?1:+n,function(){var a;if(null!=r)a=r,r=null;else do{r=2*t()-1,a=2*t()-1,i=r*r+a*a}while(!i||i>1);return e+n*a*Math.sqrt(-2*Math.log(i)/i)}}return n.source=e,n}(Y6),Q6=function e(t){var n=X6.source(t);function r(){var e=n.apply(this,arguments);return function(){return Math.exp(e())}}return r.source=e,r}(Y6),Z6=function e(t){function n(e){return(e=+e)<=0?()=>0:function(){for(var n=0,r=e;r>1;--r)n+=t();return n+r*t()}}return n.source=e,n}(Y6),J6=function e(t){var n=Z6.source(t);function r(e){if(0===(e=+e))return t;var r=n(e);return function(){return r()/e}}return r.source=e,r}(Y6),e3=function e(t){function n(e){return function(){return-Math.log1p(-t())/e}}return n.source=e,n}(Y6),t3=function e(t){function n(e){if((e=+e)<0)throw new RangeError("invalid alpha");return e=1/-e,function(){return Math.pow(1-t(),e)}}return n.source=e,n}(Y6),n3=function e(t){function n(e){if((e=+e)<0||e>1)throw new RangeError("invalid p");return function(){return Math.floor(t()+e)}}return n.source=e,n}(Y6),r3=function e(t){function n(e){if((e=+e)<0||e>1)throw new RangeError("invalid p");return 0===e?()=>1/0:1===e?()=>1:(e=Math.log1p(-e),function(){return 1+Math.floor(Math.log1p(-t())/e)})}return n.source=e,n}(Y6),i3=function e(t){var n=X6.source(t)();function r(e,r){if((e=+e)<0)throw new RangeError("invalid k");if(0===e)return()=>0;if(r=null==r?1:+r,1===e)return()=>-Math.log1p(-t())*r;var i=(e<1?e+1:e)-1/3,a=1/(3*Math.sqrt(i)),s=e<1?()=>Math.pow(t(),1/e):()=>1;return function(){do{do{var e=n(),o=1+a*e}while(o<=0);o*=o*o;var l=1-t()}while(l>=1-.0331*e*e*e*e&&Math.log(l)>=.5*e*e+i*(1-o+Math.log(o)));return i*o*s()*r}}return r.source=e,r}(Y6),a3=function e(t){var n=i3.source(t);function r(e,t){var r=n(e),i=n(t);return function(){var e=r();return 0===e?0:e/(e+i())}}return r.source=e,r}(Y6),s3=function e(t){var n=r3.source(t),r=a3.source(t);function i(e,t){return e=+e,(t=+t)>=1?()=>e:t<=0?()=>0:function(){for(var i=0,a=e,s=t;a*s>16&&a*(1-s)>16;){var o=Math.floor((a+1)*s),l=r(o,a-o+1)();l<=s?(i+=o,a-=o,s=(s-l)/(1-l)):(a=o-1,s/=l)}for(var c=s<.5,u=n(c?s:1-s),d=u(),h=0;d<=a;++h)d+=u();return i+(c?h:a-h)}}return i.source=e,i}(Y6),o3=function e(t){function n(e,n,r){var i;return 0===(e=+e)?i=e=>-Math.log(e):(e=1/e,i=t=>Math.pow(t,e)),n=null==n?0:+n,r=null==r?1:+r,function(){return n+r*i(-Math.log1p(-t()))}}return n.source=e,n}(Y6),l3=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,function(){return e+n*Math.tan(Math.PI*t())}}return n.source=e,n}(Y6),c3=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,function(){var r=t();return e+n*Math.log(r/(1-r))}}return n.source=e,n}(Y6),u3=function e(t){var n=i3.source(t),r=s3.source(t);function i(e){return function(){for(var i=0,a=e;a>16;){var s=Math.floor(.875*a),o=n(s)();if(o>a)return i+r(s-1,a/o)();i+=s,a-=o}for(var l=-Math.log1p(-t()),c=0;l<=a;++c)l-=Math.log1p(-t());return i+c}}return i.source=e,i}(Y6),d3=1/4294967296;function h3(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}const f3=h3("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),m3=h3("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),p3=h3("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),g3=h3("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),v3=h3("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),y3=h3("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),x3=h3("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),b3=h3("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),w3=h3("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),_3=h3("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),j3=h3("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),k3=e=>qC(e[e.length-1]);var N3=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(h3);const S3=k3(N3);var C3=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(h3);const E3=k3(C3);var P3=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(h3);const M3=k3(P3);var O3=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(h3);const A3=k3(O3);var T3=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(h3);const D3=k3(T3);var R3=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(h3);const I3=k3(R3);var z3=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(h3);const L3=k3(z3);var F3=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(h3);const B3=k3(F3);var W3=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(h3);const V3=k3(W3);var $3=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(h3);const K3=k3($3);var H3=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(h3);const U3=k3(H3);var Y3=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(h3);const q3=k3(Y3);var G3=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(h3);const X3=k3(G3);var Q3=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(h3);const Z3=k3(Q3);var J3=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(h3);const e5=k3(J3);var t5=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(h3);const n5=k3(t5);var r5=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(h3);const i5=k3(r5);var a5=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(h3);const s5=k3(a5);var o5=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(h3);const l5=k3(o5);var c5=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(h3);const u5=k3(c5);var d5=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(h3);const h5=k3(d5);var f5=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(h3);const m5=k3(f5);var p5=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(h3);const g5=k3(p5);var v5=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(h3);const y5=k3(v5);var x5=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(h3);const b5=k3(x5);var w5=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(h3);const _5=k3(w5);var j5=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(h3);const k5=k3(j5),N5=kE(IC(300,.5,0),IC(-240,.5,1));var S5=kE(IC(-100,.75,.35),IC(80,1.5,.8)),C5=kE(IC(260,.75,.35),IC(80,1.5,.8)),E5=IC(),P5=GS(),M5=Math.PI/3,O5=2*Math.PI/3;function A5(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const T5=A5(h3("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var D5=A5(h3("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),R5=A5(h3("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),I5=A5(h3("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const z5=e=>()=>e;function L5(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function F5(e,t,n){this.k=e,this.x=t,this.y=n}F5.prototype={constructor:F5,scale:function(e){return 1===e?this:new F5(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new F5(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var B5=new F5(1,0,0);function W5(e){for(;!e.__zoom;)if(!(e=e.parentNode))return B5;return e.__zoom}function V5(e){e.stopImmediatePropagation()}function $5(e){e.preventDefault(),e.stopImmediatePropagation()}function K5(e){return!(e.ctrlKey&&"wheel"!==e.type||e.button)}function H5(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function U5(){return this.__zoom||B5}function Y5(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function q5(){return navigator.maxTouchPoints||"ontouchstart"in this}function G5(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>a?(a+s)/2:Math.min(0,a)||Math.max(0,s))}W5.prototype=F5.prototype;const X5=Object.freeze(Object.defineProperty({__proto__:null,Adder:_N,Delaunay:xZ,FormatSpecifier:BE,InternMap:jN,InternSet:kN,Node:e6,Path:Vm,Voronoi:fZ,ZoomTransform:F5,active:function(e,t){var n,r,i=e.__transition;if(i)for(r in t=null==t?null:t+"",i)if((n=i[r]).state>1&&n.name===t)return new rX([[e]],IX,t,+r);return null},arc:function(){var e=Hm,t=Um,n=km(0),r=null,i=Ym,a=qm,s=Gm,o=null,l=Km(c);function c(){var c,u,d,h=+e.apply(this,arguments),f=+t.apply(this,arguments),m=i.apply(this,arguments)-Dm,p=a.apply(this,arguments)-Dm,g=Nm(p-m),v=p>m;if(o||(o=c=l()),f<h&&(u=f,f=h,h=u),f>Am)if(g>Rm-Am)o.moveTo(f*Cm(m),f*Mm(m)),o.arc(0,0,f,m,p,!v),h>Am&&(o.moveTo(h*Cm(p),h*Mm(p)),o.arc(0,0,h,p,m,v));else{var y,x,b=m,w=p,_=m,j=p,k=g,N=g,S=s.apply(this,arguments)/2,C=S>Am&&(r?+r.apply(this,arguments):Om(h*h+f*f)),E=Pm(Nm(f-h)/2,+n.apply(this,arguments)),P=E,M=E;if(C>Am){var O=Im(C/h*Mm(S)),A=Im(C/f*Mm(S));(k-=2*O)>Am?(_+=O*=v?1:-1,j-=O):(k=0,_=j=(m+p)/2),(N-=2*A)>Am?(b+=A*=v?1:-1,w-=A):(N=0,b=w=(m+p)/2)}var T=f*Cm(b),D=f*Mm(b),R=h*Cm(j),I=h*Mm(j);if(E>Am){var z,L=f*Cm(w),F=f*Mm(w),B=h*Cm(_),W=h*Mm(_);if(g<Tm)if(z=function(e,t,n,r,i,a,s,o){var l=n-e,c=r-t,u=s-i,d=o-a,h=d*l-u*c;if(!(h*h<Am))return[e+(h=(u*(t-a)-d*(e-i))/h)*l,t+h*c]}(T,D,B,W,L,F,R,I)){var V=T-z[0],$=D-z[1],K=L-z[0],H=F-z[1],U=1/Mm(((d=(V*K+$*H)/(Om(V*V+$*$)*Om(K*K+H*H)))>1?0:d<-1?Tm:Math.acos(d))/2),Y=Om(z[0]*z[0]+z[1]*z[1]);P=Pm(E,(h-Y)/(U-1)),M=Pm(E,(f-Y)/(U+1))}else P=M=0}N>Am?M>Am?(y=Xm(B,W,T,D,f,M,v),x=Xm(L,F,R,I,f,M,v),o.moveTo(y.cx+y.x01,y.cy+y.y01),M<E?o.arc(y.cx,y.cy,M,Sm(y.y01,y.x01),Sm(x.y01,x.x01),!v):(o.arc(y.cx,y.cy,M,Sm(y.y01,y.x01),Sm(y.y11,y.x11),!v),o.arc(0,0,f,Sm(y.cy+y.y11,y.cx+y.x11),Sm(x.cy+x.y11,x.cx+x.x11),!v),o.arc(x.cx,x.cy,M,Sm(x.y11,x.x11),Sm(x.y01,x.x01),!v))):(o.moveTo(T,D),o.arc(0,0,f,b,w,!v)):o.moveTo(T,D),h>Am&&k>Am?P>Am?(y=Xm(R,I,L,F,h,-P,v),x=Xm(T,D,B,W,h,-P,v),o.lineTo(y.cx+y.x01,y.cy+y.y01),P<E?o.arc(y.cx,y.cy,P,Sm(y.y01,y.x01),Sm(x.y01,x.x01),!v):(o.arc(y.cx,y.cy,P,Sm(y.y01,y.x01),Sm(y.y11,y.x11),!v),o.arc(0,0,h,Sm(y.cy+y.y11,y.cx+y.x11),Sm(x.cy+x.y11,x.cx+x.x11),v),o.arc(x.cx,x.cy,P,Sm(x.y11,x.x11),Sm(x.y01,x.x01),!v))):o.arc(0,0,h,j,_,v):o.lineTo(R,I)}else o.moveTo(0,0);if(o.closePath(),c)return o=null,c+""||null}return c.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-Tm/2;return[Cm(r)*n,Mm(r)*n]},c.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:km(+t),c):e},c.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:km(+e),c):t},c.cornerRadius=function(e){return arguments.length?(n="function"==typeof e?e:km(+e),c):n},c.padRadius=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:km(+e),c):r},c.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:km(+e),c):i},c.endAngle=function(e){return arguments.length?(a="function"==typeof e?e:km(+e),c):a},c.padAngle=function(e){return arguments.length?(s="function"==typeof e?e:km(+e),c):s},c.context=function(e){return arguments.length?(o=null==e?null:e,c):o},c},area:ip,areaRadial:hp,ascending:eN,autoType:function(e){for(var t in e){var n,r,i=e[t].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(n=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;$Z&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=n;else i=null;e[t]=i}return e},axisBottom:function(e){return MY(3,e)},axisLeft:function(e){return MY(4,e)},axisRight:function(e){return MY(2,e)},axisTop:function(e){return MY(1,e)},bin:ZN,bisect:sN,bisectCenter:lN,bisectLeft:oN,bisectRight:sN,bisector:nN,blob:function(e,t){return fetch(e,t).then(KZ)},blur:function(e,t){if(!((t=+t)>=0))throw new RangeError("invalid r");let n=e.length;if(!((n=Math.floor(n))>=0))throw new RangeError("invalid length");if(!n||!t)return e;const r=mN(t),i=e.slice();return r(e,i,0,n,1),r(i,e,0,n,1),r(e,i,0,n,1),e},blur2:cN,blurImage:uN,brush:function(){return lQ(QX)},brushSelection:function(e){var t=e.__brush;return t?t.dim.output(t.selection):null},brushX:function(){return lQ(GX)},brushY:function(){return lQ(XX)},buffer:function(e,t){return fetch(e,t).then(HZ)},chord:function(){return yQ(!1,!1)},chordDirected:function(){return yQ(!0,!1)},chordTranspose:function(){return yQ(!1,!0)},cluster:function(){var e=H4,t=1,n=1,r=!1;function i(i){var a,s=0;i.eachAfter(function(t){var n=t.children;n?(t.x=function(e){return e.reduce(U4,0)/e.length}(n),t.y=function(e){return 1+e.reduce(Y4,0)}(n)):(t.x=a?s+=e(t,a):0,t.y=0,a=t)});var o=function(e){for(var t;t=e.children;)e=t[0];return e}(i),l=function(e){for(var t;t=e.children;)e=t[t.length-1];return e}(i),c=o.x-e(o,l)/2,u=l.x+e(l,o)/2;return i.eachAfter(r?function(e){e.x=(e.x-i.x)*t,e.y=(i.y-e.y)*n}:function(e){e.x=(e.x-c)/(u-c)*t,e.y=(1-(i.y?e.y/i.y:1))*n})}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i},color:HS,contourDensity:function(){var e=VQ,t=$Q,n=KQ,r=960,i=500,a=20,s=2,o=3*a,l=r+2*o>>s,c=i+2*o>>s,u=OQ(20);function d(r){var i=new Float32Array(l*c),u=Math.pow(2,-s),d=-1;for(const a of r){var h=(e(a,++d,r)+o)*u,f=(t(a,d,r)+o)*u,m=+n(a,d,r);if(m&&h>=0&&h<l&&f>=0&&f<c){var p=Math.floor(h),g=Math.floor(f),v=h-p-.5,y=f-g-.5;i[p+g*l]+=(1-v)*(1-y)*m,i[p+1+g*l]+=v*(1-y)*m,i[p+1+(g+1)*l]+=v*y*m,i[p+(g+1)*l]+=(1-v)*y*m}}return cN({data:i,width:l,height:c},a*u),i}function h(e){var t=d(e),n=u(t),r=Math.pow(2,2*s);return Array.isArray(n)||(n=YN(Number.MIN_VALUE,JN(t)/r,n)),zQ().size([l,c]).thresholds(n.map(e=>e*r))(t).map((e,t)=>(e.value=+n[t],f(e)))}function f(e){return e.coordinates.forEach(m),e}function m(e){e.forEach(p)}function p(e){e.forEach(g)}function g(e){e[0]=e[0]*Math.pow(2,s)-o,e[1]=e[1]*Math.pow(2,s)-o}function v(){return l=r+2*(o=3*a)>>s,c=i+2*o>>s,h}return h.contours=function(e){var t=d(e),n=zQ().size([l,c]),r=Math.pow(2,2*s),i=e=>{e=+e;var i=f(n.contour(t,e*r));return i.value=e,i};return Object.defineProperty(i,"max",{get:()=>JN(t)/r}),i},h.x=function(t){return arguments.length?(e="function"==typeof t?t:OQ(+t),h):e},h.y=function(e){return arguments.length?(t="function"==typeof e?e:OQ(+e),h):t},h.weight=function(e){return arguments.length?(n="function"==typeof e?e:OQ(+e),h):n},h.size=function(e){if(!arguments.length)return[r,i];var t=+e[0],n=+e[1];if(!(t>=0&&n>=0))throw new Error("invalid size");return r=t,i=n,v()},h.cellSize=function(e){if(!arguments.length)return 1<<s;if(!((e=+e)>=1))throw new Error("invalid cell size");return s=Math.floor(Math.log(e)/Math.LN2),v()},h.thresholds=function(e){return arguments.length?(u="function"==typeof e?e:Array.isArray(e)?OQ(PQ.call(e)):OQ(e),h):u},h.bandwidth=function(e){if(!arguments.length)return Math.sqrt(a*(a+1));if(!((e=+e)>=0))throw new Error("invalid bandwidth");return a=(Math.sqrt(4*e*e+1)-1)/2,v()},h},contours:zQ,count:pN,create:function(e){return qq(WY(e).call(document.documentElement))},creator:WY,cross:function(...e){const t="function"==typeof e[e.length-1]&&function(e){return t=>e(...t)}(e.pop()),n=(e=e.map(yN)).map(gN),r=e.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||n.some(vN))return a;for(;;){a.push(i.map((t,n)=>e[n][t]));let s=r;for(;++i[s]===n[s];){if(0===s)return t?a.map(t):a;i[s--]=0}}},csv:GZ,csvFormat:MZ,csvFormatBody:OZ,csvFormatRow:TZ,csvFormatRows:AZ,csvFormatValue:DZ,csvParse:EZ,csvParseRows:PZ,cubehelix:IC,cumsum:function(e,t){var n=0,r=0;return Float64Array.from(e,void 0===t?e=>n+=+e||0:i=>n+=+t(i,r++,e)||0)},curveBasis:Jp,curveBasisClosed:tg,curveBasisOpen:rg,curveBumpX:gp,curveBumpY:vp,curveBundle:ag,curveCardinal:lg,curveCardinalClosed:ug,curveCardinalOpen:hg,curveCatmullRom:pg,curveCatmullRomClosed:vg,curveCatmullRomOpen:xg,curveLinear:ep,curveLinearClosed:wg,curveMonotoneX:Pg,curveMonotoneY:Mg,curveNatural:Tg,curveStep:Rg,curveStepAfter:zg,curveStepBefore:Ig,descending:tN,deviation:bN,difference:function(e,...t){e=new kN(e);for(const n of t)for(const t of n)e.delete(t);return e},disjoint:function(e,t){const n=t[Symbol.iterator](),r=new kN;for(const i of e){if(r.has(i))return!1;let e,t;for(;({value:e,done:t}=n.next())&&!t;){if(Object.is(i,e))return!1;r.add(e)}}return!0},dispatch:AY,drag:function(){var e,t,n,r,i=lG,a=cG,s=uG,o=dG,l={},c=AY("start","drag","end"),u=0,d=0;function h(e){e.on("mousedown.drag",f).filter(o).on("touchstart.drag",g).on("touchmove.drag",v,eG).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(s,o){if(!r&&i.call(this,s,o)){var l=x(this,a.call(this,s,o),s,o,"mouse");l&&(qq(s.view).on("mousemove.drag",m,tG).on("mouseup.drag",p,tG),iG(s.view),nG(s),n=!1,e=s.clientX,t=s.clientY,l("start",s))}}function m(r){if(rG(r),!n){var i=r.clientX-e,a=r.clientY-t;n=i*i+a*a>d}l.mouse("drag",r)}function p(e){qq(e.view).on("mousemove.drag mouseup.drag",null),aG(e.view,n),rG(e),l.mouse("end",e)}function g(e,t){if(i.call(this,e,t)){var n,r,s=e.changedTouches,o=a.call(this,e,t),l=s.length;for(n=0;n<l;++n)(r=x(this,o,e,t,s[n].identifier,s[n]))&&(nG(e),r("start",e,s[n]))}}function v(e){var t,n,r=e.changedTouches,i=r.length;for(t=0;t<i;++t)(n=l[r[t].identifier])&&(rG(e),n("drag",e,r[t]))}function y(e){var t,n,i=e.changedTouches,a=i.length;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),t=0;t<a;++t)(n=l[i[t].identifier])&&(nG(e),n("end",e,i[t]))}function x(e,t,n,r,i,a){var o,d,f,m=c.copy(),p=Jq(a||n,t);if(null!=(f=s.call(e,new oG("beforestart",{sourceEvent:n,target:h,identifier:i,active:u,x:p[0],y:p[1],dx:0,dy:0,dispatch:m}),r)))return o=f.x-p[0]||0,d=f.y-p[1]||0,function n(a,s,c){var g,v=p;switch(a){case"start":l[i]=n,g=u++;break;case"end":delete l[i],--u;case"drag":p=Jq(c||s,t),g=u}m.call(a,e,new oG(a,{sourceEvent:s,subject:f,target:h,identifier:i,active:g,x:p[0]+o,y:p[1]+d,dx:p[0]-v[0],dy:p[1]-v[1],dispatch:m}),r)}}return h.filter=function(e){return arguments.length?(i="function"==typeof e?e:sG(!!e),h):i},h.container=function(e){return arguments.length?(a="function"==typeof e?e:sG(e),h):a},h.subject=function(e){return arguments.length?(s="function"==typeof e?e:sG(e),h):s},h.touchable=function(e){return arguments.length?(o="function"==typeof e?e:sG(!!e),h):o},h.on=function(){var e=c.on.apply(c,arguments);return e===c?h:e},h.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,h):Math.sqrt(d)},h},dragDisable:iG,dragEnable:aG,dsv:function(e,t,n,r){3===arguments.length&&"function"==typeof n&&(r=n,n=void 0);var i=SZ(e);return YZ(t,n).then(function(e){return i.parse(e,r)})},dsvFormat:SZ,easeBack:PX,easeBackIn:CX,easeBackInOut:PX,easeBackOut:EX,easeBounce:NX,easeBounceIn:function(e){return 1-NX(1-e)},easeBounceInOut:function(e){return((e*=2)<=1?1-NX(1-e):NX(e-1)+1)/2},easeBounceOut:NX,easeCircle:vX,easeCircleIn:function(e){return 1-Math.sqrt(1-e*e)},easeCircleInOut:vX,easeCircleOut:function(e){return Math.sqrt(1- --e*e)},easeCubic:lX,easeCubicIn:function(e){return e*e*e},easeCubicInOut:lX,easeCubicOut:function(e){return--e*e*e+1},easeElastic:AX,easeElasticIn:OX,easeElasticInOut:TX,easeElasticOut:AX,easeExp:gX,easeExpIn:function(e){return pX(1-+e)},easeExpInOut:gX,easeExpOut:function(e){return 1-pX(e)},easeLinear:e=>+e,easePoly:dX,easePolyIn:cX,easePolyInOut:dX,easePolyOut:uX,easeQuad:oX,easeQuadIn:function(e){return e*e},easeQuadInOut:oX,easeQuadOut:function(e){return e*(2-e)},easeSin:mX,easeSinIn:function(e){return 1===+e?1:1-Math.cos(e*fX)},easeSinInOut:mX,easeSinOut:function(e){return Math.sin(e*fX)},every:function(e,t){if("function"!=typeof t)throw new TypeError("test is not a function");let n=-1;for(const r of e)if(!t(r,++n,e))return!1;return!0},extent:wN,fcumsum:function(e,t){const n=new _N;let r=-1;return Float64Array.from(e,void 0===t?e=>n.add(+e||0):i=>n.add(+t(i,++r,e)||0))},filter:function(e,t){if("function"!=typeof t)throw new TypeError("test is not a function");const n=[];let r=-1;for(const i of e)t(i,++r,e)&&n.push(i);return n},flatGroup:function(e,...t){return AN(ON(e,...t),t)},flatRollup:function(e,t,...n){return AN(DN(e,t,...n),n)},forceCenter:function(e,t){var n,r=1;function i(){var i,a,s=n.length,o=0,l=0;for(i=0;i<s;++i)o+=(a=n[i]).x,l+=a.y;for(o=(o/s-e)*r,l=(l/s-t)*r,i=0;i<s;++i)(a=n[i]).x-=o,a.y-=l}return null==e&&(e=0),null==t&&(t=0),i.initialize=function(e){n=e},i.x=function(t){return arguments.length?(e=+t,i):e},i.y=function(e){return arguments.length?(t=+e,i):t},i.strength=function(e){return arguments.length?(r=+e,i):r},i},forceCollide:function(e){var t,n,r,i=1,a=1;function s(){for(var e,s,l,c,u,d,h,f=t.length,m=0;m<a;++m)for(s=sJ(t,hJ,fJ).visitAfter(o),e=0;e<f;++e)l=t[e],d=n[l.index],h=d*d,c=l.x+l.vx,u=l.y+l.vy,s.visit(p);function p(e,t,n,a,s){var o=e.data,f=e.r,m=d+f;if(!o)return t>c+m||a<c-m||n>u+m||s<u-m;if(o.index>l.index){var p=c-o.x-o.vx,g=u-o.y-o.vy,v=p*p+g*g;v<m*m&&(0===p&&(v+=(p=dJ(r))*p),0===g&&(v+=(g=dJ(r))*g),v=(m-(v=Math.sqrt(v)))/v*i,l.vx+=(p*=v)*(m=(f*=f)/(h+f)),l.vy+=(g*=v)*m,o.vx-=p*(m=1-m),o.vy-=g*m)}}}function o(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function l(){if(t){var r,i,a=t.length;for(n=new Array(a),r=0;r<a;++r)i=t[r],n[i.index]=+e(i,r,t)}}return"function"!=typeof e&&(e=uJ(null==e?1:+e)),s.initialize=function(e,n){t=e,r=n,l()},s.iterations=function(e){return arguments.length?(a=+e,s):a},s.strength=function(e){return arguments.length?(i=+e,s):i},s.radius=function(t){return arguments.length?(e="function"==typeof t?t:uJ(+t),l(),s):e},s},forceLink:function(e){var t,n,r,i,a,s,o=mJ,l=function(e){return 1/Math.min(i[e.source.index],i[e.target.index])},c=uJ(30),u=1;function d(r){for(var i=0,o=e.length;i<u;++i)for(var l,c,d,h,f,m,p,g=0;g<o;++g)c=(l=e[g]).source,h=(d=l.target).x+d.vx-c.x-c.vx||dJ(s),f=d.y+d.vy-c.y-c.vy||dJ(s),h*=m=((m=Math.sqrt(h*h+f*f))-n[g])/m*r*t[g],f*=m,d.vx-=h*(p=a[g]),d.vy-=f*p,c.vx+=h*(p=1-p),c.vy+=f*p}function h(){if(r){var s,l,c=r.length,u=e.length,d=new Map(r.map((e,t)=>[o(e,t,r),e]));for(s=0,i=new Array(c);s<u;++s)(l=e[s]).index=s,"object"!=typeof l.source&&(l.source=pJ(d,l.source)),"object"!=typeof l.target&&(l.target=pJ(d,l.target)),i[l.source.index]=(i[l.source.index]||0)+1,i[l.target.index]=(i[l.target.index]||0)+1;for(s=0,a=new Array(u);s<u;++s)l=e[s],a[s]=i[l.source.index]/(i[l.source.index]+i[l.target.index]);t=new Array(u),f(),n=new Array(u),m()}}function f(){if(r)for(var n=0,i=e.length;n<i;++n)t[n]=+l(e[n],n,e)}function m(){if(r)for(var t=0,i=e.length;t<i;++t)n[t]=+c(e[t],t,e)}return null==e&&(e=[]),d.initialize=function(e,t){r=e,s=t,h()},d.links=function(t){return arguments.length?(e=t,h(),d):e},d.id=function(e){return arguments.length?(o=e,d):o},d.iterations=function(e){return arguments.length?(u=+e,d):u},d.strength=function(e){return arguments.length?(l="function"==typeof e?e:uJ(+e),f(),d):l},d.distance=function(e){return arguments.length?(c="function"==typeof e?e:uJ(+e),m(),d):c},d},forceManyBody:function(){var e,t,n,r,i,a=uJ(-30),s=1,o=1/0,l=.81;function c(n){var i,a=e.length,s=sJ(e,vJ,yJ).visitAfter(d);for(r=n,i=0;i<a;++i)t=e[i],s.visit(h)}function u(){if(e){var t,n,r=e.length;for(i=new Array(r),t=0;t<r;++t)n=e[t],i[n.index]=+a(n,t,e)}}function d(e){var t,n,r,a,s,o=0,l=0;if(e.length){for(r=a=s=0;s<4;++s)(t=e[s])&&(n=Math.abs(t.value))&&(o+=t.value,l+=n,r+=n*t.x,a+=n*t.y);e.x=r/l,e.y=a/l}else{(t=e).x=t.data.x,t.y=t.data.y;do{o+=i[t.data.index]}while(t=t.next)}e.value=o}function h(e,a,c,u){if(!e.value)return!0;var d=e.x-t.x,h=e.y-t.y,f=u-a,m=d*d+h*h;if(f*f/l<m)return m<o&&(0===d&&(m+=(d=dJ(n))*d),0===h&&(m+=(h=dJ(n))*h),m<s&&(m=Math.sqrt(s*m)),t.vx+=d*e.value*r/m,t.vy+=h*e.value*r/m),!0;if(!(e.length||m>=o)){(e.data!==t||e.next)&&(0===d&&(m+=(d=dJ(n))*d),0===h&&(m+=(h=dJ(n))*h),m<s&&(m=Math.sqrt(s*m)));do{e.data!==t&&(f=i[e.data.index]*r/m,t.vx+=d*f,t.vy+=h*f)}while(e=e.next)}}return c.initialize=function(t,r){e=t,n=r,u()},c.strength=function(e){return arguments.length?(a="function"==typeof e?e:uJ(+e),u(),c):a},c.distanceMin=function(e){return arguments.length?(s=e*e,c):Math.sqrt(s)},c.distanceMax=function(e){return arguments.length?(o=e*e,c):Math.sqrt(o)},c.theta=function(e){return arguments.length?(l=e*e,c):Math.sqrt(l)},c},forceRadial:function(e,t,n){var r,i,a,s=uJ(.1);function o(e){for(var s=0,o=r.length;s<o;++s){var l=r[s],c=l.x-t||1e-6,u=l.y-n||1e-6,d=Math.sqrt(c*c+u*u),h=(a[s]-d)*i[s]*e/d;l.vx+=c*h,l.vy+=u*h}}function l(){if(r){var t,n=r.length;for(i=new Array(n),a=new Array(n),t=0;t<n;++t)a[t]=+e(r[t],t,r),i[t]=isNaN(a[t])?0:+s(r[t],t,r)}}return"function"!=typeof e&&(e=uJ(+e)),null==t&&(t=0),null==n&&(n=0),o.initialize=function(e){r=e,l()},o.strength=function(e){return arguments.length?(s="function"==typeof e?e:uJ(+e),l(),o):s},o.radius=function(t){return arguments.length?(e="function"==typeof t?t:uJ(+t),l(),o):e},o.x=function(e){return arguments.length?(t=+e,o):t},o.y=function(e){return arguments.length?(n=+e,o):n},o},forceSimulation:function(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,s=.6,o=new Map,l=NG(d),c=AY("tick","end"),u=function(){let e=1;return()=>(e=(1664525*e+1013904223)%gJ)/gJ}();function d(){h(),c.call("tick",t),n<r&&(l.stop(),c.call("end",t))}function h(r){var l,c,u=e.length;void 0===r&&(r=1);for(var d=0;d<r;++d)for(n+=(a-n)*i,o.forEach(function(e){e(n)}),l=0;l<u;++l)null==(c=e[l]).fx?c.x+=c.vx*=s:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=s:(c.y=c.fy,c.vy=0);return t}function f(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var i=10*Math.sqrt(.5+n),a=n*xJ;t.x=i*Math.cos(a),t.y=i*Math.sin(a)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function m(t){return t.initialize&&t.initialize(e,u),t}return null==e&&(e=[]),f(),t={tick:h,restart:function(){return l.restart(d),t},stop:function(){return l.stop(),t},nodes:function(n){return arguments.length?(e=n,f(),o.forEach(m),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(i=+e,t):+i},alphaTarget:function(e){return arguments.length?(a=+e,t):a},velocityDecay:function(e){return arguments.length?(s=1-e,t):1-s},randomSource:function(e){return arguments.length?(u=e,o.forEach(m),t):u},force:function(e,n){return arguments.length>1?(null==n?o.delete(e):o.set(e,m(n)),t):o.get(e)},find:function(t,n,r){var i,a,s,o,l,c=0,u=e.length;for(null==r?r=1/0:r*=r,c=0;c<u;++c)(s=(i=t-(o=e[c]).x)*i+(a=n-o.y)*a)<r&&(l=o,r=s);return l},on:function(e,n){return arguments.length>1?(c.on(e,n),t):c.on(e)}}},forceX:function(e){var t,n,r,i=uJ(.1);function a(e){for(var i,a=0,s=t.length;a<s;++a)(i=t[a]).vx+=(r[a]-i.x)*n[a]*e}function s(){if(t){var a,s=t.length;for(n=new Array(s),r=new Array(s),a=0;a<s;++a)n[a]=isNaN(r[a]=+e(t[a],a,t))?0:+i(t[a],a,t)}}return"function"!=typeof e&&(e=uJ(null==e?0:+e)),a.initialize=function(e){t=e,s()},a.strength=function(e){return arguments.length?(i="function"==typeof e?e:uJ(+e),s(),a):i},a.x=function(t){return arguments.length?(e="function"==typeof t?t:uJ(+t),s(),a):e},a},forceY:function(e){var t,n,r,i=uJ(.1);function a(e){for(var i,a=0,s=t.length;a<s;++a)(i=t[a]).vy+=(r[a]-i.y)*n[a]*e}function s(){if(t){var a,s=t.length;for(n=new Array(s),r=new Array(s),a=0;a<s;++a)n[a]=isNaN(r[a]=+e(t[a],a,t))?0:+i(t[a],a,t)}}return"function"!=typeof e&&(e=uJ(null==e?0:+e)),a.initialize=function(e){t=e,s()},a.strength=function(e){return arguments.length?(i="function"==typeof e?e:uJ(+e),s(),a):i},a.y=function(t){return arguments.length?(e="function"==typeof t?t:uJ(+t),s(),a):e},a},get format(){return HE},formatDefaultLocale:XE,formatLocale:GE,get formatPrefix(){return UE},formatSpecifier:FE,fsum:function(e,t){const n=new _N;if(void 0===t)for(let r of e)(r=+r)&&n.add(r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&n.add(i)}return+n},geoAlbers:j4,geoAlbersUsa:function(){var e,t,n,r,i,a,s=j4(),o=_4().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=_4().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(e,t){a=[e,t]}};function u(e){var t=e[0],s=e[1];return a=null,n.point(t,s),a||(r.point(t,s),a)||(i.point(t,s),a)}function d(){return e=t=null,u}return u.invert=function(e){var t=s.scale(),n=s.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?o:i>=.166&&i<.234&&r>=-.214&&r<-.115?l:s).invert(e)},u.stream=function(n){return e&&t===n?e:(r=[s.stream(t=n),o.stream(n),l.stream(n)],i=r.length,e={point:function(e,t){for(var n=-1;++n<i;)r[n].point(e,t)},sphere:function(){for(var e=-1;++e<i;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<i;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<i;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<i;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<i;)r[e].polygonEnd()}});var r,i},u.precision=function(e){return arguments.length?(s.precision(e),o.precision(e),l.precision(e),d()):s.precision()},u.scale=function(e){return arguments.length?(s.scale(e),o.scale(.35*e),l.scale(e),u.translate(s.translate())):s.scale()},u.translate=function(e){if(!arguments.length)return s.translate();var t=s.scale(),a=+e[0],u=+e[1];return n=s.translate(e).clipExtent([[a-.455*t,u-.238*t],[a+.455*t,u+.238*t]]).stream(c),r=o.translate([a-.307*t,u+.201*t]).clipExtent([[a-.425*t+bJ,u+.12*t+bJ],[a-.214*t-bJ,u+.234*t-bJ]]).stream(c),i=l.translate([a-.205*t,u+.212*t]).clipExtent([[a-.214*t+bJ,u+.166*t+bJ],[a-.115*t-bJ,u+.234*t-bJ]]).stream(c),d()},u.fitExtent=function(e,t){return u4(u,e,t)},u.fitSize=function(e,t){return d4(u,e,t)},u.fitWidth=function(e,t){return h4(u,e,t)},u.fitHeight=function(e,t){return f4(u,e,t)},u.scale(1070)},geoArea:function(e){return m0=new _N,XJ(e,p0),2*m0},geoAzimuthalEqualArea:function(){return y4(S4).scale(124.75).clipAngle(179.999)},geoAzimuthalEqualAreaRaw:S4,geoAzimuthalEquidistant:function(){return y4(C4).scale(79.4188).clipAngle(179.999)},geoAzimuthalEquidistantRaw:C4,geoBounds:function(e){var t,n,r,i,a,s,o;if(a0=i0=-(n0=r0=1/0),d0=[],XJ(e,$0),n=d0.length){for(d0.sort(Z0),t=1,a=[r=d0[0]];t<n;++t)J0(r,(i=d0[t])[0])||J0(r,i[1])?(Q0(r[0],i[1])>Q0(r[0],r[1])&&(r[1]=i[1]),Q0(i[0],r[1])>Q0(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(s=-1/0,t=0,r=a[n=a.length-1];t<=n;r=i,++t)i=a[t],(o=Q0(r[1],i[0]))>s&&(s=o,n0=i[0],i0=r[1])}return d0=h0=null,n0===1/0||r0===1/0?[[NaN,NaN],[NaN,NaN]]:[[n0,r0],[i0,a0]]},geoCentroid:function(e){C0=E0=P0=M0=O0=A0=T0=D0=0,R0=new _N,I0=new _N,z0=new _N,XJ(e,e1);var t=+R0,n=+I0,r=+z0,i=DJ(t,n,r);return i<wJ&&(t=A0,n=T0,r=D0,E0<bJ&&(t=P0,n=M0,r=O0),(i=DJ(t,n,r))<wJ)?[NaN,NaN]:[MJ(n,t)*SJ,VJ(r/i)*SJ]},geoCircle:function(){var e,t,n=d1([0,0]),r=d1(90),i=d1(2),a={point:function(n,r){e.push(n=t(n,r)),n[0]*=SJ,n[1]*=SJ}};function s(){var s=n.apply(this,arguments),o=r.apply(this,arguments)*CJ,l=i.apply(this,arguments)*CJ;return e=[],t=m1(-s[0]*CJ,-s[1]*CJ,0).invert,x1(a,o,l,1),s={type:"Polygon",coordinates:[e]},e=t=null,s}return s.center=function(e){return arguments.length?(n="function"==typeof e?e:d1([+e[0],+e[1]]),s):n},s.radius=function(e){return arguments.length?(r="function"==typeof e?e:d1(+e),s):r},s.precision=function(e){return arguments.length?(i="function"==typeof e?e:d1(+e),s):i},s},geoClipAntimeridian:O1,geoClipCircle:A1,geoClipExtent:function(){var e,t,n,r=0,i=0,a=960,s=500;return n={stream:function(n){return e&&t===n?e:e=F1(r,i,a,s)(t=n)},extent:function(o){return arguments.length?(r=+o[0][0],i=+o[0][1],a=+o[1][0],s=+o[1][1],e=t=null,n):[[r,i],[a,s]]}}},geoClipRectangle:F1,geoConicConformal:function(){return b4(O4).scale(109.5).parallels([30,30])},geoConicConformalRaw:O4,geoConicEqualArea:_4,geoConicEqualAreaRaw:w4,geoConicEquidistant:function(){return b4(T4).scale(131.154).center([0,13.9389])},geoConicEquidistantRaw:T4,geoContains:function(e,t){return(e&&q1.hasOwnProperty(e.type)?q1[e.type]:X1)(e,t)},geoDistance:Y1,geoEqualEarth:function(){return y4(F4).scale(177.158)},geoEqualEarthRaw:F4,geoEquirectangular:function(){return y4(A4).scale(152.63)},geoEquirectangularRaw:A4,geoGnomonic:function(){return y4(B4).scale(144.049).clipAngle(60)},geoGnomonicRaw:B4,geoGraticule:i2,geoGraticule10:function(){return i2()()},geoIdentity:function(){var e,t,n,r,i,a,s,o=1,l=0,c=0,u=1,d=1,h=0,f=null,m=1,p=1,g=o4({point:function(e,t){var n=x([e,t]);this.stream.point(n[0],n[1])}}),v=a2;function y(){return m=o*u,p=o*d,a=s=null,x}function x(n){var r=n[0]*m,i=n[1]*p;if(h){var a=i*e-r*t;r=r*e+i*t,i=a}return[r+l,i+c]}return x.invert=function(n){var r=n[0]-l,i=n[1]-c;if(h){var a=i*e+r*t;r=r*e-i*t,i=a}return[r/m,i/p]},x.stream=function(e){return a&&s===e?a:a=g(v(s=e))},x.postclip=function(e){return arguments.length?(v=e,f=n=r=i=null,y()):v},x.clipExtent=function(e){return arguments.length?(v=null==e?(f=n=r=i=null,a2):F1(f=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),y()):null==f?null:[[f,n],[r,i]]},x.scale=function(e){return arguments.length?(o=+e,y()):o},x.translate=function(e){return arguments.length?(l=+e[0],c=+e[1],y()):[l,c]},x.angle=function(n){return arguments.length?(t=zJ(h=n%360*CJ),e=OJ(h),y()):h*SJ},x.reflectX=function(e){return arguments.length?(u=e?-1:1,y()):u<0},x.reflectY=function(e){return arguments.length?(d=e?-1:1,y()):d<0},x.fitExtent=function(e,t){return u4(x,e,t)},x.fitSize=function(e,t){return d4(x,e,t)},x.fitWidth=function(e,t){return h4(x,e,t)},x.fitHeight=function(e,t){return f4(x,e,t)},x},geoInterpolate:function(e,t){var n=e[0]*CJ,r=e[1]*CJ,i=t[0]*CJ,a=t[1]*CJ,s=OJ(r),o=zJ(r),l=OJ(a),c=zJ(a),u=s*OJ(n),d=s*zJ(n),h=l*OJ(i),f=l*zJ(i),m=2*VJ(FJ($J(a-r)+s*l*$J(i-n))),p=zJ(m),g=m?function(e){var t=zJ(e*=m)/p,n=zJ(m-e)/p,r=n*u+t*h,i=n*d+t*f,a=n*o+t*c;return[MJ(i,r)*SJ,MJ(a,FJ(r*r+i*i))*SJ]}:function(){return[n*SJ,r*SJ]};return g.distance=m,g},geoLength:K1,geoMercator:function(){return P4(E4).scale(961/NJ)},geoMercatorRaw:E4,geoNaturalEarth1:function(){return y4(W4).scale(175.295)},geoNaturalEarth1Raw:W4,geoOrthographic:function(){return y4(V4).scale(249.5).clipAngle(90.000001)},geoOrthographicRaw:V4,geoPath:function(e,t){let n,r,i=3,a=4.5;function s(e){return e&&("function"==typeof a&&r.pointRadius(+a.apply(this,arguments)),XJ(e,n(r))),r.result()}return s.area=function(e){return XJ(e,n(h2)),h2.result()},s.measure=function(e){return XJ(e,n(Z2)),Z2.result()},s.bounds=function(e){return XJ(e,n(N2)),N2.result()},s.centroid=function(e){return XJ(e,n(R2)),R2.result()},s.projection=function(t){return arguments.length?(n=null==t?(e=null,a2):(e=t).stream,s):e},s.context=function(e){return arguments.length?(r=null==e?(t=null,new a4(i)):new H2(t=e),"function"!=typeof a&&r.pointRadius(a),s):t},s.pointRadius=function(e){return arguments.length?(a="function"==typeof e?e:(r.pointRadius(+e),+e),s):a},s.digits=function(e){if(!arguments.length)return i;if(null==e)i=null;else{const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);i=t}return null===t&&(r=new a4(i)),s},s.projection(e).digits(i).context(t)},geoProjection:y4,geoProjectionMutator:x4,geoRotation:y1,geoStereographic:function(){return y4($4).scale(250).clipAngle(142)},geoStereographicRaw:$4,geoStream:XJ,geoTransform:function(e){return{stream:o4(e)}},geoTransverseMercator:function(){var e=P4(K4),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)},geoTransverseMercatorRaw:K4,gray:function(e,t){return new xC(e,0,0,null==t?1:t)},greatest:aS,greatestIndex:function(e,t=eN){if(1===t.length)return eS(e,t);let n,r=-1,i=-1;for(const a of e)++i,(r<0?0===t(a,a):t(a,n)>0)&&(n=a,r=i);return r},group:MN,groupSort:function(e,t,n){return(2!==t.length?LN(TN(e,t,n),([e,t],[n,r])=>eN(t,r)||eN(e,n)):LN(MN(e,n),([e,n],[r,i])=>t(n,i)||eN(e,r))).map(([e])=>e)},groups:ON,hcl:NC,hierarchy:G4,histogram:ZN,hsl:iC,html:eJ,image:function(e,t){return new Promise(function(n,r){var i=new Image;for(var a in t)i[a]=t[a];i.onerror=r,i.onload=function(){n(i)},i.src=e})},index:function(e,...t){return IN(e,PN,RN,t)},indexes:function(e,...t){return IN(e,Array.from,RN,t)},interpolate:aE,interpolateArray:function(e,t){return(QC(t)?XC:ZC)(e,t)},interpolateBasis:FC,interpolateBasisClosed:BC,interpolateBlues:m5,interpolateBrBG:S3,interpolateBuGn:K3,interpolateBuPu:U3,interpolateCividis:function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+")"},interpolateCool:C5,interpolateCubehelix:jE,interpolateCubehelixDefault:N5,interpolateCubehelixLong:kE,interpolateDate:JC,interpolateDiscrete:function(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}},interpolateGnBu:q3,interpolateGreens:g5,interpolateGreys:y5,interpolateHcl:bE,interpolateHclLong:wE,interpolateHsl:vE,interpolateHslLong:yE,interpolateHue:function(e,t){var n=$C(+e,+t);return function(e){var t=n(e);return t-360*Math.floor(t/360)}},interpolateInferno:R5,interpolateLab:function(e,t){var n=HC((e=yC(e)).l,(t=yC(t)).l),r=HC(e.a,t.a),i=HC(e.b,t.b),a=HC(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=i(t),e.opacity=a(t),e+""}},interpolateMagma:D5,interpolateNumber:eE,interpolateNumberArray:XC,interpolateObject:tE,interpolateOrRd:X3,interpolateOranges:k5,interpolatePRGn:E3,interpolatePiYG:M3,interpolatePlasma:I5,interpolatePuBu:e5,interpolatePuBuGn:Z3,interpolatePuOr:A3,interpolatePuRd:n5,interpolatePurples:b5,interpolateRainbow:function(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return E5.h=360*e-100,E5.s=1.5-1.5*t,E5.l=.8-.9*t,E5+""},interpolateRdBu:D3,interpolateRdGy:I3,interpolateRdPu:i5,interpolateRdYlBu:L3,interpolateRdYlGn:B3,interpolateReds:_5,interpolateRgb:UC,interpolateRgbBasis:qC,interpolateRgbBasisClosed:GC,interpolateRound:sE,interpolateSinebow:function(e){var t;return e=(.5-e)*Math.PI,P5.r=255*(t=Math.sin(e))*t,P5.g=255*(t=Math.sin(e+M5))*t,P5.b=255*(t=Math.sin(e+O5))*t,P5+""},interpolateSpectral:V3,interpolateString:iE,interpolateTransformCss:hE,interpolateTransformSvg:fE,interpolateTurbo:function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"},interpolateViridis:T5,interpolateWarm:S5,interpolateYlGn:l5,interpolateYlGnBu:s5,interpolateYlOrBr:u5,interpolateYlOrRd:h5,interpolateZoom:pE,interrupt:zG,intersection:function(e,...t){e=new kN(e),t=t.map(vS);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e},interval:function(e,t,n){var r=new kG,i=t;return null==t?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(e,t,n){t=+t,n=null==n?_G():+n,r._restart(function a(s){s+=i,r._restart(a,i+=t,n),e(s)},t,n)},r.restart(e,t,n),r)},isoFormat:xA,isoParse:bA,json:function(e,t){return fetch(e,t).then(QZ)},lab:yC,lch:function(e,t,n,r){return 1===arguments.length?kC(e):new SC(n,t,e,null==r?1:r)},least:function(e,t=eN){let n,r=!1;if(1===t.length){let i;for(const a of e){const e=t(a);(r?eN(e,i)<0:0===eN(e,e))&&(n=a,i=e,r=!0)}}else for(const i of e)(r?t(i,n)<0:0===t(i,i))&&(n=i,r=!0);return n},leastIndex:hS,line:rp,lineRadial:dp,link:wp,linkHorizontal:function(){return wp(gp)},linkRadial:function(){const e=wp(yp);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e},linkVertical:function(){return wp(vp)},local:Xq,map:function(e,t){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof t)throw new TypeError("mapper is not a function");return Array.from(e,(n,r)=>t(n,r,e))},matcher:YY,max:JN,maxIndex:eS,mean:function(e,t){let n=0,r=0;if(void 0===t)for(let i of e)null!=i&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of e)null!=(a=t(a,++i,e))&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n},median:function(e,t){return sS(e,.5,t)},medianIndex:function(e,t){return lS(e,.5,t)},merge:cS,min:tS,minIndex:nS,mode:function(e,t){const n=new jN;if(void 0===t)for(let a of e)null!=a&&a>=a&&n.set(a,(n.get(a)||0)+1);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&i>=i&&n.set(i,(n.get(i)||0)+1)}let r,i=0;for(const[a,s]of n)s>i&&(i=s,r=a);return r},namespace:LY,namespaces:zY,nice:XN,now:_G,pack:function(){var e=null,t=1,n=1,r=r6;function i(i){const a=s6();return i.x=t/2,i.y=n/2,e?i.eachBefore(w6(e)).eachAfter(_6(r,.5,a)).eachBefore(j6(1)):i.eachBefore(w6(b6)).eachAfter(_6(r6,1,a)).eachAfter(_6(r,i.r/Math.min(t,n),a)).eachBefore(j6(Math.min(t,n)/(2*i.r))),i}return i.radius=function(t){return arguments.length?(e=t6(t),i):e},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(e){return arguments.length?(r="function"==typeof e?e:i6(+e),i):r},i},packEnclose:function(e){return o6(e,s6())},packSiblings:function(e){return x6(e,s6()),e},pairs:function(e,t=uS){const n=[];let r,i=!1;for(const a of e)i&&n.push(t(r,a)),r=a,i=!0;return n},partition:function(){var e=1,t=1,n=0,r=!1;function i(i){var a=i.height+1;return i.x0=i.y0=n,i.x1=e,i.y1=t/a,i.eachBefore(function(e,t){return function(r){r.children&&N6(r,r.x0,e*(r.depth+1)/t,r.x1,e*(r.depth+2)/t);var i=r.x0,a=r.y0,s=r.x1-n,o=r.y1-n;s<i&&(i=s=(i+s)/2),o<a&&(a=o=(a+o)/2),r.x0=i,r.y0=a,r.x1=s,r.y1=o}}(t,a)),r&&i.eachBefore(k6),i}return i.round=function(e){return arguments.length?(r=!!e,i):r},i.size=function(n){return arguments.length?(e=+n[0],t=+n[1],i):[e,t]},i.padding=function(e){return arguments.length?(n=+e,i):n},i},path:$m,pathRound:function(e=3){return new Vm(+e)},permute:zN,pie:function(){var e=sp,t=ap,n=null,r=km(0),i=km(Rm),a=km(0);function s(s){var o,l,c,u,d,h=(s=Zm(s)).length,f=0,m=new Array(h),p=new Array(h),g=+r.apply(this,arguments),v=Math.min(Rm,Math.max(-Rm,i.apply(this,arguments)-g)),y=Math.min(Math.abs(v)/h,a.apply(this,arguments)),x=y*(v<0?-1:1);for(o=0;o<h;++o)(d=p[m[o]=o]=+e(s[o],o,s))>0&&(f+=d);for(null!=t?m.sort(function(e,n){return t(p[e],p[n])}):null!=n&&m.sort(function(e,t){return n(s[e],s[t])}),o=0,c=f?(v-h*x)/f:0;o<h;++o,g=u)l=m[o],u=g+((d=p[l])>0?d*c:0)+x,p[l]={data:s[l],index:o,value:d,startAngle:g,endAngle:u,padAngle:y};return p}return s.value=function(t){return arguments.length?(e="function"==typeof t?t:km(+t),s):e},s.sortValues=function(e){return arguments.length?(t=e,n=null,s):t},s.sort=function(e){return arguments.length?(n=e,t=null,s):n},s.startAngle=function(e){return arguments.length?(r="function"==typeof e?e:km(+e),s):r},s.endAngle=function(e){return arguments.length?(i="function"==typeof e?e:km(+e),s):i},s.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:km(+e),s):a},s},piecewise:NE,pointRadial:fp,pointer:Jq,pointers:function(e,t){return e.target&&(e=Zq(e),void 0===t&&(t=e.currentTarget),e=e.touches||[e]),Array.from(e,e=>Jq(e,t))},polygonArea:function(e){for(var t,n=-1,r=e.length,i=e[r-1],a=0;++n<r;)t=i,i=e[n],a+=t[1]*i[0]-t[0]*i[1];return a/2},polygonCentroid:function(e){for(var t,n,r=-1,i=e.length,a=0,s=0,o=e[i-1],l=0;++r<i;)t=o,o=e[r],l+=n=t[0]*o[1]-o[0]*t[1],a+=(t[0]+o[0])*n,s+=(t[1]+o[1])*n;return[a/(l*=3),s/l]},polygonContains:function(e,t){for(var n,r,i=e.length,a=e[i-1],s=t[0],o=t[1],l=a[0],c=a[1],u=!1,d=0;d<i;++d)n=(a=e[d])[0],(r=a[1])>o!=c>o&&s<(l-n)*(o-r)/(c-r)+n&&(u=!u),l=n,c=r;return u},polygonHull:function(e){if((n=e.length)<3)return null;var t,n,r=new Array(n),i=new Array(n);for(t=0;t<n;++t)r[t]=[+e[t][0],+e[t][1],t];for(r.sort(H6),t=0;t<n;++t)i[t]=[r[t][0],-r[t][1]];var a=U6(r),s=U6(i),o=s[0]===a[0],l=s[s.length-1]===a[a.length-1],c=[];for(t=a.length-1;t>=0;--t)c.push(e[r[a[t]][2]]);for(t=+o;t<s.length-l;++t)c.push(e[r[s[t]][2]]);return c},polygonLength:function(e){for(var t,n,r=-1,i=e.length,a=e[i-1],s=a[0],o=a[1],l=0;++r<i;)t=s,n=o,t-=s=(a=e[r])[0],n-=o=a[1],l+=Math.hypot(t,n);return l},precisionFixed:QE,precisionPrefix:ZE,precisionRound:JE,quadtree:sJ,quantile:sS,quantileIndex:lS,quantileSorted:oS,quantize:function(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n},quickselect:rS,radialArea:hp,radialLine:dp,randomBates:J6,randomBernoulli:n3,randomBeta:a3,randomBinomial:s3,randomCauchy:l3,randomExponential:e3,randomGamma:i3,randomGeometric:r3,randomInt:G6,randomIrwinHall:Z6,randomLcg:function(e=Math.random()){let t=0|(0<=e&&e<1?e/d3:Math.abs(e));return()=>(t=1664525*t+1013904223|0,d3*(t>>>0))},randomLogNormal:Q6,randomLogistic:c3,randomNormal:X6,randomPareto:t3,randomPoisson:u3,randomUniform:q6,randomWeibull:o3,range:dS,rank:function(e,t=eN){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");let n=Array.from(e);const r=new Float64Array(n.length);2!==t.length&&(n=n.map(t),t=eN);const i=(e,r)=>t(n[e],n[r]);let a,s;return(e=Uint32Array.from(n,(e,t)=>t)).sort(t===eN?(e,t)=>BN(n[e],n[t]):FN(i)),e.forEach((e,t)=>{const n=i(e,void 0===a?e:a);n>=0?((void 0===a||n>0)&&(a=e,s=t),r[e]=s):r[e]=NaN}),r},reduce:function(e,t,n){if("function"!=typeof t)throw new TypeError("reducer is not a function");const r=e[Symbol.iterator]();let i,a,s=-1;if(arguments.length<3){if(({done:i,value:n}=r.next()),i)return;++s}for(;({done:i,value:a}=r.next()),!i;)n=t(n,a,++s,e);return n},reverse:function(e){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(e).reverse()},rgb:GS,ribbon:function(){return EQ()},ribbonArrow:function(){return EQ(CQ)},rollup:TN,rollups:DN,scaleBand:kS,scaleDiverging:RA,scaleDivergingLog:IA,scaleDivergingPow:LA,scaleDivergingSqrt:FA,scaleDivergingSymlog:zA,scaleIdentity:rP,scaleImplicit:_S,scaleLinear:nP,scaleLog:hP,scaleOrdinal:jS,scalePoint:SS,scalePow:wP,scaleQuantile:NP,scaleQuantize:SP,scaleRadial:kP,scaleSequential:EA,scaleSequentialLog:PA,scaleSequentialPow:OA,scaleSequentialQuantile:TA,scaleSequentialSqrt:AA,scaleSequentialSymlog:MA,scaleSqrt:_P,scaleSymlog:gP,scaleThreshold:CP,scaleTime:kA,scaleUtc:NA,scan:function(e,t){const n=hS(e,t);return n<0?void 0:n},schemeAccent:m3,schemeBlues:f5,schemeBrBG:N3,schemeBuGn:$3,schemeBuPu:H3,schemeCategory10:f3,schemeDark2:p3,schemeGnBu:Y3,schemeGreens:p5,schemeGreys:v5,schemeObservable10:g3,schemeOrRd:G3,schemeOranges:j5,schemePRGn:C3,schemePaired:v3,schemePastel1:y3,schemePastel2:x3,schemePiYG:P3,schemePuBu:J3,schemePuBuGn:Q3,schemePuOr:O3,schemePuRd:t5,schemePurples:x5,schemeRdBu:T3,schemeRdGy:R3,schemeRdPu:r5,schemeRdYlBu:z3,schemeRdYlGn:F3,schemeReds:w5,schemeSet1:b3,schemeSet2:w3,schemeSet3:_3,schemeSpectral:W3,schemeTableau10:j3,schemeYlGn:o5,schemeYlGnBu:a5,schemeYlOrBr:c5,schemeYlOrRd:d5,select:qq,selectAll:function(e){return"string"==typeof e?new Uq([document.querySelectorAll(e)],[document.documentElement]):new Uq([KY(e)],Hq)},selection:Yq,selector:$Y,selectorAll:UY,shuffle:fS,shuffler:mS,some:function(e,t){if("function"!=typeof t)throw new TypeError("test is not a function");let n=-1;for(const r of e)if(t(r,++n,e))return!0;return!1},sort:LN,stack:Vg,stackOffsetDiverging:function(e,t){if((o=e.length)>0)for(var n,r,i,a,s,o,l=0,c=e[t[0]].length;l<c;++l)for(a=s=0,n=0;n<o;++n)(i=(r=e[t[n]][l])[1]-r[0])>0?(r[0]=a,r[1]=a+=i):i<0?(r[1]=s,r[0]=s+=i):(r[0]=0,r[1]=i)},stackOffsetExpand:$g,stackOffsetNone:Lg,stackOffsetSilhouette:Kg,stackOffsetWiggle:Hg,stackOrderAppearance:Ug,stackOrderAscending:qg,stackOrderDescending:function(e){return qg(e).reverse()},stackOrderInsideOut:function(e){var t,n,r=e.length,i=e.map(Gg),a=Ug(e),s=0,o=0,l=[],c=[];for(t=0;t<r;++t)n=a[t],s<o?(s+=i[n],l.push(n)):(o+=i[n],c.push(n));return c.reverse().concat(l)},stackOrderNone:Fg,stackOrderReverse:function(e){return Fg(e).reverse()},stratify:function(){var e,t=P6,n=M6;function r(r){var i,a,s,o,l,c,u,d,h=Array.from(r),f=t,m=n,p=new Map;if(null!=e){const t=h.map((t,n)=>function(e){let t=(e=`${e}`).length;return A6(e,t-1)&&!A6(e,t-2)&&(e=e.slice(0,-1)),"/"===e[0]?e:`/${e}`}(e(t,n,r))),n=t.map(O6),i=new Set(t).add("");for(const e of n)i.has(e)||(i.add(e),t.push(e),n.push(O6(e)),h.push(E6));f=(e,n)=>t[n],m=(e,t)=>n[t]}for(s=0,i=h.length;s<i;++s)a=h[s],c=h[s]=new e6(a),null!=(u=f(a,s,r))&&(u+="")&&(d=c.id=u,p.set(d,p.has(d)?C6:c)),null!=(u=m(a,s,r))&&(u+="")&&(c.parent=u);for(s=0;s<i;++s)if(u=(c=h[s]).parent){if(!(l=p.get(u)))throw new Error("missing: "+u);if(l===C6)throw new Error("ambiguous: "+u);l.children?l.children.push(c):l.children=[c],c.parent=l}else{if(o)throw new Error("multiple roots");o=c}if(!o)throw new Error("no root");if(null!=e){for(;o.data===E6&&1===o.children.length;)o=o.children[0],--i;for(let e=h.length-1;e>=0&&(c=h[e]).data===E6;--e)c.data=null}if(o.parent=S6,o.eachBefore(function(e){e.depth=e.parent.depth+1,--i}).eachBefore(J4),o.parent=null,i>0)throw new Error("cycle");return o}return r.id=function(e){return arguments.length?(t=t6(e),r):t},r.parentId=function(e){return arguments.length?(n=t6(e),r):n},r.path=function(t){return arguments.length?(e=t6(t),r):e},r},style:gq,subset:function(e,t){return yS(t,e)},sum:function(e,t){let n=0;if(void 0===t)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n},superset:yS,svg:tJ,symbol:Gp,symbolAsterisk:jp,symbolCircle:kp,symbolCross:Np,symbolDiamond:Ep,symbolDiamond2:Pp,symbolPlus:Mp,symbolSquare:Op,symbolSquare2:Ap,symbolStar:Ip,symbolTimes:Up,symbolTriangle:Lp,symbolTriangle2:Bp,symbolWye:Hp,symbolX:Up,symbols:Yp,symbolsFill:Yp,symbolsStroke:qp,text:YZ,thresholdFreedmanDiaconis:function(e,t,n){const r=pN(e),i=sS(e,.75)-sS(e,.25);return r&&i?Math.ceil((n-t)/(2*i*Math.pow(r,-1/3))):1},thresholdScott:function(e,t,n){const r=pN(e),i=bN(e);return r&&i?Math.ceil((n-t)*Math.cbrt(r)/(3.49*i)):1},thresholdSturges:QN,tickFormat:eP,tickIncrement:qN,tickStep:GN,ticks:YN,timeDay:XP,timeDays:QP,get timeFormat(){return XM},timeFormatDefaultLocale:vA,timeFormatLocale:qM,timeFriday:lM,timeFridays:pM,timeHour:UP,timeHours:YP,timeInterval:MP,timeMillisecond:OP,timeMilliseconds:AP,timeMinute:VP,timeMinutes:$P,timeMonday:iM,timeMondays:dM,timeMonth:AM,timeMonths:TM,get timeParse(){return QM},timeSaturday:cM,timeSaturdays:gM,timeSecond:BP,timeSeconds:WP,timeSunday:rM,timeSundays:uM,timeThursday:oM,timeThursdays:mM,timeTickInterval:KM,timeTicks:$M,timeTuesday:aM,timeTuesdays:hM,timeWednesday:sM,timeWednesdays:fM,timeWeek:rM,timeWeeks:uM,timeYear:IM,timeYears:zM,timeout:MG,timer:NG,timerFlush:SG,transition:iX,transpose:pS,tree:function(){var e=T6,t=1,n=1,r=null;function i(i){var l=function(e){for(var t,n,r,i,a,s=new L6(e,0),o=[s];t=o.pop();)if(r=t._.children)for(t.children=new Array(a=r.length),i=a-1;i>=0;--i)o.push(n=t.children[i]=new L6(r[i],i)),n.parent=t;return(s.parent=new L6(null,0)).children=[s],s}(i);if(l.eachAfter(a),l.parent.m=-l.z,l.eachBefore(s),r)i.eachBefore(o);else{var c=i,u=i,d=i;i.eachBefore(function(e){e.x<c.x&&(c=e),e.x>u.x&&(u=e),e.depth>d.depth&&(d=e)});var h=c===u?1:e(c,u)/2,f=h-c.x,m=t/(u.x+h+f),p=n/(d.depth||1);i.eachBefore(function(e){e.x=(e.x+f)*m,e.y=e.depth*p})}return i}function a(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n){!function(e){for(var t,n=0,r=0,i=e.children,a=i.length;--a>=0;)(t=i[a]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}(t);var a=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-a):t.z=a}else i&&(t.z=i.z+e(t._,i._));t.parent.A=function(t,n,r){if(n){for(var i,a=t,s=t,o=n,l=a.parent.children[0],c=a.m,u=s.m,d=o.m,h=l.m;o=R6(o),a=D6(a),o&&a;)l=D6(l),(s=R6(s)).a=t,(i=o.z+d-a.z-c+e(o._,a._))>0&&(I6(z6(o,t,r),t,i),c+=i,u+=i),d+=o.m,c+=a.m,h+=l.m,u+=s.m;o&&!R6(s)&&(s.t=o,s.m+=d-u),a&&!D6(l)&&(l.t=a,l.m+=c-h,r=t)}return r}(t,i,t.parent.A||r[0])}function s(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function o(e){e.x*=t,e.y=e.depth*n}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i},treemap:function(){var e=V6,t=!1,n=1,r=1,i=[0],a=r6,s=r6,o=r6,l=r6,c=r6;function u(e){return e.x0=e.y0=0,e.x1=n,e.y1=r,e.eachBefore(d),i=[0],t&&e.eachBefore(k6),e}function d(t){var n=i[t.depth],r=t.x0+n,u=t.y0+n,d=t.x1-n,h=t.y1-n;d<r&&(r=d=(r+d)/2),h<u&&(u=h=(u+h)/2),t.x0=r,t.y0=u,t.x1=d,t.y1=h,t.children&&(n=i[t.depth+1]=a(t)/2,r+=c(t)-n,u+=s(t)-n,(d-=o(t)-n)<r&&(r=d=(r+d)/2),(h-=l(t)-n)<u&&(u=h=(u+h)/2),e(t,r,u,d,h))}return u.round=function(e){return arguments.length?(t=!!e,u):t},u.size=function(e){return arguments.length?(n=+e[0],r=+e[1],u):[n,r]},u.tile=function(t){return arguments.length?(e=n6(t),u):e},u.padding=function(e){return arguments.length?u.paddingInner(e).paddingOuter(e):u.paddingInner()},u.paddingInner=function(e){return arguments.length?(a="function"==typeof e?e:i6(+e),u):a},u.paddingOuter=function(e){return arguments.length?u.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):u.paddingTop()},u.paddingTop=function(e){return arguments.length?(s="function"==typeof e?e:i6(+e),u):s},u.paddingRight=function(e){return arguments.length?(o="function"==typeof e?e:i6(+e),u):o},u.paddingBottom=function(e){return arguments.length?(l="function"==typeof e?e:i6(+e),u):l},u.paddingLeft=function(e){return arguments.length?(c="function"==typeof e?e:i6(+e),u):c},u},treemapBinary:function(e,t,n,r,i){var a,s,o=e.children,l=o.length,c=new Array(l+1);for(c[0]=s=a=0;a<l;++a)c[a+1]=s+=o[a].value;!function e(t,n,r,i,a,s,l){if(t>=n-1){var u=o[t];return u.x0=i,u.y0=a,u.x1=s,void(u.y1=l)}for(var d=c[t],h=r/2+d,f=t+1,m=n-1;f<m;){var p=f+m>>>1;c[p]<h?f=p+1:m=p}h-c[f-1]<c[f]-h&&t+1<f&&--f;var g=c[f]-d,v=r-g;if(s-i>l-a){var y=r?(i*v+s*g)/r:s;e(t,f,g,i,a,y,l),e(f,n,v,y,a,s,l)}else{var x=r?(a*v+l*g)/r:l;e(t,f,g,i,a,s,x),e(f,n,v,i,x,s,l)}}(0,l,e.value,t,n,r,i)},treemapDice:N6,treemapResquarify:$6,treemapSlice:F6,treemapSliceDice:function(e,t,n,r,i){(1&e.depth?F6:N6)(e,t,n,r,i)},treemapSquarify:V6,tsv:XZ,tsvFormat:LZ,tsvFormatBody:FZ,tsvFormatRow:WZ,tsvFormatRows:BZ,tsvFormatValue:VZ,tsvParse:IZ,tsvParseRows:zZ,union:function(...e){const t=new kN;for(const n of e)for(const e of n)t.add(e);return t},unixDay:eM,unixDays:tM,utcDay:ZP,utcDays:JP,get utcFormat(){return ZM},utcFriday:jM,utcFridays:MM,utcHour:qP,utcHours:GP,utcMillisecond:OP,utcMilliseconds:AP,utcMinute:KP,utcMinutes:HP,utcMonday:xM,utcMondays:SM,utcMonth:DM,utcMonths:RM,get utcParse(){return JM},utcSaturday:kM,utcSaturdays:OM,utcSecond:BP,utcSeconds:WP,utcSunday:yM,utcSundays:NM,utcThursday:_M,utcThursdays:PM,utcTickInterval:VM,utcTicks:WM,utcTuesday:bM,utcTuesdays:CM,utcWednesday:wM,utcWednesdays:EM,utcWeek:yM,utcWeeks:NM,utcYear:LM,utcYears:FM,variance:xN,window:hq,xml:JZ,zip:function(){return pS(arguments)},zoom:function(){var e,t,n,r=K5,i=H5,a=G5,s=Y5,o=q5,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,d=pE,h=AY("start","zoom","end"),f=0,m=10;function p(e){e.property("__zoom",U5).on("wheel.zoom",_,{passive:!1}).on("mousedown.zoom",j).on("dblclick.zoom",k).filter(o).on("touchstart.zoom",N).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",C).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(e,t){return(t=Math.max(l[0],Math.min(l[1],t)))===e.k?e:new F5(t,e.x,e.y)}function v(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new F5(e.k,r,i)}function y(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function x(e,t,n,r){e.on("start.zoom",function(){b(this,arguments).event(r).start()}).on("interrupt.zoom end.zoom",function(){b(this,arguments).event(r).end()}).tween("zoom",function(){var e=this,a=arguments,s=b(e,a).event(r),o=i.apply(e,a),l=null==n?y(o):"function"==typeof n?n.apply(e,a):n,c=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),u=e.__zoom,h="function"==typeof t?t.apply(e,a):t,f=d(u.invert(l).concat(c/u.k),h.invert(l).concat(c/h.k));return function(e){if(1===e)e=h;else{var t=f(e),n=c/t[2];e=new F5(n,l[0]-t[0]*n,l[1]-t[1]*n)}s.zoom(null,e)}})}function b(e,t,n){return!n&&e.__zooming||new w(e,t)}function w(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=i.apply(e,t),this.taps=0}function _(e,...t){if(r.apply(this,arguments)){var n=b(this,t).event(e),i=this.__zoom,o=Math.max(l[0],Math.min(l[1],i.k*Math.pow(2,s.apply(this,arguments)))),u=Jq(e);if(n.wheel)n.mouse[0][0]===u[0]&&n.mouse[0][1]===u[1]||(n.mouse[1]=i.invert(n.mouse[0]=u)),clearTimeout(n.wheel);else{if(i.k===o)return;n.mouse=[u,i.invert(u)],zG(this),n.start()}$5(e),n.wheel=setTimeout(function(){n.wheel=null,n.end()},150),n.zoom("mouse",a(v(g(i,o),n.mouse[0],n.mouse[1]),n.extent,c))}}function j(e,...t){if(!n&&r.apply(this,arguments)){var i=e.currentTarget,s=b(this,t,!0).event(e),o=qq(e.view).on("mousemove.zoom",function(e){if($5(e),!s.moved){var t=e.clientX-u,n=e.clientY-d;s.moved=t*t+n*n>f}s.event(e).zoom("mouse",a(v(s.that.__zoom,s.mouse[0]=Jq(e,i),s.mouse[1]),s.extent,c))},!0).on("mouseup.zoom",function(e){o.on("mousemove.zoom mouseup.zoom",null),aG(e.view,s.moved),$5(e),s.event(e).end()},!0),l=Jq(e,i),u=e.clientX,d=e.clientY;iG(e.view),V5(e),s.mouse=[l,this.__zoom.invert(l)],zG(this),s.start()}}function k(e,...t){if(r.apply(this,arguments)){var n=this.__zoom,s=Jq(e.changedTouches?e.changedTouches[0]:e,this),o=n.invert(s),l=n.k*(e.shiftKey?.5:2),d=a(v(g(n,l),s,o),i.apply(this,t),c);$5(e),u>0?qq(this).transition().duration(u).call(x,d,s,e):qq(this).call(p.transform,d,s,e)}}function N(n,...i){if(r.apply(this,arguments)){var a,s,o,l,c=n.touches,u=c.length,d=b(this,i,n.changedTouches.length===u).event(n);for(V5(n),s=0;s<u;++s)l=[l=Jq(o=c[s],this),this.__zoom.invert(l),o.identifier],d.touch0?d.touch1||d.touch0[2]===l[2]||(d.touch1=l,d.taps=0):(d.touch0=l,a=!0,d.taps=1+!!e);e&&(e=clearTimeout(e)),a&&(d.taps<2&&(t=l[0],e=setTimeout(function(){e=null},500)),zG(this),d.start())}}function S(e,...t){if(this.__zooming){var n,r,i,s,o=b(this,t).event(e),l=e.changedTouches,u=l.length;for($5(e),n=0;n<u;++n)i=Jq(r=l[n],this),o.touch0&&o.touch0[2]===r.identifier?o.touch0[0]=i:o.touch1&&o.touch1[2]===r.identifier&&(o.touch1[0]=i);if(r=o.that.__zoom,o.touch1){var d=o.touch0[0],h=o.touch0[1],f=o.touch1[0],m=o.touch1[1],p=(p=f[0]-d[0])*p+(p=f[1]-d[1])*p,y=(y=m[0]-h[0])*y+(y=m[1]-h[1])*y;r=g(r,Math.sqrt(p/y)),i=[(d[0]+f[0])/2,(d[1]+f[1])/2],s=[(h[0]+m[0])/2,(h[1]+m[1])/2]}else{if(!o.touch0)return;i=o.touch0[0],s=o.touch0[1]}o.zoom("touch",a(v(r,i,s),o.extent,c))}}function C(e,...r){if(this.__zooming){var i,a,s=b(this,r).event(e),o=e.changedTouches,l=o.length;for(V5(e),n&&clearTimeout(n),n=setTimeout(function(){n=null},500),i=0;i<l;++i)a=o[i],s.touch0&&s.touch0[2]===a.identifier?delete s.touch0:s.touch1&&s.touch1[2]===a.identifier&&delete s.touch1;if(s.touch1&&!s.touch0&&(s.touch0=s.touch1,delete s.touch1),s.touch0)s.touch0[1]=this.__zoom.invert(s.touch0[0]);else if(s.end(),2===s.taps&&(a=Jq(a,this),Math.hypot(t[0]-a[0],t[1]-a[1])<m)){var c=qq(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return p.transform=function(e,t,n,r){var i=e.selection?e.selection():e;i.property("__zoom",U5),e!==i?x(e,t,n,r):i.interrupt().each(function(){b(this,arguments).event(r).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()})},p.scaleBy=function(e,t,n,r){p.scaleTo(e,function(){return this.__zoom.k*("function"==typeof t?t.apply(this,arguments):t)},n,r)},p.scaleTo=function(e,t,n,r){p.transform(e,function(){var e=i.apply(this,arguments),r=this.__zoom,s=null==n?y(e):"function"==typeof n?n.apply(this,arguments):n,o=r.invert(s),l="function"==typeof t?t.apply(this,arguments):t;return a(v(g(r,l),s,o),e,c)},n,r)},p.translateBy=function(e,t,n,r){p.transform(e,function(){return a(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),c)},null,r)},p.translateTo=function(e,t,n,r,s){p.transform(e,function(){var e=i.apply(this,arguments),s=this.__zoom,o=null==r?y(e):"function"==typeof r?r.apply(this,arguments):r;return a(B5.translate(o[0],o[1]).scale(s.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,c)},r,s)},w.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=qq(this.that).datum();h.call(e,this.that,new L5(e,{sourceEvent:this.sourceEvent,target:p,transform:this.that.__zoom,dispatch:h}),t)}},p.wheelDelta=function(e){return arguments.length?(s="function"==typeof e?e:z5(+e),p):s},p.filter=function(e){return arguments.length?(r="function"==typeof e?e:z5(!!e),p):r},p.touchable=function(e){return arguments.length?(o="function"==typeof e?e:z5(!!e),p):o},p.extent=function(e){return arguments.length?(i="function"==typeof e?e:z5([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),p):i},p.scaleExtent=function(e){return arguments.length?(l[0]=+e[0],l[1]=+e[1],p):[l[0],l[1]]},p.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],p):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},p.constrain=function(e){return arguments.length?(a=e,p):a},p.duration=function(e){return arguments.length?(u=+e,p):u},p.interpolate=function(e){return arguments.length?(d=e,p):d},p.on=function(){var e=h.on.apply(h,arguments);return e===h?p:e},p.clickDistance=function(e){return arguments.length?(f=(e=+e)*e,p):Math.sqrt(f)},p.tapDistance=function(e){return arguments.length?(m=+e,p):m},p},zoomIdentity:B5,zoomTransform:W5},Symbol.toStringTag,{value:"Module"})),Q5=a(X5);var Z5,J5,e8,t8,n8,r8={exports:{}};function i8(){return J5?Z5:(J5=1,Z5="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}function a8(){if(t8)return e8;t8=1;var e=i8();function t(){}function n(){}return n.resetWarningCache=t,e8=function(){function r(t,n,r,i,a,s){if(s!==e){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function i(){return r}r.isRequired=r;var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a}}function s8(){return n8||(n8=1,r8.exports=a8()()),r8.exports}var o8,l8={};function c8(){if(o8)return l8;o8=1,Object.defineProperty(l8,"__esModule",{value:!0}),l8.setArcData=l8.addText=l8.calculateRotation=l8.updateDimensions=l8.centerGraph=l8.calculateRadius=void 0;var e=Q5;l8.calculateRadius=function(e,n,r,i,a){e.current<2*n.current?r.current=(e.current-i.current.left-i.current.right)/2:r.current=n.current-i.current.top-i.current.bottom,t(e,a,r,i)};var t=function(e,t,n,r){r.current.left=e.current/2-n.current+r.current.right,t.current.attr("transform","translate("+r.current.left+", "+r.current.top+")")};l8.centerGraph=t,l8.updateDimensions=function(e,t,n,r,i){var a=e.marginInPercent,s=t.current.node().getBoundingClientRect(),o=s.width,l=s.height;n.current.left=o*a,n.current.right=o*a,r.current=o-n.current.left-n.current.right,n.current.top=l*a,n.current.bottom=l*a,i.current=r.current/2-n.current.top-n.current.bottom},l8.calculateRotation=function(e,t,n,r){var a=t.current*r,s=n.current/500*15,o=i(e),l=[0,-s/2],c=[l[0]-a*Math.cos(o),l[1]-a*Math.sin(o)],u=[l[0]-s*Math.cos(o-Math.PI/2),l[1]-s*Math.sin(o-Math.PI/2)],d=[l[0]-s*Math.cos(o+Math.PI/2),l[1]-s*Math.sin(o+Math.PI/2)];return"M ".concat(u[0]," ").concat(u[1]," L ").concat(c[0]," ").concat(c[1]," L ").concat(d[0]," ").concat(d[1])},l8.addText=function(e,t,n,i,a){var s=t.formatTextValue,o=t.fontSize,l=s?s(r(e)):r(e)+"%";a.current.append("g").attr("class","text-group").attr("transform","translate(".concat(n.current,", ").concat(n.current/2+20,")")).append("text").text(l).style("font-size",function(){return o||"".concat(i.current/11/(l.length>10?l.length/10:1),"px")}).style("fill",t.textColor).style("text-anchor","middle")},l8.setArcData=function(e,t,r,i){t.current=e.arcsLength?e.arcsLength.length:e.nrOfLevels,t.current===e.colors.length?r.current=e.colors:r.current=n(e,t),i.current=[];for(var a=0;a<t.current;a++){var s={value:e.arcsLength&&e.arcsLength.length>a?e.arcsLength[a]:1,color:r.current[a]};i.current.push(s)}};var n=function(t,n){for(var r=t.colors,i=(0,e.scaleLinear)().domain([1,n.current]).range([r[0],r[r.length-1]]).interpolate(e.interpolateHsl),a=[],s=1;s<=n.current;s++)a.push(i(s));return a},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Math.round(100*e*Math.pow(10,t))/Math.pow(10,t)},i=function(e){return e*Math.PI};return l8}var u8,d8,h8,f8,m8,p8,g8,v8,y8,x8,b8,w8,_8,j8,k8,N8,S8,C8,E8,P8,M8,O8,A8,T8,D8,R8,I8,z8,L8,F8,B8,W8,V8,$8,K8,H8,U8,Y8,q8,G8,X8,Q8,Z8,J8,e7,t7,n7,r7,i7,a7,s7,o7,l7,c7,u7,d7,h7,f7,m7,p7,g7,v7,y7,x7,b7,w7,_7,j7,k7,N7,S7,C7,E7,P7,M7,O7,A7,T7,D7,R7,I7,z7,L7,F7,B7,W7,V7,$7,K7,H7,U7,Y7,q7,G7,X7,Q7,Z7,J7,e9,t9,n9,r9,i9,a9,s9,o9,l9,c9,u9,d9,h9,f9,m9,p9,g9,v9,y9,x9,b9,w9,_9,j9,k9,N9,S9,C9,E9,P9,M9,O9,A9={},T9={},D9={};function R9(){return p8?m8:(p8=1,m8=function(e,t){return e===t||e!=e&&t!=t})}function I9(){if(v8)return g8;v8=1;var e=R9();return g8=function(t,n){for(var r=t.length;r--;)if(e(t[r][0],n))return r;return-1}}function z9(){if(C8)return S8;C8=1;var e=f8?h8:(f8=1,h8=function(){this.__data__=[],this.size=0}),t=function(){if(x8)return y8;x8=1;var e=I9(),t=Array.prototype.splice;return y8=function(n){var r=this.__data__,i=e(r,n);return!(i<0||(i==r.length-1?r.pop():t.call(r,i,1),--this.size,0))}}(),n=function(){if(w8)return b8;w8=1;var e=I9();return b8=function(t){var n=this.__data__,r=e(n,t);return r<0?void 0:n[r][1]}}(),r=function(){if(j8)return _8;j8=1;var e=I9();return _8=function(t){return e(this.__data__,t)>-1}}(),i=function(){if(N8)return k8;N8=1;var e=I9();return k8=function(t,n){var r=this.__data__,i=e(r,t);return i<0?(++this.size,r.push([t,n])):r[i][1]=n,this}}();function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,S8=a}function L9(){if(z8)return I8;z8=1;var e="object"==typeof r&&r&&r.Object===Object&&r;return I8=e}function F9(){if(F8)return L8;F8=1;var e=L9(),t="object"==typeof self&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return L8=n}function B9(){if(W8)return B8;W8=1;var e=F9().Symbol;return B8=e}function W9(){if(Y8)return U8;Y8=1;var e=B9(),t=function(){if($8)return V8;$8=1;var e=B9(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;return V8=function(e){var t=n.call(e,i),a=e[i];try{e[i]=void 0;var s=!0}catch(l){}var o=r.call(e);return s&&(t?e[i]=a:delete e[i]),o}}(),n=function(){if(H8)return K8;H8=1;var e=Object.prototype.toString;return K8=function(t){return e.call(t)}}(),r=e?e.toStringTag:void 0;return U8=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":r&&r in Object(e)?t(e):n(e)}}function V9(){return G8?q8:(G8=1,q8=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)})}function $9(){if(Q8)return X8;Q8=1;var e=W9(),t=V9();return X8=function(n){if(!t(n))return!1;var r=e(n);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r}}function K9(){if(t7)return e7;t7=1;var e,t=function(){if(J8)return Z8;J8=1;var e=F9()["__core-js_shared__"];return Z8=e}(),n=(e=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";return e7=function(e){return!!n&&n in e}}function H9(){if(r7)return n7;r7=1;var e=Function.prototype.toString;return n7=function(t){if(null!=t){try{return e.call(t)}catch(n){}try{return t+""}catch(n){}}return""}}function U9(){if(c7)return l7;c7=1;var e=function(){if(a7)return i7;a7=1;var e=$9(),t=K9(),n=V9(),r=H9(),i=/^\[object .+?Constructor\]$/,a=Function.prototype,s=Object.prototype,o=a.toString,l=s.hasOwnProperty,c=RegExp("^"+o.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return i7=function(a){return!(!n(a)||t(a))&&(e(a)?c:i).test(r(a))}}(),t=o7?s7:(o7=1,s7=function(e,t){return null==e?void 0:e[t]});return l7=function(n,r){var i=t(n,r);return e(i)?i:void 0}}function Y9(){if(d7)return u7;d7=1;var e=U9()(F9(),"Map");return u7=e}function q9(){if(f7)return h7;f7=1;var e=U9()(Object,"create");return h7=e}function G9(){if(N7)return k7;N7=1;var e=function(){if(p7)return m7;p7=1;var e=q9();return m7=function(){this.__data__=e?e(null):{},this.size=0}}(),t=v7?g7:(v7=1,g7=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}),n=function(){if(x7)return y7;x7=1;var e=q9(),t=Object.prototype.hasOwnProperty;return y7=function(n){var r=this.__data__;if(e){var i=r[n];return"__lodash_hash_undefined__"===i?void 0:i}return t.call(r,n)?r[n]:void 0}}(),r=function(){if(w7)return b7;w7=1;var e=q9(),t=Object.prototype.hasOwnProperty;return b7=function(n){var r=this.__data__;return e?void 0!==r[n]:t.call(r,n)}}(),i=function(){if(j7)return _7;j7=1;var e=q9();return _7=function(t,n){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=e&&void 0===n?"__lodash_hash_undefined__":n,this}}();function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,k7=a}function X9(){if(O7)return M7;O7=1;var e=P7?E7:(P7=1,E7=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e});return M7=function(t,n){var r=t.__data__;return e(n)?r["string"==typeof n?"string":"hash"]:r.map}}function Q9(){if(W7)return B7;W7=1;var e=function(){if(C7)return S7;C7=1;var e=G9(),t=z9(),n=Y9();return S7=function(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}}(),t=function(){if(T7)return A7;T7=1;var e=X9();return A7=function(t){var n=e(this,t).delete(t);return this.size-=n?1:0,n}}(),n=function(){if(R7)return D7;R7=1;var e=X9();return D7=function(t){return e(this,t).get(t)}}(),r=function(){if(z7)return I7;z7=1;var e=X9();return I7=function(t){return e(this,t).has(t)}}(),i=function(){if(F7)return L7;F7=1;var e=X9();return L7=function(t,n){var r=e(this,t),i=r.size;return r.set(t,n),this.size+=r.size==i?0:1,this}}();function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,B7=a}function Z9(){if(H7)return K7;H7=1;var e=z9(),t=function(){if(P8)return E8;P8=1;var e=z9();return E8=function(){this.__data__=new e,this.size=0}}(),n=O8?M8:(O8=1,M8=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}),r=T8?A8:(T8=1,A8=function(e){return this.__data__.get(e)}),i=R8?D8:(R8=1,D8=function(e){return this.__data__.has(e)}),a=function(){if($7)return V7;$7=1;var e=z9(),t=Y9(),n=Q9();return V7=function(r,i){var a=this.__data__;if(a instanceof e){var s=a.__data__;if(!t||s.length<199)return s.push([r,i]),this.size=++a.size,this;a=this.__data__=new n(s)}return a.set(r,i),this.size=a.size,this}}();function s(t){var n=this.__data__=new e(t);this.size=n.size}return s.prototype.clear=t,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=a,K7=s}function J9(){if(Q7)return X7;Q7=1;var e=Q9(),t=Y7?U7:(Y7=1,U7=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}),n=G7?q7:(G7=1,q7=function(e){return this.__data__.has(e)});function r(t){var n=-1,r=null==t?0:t.length;for(this.__data__=new e;++n<r;)this.add(t[n])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,X7=r}function eee(){if(r9)return n9;r9=1;var e=J9(),t=J7?Z7:(J7=1,Z7=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}),n=t9?e9:(t9=1,e9=function(e,t){return e.has(t)});return n9=function(r,i,a,s,o,l){var c=1&a,u=r.length,d=i.length;if(u!=d&&!(c&&d>u))return!1;var h=l.get(r),f=l.get(i);if(h&&f)return h==i&&f==r;var m=-1,p=!0,g=2&a?new e:void 0;for(l.set(r,i),l.set(i,r);++m<u;){var v=r[m],y=i[m];if(s)var x=c?s(y,v,m,i,r,l):s(v,y,m,r,i,l);if(void 0!==x){if(x)continue;p=!1;break}if(g){if(!t(i,function(e,t){if(!n(g,t)&&(v===e||o(v,e,a,s,l)))return g.push(t)})){p=!1;break}}else if(v!==y&&!o(v,y,a,s,l)){p=!1;break}}return l.delete(r),l.delete(i),p}}function tee(){if(d9)return u9;d9=1;var e=B9(),t=function(){if(a9)return i9;a9=1;var e=F9().Uint8Array;return i9=e}(),n=R9(),r=eee(),i=o9?s9:(o9=1,s9=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}),a=c9?l9:(c9=1,l9=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}),s=e?e.prototype:void 0,o=s?s.valueOf:void 0;return u9=function(e,s,l,c,u,d,h){switch(l){case"[object DataView]":if(e.byteLength!=s.byteLength||e.byteOffset!=s.byteOffset)return!1;e=e.buffer,s=s.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=s.byteLength||!d(new t(e),new t(s)));case"[object Boolean]":case"[object Date]":case"[object Number]":return n(+e,+s);case"[object Error]":return e.name==s.name&&e.message==s.message;case"[object RegExp]":case"[object String]":return e==s+"";case"[object Map]":var f=i;case"[object Set]":var m=1&c;if(f||(f=a),e.size!=s.size&&!m)return!1;var p=h.get(e);if(p)return p==s;c|=2,h.set(e,s);var g=r(f(e),f(s),c,u,d,h);return h.delete(e),g;case"[object Symbol]":if(o)return o.call(e)==o.call(s)}return!1}}function nee(){if(p9)return m9;p9=1;var e=Array.isArray;return m9=e}function ree(){if(v9)return g9;v9=1;var e=f9?h9:(f9=1,h9=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}),t=nee();return g9=function(n,r,i){var a=r(n);return t(n)?a:e(a,i(n))}}function iee(){if(j9)return _9;j9=1;var e=x9?y9:(x9=1,y9=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var s=e[n];t(s,n,e)&&(a[i++]=s)}return a}),t=w9?b9:(w9=1,b9=function(){return[]}),n=Object.prototype.propertyIsEnumerable,r=Object.getOwnPropertySymbols;return _9=r?function(t){return null==t?[]:(t=Object(t),e(r(t),function(e){return n.call(t,e)}))}:t}function aee(){return C9?S9:(C9=1,S9=function(e){return null!=e&&"object"==typeof e})}function see(){if(O9)return M9;O9=1;var e=function(){if(P9)return E9;P9=1;var e=W9(),t=aee();return E9=function(n){return t(n)&&"[object Arguments]"==e(n)}}(),t=aee(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=e(function(){return arguments}())?e:function(e){return t(e)&&r.call(e,"callee")&&!i.call(e,"callee")};return M9=a}var oee,lee,cee,uee,dee,hee,fee,mee,pee,gee,vee,yee={exports:{}};function xee(){return cee||(cee=1,e=yee,t=yee.exports,n=F9(),r=lee?oee:(lee=1,oee=function(){return!1}),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,s=a&&a.exports===i?n.Buffer:void 0,o=(s?s.isBuffer:void 0)||r,e.exports=o),yee.exports;var e,t,n,r,i,a,s,o}function bee(){return fee?hee:(fee=1,hee=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991})}var wee,_ee,jee,kee,Nee,See,Cee,Eee,Pee,Mee,Oee,Aee,Tee,Dee,Ree,Iee,zee,Lee,Fee,Bee,Wee,Vee,$ee,Kee,Hee,Uee,Yee,qee,Gee,Xee,Qee,Zee,Jee,ete,tte,nte,rte,ite,ate,ste,ote={exports:{}};function lte(){if(jee)return _ee;jee=1;var e=function(){if(pee)return mee;pee=1;var e=W9(),t=bee(),n=aee(),r={};return r["[object Float32Array]"]=r["[object Float64Array]"]=r["[object Int8Array]"]=r["[object Int16Array]"]=r["[object Int32Array]"]=r["[object Uint8Array]"]=r["[object Uint8ClampedArray]"]=r["[object Uint16Array]"]=r["[object Uint32Array]"]=!0,r["[object Arguments]"]=r["[object Array]"]=r["[object ArrayBuffer]"]=r["[object Boolean]"]=r["[object DataView]"]=r["[object Date]"]=r["[object Error]"]=r["[object Function]"]=r["[object Map]"]=r["[object Number]"]=r["[object Object]"]=r["[object RegExp]"]=r["[object Set]"]=r["[object String]"]=r["[object WeakMap]"]=!1,mee=function(i){return n(i)&&t(i.length)&&!!r[e(i)]}}(),t=vee?gee:(vee=1,gee=function(e){return function(t){return e(t)}}),n=function(){return wee||(wee=1,e=ote,t=ote.exports,n=L9(),r=t&&!t.nodeType&&t,i=r&&e&&!e.nodeType&&e,a=i&&i.exports===r&&n.process,s=function(){try{return i&&i.require&&i.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}(),e.exports=s),ote.exports;var e,t,n,r,i,a,s}(),r=n&&n.isTypedArray,i=r?t(r):e;return _ee=i}function cte(){if(Nee)return kee;Nee=1;var e=N9?k9:(N9=1,k9=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}),t=see(),n=nee(),r=xee(),i=function(){if(dee)return uee;dee=1;var e=/^(?:0|[1-9]\d*)$/;return uee=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n}}(),a=lte(),s=Object.prototype.hasOwnProperty;return kee=function(o,l){var c=n(o),u=!c&&t(o),d=!c&&!u&&r(o),h=!c&&!u&&!d&&a(o),f=c||u||d||h,m=f?e(o.length,String):[],p=m.length;for(var g in o)!l&&!s.call(o,g)||f&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||i(g,p))||m.push(g);return m}}function ute(){if(Oee)return Mee;Oee=1;var e=(Pee?Eee:(Pee=1,Eee=function(e,t){return function(n){return e(t(n))}}))(Object.keys,Object);return Mee=e}function dte(){if(Tee)return Aee;Tee=1;var e=function(){if(Cee)return See;Cee=1;var e=Object.prototype;return See=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}}(),t=ute(),n=Object.prototype.hasOwnProperty;return Aee=function(r){if(!e(r))return t(r);var i=[];for(var a in Object(r))n.call(r,a)&&"constructor"!=a&&i.push(a);return i}}function hte(){if(zee)return Iee;zee=1;var e=cte(),t=dte(),n=function(){if(Ree)return Dee;Ree=1;var e=$9(),t=bee();return Dee=function(n){return null!=n&&t(n.length)&&!e(n)}}();return Iee=function(r){return n(r)?e(r):t(r)}}function fte(){if(Wee)return Bee;Wee=1;var e=function(){if(Fee)return Lee;Fee=1;var e=ree(),t=iee(),n=hte();return Lee=function(r){return e(r,n,t)}}(),t=Object.prototype.hasOwnProperty;return Bee=function(n,r,i,a,s,o){var l=1&i,c=e(n),u=c.length;if(u!=e(r).length&&!l)return!1;for(var d=u;d--;){var h=c[d];if(!(l?h in r:t.call(r,h)))return!1}var f=o.get(n),m=o.get(r);if(f&&m)return f==r&&m==n;var p=!0;o.set(n,r),o.set(r,n);for(var g=l;++d<u;){var v=n[h=c[d]],y=r[h];if(a)var x=l?a(y,v,h,r,n,o):a(v,y,h,n,r,o);if(!(void 0===x?v===y||s(v,y,i,a,o):x)){p=!1;break}g||(g="constructor"==h)}if(p&&!g){var b=n.constructor,w=r.constructor;b==w||!("constructor"in n)||!("constructor"in r)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(p=!1)}return o.delete(n),o.delete(r),p}}function mte(){if(Qee)return Xee;Qee=1;var e=function(){if($ee)return Vee;$ee=1;var e=U9()(F9(),"DataView");return Vee=e}(),t=Y9(),n=function(){if(Hee)return Kee;Hee=1;var e=U9()(F9(),"Promise");return Kee=e}(),r=function(){if(Yee)return Uee;Yee=1;var e=U9()(F9(),"Set");return Uee=e}(),i=function(){if(Gee)return qee;Gee=1;var e=U9()(F9(),"WeakMap");return qee=e}(),a=W9(),s=H9(),o="[object Map]",l="[object Promise]",c="[object Set]",u="[object WeakMap]",d="[object DataView]",h=s(e),f=s(t),m=s(n),p=s(r),g=s(i),v=a;return(e&&v(new e(new ArrayBuffer(1)))!=d||t&&v(new t)!=o||n&&v(n.resolve())!=l||r&&v(new r)!=c||i&&v(new i)!=u)&&(v=function(e){var t=a(e),n="[object Object]"==t?e.constructor:void 0,r=n?s(n):"";if(r)switch(r){case h:return d;case f:return o;case m:return l;case p:return c;case g:return u}return t}),Xee=v}function pte(){if(tte)return ete;tte=1;var e=function(){if(Jee)return Zee;Jee=1;var e=Z9(),t=eee(),n=tee(),r=fte(),i=mte(),a=nee(),s=xee(),o=lte(),l="[object Arguments]",c="[object Array]",u="[object Object]",d=Object.prototype.hasOwnProperty;return Zee=function(h,f,m,p,g,v){var y=a(h),x=a(f),b=y?c:i(h),w=x?c:i(f),_=(b=b==l?u:b)==u,j=(w=w==l?u:w)==u,k=b==w;if(k&&s(h)){if(!s(f))return!1;y=!0,_=!1}if(k&&!_)return v||(v=new e),y||o(h)?t(h,f,m,p,g,v):n(h,f,b,m,p,g,v);if(!(1&m)){var N=_&&d.call(h,"__wrapped__"),S=j&&d.call(f,"__wrapped__");if(N||S){var C=N?h.value():h,E=S?f.value():f;return v||(v=new e),g(C,E,m,p,v)}}return!!k&&(v||(v=new e),r(h,f,m,p,g,v))}}(),t=aee();return ete=function n(r,i,a,s,o){return r===i||(null==r||null==i||!t(r)&&!t(i)?r!=r&&i!=i:e(r,i,a,s,n,o))},ete}function gte(){if(ite)return D9;ite=1,Object.defineProperty(D9,"__esModule",{value:!0}),D9.default=void 0;var e,t=(e=function(){if(rte)return nte;rte=1;var e=pte();return nte=function(t,n){return e(t,n)}}())&&e.__esModule?e:{default:e},n=j(),r=function(e){var r,i,a=(0,n.useRef)(null);return r=e,i=a.current,(0,t.default)(r,i)&&(a.current=e),a.current},i=function(e,t){(0,n.useEffect)(e,[r(t),e])};return D9.default=i,D9}function vte(){if(ate)return _Y;ate=1,Object.defineProperty(_Y,"__esModule",{value:!0}),_Y.default=void 0;var e=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(j()),t=Q5,n=o(s8()),r=c8(),i=function(){if(u8)return A9;u8=1,Object.defineProperty(A9,"__esModule",{value:!0}),A9.renderChart=void 0;var e=c8();return A9.renderChart=function(t,n,r,i,a,s,o,l,c,u,d,h,f,m,p){(0,e.updateDimensions)(f,m,i,r,a),h.current.attr("width",r.current+i.current.left+i.current.right).attr("height",a.current+i.current.top+i.current.bottom),o.current.attr("transform","translate("+i.current.left+", "+i.current.top+")"),(0,e.calculateRadius)(r,a,s,i,o),l.current.attr("transform","translate("+s.current+", "+s.current+")"),c.current.outerRadius(s.current).innerRadius(s.current*(1-f.arcWidth)).cornerRadius(f.cornerRadius).padAngle(f.arcPadding),l.current.selectAll(".arc").remove(),o.current.selectAll(".text-group").remove(),l.current.selectAll(".arc").data(d.current(p.current)).enter().append("g").attr("class","arc").append("path").attr("d",c.current).style("fill",function(e){return e.data.color})},A9}(),a=function(){if(d8)return T9;d8=1,Object.defineProperty(T9,"__esModule",{value:!0}),T9.drawNeedle=void 0;var e=Q5,t=c8();return T9.drawNeedle=function(n,r,i,a,s,o,l,c){var u=i.percent,d=i.needleColor,h=i.needleBaseColor,f=i.hideText,m=i.animate,p=i.needleScale,g=i.textComponent,v=a.current/500*15,y=[0,-v/2];s.current.selectAll("*").remove(),s.current.attr("transform","translate("+l.current+", "+l.current+")");var x=r?r.percent:0,b=(0,t.calculateRotation)(x||u,l,a,p);s.current.append("path").attr("d",b).attr("fill",d),s.current.append("circle").attr("cx",y[0]).attr("cy",y[1]).attr("r",v).attr("fill",h),f||g||(0,t.addText)(u,i,l,a,c),!n&&m?s.current.transition().delay(i.animDelay).ease(e.easeElastic).duration(i.animateDuration).tween("progress",function(){var n=(0,e.interpolateNumber)(x,u);return function(e){var r=n(e);return o.current.select(".needle path").attr("d",(0,t.calculateRotation)(r,l,a,p))}}):o.current.select(".needle path").attr("d",(0,t.calculateRotation)(u,l,a,p))},T9}(),s=o(gte());function o(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){d(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=-Math.PI/2,f=Math.PI/2,m=["marginInPercent","arcPadding","percent","nrOfLevels","animDelay"],p={style:{width:"100%"},marginInPercent:.05,cornerRadius:6,nrOfLevels:3,percent:.4,arcPadding:.05,arcWidth:.2,colors:["#00FF00","#FF0000"],textColor:"#fff",needleColor:"#464A4F",needleBaseColor:"#464A4F",hideText:!1,animate:!0,animDelay:500,formatTextValue:null,fontSize:null,animateDuration:3e3,textComponent:void 0,needleScale:.55,customNeedleComponent:null},g=function(n){var o=(0,e.useMemo)(function(){return u(u({},p),n)},[n]),l=(0,e.useRef)({}),c=(0,e.useRef)({}),d=(0,e.useRef)({}),g=(0,e.useRef)({}),v=(0,e.useRef)({}),y=(0,e.useRef)({}),x=(0,e.useRef)({}),b=(0,e.useRef)({}),w=(0,e.useRef)({}),_=(0,e.useRef)(0),j=(0,e.useRef)([]),k=(0,e.useRef)((0,t.arc)()),N=(0,e.useRef)([]),S=(0,e.useRef)((0,t.pie)()),C=(0,e.useRef)(o),E=(0,e.useRef)({}),P=(0,e.useCallback)(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;if(e)return(0,i.renderChart)(t,n,d,b,g,x,c,v,k,y,S,l,o,w,N),void(!R&&(0,a.drawNeedle)(t,n,o,d,y,w,x,c));w.current.select("svg").remove(),l.current=w.current.append("svg"),c.current=l.current.append("g"),v.current=c.current.append("g").attr("class","doughnut"),S.current.value(function(e){return e.value}).startAngle(h).endAngle(f).sort(null),y.current=c.current.append("g").attr("class","needle"),(0,i.renderChart)(t,n,d,b,g,x,c,v,k,y,S,l,o,w,N),!R&&(0,a.drawNeedle)(t,n,o,d,y,w,x,c)},[o]);(0,e.useLayoutEffect)(function(){(0,r.setArcData)(o,_,j,N),w.current=(0,t.select)(E),P()},[o,P]),(0,s.default)(function(){(o.nrOfLevels||C.current.arcsLength.every(function(e){return o.arcsLength.includes(e)})||C.current.colors.every(function(e){return o.colors.includes(e)}))&&(0,r.setArcData)(o,_,j,N);var e=!m.some(function(e){return C.current[e]!==o[e]});P(!0,e,C.current),C.current=o},[o.nrOfLevels,o.arcsLength,o.colors,o.percent,o.needleColor,o.needleBaseColor]),(0,e.useEffect)(function(){var e=function(){var e=!0;(0,i.renderChart)(e,C,d,b,g,x,c,v,k,y,S,l,o,w,N),!R&&(0,a.drawNeedle)(e,C,o,d,y,w,x,c)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[o]);var M=o.id,O=o.style,A=o.className,T=o.textComponent,D=o.textComponentContainerClassName,R=o.customNeedleComponent,I=o.customNeedleStyle,z=o.customNeedleComponentClassName;return e.default.createElement("div",{id:M,className:A,style:O},e.default.createElement("div",{ref:function(e){return E=e}},e.default.createElement("div",{className:D,style:{position:"relative",top:"50%"}},T)),R&&e.default.createElement("div",{className:z,style:u({position:"relative"},I)},R))},v=g;return _Y.default=v,g.propTypes={id:n.default.string,className:n.default.string,style:n.default.object,marginInPercent:n.default.number,cornerRadius:n.default.number,nrOfLevels:n.default.number,percent:n.default.number,arcPadding:n.default.number,arcWidth:n.default.number,arcsLength:n.default.array,colors:n.default.array,textColor:n.default.string,needleColor:n.default.string,needleBaseColor:n.default.string,hideText:n.default.bool,animate:n.default.bool,formatTextValue:n.default.func,fontSize:n.default.string,animateDuration:n.default.number,animDelay:n.default.number,textComponent:n.default.element,textComponentContainerClassName:n.default.string,needleScale:n.default.number,customNeedleComponent:n.default.element,customNeedleComponentClassName:n.default.string,customNeedleStyle:n.default.object},_Y}const yte=i(function(){if(ste)return wY;var e;ste=1,Object.defineProperty(wY,"__esModule",{value:!0}),wY.default=void 0;var t=((e=vte())&&e.__esModule?e:{default:e}).default;return wY.default=t,wY}()),xte=e=>e<25?"text-red-600":e<45?"text-orange-500":e<=55?"text-yellow-500":e<=75?"text-green-500":"text-green-600",bte=({value:e,sentiment:t})=>{const n=e/100;return x.jsx("div",{className:"relative w-full h-48 flex items-center justify-center",children:x.jsxs("div",{className:"relative",children:[x.jsx(yte,{id:"greed-fear-gauge",nrOfLevels:5,percent:n,colors:["#dc2626","#f97316","#eab308","#22c55e","#16a34a"],arcWidth:.3,textColor:"#374151",needleColor:"#2E2E2E",needleBaseColor:"#2E2E2E",hideText:!0,animate:!0,formatTextValue:()=>e.toFixed(1)}),x.jsxs("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 text-center",children:[x.jsx("div",{className:`text-4xl font-bold ${xte(e)}`,children:e.toFixed(1)}),x.jsx("div",{className:"text-lg text-gray-500",children:t})]})]})})};function wte(){const{data:e,loading:t,error:n}=gf("analyze_greed_fear"),r=N.useMemo(()=>e?f(h({},e),{last_20_days:e.last_20_days.map(e=>f(h({},e),{formattedDate:new Date(e.date).toLocaleDateString("vi-VN",{month:"short",day:"numeric"})}))}):null,[e]);if(t)return x.jsx(Ae,{children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsx("div",{className:"text-gray-500",children:"Đang tải dữ liệu chỉ số Greed & Fear..."})})});if(n)return x.jsx(Ae,{children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsx("div",{className:"text-red-500",children:"Không thể tải dữ liệu chỉ số Greed & Fear"})})});if(!r)return null;const i=r.last_20_days[r.last_20_days.length-1],a=r.last_20_days[r.last_20_days.length-2],s=i.greed_fear_index-((null==a?void 0:a.greed_fear_index)||i.greed_fear_index);return x.jsx(Ae,{children:x.jsxs("div",{className:"p-6",children:[x.jsx("div",{className:"flex items-center justify-between mb-6",children:x.jsxs("div",{children:[x.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Chỉ số Greed & Fear"}),x.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["Cập nhật lúc: ",new Date(r.generated_at).toLocaleString("vi-VN")]})]})}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[x.jsxs("div",{className:"lg:col-span-1 flex flex-col",children:[x.jsxs("div",{className:"flex-shrink-0",children:[x.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800 dark:text-gray-200",children:"Tâm lý hiện tại"}),x.jsx(bte,{value:r.latest_value,sentiment:r.latest_sentiment}),x.jsx("hr",{className:"my-6 border-gray-200 dark:border-gray-700"}),x.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800 dark:text-gray-200",children:"Chỉ số chính"})]}),x.jsxs("div",{className:"space-y-3 flex-shrink-0",children:[x.jsxs("div",{className:"flex justify-between items-center text-sm",children:[x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Giá trị hiện tại"}),x.jsx("span",{className:`font-bold ${xte(r.latest_value)}`,children:r.latest_value.toFixed(2)})]}),x.jsxs("div",{className:"flex justify-between items-center text-sm",children:[x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Thay đổi hàng ngày"}),x.jsxs("span",{className:"font-bold flex items-center "+(s>0?"text-green-600":s<0?"text-red-600":"text-yellow-500"),children:[s>0?x.jsx(J,{size:14,className:"mr-1"}):s<0?x.jsx(Q,{size:14,className:"mr-1"}):x.jsx(ye,{size:14,className:"mr-1"}),s.toFixed(2)]})]}),x.jsxs("div",{className:"flex justify-between items-center text-sm",children:[x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"RSI 14 ngày"}),x.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:r.components.rsi14?r.components.rsi14.toFixed(2):"N/A"})]}),x.jsxs("div",{className:"flex justify-between items-center text-sm",children:[x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Độ biến động"}),x.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:r.components.volatility?r.components.volatility.toFixed(2):"N/A"})]}),x.jsxs("div",{className:"flex justify-between items-center text-sm",children:[x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tỷ lệ khối lượng"}),x.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:r.components.volume_ratio?r.components.volume_ratio.toFixed(2):"N/A"})]})]})]}),x.jsxs("div",{className:"lg:col-span-2 flex flex-col",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-4 flex-shrink-0",children:"Diễn biến chỉ số (20 ngày gần nhất)"}),x.jsx("div",{className:"flex-grow",children:x.jsx(LL,{width:"100%",height:400,children:x.jsxs(rY,{data:r.last_20_days,margin:{top:5,right:20,left:-20,bottom:5},children:[x.jsx(Q$,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),x.jsx(HH,{dataKey:"formattedDate",stroke:"#6b7280",fontSize:12,tickLine:!1,axisLine:!1}),x.jsx(JH,{domain:[0,100],stroke:"#6b7280",fontSize:12,tickLine:!1,axisLine:!1}),x.jsx(g$,{y1:80,y2:100,fill:"#86efac",fillOpacity:.2,stroke:"none"}),x.jsx(g$,{y1:60,y2:80,fill:"#bbf7d0",fillOpacity:.2,stroke:"none"}),x.jsx(g$,{y1:40,y2:60,fill:"#fef3c7",fillOpacity:.2,stroke:"none"}),x.jsx(g$,{y1:20,y2:40,fill:"#fed7aa",fillOpacity:.2,stroke:"none"}),x.jsx(g$,{y1:0,y2:20,fill:"#fecaca",fillOpacity:.2,stroke:"none"}),x.jsx(g$,{y1:80,y2:80,fill:"none",stroke:"#16a34a",strokeWidth:1,strokeDasharray:"3 3"}),x.jsx(g$,{y1:60,y2:60,fill:"none",stroke:"#22c55e",strokeWidth:1,strokeDasharray:"3 3"}),x.jsx(g$,{y1:40,y2:40,fill:"none",stroke:"#eab308",strokeWidth:1,strokeDasharray:"3 3"}),x.jsx(g$,{y1:20,y2:20,fill:"none",stroke:"#f97316",strokeWidth:1,strokeDasharray:"3 3"}),x.jsx(wL,{contentStyle:{backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"0.5rem",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)"},labelStyle:{color:"#1f2937",fontWeight:"bold"},itemStyle:{color:"#374151"}}),x.jsx(kK,{type:"monotone",dataKey:"greed_fear_index",name:"Chỉ số",stroke:(o=r.latest_value,o<25?"#dc2626":o<45?"#f97316":o<=55?"#eab308":o<=75?"#22c55e":"#16a34a"),strokeWidth:2,dot:{r:3},activeDot:{r:6}})]})})})]})]})]})});var o}const _te=({variant:e="stock"})=>{const[t,n]=k.useState(!1),[r,i]=k.useState({});return x.jsxs("div",{className:"mb-6",children:[x.jsxs("button",{onClick:()=>n(!t),className:"flex items-center gap-2 px-4 py-2 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors cursor-pointer",children:[x.jsx(ge,{className:"h-4 w-4"}),x.jsx("span",{className:"font-medium",children:"Hướng dẫn giải thích tín hiệu bất thường"}),t?x.jsx(oe,{className:"h-4 w-4"}):x.jsx(se,{className:"h-4 w-4"})]}),t&&x.jsxs("div",{className:"mt-4 space-y-6",children:[x.jsxs("div",{className:"space-y-4",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Giải thích từng loại tín hiệu"}),[{key:"widespread",name:"WIDESPREAD SIGNAL",definition:"Khoảng giá (High - Low) rộng hơn đáng kể so với bình thường",interpretations:[{type:"BULLISH",description:"Khoảng giá rộng với giá đóng cửa gần mức cao nhất cho thấy áp lực mua mạnh",action:"Theo dõi xu hướng tăng tiếp theo"},{type:"BEARISH",description:"Khoảng giá rộng với giá đóng cửa gần mức thấp nhất cho thấy áp lực bán mạnh",action:"Theo dõi xu hướng giảm tiếp theo"},{type:"NEUTRAL",description:"Khoảng giá rộng với giá đóng cửa ở giữa cho thấy sự do dự/biến động",action:"Chờ tín hiệu rõ ràng hơn"}]},{key:"narrowspread",name:"NARROWSPREAD SIGNAL",definition:"Khoảng giá (High - Low) hẹp hơn đáng kể so với bình thường",interpretations:[{type:"BULLISH",description:"Khoảng giá hẹp với khối lượng cao cho thấy tích lũy/mua có kiểm soát",action:"Tìm hướng breakout khi khoảng giá mở rộng"},{type:"BEARISH",description:"Khoảng giá hẹp với khối lượng thấp cho thấy phân phối/bán có kiểm soát",action:"Chờ tín hiệu breakout"},{type:"NEUTRAL",description:"Khoảng giá hẹp với khối lượng trung bình cho thấy củng cố",action:"Theo dõi xu hướng tiếp theo"}]},{key:"highvolume",name:"HIGHVOLUME SIGNAL",definition:"Khối lượng giao dịch cao hơn đáng kể so với trung bình động",interpretations:[{type:"BULLISH",description:"Khối lượng cao với giá tăng cho thấy sự quan tâm mua mạnh",action:"Khối lượng xác nhận xu hướng giá; theo dõi xu hướng"},{type:"BEARISH",description:"Khối lượng cao với giá giảm cho thấy áp lực bán mạnh",action:"Theo dõi xu hướng giảm"},{type:"NEUTRAL",description:"Khối lượng cao với giá đi ngang cho thấy phân phối/tích lũy",action:"Chờ tín hiệu breakout"}]},{key:"lowvolume",name:"LOWVOLUME SIGNAL",definition:"Khối lượng giao dịch thấp hơn đáng kể so với trung bình động",interpretations:[{type:"BULLISH",description:"Pullback với khối lượng thấp cho thấy áp lực bán yếu",action:"Chờ xác nhận khối lượng"},{type:"BEARISH",description:"Rally với khối lượng thấp cho thấy sự quan tâm mua yếu",action:"Chờ xác nhận khối lượng"},{type:"NEUTRAL",description:"Đi ngang với khối lượng thấp cho thấy thiếu niềm tin",action:"Chờ tín hiệu rõ ràng hơn"}]},{key:"effortgtresult",name:"EFFORTGTRESULT SIGNAL",definition:"Khối lượng cao với khoảng giá hẹp (nỗ lực cao, kết quả thấp)",interpretations:[{type:"BULLISH",description:"Nỗ lực mua mạnh với biến động giá có kiểm soát cho thấy tích lũy",action:"Thường đi trước các động thái quan trọng; theo dõi hướng breakout"},{type:"BEARISH",description:"Nỗ lực bán mạnh với biến động giá có kiểm soát cho thấy phân phối",action:"Theo dõi hướng breakout"}]},{key:"resultgteffort",name:"RESULTGTEFFORT SIGNAL",definition:"Khối lượng thấp với khoảng giá rộng (nỗ lực thấp, kết quả cao)",interpretations:[{type:"BULLISH",description:"Biến động giá lớn với khối lượng thấp cho thấy bán yếu cho tay mạnh",action:"Có thể chỉ ra sự kiệt sức; thận trọng với sự tiếp tục"},{type:"BEARISH",description:"Biến động giá lớn với khối lượng thấp cho thấy short covering hoặc mua yếu",action:"Thận trọng với xu hướng tiếp theo"}]},{key:"abnormalerratio",name:"ABNORMALERRATIO SIGNAL",definition:"Tỷ lệ khối lượng-trên-lợi nhuận dư thừa khác biệt đáng kể so với bình thường",interpretations:[{type:"HIGH RATIO",description:"Khối lượng cao so với biến động giá cho thấy niềm tin mạnh",action:"Sử dụng để xác nhận sức mạnh xu hướng"},{type:"LOW RATIO",description:"Khối lượng thấp so với biến động giá cho thấy niềm tin yếu",action:"Sử dụng để xác nhận điểm yếu xu hướng"}]}].map(e=>x.jsxs(Ae,{className:"p-4",children:[x.jsxs("button",{onClick:()=>{return t=e.key,void i(e=>f(h({},e),{[t]:!e[t]}));var t},className:"w-full flex items-center justify-between text-left cursor-pointer",children:[x.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:e.name}),r[e.key]?x.jsx(oe,{className:"h-4 w-4"}):x.jsx(se,{className:"h-4 w-4"})]}),r[e.key]&&x.jsxs("div",{className:"mt-3 space-y-3",children:[x.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[x.jsx("strong",{children:"Định nghĩa:"})," ",e.definition]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Giải thích:"}),e.interpretations.map((e,t)=>x.jsxs("div",{className:"ml-4 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[x.jsx("div",{className:"flex items-center gap-2 mb-1",children:x.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium "+("BULLISH"===e.type||"HIGH RATIO"===e.type?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"BEARISH"===e.type||"LOW RATIO"===e.type?"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300":"bg-gray-100 text-gray-800 dark:bg-gray-900/50 dark:text-gray-300"),children:e.type})}),x.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:e.description}),x.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:[x.jsx("strong",{children:"Hành động:"})," ",e.action]})]},t))]})]})]},e.key))]}),x.jsxs("div",{className:"space-y-4",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Giải thích tín hiệu kết hợp"}),x.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:[{type:"MULTIPLE BULLISH SIGNALS",description:"Tín hiệu mua mạnh, xác suất cao cho chuyển động tăng",action:"Có thể mua với xác suất cao"},{type:"MULTIPLE BEARISH SIGNALS",description:"Tín hiệu bán mạnh, xác suất cao cho chuyển động giảm",action:"Có thể bán hoặc short với xác suất cao"},{type:"MIXED SIGNALS",description:"Thị trường do dự, chờ hướng rõ ràng hơn",action:"Chờ tín hiệu rõ ràng hơn trước khi hành động"},{type:"NO SIGNALS",description:"Điều kiện thị trường bình thường",action:"Tiếp tục với chiến lược hiện tại"}].map((e,t)=>x.jsxs(Ae,{className:"p-4",children:[x.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:e.type}),x.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:e.description}),x.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:[x.jsx("strong",{children:"Hành động:"})," ",e.action]})]},t))})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Chỉ số hiệu suất"}),x.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:[{name:"Top Gainers/Losers",description:"Xếp hạng hiệu suất 1 ngày",usage:"Sử dụng để xác định momentum và thay đổi xu hướng"},{name:"Top Improving/Degrading",description:"Cải thiện hiệu suất so với giai đoạn trước",usage:"Sử dụng để xác định thay đổi xu hướng"},{name:"Immediate Returns",description:"Chuyển động giá gần nhất",usage:"Sử dụng để xác định momentum ngắn hạn"}].map((e,t)=>x.jsxs(Ae,{className:"p-4",children:[x.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:e.name}),x.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:e.description}),x.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:e.usage})]},t))})]}),"industry"===e&&x.jsxs("div",{className:"space-y-4",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Giải thích tín hiệu ngành nghề"}),x.jsx(Ae,{className:"p-4",children:x.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[x.jsx("li",{children:"• Tín hiệu ngành nghề tuân theo cùng cách giải thích như tín hiệu cổ phiếu"}),x.jsx("li",{children:"• Tín hiệu toàn ngành có thể chỉ ra cơ hội luân chuyển ngành"}),x.jsx("li",{children:"• Nhiều ngành thể hiện tín hiệu tương tự có thể chỉ ra xu hướng thị trường rộng hơn"}),x.jsx("li",{children:"• Tín hiệu ngành có thể được sử dụng cho quyết định phân bổ ngành"})]})})]})]})]})},jte=()=>{var e,t,n,r;const{data:i,loading:a,error:s}=gf("abnormal_signals"),[o,l]=k.useState("abnormalities");if(a)return x.jsxs("div",{className:"flex items-center justify-center py-12",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),x.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Đang tải dữ liệu tín hiệu bất thường..."})]});if(s)return x.jsxs("div",{className:"text-center py-12",children:[x.jsx(Se,{className:"mx-auto h-12 w-12 text-red-500"}),x.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100",children:"Lỗi tải dữ liệu"}),x.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:s})]});if(!i)return x.jsx("div",{className:"text-center py-12",children:x.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Không có dữ liệu tín hiệu bất thường"})});const{abnormalities:c,performance:u,immediate:d}=i,h=e=>`${(100*e).toFixed(2)}%`,f=e=>{switch(e){case"WideSpread":case"HighVolume":case"ResultGTEffort":return"text-green-600 dark:text-green-400";case"NarrowSpread":case"LowVolume":case"EffortGTResult":case"AbnormalERRatio":return"text-red-600 dark:text-red-400";default:return"text-gray-600 dark:text-gray-400"}},m=e=>{switch(e){case"WideSpread":case"HighVolume":case"ResultGTEffort":return x.jsx(Ne,{className:"h-4 w-4"});case"NarrowSpread":case"LowVolume":case"EffortGTResult":case"AbnormalERRatio":return x.jsx(ke,{className:"h-4 w-4"});default:return x.jsx(G,{className:"h-4 w-4"})}},p=[{id:"abnormalities",name:"Tín hiệu bất thường",icon:Se},{id:"performance",name:"Xếp hạng hiệu suất",icon:te},{id:"immediate",name:"Lợi nhuận tức thì",icon:je}];return x.jsxs("div",{className:"space-y-6",children:[x.jsx(_te,{variant:"stock"}),x.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(e=>{const t=e.icon;return x.jsxs("button",{onClick:()=>l(e.id),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer "+(o===e.id?"bg-blue-500 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:[x.jsx(t,{className:"h-4 w-4"}),e.name]},e.id)})}),"abnormalities"===o&&x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Tín hiệu bất thường cổ phiếu gần đây"}),x.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[(null==c?void 0:c.length)||0," tín hiệu"]})]}),x.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:null==c?void 0:c.slice(0,12).map((e,t)=>{const n=Object.entries(e).filter(([e,t])=>"Symbol"!==e&&"Date"!==e&&!0===t);return x.jsxs(Ae,{className:"p-4",children:[x.jsxs("div",{className:"flex items-start justify-between mb-3",children:[x.jsxs("div",{children:[x.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:e.Symbol}),x.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(e.Date).toLocaleDateString("vi-VN")})]}),x.jsx("div",{className:"text-right",children:x.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/50 text-blue-800 dark:text-blue-200",children:[n.length," tín hiệu"]})})]}),n.length>0?x.jsx("div",{className:"space-y-2",children:n.map(([e])=>x.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[x.jsx("span",{className:f(e),children:m(e)}),x.jsx("span",{className:f(e),children:e})]},e))}):x.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Không có tín hiệu bất thường"})]},t)})})]}),"performance"===o&&x.jsxs("div",{className:"space-y-6",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Xếp hạng hiệu suất cổ phiếu"}),x.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[x.jsxs(Ae,{className:"p-6",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[x.jsx(Ne,{className:"h-5 w-5 text-green-500"}),x.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Tăng giá mạnh nhất"})]}),x.jsx("div",{className:"space-y-3",children:null==(e=null==d?void 0:d.top_immediate_gainers)?void 0:e.slice(0,5).map((e,t)=>x.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[x.jsxs("div",{children:[x.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.Symbol}),x.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Lợi nhuận tức thì"})]}),x.jsxs("span",{className:"text-green-600 dark:text-green-400 font-semibold",children:["+",h(e.ImmediateReturn)]})]},t))})]}),x.jsxs(Ae,{className:"p-6",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[x.jsx(ke,{className:"h-5 w-5 text-red-500"}),x.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Giảm giá mạnh nhất"})]}),x.jsx("div",{className:"space-y-3",children:null==(t=null==d?void 0:d.top_immediate_losers)?void 0:t.slice(0,5).map((e,t)=>x.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[x.jsxs("div",{children:[x.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.Symbol}),x.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Lỗ tức thì"})]}),x.jsx("span",{className:"text-red-600 dark:text-red-400 font-semibold",children:h(e.ImmediateReturn)})]},t))})]})]})]}),"immediate"===o&&x.jsxs("div",{className:"space-y-6",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Lợi nhuận tức thì cổ phiếu"}),x.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[x.jsxs(Ae,{className:"p-6",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[x.jsx(Ne,{className:"h-5 w-5 text-green-500"}),x.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Tăng giá tức thì"})]}),x.jsx("div",{className:"space-y-3",children:null==(n=null==d?void 0:d.top_immediate_gainers)?void 0:n.slice(0,10).map((e,t)=>x.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[x.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.Symbol}),x.jsxs("span",{className:"text-green-600 dark:text-green-400 font-semibold",children:["+",h(e.ImmediateReturn)]})]},t))})]}),x.jsxs(Ae,{className:"p-6",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[x.jsx(ke,{className:"h-5 w-5 text-red-500"}),x.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Giảm giá tức thì"})]}),x.jsx("div",{className:"space-y-3",children:null==(r=null==d?void 0:d.top_immediate_losers)?void 0:r.slice(0,10).map((e,t)=>x.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[x.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.Symbol}),x.jsx("span",{className:"text-red-600 dark:text-red-400 font-semibold",children:h(e.ImmediateReturn)})]},t))})]})]})]})]})},kte=()=>{var e,t,n,r;const{data:i,loading:a,error:s}=gf("abnormal_signals"),[o,l]=k.useState("abnormalities");if(a)return x.jsxs("div",{className:"flex items-center justify-center py-12",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),x.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Đang tải dữ liệu tín hiệu bất thường ngành nghề..."})]});if(s)return x.jsxs("div",{className:"text-center py-12",children:[x.jsx(Se,{className:"mx-auto h-12 w-12 text-red-500"}),x.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100",children:"Lỗi tải dữ liệu"}),x.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:s})]});if(!i)return x.jsx("div",{className:"text-center py-12",children:x.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Không có dữ liệu tín hiệu bất thường ngành nghề"})});const{industry_abnormalities:c,industry_performance:u,industry_immediate:d}=i,h=e=>`${(100*e).toFixed(2)}%`,f=e=>{switch(e){case"WideSpread":case"HighVolume":case"ResultGTEffort":return"text-green-600 dark:text-green-400";case"NarrowSpread":case"LowVolume":case"EffortGTResult":case"AbnormalERRatio":return"text-red-600 dark:text-red-400";default:return"text-gray-600 dark:text-gray-400"}},m=e=>{switch(e){case"WideSpread":case"HighVolume":case"ResultGTEffort":return x.jsx(Ne,{className:"h-4 w-4"});case"NarrowSpread":case"LowVolume":case"EffortGTResult":case"AbnormalERRatio":return x.jsx(ke,{className:"h-4 w-4"});default:return x.jsx(G,{className:"h-4 w-4"})}},p=[{id:"abnormalities",name:"Tín hiệu bất thường",icon:Se},{id:"performance",name:"Xếp hạng hiệu suất",icon:te},{id:"immediate",name:"Lợi nhuận tức thì",icon:je}];return x.jsxs("div",{className:"space-y-6",children:[x.jsx(_te,{variant:"industry"}),x.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(e=>{const t=e.icon;return x.jsxs("button",{onClick:()=>l(e.id),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer "+(o===e.id?"bg-purple-500 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:[x.jsx(t,{className:"h-4 w-4"}),e.name]},e.id)})}),"abnormalities"===o&&x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Tín hiệu bất thường ngành nghề gần đây"}),x.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[(null==c?void 0:c.length)||0," tín hiệu"]})]}),x.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:null==c?void 0:c.slice(0,12).map((e,t)=>{const n=Object.entries(e).filter(([e,t])=>"Symbol"!==e&&"Name"!==e&&"Date"!==e&&!0===t);return x.jsxs(Ae,{className:"p-4",children:[x.jsxs("div",{className:"flex items-start justify-between mb-3",children:[x.jsxs("div",{children:[x.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:e.Name||e.Symbol}),x.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(e.Date).toLocaleDateString("vi-VN")})]}),x.jsx("div",{className:"text-right",children:x.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 dark:bg-purple-900/50 text-purple-800 dark:text-purple-200",children:[n.length," tín hiệu"]})})]}),n.length>0?x.jsx("div",{className:"space-y-2",children:n.map(([e])=>x.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[x.jsx("span",{className:f(e),children:m(e)}),x.jsx("span",{className:f(e),children:e})]},e))}):x.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Không có tín hiệu bất thường"})]},t)})})]}),"performance"===o&&x.jsxs("div",{className:"space-y-6",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Xếp hạng hiệu suất ngành nghề"}),x.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[x.jsxs(Ae,{className:"p-6",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[x.jsx(Ne,{className:"h-5 w-5 text-green-500"}),x.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Ngành tăng giá mạnh nhất"})]}),x.jsx("div",{className:"space-y-3",children:null==(e=null==d?void 0:d.top_immediate_gainers)?void 0:e.slice(0,5).map((e,t)=>x.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[x.jsxs("div",{children:[x.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.Name||e.Symbol}),x.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Lợi nhuận tức thì"})]}),x.jsxs("span",{className:"text-green-600 dark:text-green-400 font-semibold",children:["+",h(e.ImmediateReturn)]})]},t))})]}),x.jsxs(Ae,{className:"p-6",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[x.jsx(ke,{className:"h-5 w-5 text-red-500"}),x.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Ngành giảm giá mạnh nhất"})]}),x.jsx("div",{className:"space-y-3",children:null==(t=null==d?void 0:d.top_immediate_losers)?void 0:t.slice(0,5).map((e,t)=>x.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[x.jsxs("div",{children:[x.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.Name||e.Symbol}),x.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Lỗ tức thì"})]}),x.jsx("span",{className:"text-red-600 dark:text-red-400 font-semibold",children:h(e.ImmediateReturn)})]},t))})]})]})]}),"immediate"===o&&x.jsxs("div",{className:"space-y-6",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Lợi nhuận tức thì ngành nghề"}),x.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[x.jsxs(Ae,{className:"p-6",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[x.jsx(Ne,{className:"h-5 w-5 text-green-500"}),x.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Ngành tăng giá tức thì"})]}),x.jsx("div",{className:"space-y-3",children:null==(n=null==d?void 0:d.top_immediate_gainers)?void 0:n.slice(0,10).map((e,t)=>x.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[x.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.Name||e.Symbol}),x.jsxs("span",{className:"text-green-600 dark:text-green-400 font-semibold",children:["+",h(e.ImmediateReturn)]})]},t))})]}),x.jsxs(Ae,{className:"p-6",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[x.jsx(ke,{className:"h-5 w-5 text-red-500"}),x.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Ngành giảm giá tức thì"})]}),x.jsx("div",{className:"space-y-3",children:null==(r=null==d?void 0:d.top_immediate_losers)?void 0:r.slice(0,10).map((e,t)=>x.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[x.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.Name||e.Symbol}),x.jsx("span",{className:"text-red-600 dark:text-red-400 font-semibold",children:h(e.ImmediateReturn)})]},t))})]})]})]})]})},Nte=e=>e>=110?"bg-green-600":e>=105?"bg-green-500":e>=102?"bg-green-400":e>=98?"bg-gray-400":e>=95?"bg-red-400":e>=90?"bg-red-500":"bg-red-600",Ste=({industries:e})=>{const[t,n]=k.useState("rs_ratio"),[r,i]=k.useState(!1),a=(e,t)=>{switch(t){case"rs_close":return(n=e.rs_close)>=1.5?"bg-green-600":n>=1.2?"bg-green-500":n>=1.05?"bg-green-400":n>=.95?"bg-gray-400":n>=.8?"bg-red-400":n>=.7?"bg-red-500":"bg-red-600";case"rs_ratio":return Nte(e.rs_ratio);case"rs_momentum":return Nte(e.rs_momentum);case"crs":return(e=>e>=.15?"bg-green-600":e>=.08?"bg-green-500":e>=.03?"bg-green-400":e>=-.03?"bg-gray-400":e>=-.08?"bg-red-400":e>=-.15?"bg-red-500":"bg-red-600")(e.crs);default:return"bg-gray-400"}var n},s=(e,t)=>{var n,r,i,a;switch(t){case"rs_close":return(null==(n=e.rs_close)?void 0:n.toFixed(2))||"N/A";case"rs_ratio":return(null==(r=e.rs_ratio)?void 0:r.toFixed(1))||"N/A";case"rs_momentum":return(null==(i=e.rs_momentum)?void 0:i.toFixed(1))||"N/A";case"crs":return`${null==(a=100*e.crs)?void 0:a.toFixed(1)}%`||"N/A";default:return"N/A"}},o=k.useMemo(()=>[...e].sort((e,n)=>{const r=e[t]||-1/0;return(n[t]||-1/0)-r}),[e,t]),l={rs_close:{name:"RS Close",description:"Traditional relative strength vs VN-Index",neutral:"1.0",interpretation:"> 1.0 = Outperforming, < 1.0 = Underperforming"},rs_ratio:{name:"RS Ratio",description:"RRG-style relative strength ratio",neutral:"100.0",interpretation:"> 100 = Outperforming, < 100 = Underperforming"},rs_momentum:{name:"RS Momentum",description:"RRG momentum indicator",neutral:"100.0",interpretation:"> 100 = Positive momentum, < 100 = Negative momentum"},crs:{name:"CRS",description:"21-day cumulative relative strength",neutral:"0.0%",interpretation:"> 0% = Outperforming, < 0% = Underperforming"}};return x.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-gray-900 p-4",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-200",children:"Industry Strength Heatmap"}),x.jsx("button",{onClick:()=>i(!r),className:"cursor-pointer p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:x.jsx(ge,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),x.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:Object.entries(l).map(([e,r])=>x.jsx("button",{onClick:()=>n(e),className:"cursor-pointer px-4 py-2 rounded-lg text-sm font-medium transition-colors "+(t===e?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"),children:r.name},e))}),r&&x.jsxs("div",{className:"mb-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[x.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-2",children:l[t].name}),x.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:l[t].description}),x.jsxs("div",{className:"text-sm",children:[x.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Neutral: "}),x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:l[t].neutral})]}),x.jsxs("div",{className:"text-sm",children:[x.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Interpretation: "}),x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:l[t].interpretation})]})]}),x.jsxs("div",{className:"flex items-center gap-4 mb-4 text-sm",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Strong"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-4 h-4 bg-gray-400 rounded"}),x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Neutral"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-4 h-4 bg-red-500 rounded"}),x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Weak"})]})]}),x.jsx("div",{className:"flex-grow overflow-hidden",children:x.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3 h-full overflow-y-auto",children:o.map((e,n)=>{return x.jsx("div",{className:`${a(e,t)} p-3 rounded-lg text-white shadow-lg transition-all hover:brightness-110 hover:shadow-2xl hover:ring-2 hover:ring-white/30 cursor-pointer`,title:`${e.industry}: ${s(e,t)}`,children:x.jsxs("div",{className:"flex flex-col h-full justify-between",children:[x.jsxs("div",{className:"flex items-start justify-between mb-2",children:[x.jsx("span",{className:"text-xs font-semibold leading-tight truncate pr-1",children:e.industry}),"rs_momentum"===t&&x.jsx("div",{className:"flex-shrink-0",children:(r=e.rs_momentum,r>102?x.jsx(Ne,{className:"w-3 h-3"}):r<98?x.jsx(ke,{className:"w-3 h-3"}):x.jsx(ye,{className:"w-3 h-3"}))})]}),x.jsxs("div",{className:"flex items-end justify-between",children:[x.jsx("span",{className:"text-lg font-bold",children:s(e,t)}),x.jsxs("span",{className:"text-xs opacity-75",children:["#",n+1]})]})]})},n);var r})})}),x.jsxs("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-4 gap-4 text-sm",children:[x.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[x.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Strong"}),x.jsx("div",{className:"text-lg font-bold text-green-600",children:o.filter(e=>{const n=e[t];return"rs_close"===t?n>=1.05:"rs_ratio"===t||"rs_momentum"===t?n>=102:"crs"===t&&n>=.03}).length})]}),x.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[x.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Neutral"}),x.jsx("div",{className:"text-lg font-bold text-gray-600",children:o.filter(e=>{const n=e[t];return"rs_close"===t?n>=.95&&n<1.05:"rs_ratio"===t||"rs_momentum"===t?n>=98&&n<102:"crs"===t&&n>=-.03&&n<.03}).length})]}),x.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[x.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Weak"}),x.jsx("div",{className:"text-lg font-bold text-red-600",children:o.filter(e=>{const n=e[t];return"rs_close"===t?n<.95:"rs_ratio"===t||"rs_momentum"===t?n<98:"crs"===t&&n<-.03}).length})]}),x.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[x.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Total"}),x.jsx("div",{className:"text-lg font-bold text-gray-800 dark:text-gray-200",children:o.length})]})]})]})},Cte=e=>{if("string"==typeof e){if(e.toLowerCase().includes("tích cực")||e.toLowerCase().includes("positive")||e.toLowerCase().includes("bull"))return"text-green-600";if(e.toLowerCase().includes("tiêu cực")||e.toLowerCase().includes("negative")||e.toLowerCase().includes("bear"))return"text-red-600";if(e.toLowerCase().includes("trung tính")||e.toLowerCase().includes("neutral"))return"text-yellow-600"}return"text-gray-600"},Ete=e=>{if("string"==typeof e){if(e.toLowerCase().includes("cao"))return"text-red-600";if(e.toLowerCase().includes("trung bình"))return"text-yellow-600";if(e.toLowerCase().includes("thấp"))return"text-green-600"}return"text-gray-600"},Pte=e=>{if("number"==typeof e){if(e>0)return"text-green-600";if(e<0)return"text-red-600"}return"text-gray-600"},Mte=e=>{if("string"==typeof e){if(e.toLowerCase().includes("vượt"))return"text-green-600";if(e.toLowerCase().includes("kém"))return"text-red-600"}return"text-gray-600"},Ote=e=>{if("string"==typeof e){if(e.toLowerCase().includes("tăng"))return"text-green-600";if(e.toLowerCase().includes("giảm"))return"text-red-600"}return"text-gray-600"},Ate=e=>{if("number"==typeof e){if(e>0)return"text-green-600";if(e<0)return"text-red-600"}return"text-gray-600"},Tte=e=>{if("number"==typeof e){if(e>0)return"text-green-600";if(e<0)return"text-red-600"}return"text-gray-600"},Dte=e=>{if("number"==typeof e){if(e>1)return"text-green-600";if(e<1)return"text-red-600"}return"text-gray-600"},Rte=e=>{if("string"==typeof e){if(e.toLowerCase().includes("leading")||e.toLowerCase().includes("dẫn dắt"))return"text-green-600";if(e.toLowerCase().includes("improving")||e.toLowerCase().includes("cải thiện"))return"text-blue-600";if(e.toLowerCase().includes("weakening")||e.toLowerCase().includes("suy yếu"))return"text-yellow-600";if(e.toLowerCase().includes("lagging")||e.toLowerCase().includes("tụt hậu"))return"text-red-600"}return"text-gray-600"},Ite=e=>{if("string"==typeof e){if(e.toLowerCase().includes("tăng"))return"text-green-600";if(e.toLowerCase().includes("giảm"))return"text-red-600";if(e.toLowerCase().includes("đứng yên"))return"text-yellow-600"}return"text-gray-600"},zte=e=>e?"Tăng trưởng mạnh"===e||"Tăng trưởng"===e?{icon:Ne,color:"text-green-600"}:"Đứng yên"===e?{icon:G,color:"text-yellow-600"}:"Suy giảm"===e||"Suy giảm mạnh"===e?{icon:ke,color:"text-red-600"}:{icon:ke,color:"text-gray-600"}:{icon:ke,color:"text-gray-600"},Lte=({icon:e,label:t,value:n,valueClassName:r="",tooltip:i=""})=>x.jsxs("div",{className:"flex items-center justify-between py-0.5",title:i,children:[x.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[x.jsx(e,{className:"w-3 h-3 mr-1.5"}),x.jsx("span",{className:"truncate",children:t})]}),x.jsx("span",{className:`font-mono text-xs font-medium ml-2 ${r}`,children:n})]}),Fte=({title:e,tooltip:t,children:n,className:r=""})=>x.jsxs("div",{className:`bg-gray-50 rounded-md p-2 ${r}`,children:[x.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[x.jsx("h4",{className:"font-semibold text-gray-800 text-xs",children:e}),t&&x.jsx("span",{className:"text-gray-400 cursor-pointer",title:t,children:x.jsx(ge,{size:12})})]}),x.jsx("div",{className:"space-y-0.5",children:n})]}),Bte=({industry:e})=>{if(!e)return x.jsx("div",{className:"bg-white border rounded-lg p-3 shadow-sm text-center",children:x.jsx("h3",{className:"text-sm font-bold text-gray-800",children:"Không có dữ liệu chi tiết cho ngành này."})});const{name:t,metrics:n={},speed_analysis:r={},direction_analysis:i={},risk_assessment:a={},trend_consistency:s={}}=e,o=e=>"number"==typeof e?`${(100*e).toFixed(1)}%`:"K/C";return x.jsxs("div",{className:"bg-white border rounded-lg p-3 shadow-sm",children:[x.jsx("h3",{className:"text-base font-bold text-gray-900 mb-2 truncate",children:e.name}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs(Fte,{title:"Hiệu suất",tooltip:"Sức mạnh tương đối (Relative Strength) so với VNINDEX",children:[x.jsx(Lte,{icon:Ne,label:"RS",value:o(null==n?void 0:n.current_rs),valueClassName:"text-blue-600"}),x.jsx(Lte,{icon:(null==n?void 0:n.rs_5d_change)>0?Z:X,label:"5d",value:o(null==n?void 0:n.rs_5d_change),valueClassName:Ate(null==n?void 0:n.rs_5d_change)})]}),x.jsxs(Fte,{title:"Tốc độ & Hướng",tooltip:"Phân tích tốc độ và hướng của xu hướng",children:[x.jsx(Lte,{icon:Oe,label:"Tốc độ",value:o(null==r?void 0:r.raw_speed_5d)}),(()=>{var e;const{icon:t,color:n}=zte(null==i?void 0:i.direction);return x.jsx(Lte,{icon:t,label:"Hướng",value:(null==(e=null==i?void 0:i.direction)?void 0:e.split(" ")[0])||"K/C",valueClassName:n})})()]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs(Fte,{title:"Rủi ro",tooltip:"Mức độ rủi ro và quy mô vị thế gợi ý",children:[x.jsx(Lte,{icon:_e,label:"Mức độ",value:null==a?void 0:a.risk_level,valueClassName:Ete(null==a?void 0:a.risk_level)}),x.jsx(Lte,{icon:ne,label:"Vị thế",value:(null==a?void 0:a.suggested_position_size)||"K/C"})]}),x.jsxs(Fte,{title:"Nhất quán",tooltip:"Tính nhất quán xu hướng ngành",children:[x.jsx(Lte,{icon:G,label:"Điểm",value:o(null==s?void 0:s.consistency_score)}),x.jsx(Lte,{icon:Ce,label:"Số mã",value:(null==s?void 0:s.symbol_count)||"K/C"})]})]}),x.jsx(Fte,{title:"Chi tiết bổ sung",children:x.jsxs("div",{className:"grid grid-cols-3 gap-1 text-center",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-gray-500",children:"21d"}),x.jsx("div",{className:"font-mono font-semibold text-xs "+((null==n?void 0:n.rs_21d_change)>0?"text-green-600":"text-red-600"),children:o(null==n?void 0:n.rs_21d_change)})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-gray-500",children:"Sức mạnh"}),x.jsx("div",{className:"font-mono font-semibold text-xs text-purple-600",children:(null==i?void 0:i.trend_strength)||"K/C"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-gray-500",children:"Tin cậy"}),x.jsx("div",{className:"font-mono font-semibold text-xs",children:o(null==s?void 0:s.trend_confidence)})]})]})})]})]})},Wte=({icon:e,label:t,value:n,valueClassName:r="",tooltip:i=""})=>x.jsxs("div",{className:"flex items-center justify-between py-0.5",title:i,children:[x.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[x.jsx(e,{className:"w-3 h-3 mr-1.5"}),x.jsx("span",{className:"truncate",children:t})]}),x.jsx("span",{className:`font-mono text-xs font-medium ml-2 ${r}`,children:n})]}),Vte=({title:e,tooltip:t,children:n,className:r=""})=>x.jsxs("div",{className:`bg-gray-50 rounded-md p-2 ${r}`,children:[x.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[x.jsx("h4",{className:"font-semibold text-gray-800 text-xs",children:e}),t&&x.jsx("span",{className:"text-gray-400 cursor-pointer",title:t,children:x.jsx(ge,{size:12})})]}),x.jsx("div",{className:"space-y-0.5",children:n})]}),$te=({group:e,groupData:t,analyzeData:n})=>{var r,i,a,s;if(!t&&!(null==(r=null==n?void 0:n.groups)?void 0:r.find(t=>t.custom_id===e.custom_id||t.id===e.custom_id)))return x.jsxs("div",{className:"bg-white border rounded-lg p-3 shadow-sm text-center",children:[x.jsx("h3",{className:"text-sm font-bold text-gray-800",children:e.name}),x.jsx("p",{className:"text-gray-500 text-xs",children:"Không có dữ liệu chi tiết cho nhóm này."})]});const{metrics:o={},performance_summary:l={},speed_analysis:c={},direction_analysis:u={},risk_assessment:d={}}=t,h=e=>"number"==typeof e?`${(100*e).toFixed(1)}%`:"K/C",f=e=>"number"==typeof e?e.toFixed(2):"K/C";return x.jsxs("div",{className:"bg-white border rounded-lg p-3 shadow-sm",children:[x.jsx("h3",{className:"text-base font-bold text-gray-900 mb-2 truncate",children:e.name}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs(Vte,{title:"Hiệu suất",tooltip:"Sức mạnh tương đối (Relative Strength) so với VNINDEX",children:[x.jsx(Wte,{icon:Ne,label:"RS",value:h(null==o?void 0:o.current_rs),valueClassName:"text-blue-600"}),x.jsx(Wte,{icon:(null==o?void 0:o.rs_5d_change)>0?Z:X,label:"5d",value:h(null==o?void 0:o.rs_5d_change),valueClassName:Ate(null==o?void 0:o.rs_5d_change)})]}),x.jsxs(Vte,{title:"Tốc độ & Hướng",tooltip:"Phân tích tốc độ và hướng của xu hướng",children:[x.jsx(Wte,{icon:Oe,label:"Tốc độ",value:h(null==c?void 0:c.raw_speed_5d)}),x.jsx(Wte,{icon:"Tăng trưởng"===(null==u?void 0:u.direction)?Ne:ke,label:"Hướng",value:null==u?void 0:u.direction,valueClassName:Ite(null==u?void 0:u.direction)})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs(Vte,{title:"Rủi ro",tooltip:"Mức độ rủi ro và quy mô vị thế gợi ý",children:[x.jsx(Wte,{icon:_e,label:"Mức độ",value:null==d?void 0:d.risk_level,valueClassName:Ete(null==d?void 0:d.risk_level)}),x.jsx(Wte,{icon:ne,label:"Vị thế",value:(null==d?void 0:d.suggested_position_size)||"K/C"})]}),x.jsxs(Vte,{title:"CRS",tooltip:"Cumulative Relative Strength analysis",children:[x.jsx(Wte,{icon:ne,label:"CRS",value:h(null==o?void 0:o.current_crs),valueClassName:Pte(null==o?void 0:o.current_crs)}),x.jsx(Wte,{icon:G,label:"Trạng thái",value:null==l?void 0:l.crs_status,valueClassName:Mte(null==l?void 0:l.crs_status)})]})]}),x.jsx(Vte,{title:"Chi tiết bổ sung",children:x.jsxs("div",{className:"grid grid-cols-3 gap-1 text-center",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-gray-500",children:"21d"}),x.jsx("div",{className:`font-mono font-semibold text-xs ${Ate(null==o?void 0:o.rs_21d_change)}`,children:h(null==o?void 0:o.rs_21d_change)})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-gray-500",children:"Sức mạnh"}),x.jsx("div",{className:"font-mono font-semibold text-xs text-purple-600",children:(null==u?void 0:u.trend_strength)||"K/C"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-gray-500",children:"Điểm"}),x.jsx("div",{className:"font-mono font-semibold text-xs",children:f(null==l?void 0:l.strength_score)})]})]})}),x.jsx(Vte,{title:"Khối lượng",children:x.jsxs("div",{className:"grid grid-cols-2 gap-1 text-center",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-gray-500",children:"Xu hướng"}),x.jsx("div",{className:"font-mono font-semibold text-xs text-blue-600",children:(null==(i=null==d?void 0:d.volume_analysis)?void 0:i.volume_trend)||"K/C"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-gray-500",children:"Tỷ lệ"}),x.jsx("div",{className:`font-mono font-semibold text-xs ${Dte(null==(a=null==d?void 0:d.volume_analysis)?void 0:a.recent_volume_ratio)}`,children:f(null==(s=null==d?void 0:d.volume_analysis)?void 0:s.recent_volume_ratio)})]})]})})]})]})},Kte=({icon:e,label:t,value:n,valueClassName:r="",tooltip:i=""})=>x.jsxs("div",{className:"flex items-center justify-between py-0.5",title:i,children:[x.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[x.jsx(e,{className:"w-3 h-3 mr-1.5"}),x.jsx("span",{className:"truncate",children:t})]}),x.jsx("span",{className:`font-mono text-xs font-medium ml-2 ${r}`,children:n})]}),Hte=({title:e,tooltip:t,children:n,className:r=""})=>x.jsxs("div",{className:`bg-gray-50 rounded-md p-2 ${r}`,children:[x.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[x.jsx("h4",{className:"font-semibold text-gray-800 text-xs",children:e}),t&&x.jsx("span",{className:"text-gray-400 cursor-pointer",title:t,children:x.jsx(ge,{size:12})})]}),x.jsx("div",{className:"space-y-0.5",children:n})]}),Ute=({symbol:e,analyzeData:t})=>{var n,r,i;const a=e;if(!a)return x.jsxs("div",{className:"bg-white border rounded-lg p-3 shadow-sm text-center",children:[x.jsx("h3",{className:"text-sm font-bold text-gray-800",children:(null==e?void 0:e.name)||"Unknown"}),x.jsx("p",{className:"text-gray-500 text-xs",children:"Không có dữ liệu chi tiết cho mã này."})]});let s=a;if((null==t?void 0:t.symbols)&&a.symbol){const e=t.symbols.find(e=>e.symbol===a.symbol);e&&(s=e)}const o=s.quadrant&&void 0!==s.velocity,l=s.metrics&&s.performance_summary,c=void 0!==s.speed_score&&s.speed_category,u=e=>"number"==typeof e?`${(100*e).toFixed(1)}%`:"K/C",d=(()=>{if(o)return{name:s.symbol||s.name,symbol:s.symbol,rs:s.rs_ratio||s.current_rs||1,rs_5d:s.rs_5d_change||0,rs_21d:s.rs_21d_change||0,speed:s.velocity||0,direction:s.direction||s.trajectory_strength||"K/C",risk_level:s.risk_level||"Trung bình",position_size:s.suggested_position_size||"K/C",crs:s.current_crs||0,crs_status:s.crs_status||"K/C",trend_strength:s.trend_strength||"K/C",strength_score:s.strength_score||0,quadrant:s.quadrant||"K/C"};if(l){const{metrics:e={},performance_summary:t={},speed_analysis:n={},direction_analysis:r={},risk_assessment:i={}}=s;return{name:s.name||s.symbol,symbol:s.symbol,rs:(null==e?void 0:e.current_rs)||1,rs_5d:(null==e?void 0:e.rs_5d_change)||0,rs_21d:(null==e?void 0:e.rs_21d_change)||0,speed:(null==n?void 0:n.raw_speed_5d)||(null==n?void 0:n.weighted_speed)||0,direction:(null==r?void 0:r.direction)||"K/C",risk_level:(null==i?void 0:i.risk_level)||"Trung bình",position_size:(null==i?void 0:i.suggested_position_size)||"K/C",crs:(null==e?void 0:e.current_crs)||0,crs_status:(null==t?void 0:t.crs_status)||"K/C",trend_strength:(null==r?void 0:r.trend_strength)||"K/C",strength_score:(null==t?void 0:t.strength_score)||0,quadrant:(null==t?void 0:t.quadrant)||"K/C"}}return c?{name:s.name||s.symbol||s.custom_id,symbol:s.symbol||s.custom_id,rs:s.rs_ratio||s.current_rs||1,rs_5d:s.rs_5d_change||0,rs_21d:s.rs_21d_change||0,speed:s.speed_score||s.velocity||0,direction:s.speed_category||s.direction||"K/C",risk_level:s.risk_level||"Trung bình",position_size:s.suggested_position_size||"K/C",crs:s.current_crs||0,crs_status:s.crs_status||"K/C",trend_strength:s.trend_strength||"K/C",strength_score:s.strength_score||0,quadrant:s.rrg_position||s.quadrant||"K/C"}:{name:s.name||s.symbol||s.custom_id||"Unknown",symbol:s.symbol||s.custom_id,rs:s.current_rs||s.rs_ratio||1,rs_5d:s.rs_5d_change||0,rs_21d:s.rs_21d_change||0,speed:s.speed_score||s.velocity||s.weighted_speed||0,direction:s.speed_category||s.direction||s.trajectory_strength||"K/C",risk_level:s.risk_level||"Trung bình",position_size:s.suggested_position_size||"K/C",crs:s.current_crs||0,crs_status:s.crs_status||"K/C",trend_strength:s.trend_strength||"K/C",strength_score:s.strength_score||0,quadrant:s.rrg_position||s.quadrant||"K/C"}})();return x.jsxs("div",{className:"bg-white border rounded-lg p-3 shadow-sm",children:[x.jsxs("h3",{className:"text-base font-bold text-gray-900 mb-2 truncate",children:[d.name,d.symbol&&x.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",d.symbol,")"]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs(Hte,{title:"Hiệu suất",tooltip:"Sức mạnh tương đối (Relative Strength) so với VNINDEX",children:[x.jsx(Kte,{icon:Ne,label:"RS",value:u(d.rs),valueClassName:"text-blue-600"}),x.jsx(Kte,{icon:d.rs_5d>0?Z:X,label:"5d",value:u(d.rs_5d),valueClassName:Ate(d.rs_5d)})]}),x.jsxs(Hte,{title:"Tốc độ & Hướng",tooltip:"Phân tích tốc độ và hướng của xu hướng",children:[x.jsx(Kte,{icon:Oe,label:"Tốc độ",value:u(d.speed)}),x.jsx(Kte,{icon:(null==(n=d.direction)?void 0:n.includes("Tăng"))||(null==(r=d.direction)?void 0:r.includes("Improving"))?Ne:ke,label:"Hướng",value:(null==(i=d.direction)?void 0:i.split(" ")[0])||"K/C",valueClassName:Ite(d.direction)})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs(Hte,{title:"Rủi ro",tooltip:"Mức độ rủi ro và quy mô vị thế gợi ý",children:[x.jsx(Kte,{icon:_e,label:"Mức độ",value:d.risk_level,valueClassName:Ete(d.risk_level)}),x.jsx(Kte,{icon:ne,label:"Vị thế",value:d.position_size})]}),x.jsxs(Hte,{title:"CRS",tooltip:"Cumulative Relative Strength analysis",children:[x.jsx(Kte,{icon:ne,label:"CRS",value:u(d.crs),valueClassName:Pte(d.crs)}),x.jsx(Kte,{icon:G,label:"Trạng thái",value:d.crs_status,valueClassName:Mte(d.crs_status)})]})]}),x.jsx(Hte,{title:"Chi tiết bổ sung",children:x.jsxs("div",{className:"grid grid-cols-3 gap-1 text-center",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-gray-500",children:"21d"}),x.jsx("div",{className:`font-mono font-semibold text-xs ${Ate(d.rs_21d)}`,children:u(d.rs_21d)})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-gray-500",children:"Sức mạnh"}),x.jsx("div",{className:"font-mono font-semibold text-xs text-purple-600",children:d.trend_strength})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-gray-500",children:"Điểm"}),x.jsx("div",{className:"font-mono font-semibold text-xs",children:(h=d.strength_score,"number"==typeof h?h.toFixed(2):"K/C")})]})]})})]})]});var h},Yte=({analysisData:e,type:t,getQuadrantColor:n,analyzeData:r})=>{var i,a,s,o;if(!(null==(i=null==e?void 0:e.top_performers)?void 0:i.length)&&!(null==(a=null==e?void 0:e.bottom_performers)?void 0:a.length))return x.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[x.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:["Xếp hạng ","industry"===t?"ngành":"group"===t?"nhóm":"cổ phiếu"," theo điểm số"]}),x.jsx("p",{className:"text-gray-500",children:"Không có dữ liệu để hiển thị"}),x.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Debug: analysisData keys: ",e?Object.keys(e).join(", "):"null"]}),x.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:[x.jsx("p",{children:"Array lengths:"}),x.jsxs("p",{children:["- top_performers: ",Array.isArray(null==e?void 0:e.top_performers)?e.top_performers.length:typeof(null==e?void 0:e.top_performers)]}),x.jsxs("p",{children:["- bottom_performers: ",Array.isArray(null==e?void 0:e.bottom_performers)?e.bottom_performers.length:typeof(null==e?void 0:e.bottom_performers)]})]}),x.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:[x.jsx("p",{children:"Sample data (first 2 items):"}),x.jsxs("p",{children:["- top_performers: ",Array.isArray(null==e?void 0:e.top_performers)&&e.top_performers.length>0?JSON.stringify(e.top_performers.slice(0,2)):"empty"]}),x.jsxs("p",{children:["- bottom_performers: ",Array.isArray(null==e?void 0:e.bottom_performers)&&e.bottom_performers.length>0?JSON.stringify(e.bottom_performers.slice(0,2)):"empty"]})]})]});const l={industry:{title:"Xếp hạng ngành theo điểm số",topLabel:"Ngành mạnh nhất",bottomLabel:"Ngành yếu nhất",bgColor:"bg-green-50",borderColor:"border-green-200",textColor:"text-green-900",topTextColor:"text-green-700",bottomTextColor:"text-red-700"},group:{title:"Xếp hạng nhóm vốn hóa theo điểm số",topLabel:"Top nhóm vốn hóa mạnh nhất",bottomLabel:"Top nhóm vốn hóa yếu nhất",bgColor:"bg-blue-50",borderColor:"border-blue-200",textColor:"text-blue-900",topTextColor:"text-blue-700",bottomTextColor:"text-red-700"},ticker:{title:"Xếp hạng cổ phiếu theo điểm số",topLabel:"Cổ phiếu mạnh nhất",bottomLabel:"Cổ phiếu yếu nhất",bgColor:"bg-purple-50",borderColor:"border-purple-200",textColor:"text-purple-900",topTextColor:"text-purple-700",bottomTextColor:"text-red-700"}},c=l[t]||l.industry,u=e=>{var n;switch(t){case"industry":const t=null==(n=null==r?void 0:r.industries)?void 0:n.find(t=>t.custom_id===e.custom_id||t.id===e.custom_id);return x.jsx(Bte,{industry:t||e});case"group":return x.jsx($te,{group:e,analyzeData:r});case"ticker":return x.jsx(Ute,{symbol:e,analyzeData:r});default:return null}};return x.jsxs("div",{className:`${c.bgColor} border ${c.borderColor} rounded-lg p-4`,children:[x.jsx("h3",{className:`text-lg font-semibold ${c.textColor} mb-3`,children:c.title}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(null==(s=e.top_performers)?void 0:s.length)>0&&x.jsxs("div",{children:[x.jsx("h4",{className:`font-medium ${c.topTextColor} mb-2`,children:c.topLabel}),x.jsx("div",{className:"space-y-2",children:e.top_performers.slice(0,10).map((e,t)=>x.jsx("div",{children:u(e)},t))})]}),(null==(o=e.bottom_performers)?void 0:o.length)>0&&x.jsxs("div",{children:[x.jsx("h4",{className:`font-medium ${c.bottomTextColor} mb-2`,children:c.bottomLabel}),x.jsx("div",{className:"space-y-2",children:e.bottom_performers.slice(0,10).map((e,t)=>x.jsx("div",{children:u(e)},t))})]})]})]})},qte=({analysisData:e,type:t,renderInsightItems:n,rrgData:r,investmentStrategies:i,analyzeData:a})=>{var s,o,l,c,u,d;if(!e)return null;const h={improving_momentum:e.improving_momentum,degrading_momentum:e.degrading_momentum,breakout_candidates:e.breakout_candidates,accumulation_candidates:e.accumulation_candidates,distribution_candidates:e.distribution_candidates,consolidation_candidates:e.consolidation_candidates,stealth_accumulation:e.stealth_accumulation,stealth_distribution:e.stealth_distribution,institutional_activity:e.institutional_activity,high_volatility:e.high_volatility,deteriorating_fundamentals:e.deteriorating_fundamentals,falling_knife:e.falling_knife},f=Object.values(h).some(e=>Array.isArray(e)&&e.some(Boolean)),m="group"===t&&((null==(o=null==(s=null==i?void 0:i.group_strategy)?void 0:s.group_rotation_signals)?void 0:o.length)>0||(null==(c=null==(l=null==i?void 0:i.group_strategy)?void 0:l.group_allocation)?void 0:c.length)>0||(null==(d=null==(u=null==i?void 0:i.group_strategy)?void 0:u.group_risk_warnings)?void 0:d.length)>0);if(!f&&!m)return null;const p={industry:{title:"Xếp hạng ngành theo tốc độ/hướng",bgColor:"bg-green-50",borderColor:"border-green-200",textColor:"text-green-900"},group:{title:"Xếp hạng nhóm vốn hóa theo tốc độ",bgColor:"bg-blue-50",borderColor:"border-blue-200",textColor:"text-blue-900"},ticker:{title:"Xếp hạng cổ phiếu theo tốc độ/hướng",bgColor:"bg-purple-50",borderColor:"border-purple-200",textColor:"text-purple-900"}},g=p[t]||p.industry,v="industry"===t?"ngành":"group"===t?"nhóm":"cổ phiếu";[e.improving_momentum,e.breakout_candidates,e.accumulation_candidates,e.stealth_accumulation,e.institutional_activity,e.top_performers].some(e=>Array.isArray(e)&&e.length>0),[e.degrading_momentum,e.distribution_candidates,e.consolidation_candidates,e.stealth_distribution,e.falling_knife,e.high_volatility,e.deteriorating_fundamentals,e.bottom_performers].some(e=>Array.isArray(e)&&e.length>0);const y=e=>{var n;switch(t){case"industry":const t=null==(n=null==a?void 0:a.industries)?void 0:n.find(t=>t.custom_id===e.custom_id||t.id===e.custom_id);return x.jsx(Bte,{industry:t||e});case"group":return x.jsx($te,{group:e,analyzeData:a});case"ticker":return x.jsx(Ute,{symbol:e,analyzeData:a});default:return null}};return x.jsxs("div",{className:`${g.bgColor} border ${g.borderColor} rounded-lg p-4`,children:[x.jsx("h3",{className:`text-lg font-semibold ${g.textColor} mb-3`,children:g.title}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"space-y-4",children:[Array.isArray(e.top_performers)&&e.top_performers.some(Boolean)&&x.jsxs("div",{children:[x.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"ticker"===t?"Top cổ phiếu mạnh nhất":"group"===t?"Top nhóm mạnh nhất":"Top ngành mạnh nhất"}),x.jsx("div",{className:"space-y-2",children:e.top_performers.slice(0,5).map((e,t)=>x.jsx("div",{children:y(e)},t))})]}),Array.isArray(e.improving_momentum)&&e.improving_momentum.some(Boolean)&&x.jsxs("div",{children:[x.jsxs("h4",{className:"font-medium text-green-700 mb-2",children:[v.charAt(0).toUpperCase()+v.slice(1)," có động lượng cải thiện"]}),x.jsx("div",{className:"space-y-2",children:e.improving_momentum.slice(0,5).map((e,t)=>x.jsx("div",{children:y(e)},t))})]}),Array.isArray(e.accumulation_candidates)&&e.accumulation_candidates.some(Boolean)&&x.jsxs("div",{children:[x.jsxs("h4",{className:"font-medium text-purple-700 mb-2",children:[v.charAt(0).toUpperCase()+v.slice(1)," tích lũy tiềm năng"]}),x.jsx("div",{className:"space-y-2",children:e.accumulation_candidates.slice(0,5).map((e,t)=>x.jsx("div",{children:y(e)},t))})]}),Array.isArray(e.breakout_candidates)&&e.breakout_candidates.some(Boolean)&&x.jsxs("div",{children:[x.jsxs("h4",{className:"font-medium text-blue-700 mb-2",children:[v.charAt(0).toUpperCase()+v.slice(1)," có thể bứt phá"]}),x.jsx("div",{className:"space-y-2",children:e.breakout_candidates.slice(0,5).map((e,t)=>x.jsx("div",{children:y(e)},t))})]}),Array.isArray(e.stealth_accumulation)&&e.stealth_accumulation.some(Boolean)&&x.jsxs("div",{children:[x.jsxs("h4",{className:"font-medium text-indigo-700 mb-2",children:[v.charAt(0).toUpperCase()+v.slice(1)," tích lũy âm thầm"]}),x.jsx("div",{className:"space-y-2",children:e.stealth_accumulation.slice(0,5).map((e,t)=>x.jsx("div",{children:y(e)},t))})]}),Array.isArray(e.institutional_activity)&&e.institutional_activity.some(Boolean)&&x.jsxs("div",{children:[x.jsx("h4",{className:"font-medium text-cyan-700 mb-2",children:"Hoạt động tổ chức"}),x.jsx("div",{className:"space-y-2",children:e.institutional_activity.slice(0,5).map((e,t)=>x.jsx("div",{children:y(e)},t))})]})]}),x.jsxs("div",{className:"space-y-4",children:[Array.isArray(e.bottom_performers)&&e.bottom_performers.some(Boolean)&&x.jsxs("div",{children:[x.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"ticker"===t?"Cổ phiếu yếu nhất":"group"===t?"Nhóm yếu nhất":"Ngành yếu nhất"}),x.jsx("div",{className:"space-y-2",children:e.bottom_performers.slice(0,5).map((e,t)=>x.jsx("div",{children:y(e)},t))})]}),Array.isArray(e.degrading_momentum)&&e.degrading_momentum.some(Boolean)&&x.jsxs("div",{children:[x.jsxs("h4",{className:"font-medium text-red-700 mb-2",children:[v.charAt(0).toUpperCase()+v.slice(1)," có động lượng suy giảm"]}),x.jsx("div",{className:"space-y-2",children:e.degrading_momentum.slice(0,5).map((e,t)=>x.jsx("div",{children:y(e)},t))})]}),Array.isArray(e.distribution_candidates)&&e.distribution_candidates.some(Boolean)&&x.jsxs("div",{children:[x.jsxs("h4",{className:"font-medium text-orange-700 mb-2",children:[v.charAt(0).toUpperCase()+v.slice(1)," có thể phân phối"]}),x.jsx("div",{className:"space-y-2",children:e.distribution_candidates.slice(0,5).map((e,t)=>x.jsx("div",{children:y(e)},t))})]}),Array.isArray(e.consolidation_candidates)&&e.consolidation_candidates.some(Boolean)&&x.jsxs("div",{children:[x.jsxs("h4",{className:"font-medium text-yellow-700 mb-2",children:[v.charAt(0).toUpperCase()+v.slice(1)," củng cố"]}),x.jsx("div",{className:"space-y-2",children:e.consolidation_candidates.slice(0,5).map((e,t)=>x.jsx("div",{children:y(e)},t))})]}),Array.isArray(e.stealth_distribution)&&e.stealth_distribution.some(Boolean)&&x.jsxs("div",{children:[x.jsxs("h4",{className:"font-medium text-pink-700 mb-2",children:[v.charAt(0).toUpperCase()+v.slice(1)," phân phối âm thầm"]}),x.jsx("div",{className:"space-y-2",children:e.stealth_distribution.slice(0,5).map((e,t)=>x.jsx("div",{children:y(e)},t))})]}),Array.isArray(e.falling_knife)&&e.falling_knife.some(Boolean)&&x.jsxs("div",{children:[x.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"Dao rơi (tránh hoàn toàn)"}),x.jsx("div",{className:"space-y-2",children:e.falling_knife.slice(0,5).map((e,t)=>x.jsx("div",{children:y(e)},t))})]}),Array.isArray(e.high_volatility)&&e.high_volatility.some(Boolean)&&x.jsxs("div",{children:[x.jsx("h4",{className:"font-medium text-orange-800 mb-2",children:"Biến động cao"}),x.jsx("div",{className:"space-y-2",children:e.high_volatility.slice(0,5).map((e,t)=>x.jsx("div",{children:y(e)},t))})]}),Array.isArray(e.deteriorating_fundamentals)&&e.deteriorating_fundamentals.some(Boolean)&&x.jsxs("div",{children:[x.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"Cơ bản suy giảm"}),x.jsx("div",{className:"space-y-2",children:e.deteriorating_fundamentals.slice(0,5).map((e,t)=>x.jsx("div",{children:y(e)},t))})]})]})]}),e.rrg_performers&&x.jsxs("div",{className:"mt-6",children:[x.jsx("h4",{className:"font-medium text-blue-700 mb-3",children:"RRG Quadrants"}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{key:"leading_quadrant",label:"Leading (Dẫn dắt)"},{key:"lagging_quadrant",label:"Lagging (Tụt hậu)"},{key:"improving_quadrant",label:"Improving (Cải thiện)"},{key:"weakening_quadrant",label:"Weakening (Suy yếu)"}].map(({key:t,label:n})=>{return Array.isArray(e.rrg_performers[t])&&e.rrg_performers[t].some(Boolean)&&x.jsxs("div",{children:[x.jsx("h5",{className:"font-semibold mb-2",children:n}),(r=e.rrg_performers[t],r&&Array.isArray(r)&&0!==r.length?x.jsx("div",{className:"space-y-2",children:r.slice(0,5).map((e,t)=>x.jsx("div",{children:y(e)},t))}):null)]},t);var r})})]})]})},Gte=({investmentStrategies:e})=>{if(!e)return x.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[x.jsx("h3",{className:"text-lg font-semibold text-orange-900 mb-3",children:"Chiến lược đầu tư"}),x.jsx("p",{className:"text-gray-500",children:"Không có dữ liệu để hiển thị"})]});const t=e.macro_strategy&&(e.macro_strategy.overall_positioning&&e.macro_strategy.overall_positioning.length>0||e.macro_strategy.market_phase_analysis&&e.macro_strategy.market_phase_analysis.length>0||e.macro_strategy.risk_management&&e.macro_strategy.risk_management.length>0),n=e.sector_strategy&&(e.sector_strategy.sector_rotation_signals&&e.sector_strategy.sector_rotation_signals.length>0||e.sector_strategy.sector_allocation&&e.sector_strategy.sector_allocation.length>0||e.sector_strategy.sector_risk_warnings&&e.sector_strategy.sector_risk_warnings.length>0),r=e.group_strategy&&(e.group_strategy.group_rotation_signals&&e.group_strategy.group_rotation_signals.length>0||e.group_strategy.group_allocation&&e.group_strategy.group_allocation.length>0||e.group_strategy.group_risk_warnings&&e.group_strategy.group_risk_warnings.length>0),i=e.stock_strategy&&(e.stock_strategy.momentum_strategy&&e.stock_strategy.momentum_strategy.length>0||e.stock_strategy.accumulation_strategy&&e.stock_strategy.accumulation_strategy.length>0||e.stock_strategy.risk_avoidance&&e.stock_strategy.risk_avoidance.length>0||e.stock_strategy.position_sizing&&e.stock_strategy.position_sizing.length>0);return t||n||r||i?x.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[x.jsx("h3",{className:"text-lg font-semibold text-orange-900 mb-3",children:e.title||"Chiến lược đầu tư đề xuất"}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t&&x.jsxs("div",{children:[x.jsx("h4",{className:"font-medium text-orange-800 mb-2",children:"Chiến lược tổng thể thị trường"}),x.jsx("div",{className:"bg-white p-3 rounded border",children:x.jsxs("div",{className:"space-y-2",children:[e.macro_strategy.overall_positioning&&e.macro_strategy.overall_positioning.length>0&&x.jsxs("div",{children:[x.jsx("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"Vị thế tổng thể:"}),e.macro_strategy.overall_positioning.map((e,t)=>x.jsxs("div",{className:"text-sm text-gray-700 ml-2",children:["• ",e]},t))]}),e.macro_strategy.market_phase_analysis&&e.macro_strategy.market_phase_analysis.length>0&&x.jsxs("div",{children:[x.jsx("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"Phân tích giai đoạn thị trường:"}),e.macro_strategy.market_phase_analysis.map((e,t)=>x.jsxs("div",{className:"text-sm text-gray-700 ml-2",children:["• ",e]},t))]}),e.macro_strategy.risk_management&&e.macro_strategy.risk_management.length>0&&x.jsxs("div",{children:[x.jsx("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"Quản lý rủi ro:"}),e.macro_strategy.risk_management.map((e,t)=>x.jsxs("div",{className:"text-sm text-gray-700 ml-2",children:["• ",e]},t))]})]})})]}),r&&x.jsxs("div",{children:[x.jsx("h4",{className:"font-medium text-orange-800 mb-2",children:"Chiến lược nhóm vốn hóa"}),x.jsx("div",{className:"bg-white p-3 rounded border",children:x.jsxs("div",{className:"space-y-2",children:[e.group_strategy.group_rotation_signals&&e.group_strategy.group_rotation_signals.length>0&&x.jsxs("div",{children:[x.jsx("div",{className:"text-sm font-medium text-blue-700 mb-1",children:"Tín hiệu luân chuyển nhóm:"}),e.group_strategy.group_rotation_signals.map((e,t)=>x.jsxs("div",{className:"text-sm text-gray-700 ml-2",children:["• ",e]},t))]}),e.group_strategy.group_allocation&&e.group_strategy.group_allocation.length>0&&x.jsxs("div",{children:[x.jsx("div",{className:"text-sm font-medium text-green-700 mb-1",children:"Phân bổ nhóm:"}),e.group_strategy.group_allocation.map((e,t)=>x.jsxs("div",{className:"text-sm text-gray-700 ml-2",children:["• ",e]},t))]}),e.group_strategy.group_risk_warnings&&e.group_strategy.group_risk_warnings.length>0&&x.jsxs("div",{children:[x.jsx("div",{className:"text-sm font-medium text-red-700 mb-1",children:"Cảnh báo rủi ro nhóm:"}),e.group_strategy.group_risk_warnings.map((e,t)=>x.jsxs("div",{className:"text-sm text-gray-700 ml-2",children:["• ",e]},t))]})]})})]})]}),n&&x.jsxs("div",{children:[x.jsx("h4",{className:"font-medium text-orange-800 mb-2",children:"Chiến lược ngành"}),x.jsx("div",{className:"bg-white p-3 rounded border",children:x.jsxs("div",{className:"space-y-2",children:[e.sector_strategy.sector_rotation_signals&&e.sector_strategy.sector_rotation_signals.length>0&&x.jsxs("div",{children:[x.jsx("div",{className:"text-sm font-medium text-blue-700 mb-1",children:"Tín hiệu luân chuyển ngành:"}),e.sector_strategy.sector_rotation_signals.map((e,t)=>x.jsxs("div",{className:"text-sm text-gray-700 ml-2",children:["• ",e]},t))]}),e.sector_strategy.sector_allocation&&e.sector_strategy.sector_allocation.length>0&&x.jsxs("div",{children:[x.jsx("div",{className:"text-sm font-medium text-green-700 mb-1",children:"Phân bổ ngành:"}),e.sector_strategy.sector_allocation.map((e,t)=>x.jsxs("div",{className:"text-sm text-gray-700 ml-2",children:["• ",e]},t))]}),e.sector_strategy.sector_risk_warnings&&e.sector_strategy.sector_risk_warnings.length>0&&x.jsxs("div",{children:[x.jsx("div",{className:"text-sm font-medium text-red-700 mb-1",children:"Cảnh báo rủi ro ngành:"}),e.sector_strategy.sector_risk_warnings.map((e,t)=>x.jsxs("div",{className:"text-sm text-gray-700 ml-2",children:["• ",e]},t))]})]})})]}),i&&x.jsxs("div",{children:[x.jsx("h4",{className:"font-medium text-orange-800 mb-2",children:"Chiến lược cổ phiếu cá nhân (Stock)"}),x.jsx("div",{className:"bg-white p-3 rounded border",children:x.jsxs("div",{className:"space-y-2",children:[e.stock_strategy.momentum_strategy&&e.stock_strategy.momentum_strategy.length>0&&x.jsxs("div",{children:[x.jsx("div",{className:"text-sm font-medium text-green-700 mb-1",children:"Chiến lược momentum:"}),e.stock_strategy.momentum_strategy.map((e,t)=>x.jsxs("div",{className:"text-sm text-gray-700 ml-2",children:["• ",e]},t))]}),e.stock_strategy.accumulation_strategy&&e.stock_strategy.accumulation_strategy.length>0&&x.jsxs("div",{children:[x.jsx("div",{className:"text-sm font-medium text-blue-700 mb-1",children:"Chiến lược tích lũy:"}),e.stock_strategy.accumulation_strategy.map((e,t)=>x.jsxs("div",{className:"text-sm text-gray-700 ml-2",children:["• ",e]},t))]}),e.stock_strategy.risk_avoidance&&e.stock_strategy.risk_avoidance.length>0&&x.jsxs("div",{children:[x.jsx("div",{className:"text-sm font-medium text-red-700 mb-1",children:"Tránh rủi ro:"}),e.stock_strategy.risk_avoidance.map((e,t)=>x.jsxs("div",{className:"text-sm text-gray-700 ml-2",children:["• ",e]},t))]}),e.stock_strategy.position_sizing&&e.stock_strategy.position_sizing.length>0&&x.jsxs("div",{children:[x.jsx("div",{className:"text-sm font-medium text-purple-700 mb-1",children:"Kích thước vị thế:"}),e.stock_strategy.position_sizing.map((e,t)=>x.jsxs("div",{className:"text-sm text-gray-700 ml-2",children:["• ",e]},t))]})]})})]})]})]}):x.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[x.jsx("h3",{className:"text-lg font-semibold text-orange-900 mb-3",children:e.title||"Chiến lược đầu tư đề xuất"}),x.jsx("p",{className:"text-gray-500",children:"Chưa có dữ liệu chiến lược đầu tư cụ thể để hiển thị"}),x.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Debug: investmentStrategies keys: ",Object.keys(e).join(", ")]}),x.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:[x.jsx("p",{children:"Available data:"}),x.jsxs("p",{children:["- macro_strategy: ",(null==e?void 0:e.macro_strategy)?"exists":"missing"]}),x.jsxs("p",{children:["- group_strategy: ",(null==e?void 0:e.group_strategy)?"exists":"missing"]}),x.jsxs("p",{children:["- sector_strategy: ",(null==e?void 0:e.sector_strategy)?"exists":"missing"]}),x.jsxs("p",{children:["- stock_strategy: ",(null==e?void 0:e.stock_strategy)?"exists":"missing"]})]}),(null==e?void 0:e.macro_strategy)&&x.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:[x.jsxs("p",{children:["Macro strategy keys: ",Object.keys(e.macro_strategy).join(", ")]}),x.jsxs("p",{children:["Overall positioning: ",JSON.stringify(e.macro_strategy.overall_positioning)]})]}),(null==e?void 0:e.group_strategy)&&x.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:[x.jsxs("p",{children:["Group strategy keys: ",Object.keys(e.group_strategy).join(", ")]}),x.jsxs("p",{children:["Group rotation signals: ",JSON.stringify(e.group_strategy.group_rotation_signals)]})]})]})},Xte=({tabs:e,activeTab:t,onTabChange:n})=>x.jsx("nav",{className:"-mb-px flex space-x-8 px-6",children:e.map(e=>x.jsx("button",{onClick:()=>n(e.key),className:"py-4 px-1 border-b-2 font-medium text-sm cursor-pointer "+(t===e.key?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),type:"button",children:e.label},e.key))}),Qte=({title:e,tabs:t})=>{var n,r;const[i,a]=k.useState((null==(n=t[0])?void 0:n.key)||"market-flow"),s=t.map(e=>({key:e.key,label:e.label}));return x.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[x.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:e}),x.jsx("div",{className:"border-b border-gray-200 mb-6 hidden md:block",children:x.jsx(Xte,{tabs:s,activeTab:i,onTabChange:a})}),x.jsx("div",{className:"md:hidden mb-4",children:x.jsx("select",{className:"w-full p-2 rounded border border-blue-200 text-blue-900 bg-white",value:i,onChange:e=>a(e.target.value),children:t.map(e=>x.jsx("option",{value:e.key,children:e.label},e.key))})}),x.jsx("div",{className:"min-h-[400px]",children:t.map(e=>x.jsx("div",{id:`tabpanel-${e.key}`,role:"tabpanel","aria-labelledby":`tab-${e.key}`,className:i===e.key?"block":"hidden",children:x.jsx("div",{className:"space-y-4",children:e.content})},e.key))}),x.jsx("div",{className:"mt-4 pt-4 border-t border-blue-200",children:x.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[x.jsxs("span",{children:["Hiển thị: ",null==(r=t.find(e=>e.key===i))?void 0:r.label]}),x.jsxs("span",{children:[t.findIndex(e=>e.key===i)+1," / ",t.length]})]})})]})},Zte=({title:e,data:t,color:n,Icon:r})=>{var i;return t?x.jsxs("div",{className:`p-3 rounded-lg border ${n.border} ${n.bg}`,children:[x.jsxs("div",{className:"flex items-center mb-2",children:[r&&x.jsx(r,{className:`w-5 h-5 mr-2 ${n.text}`}),x.jsxs("h5",{className:`font-semibold text-sm ${n.text}`,children:[e," (",t.count||0,")"]})]}),x.jsx("div",{className:`text-xs font-medium mb-1 ${n.text}`,children:t.strength||t.potential||t.warning_level||"N/A"}),(null==(i=t.sectors)?void 0:i.length)>0&&x.jsx("p",{className:"text-xs text-slate-600",children:t.sectors.join(", ")})]}):null},Jte=({sector:e,colorClass:t="bg-slate-50"})=>x.jsxs("div",{className:`p-2 rounded-md flex justify-between items-center ${t}`,children:[x.jsxs("div",{children:[x.jsx("div",{className:"font-semibold text-sm text-slate-800",children:e.name}),x.jsx("div",{className:"text-xs text-slate-500",children:e.money_flow})]}),x.jsxs("div",{className:"text-right",children:[x.jsx("div",{className:`font-bold text-xs ${Cte(e.quadrant)}`,children:e.quadrant}),x.jsxs("div",{className:"text-xs text-slate-500",children:[(100*e.velocity).toFixed(1),"%"]})]})]}),ene=({sectorRotation:e})=>{var t,n;if(!e)return null;const{money_flow_summary:r,sector_leadership:i,rotation_patterns:a,top_rotating_sectors:s,detailed_flow:o}=e,l={leader:{bg:"bg-green-50",border:"border-green-200",text:"text-green-700",Icon:null},emerging:{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-700",Icon:null},declining:{bg:"bg-red-50",border:"border-red-200",text:"text-red-700",Icon:null}};return x.jsxs("div",{className:"p-4 bg-white rounded-lg border",children:[x.jsx("h3",{className:"font-bold text-base text-slate-800 mb-4",children:"Phân tích luân chuyển ngành"}),a&&x.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg border mb-4",children:[x.jsx("h4",{className:"font-semibold text-sm text-yellow-700 mb-1",children:"Mô hình xoay vòng"}),x.jsxs("div",{className:"text-xs text-slate-700",children:[x.jsx("b",{children:"Ổn định:"})," ",a.stability]}),x.jsxs("div",{className:"text-xs text-slate-700",children:[x.jsx("b",{children:"Tốc độ:"})," ",a.rotation_speed]}),x.jsxs("div",{className:"text-xs text-slate-700",children:[x.jsx("b",{children:"Chủ đề:"})," ",a.theme]})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"space-y-4",children:[r&&x.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg border",children:[x.jsx("h4",{className:"font-semibold text-sm text-slate-700 mb-2",children:"Tổng quan dòng tiền"}),x.jsx("p",{className:`font-bold text-lg mb-2 ${Cte(r.dominant_theme)}`,children:r.dominant_theme}),x.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 text-xs text-center",children:[x.jsxs("div",{className:"bg-white p-1 rounded border",children:[x.jsx("b",{children:"Sức mạnh:"})," ",r.rotation_strength]}),x.jsxs("div",{className:"bg-white p-1 rounded border",children:[x.jsx("b",{children:"Tốc độ:"})," ",r.flow_velocity]}),x.jsxs("div",{className:"bg-white p-1 rounded border",children:[x.jsx("b",{children:"Vào:"})," ",r.inflow_count]}),x.jsxs("div",{className:"bg-white p-1 rounded border",children:[x.jsx("b",{children:"Ra:"})," ",r.outflow_count]})]})]}),i&&x.jsxs("div",{children:[x.jsx("h4",{className:"font-semibold text-sm text-slate-700 mb-2",children:"Trạng thái Leadership"}),x.jsxs("div",{className:"space-y-3",children:[x.jsx(Zte,{title:"Dẫn dắt hiện tại",data:i.current_leaders,color:l.leader,Icon:l.leader.Icon}),x.jsx(Zte,{title:"Dẫn dắt mới nổi",data:i.emerging_leaders,color:l.emerging,Icon:l.emerging.Icon}),x.jsx(Zte,{title:"Dẫn dắt suy yếu",data:i.declining_leaders,color:l.declining,Icon:l.declining.Icon})]})]})]}),x.jsxs("div",{className:"space-y-4",children:[(null==s?void 0:s.length)>0&&x.jsxs("div",{children:[x.jsx("h4",{className:"font-semibold text-sm text-slate-700 mb-2 flex items-center",children:" Top ngành xoay vòng"}),x.jsx("div",{className:"space-y-2",children:s.slice(0,5).map((e,t)=>x.jsx(Jte,{sector:e},t))})]}),o&&x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("h4",{className:"font-semibold text-sm text-green-700 mb-2 flex items-center",children:" Dòng tiền vào"}),x.jsx("div",{className:"space-y-2",children:null==(t=o.inflow_sectors)?void 0:t.slice(0,3).map((e,t)=>x.jsx(Jte,{sector:e,colorClass:"bg-green-50"},t))})]}),x.jsxs("div",{children:[x.jsx("h4",{className:"font-semibold text-sm text-red-700 mb-2 flex items-center",children:" Dòng tiền ra"}),x.jsx("div",{className:"space-y-2",children:null==(n=o.outflow_sectors)?void 0:n.slice(0,3).map((e,t)=>x.jsx(Jte,{sector:e,colorClass:"bg-red-50"},t))})]})]})]})]})]})},tne=({group:e,color:t,title:n})=>{var r;return e?x.jsxs("div",{className:`p-3 rounded-lg border ${t.bg} ${t.border} flex flex-col`,children:[x.jsx("h5",{className:`font-bold text-sm mb-2 ${t.text}`,children:n||e.name}),n&&x.jsx("p",{className:"text-sm font-semibold text-slate-800 -mt-1 mb-2",children:e.name}),x.jsxs("div",{className:"grid grid-cols-2 gap-x-2 gap-y-1 text-xs mt-auto",children:[x.jsx("span",{className:"text-slate-500",children:"RRG:"}),x.jsx("span",{className:`font-semibold ${Cte(e.rrg_quadrant)}`,children:e.rrg_quadrant}),x.jsx("span",{className:"text-slate-500",children:"Điểm mạnh:"}),x.jsx("span",{className:"font-semibold text-slate-700",children:null==(r=e.strength_score)?void 0:r.toFixed(2)}),x.jsx("span",{className:"text-slate-500",children:"Tốc độ:"}),x.jsxs("span",{className:"font-semibold text-slate-700",children:[(100*e.velocity).toFixed(1),"%"]})]}),x.jsx("div",{className:`mt-2 pt-1 border-t ${t.border} text-xs text-slate-600 font-medium`,children:e.money_flow})]}):null},nne=({marketCapFlow:e})=>{var t,n;if(!e)return null;const{groups_summary:r,flow_theme:i,outperforming_count:a,underperforming_count:s}=e,o={outperform:{bg:"bg-green-50",border:"border-green-200",text:"text-green-700"},underperform:{bg:"bg-red-50",border:"border-red-200",text:"text-red-700"}};return x.jsxs("div",{className:"p-4 bg-white rounded-lg border",children:[x.jsx("h3",{className:"font-bold text-base text-slate-800 mb-4",children:"Phân tích nhóm vốn hóa"}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[x.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[x.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg border",children:[x.jsx("h4",{className:"font-semibold text-sm text-slate-700 mb-1",children:"Xu hướng dòng tiền"}),x.jsx("p",{className:"text-sm text-slate-600",children:i}),x.jsxs("div",{className:"text-xs text-slate-500 mt-2",children:[x.jsx("span",{className:"font-medium text-green-600",children:"Vượt trội:"})," ",a," nhóm |",x.jsx("span",{className:"font-medium text-red-600",children:" Kém:"})," ",s," nhóm"]})]}),r&&x.jsxs(x.Fragment,{children:[x.jsx(tne,{title:"Nhóm mạnh nhất",group:r.strongest_group,color:o.outperform}),x.jsx(tne,{title:"Nhóm yếu nhất",group:r.weakest_group,color:o.underperform})]})]}),x.jsxs("div",{className:"lg:col-span-3",children:[x.jsx("h4",{className:"font-semibold text-sm text-slate-700 mb-2",children:"Hiệu suất nhóm"}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("h5",{className:"font-semibold text-sm text-green-700 mb-2 flex items-center",children:"Vượt trội"}),x.jsx("div",{className:"space-y-2",children:null==(t=null==r?void 0:r.outperforming_groups)?void 0:t.map((e,t)=>x.jsx(tne,{group:e,color:o.outperform},t))})]}),x.jsxs("div",{children:[x.jsx("h5",{className:"font-semibold text-sm text-red-700 mb-2 flex items-center",children:"Kém hiệu quả"}),x.jsx("div",{className:"space-y-2",children:null==(n=null==r?void 0:r.underperforming_groups)?void 0:n.map((e,t)=>x.jsx(tne,{group:e,color:o.underperform},t))})]})]})]})]})]})},rne=({candidate:e})=>{var t;return e?x.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border border-slate-200 hover:bg-slate-50",children:[x.jsx("div",{className:"font-bold text-sm text-slate-800 w-16",children:e.symbol}),x.jsxs("div",{className:"flex items-center justify-end gap-4 text-xs",children:[x.jsxs("div",{className:"text-right",children:[x.jsx("div",{className:"text-slate-500",children:"Tốc độ"}),x.jsxs("div",{className:"font-semibold",children:[(100*e.speed).toFixed(1),"%"]})]}),x.jsxs("div",{className:"text-right",children:[x.jsx("div",{className:"text-slate-500",children:"Gia tốc"}),x.jsxs("div",{className:"font-semibold",children:[(100*e.acceleration).toFixed(1),"%"]})]}),x.jsxs("div",{className:"text-right",children:[x.jsx("div",{className:"text-slate-500",children:"Tỷ lệ"}),x.jsx("div",{className:"font-semibold",children:null==(t=e.momentum_ratio)?void 0:t.toFixed(1)})]})]})]}):null},ine=({title:e,phaseData:t,listTitle:n,color:r,Icon:i})=>{if(!t)return null;const a=t.top_candidates||t.warning_list||t.watch_list||[];return x.jsxs("div",{className:`p-3 rounded-lg border flex flex-col ${r.bg} ${r.border}`,children:[x.jsxs("div",{className:"flex items-center mb-1",children:[i&&x.jsx(i,{className:`w-5 h-5 mr-2 shrink-0 ${r.text}`}),x.jsx("h5",{className:`font-semibold text-sm ${r.text}`,children:e})]}),x.jsxs("p",{className:"text-xs font-medium text-slate-500 mb-3 -mt-1",children:[t.count," mã (",t.percentage,")"]}),a.length>0&&x.jsxs("div",{className:"space-y-2",children:[x.jsxs("p",{className:"text-xs font-semibold text-slate-600",children:[n,":"]}),a.slice(0,5).map((e,t)=>x.jsx(rne,{candidate:e},t))]})]})},ane=({momentumCycles:e})=>{if(!e)return null;const{cycle_interpretation:t,accumulation_phase:n,acceleration_phase:r,momentum_phase:i,exhaustion_phase:a,reversal_phase:s}=e,o={accumulation:{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-700",Icon:null},acceleration:{bg:"bg-green-50",border:"border-green-200",text:"text-green-700",Icon:null},momentum:{bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-700",Icon:null},exhaustion:{bg:"bg-red-50",border:"border-red-200",text:"text-red-700",Icon:null},reversal:{bg:"bg-purple-50",border:"border-purple-200",text:"text-purple-700",Icon:null}};return x.jsxs("div",{className:"p-4 bg-white rounded-lg border space-y-4",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"font-bold text-base text-slate-800",children:"Chu kỳ động lượng"}),t&&x.jsx("p",{className:"text-sm text-slate-600 mt-1",children:t})]}),x.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[{key:"accumulation",title:"Tích lũy",data:n,listTitle:"Ứng viên hàng đầu"},{key:"acceleration",title:"Tăng tốc",data:r,listTitle:"Ứng viên hàng đầu"},{key:"momentum",title:"Động lượng",data:i,listTitle:"Ứng viên hàng đầu"},{key:"exhaustion",title:"Kiệt sức",data:a,listTitle:"Danh sách cảnh báo"},{key:"reversal",title:"Đảo chiều",data:s,listTitle:"Danh sách theo dõi"}].map(e=>e.data?x.jsx(ine,{title:e.title,phaseData:e.data,listTitle:e.listTitle,color:o[e.key],Icon:o[e.key].Icon},e.key):null)})]})},sne=({institutionalFlow:e})=>e?x.jsxs("div",{className:"bg-white p-3 rounded border",children:[x.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Dòng tiền tổ chức"}),e.overall_sentiment&&x.jsxs("div",{className:"mb-3 p-2 bg-gray-50 rounded",children:[x.jsx("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"Tổng quan"}),x.jsxs("div",{className:"text-sm text-gray-600",children:[x.jsx("span",{className:"font-medium",children:"Mua:"})," ",e.overall_sentiment.buying_percentage||"N/A"," |",x.jsx("span",{className:"font-medium",children:" Bán:"})," ",e.overall_sentiment.selling_percentage||"N/A"]}),x.jsx("div",{className:"text-xs text-gray-500 mt-1",children:e.overall_sentiment.interpretation||"N/A"})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.institutional_buying&&x.jsxs("div",{className:"p-2 bg-green-50 rounded",children:[x.jsxs("div",{className:"font-medium text-sm text-green-700 mb-2",children:["Tổ chức mua vào (",e.institutional_buying.count||0,")"]}),x.jsx("div",{className:"text-xs mb-2 "+("Tích cực"===e.institutional_buying.sentiment?"text-green-600":"text-red-600"),children:e.institutional_buying.sentiment||"N/A"}),e.institutional_buying.top_targets&&e.institutional_buying.top_targets.length>0&&x.jsxs("div",{className:"space-y-1",children:[x.jsx("div",{className:"text-xs font-medium text-gray-600",children:"Mục tiêu hàng đầu:"}),e.institutional_buying.top_targets.slice(0,5).map((e,t)=>x.jsxs("div",{className:"text-xs text-gray-600",children:[x.jsx("span",{className:"font-medium",children:e.symbol})," - ",e.direction,x.jsxs("span",{className:"text-green-600",children:[" (",(100*e.speed).toFixed(2),"%)"]})]},t))]})]}),e.institutional_selling&&x.jsxs("div",{className:"p-2 bg-red-50 rounded",children:[x.jsxs("div",{className:"font-medium text-sm text-red-700 mb-2",children:["Tổ chức bán ra (",e.institutional_selling.count||0,")"]}),e.institutional_selling.top_exits&&e.institutional_selling.top_exits.length>0&&x.jsxs("div",{className:"space-y-1",children:[x.jsx("div",{className:"text-xs font-medium text-gray-600",children:"Thoát hàng đầu:"}),e.institutional_selling.top_exits.slice(0,5).map((e,t)=>x.jsxs("div",{className:"text-xs text-gray-600",children:[x.jsx("span",{className:"font-medium",children:e.symbol})," - ",e.direction,x.jsxs("span",{className:"text-red-600",children:[" (",(100*e.speed).toFixed(2),"%)"]})]},t))]})]}),e.mixed_signals&&x.jsxs("div",{className:"p-2 bg-yellow-50 rounded",children:[x.jsxs("div",{className:"font-medium text-sm text-yellow-700 mb-2",children:["Tín hiệu hỗn hợp (",e.mixed_signals.count||0,")"]}),e.mixed_signals.watch_list&&e.mixed_signals.watch_list.length>0&&x.jsxs("div",{className:"space-y-1",children:[x.jsx("div",{className:"text-xs font-medium text-gray-600",children:"Danh sách theo dõi:"}),e.mixed_signals.watch_list.slice(0,5).map((e,t)=>x.jsxs("div",{className:"text-xs text-gray-600",children:[x.jsx("span",{className:"font-medium",children:e.symbol})," - ",e.direction,x.jsxs("span",{className:"text-yellow-600",children:[" (",(100*e.speed).toFixed(2),"%)"]})]},t))]})]})]})]}):null,one=({item:e})=>x.jsxs("div",{className:"flex items-center justify-between text-xs p-1.5 rounded hover:bg-slate-100",children:[x.jsxs("div",{className:"flex items-center gap-1.5 truncate",children:["industry"===e.type&&x.jsx("span",{title:"Industry",children:"🏢"}),x.jsx("span",{className:"font-medium text-slate-800 truncate",title:e.name,children:e.name})]}),x.jsxs("div",{className:"font-semibold shrink-0 ml-2",children:["Vol: ",(100*e.volatility).toFixed(2),"%"]})]}),lne=({title:e,data:t,color:n})=>t?x.jsxs("div",{className:`p-3 rounded-lg border ${n.bg} ${n.border}`,children:[x.jsxs("h4",{className:`font-bold text-sm ${n.text}`,children:[e," ",x.jsxs("span",{className:"font-normal",children:["(",t.count," - ",t.percentage,")"]})]}),t.items&&t.items.length>0&&x.jsx("div",{className:"mt-2 space-y-1",children:t.items.slice(0,4).map((e,t)=>x.jsx(one,{item:e},t))})]}):null,cne=({riskDistribution:e})=>{if(!e)return null;const{risk_assessment:t,risk_level_distribution:n,volatility_distribution:r}=e;return x.jsxs("div",{className:"bg-white p-4 rounded-lg border space-y-6",children:[t&&x.jsxs("div",{children:[x.jsx("h3",{className:"font-bold text-base text-slate-800",children:"Đánh giá rủi ro"}),x.jsxs("div",{className:"mt-2 p-3 border rounded-lg bg-slate-50",children:[x.jsx("p",{className:"font-bold text-lg text-green-600",children:t.environment}),x.jsx("p",{className:"text-sm text-slate-600 mt-1",children:t.description}),x.jsxs("div",{className:"flex flex-wrap gap-3 mt-3 text-sm",children:[x.jsxs("div",{className:"bg-red-100 text-red-800 font-medium px-2 py-1 rounded",children:["Rủi ro cao: ",x.jsx("b",{children:t.high_risk_percentage})]}),x.jsxs("div",{className:"bg-orange-100 text-orange-800 font-medium px-2 py-1 rounded",children:["Biến động cao: ",x.jsx("b",{children:t.high_volatility_percentage})]}),x.jsxs("div",{className:"bg-green-100 text-green-800 font-medium px-2 py-1 rounded",children:["Rủi ro thấp: ",x.jsx("b",{children:t.low_risk_percentage})]})]}),x.jsx("p",{className:"text-sm text-blue-700 font-semibold mt-3 pt-3 border-t border-slate-200",children:t.recommendation})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"space-y-4",children:[x.jsx("h3",{className:"font-bold text-base text-slate-800",children:"Phân bổ mức rủi ro"}),[{key:"high_risk",title:"Rủi ro cao",theme:{bg:"bg-red-50",border:"border-red-200",text:"text-red-700"}},{key:"medium_risk",title:"Rủi ro trung bình",theme:{bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-700"}},{key:"low_risk",title:"Rủi ro thấp",theme:{bg:"bg-green-50",border:"border-green-200",text:"text-green-700"}}].filter(({key:e})=>{const t=null==n?void 0:n[e];return t&&t.count>0&&Array.isArray(t.items)&&t.items.length>0}).map(({key:e,title:t,theme:r})=>x.jsx(lne,{title:t,data:null==n?void 0:n[e],color:r},e))]}),x.jsxs("div",{className:"space-y-4",children:[x.jsx("h3",{className:"font-bold text-base text-slate-800",children:"Phân bổ biến động"}),[{key:"very_high_volatility",title:"Biến động rất cao",theme:{bg:"bg-red-50",border:"border-red-200",text:"text-red-700"}},{key:"high_volatility",title:"Biến động cao",theme:{bg:"bg-orange-50",border:"border-orange-200",text:"text-orange-700"}},{key:"medium_volatility",title:"Biến động trung bình",theme:{bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-700"}},{key:"low_volatility",title:"Biến động thấp",theme:{bg:"bg-green-50",border:"border-green-200",text:"text-green-700"}}].filter(({key:e})=>{const t=null==r?void 0:r[e];return t&&t.count>0&&Array.isArray(t.items)&&t.items.length>0}).map(({key:e,title:t,theme:n})=>x.jsx(lne,{title:t,data:null==r?void 0:r[e],color:n},e))]})]})]})},une=({risk:e})=>x.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg border border-slate-200",children:[x.jsxs("div",{className:"flex justify-between items-start gap-2",children:[x.jsx("h5",{className:"font-bold text-sm text-slate-800",children:e.type}),x.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${{HIGH:"bg-red-100 text-red-800",MEDIUM:"bg-orange-100 text-orange-800",LOW:"bg-green-100 text-green-800"}[e.severity]||"bg-slate-100"}`,children:e.severity})]}),x.jsx("p",{className:"text-sm text-slate-600 mt-1",children:e.description}),e.implication&&x.jsx("div",{className:"flex items-start gap-2 mt-2 pt-2 border-t border-slate-200",children:x.jsx("p",{className:"text-xs text-blue-700 font-medium",children:e.implication})})]}),dne=({strategy:e})=>x.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[x.jsxs("div",{className:"flex justify-between items-start gap-2",children:[x.jsx("h5",{className:"font-bold text-sm text-blue-800",children:e.strategy}),x.jsx("span",{className:"text-xs font-semibold text-blue-700 bg-blue-100 px-2 py-0.5 rounded-full",children:e.timeframe})]}),x.jsx("p",{className:"text-sm text-blue-700/80 mt-1",children:e.description})]}),hne=({systemicRisks:e})=>{if(!e)return null;const{overall_systemic_risk:t,systemic_risks:n,mitigation_strategies:r,risk_count:i}=e;return x.jsxs("div",{className:"bg-white p-4 rounded-lg border space-y-6",children:[t&&x.jsxs("div",{className:"p-4 bg-red-100 border border-red-200 rounded-lg text-red-900",children:[x.jsx("div",{className:"flex items-center gap-3",children:x.jsxs("div",{children:[x.jsx("h3",{className:"font-bold text-xl",children:t.level}),x.jsxs("p",{className:"text-sm font-semibold",children:["Tổng quan rủi ro hệ thống (",i||0," yếu tố)"]})]})}),x.jsx("p",{className:"text-sm mt-2",children:t.description})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx("h4",{className:"font-bold text-base text-slate-800",children:"Các yếu tố rủi ro"}),(null==n?void 0:n.length)>0?x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:n.map((e,t)=>x.jsx(une,{risk:e},t))}):x.jsx("p",{className:"text-sm text-slate-500",children:"Không có yếu tố rủi ro cụ thể nào được xác định."})]}),x.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[x.jsx("h4",{className:"font-bold text-base text-slate-800",children:"Chiến lược giảm thiểu"}),(null==r?void 0:r.length)>0?x.jsx("div",{className:"space-y-3",children:r.map((e,t)=>x.jsx(dne,{strategy:e},t))}):x.jsx("p",{className:"text-sm text-slate-500",children:"Không có chiến lược giảm thiểu nào được đề xuất."})]})]})},fne=({data:e,title:t,color:n})=>{if(!e)return null;const{count:r=0,percentage:i="N/A",top_symbols:a}=e,s=null==a?void 0:a[0];return x.jsxs("div",{className:`p-2 rounded text-center border ${n.bg} ${n.border}`,children:[x.jsx("div",{className:`font-semibold text-xs ${n.text}`,children:t}),x.jsx("div",{className:`font-bold text-lg ${n.text}`,children:r}),x.jsxs("div",{className:`text-xs font-medium ${n.text} opacity-80`,children:["(",i,")"]}),s&&x.jsxs("div",{className:"text-[10px] text-slate-500 mt-1",children:["e.g. ",s.symbol]})]})},mne=({regime:e,description:t,statistics:n,distribution:r})=>{if(!e)return null;const i={low:{bg:"bg-green-100",text:"text-green-800",border:"border-green-300"},medium:{bg:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-300"},high:{bg:"bg-red-100",text:"text-red-800",border:"border-red-300"}};return x.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[x.jsx("h3",{className:"text-base font-bold text-slate-800 mb-2",children:"Phân tích biến động"}),x.jsxs("div",{className:"mb-4",children:[x.jsx("div",{className:"font-bold text-xl text-blue-700",children:e}),x.jsx("p",{className:"text-sm text-slate-600",children:t})]}),n&&x.jsxs("div",{className:"mb-4",children:[x.jsx("h4",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Thống kê chính"}),x.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs text-center",children:[x.jsxs("div",{className:"bg-white p-1 rounded border",children:[x.jsx("span",{className:"text-slate-500",children:"Trung bình:"})," ",x.jsx("b",{className:"text-slate-800",children:n.average_volatility})]}),x.jsxs("div",{className:"bg-white p-1 rounded border",children:[x.jsx("span",{className:"text-slate-500",children:"Trung vị:"})," ",x.jsx("b",{className:"text-slate-800",children:n.median_volatility})]}),x.jsxs("div",{className:"bg-white p-1 rounded border",children:[x.jsx("span",{className:"text-slate-500",children:"Tỷ lệ cao:"})," ",x.jsx("b",{className:"text-slate-800",children:n.high_volatility_percentage})]})]})]}),r&&x.jsxs("div",{children:[x.jsx("h4",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Phân bổ"}),x.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[x.jsx(fne,{data:r.low_volatility,title:"Thấp",color:i.low}),x.jsx(fne,{data:r.medium_volatility,title:"Trung bình",color:i.medium}),x.jsx(fne,{data:r.high_volatility,title:"Cao",color:i.high})]})]})]})},pne=({label:e,value:t,colorClasses:n,Icon:r})=>t?x.jsxs("div",{className:`flex-1 p-3 rounded-lg text-center ${n.bg}`,children:[x.jsx("div",{className:`text-xs font-bold ${n.text}`,children:e}),x.jsx("div",{className:"text-sm font-medium text-slate-800",children:t})]}):null;function gne({title:e,value:t,description:n,color:r,textColor:i,Icon:a}){return x.jsx("div",{className:`p-4 rounded-lg flex gap-4 items-center ${r}`,children:x.jsxs("div",{className:"flex-1",children:[x.jsx("div",{className:`font-bold ${i}`,children:e}),t&&x.jsx("div",{className:"text-xl font-bold text-slate-800",children:t}),n&&x.jsx("div",{className:"text-xs text-slate-600",children:n})]})})}const vne=({volatilityRegime:e,industryTrendConsistency:t,breadthDetail:n,systemicRisks:r})=>{var i,a,s,o,l,c;if(!e)return null;const{trading_implications:u}=e,d={industry:{color:"bg-blue-100",textColor:"text-blue-800",Icon:null},breadth:{color:"bg-green-100",textColor:"text-green-800",Icon:null},risk:{color:"bg-red-100",textColor:"text-red-800",Icon:null},implications:{position:{bg:"bg-blue-100",text:"text-blue-800",Icon:null},stop:{bg:"bg-red-100",text:"text-red-800",Icon:null},strategy:{bg:"bg-green-100",text:"text-green-800",Icon:null},management:{bg:"bg-yellow-100",text:"text-yellow-800",Icon:null}}};return x.jsx("div",{className:"p-4 md:p-6 bg-slate-100 font-sans",children:x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 lg:gap-6",children:[x.jsxs("div",{className:"space-y-4",children:[x.jsx("h3",{className:"text-base font-bold text-slate-800",children:"Bối cảnh thị trường"}),t&&x.jsx(gne,h({title:"Xu hướng ngành",value:null==(i=t.consistency_summary)?void 0:i.overall_trend,description:null==(a=t.key_insights)?void 0:a[0]},d.industry)),n&&x.jsx(gne,h({title:"Breadth thị trường",value:n.breadth_summary,description:`Breadth: ${(null==(s=n.industry_breadth_thrust)?void 0:s.value)||""}, Momentum: ${(null==(o=n.momentum_breadth)?void 0:o.value)||""}`},d.breadth)),r&&x.jsx(gne,h({title:"Rủi ro hệ thống",value:null==(l=r.overall_systemic_risk)?void 0:l.level,description:null==(c=r.overall_systemic_risk)?void 0:c.description},d.risk))]}),x.jsxs("div",{className:"space-y-4 mt-6 lg:mt-0",children:[x.jsx(mne,{regime:e.regime,description:e.regime_description,statistics:e.statistics,distribution:e.volatility_distribution}),u&&x.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[x.jsx("h3",{className:"text-base font-bold text-slate-800 mb-3",children:"Hàm ý giao dịch"}),x.jsxs("div",{className:"flex flex-row gap-3",children:[x.jsx(pne,{label:"Vị thế",value:u.position_sizing,colorClasses:d.implications.position,Icon:d.implications.position.Icon}),x.jsx(pne,{label:"Stop loss",value:u.stop_losses,colorClasses:d.implications.stop,Icon:d.implications.stop.Icon}),x.jsx(pne,{label:"Chiến lược",value:u.strategy,colorClasses:d.implications.strategy,Icon:d.implications.strategy.Icon}),x.jsx(pne,{label:"Quản lý rủi ro",value:u.risk_management,colorClasses:d.implications.management,Icon:d.implications.management.Icon})]})]})]})]})})},yne=({item:e})=>x.jsxs("div",{className:"flex items-center justify-between text-xs p-1.5 rounded hover:bg-slate-100",children:[x.jsxs("div",{className:"flex items-center gap-1.5 flex-1 truncate",children:["industry"===e.type&&x.jsx("span",{title:"Industry",className:"text-slate-400",children:"🏢"}),"symbol"===e.type&&x.jsx("span",{title:"Symbol",className:"text-slate-400",children:"🏷️"}),x.jsx("span",{className:"font-medium text-slate-800 truncate",title:e.name,children:e.name})]}),x.jsxs("div",{className:"flex items-center gap-4 font-semibold shrink-0 ml-4",children:[x.jsxs("span",{className:"w-12 text-right",children:[(100*e.speed).toFixed(2),"%"]}),x.jsxs("span",{className:"w-12 text-right",children:[(100*e.acceleration).toFixed(2),"%"]})]})]}),xne=({title:e,count:t,percentage:n,items:r,color:i})=>x.jsxs("div",{className:`p-3 rounded-lg border ${i.bg} ${i.border}`,children:[x.jsxs("h4",{className:`font-bold text-sm ${i.text}`,children:[e," ",x.jsxs("span",{className:"font-normal",children:["(",t," - ",n,")"]})]}),r&&r.length>0&&x.jsxs("div",{className:"mt-2",children:[x.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-slate-400 px-1.5 mb-1",children:[x.jsx("span",{children:"TÊN"}),x.jsxs("div",{className:"flex gap-4",children:[x.jsx("span",{className:"w-12 text-right",children:"TỐC ĐỘ"}),x.jsx("span",{className:"w-12 text-right",children:"GIA TỐC"})]})]}),x.jsx("div",{className:"space-y-1",children:r.slice(0,4).map((e,t)=>x.jsx(yne,{item:e},t))})]})]}),bne=({speedDistribution:e})=>{if(!e)return null;const{market_momentum_health:t,speed_distribution:n,acceleration_distribution:r}=e;return x.jsxs("div",{className:"bg-white p-4 rounded-lg border space-y-6",children:[t&&x.jsxs("div",{children:[x.jsx("h3",{className:"font-bold text-base text-slate-800",children:"Sức khỏe động lượng thị trường"}),x.jsxs("div",{className:"mt-2 p-3 border rounded-lg bg-slate-50",children:[x.jsx("p",{className:"font-bold text-lg text-green-600",children:t.status}),x.jsx("p",{className:"text-sm text-slate-600 mt-1 max-w-2xl",children:t.description}),x.jsxs("div",{className:"flex flex-wrap gap-3 mt-3 text-sm",children:[x.jsxs("div",{className:"bg-green-100 text-green-800 font-medium px-2 py-1 rounded",children:["Tốc độ cao: ",x.jsx("b",{children:t.high_speed_percentage})]}),x.jsxs("div",{className:"bg-sky-100 text-sky-800 font-medium px-2 py-1 rounded",children:["Tăng tốc: ",x.jsx("b",{children:t.accelerating_percentage})]}),x.jsxs("div",{className:"bg-red-100 text-red-800 font-medium px-2 py-1 rounded",children:["Giảm tốc: ",x.jsx("b",{children:t.decelerating_percentage})]})]}),x.jsx("p",{className:"text-sm text-blue-700 font-semibold mt-3 pt-3 border-t border-slate-200",children:t.recommendation})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"space-y-4",children:[x.jsx("h3",{className:"font-bold text-base text-slate-800",children:"Phân bổ tốc độ"}),[{key:"very_high_speed",title:"Tốc độ rất cao",theme:{bg:"bg-red-50",border:"border-red-200",text:"text-red-700"}},{key:"high_speed",title:"Tốc độ cao",theme:{bg:"bg-orange-50",border:"border-orange-200",text:"text-orange-700"}},{key:"medium_speed",title:"Tốc độ trung bình",theme:{bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-700"}},{key:"low_speed",title:"Tốc độ thấp",theme:{bg:"bg-green-50",border:"border-green-200",text:"text-green-700"}}].map(({key:e,title:t,theme:r})=>{const i=null==n?void 0:n[e];return!i||i.count<=0||!Array.isArray(i.items)||0===i.items.length?null:x.jsx(xne,{title:t,count:i.count,percentage:i.percentage,items:i.items,color:r},e)})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsx("h3",{className:"font-bold text-base text-slate-800",children:"Phân bổ gia tốc"}),[{key:"strong_acceleration",title:"Gia tốc mạnh",theme:{bg:"bg-green-50",border:"border-green-200",text:"text-green-700"}},{key:"weak_acceleration",title:"Gia tốc yếu",theme:{bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-700"}},{key:"weak_deceleration",title:"Giảm tốc yếu",theme:{bg:"bg-orange-50",border:"border-orange-200",text:"text-orange-700"}},{key:"strong_deceleration",title:"Giảm tốc mạnh",theme:{bg:"bg-red-50",border:"border-red-200",text:"text-red-700"}}].map(({key:e,title:t,theme:n})=>{const i=null==r?void 0:r[e];return!i||i.count<=0||!Array.isArray(i.items)||0===i.items.length?null:x.jsx(xne,{title:t,count:i.count,percentage:i.percentage,items:i.items,color:n},e)})]})]})]})},wne={"market-overview":{key:"market-overview",label:"Tổng quan thị trường",icon:ie,description:"Tổng quan về điều kiện thị trường và biến động",sections:["volatility_regime"]},"market-flow":{key:"market-flow",label:"Dòng tiền thị trường",icon:Ne,description:"Phân tích dòng tiền và luân chuyển vốn trong thị trường",sections:["sector_rotation","market_cap_flow","institutional_flow"]},"momentum-analysis":{key:"momentum-analysis",label:"Phân tích động lượng",icon:G,description:"Chu kỳ động lượng và phân bổ tốc độ",sections:["momentum_cycles","speed_distribution"]},"risk-assessment":{key:"risk-assessment",label:"Đánh giá rủi ro",icon:_e,description:"Phân bổ rủi ro và rủi ro hệ thống",sections:["risk_distribution","systemic_risks"]}},_ne=(e,t)=>e&&e[t]&&Object.keys(e[t]).length>0,jne=({detailedAnalysis:e})=>{if(!e||!e.title)return null;const t=(e=>["market-overview","market-flow","momentum-analysis","risk-assessment"].filter(t=>wne[t].sections.some(t=>_ne(e,t))))(e),n=t.map(t=>{const n=wne[t],r={volatility_regime:x.jsx(vne,{volatilityRegime:e.volatility_regime,industryTrendConsistency:e.industry_trend_consistency,breadthDetail:e.breadth_detail,systemicRisks:e.systemic_risks}),sector_rotation:x.jsx(ene,{sectorRotation:e.sector_rotation}),market_cap_flow:x.jsx(nne,{marketCapFlow:e.market_cap_flow}),institutional_flow:x.jsx(sne,{institutionalFlow:e.institutional_flow}),momentum_cycles:x.jsx(ane,{momentumCycles:e.momentum_cycles}),speed_distribution:x.jsx(bne,{speedDistribution:e.speed_distribution}),risk_distribution:x.jsx(cne,{riskDistribution:e.risk_distribution}),systemic_risks:x.jsx(hne,{systemicRisks:e.systemic_risks})},i=n.sections.filter(t=>_ne(e,t)),a=x.jsx("div",{className:"space-y-6",children:i.map(e=>x.jsx("div",{children:r[e]},e))});return{key:n.key,label:n.label,content:a}});return 0===n.length?x.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[x.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:e.title}),x.jsx("p",{className:"text-gray-500",children:"Không có dữ liệu phân tích chi tiết để hiển thị"})]}):x.jsx(Qte,{title:e.title,tabs:n})},kne=({icon:e,label:t,value:n,valueClassName:r=""})=>x.jsxs("div",{className:"flex items-center justify-between py-1",children:[x.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[x.jsx(e,{className:"w-3.5 h-3.5 mr-2"}),x.jsx("span",{children:t})]}),x.jsx("span",{className:`font-mono text-xs font-medium ${r}`,children:n})]}),Nne=({title:e,tooltip:t,children:n})=>x.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("h4",{className:"font-semibold text-gray-800 text-sm",children:e}),t&&x.jsx("span",{className:"text-gray-400 cursor-pointer",title:t,children:x.jsx(ge,{size:14})})]}),x.jsx("div",{className:"space-y-1",children:n})]}),Sne=({industry:e})=>{const[t,n]=k.useState(!1);if(!e)return x.jsx("div",{className:"bg-white border rounded-lg p-4 shadow-sm text-center",children:x.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Không có dữ liệu chi tiết cho ngành này."})});const{metrics:r={},speed_analysis:i={},direction_analysis:a={},risk_assessment:s={},trend_consistency:o={}}=e,l=e=>"number"==typeof e?`${(100*e).toFixed(1)}%`:"K/C";return x.jsxs("div",{className:"bg-white border rounded-lg p-4 shadow-sm",children:[x.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:e.name}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[x.jsxs(Nne,{title:"Hiệu suất",tooltip:"Sức mạnh tương đối (Relative Strength) so với VNINDEX",children:[x.jsx(kne,{icon:Ne,label:"RS Hiện tại",value:l(null==r?void 0:r.current_rs),valueClassName:"text-blue-600"}),x.jsx(kne,{icon:(null==r?void 0:r.rs_5d_change)>0?Z:X,label:"Thay đổi 5 phiên",value:l(null==r?void 0:r.rs_5d_change),valueClassName:Ate(null==r?void 0:r.rs_5d_change)}),x.jsx(kne,{icon:(null==r?void 0:r.rs_21d_change)>0?Z:X,label:"Thay đổi 21 phiên",value:l(null==r?void 0:r.rs_21d_change),valueClassName:Ate(null==r?void 0:r.rs_21d_change)})]}),x.jsxs(Nne,{title:"Tốc độ & Hướng",tooltip:"Phân tích tốc độ và hướng của xu hướng",children:[x.jsx(kne,{icon:Oe,label:"Tốc độ 5 phiên",value:l(null==i?void 0:i.raw_speed_5d)}),(()=>{const{icon:e,color:t}=zte(null==a?void 0:a.direction);return x.jsx(kne,{icon:e,label:"Hướng",value:(null==a?void 0:a.direction)||"K/C",valueClassName:t})})(),x.jsx(kne,{icon:G,label:"Sức mạnh xu hướng",value:(null==a?void 0:a.trend_strength)||"K/C",valueClassName:"text-purple-600"})]}),x.jsxs(Nne,{title:"Đánh giá Rủi ro",tooltip:"Mức độ rủi ro và quy mô vị thế gợi ý",children:[x.jsx(kne,{icon:_e,label:"Mức rủi ro",value:null==s?void 0:s.risk_level,valueClassName:Ete(null==s?void 0:s.risk_level)}),x.jsx(kne,{icon:ne,label:"Kích thước vị thế",value:(null==s?void 0:s.suggested_position_size)||"K/C"}),x.jsx(kne,{icon:Ce,label:"Khung thời gian",value:(null==s?void 0:s.time_horizon)||"K/C"})]})]}),x.jsx("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:x.jsx(Nne,{title:"Tính Nhất Quán Xu Hướng Ngành",children:x.jsxs("div",{className:"grid grid-cols-4 gap-x-6 text-center",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-gray-500",children:"Điểm nhất quán"}),x.jsx("div",{className:"font-mono font-semibold text-base",children:l(null==o?void 0:o.consistency_score)})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-gray-500",children:"Căn chỉnh xu hướng"}),x.jsx("div",{className:"font-mono font-semibold text-base",children:"Tích cực"===(null==o?void 0:o.trend_alignment)?"Tăng giá":"Tiêu cực"===(null==o?void 0:o.trend_alignment)?"Giảm giá":"Trung lập"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-gray-500",children:"Số mã phân tích"}),x.jsx("div",{className:"font-mono font-semibold text-base",children:(null==o?void 0:o.symbol_count)||"K/C"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-gray-500",children:"Độ tin cậy xu hướng"}),x.jsx("div",{className:"font-mono font-semibold text-base",children:l(null==o?void 0:o.trend_confidence)})]})]})})})]},e.id)},Cne=()=>{const{data:e,loading:t,error:n}=gf("rs_analysis"),[r,i]=k.useState(""),[a,s]=k.useState(""),[o,l]=k.useState("current_crs"),[c,u]=k.useState("desc"),[d,h]=k.useState(null);if(t)return x.jsxs("div",{className:"flex items-center justify-center py-12",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),x.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Đang tải dữ liệu phân tích RS ngành nghề..."})]});if(n)return x.jsxs("div",{className:"text-center py-12",children:[x.jsx(Se,{className:"mx-auto h-12 w-12 text-red-500"}),x.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100",children:"Lỗi tải dữ liệu"}),x.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:n})]});if(!e||!e.industries)return x.jsx("div",{className:"text-center py-12",children:x.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Không có dữ liệu phân tích RS ngành nghề"})});const{industries:f}=e,m=e=>`${(100*e).toFixed(2)}%`,p=e=>{const t=(100*e).toFixed(2);return e>0?`+${t}% (vượt trội)`:e<0?`${t}% (thua kém)`:"0.00% (ngang bằng)"},g=(e,t)=>(e/t*100).toFixed(1),v=(e,t)=>{var n,r,i,a,s,o;switch(t){case"name":return e.name;case"current_crs":return e.metrics.current_crs;case"current_rs":return e.metrics.current_rs;case"current_ma13":return e.metrics.current_ma13;case"current_ma49":return e.metrics.current_ma49;case"rs_trend":return e.performance_summary.rs_trend;case"crs_status":return e.performance_summary.crs_status;case"short_term_momentum":return(null==(n=e.speed_analysis)?void 0:n.short_term_momentum)||0;case"long_term_momentum":return(null==(r=e.speed_analysis)?void 0:r.long_term_momentum)||0;case"weighted_speed":return(null==(i=e.speed_analysis)?void 0:i.weighted_speed)||0;case"momentum_ratio":return(null==(a=e.speed_analysis)?void 0:a.momentum_ratio)||0;case"speed_category":return(null==(s=e.speed_analysis)?void 0:s.speed_category)||"";case"strength_score":return e.performance_summary.strength_score;case"consistency":return e.metrics.outperforming_days/e.metrics.total_days;case"volatility":return e.metrics.rs_volatility;case"consensus_strength":return(null==(o=e.trend_consistency)?void 0:o.consensus_strength)||0;default:return 0}},y=e=>{o===e?u("asc"===c?"desc":"asc"):(l(e),u("desc"))},b=({field:e})=>o!==e?x.jsx(se,{className:"h-4 w-4 text-gray-400"}):"asc"===c?x.jsx(oe,{className:"h-4 w-4 text-blue-500"}):x.jsx(se,{className:"h-4 w-4 text-blue-500"}),w=f.filter(e=>{const t=""===r||e.performance_summary.rs_trend===r,n=""===a||e.performance_summary.crs_status===a;return t&&n}),_=[...w].sort((e,t)=>{const n=v(e,o),r=v(t,o);return"asc"===c?n>r?1:-1:n<r?1:-1}),j=(e,t)=>{if("Tăng trưởng"===e){if(t>0)return"text-green-600 dark:text-green-400";if(t<0)return"text-red-600 dark:text-red-400"}else if("Suy giảm"===e){if(t>0)return"text-red-600 dark:text-red-400";if(t<0)return"text-green-600 dark:text-green-400"}return"text-gray-600 dark:text-gray-400"};return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[x.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Phân tích Sức mạnh Tương đối (RS) Ngành nghề"}),x.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Phân tích sức mạnh tương đối của các ngành nghề so với VN-Index"}),e.analysis_date&&x.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:["Cập nhật: ",new Date(e.analysis_date).toLocaleString("vi-VN")]})]}),x.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm",children:x.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Xu hướng"}),x.jsxs("select",{value:r,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm",children:[x.jsx("option",{value:"",children:"Tất cả xu hướng"}),x.jsx("option",{value:"Tăng trưởng",children:"Tăng trưởng"}),x.jsx("option",{value:"Suy giảm",children:"Suy giảm"}),x.jsx("option",{value:"Trung lập",children:"Trung lập"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Trạng thái"}),x.jsxs("select",{value:a,onChange:e=>s(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm",children:[x.jsx("option",{value:"",children:"Tất cả trạng thái"}),x.jsx("option",{value:"Vượt trội",children:"Vượt trội"}),x.jsx("option",{value:"Kém hiệu quả",children:"Kém hiệu quả"}),x.jsx("option",{value:"Trung lập",children:"Trung lập"})]})]}),x.jsx("div",{className:"flex items-end",children:x.jsx("button",{onClick:()=>{i(""),s("")},className:"w-full px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg text-sm font-medium transition-colors",children:"Xóa bộ lọc"})})]})}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Kết quả phân tích"}),x.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[w.length," / ",f.length," ngành"]})]}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"min-w-full bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:[x.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>y("name"),children:x.jsxs("div",{className:"flex items-center gap-1",children:["Ngành",x.jsx(b,{field:"name"})]})}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>y("current_crs"),children:x.jsxs("div",{className:"flex items-center gap-1",children:["CRS",x.jsx(b,{field:"current_crs"})]})}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>y("current_rs"),children:x.jsxs("div",{className:"flex items-center gap-1",children:["RS",x.jsx(b,{field:"current_rs"})]})}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>y("short_term_momentum"),children:x.jsxs("div",{className:"flex items-center gap-1",children:["Momentum ngắn hạn",x.jsx(b,{field:"short_term_momentum"})]})}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>y("long_term_momentum"),children:x.jsxs("div",{className:"flex items-center gap-1",children:["Momentum dài hạn",x.jsx(b,{field:"long_term_momentum"})]})}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>y("weighted_speed"),children:x.jsxs("div",{className:"flex items-center gap-1",children:["Tốc độ tổng hợp",x.jsx(b,{field:"weighted_speed"})]})}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>y("speed_category"),children:x.jsxs("div",{className:"flex items-center gap-1",children:["Phân loại tốc độ",x.jsx(b,{field:"speed_category"})]})}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>y("rs_trend"),children:x.jsxs("div",{className:"flex items-center gap-1",children:["Xu hướng",x.jsx(b,{field:"rs_trend"})]})}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>y("crs_status"),children:x.jsxs("div",{className:"flex items-center gap-1",children:["Trạng thái",x.jsx(b,{field:"crs_status"})]})}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>y("consistency"),children:x.jsxs("div",{className:"flex items-center gap-1",children:["Độ ổn định",x.jsx(b,{field:"consistency"})]})}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>y("volatility"),children:x.jsxs("div",{className:"flex items-center gap-1",children:["Độ biến động",x.jsx(b,{field:"volatility"})]})}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>y("consensus_strength"),children:x.jsxs("div",{className:"flex items-center gap-1",children:["Đồng thuận",x.jsx(b,{field:"consensus_strength"})]})}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>y("strength_score"),children:x.jsxs("div",{className:"flex items-center gap-1",children:["Điểm mạnh",x.jsx(b,{field:"strength_score"})]})})]})}),x.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:_.map((e,t)=>{var n,r,i,a,s,o,l,c,u,f,v,y,b,w;return x.jsxs(N.Fragment,{children:[x.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",onClick:()=>h(d===e.custom_id?null:e.custom_id),children:[x.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:x.jsxs("div",{children:[x.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:e.name}),x.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["#",t+1]})]})}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:x.jsx("span",{className:"text-sm font-medium "+(e.metrics.current_crs>0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:p(e.metrics.current_crs)})}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:e.metrics.current_rs.toFixed(4)}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:x.jsx("span",{className:`text-sm font-medium ${j(e.performance_summary.rs_trend,null==(n=e.speed_analysis)?void 0:n.short_term_momentum)}`,children:(null==(r=e.speed_analysis)?void 0:r.short_term_momentum)?(e.speed_analysis.short_term_momentum>0?"+":"")+m(e.speed_analysis.short_term_momentum):"N/A"})}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:x.jsx("span",{className:`text-sm font-medium ${j(e.performance_summary.rs_trend,null==(i=e.speed_analysis)?void 0:i.long_term_momentum)}`,children:(null==(a=e.speed_analysis)?void 0:a.long_term_momentum)?(e.speed_analysis.long_term_momentum>0?"+":"")+m(e.speed_analysis.long_term_momentum):"N/A"})}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:x.jsx("span",{className:`text-sm font-medium ${j(e.performance_summary.rs_trend,null==(s=e.speed_analysis)?void 0:s.weighted_speed)}`,children:(null==(o=e.speed_analysis)?void 0:o.weighted_speed)?(e.speed_analysis.weighted_speed>0?"+":"")+m(e.speed_analysis.weighted_speed):"N/A"})}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:x.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:(null==(l=e.speed_analysis)?void 0:l.speed_category)||"N/A"})}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:x.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+("Tăng trưởng"===e.performance_summary.rs_trend?"bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-200":"Suy giảm"===e.performance_summary.rs_trend?"bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-200":"bg-gray-100 dark:bg-gray-900/50 text-gray-800 dark:text-gray-200"),children:e.performance_summary.rs_trend})}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:x.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+("Vượt trội"===e.performance_summary.crs_status?"bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-200"),children:e.performance_summary.crs_status})}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:x.jsxs("span",{className:"text-sm font-medium "+(w=g(e.metrics.outperforming_days,e.metrics.total_days),w>=60?"text-green-600 dark:text-green-400":w>=40?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"),children:[g(e.metrics.outperforming_days,e.metrics.total_days),"%"]})}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:x.jsx("span",{className:"text-sm font-medium "+(b=e.metrics.rs_volatility,b<.03?"text-green-600 dark:text-green-400":b<.06?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"),children:(y=e.metrics.rs_volatility,`${(100*y).toFixed(2)}%`)})}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:x.jsx("span",{className:"text-sm font-medium "+((null==(c=e.trend_consistency)?void 0:c.consensus_strength)>0?"text-green-600 dark:text-green-400":(null==(u=e.trend_consistency)?void 0:u.consensus_strength)<0?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"),children:void 0!==(null==(f=e.trend_consistency)?void 0:f.consensus_strength)?e.trend_consistency.consensus_strength.toFixed(2):"N/A"})}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:"number"==typeof(null==(v=e.performance_summary)?void 0:v.strength_score)?e.performance_summary.strength_score.toFixed(2):"N/A"})]}),d===e.custom_id&&x.jsx("tr",{children:x.jsx("td",{colSpan:14,className:"bg-gray-50 dark:bg-gray-900/50 p-4",children:x.jsx(Sne,{industry:e})})})]},t)})})]})}),x.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[x.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-3",children:"Giải thích các chỉ số"}),x.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[x.jsxs("div",{children:[x.jsx("h5",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:"CRS (Cumulative Relative Strength)"}),x.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"CRS là tỷ lệ thể hiện hiệu suất tương đối của ngành so với VN-Index trong 21 ngày. Giá trị được tính bằng cách chia lợi nhuận của ngành cho lợi nhuận VN-Index, sau đó trừ 1 để căn giữa quanh 0."}),x.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[x.jsxs("li",{children:["• ",x.jsx("strong",{children:"+4.56%"})," = Ngành vượt trội VN-Index 4.56%"]}),x.jsxs("li",{children:["• ",x.jsx("strong",{children:"-2.34%"})," = Ngành thua kém VN-Index 2.34%"]}),x.jsxs("li",{children:["• ",x.jsx("strong",{children:"0.00%"})," = Ngành có hiệu suất ngang bằng VN-Index"]})]})]}),x.jsxs("div",{children:[x.jsx("h5",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:"RS (Relative Strength)"}),x.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"RS là tỷ lệ giá hiện tại của ngành so với VN-Index. Giá trị > 1 nghĩa là ngành đang có hiệu suất tốt hơn VN-Index."}),x.jsx("h5",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2 mt-4",children:"Momentum"}),x.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Momentum đo lường tốc độ thay đổi của RS. Giá trị dương cho thấy xu hướng tăng tốc, giá trị âm cho thấy xu hướng chậm lại."}),x.jsx("h5",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2 mt-4",children:"Độ ổn định & Độ biến động"}),x.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Độ ổn định: Tỷ lệ ngày ngành vượt trội VN-Index. Độ biến động: Mức độ dao động của RS."})]})]})]})]})},Ene=({data:e,x:t,y:n})=>e?x.jsxs("div",{className:"absolute px-3 py-2 bg-gray-900/95 backdrop-blur-sm shadow-xl rounded-md border border-gray-700 text-white text-xs z-50 pointer-events-none",style:{left:t+10,top:n-10,transform:"translateY(-100%)"},children:[x.jsx("div",{className:"font-semibold text-sm mb-1",children:"string"==typeof e.name?e.name:String(e.name||"Unknown")}),x.jsxs("div",{className:"space-y-0.5",children:[x.jsxs("div",{className:"flex justify-between gap-4",children:[x.jsx("span",{className:"text-gray-400",children:"Tỷ số RS:"}),x.jsx("span",{className:"font-mono",children:e.x.toFixed(2)})]}),x.jsxs("div",{className:"flex justify-between gap-4",children:[x.jsx("span",{className:"text-gray-400",children:"RS-Mom:"}),x.jsx("span",{className:"font-mono",children:e.y.toFixed(2)})]}),x.jsxs("div",{className:"flex justify-between gap-4",children:[x.jsx("span",{className:"text-gray-400",children:"Ngày:"}),x.jsx("span",{children:e.date})]})]})]}):null,Pne=e=>{const{cx:t,cy:n,payload:r,color:i,onHover:a}=e,[s,o]=k.useState(!1);return x.jsx("circle",{cx:t,cy:n,r:s?4:3,fill:i,fillOpacity:s?.8:.4,stroke:i,strokeWidth:s?1:0,style:{cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.stopPropagation(),o(!0),a(r,t,n)},onMouseMove:e=>{e.stopPropagation()}})},Mne=({onZoomIn:e,onZoomOut:t,onReset:n,zoomLevel:r})=>{const i="w-7 h-7 flex items-center justify-center bg-gray-200 hover:bg-gray-300 text-gray-700 rounded text-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer";return x.jsxs("div",{className:"absolute top-4 right-4 z-10 flex flex-col gap-1.5",children:[x.jsx("button",{onClick:e,className:i,disabled:r>=10,children:"+"}),x.jsx("button",{onClick:t,className:i,disabled:r<=1,children:"-"}),x.jsx("button",{onClick:n,className:i,disabled:1===r,children:"⟲"})]})};var One=.999,Ane=/[\\\/_+.#"@\[\(\{&]/,Tne=/[\\\/_+.#"@\[\(\{&]/g,Dne=/[\s-]/,Rne=/[\s-]/g;function Ine(e,t,n,r,i,a,s){if(a===t.length)return i===e.length?1:.99;var o=`${i},${a}`;if(void 0!==s[o])return s[o];for(var l,c,u,d,h=r.charAt(a),f=n.indexOf(h,i),m=0;f>=0;)(l=Ine(e,t,n,r,f+1,a+1,s))>m&&(f===i?l*=1:Ane.test(e.charAt(f-1))?(l*=.8,(u=e.slice(i,f-1).match(Tne))&&i>0&&(l*=Math.pow(One,u.length))):Dne.test(e.charAt(f-1))?(l*=.9,(d=e.slice(i,f-1).match(Rne))&&i>0&&(l*=Math.pow(One,d.length))):(l*=.17,i>0&&(l*=Math.pow(One,f-i))),e.charAt(f)!==t.charAt(a)&&(l*=.9999)),(l<.1&&n.charAt(f-1)===r.charAt(a+1)||r.charAt(a+1)===r.charAt(a)&&n.charAt(f-1)!==r.charAt(a))&&.1*(c=Ine(e,t,n,r,f+1,a+2,s))>l&&(l=.1*c),l>m&&(m=l),f=n.indexOf(h,f+1);return s[o]=m,m}function zne(e){return e.toLowerCase().replace(Rne," ")}function Lne(e,t,n){return Ine(e=n&&n.length>0?e+" "+n.join(" "):e,t,zne(e),zne(t),0,0,{})}var Fne="Dialog",[Bne,Wne]=dn(Fne),[Vne,$ne]=Bne(Fne),Kne=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:s=!0}=e,o=k.useRef(null),l=k.useRef(null),[c,u]=bn({prop:r,defaultProp:null!=i&&i,onChange:a,caller:Fne});return x.jsx(Vne,{scope:t,triggerRef:o,contentRef:l,contentId:vn(),titleId:vn(),descriptionId:vn(),open:c,onOpenChange:u,onOpenToggle:k.useCallback(()=>u(e=>!e),[u]),modal:s,children:n})};Kne.displayName=Fne;var Hne="DialogTrigger";k.forwardRef((e,t)=>{const n=e,{__scopeDialog:r}=n,i=m(n,["__scopeDialog"]),a=$ne(Hne,r),s=ze(t,a.triggerRef);return x.jsx(cn.button,f(h({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":lre(a.open)},i),{ref:s,onClick:un(e.onClick,a.onOpenToggle)}))}).displayName=Hne;var Une="DialogPortal",[Yne,qne]=Bne(Une,{forceMount:void 0}),Gne=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,a=$ne(Une,t);return x.jsx(Yne,{scope:t,forceMount:n,children:k.Children.map(r,e=>x.jsx(kn,{present:n||a.open,children:x.jsx(Ki,{asChild:!0,container:i,children:e})}))})};Gne.displayName=Une;var Xne="DialogOverlay",Qne=k.forwardRef((e,t)=>{const n=qne(Xne,e.__scopeDialog),r=e,{forceMount:i=n.forceMount}=r,a=m(r,["forceMount"]),s=$ne(Xne,e.__scopeDialog);return s.modal?x.jsx(kn,{present:i||s.open,children:x.jsx(Jne,f(h({},a),{ref:t}))}):null});Qne.displayName=Xne;var Zne=Le("DialogOverlay.RemoveScroll"),Jne=k.forwardRef((e,t)=>{const n=e,{__scopeDialog:r}=n,i=m(n,["__scopeDialog"]),a=$ne(Xne,r);return x.jsx(Fa,{as:Zne,allowPinchZoom:!0,shards:[a.contentRef],children:x.jsx(cn.div,f(h({"data-state":lre(a.open)},i),{ref:t,style:h({pointerEvents:"auto"},i.style)}))})}),ere="DialogContent",tre=k.forwardRef((e,t)=>{const n=qne(ere,e.__scopeDialog),r=e,{forceMount:i=n.forceMount}=r,a=m(r,["forceMount"]),s=$ne(ere,e.__scopeDialog);return x.jsx(kn,{present:i||s.open,children:s.modal?x.jsx(nre,f(h({},a),{ref:t})):x.jsx(rre,f(h({},a),{ref:t}))})});tre.displayName=ere;var nre=k.forwardRef((e,t)=>{const n=$ne(ere,e.__scopeDialog),r=k.useRef(null),i=ze(t,n.contentRef,r);return k.useEffect(()=>{const e=r.current;if(e)return Zi(e)},[]),x.jsx(ire,f(h({},e),{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:un(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null==(t=n.triggerRef.current)||t.focus()}),onPointerDownOutside:un(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()}),onFocusOutside:un(e.onFocusOutside,e=>e.preventDefault())}))}),rre=k.forwardRef((e,t)=>{const n=$ne(ere,e.__scopeDialog),r=k.useRef(!1),i=k.useRef(!1);return x.jsx(ire,f(h({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var a,s;null==(a=e.onCloseAutoFocus)||a.call(e,t),t.defaultPrevented||(r.current||null==(s=n.triggerRef.current)||s.focus(),t.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:t=>{var a,s;null==(a=e.onInteractOutside)||a.call(e,t),t.defaultPrevented||(r.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));const o=t.target;(null==(s=n.triggerRef.current)?void 0:s.contains(o))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}}))}),ire=k.forwardRef((e,t)=>{const n=e,{__scopeDialog:r,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:s}=n,o=m(n,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),l=$ne(ere,r),c=k.useRef(null),u=ze(t,c);return In(),x.jsxs(x.Fragment,{children:[x.jsx(Wn,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:a,onUnmountAutoFocus:s,children:x.jsx(An,f(h({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":lre(l.open)},o),{ref:u,onDismiss:()=>l.onOpenChange(!1)}))}),x.jsxs(x.Fragment,{children:[x.jsx(hre,{titleId:l.titleId}),x.jsx(fre,{contentRef:c,descriptionId:l.descriptionId})]})]})}),are="DialogTitle";k.forwardRef((e,t)=>{const n=e,{__scopeDialog:r}=n,i=m(n,["__scopeDialog"]),a=$ne(are,r);return x.jsx(cn.h2,f(h({id:a.titleId},i),{ref:t}))}).displayName=are;var sre="DialogDescription";k.forwardRef((e,t)=>{const n=e,{__scopeDialog:r}=n,i=m(n,["__scopeDialog"]),a=$ne(sre,r);return x.jsx(cn.p,f(h({id:a.descriptionId},i),{ref:t}))}).displayName=sre;var ore="DialogClose";function lre(e){return e?"open":"closed"}k.forwardRef((e,t)=>{const n=e,{__scopeDialog:r}=n,i=m(n,["__scopeDialog"]),a=$ne(ore,r);return x.jsx(cn.button,f(h({type:"button"},i),{ref:t,onClick:un(e.onClick,()=>a.onOpenChange(!1))}))}).displayName=ore;var cre="DialogTitleWarning",[ure,dre]=function(e,t){const n=k.createContext(t),r=e=>{const t=e,{children:r}=t,i=m(t,["children"]),a=k.useMemo(()=>i,Object.values(i));return x.jsx(n.Provider,{value:a,children:r})};return r.displayName=e+"Provider",[r,function(r){const i=k.useContext(n);if(i)return i;if(void 0!==t)return t;throw new Error(`\`${r}\` must be used within \`${e}\``)}]}(cre,{contentName:ere,titleName:are,docsSlug:"dialog"}),hre=({titleId:e})=>{const t=dre(cre),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.\n\nIf you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return k.useEffect(()=>{e&&document.getElementById(e)},[n,e]),null},fre=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${dre("DialogDescriptionWarning").contentName}}.`;return k.useEffect(()=>{var n;const r=null==(n=e.current)?void 0:n.getAttribute("aria-describedby");t&&r&&document.getElementById(t)},[n,e,t]),null},mre=Kne,pre=Gne,gre=Qne,vre=tre,yre='[cmdk-group=""]',xre='[cmdk-group-items=""]',bre='[cmdk-item=""]',wre=`${bre}:not([aria-disabled="true"])`,_re="cmdk-item-select",jre="data-value",kre=(e,t,n)=>Lne(e,t,n),Nre=k.createContext(void 0),Sre=()=>k.useContext(Nre),Cre=k.createContext(void 0),Ere=()=>k.useContext(Cre),Pre=k.createContext(void 0),Mre=k.forwardRef((e,t)=>{let n=Kre(()=>{var t,n;return{search:"",value:null!=(n=null!=(t=e.value)?t:e.defaultValue)?n:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=Kre(()=>new Set),i=Kre(()=>new Map),a=Kre(()=>new Map),s=Kre(()=>new Set),o=Vre(e),l=e,{label:c,children:u,value:d,onValueChange:p,filter:g,shouldFilter:v,loop:y,disablePointerSelection:x=!1,vimBindings:b=!0}=l,w=m(l,["label","children","value","onValueChange","filter","shouldFilter","loop","disablePointerSelection","vimBindings"]),_=vn(),j=vn(),N=vn(),S=k.useRef(null),C=Yre();$re(()=>{if(void 0!==d){let e=d.trim();n.current.value=e,E.emit()}},[d]),$re(()=>{C(6,D)},[]);let E=k.useMemo(()=>({subscribe:e=>(s.current.add(e),()=>s.current.delete(e)),snapshot:()=>n.current,setState:(e,t,r)=>{var i,a,s,l;if(!Object.is(n.current[e],t)){if(n.current[e]=t,"search"===e)T(),O(),C(1,A);else if("value"===e){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let e=document.getElementById(N);e?e.focus():null==(i=document.getElementById(_))||i.focus()}if(C(7,()=>{var e;n.current.selectedItemId=null==(e=R())?void 0:e.id,E.emit()}),r||C(5,D),void 0!==(null==(a=o.current)?void 0:a.value)){let e=null!=t?t:"";return void(null==(l=(s=o.current).onValueChange)||l.call(s,e))}}E.emit()}},emit:()=>{s.current.forEach(e=>e())}}),[]),P=k.useMemo(()=>({value:(e,t,r)=>{var i;t!==(null==(i=a.current.get(e))?void 0:i.value)&&(a.current.set(e,{value:t,keywords:r}),n.current.filtered.items.set(e,M(t,r)),C(2,()=>{O(),E.emit()}))},item:(e,t)=>(r.current.add(e),t&&(i.current.has(t)?i.current.get(t).add(e):i.current.set(t,new Set([e]))),C(3,()=>{T(),O(),n.current.value||A(),E.emit()}),()=>{a.current.delete(e),r.current.delete(e),n.current.filtered.items.delete(e);let t=R();C(4,()=>{T(),(null==t?void 0:t.getAttribute("id"))===e&&A(),E.emit()})}),group:e=>(i.current.has(e)||i.current.set(e,new Set),()=>{a.current.delete(e),i.current.delete(e)}),filter:()=>o.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>o.current.disablePointerSelection,listId:_,inputId:N,labelId:j,listInnerRef:S}),[]);function M(e,t){var r,i;let a=null!=(i=null==(r=o.current)?void 0:r.filter)?i:kre;return e?a(e,n.current.search,t):0}function O(){if(!n.current.search||!1===o.current.shouldFilter)return;let e=n.current.filtered.items,t=[];n.current.filtered.groups.forEach(n=>{let r=i.current.get(n),a=0;r.forEach(t=>{let n=e.get(t);a=Math.max(n,a)}),t.push([n,a])});let r=S.current;I().sort((t,n)=>{var r,i;let a=t.getAttribute("id"),s=n.getAttribute("id");return(null!=(r=e.get(s))?r:0)-(null!=(i=e.get(a))?i:0)}).forEach(e=>{let t=e.closest(xre);t?t.appendChild(e.parentElement===t?e:e.closest(`${xre} > *`)):r.appendChild(e.parentElement===r?e:e.closest(`${xre} > *`))}),t.sort((e,t)=>t[1]-e[1]).forEach(e=>{var t;let n=null==(t=S.current)?void 0:t.querySelector(`${yre}[${jre}="${encodeURIComponent(e[0])}"]`);null==n||n.parentElement.appendChild(n)})}function A(){let e=I().find(e=>"true"!==e.getAttribute("aria-disabled")),t=null==e?void 0:e.getAttribute(jre);E.setState("value",t||void 0)}function T(){var e,t,s,l;if(!n.current.search||!1===o.current.shouldFilter)return void(n.current.filtered.count=r.current.size);n.current.filtered.groups=new Set;let c=0;for(let i of r.current){let r=M(null!=(t=null==(e=a.current.get(i))?void 0:e.value)?t:"",null!=(l=null==(s=a.current.get(i))?void 0:s.keywords)?l:[]);n.current.filtered.items.set(i,r),r>0&&c++}for(let[r,a]of i.current)for(let e of a)if(n.current.filtered.items.get(e)>0){n.current.filtered.groups.add(r);break}n.current.filtered.count=c}function D(){var e,t,n;let r=R();r&&((null==(e=r.parentElement)?void 0:e.firstChild)===r&&(null==(n=null==(t=r.closest(yre))?void 0:t.querySelector('[cmdk-group-heading=""]'))||n.scrollIntoView({block:"nearest"})),r.scrollIntoView({block:"nearest"}))}function R(){var e;return null==(e=S.current)?void 0:e.querySelector(`${bre}[aria-selected="true"]`)}function I(){var e;return Array.from((null==(e=S.current)?void 0:e.querySelectorAll(wre))||[])}function z(e){let t=I()[e];t&&E.setState("value",t.getAttribute(jre))}function L(e){var t;let n=R(),r=I(),i=r.findIndex(e=>e===n),a=r[i+e];null!=(t=o.current)&&t.loop&&(a=i+e<0?r[r.length-1]:i+e===r.length?r[0]:r[i+e]),a&&E.setState("value",a.getAttribute(jre))}function F(e){let t,n=R(),r=null==n?void 0:n.closest(yre);for(;r&&!t;)r=e>0?Bre(r,yre):Wre(r,yre),t=null==r?void 0:r.querySelector(wre);t?E.setState("value",t.getAttribute(jre)):L(e)}let B=()=>z(I().length-1),W=e=>{e.preventDefault(),e.metaKey?B():e.altKey?F(1):L(1)},V=e=>{e.preventDefault(),e.metaKey?z(0):e.altKey?F(-1):L(-1)};return k.createElement(cn.div,f(h({ref:t,tabIndex:-1},w),{"cmdk-root":"",onKeyDown:e=>{var t;null==(t=w.onKeyDown)||t.call(w,e);let n=e.nativeEvent.isComposing||229===e.keyCode;if(!e.defaultPrevented&&!n)switch(e.key){case"n":case"j":b&&e.ctrlKey&&W(e);break;case"ArrowDown":W(e);break;case"p":case"k":b&&e.ctrlKey&&V(e);break;case"ArrowUp":V(e);break;case"Home":e.preventDefault(),z(0);break;case"End":e.preventDefault(),B();break;case"Enter":{e.preventDefault();let t=R();if(t){let e=new Event(_re);t.dispatchEvent(e)}}}}}),k.createElement("label",{"cmdk-label":"",htmlFor:P.inputId,id:P.labelId,style:Gre},c),qre(e,e=>k.createElement(Cre.Provider,{value:E},k.createElement(Nre.Provider,{value:P},e))))}),Ore=k.forwardRef((e,t)=>{var n,r;let i=vn(),a=k.useRef(null),s=k.useContext(Pre),o=Sre(),l=Vre(e),c=null!=(r=null==(n=l.current)?void 0:n.forceMount)?r:null==s?void 0:s.forceMount;$re(()=>{if(!c)return o.item(i,null==s?void 0:s.id)},[c]);let u=Ure(i,a,[e.value,e.children,a],e.keywords),d=Ere(),p=Hre(e=>e.value&&e.value===u.current),g=Hre(e=>!(!c&&!1!==o.filter())||!e.search||e.filtered.items.get(i)>0);function v(){var e,t;y(),null==(t=(e=l.current).onSelect)||t.call(e,u.current)}function y(){d.setState("value",u.current,!0)}if(k.useEffect(()=>{let t=a.current;if(t&&!e.disabled)return t.addEventListener(_re,v),()=>t.removeEventListener(_re,v)},[g,e.onSelect,e.disabled]),!g)return null;let x=e,{disabled:b,value:w,onSelect:_,forceMount:j,keywords:N}=x,S=m(x,["disabled","value","onSelect","forceMount","keywords"]);return k.createElement(cn.div,f(h({ref:Ie(a,t)},S),{id:i,"cmdk-item":"",role:"option","aria-disabled":!!b,"aria-selected":!!p,"data-disabled":!!b,"data-selected":!!p,onPointerMove:b||o.getDisablePointerSelection()?void 0:y,onClick:b?void 0:v}),e.children)}),Are=k.forwardRef((e,t)=>{let n=e,{heading:r,children:i,forceMount:a}=n,s=m(n,["heading","children","forceMount"]),o=vn(),l=k.useRef(null),c=k.useRef(null),u=vn(),d=Sre(),p=Hre(e=>!(!a&&!1!==d.filter())||!e.search||e.filtered.groups.has(o));$re(()=>d.group(o),[]),Ure(o,l,[e.value,e.heading,c]);let g=k.useMemo(()=>({id:o,forceMount:a}),[a]);return k.createElement(cn.div,f(h({ref:Ie(l,t)},s),{"cmdk-group":"",role:"presentation",hidden:!p||void 0}),r&&k.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),qre(e,e=>k.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},k.createElement(Pre.Provider,{value:g},e))))}),Tre=k.forwardRef((e,t)=>{let n=e,{alwaysRender:r}=n,i=m(n,["alwaysRender"]),a=k.useRef(null),s=Hre(e=>!e.search);return r||s?k.createElement(cn.div,f(h({ref:Ie(a,t)},i),{"cmdk-separator":"",role:"separator"})):null}),Dre=k.forwardRef((e,t)=>{let n=e,{onValueChange:r}=n,i=m(n,["onValueChange"]),a=null!=e.value,s=Ere(),o=Hre(e=>e.search),l=Hre(e=>e.selectedItemId),c=Sre();return k.useEffect(()=>{null!=e.value&&s.setState("search",e.value)},[e.value]),k.createElement(cn.input,f(h({ref:t},i),{"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:o,onChange:e=>{a||s.setState("search",e.target.value),null==r||r(e.target.value)}}))}),Rre=k.forwardRef((e,t)=>{let n=e,{children:r,label:i="Suggestions"}=n,a=m(n,["children","label"]),s=k.useRef(null),o=k.useRef(null),l=Hre(e=>e.selectedItemId),c=Sre();return k.useEffect(()=>{if(o.current&&s.current){let e,t=o.current,n=s.current,r=new ResizeObserver(()=>{e=requestAnimationFrame(()=>{let e=t.offsetHeight;n.style.setProperty("--cmdk-list-height",e.toFixed(1)+"px")})});return r.observe(t),()=>{cancelAnimationFrame(e),r.unobserve(t)}}},[]),k.createElement(cn.div,f(h({ref:Ie(s,t)},a),{"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":i,id:c.listId}),qre(e,e=>k.createElement("div",{ref:Ie(o,c.listInnerRef),"cmdk-list-sizer":""},e)))}),Ire=k.forwardRef((e,t)=>{let n=e,{open:r,onOpenChange:i,overlayClassName:a,contentClassName:s,container:o}=n,l=m(n,["open","onOpenChange","overlayClassName","contentClassName","container"]);return k.createElement(mre,{open:r,onOpenChange:i},k.createElement(pre,{container:o},k.createElement(gre,{"cmdk-overlay":"",className:a}),k.createElement(vre,{"aria-label":e.label,"cmdk-dialog":"",className:s},k.createElement(Mre,h({ref:t},l)))))}),zre=k.forwardRef((e,t)=>Hre(e=>0===e.filtered.count)?k.createElement(cn.div,f(h({ref:t},e),{"cmdk-empty":"",role:"presentation"})):null),Lre=k.forwardRef((e,t)=>{let n=e,{progress:r,children:i,label:a="Loading..."}=n,s=m(n,["progress","children","label"]);return k.createElement(cn.div,f(h({ref:t},s),{"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a}),qre(e,e=>k.createElement("div",{"aria-hidden":!0},e)))}),Fre=Object.assign(Mre,{List:Rre,Item:Ore,Input:Dre,Group:Are,Separator:Tre,Dialog:Ire,Empty:zre,Loading:Lre});function Bre(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function Wre(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function Vre(e){let t=k.useRef(e);return $re(()=>{t.current=e}),t}var $re="undefined"==typeof window?k.useEffect:k.useLayoutEffect;function Kre(e){let t=k.useRef();return void 0===t.current&&(t.current=e()),t}function Hre(e){let t=Ere(),n=()=>e(t.snapshot());return k.useSyncExternalStore(t.subscribe,n,n)}function Ure(e,t,n,r=[]){let i=k.useRef(),a=Sre();return $re(()=>{var s;let o=(()=>{var e;for(let t of n){if("string"==typeof t)return t.trim();if("object"==typeof t&&"current"in t)return t.current?null==(e=t.current.textContent)?void 0:e.trim():i.current}})(),l=r.map(e=>e.trim());a.value(e,o,l),null==(s=t.current)||s.setAttribute(jre,o),i.current=o}),i}var Yre=()=>{let[e,t]=k.useState(),n=Kre(()=>new Map);return $re(()=>{n.current.forEach(e=>e()),n.current=new Map},[e]),(e,r)=>{n.current.set(e,r),t({})}};function qre({asChild:e,children:t},n){return e&&k.isValidElement(t)?k.cloneElement(function(e){let t=e.type;return"function"==typeof t?t(e.props):"render"in t?t.render(e.props):e}(t),{ref:t.ref},n(t.props.children)):n(t)}var Gre={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function Xre(e){var t=e,{className:n}=t,r=m(t,["className"]);return x.jsx(Fre,h({"data-slot":"command",className:en("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",n)},r))}function Qre(e){var t=e,{className:n}=t,r=m(t,["className"]);return x.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[x.jsx(we,{className:"size-4 shrink-0 opacity-50"}),x.jsx(Fre.Input,h({"data-slot":"command-input",className:en("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",n)},r))]})}function Zre(e){var t=e,{className:n}=t,r=m(t,["className"]);return x.jsx(Fre.List,h({"data-slot":"command-list",className:en("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",n)},r))}function Jre(e){var t=m(e,[]);return x.jsx(Fre.Empty,h({"data-slot":"command-empty",className:"py-6 text-center text-sm"},t))}function eie(e){var t=e,{className:n}=t,r=m(t,["className"]);return x.jsx(Fre.Group,h({"data-slot":"command-group",className:en("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",n)},r))}function tie(e){var t=e,{className:n}=t,r=m(t,["className"]);return x.jsx(Fre.Separator,h({"data-slot":"command-separator",className:en("bg-border -mx-1 h-px",n)},r))}function nie(e){var t=e,{className:n}=t,r=m(t,["className"]);return x.jsx(Fre.Item,h({"data-slot":"command-item",className:en("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n)},r))}const rie=Ye("m-1 transition ease-in-out delay-150 hover:-translate-y-1 hover:scale-110 duration-300",{variants:{variant:{default:"border-foreground/10 text-foreground bg-card hover:bg-card/80",secondary:"border-foreground/10 bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",inverted:"inverted"}},defaultVariants:{variant:"default"}}),iie=N.forwardRef((e,t)=>{var n=e,{options:r,onValueChange:i,variant:a,defaultValue:s=[],value:o,placeholder:l="Select options",animation:c=0,maxCount:u=3,modalPopover:d=!1,asChild:p=!1,className:g}=n,v=m(n,["options","onValueChange","variant","defaultValue","value","placeholder","animation","maxCount","modalPopover","asChild","className"]);const[y,b]=k.useState(o||s),[w,_]=k.useState(!1),[j,N]=k.useState(!1);k.useEffect(()=>{void 0!==o&&b(o)},[o]);const S=e=>{const t=y.includes(e)?y.filter(t=>t!==e):[...y,e];b(t),i(t)},C=()=>{b([]),i([])};return x.jsxs(ol,{open:w,onOpenChange:_,modal:d,children:[x.jsx(ll,{asChild:!0,children:x.jsx(an,f(h({ref:t},v),{onClick:()=>{_(e=>!e)},className:en("flex w-full p-1 rounded-md border min-h-10 h-auto items-center justify-between bg-inherit hover:bg-inherit [&_svg]:pointer-events-auto",g),children:y.length>0?x.jsxs("div",{className:"flex justify-between items-center w-full",children:[x.jsxs("div",{className:"flex flex-wrap items-center",children:[y.slice(0,u).map(e=>{const t=r.find(t=>t.value===e),n=null==t?void 0:t.icon;return x.jsxs(nn,{className:en(j?"animate-bounce":"",rie({variant:a})),style:{animationDuration:`${c}s`},children:[n&&x.jsx(n,{className:"h-4 w-4 mr-2"}),null==t?void 0:t.label,x.jsx(de,{className:"ml-2 h-4 w-4 cursor-pointer",onClick:t=>{t.stopPropagation(),S(e)}})]},e)}),y.length>u&&x.jsxs(nn,{className:en("bg-transparent text-foreground border-foreground/1 hover:bg-transparent",j?"animate-bounce":"",rie({variant:a})),style:{animationDuration:`${c}s`},children:[`+ ${y.length-u} more`,x.jsx(de,{className:"ml-2 h-4 w-4 cursor-pointer",onClick:e=>{e.stopPropagation(),(()=>{const e=y.slice(0,u);b(e),i(e)})()}})]})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx(Me,{className:"h-4 mx-2 cursor-pointer text-muted-foreground",onClick:e=>{e.stopPropagation(),C()}}),x.jsx(io,{orientation:"vertical",className:"flex min-h-6 h-full"}),x.jsx(se,{className:"h-4 mx-2 cursor-pointer text-muted-foreground"})]})]}):x.jsxs("div",{className:"flex items-center justify-between w-full mx-auto",children:[x.jsx("span",{className:"text-sm text-muted-foreground mx-3",children:l}),x.jsx(se,{className:"h-4 cursor-pointer text-muted-foreground mx-2"})]})}))}),x.jsx(cl,{className:"w-auto p-0",align:"start",onEscapeKeyDown:()=>_(!1),children:x.jsxs(Xre,{children:[x.jsx(Qre,{placeholder:"Search...",onKeyDown:e=>{if("Enter"===e.key)_(!0);else if("Backspace"===e.key&&!e.currentTarget.value){const e=[...y];e.pop(),b(e),i(e)}}}),x.jsxs(Zre,{children:[x.jsx(Jre,{children:"No results found."}),x.jsxs(eie,{children:[x.jsxs(nie,{onSelect:()=>{if(y.length===r.length)C();else{const e=r.map(e=>e.value);b(e),i(e)}},className:"cursor-pointer",children:[x.jsx("div",{className:en("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",y.length===r.length?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:x.jsx(ae,{className:"h-4 w-4"})}),x.jsx("span",{children:"(Select All)"})]},"all"),r.map(e=>{const t=y.includes(e.value);return x.jsxs(nie,{onSelect:()=>S(e.value),className:"cursor-pointer",children:[x.jsx("div",{className:en("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",t?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:x.jsx(ae,{className:"h-4 w-4"})}),e.icon&&x.jsx(e.icon,{className:"mr-2 h-4 w-4 text-muted-foreground"}),x.jsx("span",{children:e.label})]},e.value)})]}),x.jsx(tie,{}),x.jsx(eie,{children:x.jsxs("div",{className:"flex items-center justify-between",children:[y.length>0&&x.jsxs(x.Fragment,{children:[x.jsx(nie,{onSelect:C,className:"flex-1 justify-center cursor-pointer",children:"Clear"},"clear"),x.jsx(io,{orientation:"vertical",className:"flex min-h-6 h-full"})]}),x.jsx(nie,{onSelect:()=>_(!1),className:"flex-1 justify-center cursor-pointer max-w-full",children:"Close"},"close")]})})]})]})}),c>0&&y.length>0&&x.jsx(Pe,{className:en("cursor-pointer my-2 text-foreground bg-background w-3 h-3",j?"":"text-muted-foreground"),onClick:()=>N(!j)})]})});iie.displayName="MultiSelect";const aie=({type:e,trailLength:t,setTrailLength:n,selectedIndustries:r,setSelectedIndustries:i,selectedGroups:a,setSelectedGroups:s,selectedTickerIndustries:o,setSelectedTickerIndustries:l,specialTickerFilter:c,setSpecialTickerFilter:u,availableIndustries:d,availableGroups:h,filteredData:f})=>x.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("label",{className:"text-sm font-medium",children:"Trail Length:"}),x.jsxs("select",{value:t,onChange:e=>n(Number(e.target.value)),className:"border rounded px-2 py-1 text-sm min-w-[80px] focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-black cursor-pointer",children:[x.jsx("option",{value:0,children:"None"}),x.jsx("option",{value:5,children:"5"}),x.jsx("option",{value:10,children:"10"}),x.jsx("option",{value:21,children:"21"})]})]}),"industries"===e&&x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("label",{className:"text-sm font-medium",children:"Filter by:"}),x.jsx(iie,{options:d.map(e=>({value:e.id,label:e.name})),onValueChange:i,value:r,placeholder:"Chọn ngành",maxCount:3,variant:"default"}),r.length>0&&x.jsxs("span",{className:"text-xs text-gray-500",children:["Showing ",f.length," industries"]})]}),"groups"===e&&x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("label",{className:"text-sm font-medium",children:"Filter by:"}),x.jsx(iie,{options:h.map(e=>({value:e.id,label:e.name})),onValueChange:s,value:a,placeholder:"Chọn nhóm",maxCount:3,variant:"default"}),a.length>0&&x.jsxs("span",{className:"text-xs text-gray-500",children:["Showing ",f.length," groups"]})]}),"tickers"===e&&x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("label",{className:"text-sm font-medium",children:"Filter by:"}),x.jsxs("select",{value:c,onChange:e=>u(e.target.value),className:"border rounded px-2 py-1 text-sm min-w-[200px] focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-black cursor-pointer",children:[x.jsx("option",{value:"all",children:"By Industry"}),x.jsx("option",{value:"top10rs",children:"Top 10 RS Score"}),x.jsx("option",{value:"bottom10rs",children:"Bottom 10 RS Score"}),x.jsx("option",{value:"top10momentum",children:"Top 10 RS Momentum"}),x.jsx("option",{value:"bottom10momentum",children:"Bottom 10 RS Momentum"})]}),"all"===c&&x.jsx("select",{value:o[0],onChange:e=>l([e.target.value]),className:"border rounded px-2 py-1 text-sm min-w-[200px] focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-black cursor-pointer",children:d.map(e=>x.jsx("option",{value:e.id,children:e.name},e.id))}),"all"!==c?x.jsx("span",{className:"text-xs text-blue-600 font-medium",children:(()=>{switch(c){case"top10rs":return"Top 10 RS Score";case"bottom10rs":return"Bottom 10 RS Score";case"top10momentum":return"Top 10 RS Momentum";case"bottom10momentum":return"Bottom 10 RS Momentum";default:return""}})()}):x.jsxs("span",{className:"text-xs text-gray-500",children:["Showing ",f.length," tickers"]})]})]}),sie=({limitedData:e,getSeriesColor:t,type:n,availableIndustries:r,availableGroups:i})=>x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[x.jsxs("p",{children:[x.jsx("strong",{children:"RS-Ratio (X-axis):"})," Sức mạnh tương đối so với VNINDEX (values >100 = vượt trội, <100 = kém)"]}),x.jsxs("p",{children:[x.jsx("strong",{children:"RS-Momentum (Y-axis):"})," Tốc độ thay đổi sức mạnh tương đối (values >100 = cải thiện, <100 = suy yếu)"]}),x.jsxs("p",{children:[x.jsx("strong",{children:"Quadrants:"})," Leading (Dẫn dắt) (góc phải-trên), Weakening (Suy yếu) (góc phải-dưới), Lagging (Tụt hậu) (góc trái-dưới), Improving (Cải thiện) (góc trái-trên)"]})]}),e.length>0&&x.jsxs("div",{className:"border-t pt-3",children:[x.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Cấu phần:"}),x.jsx("div",{className:"flex flex-wrap gap-2",children:e.map((a,s)=>{let o;if("industries"===n){const e=null==r?void 0:r.find(e=>e.custom_id===a.custom_id);o=(null==e?void 0:e.name)||a.custom_id}else if("groups"===n){const e=null==i?void 0:i.find(e=>e.id===a.id);o=(null==e?void 0:e.name)||a.id}else o=a.symbol||a.custom_id;return x.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[x.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:t(a.symbol||a.custom_id,s,e.length)}}),x.jsx("span",{className:"text-gray-600",children:o})]},a.symbol||a.custom_id)})})]})]}),oie=({icon:e,label:t,value:n,valueClassName:r=""})=>x.jsxs("div",{className:"flex items-center justify-between py-1",children:[x.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[x.jsx(e,{className:"w-3.5 h-3.5 mr-2"}),x.jsx("span",{children:t})]}),x.jsx("span",{className:`font-mono text-xs font-medium ${r}`,children:n})]}),lie=({title:e,children:t})=>x.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[x.jsx("h4",{className:"font-semibold text-gray-800 text-sm mb-2",children:e}),x.jsx("div",{className:"space-y-1",children:t})]}),cie=({symbol:e})=>{var t,n,r,i,a,s;const o=e;if(!o)return x.jsxs("div",{className:"bg-white border rounded-lg p-4 shadow-sm",children:[x.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:e.name}),x.jsx("p",{className:"text-gray-500 text-sm",children:"Không có dữ liệu chi tiết cho mã này."})]},e.symbol);const{metrics:l={},performance_summary:c={},speed_analysis:u={},direction_analysis:d={},risk_assessment:h={}}=o,f=e=>"number"==typeof e?`${(100*e).toFixed(1)}%`:"K/C",m=e=>"number"==typeof e?e.toFixed(2):"K/C";return x.jsxs("div",{className:"bg-white border rounded-lg p-4 shadow-sm",children:[x.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:e.name}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[x.jsxs(lie,{title:"Hiệu suất",children:[x.jsx(oie,{icon:Ne,label:"RS Hiện tại",value:f(null==l?void 0:l.current_rs),valueClassName:"text-blue-600"}),x.jsx(oie,{icon:(null==l?void 0:l.rs_5d_change)>0?Z:X,label:"Thay đổi 5 phiên",value:f(null==l?void 0:l.rs_5d_change),valueClassName:Ate(null==l?void 0:l.rs_5d_change)}),x.jsx(oie,{icon:(null==l?void 0:l.rs_21d_change)>0?Z:X,label:"Thay đổi 21 phiên",value:f(null==l?void 0:l.rs_21d_change),valueClassName:Ate(null==l?void 0:l.rs_21d_change)}),x.jsx(oie,{icon:je,label:"Xu hướng RS",value:null==c?void 0:c.rs_trend,valueClassName:Ote(null==c?void 0:c.rs_trend)})]}),x.jsxs(lie,{title:"Tốc độ & Hướng",children:[x.jsx(oie,{icon:Oe,label:"Tốc độ 5 phiên",value:f(null==u?void 0:u.raw_speed_5d)}),x.jsx(oie,{icon:"Tăng trưởng"===(null==d?void 0:d.direction)?Ne:ke,label:"Hướng",value:null==d?void 0:d.direction,valueClassName:Ite(null==d?void 0:d.direction)}),x.jsx(oie,{icon:G,label:"Sức mạnh xu hướng",value:(null==d?void 0:d.trend_strength)||"K/C",valueClassName:"text-purple-600"}),x.jsx(oie,{icon:he,label:"Tốc độ",value:(null==u?void 0:u.speed_category)||"K/C",valueClassName:"text-orange-600"})]}),x.jsxs(lie,{title:"Đánh giá Rủi ro",children:[x.jsx(oie,{icon:_e,label:"Mức rủi ro",value:null==h?void 0:h.risk_level,valueClassName:Ete(null==h?void 0:h.risk_level)}),x.jsx(oie,{icon:ne,label:"Kích thước vị thế",value:(null==h?void 0:h.suggested_position_size)||"K/C"}),x.jsx(oie,{icon:Ce,label:"Hoạt động tổ chức",value:(null==(t=null==h?void 0:h.volume_analysis)?void 0:t.institutional_activity)?"Có":"Không",valueClassName:(null==(n=null==h?void 0:h.volume_analysis)?void 0:n.institutional_activity)?"text-green-600":"text-gray-500"}),x.jsx(oie,{icon:je,label:"Khung thời gian",value:(null==h?void 0:h.time_horizon)||"K/C"})]}),x.jsxs(lie,{title:"Phân tích Chi tiết",children:[x.jsx(oie,{icon:ne,label:"CRS Hiện tại",value:f(null==l?void 0:l.current_crs),valueClassName:Pte(null==l?void 0:l.current_crs)}),x.jsx(oie,{icon:G,label:"Trạng thái CRS",value:null==c?void 0:c.crs_status,valueClassName:Mte(null==c?void 0:c.crs_status)}),x.jsx(oie,{icon:je,label:"Điểm sức mạnh",value:m(null==c?void 0:c.strength_score),valueClassName:(null==c?void 0:c.strength_score)>0?"text-green-600":"text-red-600"}),x.jsx(oie,{icon:Oe,label:"Độ nhất quán",value:f(null==u?void 0:u.consistency_score)})]}),x.jsxs(lie,{title:"Phân tích Khối lượng",children:[x.jsx(oie,{icon:ne,label:"Xu hướng khối lượng",value:(null==(r=null==h?void 0:h.volume_analysis)?void 0:r.volume_trend)||"K/C",valueClassName:"text-blue-600"}),x.jsx(oie,{icon:G,label:"Chất lượng khối lượng",value:(null==(i=null==h?void 0:h.volume_analysis)?void 0:i.volume_quality)||"K/C",valueClassName:"text-purple-600"}),x.jsx(oie,{icon:Ne,label:"Tỷ lệ khối lượng",value:m(null==(a=null==h?void 0:h.volume_analysis)?void 0:a.recent_volume_ratio),valueClassName:(null==(s=null==h?void 0:h.volume_analysis)?void 0:s.recent_volume_ratio)>1?"text-green-600":"text-red-600"}),x.jsx(oie,{icon:_e,label:"Stop loss",value:f(null==h?void 0:h.stop_loss_distance),valueClassName:"text-red-600"})]}),x.jsxs(lie,{title:"Thống kê Hiệu suất",children:[x.jsx(oie,{icon:ce,label:"Phiên vượt trội",value:`${(null==l?void 0:l.outperforming_days)||0}/${(null==l?void 0:l.total_days)||0}`,valueClassName:"text-green-600"}),x.jsx(oie,{icon:de,label:"Phiên tụt hậu",value:`${(null==l?void 0:l.underperforming_days)||0}/${(null==l?void 0:l.total_days)||0}`,valueClassName:"text-red-600"}),x.jsx(oie,{icon:ne,label:"Biến động RS",value:f(null==l?void 0:l.rs_volatility)}),x.jsx(oie,{icon:G,label:"Biến động CRS",value:f(null==l?void 0:l.crs_volatility)})]})]})]},e.id)},uie=({icon:e,label:t,value:n,valueClassName:r=""})=>x.jsxs("div",{className:"flex items-center justify-between py-1",children:[x.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[x.jsx(e,{className:"w-3.5 h-3.5 mr-2"}),x.jsx("span",{children:t})]}),x.jsx("span",{className:`font-mono text-xs font-medium ${r}`,children:n})]}),die=({title:e,children:t})=>x.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[x.jsx("h4",{className:"font-semibold text-gray-800 text-sm mb-2",children:e}),x.jsx("div",{className:"space-y-1",children:t})]}),hie=({group:e})=>{var t,n,r,i,a,s;if(!e)return x.jsx("div",{className:"bg-white border rounded-lg p-4 shadow-sm text-center",children:x.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Không có dữ liệu chi tiết cho nhóm này."})});const o=e,{custom_id:l,name:c,metrics:u={},speed_analysis:d={},direction_analysis:h={},risk_assessment:f={},trend_consistency:p={},performance_summary:g={},latest_date:v,data_points:y}=o,b=(m(o,["custom_id","name","metrics","speed_analysis","direction_analysis","risk_assessment","trend_consistency","performance_summary","latest_date","data_points"]),e=>"number"==typeof e?`${(100*e).toFixed(1)}%`:"K/C"),w=e=>"number"==typeof e?e.toFixed(2):"K/C";return x.jsxs("div",{className:"bg-white border rounded-lg p-4 shadow-sm",children:[x.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:c}),x.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["Mã nhóm: ",l]}),x.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Ngày cập nhật: ",v]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[x.jsxs(die,{title:"Hiệu suất",children:[x.jsx(uie,{icon:Ne,label:"RS Hiện tại",value:b(null==u?void 0:u.current_rs),valueClassName:"text-blue-600"}),x.jsx(uie,{icon:(null==u?void 0:u.rs_5d_change)>0?Z:X,label:"Thay đổi 5 phiên",value:b(null==u?void 0:u.rs_5d_change),valueClassName:Ate(null==u?void 0:u.rs_5d_change)}),x.jsx(uie,{icon:(null==u?void 0:u.rs_21d_change)>0?Z:X,label:"Thay đổi 21 phiên",value:b(null==u?void 0:u.rs_21d_change),valueClassName:Ate(null==u?void 0:u.rs_21d_change)}),x.jsx(uie,{icon:je,label:"Xu hướng RS",value:null==g?void 0:g.rs_trend,valueClassName:Ote(null==g?void 0:g.rs_trend)})]}),x.jsxs(die,{title:"Tốc độ & Hướng",children:[x.jsx(uie,{icon:Oe,label:"Tốc độ 5 phiên",value:b(null==d?void 0:d.raw_speed_5d)}),x.jsx(uie,{icon:"Tăng trưởng"===(null==h?void 0:h.direction)?Ne:ke,label:"Hướng",value:null==h?void 0:h.direction,valueClassName:Ite(null==h?void 0:h.direction)}),x.jsx(uie,{icon:G,label:"Sức mạnh xu hướng",value:(null==h?void 0:h.trend_strength)||"K/C",valueClassName:"text-purple-600"}),x.jsx(uie,{icon:he,label:"Tốc độ",value:(null==d?void 0:d.speed_category)||"K/C",valueClassName:"text-orange-600"})]}),x.jsxs(die,{title:"Đánh giá Rủi ro",children:[x.jsx(uie,{icon:_e,label:"Mức rủi ro",value:null==f?void 0:f.risk_level,valueClassName:Ete(null==f?void 0:f.risk_level)}),x.jsx(uie,{icon:ne,label:"Kích thước vị thế",value:(null==f?void 0:f.suggested_position_size)||"K/C"}),x.jsx(uie,{icon:Ce,label:"Hoạt động tổ chức",value:(null==(t=null==f?void 0:f.volume_analysis)?void 0:t.institutional_activity)?"Có":"Không",valueClassName:(null==(n=null==f?void 0:f.volume_analysis)?void 0:n.institutional_activity)?"text-green-600":"text-gray-500"}),x.jsx(uie,{icon:je,label:"Khung thời gian",value:(null==f?void 0:f.time_horizon)||"K/C"})]}),x.jsxs(die,{title:"Phân tích Chi tiết",children:[x.jsx(uie,{icon:ne,label:"CRS Hiện tại",value:b(null==u?void 0:u.current_crs),valueClassName:Pte(null==u?void 0:u.current_crs)}),x.jsx(uie,{icon:G,label:"Trạng thái CRS",value:null==g?void 0:g.crs_status,valueClassName:Mte(null==g?void 0:g.crs_status)}),x.jsx(uie,{icon:je,label:"Điểm sức mạnh",value:w(null==g?void 0:g.strength_score),valueClassName:Tte(null==g?void 0:g.strength_score)}),x.jsx(uie,{icon:Oe,label:"Độ nhất quán",value:b(null==d?void 0:d.consistency_score)})]}),x.jsxs(die,{title:"Phân tích Khối lượng",children:[x.jsx(uie,{icon:ne,label:"Xu hướng khối lượng",value:(null==(r=null==f?void 0:f.volume_analysis)?void 0:r.volume_trend)||"K/C",valueClassName:"text-blue-600"}),x.jsx(uie,{icon:G,label:"Chất lượng khối lượng",value:(null==(i=null==f?void 0:f.volume_analysis)?void 0:i.volume_quality)||"K/C",valueClassName:"text-purple-600"}),x.jsx(uie,{icon:Ne,label:"Tỷ lệ khối lượng",value:w(null==(a=null==f?void 0:f.volume_analysis)?void 0:a.recent_volume_ratio),valueClassName:Dte(null==(s=null==f?void 0:f.volume_analysis)?void 0:s.recent_volume_ratio)}),x.jsx(uie,{icon:_e,label:"Stop loss",value:b(null==f?void 0:f.stop_loss_distance),valueClassName:"text-red-600"})]}),x.jsxs(die,{title:"Thống kê Hiệu suất",children:[x.jsx(uie,{icon:ce,label:"phiên vượt trội",value:`${(null==u?void 0:u.outperforming_days)||0}/${(null==u?void 0:u.total_days)||0}`,valueClassName:"text-green-600"}),x.jsx(uie,{icon:de,label:"phiên tụt hậu",value:`${(null==u?void 0:u.underperforming_days)||0}/${(null==u?void 0:u.total_days)||0}`,valueClassName:"text-red-600"}),x.jsx(uie,{icon:ne,label:"Biến động RS",value:b(null==u?void 0:u.rs_volatility)}),x.jsx(uie,{icon:G,label:"Biến động CRS",value:b(null==u?void 0:u.crs_volatility)})]})]})]})};function fie({item:e,timeframe:t,itemData:n}){return e?n?n?x.jsxs("div",{className:"mt-6 p-4 bg-white border rounded-lg shadow-sm",children:[x.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Thông tin chi tiết - ","symbol"===e.type?"Cổ phiếu":"group"===e.type?"Nhóm vốn hóa":"Ngành nghề"]}),x.jsx("div",{className:"space-y-4",children:"symbol"===e.type?x.jsx(cie,{symbol:n},`${e.id}-${t}`):"group"===e.type?x.jsx(hie,{group:n},`${e.custom_id}-${t}`):x.jsx(Sne,{industry:n},`${e.custom_id}-${t}`)})]}):x.jsx("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:x.jsxs("div",{className:"text-center py-4",children:[x.jsx("div",{className:"text-yellow-600 font-medium",children:"Không có dữ liệu"}),x.jsx("div",{className:"text-yellow-500 text-sm mt-1",children:"Không tìm thấy dữ liệu cho mục đã chọn."})]})}):x.jsx("div",{className:"mt-6 p-4 bg-gray-50 border rounded-lg",children:x.jsxs("div",{className:"flex items-center justify-center py-8",children:[x.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"}),x.jsx("span",{className:"ml-3 text-gray-600",children:"Đang tải dữ liệu chi tiết..."})]})}):null}const mie=(e,t,n)=>`hsl(${360*t/n}, 70%, 50%)`;function pie(e){const{type:t="industries",timeframe:n,analyticsData:r}=e,[i,a]=k.useState([]),[s,o]=k.useState([]),[l,c]=k.useState([]),[u,d]=k.useState("all"),[p,g]=k.useState(10),[v,y]=k.useState({width:600,height:600}),[b,w]=k.useState(null),[_,j]=k.useState({x:0,y:0}),N=k.useRef(null),S=k.useRef(null),[C,E]=k.useState(1),[P,M]=k.useState(null);k.useEffect(()=>{const e=()=>{if(N.current){const e=N.current.offsetWidth,t=Math.min(e-32,800);y({width:t,height:t})}};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const{groups:O=[],industries:A=[],symbols:T=[]}=r||{};k.useEffect(()=>{"tickers"===t&&"all"===u&&!l.length&&A.length>0&&c([A[0].custom_id])},[t,u,A]),k.useEffect(()=>{"industries"===t&&0===i.length&&A.length>0&&a(A.map(e=>e.custom_id))},[t,A]),k.useEffect(()=>{"groups"===t&&0===s.length&&O.length>0&&o(O.map(e=>e.custom_id))},[t,O]);const D=k.useMemo(()=>{if("industries"===t){const e=i.length>0?i:A.map(e=>e.custom_id);return A.filter(t=>e.includes(t.custom_id))}if("groups"===t)return s.length>0||O.map(e=>e.custom_id),s.length>0?O.filter(e=>s.includes(e.custom_id)):O;if(u&&"all"!==u){const e=T;return"top10rs"===u?e.map(e=>{var t,n;return f(h({},e),{latestRS:(null==(n=null==(t=e.tail)?void 0:t[e.tail.length-1])?void 0:n.x)||0})}).sort((e,t)=>t.latestRS-e.latestRS).slice(0,10):"bottom10rs"===u?e.map(e=>{var t,n;return f(h({},e),{latestRS:(null==(n=null==(t=e.tail)?void 0:t[e.tail.length-1])?void 0:n.x)||0})}).sort((e,t)=>e.latestRS-t.latestRS).slice(0,10):"top10momentum"===u?e.map(e=>{var t,n;return f(h({},e),{latestMomentum:(null==(n=null==(t=e.tail)?void 0:t[e.tail.length-1])?void 0:n.y)||0})}).sort((e,t)=>t.latestMomentum-e.latestMomentum).slice(0,10):"bottom10momentum"===u?e.map(e=>{var t,n;return f(h({},e),{latestMomentum:(null==(n=null==(t=e.tail)?void 0:t[e.tail.length-1])?void 0:n.y)||0})}).sort((e,t)=>e.latestMomentum-t.latestMomentum).slice(0,10):[]}return l.length>0?T.filter(e=>e.industries&&e.industries.some(e=>l.includes(e.custom_id))):T},[t,i,s,l,u,T,A,O]),R=k.useMemo(()=>"industries"===t?(i.length>0?A.filter(e=>i.includes(e.custom_id)):A.slice(0,3)).filter((e,t,n)=>t===n.findIndex(t=>t.custom_id===e.custom_id)).map(e=>f(h({},e),{type:"industry"})):"groups"===t?(s.length>0?O.filter(e=>s.includes(e.custom_id)):O.slice(0,3)).map(e=>f(h({},e),{type:"group"})):"tickers"===t&&D&&0!==D.length?"all"===u&&l.length>0?[...A.filter(e=>l.includes(e.custom_id)).map(e=>f(h({},e),{type:"industry"})),...D.slice(0,50).map(e=>({id:e.symbol||e.custom_id,name:e.symbol||e.custom_id,type:"symbol"}))]:D.slice(0,50).map(e=>({id:e.symbol||e.custom_id,name:e.symbol||e.custom_id,type:"symbol"})):[],[t,i,s,l,u,A,O,D]),I=D.slice(0,50),{domainX:z,domainY:L}=k.useMemo(()=>{const e=I.flatMap(e=>{var t;return(null==(t=e.tail)?void 0:t.map(e=>e.x))||[]}),t=I.flatMap(e=>{var t;return(null==(t=e.tail)?void 0:t.map(e=>e.y))||[]});if(0===e.length||0===t.length)return{domainX:[90,110],domainY:[90,110]};const n=Math.max(...e.map(e=>Math.abs(e-100))),r=Math.max(...t.map(e=>Math.abs(e-100))),i=1.1*Math.max(n,r)/C;return{domainX:[100-i,100+i],domainY:[100-i,100+i]}},[I,C]),F=k.useMemo(()=>I&&0!==I.length?I.map((e,n)=>{var r,i,a;const s=null==(r=e.tail)?void 0:r[e.tail.length-1],o="tickers"===t&&(null==(a=null==(i=T.find(t=>t.symbol===e.symbol))?void 0:i.industries)?void 0:a.find(e=>e.is_primary))||null;let l;if("industries"===t){const t=A.find(t=>t.custom_id===e.custom_id);l=(null==t?void 0:t.name)||e.custom_id}else if("groups"===t){const t=O.find(t=>t.custom_id===e.custom_id);l=(null==t?void 0:t.name)||e.custom_id}else l=e.symbol||e.custom_id;return f(h({},s),{name:l,id:e.symbol||e.custom_id,type:t,industry:(null==o?void 0:o.name)||null,color:mie(e.symbol||e.custom_id,n,I.length),seriesIndex:n})}):[],[I,t,T,A,O]);return A&&O&&T?P?x.jsxs("div",{className:"w-full p-8 text-center",children:[x.jsx("div",{className:"text-red-600 text-lg font-medium",children:"Error in RRG Chart"}),x.jsx("div",{className:"text-gray-600 mt-2",children:P}),x.jsx("button",{onClick:()=>M(null),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Try Again"})]}):"tickers"===t&&l.length>0&&0===D.length?x.jsxs("div",{className:"w-full p-8 text-center",children:[x.jsx("div",{className:"text-orange-600 text-lg font-medium",children:"No tickers found"}),x.jsxs("div",{className:"text-gray-600 mt-2",children:["No tickers found for the selected industries: ",l.join(", ")]}),x.jsx("div",{className:"text-gray-500 mt-1 text-sm",children:"Try selecting different industries or clear the filter to see top/bottom performers."}),x.jsx("button",{onClick:()=>c([]),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm cursor-pointer",children:"Clear Filter & Show Top/Bottom Performers"})]}):0===I.length?x.jsxs("div",{className:"w-full p-8 text-center",children:[x.jsx("div",{className:"text-orange-600 text-lg font-medium",children:"No data available"}),x.jsxs("div",{className:"text-gray-600 mt-2",children:["No ",t," data found for the current selection. Try changing filters or timeframe."]})]}):x.jsxs("div",{className:"w-full space-y-4",children:[x.jsx(aie,{type:t,trailLength:p,setTrailLength:g,selectedIndustries:i,setSelectedIndustries:a,selectedGroups:s,setSelectedGroups:o,selectedTickerIndustries:l,setSelectedTickerIndustries:c,specialTickerFilter:u,setSpecialTickerFilter:d,availableIndustries:A,availableGroups:O,filteredData:D}),x.jsx("div",{ref:N,className:"w-full flex justify-center",children:x.jsxs("div",{ref:S,className:"border rounded-lg p-4 bg-white shadow-sm relative",style:{width:v.width+32,height:v.height+32},children:[x.jsx(Mne,{onZoomIn:()=>E(e=>Math.min(1.5*e,10)),onZoomOut:()=>E(e=>Math.max(e/1.5,1)),onReset:()=>E(1),zoomLevel:C}),x.jsx(LL,{width:v.width,height:v.height,children:x.jsxs(vY,{margin:{top:20,right:20,bottom:40,left:40},onMouseMove:()=>{w(null)},onMouseLeave:()=>{w(null)},children:[x.jsx(Q$,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),x.jsx(g$,{x1:100,x2:z[1],y1:100,y2:L[1],fill:"#10b981",fillOpacity:.08,children:x.jsx(kF,{value:"Leading",position:"center",fill:"#10b981",fontSize:16,fontWeight:"600"})},`leading-${C}`),x.jsx(g$,{x1:100,x2:z[1],y1:L[0],y2:100,fill:"#f59e0b",fillOpacity:.08,children:x.jsx(kF,{value:"Weakening",position:"center",fill:"#f59e0b",fontSize:16,fontWeight:"600"})},`weakening-${C}`),x.jsx(g$,{x1:z[0],x2:100,y1:L[0],y2:100,fill:"#ef4444",fillOpacity:.08,children:x.jsx(kF,{value:"Lagging",position:"center",fill:"#ef4444",fontSize:16,fontWeight:"600"})},`lagging-${C}`),x.jsx(g$,{x1:z[0],x2:100,y1:100,y2:L[1],fill:"#3b82f6",fillOpacity:.08,children:x.jsx(kF,{value:"Improving",position:"center",fill:"#3b82f6",fontSize:16,fontWeight:"600"})},`improving-${C}`),x.jsx(l$,{x:100,stroke:"#6b7280",strokeWidth:2}),x.jsx(l$,{y:100,stroke:"#6b7280",strokeWidth:2}),x.jsx(HH,{dataKey:"x",type:"number",domain:z,label:{value:"RS-Ratio (Trend)",position:"insideBottom",offset:-10},tickFormatter:e=>e.toFixed(0),ticks:[z[0],95,100,105,z[1]].filter(e=>e>=z[0]&&e<=z[1])}),x.jsx(JH,{dataKey:"y",type:"number",domain:L,label:{value:"RS-Momentum",angle:-90,position:"insideLeft"},tickFormatter:e=>e.toFixed(0),ticks:[L[0],95,100,105,L[1]].filter(e=>e>=L[0]&&e<=L[1])}),p>0&&I.map((e,n)=>{var r;const i=mie(e.symbol||e.custom_id,n,I.length);return x.jsx(kK,{data:(null==(r=e.tail)?void 0:r.slice(-p).map(n=>{var r,i;const a="tickers"===t&&(null==(i=null==(r=T.find(t=>t.symbol===e.symbol))?void 0:r.industries)?void 0:i.find(e=>e.is_primary))||null;let s;if("industries"===t){const t=A.find(t=>t.custom_id===e.custom_id);s=(null==t?void 0:t.name)||e.custom_id}else if("groups"===t){const t=O.find(t=>t.custom_id===e.custom_id);s=(null==t?void 0:t.name)||e.custom_id}else s=e.symbol||e.custom_id;return f(h({},n),{name:s,date:n.date,industry:"tickers"===t&&(null==a?void 0:a.name)||null})}))||[],type:"monotone",dataKey:"y",stroke:i,dot:e=>{var t=e,{key:n}=t,r=m(t,["key"]);return x.jsx(Pne,f(h({},r),{color:i,onHover:(e,t,n)=>{w(e),j({x:t,y:n})}}),n)},isAnimationActive:!1,strokeWidth:2,opacity:.4},`trail-${e.symbol||e.custom_id}`)}),x.jsx(IH,{data:F,dataKey:"y",name:"Latest",shape:e=>{const{cx:t,cy:n,payload:r}=e,{name:i,color:a}=r,s=(null==b?void 0:b.custom_id)===r.custom_id&&(null==b?void 0:b.name)===r.name;return x.jsxs("g",{style:{cursor:"pointer"},onMouseEnter:e=>{e.stopPropagation(),w(r),j({x:t,y:n})},onMouseMove:e=>{e.stopPropagation()},children:[x.jsx("circle",{cx:t,cy:n,r:12,fill:"transparent"}),x.jsx("circle",{cx:t,cy:n,r:s?7:5,fill:a,stroke:"#fff",strokeWidth:2,style:{transition:"all 0.2s ease",pointerEvents:"none"}}),x.jsx("circle",{cx:t,cy:n,r:s?10:7,fill:"none",stroke:a,strokeWidth:s?2:1,opacity:s?.8:.5,style:{transition:"all 0.2s ease",pointerEvents:"none"}}),x.jsx("text",{x:t+12,y:n+4,fontSize:"11px",fontWeight:"500",fill:"#333",textAnchor:"start",style:{pointerEvents:"none",userSelect:"none"},children:String(i)})]})}})]})}),b&&x.jsx(Ene,{data:b,x:_.x,y:_.y})]})}),x.jsx(sie,{limitedData:I,getSeriesColor:mie,type:t,availableIndustries:A,availableGroups:O}),x.jsxs("div",{className:"mt-6 bg-white rounded-lg shadow-sm border p-6",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Hướng dẫn đọc RRG"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{children:[x.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Các góc phần tư"}),x.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[x.jsxs("li",{children:[x.jsx("span",{className:"font-medium text-green-600",children:"Dẫn đầu:"})," Vượt trội với động lượng tích cực"]}),x.jsxs("li",{children:[x.jsx("span",{className:"font-medium text-yellow-600",children:"Suy yếu:"})," Vượt trội nhưng động lượng giảm"]}),x.jsxs("li",{children:[x.jsx("span",{className:"font-medium text-red-600",children:"Tụt hậu:"})," Kém hiệu quả với động lượng tiêu cực"]}),x.jsxs("li",{children:[x.jsx("span",{className:"font-medium text-blue-600",children:"Cải thiện:"})," Kém hiệu quả nhưng động lượng tăng"]})]})]}),x.jsxs("div",{children:[x.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Chỉ số"}),x.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[x.jsxs("li",{children:[x.jsx("span",{className:"font-medium",children:"Tỷ số RS:"})," Sức mạnh tương đối hiện tại so với VN-Index"]}),x.jsxs("li",{children:[x.jsx("span",{className:"font-medium",children:"CRS:"})," Sức mạnh tương đối tích lũy trong 21 kỳ"]}),x.jsxs("li",{children:[x.jsx("span",{className:"font-medium",children:"Vệt:"})," Đường đi lịch sử thể hiện sự xoay chuyển theo thời gian"]}),x.jsxs("li",{children:[x.jsx("span",{className:"font-medium",children:"Màu sắc:"})," Dựa trên thời lượng dữ liệu (xanh = ngắn, đỏ = dài)"]})]})]})]})]}),R.map((e,t)=>{var i,a,s;let o=null;return o="symbol"===e.type?null==(i=null==r?void 0:r.symbols)?void 0:i.find(t=>t.symbol===e.id):"group"===e.type?null==(a=null==r?void 0:r.groups)?void 0:a.find(t=>t.custom_id===e.custom_id):null==(s=null==r?void 0:r.industries)?void 0:s.find(t=>t.custom_id===e.custom_id),x.jsx(fie,{item:e,timeframe:n,itemData:o},`${e.id||e.custom_id}-${n}-${t}`)})]}):x.jsxs("div",{className:"w-full p-8 text-center",children:[x.jsx("div",{className:"text-red-600 text-lg font-medium",children:"Không có dữ liệu RRG"}),x.jsx("div",{className:"text-gray-600 mt-2",children:"Vui lòng kiểm tra lại sau"})]})}const gie=[{key:"overview",label:"Thị trường chung"},{key:"ranking",label:"📊 Xếp hạng & Phân tích"},{key:"rrg",label:"RRG Ngành"},{key:"heatmap",label:"Heatmap"},{key:"rrg-groups",label:"RRG Nhóm Vốn Hóa"}],vie=()=>{var e,t,n;const[r,i]=k.useState("overview"),[a,s]=k.useState("1D"),{data:o,loading:l,error:c}=gf("RRG_ANALYSIS",a),{industries:u}=o||{},d=(null==o?void 0:o.insights)||{},m=(null==d?void 0:d.market_overview)||{};null==(e=null==d?void 0:d.insights)||e.industries;const p=(null==d?void 0:d.detailed_analysis)||{},g=(null==d?void 0:d.investment_strategies)||{},{industries:v}=k.useMemo(()=>u?{industries:u.map(e=>{var t,n,r,i,a,s;const o=Array.isArray(e.tail)&&e.tail.length>0?e.tail[e.tail.length-1]:{};return f(h({},e),{industry:e.name,rs_close:null!=(n=null==(t=e.metrics)?void 0:t.current_rs)?n:null,rs_ratio:null!=(r=o.x)?r:null,rs_momentum:null!=(i=o.y)?i:null,crs:null!=(s=null==(a=e.metrics)?void 0:a.current_crs)?s:null})})}:{industries:[]},[u]),y=e=>(null==e?void 0:e.includes("Leading"))||(null==e?void 0:e.includes("Dẫn dắt"))?"text-green-600":(null==e?void 0:e.includes("Improving"))||(null==e?void 0:e.includes("Cải thiện"))?"text-blue-600":(null==e?void 0:e.includes("Weakening"))||(null==e?void 0:e.includes("Suy yếu"))?"text-yellow-600":(null==e?void 0:e.includes("Lagging"))||(null==e?void 0:e.includes("Tụt hậu"))?"text-red-600":"text-gray-600",b=e=>{switch(null==e?void 0:e.toLowerCase()){case"bullish":return"text-green-600";case"bearish":return"text-red-600";default:return"text-gray-600"}};return l?x.jsx("div",{className:"space-y-6 p-4",children:x.jsxs("div",{className:"flex items-center justify-center py-12",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),x.jsx("span",{className:"ml-3 text-gray-600",children:"Đang tải dữ liệu phân tích ngành..."})]})}):c?x.jsx("div",{className:"space-y-6 p-4",children:x.jsxs("div",{className:"text-center py-12",children:[x.jsx(Se,{className:"mx-auto h-12 w-12 text-red-500"}),x.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Lỗi tải dữ liệu"}),x.jsx("p",{className:"mt-1 text-sm text-gray-500",children:c})]})}):x.jsxs("div",{className:"space-y-6 p-4",children:[x.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4 flex items-center",children:[x.jsx("span",{className:"text-gray-700 font-medium mr-4",children:"Khung thời gian:"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:"cursor-pointer px-4 py-1 rounded-full font-medium text-sm border transition-colors "+("1D"===a?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600 hover:bg-blue-50"),onClick:()=>s("1D"),children:"Hàng ngày (1D)"}),x.jsx("button",{className:"cursor-pointer px-4 py-1 rounded-full font-medium text-sm border transition-colors "+("1W"===a?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600 hover:bg-blue-50"),onClick:()=>s("1W"),children:"Hàng tuần (1W)"})]})]}),x.jsx(Xte,{tabs:gie,activeTab:r,onTabChange:i}),"overview"===r&&x.jsxs("div",{className:"space-y-6",children:[x.jsx(De,{marketOverview:m,getSentimentColor:b,breadth_detail:p.breadth_detail,industries:u,analyticsData:o}),x.jsx(Yte,{analysisData:(null==(_=null==(w=null==o?void 0:o.insights)?void 0:w.insights)?void 0:_.industries)||{},type:"industry",getQuadrantColor:y,analyzeData:o}),x.jsx(qte,{analysisData:(null==(n=null==(t=null==o?void 0:o.insights)?void 0:t.insights)?void 0:n.industries)||{},type:"industry",renderInsightItems:(e,t)=>e&&0!==e.length?x.jsx("div",{className:"space-y-2",children:e.map((e,t)=>x.jsx("div",{className:"bg-white p-3 rounded border",children:x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{children:[x.jsx("div",{className:"font-medium text-gray-900",children:(null==e?void 0:e.name)||(null==e?void 0:e.custom_id)||(null==e?void 0:e.symbol)||"Unknown"}),x.jsx("div",{className:"text-sm text-gray-600 mt-1",children:(null==e?void 0:e.description)||"N/A"}),x.jsx("div",{className:`text-xs mt-1 ${y(null==e?void 0:e.rrg_position)}`,children:(null==e?void 0:e.rrg_position)||"N/A"})]}),x.jsxs("div",{className:"text-right",children:[x.jsx("div",{className:"text-sm font-medium text-blue-600",children:((null==e?void 0:e.speed_score)||0).toFixed(2)}),x.jsx("div",{className:"text-xs text-gray-500 mt-1",children:(null==e?void 0:e.speed_category)||"N/A"})]})]})},t))}):null,rrgData:o,analyzeData:o}),x.jsx(Gte,{investmentStrategies:g,getQuadrantColor:y}),x.jsx(jne,{detailedAnalysis:p,getSentimentColor:b})]}),"ranking"===r&&x.jsx("div",{className:"space-y-6",children:x.jsx(Cne,{})}),"rrg"===r&&x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"mb-4 w-full",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Phân tích RRG ngành nghề"}),x.jsx("p",{className:"text-gray-600",children:"Hiển thị sức mạnh tương đối và động lượng của các ngành. Ngành ở góc Dẫn đầu đang vượt trội với động lượng tích cực."})]}),x.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6 w-full mb-6",children:x.jsx("div",{className:"w-full",children:x.jsx(pie,{type:"industries",timeframe:a,analyticsData:o},`industries-${a}`)})})]}),"rrg-groups"===r&&x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"mb-4 w-full",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Phân tích RRG nhóm vốn hóa"}),x.jsx("p",{className:"text-gray-600",children:"Hiển thị sức mạnh tương đối và động lượng của các nhóm vốn hóa (VN30, VN100, VNMidCap, VNSmallCap). Nhóm ở góc Dẫn đầu đang vượt trội với động lượng tích cực."})]}),x.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6 w-full mb-6",children:x.jsx("div",{className:"w-full",children:x.jsx(pie,{type:"groups",timeframe:a,analyticsData:o},`groups-${a}`)})})]}),"heatmap"===r&&x.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:x.jsx(Ste,{industries:v})})]});var w,_},yie=()=>{const{data:e,loading:t,error:n}=gf("rs_analysis"),[r,i]=k.useState(""),[a,s]=k.useState(""),[o,l]=k.useState(""),[c,u]=k.useState(""),[d,h]=k.useState("current_crs"),[f,m]=k.useState("desc"),[p,g]=k.useState(null),v=(null==e?void 0:e.symbols)||[],y=(e,t)=>{var n,r,i,a,s,o,l,c,u,d;switch(t){case"symbol":return e.symbol;case"name":return e.name;case"current_crs":return(null==(n=e.metrics)?void 0:n.current_crs)||0;case"current_rs":return(null==(r=e.metrics)?void 0:r.current_rs)||0;case"current_ma13":return(null==(i=e.metrics)?void 0:i.current_ma13)||0;case"current_ma49":return(null==(a=e.metrics)?void 0:a.current_ma49)||0;case"rs_trend":return(null==(s=e.performance_summary)?void 0:s.rs_trend)||"";case"crs_status":return(null==(o=e.performance_summary)?void 0:o.crs_status)||"";case"short_term_momentum":return(null==(l=e.speed_analysis)?void 0:l.short_term_momentum)||0;case"long_term_momentum":return(null==(c=e.speed_analysis)?void 0:c.long_term_momentum)||0;case"weighted_speed":return(null==(u=e.speed_analysis)?void 0:u.weighted_speed)||0;case"speed_category":return(null==(d=e.speed_analysis)?void 0:d.speed_category)||"";default:return 0}},b=k.useMemo(()=>{if(!v||0===v.length)return[];let e=v.filter(e=>{var t,n,i;const s=e.symbol.toLowerCase().includes(r.toLowerCase())||(null==(t=e.name)?void 0:t.toLowerCase().includes(r.toLowerCase())),l=!a||e.industries&&e.industries.some(e=>e.name.toLowerCase().includes(a.toLowerCase())),u=!o||(null==(n=e.performance_summary)?void 0:n.rs_trend)===o,d=!c||(null==(i=e.performance_summary)?void 0:i.crs_status)===c;return s&&l&&u&&d});return e.sort((e,t)=>{const n=y(e,d),r=y(t,d);return"asc"===f?n>r?1:-1:n<r?1:-1}),e},[v,r,a,o,c,d,f]),w=k.useMemo(()=>{if(!v||0===v.length)return[];const e=new Set;return v.forEach(t=>{t.industries&&t.industries.forEach(t=>e.add(t.name))}),Array.from(e).sort()},[v]),_=e=>null==e?"N/A":`${(100*e).toFixed(2)}%`,j=e=>{if(!e||0===e.length)return"N/A";const t=e.find(e=>e.is_primary);return t?t.name:e[0].name},S=e=>{d===e?m("asc"===f?"desc":"asc"):(h(e),m("desc"))},C=e=>null==e?"N/A":`${(100*e).toFixed(2)}%`,E=e=>{switch(e){case"Tăng trưởng":return x.jsx(Ne,{className:"w-3 h-3"});case"Suy giảm":return x.jsx(ke,{className:"w-3 h-3"});default:return null}},P=(e,t)=>t?t>0?"text-green-600 dark:text-green-400":t<0?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400":"text-gray-600 dark:text-gray-400",M=({field:e})=>d!==e?null:"asc"===f?x.jsx(oe,{className:"w-4 h-4"}):x.jsx(se,{className:"w-4 h-4"});return t?x.jsxs("div",{className:"flex items-center justify-center py-12",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),x.jsx("span",{className:"ml-3 text-gray-600",children:"Đang tải dữ liệu..."})]}):n?x.jsx("div",{className:"text-center py-12",children:x.jsxs("div",{className:"text-red-500 mb-4",children:["Lỗi tải dữ liệu: ",n]})}):e&&e.symbols?x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Chi tiết tất cả mã chứng khoán"}),x.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[b.length," / ",v.length," mã"]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tìm kiếm"}),x.jsxs("div",{className:"relative",children:[x.jsx(we,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),x.jsx("input",{type:"text",placeholder:"Tìm theo mã hoặc tên...",value:r,onChange:e=>i(e.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Ngành"}),x.jsxs("select",{value:a,onChange:e=>s(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",children:[x.jsx("option",{value:"",children:"Tất cả ngành"}),w.map(e=>x.jsx("option",{value:e,children:e},e))]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Xu hướng"}),x.jsxs("select",{value:o,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",children:[x.jsx("option",{value:"",children:"Tất cả xu hướng"}),x.jsx("option",{value:"Tăng trưởng",children:"Tăng trưởng"}),x.jsx("option",{value:"Suy giảm",children:"Suy giảm"}),x.jsx("option",{value:"Trung lập",children:"Trung lập"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Trạng thái"}),x.jsxs("select",{value:c,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",children:[x.jsx("option",{value:"",children:"Tất cả trạng thái"}),x.jsx("option",{value:"Vượt trội",children:"Vượt trội"}),x.jsx("option",{value:"Kém hiệu quả",children:"Kém hiệu quả"}),x.jsx("option",{value:"Trung lập",children:"Trung lập"})]})]})]}),x.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[x.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>S("symbol"),children:x.jsxs("div",{className:"flex items-center gap-1",children:["Mã",x.jsx(M,{field:"symbol"})]})}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>S("name"),children:x.jsxs("div",{className:"flex items-center gap-1",children:["Tên công ty",x.jsx(M,{field:"name"})]})}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Ngành"}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>S("current_crs"),children:x.jsxs("div",{className:"flex items-center gap-1",children:["CRS",x.jsx(M,{field:"current_crs"})]})}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>S("current_rs"),children:x.jsxs("div",{className:"flex items-center gap-1",children:["RS",x.jsx(M,{field:"current_rs"})]})}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>S("current_ma13"),children:x.jsxs("div",{className:"flex items-center gap-1",children:["MA13",x.jsx(M,{field:"current_ma13"})]})}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>S("current_ma49"),children:x.jsxs("div",{className:"flex items-center gap-1",children:["MA49",x.jsx(M,{field:"current_ma49"})]})}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>S("rs_trend"),children:x.jsxs("div",{className:"flex items-center gap-1",children:["Xu hướng",x.jsx(M,{field:"rs_trend"})]})}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>S("crs_status"),children:x.jsxs("div",{className:"flex items-center gap-1",children:["Trạng thái",x.jsx(M,{field:"crs_status"})]})}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>S("short_term_momentum"),children:x.jsxs("div",{className:"flex items-center gap-1",children:["Momentum ngắn hạn",x.jsx(M,{field:"short_term_momentum"})]})}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>S("long_term_momentum"),children:x.jsxs("div",{className:"flex items-center gap-1",children:["Momentum dài hạn",x.jsx(M,{field:"long_term_momentum"})]})}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>S("weighted_speed"),children:x.jsxs("div",{className:"flex items-center gap-1",children:["Tốc độ tổng hợp",x.jsx(M,{field:"weighted_speed"})]})}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>S("speed_category"),children:x.jsxs("div",{className:"flex items-center gap-1",children:["Phân loại tốc độ",x.jsx(M,{field:"speed_category"})]})})]})}),x.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:b.map((t,n)=>{var r,i,a,s,o,l,c,u,d,h,f,m,v,y,b,w,k,S,M,O,A,T,D,R;return x.jsxs(N.Fragment,{children:[x.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",onClick:()=>{return e=t.symbol,void g(p===e?null:e);var e},children:[x.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:x.jsxs("div",{className:"flex items-center",children:[p===t.symbol?x.jsx(oe,{className:"w-4 h-4 text-gray-400 mr-2"}):x.jsx(se,{className:"w-4 h-4 text-gray-400 mr-2"}),x.jsxs("div",{children:[x.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:t.symbol}),x.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["#",n+1]})]})]})}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:x.jsx("div",{className:"text-sm text-gray-900 dark:text-gray-100",children:t.name})}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:x.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:j(t.industries)})}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:x.jsx("span",{className:"text-sm font-medium "+((null==(r=t.metrics)?void 0:r.current_crs)>0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:_(null==(i=t.metrics)?void 0:i.current_crs)})}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:(null==(s=null==(a=t.metrics)?void 0:a.current_rs)?void 0:s.toFixed(4))||"N/A"}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:(null==(l=null==(o=t.metrics)?void 0:o.current_ma13)?void 0:l.toFixed(4))||"N/A"}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:(null==(u=null==(c=t.metrics)?void 0:c.current_ma49)?void 0:u.toFixed(4))||"N/A"}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:x.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+("Tăng trưởng"===(null==(d=t.performance_summary)?void 0:d.rs_trend)?"bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-200":"Suy giảm"===(null==(h=t.performance_summary)?void 0:h.rs_trend)?"bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-200":"bg-gray-100 dark:bg-gray-900/50 text-gray-800 dark:text-gray-200"),children:[E(null==(f=t.performance_summary)?void 0:f.rs_trend),x.jsx("span",{className:"ml-1",children:(null==(m=t.performance_summary)?void 0:m.rs_trend)||"N/A"})]})}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:x.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+("Vượt trội"===(null==(v=t.performance_summary)?void 0:v.crs_status)?"bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-200"),children:(null==(y=t.performance_summary)?void 0:y.crs_status)||"N/A"})}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:x.jsx("span",{className:`text-sm font-medium ${P(null==(b=t.performance_summary)||b.rs_trend,null==(w=t.speed_analysis)?void 0:w.short_term_momentum)}`,children:(null==(k=t.speed_analysis)?void 0:k.short_term_momentum)?(t.speed_analysis.short_term_momentum>0?"+":"")+C(t.speed_analysis.short_term_momentum):"N/A"})}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:x.jsx("span",{className:`text-sm font-medium ${P(null==(S=t.performance_summary)||S.rs_trend,null==(M=t.speed_analysis)?void 0:M.long_term_momentum)}`,children:(null==(O=t.speed_analysis)?void 0:O.long_term_momentum)?(t.speed_analysis.long_term_momentum>0?"+":"")+C(t.speed_analysis.long_term_momentum):"N/A"})}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:x.jsx("span",{className:`text-sm font-medium ${P(null==(A=t.performance_summary)||A.rs_trend,null==(T=t.speed_analysis)?void 0:T.weighted_speed)}`,children:(null==(D=t.speed_analysis)?void 0:D.weighted_speed)?(t.speed_analysis.weighted_speed>0?"+":"")+C(t.speed_analysis.weighted_speed):"N/A"})}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:x.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:(null==(R=t.speed_analysis)?void 0:R.speed_category)||"N/A"})})]}),p===t.symbol&&x.jsx("tr",{children:x.jsx("td",{colSpan:13,className:"bg-gray-50 dark:bg-gray-900/50 p-4",children:x.jsx(Ute,{symbol:t,analyzeData:e})})})]},n)})})]})})})]}):x.jsx("div",{className:"text-center py-12",children:x.jsx("div",{className:"text-gray-500",children:"Không có dữ liệu để hiển thị"})})},xie=e=>e>=110?"bg-green-600":e>=105?"bg-green-500":e>=102?"bg-green-400":e>=98?"bg-gray-400":e>=95?"bg-red-400":e>=90?"bg-red-500":"bg-red-600",bie=({analyticsData:e,timeframe:t})=>{const[n,r]=k.useState("rs_ratio"),[i,a]=k.useState(!1),[s,o]=k.useState([]),[l,c]=k.useState("all"),{symbols:u=[],industries:d=[]}=e||{};N.useEffect(()=>{"all"===l&&0===s.length&&d.length>0&&o([d[0].custom_id])},[l,d]);const m=k.useMemo(()=>u?u.map(e=>{var t,n,r,i,a,s;const o=Array.isArray(e.tail)&&e.tail.length>0?e.tail[e.tail.length-1]:{};return f(h({},e),{symbol:e.symbol,rs_close:null!=(n=null==(t=e.metrics)?void 0:t.current_rs)?n:null,rs_ratio:null!=(r=o.x)?r:null,rs_momentum:null!=(i=o.y)?i:null,crs:null!=(s=null==(a=e.metrics)?void 0:a.current_crs)?s:null,industries:e.industries||[]})}):[],[u]),p=k.useMemo(()=>l&&"all"!==l?"top20rs"===l?m.map(e=>f(h({},e),{latestRS:e.rs_ratio||0})).sort((e,t)=>t.latestRS-e.latestRS).slice(0,20):"bottom20rs"===l?m.map(e=>f(h({},e),{latestRS:e.rs_ratio||0})).sort((e,t)=>e.latestRS-t.latestRS).slice(0,20):"top20momentum"===l?m.map(e=>f(h({},e),{latestMomentum:e.rs_momentum||0})).sort((e,t)=>t.latestMomentum-e.latestMomentum).slice(0,20):"bottom20momentum"===l?m.map(e=>f(h({},e),{latestMomentum:e.rs_momentum||0})).sort((e,t)=>e.latestMomentum-t.latestMomentum).slice(0,20):[]:s.length>0?m.filter(e=>e.industries&&e.industries.some(e=>s.includes(e.custom_id))):m,[m,s,l]),g=(e,t)=>{switch(t){case"rs_close":return(n=e.rs_close)>=1.5?"bg-green-600":n>=1.2?"bg-green-500":n>=1.05?"bg-green-400":n>=.95?"bg-gray-400":n>=.8?"bg-red-400":n>=.7?"bg-red-500":"bg-red-600";case"rs_ratio":return xie(e.rs_ratio);case"rs_momentum":return xie(e.rs_momentum);case"crs":return(e=>e>=.15?"bg-green-600":e>=.08?"bg-green-500":e>=.03?"bg-green-400":e>=-.03?"bg-gray-400":e>=-.08?"bg-red-400":e>=-.15?"bg-red-500":"bg-red-600")(e.crs);default:return"bg-gray-400"}var n},v=(e,t)=>{var n,r,i,a;switch(t){case"rs_close":return(null==(n=e.rs_close)?void 0:n.toFixed(2))||"N/A";case"rs_ratio":return(null==(r=e.rs_ratio)?void 0:r.toFixed(1))||"N/A";case"rs_momentum":return(null==(i=e.rs_momentum)?void 0:i.toFixed(1))||"N/A";case"crs":return`${null==(a=100*e.crs)?void 0:a.toFixed(1)}%`||"N/A";default:return"N/A"}},y=k.useMemo(()=>[...p].sort((e,t)=>{const r=e[n]||-1/0;return(t[n]||-1/0)-r}),[p,n]),b=e=>{switch(e){case"rs_close":return"RS Close";case"rs_ratio":return"RS Ratio";case"rs_momentum":return"RS Momentum";case"crs":return"CRS";default:return e}};return e&&u&&0!==u.length?x.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[x.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-6",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Heatmap Cổ phiếu"}),x.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Hiển thị sức mạnh tương đối của các cổ phiếu theo ",b(n).toLowerCase()]})]}),x.jsxs("div",{className:"flex flex-wrap gap-4 items-center mt-4 lg:mt-0",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Chỉ số:"}),x.jsxs("select",{value:n,onChange:e=>r(e.target.value),className:"border rounded px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-black dark:text-white cursor-pointer",children:[x.jsx("option",{value:"rs_ratio",children:"RS Ratio"}),x.jsx("option",{value:"rs_momentum",children:"RS Momentum"}),x.jsx("option",{value:"rs_close",children:"RS Close"}),x.jsx("option",{value:"crs",children:"CRS"})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Lọc theo:"}),x.jsxs("select",{value:l,onChange:e=>c(e.target.value),className:"border rounded px-3 py-1 text-sm min-w-[200px] focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-black dark:text-white cursor-pointer",children:[x.jsx("option",{value:"all",children:"Theo ngành"}),x.jsx("option",{value:"top20rs",children:"Top 20 RS Score"}),x.jsx("option",{value:"bottom20rs",children:"Bottom 20 RS Score"}),x.jsx("option",{value:"top20momentum",children:"Top 20 RS Momentum"}),x.jsx("option",{value:"bottom20momentum",children:"Bottom 20 RS Momentum"})]})]}),"all"===l&&x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Ngành:"}),x.jsx(iie,{options:d.map(e=>({value:e.custom_id,label:e.name})),onValueChange:o,value:s,placeholder:"Chọn ngành",maxCount:3,variant:"default"})]}),x.jsx("button",{onClick:()=>a(!i),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",title:"Thông tin chi tiết",children:x.jsx(ge,{className:"w-4 h-4"})})]})]}),x.jsx("div",{className:"mb-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:x.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[x.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:["Hiển thị: ",x.jsx("span",{className:"font-medium text-blue-600",children:p.length})," cổ phiếu"]}),"all"!==l?x.jsx("span",{className:"text-blue-600 font-medium",children:(()=>{switch(l){case"top20rs":return"Top 20 RS Score";case"bottom20rs":return"Bottom 20 RS Score";case"top20momentum":return"Top 20 RS Momentum";case"bottom20momentum":return"Bottom 20 RS Momentum";default:return""}})()}):x.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:["Ngành: ",s.map(e=>{var t;return null==(t=d.find(t=>t.custom_id===e))?void 0:t.name}).join(", ")]})]})}),i&&x.jsxs("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[x.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:b(n)}),x.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:(e=>{switch(e){case"rs_close":return"Relative Strength Close - So sánh giá đóng cửa hiện tại";case"rs_ratio":return"RS Ratio - Tỷ lệ sức mạnh tương đối (RRG X-axis)";case"rs_momentum":return"RS Momentum - Động lượng sức mạnh tương đối (RRG Y-axis)";case"crs":return"Cumulative Relative Strength - Sức mạnh tương đối tích lũy";default:return""}})(n)}),x.jsxs("div",{className:"mt-3 grid grid-cols-2 md:grid-cols-4 gap-4 text-xs",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-4 h-4 bg-green-600 rounded"}),x.jsx("span",{className:"text-green-800 dark:text-green-200",children:"Mạnh"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-4 h-4 bg-gray-400 rounded"}),x.jsx("span",{className:"text-gray-800 dark:text-gray-200",children:"Trung bình"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-4 h-4 bg-red-500 rounded"}),x.jsx("span",{className:"text-red-800 dark:text-red-200",children:"Yếu"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-4 h-4 bg-red-600 rounded"}),x.jsx("span",{className:"text-red-800 dark:text-red-200",children:"Rất yếu"})]})]})]}),x.jsx("div",{className:"flex-grow overflow-hidden",children:x.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3 h-full overflow-y-auto max-h-96",children:y.map((e,t)=>{return x.jsx("div",{className:`${g(e,n)} p-3 rounded-lg text-white shadow-lg transition-all hover:brightness-110 hover:shadow-2xl hover:ring-2 hover:ring-white/30 cursor-pointer`,title:`${e.symbol}: ${v(e,n)}`,children:x.jsxs("div",{className:"flex flex-col h-full justify-between",children:[x.jsxs("div",{className:"flex items-start justify-between mb-2",children:[x.jsx("span",{className:"text-xs font-semibold leading-tight truncate pr-1",children:e.symbol}),"rs_momentum"===n&&x.jsx("div",{className:"flex-shrink-0",children:(r=e.rs_momentum,r>102?x.jsx(Ne,{className:"w-3 h-3"}):r<98?x.jsx(ke,{className:"w-3 h-3"}):x.jsx(ye,{className:"w-3 h-3"}))})]}),x.jsxs("div",{className:"flex items-end justify-between",children:[x.jsx("span",{className:"text-lg font-bold",children:v(e,n)}),x.jsxs("span",{className:"text-xs opacity-75",children:["#",t+1]})]})]})},e.symbol);var r})})}),y.length>0&&x.jsxs("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-2xl font-bold text-green-600",children:y.filter(e=>g(e,n).includes("green")).length}),x.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Mạnh"})]}),x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-2xl font-bold text-gray-600",children:y.filter(e=>g(e,n).includes("gray")).length}),x.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Trung bình"})]}),x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-2xl font-bold text-red-500",children:y.filter(e=>g(e,n).includes("red")).length}),x.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Yếu"})]}),x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-2xl font-bold text-blue-600",children:y.length}),x.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tổng cộng"})]})]})]}):x.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:x.jsx("div",{className:"text-center py-8",children:x.jsx("p",{className:"text-gray-600",children:"Không có dữ liệu cổ phiếu để hiển thị"})})})},wie=[{key:"overview",label:"Thị trường chung"},{key:"ranking",label:"📊 Xếp hạng & Phân tích"},{key:"rrg",label:"RRG Cổ phiếu"},{key:"heatmap",label:"Heatmap"}],_ie=()=>{var e,t,n;const[r,i]=k.useState("overview"),[a,s]=k.useState("1D"),{data:o,loading:l,error:c}=gf("RRG_ANALYSIS",a),{symbols:u}=o||{},d=(null==o?void 0:o.insights)||{},m=(null==d?void 0:d.market_overview)||{};null==(e=null==d?void 0:d.insights)||e.tickers;const p=(null==d?void 0:d.detailed_analysis)||{},g=(null==d?void 0:d.investment_strategies)||{},{tickers:v}=k.useMemo(()=>u?{tickers:u.map(e=>{var t,n,r,i,a,s;const o=Array.isArray(e.tail)&&e.tail.length>0?e.tail[e.tail.length-1]:{};return f(h({},e),{symbol:e.symbol,rs_close:null!=(n=null==(t=e.metrics)?void 0:t.current_rs)?n:null,rs_ratio:null!=(r=o.x)?r:null,rs_momentum:null!=(i=o.y)?i:null,crs:null!=(s=null==(a=e.metrics)?void 0:a.current_crs)?s:null})})}:{tickers:[]},[u]),y=e=>(null==e?void 0:e.includes("Leading"))||(null==e?void 0:e.includes("Dẫn dắt"))?"text-green-600":(null==e?void 0:e.includes("Improving"))||(null==e?void 0:e.includes("Cải thiện"))?"text-blue-600":(null==e?void 0:e.includes("Weakening"))||(null==e?void 0:e.includes("Suy yếu"))?"text-yellow-600":(null==e?void 0:e.includes("Lagging"))||(null==e?void 0:e.includes("Tụt hậu"))?"text-red-600":"text-gray-600",b=e=>{switch(null==e?void 0:e.toLowerCase()){case"bullish":return"text-green-600";case"bearish":return"text-red-600";default:return"text-gray-600"}};return l?x.jsx("div",{className:"space-y-6 p-4",children:x.jsxs("div",{className:"flex items-center justify-center py-12",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),x.jsx("span",{className:"ml-3 text-gray-600",children:"Đang tải dữ liệu phân tích cổ phiếu..."})]})}):c?x.jsx("div",{className:"space-y-6 p-4",children:x.jsxs("div",{className:"text-center py-12",children:[x.jsx(Se,{className:"mx-auto h-12 w-12 text-red-500"}),x.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Lỗi tải dữ liệu"}),x.jsx("p",{className:"mt-1 text-sm text-gray-500",children:c})]})}):x.jsxs("div",{className:"space-y-6 p-4",children:[x.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4 flex items-center",children:[x.jsx("span",{className:"text-gray-700 font-medium mr-4",children:"Khung thời gian:"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:"cursor-pointer px-4 py-1 rounded-full font-medium text-sm border transition-colors "+("1D"===a?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600 hover:bg-blue-50"),onClick:()=>s("1D"),children:"Hàng ngày (1D)"}),x.jsx("button",{className:"cursor-pointer px-4 py-1 rounded-full font-medium text-sm border transition-colors "+("1W"===a?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600 hover:bg-blue-50"),onClick:()=>s("1W"),children:"Hàng tuần (1W)"})]})]}),x.jsx(Xte,{tabs:wie,activeTab:r,onTabChange:i}),"overview"===r&&x.jsxs("div",{className:"space-y-6",children:[x.jsx(De,{marketOverview:m,getSentimentColor:b,breadth_detail:p.breadth_detail,tickers:u,analyticsData:o}),x.jsx(Yte,{analysisData:(null==(_=null==(w=null==o?void 0:o.insights)?void 0:w.insights)?void 0:_.tickers)||{},type:"ticker",getQuadrantColor:y,analyzeData:o}),x.jsx(qte,{analysisData:(null==(n=null==(t=null==o?void 0:o.insights)?void 0:t.insights)?void 0:n.tickers)||{},type:"ticker",renderInsightItems:(e,t)=>e&&0!==e.length?x.jsx("div",{className:"space-y-2",children:e.map((e,t)=>x.jsx("div",{className:"bg-white p-3 rounded border",children:x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{children:[x.jsx("div",{className:"font-medium text-gray-900",children:(null==e?void 0:e.name)||(null==e?void 0:e.custom_id)||(null==e?void 0:e.symbol)||"Unknown"}),x.jsx("div",{className:"text-sm text-gray-600 mt-1",children:(null==e?void 0:e.description)||"N/A"}),x.jsx("div",{className:`text-xs mt-1 ${y(null==e?void 0:e.rrg_position)}`,children:(null==e?void 0:e.rrg_position)||"N/A"})]}),x.jsxs("div",{className:"text-right",children:[x.jsx("div",{className:"text-sm font-medium text-blue-600",children:((null==e?void 0:e.speed_score)||0).toFixed(2)}),x.jsx("div",{className:"text-xs text-gray-500 mt-1",children:(null==e?void 0:e.speed_category)||"N/A"})]})]})},t))}):null,rrgData:o,analyzeData:o}),x.jsx(Gte,{investmentStrategies:g,getQuadrantColor:y}),x.jsx(jne,{detailedAnalysis:p,getSentimentColor:b})]}),"ranking"===r&&x.jsx("div",{className:"space-y-6",children:x.jsx(yie,{})}),"rrg"===r&&x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"mb-4 w-full",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Phân tích RRG cổ phiếu"}),x.jsx("p",{className:"text-gray-600",children:"Hiển thị sức mạnh tương đối và động lượng của các cổ phiếu. Cổ phiếu ở góc Dẫn đầu đang vượt trội với động lượng tích cực."})]}),x.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6 w-full mb-6",children:x.jsx("div",{className:"w-full",children:x.jsx(pie,{type:"tickers",timeframe:a,analyticsData:o},`tickers-${a}`)})})]}),"heatmap"===r&&x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"mb-4 w-full",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Heatmap Cổ phiếu"}),x.jsx("p",{className:"text-gray-600",children:"Hiển thị sức mạnh tương đối của các cổ phiếu theo các chỉ số khác nhau. Màu xanh lá thể hiện cổ phiếu mạnh, màu đỏ thể hiện cổ phiếu yếu."})]}),x.jsx(bie,{timeframe:a,analyticsData:o},`ticker-heatmap-${a}`)]})]});var w,_};function jie({type:e="industries"}){var t,n,r;const[i,a]=k.useState("overview"),[s,o]=k.useState("1D"),{data:l,loading:c,error:u}=vf(s),d=(null==l?void 0:l.insights)||{},h=(null==d?void 0:d.market_overview)||{},f=(null==(t=null==d?void 0:d.insights)?void 0:t.industries)||{},m=(null==(n=null==d?void 0:d.insights)?void 0:n.groups)||{},p=(null==(r=null==d?void 0:d.insights)?void 0:r.tickers)||{};null==d||d.advanced_analysis;const g=(null==d?void 0:d.investment_strategies)||{},v=(null==d?void 0:d.detailed_analysis)||{},y=(null==l?void 0:l.industries)||[],b=(null==l?void 0:l.groups)||[],w=(null==l?void 0:l.symbols)||[],_=e=>{a(e)},j=(e,t)=>e&&Array.isArray(e)&&0!==e.length?x.jsx("div",{className:"space-y-2",children:e.slice(0,5).map((e,t)=>{var n,r,i,a,s,o,l;return x.jsx("div",{className:"bg-white p-3 rounded border",children:x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{className:"flex-1",children:[x.jsxs("div",{className:"font-medium text-gray-900",children:[(null==e?void 0:e.name)||(null==e?void 0:e.custom_id)||(null==e?void 0:e.symbol)||"Unknown",(null==e?void 0:e.symbol)&&` (${e.symbol})`]}),x.jsx("div",{className:"text-xs text-gray-500",children:(null==e?void 0:e.primary_industry)||((null==e?void 0:e.industries)&&e.industries.length>0?(()=>{const t=e.industries.find(e=>e.is_primary),n=e.industries[0],r=(null==t?void 0:t.name)||(null==n?void 0:n.name);return"string"==typeof r?r:"Unknown Industry"})():"N/A")}),x.jsx("div",{className:"text-sm text-gray-600 mt-1",children:(null==e?void 0:e.speed_category)||(null==(n=null==e?void 0:e.speed_analysis)?void 0:n.speed_category)||"N/A"}),x.jsx("div",{className:`text-xs mt-1 ${Ite((null==e?void 0:e.direction)||(null==(r=null==e?void 0:e.direction_analysis)?void 0:r.direction))}`,children:(null==e?void 0:e.direction)||(null==(i=null==e?void 0:e.direction_analysis)?void 0:i.direction)||"N/A"}),(null==e?void 0:e.description)&&x.jsx("div",{className:"text-xs text-gray-500 mt-1",children:e.description}),(null==e?void 0:e.money_flow)&&x.jsx("div",{className:"text-xs text-blue-600 mt-1",children:e.money_flow}),(null==e?void 0:e.performance_summary)&&x.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["RS Trend: ",e.performance_summary.rs_trend||"N/A"]})]}),x.jsxs("div",{className:"text-right ml-4",children:[x.jsx("div",{className:"text-sm font-medium text-purple-600",children:((null==e?void 0:e.weighted_speed)||(null==(a=null==e?void 0:e.speed_analysis)?void 0:a.weighted_speed)||0).toFixed(3)}),x.jsxs("div",{className:`text-xs mt-1 ${Ete((null==e?void 0:e.risk_level)||(null==(s=null==e?void 0:e.risk_assessment)?void 0:s.risk_level))}`,children:[(null==e?void 0:e.risk_level)||(null==(o=null==e?void 0:e.risk_assessment)?void 0:o.risk_level)||"Unknown"," Risk"]}),x.jsx("div",{className:"text-xs text-gray-500 mt-1",children:(null==e?void 0:e.position_size)||(null==(l=null==e?void 0:e.risk_assessment)?void 0:l.suggested_position_size)||"N/A"}),(null==e?void 0:e.strength_score)&&x.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Score: ",e.strength_score.toFixed(2)]}),(null==e?void 0:e.acceleration)&&x.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Acc: ",e.acceleration.toFixed(2)]}),(null==e?void 0:e.rrg_position)&&x.jsx("div",{className:"text-xs text-blue-600 mt-1",children:e.rrg_position})]})]})},t)})}):null,[N,S]=k.useState("tickers"===e?"ticker":"industry"),C=()=>"tickers"===e?x.jsxs("div",{className:"bg-gray-50 rounded-lg border p-4 flex items-center space-x-4 mb-4",children:[x.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Phân tích cổ phiếu:"}),x.jsx("div",{className:"text-sm text-gray-600",children:"Hiển thị xếp hạng và phân tích chi tiết cho các mã chứng khoán"})]}):x.jsxs("div",{className:"bg-gray-50 rounded-lg border p-4 flex items-center space-x-4 mb-4",children:[x.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Hiển thị tổng quan cho:"}),x.jsx("button",{className:"cursor-pointer px-4 py-1 rounded font-medium text-sm border "+("industry"===N?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600"),onClick:()=>S("industry"),children:"Ngành nghề"}),x.jsx("button",{className:"cursor-pointer px-4 py-1 rounded font-medium text-sm border "+("group"===N?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600"),onClick:()=>S("group"),children:"Nhóm vốn hóa"}),x.jsx("button",{className:"cursor-pointer px-4 py-1 rounded font-medium text-sm border "+("ticker"===N?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600"),onClick:()=>S("ticker"),children:"Cổ phiếu"})]});return x.jsxs("div",{className:"w-full space-y-6",children:[x.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[x.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Đồ thị Xoay Tương đối (RRG)"}),x.jsx("p",{className:"text-gray-600 mb-4",children:"Phân tích sức mạnh tương đối và động lượng của các ngành và cổ phiếu so với VN-Index."}),x.jsxs("div",{className:"bg-gray-50 rounded-lg border p-4 flex items-center space-x-4 mb-4",children:[x.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Khung thời gian:"}),x.jsx("button",{className:"cursor-pointer px-4 py-1 rounded font-medium text-sm border "+("1D"===s?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600"),onClick:()=>{o("1D")},children:"Hàng ngày (1D)"}),x.jsx("button",{className:"cursor-pointer px-4 py-1 rounded font-medium text-sm border "+("1W"===s?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600"),onClick:()=>{o("1W")},children:"Hàng tuần (1W)"})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm",children:[x.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[x.jsx("div",{className:"font-medium text-gray-700",children:"Ngày phân tích"}),x.jsx("div",{className:"text-gray-900",children:(null==l?void 0:l.analysis_date)?new Date(l.analysis_date).toLocaleDateString():new Date(l.rrgDate).toLocaleDateString()})]}),x.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[x.jsx("div",{className:"font-medium text-gray-700",children:"Khung thời gian"}),x.jsx("div",{className:"text-gray-900",children:(null==l?void 0:l.timeframe)||s})]}),x.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[x.jsx("div",{className:"font-medium text-gray-700",children:"Tổng số chuỗi"}),x.jsx("div",{className:"text-gray-900",children:y.length+b.length+w.length})]}),x.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[x.jsx("div",{className:"font-medium text-gray-700",children:"Chi tiết"}),x.jsxs("div",{className:"text-gray-900",children:[y.length," ngành, ",b.length," nhóm, ",w.length," cổ phiếu"]})]})]})]}),x.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[x.jsx("div",{className:"border-b border-gray-200",children:x.jsxs("nav",{className:"-mb-px flex space-x-8 px-6",children:[x.jsx("button",{onClick:()=>_("overview"),className:"py-4 px-1 border-b-2 font-medium text-sm cursor-pointer "+("overview"===i?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Tổng quan"}),"industries"===e?x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:()=>_("chart-industries"),className:"py-4 px-1 border-b-2 font-medium text-sm cursor-pointer "+("chart-industries"===i?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Biểu đồ RRG Ngành"}),x.jsx("button",{onClick:()=>_("chart-groups"),className:"py-4 px-1 border-b-2 font-medium text-sm cursor-pointer "+("chart-groups"===i?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Biểu đồ RRG Vốn Hóa"})]}):x.jsx("button",{onClick:()=>_("chart"),className:"py-4 px-1 border-b-2 font-medium text-sm cursor-pointer "+("chart"===i?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Biểu đồ RRG"})]})}),x.jsxs("div",{className:"p-6",children:["overview"===i&&x.jsxs("div",{className:"space-y-6",children:[x.jsx(C,{}),"industry"===N?x.jsxs(x.Fragment,{children:[x.jsx(Yte,{analysisData:f,type:"industry",getQuadrantColor:Rte,analyzeData:l},`industry-score-${s}`),x.jsx(qte,{analysisData:f,type:"industry",renderInsightItems:j,rrgData:l,analyzeData:l},`industry-speed-${s}`),x.jsx(De,{marketOverview:h,getSentimentColor:Cte,breadth_detail:v.breadth_detail},`market-overview-industry-${s}`)]}):"group"===N?x.jsxs(x.Fragment,{children:[x.jsx(Yte,{analysisData:m,type:"group",getQuadrantColor:Rte,analyzeData:l},`group-score-${s}`),x.jsx(qte,{analysisData:m,type:"group",renderInsightItems:j,rrgData:l,investmentStrategies:g,analyzeData:l},`group-speed-${s}`),x.jsx(De,{marketOverview:h,getSentimentColor:Cte,breadth_detail:v.breadth_detail},`market-overview-group-${s}`)]}):x.jsxs(x.Fragment,{children:[x.jsx(Yte,{analysisData:p,type:"ticker",getQuadrantColor:Rte,analyzeData:l},`ticker-score-${s}`),x.jsx(qte,{analysisData:p,type:"ticker",renderInsightItems:j,rrgData:l,analyzeData:l},`ticker-speed-${s}`),x.jsx(De,{marketOverview:h,getSentimentColor:Cte,breadth_detail:v.breadth_detail},`market-overview-ticker-${s}`)]}),x.jsx(Gte,{investmentStrategies:g},`investment-strategy-${s}`),x.jsx(jne,{detailedAnalysis:v},`detailed-analysis-${s}`)]}),"chart-industries"===i&&x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"mb-4 w-full",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Phân tích RRG ngành nghề"}),x.jsx("p",{className:"text-gray-600",children:"Hiển thị sức mạnh tương đối và động lượng của các ngành. Ngành ở góc Dẫn đầu đang vượt trội với động lượng tích cực."})]}),x.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6 w-full mb-6",children:x.jsx("div",{className:"w-full",children:c?x.jsxs("div",{className:"w-full p-8 text-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),x.jsx("div",{className:"text-gray-600 mt-2",children:"Đang tải dữ liệu RRG..."})]}):u?x.jsxs("div",{className:"w-full p-8 text-center",children:[x.jsx("div",{className:"text-red-600 text-lg font-medium",children:"Lỗi tải dữ liệu RRG"}),x.jsx("div",{className:"text-gray-600 mt-2",children:u.message})]}):x.jsx(pie,{type:"industries",timeframe:s,analyticsData:l},`industries-${s}`)})})]}),"chart-groups"===i&&x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"mb-4 w-full",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Phân tích RRG nhóm vốn hóa"}),x.jsx("p",{className:"text-gray-600",children:"Hiển thị sức mạnh tương đối và động lượng của các nhóm vốn hóa (VN30, VN100, VNMidCap, VNSmallCap). Nhóm ở góc Dẫn đầu đang vượt trội với động lượng tích cực."})]}),x.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6 w-full mb-6",children:x.jsx("div",{className:"w-full",children:c?x.jsxs("div",{className:"w-full p-8 text-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),x.jsx("div",{className:"text-gray-600 mt-2",children:"Đang tải dữ liệu RRG..."})]}):u?x.jsxs("div",{className:"w-full p-8 text-center",children:[x.jsx("div",{className:"text-red-600 text-lg font-medium",children:"Lỗi tải dữ liệu RRG"}),x.jsx("div",{className:"text-gray-600 mt-2",children:u.message})]}):x.jsx(pie,{type:"groups",timeframe:s,analyticsData:l},`groups-${s}`)})})]}),"chart"===i&&x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"mb-4 w-full",children:[x.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:["Phân tích RRG ","tickers"===e?"cổ phiếu":"nhóm vốn hóa"]}),x.jsx("p",{className:"text-gray-600",children:"tickers"===e?"Hiển thị sức mạnh tương đối và động lượng của các cổ phiếu. Sử dụng bộ lọc ngành để tập trung vào các nhóm cụ thể và giảm nhiễu.":"Hiển thị sức mạnh tương đối và động lượng của các nhóm vốn hóa (VN30, VN100, VNMidCap, VNSmallCap). Nhóm ở góc Dẫn đầu đang vượt trội với động lượng tích cực."})]}),x.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6 w-full mb-6",children:x.jsx("div",{className:"w-full",children:c?x.jsxs("div",{className:"w-full p-8 text-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),x.jsx("div",{className:"text-gray-600 mt-2",children:"Đang tải dữ liệu RRG..."})]}):u?x.jsxs("div",{className:"w-full p-8 text-center",children:[x.jsx("div",{className:"text-red-600 text-lg font-medium",children:"Lỗi tải dữ liệu RRG"}),x.jsx("div",{className:"text-gray-600 mt-2",children:u.message})]}):x.jsx(pie,{type:e,timeframe:s,analyticsData:l},`${e}-${s}`)})})]})]})]})]})}const kie=()=>{var e,t,n,r;const[i,a]=k.useState(""),[s,o]=k.useState(null),[l,c]=k.useState(!1),u=k.useRef(null),{data:d,loading:h,error:f}=gf("industry_strength_time_series"),m=k.useMemo(()=>(null==d?void 0:d.industries)?d.industries.map(e=>e.industry):[],[d]);k.useEffect(()=>{m.length>0&&!i&&a(m[0])},[m,i]),k.useEffect(()=>{if(!i||!(null==d?void 0:d.industries))return;const e=d.industries.find(e=>e.industry===i);if(!e)return;c(!0);const t=e.data_points.map(e=>({x:new Date(e.date).getTime(),y:e.net_flow,strong_strength:e.smoothed_signals.strong_strength,medium_strength:e.smoothed_signals.medium_strength,early_strength:e.smoothed_signals.early_strength,strong_weakness:e.smoothed_signals.strong_weakness,medium_weakness:e.smoothed_signals.medium_weakness,early_weakness:e.smoothed_signals.early_weakness}));o(t),c(!1)},[i]),k.useEffect(()=>{if(s&&u.current)if("undefined"==typeof Highcharts){const e=document.createElement("script");e.src="https://code.highcharts.com/11.1/highcharts.js",e.onload=()=>p(),document.head.appendChild(e)}else p()},[s]);const p=()=>{if(!s||!u.current)return;const e={chart:{type:"line",height:400,style:{fontSize:"14px"}},title:{text:`Sức mạnh ngành: ${i}`,align:"center"},xAxis:{type:"datetime",labels:{formatter:function(){return Highcharts.dateFormat("%d/%m/%Y",this.value)}}},yAxis:{title:{text:"Net Flow"},plotLines:[{value:0,color:"#666",dashStyle:"shortdash",width:1,label:{text:"Neutral"}}]},tooltip:{shared:!0,useHTML:!0,formatter:function(){const e=this.points[0],t=e.point;return`\n                        <div style="font-size: 12px;">\n                            <strong>${Highcharts.dateFormat("%d/%m/%Y",e.x)}</strong><br/>\n                            <strong>Net Flow:</strong> ${t.y.toFixed(3)}<br/>\n                            <strong>Strong Strength:</strong> ${t.strong_strength.toFixed(3)}<br/>\n                            <strong>Medium Strength:</strong> ${t.medium_strength.toFixed(3)}<br/>\n                            <strong>Early Strength:</strong> ${t.early_strength.toFixed(3)}<br/>\n                            <strong>Strong Weakness:</strong> ${t.strong_weakness.toFixed(3)}<br/>\n                            <strong>Medium Weakness:</strong> ${t.medium_weakness.toFixed(3)}<br/>\n                            <strong>Early Weakness:</strong> ${t.early_weakness.toFixed(3)}\n                        </div>\n                    `}},legend:{enabled:!0,align:"center",verticalAlign:"bottom"},plotOptions:{line:{marker:{enabled:!1}}},series:[{name:"Net Flow",data:s.map(e=>[e.x,e.y]),color:"#3b82f6",lineWidth:3,zIndex:1},{name:"Strong Strength",data:s.map(e=>[e.x,e.strong_strength]),color:"#10b981",lineWidth:2,visible:!1},{name:"Medium Strength",data:s.map(e=>[e.x,e.medium_strength]),color:"#059669",lineWidth:2,visible:!1},{name:"Early Strength",data:s.map(e=>[e.x,e.early_strength]),color:"#047857",lineWidth:2,visible:!1},{name:"Strong Weakness",data:s.map(e=>[e.x,e.strong_weakness]),color:"#ef4444",lineWidth:2,visible:!1},{name:"Medium Weakness",data:s.map(e=>[e.x,e.medium_weakness]),color:"#dc2626",lineWidth:2,visible:!1},{name:"Early Weakness",data:s.map(e=>[e.x,e.early_weakness]),color:"#b91c1c",lineWidth:2,visible:!1}],credits:{enabled:!1}};Highcharts.chart(u.current,e)};return d?x.jsx(Ae,{children:x.jsxs("div",{className:"p-6",children:[x.jsxs("div",{className:"flex items-center justify-between mb-6",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(te,{className:"h-5 w-5 text-blue-500"}),x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Biểu đồ sức mạnh ngành"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(ee,{className:"h-4 w-4 text-gray-500"}),x.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:(null==(t=null==(e=d.metadata)?void 0:e.date_range)?void 0:t.start)&&(null==(r=null==(n=d.metadata)?void 0:n.date_range)?void 0:r.end)&&`${new Date(d.metadata.date_range.start).toLocaleDateString("vi-VN")} - ${new Date(d.metadata.date_range.end).toLocaleDateString("vi-VN")}`})]})]}),x.jsxs("div",{className:"mb-6",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Chọn ngành:"}),x.jsx("select",{value:i,onChange:e=>a(e.target.value),className:"w-full max-w-xs px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 cursor-pointer",children:m.map(e=>x.jsx("option",{value:e,children:e},e))})]}),x.jsxs("div",{className:"relative",children:[l&&x.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/80 dark:bg-gray-800/80 z-10",children:x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}),x.jsx("div",{ref:u,className:"w-full h-96"})]}),x.jsxs("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4 text-xs",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded"}),x.jsx("span",{children:"Net Flow"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"}),x.jsx("span",{children:"Strong Strength"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-3 h-3 bg-green-600 rounded"}),x.jsx("span",{children:"Medium Strength"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-3 h-3 bg-green-700 rounded"}),x.jsx("span",{children:"Early Strength"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-3 h-3 bg-red-500 rounded"}),x.jsx("span",{children:"Strong Weakness"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-3 h-3 bg-red-600 rounded"}),x.jsx("span",{children:"Medium Weakness"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-3 h-3 bg-red-700 rounded"}),x.jsx("span",{children:"Early Weakness"})]})]}),x.jsxs("div",{className:"mt-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[x.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Giải thích:"}),x.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[x.jsxs("li",{children:["• ",x.jsx("strong",{children:"Net Flow:"})," Chỉ số tổng hợp sức mạnh/điểm yếu của ngành"]}),x.jsxs("li",{children:["• ",x.jsx("strong",{children:"Strong Strength/Weakness:"})," Tín hiệu mạnh về sức mạnh/điểm yếu"]}),x.jsxs("li",{children:["• ",x.jsx("strong",{children:"Medium Strength/Weakness:"})," Tín hiệu trung bình về sức mạnh/điểm yếu"]}),x.jsxs("li",{children:["• ",x.jsx("strong",{children:"Early Strength/Weakness:"})," Tín hiệu sớm về sức mạnh/điểm yếu"]})]})]})]})}):x.jsx(Ae,{children:x.jsxs("div",{className:"text-center py-8",children:[x.jsx(G,{className:"mx-auto h-12 w-12 text-gray-400"}),x.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100",children:"Không thể tải dữ liệu sức mạnh ngành"}),x.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Vui lòng kiểm tra lại file dữ liệu"})]})})},Nie=()=>{const[e,t]=k.useState("rrg"),n=[{id:"rankings",name:"Xếp hạng & Phân tích",icon:te},{id:"rrg",name:"Phân tích RRG",icon:Ne},{id:"trends",name:"Xu hướng sức mạnh",icon:G}];return x.jsxs("div",{className:"space-y-6",children:[x.jsx("div",{className:"flex items-center justify-between",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(te,{className:"h-6 w-6 text-blue-500"}),x.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Phân tích sức mạnh tương đối ngành"})]})}),x.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:x.jsx("nav",{className:"-mb-px flex space-x-8",children:n.map(n=>{const r=n.icon;return x.jsxs("button",{onClick:()=>t(n.id),className:"flex items-center gap-2 py-2 px-1 border-b-2 font-medium text-sm cursor-pointer "+(e===n.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"),children:[x.jsx(r,{className:"h-4 w-4"}),n.name]},n.id)})})}),x.jsx("div",{className:"mt-6",children:(()=>{switch(e){case"rankings":return x.jsx(Cne,{});case"rrg":return x.jsx(jie,{type:"industries"});case"trends":return x.jsx(kie,{});default:return null}})()})]})},Sie=()=>{const{data:e,loading:t,error:n}=gf("pe_ratio"),{data:r,loading:i,error:a}=gf("pb_ratio"),s=(null==e?void 0:e.data)||[],o=(null==r?void 0:r.data)||[],l=k.useMemo(()=>{const e=new Map(o.map(e=>[e.reportDate,e.pb]));return s.map(t=>({date:t.reportDate.slice(0,10),pe:t.pe,pb:e.get(t.reportDate)})).filter(e=>void 0!==e.pb)},[s,o]),c=k.useMemo(()=>l,[l]),u=k.useMemo(()=>{if(0===c.length)return null;const e=c[c.length-1],t=new Date(e.date),n=new Date(t);n.setFullYear(n.getFullYear()-1);const r=c.find(e=>new Date(e.date)>=n)||c[0],i=c.map(e=>e.pe).filter(e=>null!==e&&!isNaN(e)),a=c.map(e=>e.pb).filter(e=>null!==e&&!isNaN(e));return{current:{pe:e.pe,pb:e.pb,date:e.date},change:{pe:r?e.pe-r.pe:0,pb:r?e.pb-r.pb:0,oneYearAgoDate:null==r?void 0:r.date},range:{pe:{min:Math.min(...i),max:Math.max(...i)},pb:{min:Math.min(...a),max:Math.max(...a)}},average:{pe:i.reduce((e,t)=>e+t,0)/i.length,pb:a.reduce((e,t)=>e+t,0)/a.length}}},[c]);return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"text-center",children:[x.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-2",children:"Báo cáo Định giá VN-Index"}),x.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Phân tích tỷ lệ P/E và P/B của VN-Index trong toàn bộ dữ liệu có sẵn"})]}),u&&x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[x.jsx(Ae,{children:x.jsxs("div",{className:"text-center",children:[x.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"P/E Hiện tại"}),x.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:u.current.pe.toFixed(2)}),x.jsxs("p",{className:"text-sm "+(u.change.pe>=0?"text-green-500":"text-red-500"),children:[u.change.pe>=0?"+":"",u.change.pe.toFixed(2)," so với 1 năm trước"]})]})}),x.jsx(Ae,{children:x.jsxs("div",{className:"text-center",children:[x.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"P/B Hiện tại"}),x.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:u.current.pb.toFixed(2)}),x.jsxs("p",{className:"text-sm "+(u.change.pb>=0?"text-green-500":"text-red-500"),children:[u.change.pb>=0?"+":"",u.change.pb.toFixed(2)," so với 1 năm trước"]})]})}),x.jsx(Ae,{children:x.jsxs("div",{className:"text-center",children:[x.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"P/E Trung bình"}),x.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:u.average.pe.toFixed(2)}),x.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Khoảng: ",u.range.pe.min.toFixed(2)," - ",u.range.pe.max.toFixed(2)]})]})}),x.jsx(Ae,{children:x.jsxs("div",{className:"text-center",children:[x.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"P/B Trung bình"}),x.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:u.average.pb.toFixed(2)}),x.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Khoảng: ",u.range.pb.min.toFixed(2)," - ",u.range.pb.max.toFixed(2)]})]})})]}),x.jsxs(Ae,{children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200 mb-4",children:"Biểu đồ P/E và P/B VN-Index (Toàn bộ dữ liệu)"}),x.jsx("div",{className:"h-96",children:x.jsx(LL,{width:"100%",height:"100%",children:x.jsxs(rY,{data:c,margin:{top:10,right:30,left:0,bottom:10},children:[x.jsx(Q$,{strokeDasharray:"3 3",stroke:"rgba(128, 128, 128, 0.2)"}),x.jsx(HH,{dataKey:"date",tick:{fill:"rgb(156 163 175)",fontSize:12},minTickGap:30,interval:"preserveStartEnd"}),x.jsx(JH,{yAxisId:"left",tick:{fill:"rgb(156 163 175)",fontSize:12},domain:["auto","auto"],label:{value:"P/E",angle:-90,position:"insideLeft",fill:"#22c55e"}}),x.jsx(JH,{yAxisId:"right",orientation:"right",tick:{fill:"rgb(156 163 175)",fontSize:12},domain:["auto","auto"],label:{value:"P/B",angle:90,position:"insideRight",fill:"#3b82f6"}}),x.jsx(wL,{contentStyle:{backgroundColor:"rgba(31, 41, 55, 0.9)",border:"1px solid rgba(128, 128, 128, 0.2)",borderRadius:"0.5rem",color:"#fff"},formatter:(e,t)=>[e.toFixed(2),t],labelFormatter:e=>`Ngày: ${e}`}),x.jsx(ij,{}),x.jsx(kK,{yAxisId:"left",type:"monotone",dataKey:"pe",stroke:"#22c55e",strokeWidth:2,dot:!1,name:"P/E"}),x.jsx(kK,{yAxisId:"right",type:"monotone",dataKey:"pb",stroke:"#3b82f6",strokeWidth:2,dot:!1,name:"P/B"})]})})})]}),x.jsxs(Ae,{children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200 mb-4",children:"Phân tích Định giá"}),x.jsxs("div",{className:"space-y-4 text-sm text-gray-600 dark:text-gray-400",children:[x.jsxs("div",{children:[x.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2",children:"P/E Ratio (Tỷ lệ Giá/Lợi nhuận)"}),x.jsx("p",{children:"P/E ratio đo lường mức độ đắt đỏ của thị trường. P/E cao thường cho thấy thị trường kỳ vọng tăng trưởng lợi nhuận cao, nhưng cũng có thể báo hiệu thị trường quá nóng."})]}),x.jsxs("div",{children:[x.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2",children:"P/B Ratio (Tỷ lệ Giá/Giá trị Sổ sách)"}),x.jsx("p",{children:"P/B ratio so sánh giá thị trường với giá trị sổ sách của công ty. P/B thấp có thể cho thấy cổ phiếu bị định giá thấp, trong khi P/B cao có thể phản ánh tài sản vô hình hoặc kỳ vọng tăng trưởng."})]}),x.jsxs("div",{children:[x.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2",children:"Ý nghĩa của Biểu đồ"}),x.jsx("p",{children:"Biểu đồ này giúp nhà đầu tư theo dõi xu hướng định giá của thị trường theo thời gian. Sự thay đổi trong P/E và P/B có thể phản ánh thay đổi trong kỳ vọng tăng trưởng, lãi suất, hoặc tâm lý thị trường."})]})]})]})]})},Cie=({title:e,icon:t,data:n,unit:r,valueKey:i="value",nameKey:a="id"})=>x.jsxs(Ae,{children:[x.jsxs("div",{className:"flex items-center mb-4",children:[t,x.jsx("h3",{className:"text-base font-semibold text-gray-700 dark:text-gray-200 ml-2",children:e})]}),x.jsx("ul",{className:"space-y-3",children:n.map(e=>x.jsxs("li",{className:"flex justify-between items-center text-sm",children:[x.jsx("span",{className:"font-semibold text-blue-600 dark:text-blue-400 truncate pr-2",children:e[a]}),x.jsxs("span",{className:"font-medium whitespace-nowrap "+(e[i]>=0?"text-green-500":"text-red-500"),children:[e[i]>0?"+":"",e[i].toFixed(2),r]})]},e.id))})]}),Eie=()=>{const{data:e,loading:t,error:n}=gf("abnormal_signals_intra"),{data:r,loading:i,error:a}=gf("top_deals"),{data:s,loading:o,error:l}=gf("top_by_value"),c=k.useMemo(()=>{var e;return(null==(e=null==r?void 0:r.data)?void 0:e.slice(0,10))||[]},[r]),u=k.useMemo(()=>{var e;return(null==(e=null==s?void 0:s.data)?void 0:e.slice(0,10))||[]},[s]),d=k.useMemo(()=>{if(!e||t)return{topSignals:[],summary:{},totalSignals:0};const n=e.abnormalities||[],r=e.summary||{};return{topSignals:n.sort((e,t)=>t.CompositeScore-e.CompositeScore).slice(0,10).map(e=>{var t,n,r,i,a,s;const o=Object.entries(e).filter(([e,t])=>["AbnormalPrice","AbnormalVolume","PriceVelocityAbnormal","EffortGTResult","ResultGTEffort","AbnormalERRatio"].includes(e)&&!0===t).map(([e])=>e);return{id:e.Symbol,name:e.Symbol,date:e.Date,value:e.CompositeScore,sentiment:(null==(t=e.Interpretation)?void 0:t.overall_sentiment)||"NEUTRAL",confidence:(null==(n=e.Interpretation)?void 0:n.confidence)||"MEDIUM",signalCount:(null==(r=e.Interpretation)?void 0:r.signal_count)||0,riskLevel:(null==(i=e.Interpretation)?void 0:i.risk_level)||"MEDIUM",activeSignals:o,tradingImplications:(null==(a=e.Interpretation)?void 0:a.trading_implications)||[],signalTypes:(null==(s=e.Interpretation)?void 0:s.signal_types)||[]}}),summary:r,totalSignals:n.length}},[e,t]);return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"text-center",children:[x.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-2",children:"Báo cáo Tổng quan Thị trường"}),x.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Phân tích toàn diện về giao dịch và tín hiệu bất thường"})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x.jsx(Cie,{title:"Giao dịch thỏa thuận nhiều nhất",icon:x.jsx(re,{className:"text-blue-500"}),data:c.map(e=>({id:e.symbol,name:e.symbol,value:e.accumulated_value/1e9,subValue:e.price_change_pct_1d})),unit:"Tỷ VNĐ",valueKey:"value",nameKey:"name",valueClass:()=>"text-blue-500",subValueKey:"subValue",subValueClass:e=>e>0?"text-green-500":"text-red-500",subValueUnit:"%",subValuePrefix:""}),x.jsx(Cie,{title:"Giá trị Giao dịch Cao nhất",icon:x.jsx(me,{className:"text-green-500"}),data:u.map(e=>({id:e.symbol,name:e.symbol,value:e.accumulated_value/1e9,subValue:e.price_change_pct_1d})),unit:"Tỷ VNĐ",valueKey:"value",nameKey:"name",valueClass:()=>"text-green-500",subValueKey:"subValue",subValueClass:e=>e>0?"text-green-500":"text-red-500",subValueUnit:"%",subValuePrefix:""})]}),t?x.jsx(Ae,{children:x.jsx("div",{className:"flex items-center justify-center h-32",children:x.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Đang tải dữ liệu tín hiệu bất thường..."})})}):n?x.jsx(Ae,{children:x.jsx("div",{className:"flex items-center justify-center h-32",children:x.jsxs("div",{className:"text-red-500",children:["Lỗi tải dữ liệu: ",n]})})}):x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Se,{className:"text-orange-500"}),x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Tín hiệu Bất thường Nội ngày"})]}),x.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[d.totalSignals," tín hiệu"]})]}),x.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:d.topSignals.slice(0,12).map((e,t)=>{const n="BULLISH"===e.sentiment?"text-green-600 dark:text-green-400":"BEARISH"===e.sentiment?"text-red-600 dark:text-red-400":"text-yellow-600 dark:text-yellow-400";return x.jsxs(Ae,{className:"p-4",children:[x.jsxs("div",{className:"flex items-start justify-between mb-3",children:[x.jsxs("div",{children:[x.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:e.name}),x.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(e.date).toLocaleDateString("vi-VN")}),x.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Điểm: ",(100*e.value).toFixed(1),"%"]})]}),x.jsx("div",{className:"text-right",children:x.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/50 text-blue-800 dark:text-blue-200",children:[e.signalCount," tín hiệu"]})})]}),e.activeSignals.length>0&&x.jsxs("div",{className:"mb-3",children:[x.jsx("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Loại tín hiệu:"}),x.jsx("div",{className:"space-y-1",children:e.activeSignals.map((e,t)=>x.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[x.jsx("span",{className:"text-blue-500",children:"•"}),x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"AbnormalPrice"===e?"Giá bất thường":"AbnormalVolume"===e?"Khối lượng bất thường":"PriceVelocityAbnormal"===e?"Tốc độ giá bất thường":"EffortGTResult"===e?"Nỗ lực > Kết quả":"ResultGTEffort"===e?"Kết quả > Nỗ lực":"AbnormalERRatio"===e?"Tỷ lệ ER bất thường":e})]},t))})]}),e.tradingImplications.length>0&&x.jsxs("div",{className:"mb-3",children:[x.jsx("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Ý nghĩa giao dịch:"}),x.jsx("div",{className:"space-y-1",children:e.tradingImplications.slice(0,2).map((e,t)=>x.jsxs("div",{className:"flex items-start gap-2 text-xs",children:[x.jsx("span",{className:"text-green-500 flex-shrink-0",children:"•"}),x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:e})]},t))})]}),x.jsxs("div",{className:"space-y-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:[x.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[x.jsx("span",{className:n,children:"BULLISH"===e.sentiment?"📈":"BEARISH"===e.sentiment?"📉":"➡️"}),x.jsx("span",{className:n,children:"BULLISH"===e.sentiment?"Tích cực":"BEARISH"===e.sentiment?"Tiêu cực":"Trung tính"})]}),x.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[x.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"HIGH"===e.confidence?"🔴":"MEDIUM"===e.confidence?"🟡":"🟢"}),x.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"HIGH"===e.confidence?"Cao":"MEDIUM"===e.confidence?"Trung bình":"Thấp"})]}),x.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[x.jsx("span",{className:"text-orange-600 dark:text-orange-400",children:"HIGH"===e.riskLevel?"⚠️":"MEDIUM"===e.riskLevel?"⚡":"ℹ️"}),x.jsx("span",{className:"text-orange-600 dark:text-orange-400",children:"HIGH"===e.riskLevel?"Rủi ro cao":"MEDIUM"===e.riskLevel?"Rủi ro trung bình":"Rủi ro thấp"})]})]})]},t)})}),d.summary.market_sentiment&&x.jsxs(Ae,{className:"p-4",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[x.jsx(Oe,{className:"text-yellow-500"}),x.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Tổng quan Tâm lý Thị trường"})]}),x.jsxs("div",{className:"space-y-3 text-sm",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tâm lý thị trường:"}),x.jsx("span",{className:"font-semibold "+("BULLISH"===d.summary.market_sentiment?"text-green-600 dark:text-green-400":"BEARISH"===d.summary.market_sentiment?"text-red-600 dark:text-red-400":"text-yellow-600 dark:text-yellow-400"),children:"BULLISH"===d.summary.market_sentiment?"Tích cực":"BEARISH"===d.summary.market_sentiment?"Tiêu cực":"Trung tính"})]}),d.summary.trading_recommendations&&x.jsxs("div",{className:"mt-3",children:[x.jsx("h5",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2",children:"Khuyến nghị Giao dịch:"}),x.jsx("ul",{className:"space-y-1 text-gray-600 dark:text-gray-400",children:d.summary.trading_recommendations.slice(0,2).map((e,t)=>x.jsxs("li",{className:"flex items-start gap-2",children:[x.jsx("span",{className:"text-blue-500 mt-1",children:"•"}),x.jsx("span",{children:e})]},t))})]})]})]})]})]})},Pie=[{keyWord:"Tăng trưởng kinh tế",name:"gdp",className:"wi-g_d_p",type:"vi_mo_tien_te"},{keyWord:"GDP bình quân",name:"gdpbinhquan",className:"wi-g_d_p_binh_quan",type:"vi_mo_tien_te"},{keyWord:"Thu nhập bình quân",name:"gdpbinhquan",className:"wi-g_d_p_binh_quan",type:"vi_mo_tien_te"},{keyWord:"GDP",name:"gdp",className:"wi-g_d_p",type:"vi_mo_tien_te"},{keyWord:"Chỉ số giá tiêu dùng",name:"cpi",className:"wi-c_p_i",type:"vi_mo_tien_te"},{keyWord:"CPI",name:"cpi",className:"wi-c_p_i",type:"vi_mo_tien_te"},{keyWord:"Lạm phát",name:"cpi",className:"wi-c_p_i",type:"vi_mo_tien_te"},{keyWord:"Tổng mức bán lẻ hàng hóa và dịch vụ",name:"hhdv",className:"wi-h_h_d_v",type:"vi_mo_tien_te"},{keyWord:"Doanh thu bán lẻ hàng hóa và dịch vụ",name:"hhdv",className:"wi-h_h_d_v",type:"vi_mo_tien_te"},{keyWord:"Bán lẻ hàng hóa và dịch vụ",name:"hhdv",className:"wi-h_h_d_v",type:"vi_mo_tien_te"},{keyWord:"Vốn đầu tư phát triển xã hội",name:"vdtptxh",className:"wi-v_d_t_ptxh",type:"vi_mo_tien_te"},{keyWord:"Vốn đầu tư từ NSNN",name:"vdtnsnn",className:"wi-v_d_t_nsnn",type:"vi_mo_tien_te"},{keyWord:"Vốn đầu tư từ ngân sách nhà nước",name:"vdtnsnn",className:"wi-v_d_t_nsnn",type:"vi_mo_tien_te"},{keyWord:"Vốn đầu tư công",name:"vdtnsnn",className:"wi-v_d_t_nsnn",type:"vi_mo_tien_te"},{keyWord:"Chỉ số sản xuất công nghiệp",name:"iip",className:"wi-i_i_p",type:"vi_mo_tien_te"},{keyWord:"IIP",name:"iip",className:"wi-i_i_p",type:"vi_mo_tien_te"},{keyWord:"PMI",name:"pmi",className:"wi-p_m_i",type:"vi_mo_tien_te"},{keyWord:"Purchasing Managers Index",name:"pmi",className:"wi-p_m_i",type:"vi_mo_tien_te"},{keyWord:"Chỉ số quản lý thu mua",name:"pmi",className:"wi-p_m_i",type:"vi_mo_tien_te"},{keyWord:"FDI",name:"fdi",className:"wi-f_d_i",type:"vi_mo_tien_te"},{keyWord:"Vốn đầu tư trực tiếp nước ngoài",name:"fdi",className:"wi-f_d_i",type:"vi_mo_tien_te"},{keyWord:"Cán cân thương mại",name:"cctm",className:"wi-c_c_t_m",type:"vi_mo_tien_te"},{keyWord:"Nhập khẩu",name:"cctm",className:"wi-c_c_t_m",type:"vi_mo_tien_te"},{keyWord:"Xuất khẩu",name:"cctm",className:"wi-c_c_t_m",type:"vi_mo_tien_te"},{keyWord:"Vận chuyển hàng hóa",name:"vt",className:"wi-v_t",type:"vi_mo_tien_te"},{keyWord:"Vận chuyển hành khách",name:"vt",className:"wi-v_t",type:"vi_mo_tien_te"},{keyWord:"Khách quốc tế",name:"kqt",className:"wi-k_q_t",type:"vi_mo_tien_te"},{keyWord:"M2",name:"ctt",className:"wi-c_t_t",type:"vi_mo_tien_te"},{keyWord:"Cung tiền tệ",name:"ctt",className:"wi-c_t_t",type:"vi_mo_tien_te"},{keyWord:"Tổng huy động vốn trong nền kinh tế",name:"hd",className:"wi-h_d",type:"vi_mo_tien_te"},{keyWord:"Tổng tiền gửi trong nền kinh tế",name:"hd",className:"wi-h_d",type:"vi_mo_tien_te"},{keyWord:"Tổng tín dụng trong nền kinh tế",name:"td",className:"wi-t_d",type:"vi_mo_tien_te"},{keyWord:"Tín phiếu kho bạc",name:"tpkb",className:"wi-t_p_k_b",type:"vi_mo_tien_te"},{keyWord:"SBV - Bills",name:"tpkb",className:"wi-t_p_k_b",type:"vi_mo_tien_te"},{keyWord:"Treasury bills",name:"tpkb",className:"wi-t_p_k_b",type:"vi_mo_tien_te"},{keyWord:"Bills",name:"tpkb",className:"wi-t_p_k_b",type:"vi_mo_tien_te"},{keyWord:"OMO",name:"nvttm",className:"wi-n_v_t_t_t",type:"vi_mo_tien_te"},{keyWord:"Nghiệp vụ thị trường mở",name:"nvttm",className:"wi-n_v_t_t_t",type:"vi_mo_tien_te"},{keyWord:"Open Market Operations",name:"nvttm",className:"wi-n_v_t_t_t",type:"vi_mo_tien_te"},{keyWord:"Lãi suất liên ngân hàng",name:"lslnh",className:"wi-l_s_l_n_h",type:"vi_mo_tien_te"},{keyWord:"Lãi suất chiết khấu",name:"lsdh",className:"wi-l_s_d_h",type:"vi_mo_tien_te"},{keyWord:"Lãi suất tái cấp vốn",name:"lsdh",className:"wi-l_s_d_h",type:"vi_mo_tien_te"},{keyWord:"LS qua đêm cho vay bù đắp thiếu hụt vốn",name:"lsdh",className:"wi-l_s_d_h",type:"vi_mo_tien_te"},{keyWord:"Lãi suất điều hành",name:"lsdh",className:"wi-l_s_d_h",type:"vi_mo_tien_te"},{keyWord:"Lãi suất chính sách",name:"lsdh",className:"wi-l_s_d_h",type:"vi_mo_tien_te"},{keyWord:"Lãi suất huy động",name:"lshd",className:"wi-l_s_h_d",type:"vi_mo_tien_te"},{keyWord:"Tỷ giá trung tâm",name:"dhtg",className:"wi-d_h_t_g",type:"vi_mo_tien_te"},{keyWord:"Tỷ giá trần",name:"dhtg",className:"wi-d_h_t_g",type:"vi_mo_tien_te"},{keyWord:"Tỷ giá sàn",name:"dhtg",className:"wi-d_h_t_g",type:"vi_mo_tien_te"},{keyWord:"Điều hành tỷ giá",name:"dhtg",className:"wi-d_h_t_g",type:"vi_mo_tien_te"},{keyWord:"Dự trữ ngoại hối nhà nước",name:"dtnh",className:"wi-d_t_n_h",type:"vi_mo_tien_te"},{keyWord:"Dự trữ ngoại hối",name:"dtnh",className:"wi-d_t_n_h",type:"vi_mo_tien_te"},{keyWord:"Cán cân thanh toán",name:"cctt",className:"wi-c_c_t_t",type:"vi_mo_tien_te"},{keyWord:"BOP",name:"cctt",className:"wi-c_c_t_t",type:"vi_mo_tien_te"},{keyWord:"Balance of Payment",name:"cctt",className:"wi-c_c_t_t",type:"vi_mo_tien_te"},{keyWord:"Thu ngân sách",name:"tcns",className:"wi-t_c_n_s",type:"vi_mo_tien_te"},{keyWord:"Bội chi ngân sách",name:"tcns",className:"wi-t_c_n_s",type:"vi_mo_tien_te"},{keyWord:"Chi ngân sách",name:"tcns",className:"wi-t_c_n_s",type:"vi_mo_tien_te"},{keyWord:"Ngân sách nhà nước",name:"tcns",className:"wi-t_c_n_s",type:"vi_mo_tien_te"},{keyWord:"Nợ chính phủ",name:"ncp",className:"wi-n_c_p",type:"vi_mo_tien_te"},{keyWord:"Nợ công",name:"ncp",className:"wi-n_c_p",type:"vi_mo_tien_te"},{keyWord:"Nợ quốc gia",name:"ncp",className:"wi-n_c_p",type:"vi_mo_tien_te"},{keyWord:"Dân số",name:"ds",className:"wi-d_s",type:"vi_mo_tien_te"},{keyWord:"Lực lượng lao động",name:"ld",className:"wi-l_d",type:"vi_mo_tien_te"},{keyWord:"Lao động",name:"ld",className:"wi-l_d",type:"vi_mo_tien_te"},{keyWord:"Thất nghiệp",name:"tn",className:"wi-t_n",type:"vi_mo_tien_te"},{keyWord:"Xi măng Trung Quốc",name:"xi_mang",className:"wi-x_m",type:"vi_mo_hang_hoa"},{keyWord:"Xi măng",name:"xi_mang_pcb",className:"wi-xi_mang_pcb",type:"vi_mo_hang_hoa"},{keyWord:"Giá vàng",name:"vang",className:"wi-vang",type:"vi_mo_hang_hoa"},{keyWord:"Giá điện",name:"dien",className:"wi-dien",type:"vi_mo_hang_hoa"},{keyWord:"Heo hơi",name:"heo_hoi",className:"wi-heo_hoi",type:"vi_mo_hang_hoa"},{keyWord:"Xăng dầu",name:"xang_dau",className:"wi-xang_dau",type:"vi_mo_hang_hoa"},{keyWord:"Cà phê",name:"ca_phe",className:"wi-ca_phe",type:"vi_mo_hang_hoa"},{keyWord:"Cá tra",name:"ca_tra",className:"wi-ca_tra",type:"vi_mo_hang_hoa"},{keyWord:"Giá tiêu",name:"tieu",className:"wi-tieu",type:"vi_mo_hang_hoa"},{keyWord:"Giá thép",name:"thep",className:"wi-thep",type:"vi_mo_hang_hoa"},{keyWord:"Phân Ure",name:"phan_ure",className:"wi-phan_ure",type:"vi_mo_hang_hoa"},{keyWord:"Phốt pho",name:"phot_pho",className:"wi-phot_pho",type:"vi_mo_hang_hoa"},{keyWord:"Lưu huỳnh",name:"luu_huynh",className:"wi-luu_huynh",type:"vi_mo_hang_hoa"},{keyWord:"Giá niken",name:"niken",className:"wi-niken",type:"vi_mo_hang_hoa"},{keyWord:"Giá đồng Việt Nam",name:"dong",className:"wi-dong",type:"vi_mo_hang_hoa"},{keyWord:"Giá đồng Trung Quốc",name:"dong",className:"wi-dong",type:"vi_mo_hang_hoa"},{keyWord:"Giá đồng thế giới",name:"dong",className:"wi-dong",type:"vi_mo_hang_hoa"},{keyWord:"Giá đồng tăng",name:"dong",className:"wi-dong",type:"vi_mo_hang_hoa"},{keyWord:"Giá đồng giảm",name:"dong",className:"wi-dong",type:"vi_mo_hang_hoa"},{keyWord:"Giá đồng vượt",name:"dong",className:"wi-dong",type:"vi_mo_hang_hoa"},{keyWord:"Giá đồng đạt",name:"dong",className:"wi-dong",type:"vi_mo_hang_hoa"},{keyWord:"Giá đồng cao",name:"dong",className:"wi-dong",type:"vi_mo_hang_hoa"},{keyWord:"Giá đồng thấp",name:"dong",className:"wi-dong",type:"vi_mo_hang_hoa"},{keyWord:"Giá đồng trên",name:"dong",className:"wi-dong",type:"vi_mo_hang_hoa"},{keyWord:"Giá đồng biến động",name:"dong",className:"wi-dong",type:"vi_mo_hang_hoa"},{keyWord:"Giá nhôm",name:"nhom",className:"wi-nhom",type:"vi_mo_hang_hoa"},{keyWord:"Giá kẽm",name:"kem",className:"wi-kem",type:"vi_mo_hang_hoa"},{keyWord:"Giá thiếc",name:"thiec",className:"wi-thiec",type:"vi_mo_hang_hoa"},{keyWord:"Giá chì",name:"chi",className:"wi-chi",type:"vi_mo_hang_hoa"},{keyWord:"Than cốc",name:"than_coc",className:"wi-than_coc",type:"vi_mo_hang_hoa"},{keyWord:"Quặng sắt",name:"quang_sat",className:"wi-quang_sat",type:"vi_mo_hang_hoa"},{keyWord:"Sợi coton",name:"soi_coton",className:"wi-soi_coton",type:"vi_mo_hang_hoa"},{keyWord:"Vải coton",name:"vai_coton",className:"wi-vai_coton",type:"vi_mo_hang_hoa"},{keyWord:"Bột giấy",name:"bot_giay",className:"wi-bot_giay",type:"vi_mo_hang_hoa"},{keyWord:"Lợn hơi Trung Quốc",name:"lon_hoi_trung_quoc",className:"wi-lon_hoi_trung_quoc",type:"vi_mo_hang_hoa"},{keyWord:"Dầu cọ",name:"dau_co_malaysia",className:"wi-dau_co_malaysia",type:"vi_mo_hang_hoa"},{keyWord:"Giấy gợn sóng",name:"giay_gon_song_trung_quoc",className:"wi-giay_gon_song_trung_quoc",type:"vi_mo_hang_hoa"},{keyWord:"Đậu nành Mỹ",name:"dau_nanh_my",className:"wi-dau_nanh_my",type:"vi_mo_hang_hoa"},{keyWord:"Nhựa đường",name:"nhua_duong_60_70",className:"wi-nhua_duong_60_70",type:"vi_mo_hang_hoa"},{keyWord:"Giá đường",name:"duong",className:"wi-duong",type:"vi_mo_hang_hoa"},{keyWord:"Vải cotton Mỹ",name:"vai_cotton_my",className:"wi-vai_cotton_my",type:"vi_mo_hang_hoa"},{keyWord:"Gạo TPXK",name:"gao_tpxk",className:"wi-gao_tpxk",type:"vi_mo_hang_hoa"},{keyWord:"Tôm sú",name:"tom_su",className:"wi-tom_su",type:"vi_mo_hang_hoa"},{keyWord:"Tôm thẻ",name:"tom_the",className:"wi-tom_the",type:"vi_mo_hang_hoa"},{keyWord:"Phụ phẩm lúa gạo",name:"phu_pham_lua_gao",className:"wi-phu_pham_lua_gao",type:"vi_mo_hang_hoa"},{keyWord:"Lúa",name:"lua",className:"wi-lua",type:"vi_mo_hang_hoa"},{keyWord:"Gạo nguyên liệu",name:"gao_nguyen_lieu",className:"wi-gao_nguyen_lieu",type:"vi_mo_hang_hoa"},{keyWord:"Giá bạc",name:"bac",className:"wi-bac",type:"vi_mo_hang_hoa"},{keyWord:"Ure Trung Đông",name:"ure_trung_dong",className:"wi-ure_trung_dong",type:"vi_mo_hang_hoa"},{keyWord:"Xút Trung Quốc",name:"xut_naoh_trung_quoc",className:"wi-xut_naoh_trung_quoc",type:"vi_mo_hang_hoa"},{keyWord:"Phân DAP Trung Quốc",name:"phan_dap_trung_quoc",className:"wi-phan_dap_trung_quoc",type:"vi_mo_hang_hoa"},{keyWord:"Phân Urea Trung Quốc",name:"phan_urea_trung_quoc",className:"wi-phan_urea_trung_quoc",type:"vi_mo_hang_hoa"},{keyWord:"Thép dây Trung Quốc",name:"thep_day_trung_quoc",className:"wi-thep_day_trung_quoc",type:"vi_mo_hang_hoa"},{keyWord:"Thép thanh Trung Quốc",name:"thep_thanh_trung_quoc",className:"wi-thep_thanh_trung_quoc",type:"vi_mo_hang_hoa"},{keyWord:"Thép phế Anh",name:"thep_phe_anh",className:"wi-thep_phe_anh",type:"vi_mo_hang_hoa"},{keyWord:"Thép thanh Anh",name:"thep_thanh_anh",className:"wi-thep_thanh_anh",type:"vi_mo_hang_hoa"},{keyWord:"HRC Trung Quốc",name:"hrc_trung_quoc",className:"wi-hrc_trung_quoc",type:"vi_mo_hang_hoa"},{keyWord:"Đá 0-4",name:"da_0_4",className:"wi-da_0_4",type:"vi_mo_hang_hoa"},{keyWord:"Đá mi sàng",name:"da_mi_sang",className:"wi-da_mi_sang",type:"vi_mo_hang_hoa"},{keyWord:"Đá 1x2",name:"da_1x2",className:"wi-da_1x2",type:"vi_mo_hang_hoa"},{keyWord:"Đá Hộc",name:"da_hoc",className:"wi-da_hoc",type:"vi_mo_hang_hoa"},{keyWord:"Tôn lạnh màu",name:"ton_lanh_mau_hoa_sen_045mm",className:"wi-ton_lanh_mau_hoa_sen_045mm",type:"vi_mo_hang_hoa"},{keyWord:"Tôn lạnh",name:"ton_lanh_hoa_sen_045mm",className:"wi-ton_lanh_hoa_sen_045mm",type:"vi_mo_hang_hoa"},{keyWord:"Bê tông nhựa mịn",name:"be_tong_nhua_min",className:"wi-be_tong_nhua_min",type:"vi_mo_hang_hoa"},{keyWord:"Ống nhựa 27 x 1.8mm",name:"ong_nhua_27x18mm",className:"wi-ong_nhua_27x18mm",type:"vi_mo_hang_hoa"},{keyWord:"Ống nhựa 60 x 2mm",name:"ong_nhua_60x2mm",className:"wi-ong_nhua_60x2mm",type:"vi_mo_hang_hoa"},{keyWord:"Ống nhựa 90 x 2,9mm",name:"ong_nhua_90x29mm",className:"wi-ong_nhua_90x29mm",type:"vi_mo_hang_hoa"},{keyWord:"Sơn lót kháng kiềm",name:"son_lot_khang_kiem_cao_cap",className:"wi-son_lot_khang_kiem_cao_cap",type:"vi_mo_hang_hoa"},{keyWord:"Sơn nội thất",name:"son_noi_that_tieu_chuan",className:"wi-son_noi_that_tieu_chuan",type:"vi_mo_hang_hoa"},{keyWord:"Sơn ngoại thất",name:"son_ngoai_that_tieu_chuan",className:"wi-son_ngoai_that_tieu_chuan",type:"vi_mo_hang_hoa"},{keyWord:"Kính màu trắng cường lực",name:"kinh_mau_trang",className:"wi-kinh_mau_trang",type:"vi_mo_hang_hoa"},{keyWord:"Kính Solar control cường lực",name:"kinh_solar",className:"wi-kinh_solar",type:"vi_mo_hang_hoa"},{keyWord:"Dây cáp điện",name:"day_cap_dien",className:"wi-day_cap_dien",type:"vi_mo_hang_hoa"},{keyWord:"Gạch đất sét nung",name:"gach_dat_set_nung",className:"wi-gach_dat_set_nung",type:"vi_mo_hang_hoa"},{keyWord:"Cọc bê tông",name:"coc_be_tong_du_ung_luc",className:"wi-coc_be_tong_du_ung_luc",type:"vi_mo_hang_hoa"},{keyWord:"Bê tông",name:"be_tong_mac_300",className:"wi-be_tong_mac_300",type:"vi_mo_hang_hoa"},{keyWord:"Khí LPG Trung Quốc",name:"khi_lpg_trung_quoc",className:"wi-khi_lpg_trung_quoc",type:"vi_mo_hang_hoa"},{keyWord:"Dầu WTI",name:"dau_wti",className:"wi-dau_wti",type:"vi_mo_hang_hoa"},{keyWord:"Khí thiên nhiên",name:"khi_thien_nhien",className:"wi-khi_thien_nhien",type:"vi_mo_hang_hoa"},{keyWord:"Than Newcastle",name:"than_newcastle",className:"wi-than_newcastle",type:"vi_mo_hang_hoa"},{keyWord:"Mazút",name:"mazut",className:"wi-mazut",type:"vi_mo_hang_hoa"},{keyWord:"Cao su thế giới",name:"cao_su_nhat_ban",className:"wi-cao_su_nhat_ban",type:"vi_mo_hang_hoa"},{keyWord:"Cao su",name:"cao_su",className:"wi-cao_su",type:"vi_mo_hang_hoa"},{keyWord:"Hạt PET",name:"pet_trung_quoc",className:"wi-pet_trung_quoc",type:"vi_mo_hang_hoa"},{keyWord:"Hạt nhựa PVC Trung Quốc",name:"nhua_pvc_trung_quoc",className:"wi-nhua_pvc_trung_quoc",type:"vi_mo_hang_hoa"},{keyWord:"Hạt nhựa PP Trung Quốc",name:"nhua_pp_trung_quoc",className:"wi-nhua_pp_trung_quoc",type:"vi_mo_hang_hoa"},{keyWord:"CK Nhật Bản - Nikkei 225",name:"ni255",className:"178",type:"investing"},{keyWord:"CK Trung Quốc - Shanghai Composite (SSEC)",name:"shanghai",className:"40820",type:"investing"},{keyWord:"CK Mỹ - S&P 500",name:"dow_jone_sp500",className:"166",type:"investing"},{keyWord:"Chỉ số Dow Jones Industrial Average (DJI)",name:"dow_jone",className:"169",type:"investing"},{keyWord:"Chỉ số NASDAQ Composite (IXIC)",name:"nasdaq-composite",className:"14958",type:"investing"},{keyWord:"FTSE 100",name:"ftse100",className:"27",type:"investing"},{keyWord:"Hang Seng Index - CK Hồng Kông",name:"hangseng_hsi",className:"179",type:"investing"},{keyWord:"CK Việt Nam - VNINDEX",name:"vnindex",className:"41063",type:"investing"},{keyWord:"Dollar Index - DXY",name:"dxy",className:"942611",type:"investing"},{keyWord:"Lãi suất TPCP Mỹ - 10 năm (%)",name:"us_bond_10y_investing",className:"23705",type:"investing"},{keyWord:"Lãi suất TPCP Mỹ - 1 năm (%) ",name:"us_bond_1y_investing",className:"23700",type:"investing"},{keyWord:"Lãi suất TPCP Việt Nam - 10 năm (%)",name:"vietnam_bond_10y_investing",className:"29379",type:"investing"},{keyWord:"Lãi suất TPCP Việt Nam - 1 năm (%)",name:"vietnam_bond_1y",className:"29380",type:"investing"},{keyWord:"Bảng cân đối kế toán của Fed (Bil USD)",name:"fed-ballance-sheet",className:"2145.json",type:"investing"},{keyWord:"Lãi suất quỹ liên bang của Fed (%)",name:"fed-funds-rate",className:"168.json",type:"investing"},{keyWord:"Fed Funds Composite Interest Rate (%)",name:"fed-funds-composite-interest-rate",className:"985525",type:"investing"},{keyWord:"Chỉ số CPI Mỹ (%YoY)",name:"usa_cpi",className:"733.json",type:"investing"},{keyWord:"Chỉ số CPI Mỹ (%MoM)",name:"usa_cpi_mom",className:"69.json",type:"investing"},{keyWord:"Chỉ số CPI lõi Mỹ (%YoY)",name:"usa_cpi_core",className:"736.json",type:"investing"},{keyWord:"Chỉ số PCE Lõi Mỹ (%YoY)",name:"usa_pce_core",className:"905.json",type:"investing"},{keyWord:"Chỉ số PCE Lõi Mỹ (%MoM)",name:"usa_pce_month",className:"61.json",type:"investing"},{keyWord:"Tỷ lệ thất nghiệp Mỹ (%)",name:"unemployment_rate_cpi",className:"300.json",type:"investing"},{keyWord:"Chỉ số Thị Trường Nhà ở của NAHB - Mỹ",name:"nahb-housing-market-index",className:"218.json",type:"investing"},{keyWord:"S&P/Case-Shiller House Price Index (%YoY)",name:"case-shiller-house-price-index-yoy",className:"329.json",type:"investing"},{keyWord:"S&P/Case-Shiller House Price Index (%MoM)",name:"case-shiller-house-price-index-mom",className:"913.json",type:"investing"},{keyWord:"30 Year US mortgage rate (%)",name:"mba-30-year-mortgage-rate",className:"1042.json",type:"investing"},{keyWord:"USA Retail Inventories Excluding Auto (%)",name:"retail-inventories-ex-auto-1887",className:"1887.json",type:"investing"},{keyWord:"Eurozone Interest Rate (%)",name:"eurozone-interest-rate-decision",className:"164.json",type:"investing"},{keyWord:"Chỉ số CPI - Trung Quốc (%YoY)",name:"chinese-cpi",className:"459.json",type:"investing"},{keyWord:"Chỉ số IIP - Trung Quốc (%YoY)",name:"chinese-industrial-production",className:"462.json",type:"investing"},{keyWord:"Lãi suất cho vay cơ bản - Trung Quốc (%)",name:"pboc-loan-prime-rate",className:"1967.json",type:"investing"},{keyWord:"Bitcoin US Dollar - BTCUSD",name:"btcusd",className:"945629",type:"investing"},{keyWord:"CBOE Volatility Index (VIX)",name:"volatility-sp500-vix-cboe",className:"44336",type:"investing"},{keyWord:"US Dollar Vietnamese Dong - USDVND",name:"usdvnd",className:"2214",type:"investing"},{keyWord:"US Dollar Japanese Yen - USDJPY",name:"usdjpy",className:"3",type:"investing"},{keyWord:"US Dollar British Pound - USDGPB",name:"usdgbp",className:"2126",type:"investing"},{keyWord:"US Dollar Swiss Franc - USDCHF",name:"usdchf",className:"4",type:"investing"},{keyWord:"US Dollar Canadian Dollar - USDCAD",name:"usdcad",className:"7",type:"investing"},{keyWord:"Astradian Dollar US Dollar - AUDUSD",name:"audusd",className:"5",type:"investing"},{keyWord:"New Zealand Dollar US Dollar - NZDUSD",name:"nzdusd",className:"5",type:"investing"},{keyWord:"US Dollar Chinese Yuan - USDCNY",name:"usdcny",className:"2111",type:"investing"},{keyWord:"Giá dầu Crude Oil WTI Futures (USD)",name:"crude-oil",className:"8849",type:"investing"},{keyWord:"Giá dầu Brent Oil Futures (USD)",name:"LCOc1",className:"8833",type:"investing"},{keyWord:"Cao su - Tocom (CNY)",name:"JRUc1",className:"1013463",type:"investing"},{keyWord:"Cao su RSS3",name:"SRUc1",className:"1013411",type:"investing"},{keyWord:"Cao su TSR20",name:"STFc1",className:"1013412",type:"investing"},{keyWord:"Giá vàng - Gold Futures",name:"gold_future",className:"8830",type:"investing"},{keyWord:"Giá khí thiên nhiên - Natural Gas Futures",name:"natural_gas",className:"8862",type:"investing"},{keyWord:"Giá thép thanh - Steel Rebar Futures",name:"steel_rebar",className:"996702",type:"investing"},{keyWord:"Giá đường mỹ - US Sugar #11 Futures",name:"SBc1",className:"8869",type:"investing"},{keyWord:"Giá Sợi - US Cotton #2 Futures",name:"CTc1",className:"8851",type:"investing"},{keyWord:"Hợp đồng Tương lai nhựa Polyvinyl Clorua - DPVc1 (CNY)",name:"Polyvinyl_Clorua_DPVc1",className:"961746",type:"investing"},{keyWord:"Hợp đồng Tương lai nhựa Polyêtylen - DLLc1 (CNY)",name:"nhua_lldpe",className:"961744",type:"investing"},{keyWord:"Chỉ số vận tải Baltic Dry Index",name:"baltic_dry",className:"940793",type:"investing"},{keyWord:"Giá Baltic Clean Tanker (USD)",name:"baltic-clean-tanker",className:"940799",type:"investing"}],Mie=()=>{const e=k.useRef(null),t=k.useRef(null);k.useEffect(()=>{if("undefined"==typeof Highcharts){const e=document.createElement("script");e.src="https://code.highcharts.com/11.1/highcharts.js",e.onload=n,document.head.appendChild(e)}else n();return()=>{e.current&&e.current.destroy()}},[]);const n=()=>{t.current&&(t.current.innerHTML='\n            <div class="flex flex-col md:flex-row gap-4">\n                \x3c!-- Sidebar Filters --\x3e\n                <div class="w-full md:w-[300px] bg-white shadow p-4 md:h-auto">\n                    \x3c!-- Tabs --\x3e\n                    <div class="flex mb-4 space-x-2" id="tabs">\n                        <div class="tab-g transition-all duration-200 cursor-pointer flex-1 text-center py-2 px-3 border border-btn-primary-border rounded-md text-sm font-medium text-white bg-btn-primary"\n                        data-tab="vi_mo_tien_te">Vĩ mô</div>\n                        <div class="tab-g transition-all duration-200 cursor-pointer flex-1 text-center py-2 px-3 border border-filter rounded-md text-sm font-medium text-menu-link bg-white hover:bg-filter"\n                        data-tab="vi_mo_hang_hoa">Hàng hóa</div>\n                        <div class="tab-g transition-all duration-200 cursor-pointer flex-1 text-center py-2 px-3 border border-filter rounded-md text-sm font-medium text-menu-link bg-white hover:bg-filter"\n                        data-tab="investing">Investing</div>\n                    </div>\n\n                    \x3c!-- Search --\x3e\n                    <div class="flex items-center mb-3">\n                        <svg class="w-5 h-5 mr-2 text-menu-link" fill="currentColor" viewBox="0 0 24 24">\n                        <path\n                            d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z">\n                        </path>\n                        </svg>\n                        <input autocomplete="off" id="searchInput" placeholder="Tìm kiếm bộ lọc"\n                        class="w-full border border-filter rounded-md px-2 py-1 text-sm text-text-color focus:outline-none focus:ring-2 focus:ring-blue" />\n                    </div>\n\n                    \x3c!-- Filter List --\x3e\n                    <ul id="filterList" class="overflow-y-auto h-[400px] list-none p-0 m-0"></ul>\n                </div>\n\n                \x3c!-- Chart Area --\x3e\n                <div class="flex-1">\n                    <div id="myChart" class="bg-white shadow p-4 min-h-[400px]"></div>\n                </div>\n            </div>\n        ',r())},r=()=>{const e=document.querySelectorAll(".tab-g"),t=document.getElementById("filterList"),n=document.getElementById("searchInput"),r=document.getElementById("myChart");let i="vi_mo_tien_te";function a(e){if(!e.xAxis)return;const t=e.xAxis[0].min,n=e.series[0].data;if(!n.length)return;const r=n[n.length-1],i=new Date,a=new Date(i.getFullYear()-2,i.getMonth(),i.getDate()),s=a.getTime()<t?t:a.getTime();e.xAxis[0].setExtremes(s,r.x)}function s(e){e.xAxis&&[{from:Date.UTC(1970,1,1),to:Date.UTC(1970,12,1)},{from:Date.UTC(1973,12,1),to:Date.UTC(1975,4,1)},{from:Date.UTC(1980,2,1),to:Date.UTC(1980,8,1)},{from:Date.UTC(1981,8,1),to:Date.UTC(1982,12,1)},{from:Date.UTC(1990,8,1),to:Date.UTC(1991,4,1)},{from:Date.UTC(2001,4,1),to:Date.UTC(2001,12,1)},{from:Date.UTC(2008,1,1),to:Date.UTC(2009,7,1)},{from:Date.UTC(2020,3,1),to:Date.UTC(2020,5,1)}].forEach((t,n)=>{e.xAxis[0].addPlotBand({id:`r${n}`,color:"#F1F1F1",from:t.from,to:t.to})})}function o(e,t){const n=function(e){let t={title:{text:e.chart.series[0].unit},labels:{style:{color:Highcharts.getOptions().colors[0]}}},n={title:{text:""},labels:{style:{color:Highcharts.getOptions().colors[0]}},opposite:!0},r=e.chart.series[0].type,i=0;const a=[];e.chart.series.forEach(e=>{r!==e.type&&(i=1,n.title.text=e.unit),a.push({name:e.name,data:e.data.sort(),fillMissingValues:{type:"previous"},unit:e.unit,connectNulls:!0,type:"bar"===e.type?"column":"spline",yAxis:r===e.type?0:1})});let s=`<b>${e.timeUpdate}</b> <br/>`;if(a.length>2)a.forEach(e=>{let t=e.data.map(e=>e[1]);s+=`${e.name} : ${t[t.length-1]||t[t.length-2]||t[t.length-3]} (${e.unit})<br/>`});else for(let o=0;o<e.titleIndex.length;o++)s+=`${e.titleIndex[o]} (${e.unitArray[o]})<br/>`;return{chart:{zoomType:"x",type:"column",height:"500px",style:{fontSize:"14px"},resetZoomButton:{position:{x:0,y:-40},theme:{fill:"white",style:{fontSize:"14px"},stroke:"silver",r:0,states:{hover:{fill:"#41739D",style:{color:"white"}}}}}},xAxis:{crosshair:!0,type:"datetime",labels:{formatter:function(){return Highcharts.dateFormat("%e/%m/%Y",this.value)}}},time:{useUTC:!1,timezone:"Asia/Ho_Chi_Minh"},title:{text:e.title,align:"center"},subtitle:{text:s,align:"left"},yAxis:i?[t,n]:[t],tooltip:{headerFormat:"<b>{point.x:%d/%m/%Y}</b><br>",pointFormat:"{series.name}: {point.y:.2f}<br>",shared:!0,useHTML:!0},credits:{enabled:!1},exporting:{enabled:!0},series:a,plotOptions:{column:{stacking:e.stacked_column},line:{dataLabels:{enabled:!1}}}}}(e);document.title=e.title,Highcharts.chart("myChart",n,e=>{s(e),a(e)})}function l(){r.innerHTML='\n    <div class="loading-container flex items-center justify-center w-full h-full bg-white bg-opacity-80">\n        <div class="lds-roller">\n            <div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>\n        </div>\n    </div>'}function c(n){i=n,e.forEach(e=>{const t=e.dataset.tab===n;e.classList.remove("bg-btn-primary","text-white","bg-white","text-menu-link","hover:bg-filter"),t?e.classList.add("bg-btn-primary","text-white"):e.classList.add("bg-white","text-menu-link","hover:bg-filter")}),function(e){t.innerHTML="";const n=document.createDocumentFragment();Pie.forEach(t=>{if(t.type===e){const e=document.createElement("li");e.className="tab filter-item cursor-pointer px-3 py-2 border-b border-filter hover:bg-menu-button",e.dataset.name=t.name,e.textContent=t.keyWord,n.appendChild(e)}}),t.appendChild(n)}(n)}function u(e="lslnh"){return g(this,null,function*(){const t=Pie.findIndex(t=>t.name===e);let n=e;if(-1===t&&(n="lslnh"),t>-1&&"investing"===Pie[t].type)yield function(e){return g(this,null,function*(){l();try{const t=Pie.findIndex(t=>t.name===e);if(-1===t)return void(r.innerHTML="<p>Không tìm thấy dữ liệu đầu tư.</p>");const n=Pie[t].className.includes("json"),i=n?`https://sbcharts.investing.com/events_charts/us/${Pie[t].className}`:`https://api.investing.com/api/financialdata/${Pie[t].className}/historical/chart/?period=MAX&interval=P1D&pointscount=120`,o=yield fetch(i);!function(e,t,n){var i;if(!e||!e.data||!e.data.length)return void(r.innerHTML="<p>Không có dữ liệu để hiển thị.</p>");const o=e.data.map((e,t)=>[e[0],n?e[1]:e[4]]),l=(null==(i=Pie[t])?void 0:i.keyWord)||"Dữ liệu đầu tư",c={chart:{zoomType:"x",type:"spline",height:500,style:{fontSize:"14px"}},title:{text:l,align:"center"},xAxis:{type:"datetime",crosshair:!0,labels:{formatter:function(){return Highcharts.dateFormat("%e/%m/%Y",this.value)}}},yAxis:{title:{text:""}},tooltip:{headerFormat:"<b>{point.x:%d/%m/%Y}</b><br>",pointFormat:"{series.name}: {point.y:.2f}<br>",shared:!0,useHTML:!0},credits:{enabled:!1},exporting:{enabled:!0},series:[{name:l,data:o,connectNulls:!0}]};Highcharts.chart("myChart",c,e=>{s(e),a(e)})}(yield o.json(),t,n)}catch(t){r.innerHTML='<p class="text-red-600 p-4">Lỗi khi tải dữ liệu Investing.</p>'}})}(n);else{l();try{let e=`https://api.wichart.vn/vietnambiz/vi-mo?name=${n}`;t>-1&&"vi_mo_hang_hoa"===Pie[t].type&&(e+="&key=hanghoa");const r=yield fetch(e);if(!r.ok)throw new Error("Network response was not ok");o(yield r.json())}catch(i){r.innerHTML='<p class="text-red-600 p-4">Đã xảy ra lỗi khi tải dữ liệu.</p>'}}})}t.addEventListener("click",e=>{const t=e.target.closest("li");if(!t)return;const n=t.dataset.name;n&&u(n)}),n.addEventListener("keyup",function(e,t){let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>e.apply(null,r),t)}}(function(){const e=n.value.toLowerCase(),r=t.children;Array.from(r).forEach(t=>{const n=t.textContent.toLowerCase();t.style.display=n.includes(e)?"":"none"})},200)),e.forEach(e=>{e.addEventListener("click",()=>{c(e.dataset.tab)})}),c(i),u("lslnh")};return x.jsx(Ae,{children:x.jsx("div",{ref:t,className:"w-full"})})},Oie=()=>{const{data:e,loading:t,error:n}=gf("gdp_quarter"),{data:r,loading:i,error:a}=gf("money_supply_month"),{data:s,loading:o,error:l}=gf("retail_sales_year"),{data:c,loading:u,error:d}=gf("retail_sales_month"),{data:h,loading:f,error:m}=gf("cpi_month"),p=k.useMemo(()=>(null==e?void 0:e.data)?e.data.filter(e=>"Tăng trưởng thực của GDP"===e.group_name&&"Tổng GDP"===e.name).sort((e,t)=>new Date(e.report_time)-new Date(t.report_time)).slice(-8).map(e=>({date:e.report_time.slice(0,7),gdp:e.value,quarter:e.report_type})):[],[e]),g=k.useMemo(()=>(null==r?void 0:r.data)?r.data.filter(e=>"Tăng trưởng Cung tiền M2 (YTD)*"===e.name).sort((e,t)=>new Date(e.report_time)-new Date(t.report_time)).slice(-12).map(e=>({date:e.report_time.slice(0,7),m2Growth:e.value})):[],[r]),v=k.useMemo(()=>{if(!(null==s?void 0:s.data))return[];try{return s.data.sort((e,t)=>new Date(e.report_time)-new Date(t.report_time)).slice(-8).map(e=>({date:e.report_time,total:e.data.percentage["Tổng số"],service:e.data.percentage["Dịch vụ & du lịch"],commerce:e.data.percentage["Thương nghiệp"],hospitality:e.data.percentage["Khách sạn nhà hàng"],totalValue:e.data.cash["Tổng số"],serviceValue:e.data.cash["Dịch vụ & du lịch"],commerceValue:e.data.cash["Thương nghiệp"],hospitalityValue:e.data.cash["Khách sạn nhà hàng"]}))}catch(e){return[]}},[s]),y=k.useMemo(()=>(null==h?void 0:h.data)?h.data.filter(e=>"Chỉ số giá tiêu dùng"===e.name).sort((e,t)=>new Date(e.report_time)-new Date(t.report_time)).slice(-12).map(e=>({date:e.report_time.slice(0,7),cpi:e.value})):[],[h]);return k.useMemo(()=>{const e=new Set([...p.map(e=>e.date),...g.map(e=>e.date),...v.map(e=>e.date),...y.map(e=>e.date)]);return Array.from(e).sort().map(e=>{const t=p.find(t=>t.date===e),n=g.find(t=>t.date===e),r=v.find(t=>t.date===e),i=y.find(t=>t.date===e);return{date:e,gdp:(null==t?void 0:t.gdp)||null,m2Growth:(null==n?void 0:n.m2Growth)||null,retailGrowth:(null==r?void 0:r.retailGrowth)||null,cpi:(null==i?void 0:i.cpi)||null}}).filter(e=>null!==e.gdp||null!==e.m2Growth||null!==e.retailGrowth||null!==e.cpi).slice(-24)},[p,g,v,y]),k.useMemo(()=>({gdp:p[0],m2Growth:g[0],retailGrowth:v[0],cpi:y[0]}),[p,g,v,y]),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"text-center",children:[x.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-2",children:"Báo cáo Vĩ mô"}),x.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Phân tích các chỉ số kinh tế vĩ mô và xu hướng thị trường"})]}),x.jsx(Mie,{}),x.jsxs(Ae,{children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200 mb-4",children:"Phân tích Thị trường"}),x.jsxs("div",{className:"space-y-4 text-sm text-gray-600 dark:text-gray-400",children:[x.jsxs("div",{children:[x.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2",children:"Tăng trưởng GDP"}),x.jsx("p",{children:"Tăng trưởng GDP là chỉ số quan trọng nhất phản ánh sức khỏe của nền kinh tế. Tăng trưởng cao thường tương quan với hiệu suất tốt của thị trường chứng khoán."})]}),x.jsxs("div",{children:[x.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2",children:"Cung tiền M2"}),x.jsx("p",{children:"Tăng trưởng cung tiền M2 phản ánh tính thanh khoản trong nền kinh tế. Tăng trưởng cao có thể thúc đẩy thị trường nhưng cũng có thể gây lạm phát."})]}),x.jsxs("div",{children:[x.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2",children:"Bán lẻ"}),x.jsx("p",{children:"Tăng trưởng bán lẻ cho thấy sức tiêu thụ của người dân. Đây là chỉ số quan trọng phản ánh sức khỏe của nền kinh tế tiêu dùng."})]}),x.jsxs("div",{children:[x.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2",children:"Chỉ số Giá Tiêu dùng (CPI)"}),x.jsx("p",{children:"CPI đo lường lạm phát. Lạm phát vừa phải có thể tốt cho thị trường, nhưng lạm phát cao có thể ảnh hưởng tiêu cực đến hiệu suất cổ phiếu."})]})]})]})]})},Aie=({market_overview:e,strongSignalsCount:t})=>{var n,r;return x.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg p-6",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[x.jsx(Ee,{className:"h-8 w-8 text-blue-500"}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Phân tích VSA (Volume Spread Analysis)"}),x.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Phân tích thị trường dựa trên mối quan hệ giữa khối lượng và biến động giá"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[x.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[x.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:(null==e?void 0:e.total_stocks_analyzed)||0}),x.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Mã được phân tích"})]}),x.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[x.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:(null==(n=null==e?void 0:e.bullish_stocks)?void 0:n.length)||0}),x.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Mã tăng giá"})]}),x.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[x.jsx("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:(null==(r=null==e?void 0:e.bearish_stocks)?void 0:r.length)||0}),x.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Mã giảm giá"})]}),x.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[x.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:t}),x.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Tín hiệu mạnh"})]})]})]})},Tie=({activeSection:e,onSectionChange:t})=>{const n=[{id:"market_overview",name:"Tổng quan thị trường",icon:te},{id:"individual_stocks",name:"Phân tích từng mã",icon:je},{id:"strong_signals",name:"Tín hiệu mạnh",icon:Oe}];return x.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(n=>{const r=n.icon;return x.jsxs("button",{onClick:()=>t(n.id),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer "+(e===n.id?"bg-blue-500 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:[x.jsx(r,{className:"h-4 w-4"}),n.name]},n.id)})})},Die=({marketBreadth:e,title:t="Phân tích tâm lý thị trường"})=>{const n=(()=>{if(!e)return null;const{bullish_percentage:t,bearish_percentage:n,neutral_percentage:r}=e;return[{name:"Bullish",value:t,color:"#10b981",icon:Ne},{name:"Bearish",value:n,color:"#ef4444",icon:ke},{name:"Neutral",value:r,color:"#6b7280",icon:ye}].filter(e=>e.value>0)})();if(!n||0===n.length)return x.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400",children:"Không có dữ liệu tâm lý thị trường"});const r=({active:e,payload:t})=>{if(e&&t&&t.length){const e=t[0];return x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg",children:[x.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.name}),x.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.value.toFixed(1),"% (",e.payload.count||0," mã)"]})]})}return null};return x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-6 text-center",children:t}),x.jsx("div",{className:"rounded-lg p-4",children:x.jsx(LL,{width:300,height:250,children:x.jsxs(fY,{children:[x.jsx(bW,{data:n,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:n.map((e,t)=>x.jsx(FL,{fill:e.color},`cell-${t}`))}),x.jsx(wL,{content:x.jsx(r,{})}),x.jsx(ij,{verticalAlign:"bottom",height:36,formatter:(e,t)=>x.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[e," (",t.payload.value.toFixed(1),"%)"]})})]})})})]})},Rie=({volumeAnalysis:e,title:t="Phân tích khối lượng"})=>{const n=(()=>{if(!e)return null;const{increasing:t,decreasing:n,stable:r}=e;return[{name:"Tăng",value:t,color:"#10b981",icon:Ne,description:"Khối lượng tăng"},{name:"Giảm",value:n,color:"#ef4444",icon:ke,description:"Khối lượng giảm"},{name:"Ổn định",value:r,color:"#6b7280",icon:ye,description:"Khối lượng ổn định"}].filter(e=>e.value>0)})();if(!n||0===n.length)return x.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400",children:"Không có dữ liệu phân tích khối lượng"});const r=({active:e,payload:t})=>{if(e&&t&&t.length){const e=t[0],r=n.reduce((e,t)=>e+t.value,0),i=(e.value/r*100).toFixed(1);return x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg",children:[x.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.payload.description}),x.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.value," mã (",i,"%)"]})]})}return null},i=n.reduce((e,t)=>e+t.value,0);return x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-6 text-center",children:t}),x.jsx("div",{className:"dark:bg-gray-800/50 rounded-lg p-4",children:x.jsx(LL,{width:300,height:250,children:x.jsxs(fY,{children:[x.jsx(bW,{data:n,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:n.map((e,t)=>x.jsx(FL,{fill:e.color},`cell-${t}`))}),x.jsx(wL,{content:x.jsx(r,{})}),x.jsx(ij,{verticalAlign:"bottom",height:36,formatter:(e,t)=>{const n=(t.payload.value/i*100).toFixed(1);return x.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[e," (",n,"%)"]})}})]})})})]})},Iie=({signalData:e,title:t="Tần suất tín hiệu theo thời gian"})=>{const n=e&&Array.isArray(e)&&0!==e.length?e.map((e,t)=>({date:e.date||`Ngày ${t+1}`,bullish:e.bullish_signals||0,bearish:e.bearish_signals||0,total:(e.bullish_signals||0)+(e.bearish_signals||0),net_sentiment:(e.bullish_signals||0)-(e.bearish_signals||0)})):[];if(0===n.length)return x.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 p-8",children:"Không có dữ liệu tín hiệu"});const r=({active:e,payload:t,label:n})=>{if(e&&t&&t.length){const e=t.find(e=>"bullish"===e.dataKey),r=t.find(e=>"bearish"===e.dataKey);return x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg",children:[x.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:n}),x.jsxs("div",{className:"space-y-1",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"}),x.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Tín hiệu tăng: ",(null==e?void 0:e.value)||0]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-3 h-3 bg-red-500 rounded"}),x.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Tín hiệu giảm: ",(null==r?void 0:r.value)||0]})]}),x.jsx("div",{className:"pt-1 border-t border-gray-200 dark:border-gray-600",children:x.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:["Tổng: ",((null==e?void 0:e.value)||0)+((null==r?void 0:r.value)||0)," tín hiệu"]})})]})]})}return null},i=({payload:e})=>x.jsx("div",{className:"flex justify-center gap-6 mt-4",children:e.map((e,t)=>x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:e.color}}),x.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"bullish"===e.value?"Tín hiệu tăng":"Tín hiệu giảm"})]},t))});return x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-6 text-center",children:t}),x.jsx("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-4 w-full",children:x.jsx(LL,{width:"100%",height:300,children:x.jsxs(aY,{data:n,margin:{top:20,right:30,left:20,bottom:5},children:[x.jsx(Q$,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),x.jsx(HH,{dataKey:"date",stroke:"#6b7280",fontSize:12,tickLine:!1}),x.jsx(JH,{stroke:"#6b7280",fontSize:12,tickLine:!1,axisLine:!1}),x.jsx(wL,{content:x.jsx(r,{})}),x.jsx(ij,{content:x.jsx(i,{})}),x.jsx(yV,{dataKey:"bullish",fill:"#10b981",radius:[4,4,0,0],name:"Tín hiệu tăng"}),x.jsx(yV,{dataKey:"bearish",fill:"#ef4444",radius:[4,4,0,0],name:"Tín hiệu giảm"})]})})}),x.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 w-full max-w-md",children:[x.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-3 text-center",children:[x.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[x.jsx(Ne,{className:"h-4 w-4 text-green-600"}),x.jsx("span",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:"Tổng tín hiệu tăng"})]}),x.jsx("span",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:n.reduce((e,t)=>e+t.bullish,0)})]}),x.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-3 text-center",children:[x.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[x.jsx(ke,{className:"h-4 w-4 text-red-600"}),x.jsx("span",{className:"text-sm font-medium text-red-700 dark:text-red-300",children:"Tổng tín hiệu giảm"})]}),x.jsx("span",{className:"text-lg font-bold text-red-600 dark:text-red-400",children:n.reduce((e,t)=>e+t.bearish,0)})]})]})]})},zie=({market_overview:e,individual_results:t})=>{var n,r,i,a,s,o,l,c,u,d,h,f;const m=e=>{switch(null==e?void 0:e.toLowerCase()){case"bullish":return"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200";case"bearish":return"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200";default:return"bg-gray-100 dark:bg-gray-900/20 text-gray-800 dark:text-gray-200"}},p=k.useMemo(()=>t?function(e){const t={};return e.forEach(e=>{(e.recent_analyses||[]).forEach(e=>{const n=e.timestamp.split("T")[0];(e.signals||[]).forEach(e=>{"strong"===e.strength&&(t[n]||(t[n]={bullish:0,bearish:0}),"bullish"===e.bias&&(t[n].bullish+=1),"bearish"===e.bias&&(t[n].bearish+=1))})})}),Object.entries(t).map(([e,t])=>({date:e,bullish_signals:t.bullish,bearish_signals:t.bearish})).sort((e,t)=>new Date(e.date)-new Date(t.date)).slice(-20)}(t):[],[t]);return x.jsxs("div",{className:"space-y-6",children:[((null==e?void 0:e.market_breadth)||(null==e?void 0:e.volume_analysis))&&x.jsx(Ae,{className:"p-6",children:x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(null==e?void 0:e.market_breadth)&&x.jsx("div",{className:"flex flex-col items-center",children:x.jsx(Die,{marketBreadth:e.market_breadth,title:"Tâm lý thị trường"})}),(null==e?void 0:e.volume_analysis)&&x.jsx("div",{className:"flex flex-col items-center",children:x.jsx(Rie,{volumeAnalysis:e.volume_analysis,title:"Phân tích khối lượng"})})]})}),p.length>0&&x.jsx(Ae,{className:"p-6",children:x.jsx(Iie,{signalData:p,title:"Tần suất tín hiệu theo thời gian"})}),x.jsxs(Ae,{className:"p-6",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[x.jsx(G,{className:"h-6 w-6 text-blue-500"}),x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Chi tiết tâm lý thị trường"})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{children:[x.jsx("div",{className:"flex items-center gap-2 mb-3",children:x.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${m(null==e?void 0:e.market_sentiment)}`,children:(null==(n=null==e?void 0:e.market_sentiment)?void 0:n.toUpperCase())||"NEUTRAL"})}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tỷ lệ tăng giá:"}),x.jsxs("span",{className:"font-medium text-green-600 dark:text-green-400",children:[null==(i=null==(r=null==e?void 0:e.market_breadth)?void 0:r.bullish_percentage)?void 0:i.toFixed(1),"%"]})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tỷ lệ giảm giá:"}),x.jsxs("span",{className:"font-medium text-red-600 dark:text-red-400",children:[null==(s=null==(a=null==e?void 0:e.market_breadth)?void 0:a.bearish_percentage)?void 0:s.toFixed(1),"%"]})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tỷ lệ trung tính:"}),x.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[null==(l=null==(o=null==e?void 0:e.market_breadth)?void 0:o.neutral_percentage)?void 0:l.toFixed(1),"%"]})]}),(null==(c=null==e?void 0:e.market_breadth)?void 0:c.strong_signals_count)&&x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tín hiệu mạnh:"}),x.jsx("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:e.market_breadth.strong_signals_count})]})]})]}),x.jsxs("div",{children:[x.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-3",children:"Phân tích khối lượng"}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Khối lượng tăng:"}),x.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:(null==(u=null==e?void 0:e.volume_analysis)?void 0:u.increasing)||0})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Khối lượng giảm:"}),x.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:(null==(d=null==e?void 0:e.volume_analysis)?void 0:d.decreasing)||0})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Khối lượng ổn định:"}),x.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:(null==(h=null==e?void 0:e.volume_analysis)?void 0:h.stable)||0})]}),(null==(f=null==e?void 0:e.market_breadth)?void 0:f.average_score)&&x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Điểm trung bình:"}),x.jsxs("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:[(100*e.market_breadth.average_score).toFixed(1),"%"]})]})]})]})]})]}),(null==e?void 0:e.top_opportunities)&&e.top_opportunities.length>0&&x.jsxs(Ae,{className:"p-6",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Cơ hội đầu tư hàng đầu"}),x.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.top_opportunities.slice(0,6).map((e,t)=>x.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 rounded-lg p-4",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:e.symbol}),x.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${m(e.sentiment)}`,children:e.sentiment})]}),x.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.reason})]},t))})]})]})},Lie=({stock:e,variant:t="normal"})=>{var n,r,i;const a=e.latest_analysis,s=(null==a?void 0:a.bullish_score)||0,o=(null==(n=e.recent_analyses)?void 0:n.flatMap(e=>{var t;return(null==(t=e.signals)?void 0:t.map(t=>f(h({},t),{date:e.timestamp,days_ago:e.days_ago})))||[]}))||[],l=e=>{switch(null==e?void 0:e.toLowerCase()){case"bullish":return"text-green-600 dark:text-green-400";case"bearish":return"text-red-600 dark:text-red-400";default:return"text-gray-600 dark:text-gray-400"}},c=e=>{switch(null==e?void 0:e.toLowerCase()){case"bullish":return"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200";case"bearish":return"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200";default:return"bg-gray-100 dark:bg-gray-900/20 text-gray-800 dark:text-gray-200"}},u=e=>{switch(null==e?void 0:e.toLowerCase()){case"strong":return"text-red-600 dark:text-red-400";case"medium":return"text-yellow-600 dark:text-yellow-400";case"weak":return"text-green-600 dark:text-green-400";default:return"text-gray-600 dark:text-gray-400"}},d=e=>{switch(null==e?void 0:e.toLowerCase()){case"bullish":return x.jsx(Ne,{className:"h-4 w-4"});case"bearish":return x.jsx(ke,{className:"h-4 w-4"});default:return x.jsx(G,{className:"h-4 w-4"})}},m="strong"===t?o.filter(e=>"strong"===e.strength):o,p=e=>e?new Date(e).toLocaleDateString("vi-VN"):"Unknown";return x.jsxs(Ae,{className:"p-4",children:[x.jsxs("div",{className:"flex items-start justify-between mb-3",children:[x.jsxs("div",{children:[x.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:e.symbol}),x.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:(null==a?void 0:a.market_state)||"Unknown"})]}),x.jsxs("div",{className:"text-right",children:[x.jsx("div",{className:"text-lg font-bold "+(s>20?"text-green-600 dark:text-green-400":s<-20?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"),children:s.toFixed(1)}),x.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"VSA Score"})]})]}),x.jsxs("div",{className:"space-y-2 mb-3",children:[x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Khối lượng:"}),x.jsxs("span",{className:"font-medium",children:[null==(r=null==a?void 0:a.volume_significance)?void 0:r.toFixed(1),"%"]})]}),x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Độ tin cậy:"}),x.jsxs("span",{className:"font-medium",children:[null==(i=null==a?void 0:a.pattern_reliability)?void 0:i.toFixed(1),"%"]})]}),x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tín hiệu:"}),x.jsx("span",{className:"font-medium",children:o.length})]})]}),m.length>0?x.jsxs("div",{className:"space-y-2",children:[m.slice(0,"strong"===t?m.length:5).map((e,t)=>x.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded p-2",children:[x.jsxs("div",{className:"flex items-center justify-between mb-1",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:l(e.bias),children:d(e.bias)}),x.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:e.signal_name})]}),x.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${c(e.bias)}`,children:e.bias})]}),x.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[x.jsx("span",{children:p(e.date)}),x.jsx("span",{className:u(e.strength),children:e.strength})]}),e.action_suggestion&&x.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:e.action_suggestion})]},t)),"normal"===t&&o.length>5&&x.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:["+",o.length-5," tín hiệu khác"]})]}):x.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Không có tín hiệu VSA"})]})},Fie=({individual_results:e,timeframe:t="1D"})=>{const[n,r]=k.useState(""),[i,a]=k.useState(""),[s,o]=k.useState(""),[l,c]=k.useState(""),[u,d]=k.useState(""),[m,p]=k.useState("bullish_score"),[g,v]=k.useState("desc"),[y,b]=k.useState(new Set),{data:w}=gf("RRG_ANALYSIS",t),{industries:_,symbols:j}=w||{industries:[],symbols:[]},S=e=>{switch(null==e?void 0:e.toLowerCase()){case"bullish":return"text-green-600 dark:text-green-400";case"bearish":return"text-red-600 dark:text-red-400";default:return"text-gray-600 dark:text-gray-400"}},C=e=>{switch(null==e?void 0:e.toLowerCase()){case"bullish":return"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200";case"bearish":return"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200";default:return"bg-gray-100 dark:bg-gray-900/20 text-gray-800 dark:text-gray-200"}},E=e=>{switch(null==e?void 0:e.toLowerCase()){case"strong":return"text-red-600 dark:text-red-400";case"medium":return"text-yellow-600 dark:text-yellow-400";case"weak":return"text-green-600 dark:text-green-400";default:return"text-gray-600 dark:text-gray-400"}},P=e=>{switch(null==e?void 0:e.toLowerCase()){case"bullish":return x.jsx(Ne,{className:"h-4 w-4"});case"bearish":return x.jsx(ke,{className:"h-4 w-4"});default:return x.jsx(G,{className:"h-4 w-4"})}},M=e=>e?new Date(e).toLocaleDateString("vi-VN"):"Unknown",O=k.useMemo(()=>[...new Set(e.map(e=>{var t;return null==(t=e.latest_analysis)?void 0:t.market_state}).filter(Boolean))].sort(),[e]),A=(e,t)=>{var n,r;const i=e.latest_analysis;switch(t){case"symbol":return e.symbol;case"bullish_score":return(null==i?void 0:i.bullish_score)||0;case"volume_significance":return(null==i?void 0:i.volume_significance)||0;case"pattern_reliability":return(null==i?void 0:i.pattern_reliability)||0;case"signal_count":return(null==(n=e.recent_analyses)?void 0:n.reduce((e,t)=>{var n;return e+((null==(n=t.signals)?void 0:n.length)||0)},0))||0;case"strong_signals":return(null==(r=e.recent_analyses)?void 0:r.reduce((e,t)=>{var n;return e+((null==(n=t.signals)?void 0:n.filter(e=>"strong"===e.strength).length)||0)},0))||0;default:return 0}},T=k.useMemo(()=>{let t=e.filter(e=>{var t,r;const a=e.latest_analysis,o=(null==(t=e.recent_analyses)?void 0:t.flatMap(e=>{var t;return(null==(t=e.signals)?void 0:t.map(t=>f(h({},t),{date:e.timestamp,days_ago:e.days_ago})))||[]}))||[],c=""===n||e.symbol.toLowerCase().includes(n.toLowerCase()),d=""===i||(null==a?void 0:a.market_state)===i,m=""===s||o.some(e=>e.bias===s),p=""===l||o.some(e=>e.strength===l),g=j.find(t=>t.symbol===e.symbol),v=null==(r=null==g?void 0:g.industries)?void 0:r[0],y=""===u||v&&v.id===u;return c&&d&&m&&p&&y});return t.sort((e,t)=>{const n=A(e,m),r=A(t,m);return"asc"===g?n>r?1:-1:n<r?1:-1}),t},[e,n,i,s,l,u,m,g,j]),D=e=>{m===e?v("asc"===g?"desc":"asc"):(p(e),v("desc"))},R=({field:e})=>m!==e?x.jsx(se,{className:"h-4 w-4 text-gray-400"}):"asc"===g?x.jsx(oe,{className:"h-4 w-4 text-blue-500"}):x.jsx(se,{className:"h-4 w-4 text-blue-500"});return x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Phân tích từng mã chứng khoán"}),x.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[T.length," / ",e.length," mã"]})]}),x.jsx(Ae,{className:"p-4",children:x.jsxs("div",{className:"grid gap-4 md:grid-cols-7",children:[x.jsxs("div",{className:"md:col-span-2",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tìm kiếm"}),x.jsxs("div",{className:"relative",children:[x.jsx(we,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),x.jsx("input",{type:"text",placeholder:"Tìm kiếm theo mã...",value:n,onChange:e=>r(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Trạng thái thị trường"}),x.jsxs("select",{value:i,onChange:e=>a(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm",children:[x.jsx("option",{value:"",children:"Tất cả trạng thái"}),O.map(e=>x.jsx("option",{value:e,children:e},e))]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Ngành"}),x.jsxs("select",{value:u,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm",children:[x.jsx("option",{value:"",children:"Tất cả ngành"}),_.map(e=>x.jsx("option",{value:e.id,children:e.name},e.id))]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tâm lý"}),x.jsxs("select",{value:s,onChange:e=>o(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm",children:[x.jsx("option",{value:"",children:"Tất cả tâm lý"}),["bullish","bearish","neutral"].map(e=>x.jsx("option",{value:e,children:e},e))]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Độ mạnh"}),x.jsxs("select",{value:l,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm",children:[x.jsx("option",{value:"",children:"Tất cả độ mạnh"}),["strong","medium","weak"].map(e=>x.jsx("option",{value:e,children:e},e))]})]}),x.jsx("div",{className:"flex items-end",children:x.jsx("button",{onClick:()=>{a(""),o(""),c(""),d(""),r("")},className:"w-full px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg text-sm font-medium transition-colors",children:"Xóa bộ lọc"})})]})}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"min-w-full bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:[x.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Mã"}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Ngành"}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>D("bullish_score"),children:x.jsxs("div",{className:"flex items-center gap-1",children:["VSA Score",x.jsx(R,{field:"bullish_score"})]})}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>D("volume_significance"),children:x.jsxs("div",{className:"flex items-center gap-1",children:["Khối lượng",x.jsx(R,{field:"volume_significance"})]})}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>D("pattern_reliability"),children:x.jsxs("div",{className:"flex items-center gap-1",children:["Độ tin cậy",x.jsx(R,{field:"pattern_reliability"})]})}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>D("signal_count"),children:x.jsxs("div",{className:"flex items-center gap-1",children:["Tín hiệu",x.jsx(R,{field:"signal_count"})]})}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>D("strong_signals"),children:x.jsxs("div",{className:"flex items-center gap-1",children:["Tín hiệu mạnh",x.jsx(R,{field:"strong_signals"})]})}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Trạng thái"})]})}),x.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:T.map((e,t)=>{var n,r,i;const a=e.latest_analysis,s=(null==a?void 0:a.bullish_score)||0,o=y.has(e.symbol),l=(null==(n=e.recent_analyses)?void 0:n.flatMap(e=>{var t;return(null==(t=e.signals)?void 0:t.map(t=>f(h({},t),{date:e.timestamp,days_ago:e.days_ago})))||[]}))||[],c=l.length,u=l.filter(e=>"strong"===e.strength).length;return x.jsxs(N.Fragment,{children:[x.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",onClick:()=>(e=>{const t=new Set(y);t.has(e)?t.delete(e):t.add(e),b(t)})(e.symbol),children:[x.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:x.jsxs("div",{children:[x.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:e.symbol}),x.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["#",t+1]})]})}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:(()=>{var t,n;const r=j.find(t=>t.symbol===e.symbol);return(null==(n=null==(t=null==r?void 0:r.industries)?void 0:t[0])?void 0:n.name)||"Unknown"})()}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:x.jsx("span",{className:"text-sm font-medium "+(s>20?"text-green-600 dark:text-green-400":s<-20?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"),children:s.toFixed(1)})}),x.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:[null==(r=null==a?void 0:a.volume_significance)?void 0:r.toFixed(1),"%"]}),x.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:[null==(i=null==a?void 0:a.pattern_reliability)?void 0:i.toFixed(1),"%"]}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:c}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:u}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:x.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+("accumulation"===(null==a?void 0:a.market_state)?"bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-200":"distribution"===(null==a?void 0:a.market_state)?"bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-200":"bg-gray-100 dark:bg-gray-900/50 text-gray-800 dark:text-gray-200"),children:(null==a?void 0:a.market_state)||"Unknown"})})]}),o&&x.jsx("tr",{children:x.jsx("td",{colSpan:"8",className:"px-4 py-3 bg-gray-50 dark:bg-gray-800",children:x.jsxs("div",{className:"space-y-3",children:[x.jsxs("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:["Tín hiệu VSA cho ",e.symbol]}),l.length>0?x.jsx("div",{className:"grid gap-2 md:grid-cols-2 lg:grid-cols-3",children:l.map((e,t)=>x.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded p-3 border border-gray-200 dark:border-gray-600",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:S(e.bias),children:P(e.bias)}),x.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:e.signal_name})]}),x.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${C(e.bias)}`,children:e.bias})]}),x.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mb-1",children:[x.jsx("span",{children:M(e.date)}),x.jsx("span",{className:E(e.strength),children:e.strength})]}),e.action_suggestion&&x.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.action_suggestion})]},t))}):x.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Không có tín hiệu VSA"})]})})})]},t)})})]})})]})},Bie=()=>{const[e,t]=k.useState("1D"),{data:n,loading:r,error:i}=gf("vsa_market_analysis",e),[a,s]=k.useState("market_overview");if(r)return x.jsxs("div",{className:"flex items-center justify-center py-12",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),x.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Đang tải dữ liệu phân tích VSA..."})]});if(i)return x.jsxs("div",{className:"text-center py-12",children:[x.jsx(Se,{className:"mx-auto h-12 w-12 text-red-500"}),x.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100",children:"Lỗi tải dữ liệu"}),x.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:i})]});if(!n)return x.jsx("div",{className:"text-center py-12",children:x.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Không có dữ liệu phân tích VSA"})});const{market_overview:o,individual_results:l}=n,c=(null==l?void 0:l.filter(e=>{var t,n;return null==(n=null==(t=e.latest_analysis)?void 0:t.signals)?void 0:n.some(e=>"strong"===e.strength)}))||[];return x.jsxs("div",{className:"space-y-6",children:[x.jsx(Aie,{market_overview:o,strongSignalsCount:c.length}),x.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4 flex items-center space-x-4",children:[x.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Khung thời gian:"}),x.jsx("button",{className:"cursor-pointer px-4 py-1 rounded font-medium text-sm border "+("1D"===e?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600"),onClick:()=>t("1D"),children:"Hàng ngày (1D)"}),x.jsx("button",{className:"cursor-pointer px-4 py-1 rounded font-medium text-sm border "+("1W"===e?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600"),onClick:()=>t("1W"),children:"Hàng tuần (1W)"})]}),x.jsx(Tie,{activeSection:a,onSectionChange:s}),"market_overview"===a&&x.jsx(zie,{market_overview:o,individual_results:l}),"individual_stocks"===a&&x.jsx(Fie,{individual_results:l,timeframe:e}),"strong_signals"===a&&x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Tín hiệu VSA mạnh"}),x.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[c.length," tín hiệu mạnh"]})]}),x.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:c.slice(0,12).map((e,t)=>x.jsx(Lie,{stock:e,variant:"strong"},t))})]})]})},Wie=()=>{const[e,t]=k.useState("1D"),[n,r]=k.useState("all"),[i,a]=k.useState("all"),[s,o]=k.useState("confidence"),{data:l,loading:c,error:u}=gf("VCP_ANALYSIS",e),d=k.useMemo(()=>{if(!l)return null;let e=[];Array.isArray(l)?e=l:l.signals?e=l.signals:"object"==typeof l&&null!==l&&(e=Object.values(l));const t=e.length,n=e.filter(e=>e.days_since_vcp<=7).length,r=e.filter(e=>{const t=Number(e.last_vcp_confidence);return!isNaN(t)&&t>=0&&t<=1});return{totalSignals:t,recentSignals:n,highConfidenceSignals:r.filter(e=>Number(e.last_vcp_confidence)>=.7).length,averageConfidence:r.length>0?r.reduce((e,t)=>e+Number(t.last_vcp_confidence),0)/r.length:0}},[l]),m=k.useMemo(()=>{if(!l)return[];let e=[];Array.isArray(l)?e=l:l.signals?e=l.signals:"object"==typeof l&&null!==l&&(e=Object.values(l)),e=e.map(e=>{const t=Number(e.last_vcp_confidence);return f(h({},e),{confidenceLevel:t>=.7?"high":t>=.5?"medium":"low",recency:e.days_since_vcp<=3?"recent":e.days_since_vcp<=7?"moderate":"old"})});let t=e;return"all"!==n&&(t=t.filter(e=>e.confidenceLevel===n)),"all"!==i&&(t=t.filter(e=>e.recency===i)),t.sort((e,t)=>{switch(s){case"confidence":return t.last_vcp_confidence-e.last_vcp_confidence;case"recency":return e.days_since_vcp-t.days_since_vcp;case"price":return t.last_close-e.last_close;case"symbol":return e.symbol.localeCompare(t.symbol);default:return 0}}),t},[l,n,i,s]),p=e=>e>=.7?"bg-green-100 text-green-800":e>=.5?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",g=e=>e<=3?"bg-green-100 text-green-800":e<=7?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800";return c?x.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:x.jsxs("div",{className:"flex items-center justify-center py-12",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),x.jsx("span",{className:"ml-3 text-gray-600",children:"Đang tải dữ liệu VCP..."})]})}):u?x.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:x.jsxs("div",{className:"text-center py-12",children:[x.jsx(Se,{className:"mx-auto h-12 w-12 text-red-500"}),x.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Lỗi tải dữ liệu"}),x.jsx("p",{className:"mt-1 text-sm text-gray-500",children:(null==u?void 0:u.message)||(null==u?void 0:u.toString())||"Lỗi không xác định"})]})}):l?x.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[x.jsxs("div",{className:"mb-6",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Phân tích Mẫu VCP (Volume, Close, Price)"}),x.jsx("p",{className:"text-gray-600 text-sm",children:"Tín hiệu mẫu VCP phát hiện các mẫu tích lũy và phân phối dựa trên mối quan hệ giữa khối lượng và giá."})]}),x.jsxs("div",{className:"bg-gray-50 rounded-lg border p-4 flex items-center space-x-4 mb-6",children:[x.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Khung thời gian:"}),x.jsx("button",{className:"cursor-pointer px-4 py-1 rounded font-medium text-sm border "+("1D"===e?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600"),onClick:()=>t("1D"),children:"Hàng ngày (1D)"}),x.jsx("button",{className:"cursor-pointer px-4 py-1 rounded font-medium text-sm border "+("1W"===e?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600"),onClick:()=>t("1W"),children:"Hàng tuần (1W)"})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[x.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[x.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(null==d?void 0:d.totalSignals)||0}),x.jsx("div",{className:"text-sm text-gray-600",children:"Tổng tín hiệu"})]}),x.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[x.jsx("div",{className:"text-2xl font-bold text-green-600",children:(null==d?void 0:d.recentSignals)||0}),x.jsx("div",{className:"text-sm text-green-600",children:"Tín hiệu gần đây (≤7 ngày)"})]}),x.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[x.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(null==d?void 0:d.highConfidenceSignals)||0}),x.jsx("div",{className:"text-sm text-blue-600",children:"Tín hiệu độ tin cậy cao"})]}),x.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[x.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[(null==d?void 0:d.averageConfidence)?(100*d.averageConfidence).toFixed(1):0,"%"]}),x.jsx("div",{className:"text-sm text-purple-600",children:"Độ tin cậy trung bình"})]})]}),x.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Độ tin cậy:"}),x.jsxs("select",{value:n,onChange:e=>r(e.target.value),className:"border rounded px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[x.jsx("option",{value:"all",children:"Tất cả"}),x.jsx("option",{value:"high",children:"Cao (≥70%)"}),x.jsx("option",{value:"medium",children:"Trung bình (≥50%)"}),x.jsx("option",{value:"low",children:"Thấp (<50%)"})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Thời gian:"}),x.jsxs("select",{value:i,onChange:e=>a(e.target.value),className:"border rounded px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[x.jsx("option",{value:"all",children:"Tất cả"}),x.jsx("option",{value:"recent",children:"Gần đây (≤3 ngày)"}),x.jsx("option",{value:"moderate",children:"Vừa phải (≤7 ngày)"}),x.jsx("option",{value:"old",children:"Cũ (>7 ngày)"})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Sắp xếp theo:"}),x.jsxs("select",{value:s,onChange:e=>o(e.target.value),className:"border rounded px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[x.jsx("option",{value:"confidence",children:"Độ tin cậy"}),x.jsx("option",{value:"recency",children:"Thời gian"}),x.jsx("option",{value:"price",children:"Giá"}),x.jsx("option",{value:"symbol",children:"Mã"})]})]})]}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[x.jsx("thead",{className:"bg-gray-50",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mã"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Giá đóng cửa"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Độ tin cậy"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngày trước"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trạng thái"})]})}),x.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:0===m.length?x.jsx("tr",{children:x.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-500",children:"Không có tín hiệu VCP nào phù hợp với bộ lọc hiện tại"})}):m.map((e,t)=>{var n,r,i;return x.jsxs("tr",{className:"hover:bg-gray-50",children:[x.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.symbol})}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x.jsx("div",{className:"text-sm text-gray-900",children:(null==(n=e.last_close)?void 0:n.toLocaleString("vi-VN"))||"N/A"})}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("span",{className:"text-sm font-medium "+(i=e.last_vcp_confidence,i>=.7?"text-green-600":i>=.5?"text-yellow-600":"text-red-600"),children:[(100*e.last_vcp_confidence).toFixed(1),"%"]}),x.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${p(e.last_vcp_confidence)}`,children:"high"===e.confidenceLevel?"Cao":"medium"===e.confidenceLevel?"TB":"Thấp"})]})}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("span",{className:"text-sm "+(r=e.days_since_vcp,r<=3?"text-green-600":r<=7?"text-yellow-600":"text-red-600"),children:[e.days_since_vcp," ngày"]}),x.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${g(e.days_since_vcp)}`,children:"recent"===e.recency?"Gần":"moderate"===e.recency?"TB":"Cũ"})]})}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"VCP Phát hiện"})})]},t)})})]})}),x.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[x.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Chú thích:"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-xs text-gray-600",children:[x.jsxs("div",{children:[x.jsx("p",{children:x.jsx("strong",{children:"Độ tin cậy:"})}),x.jsxs("ul",{className:"space-y-1 mt-1",children:[x.jsxs("li",{children:["• ",x.jsx("span",{className:"text-green-600",children:"Cao (≥70%):"})," Tín hiệu mạnh, khả năng cao"]}),x.jsxs("li",{children:["• ",x.jsx("span",{className:"text-yellow-600",children:"Trung bình (≥50%):"})," Tín hiệu vừa phải"]}),x.jsxs("li",{children:["• ",x.jsx("span",{className:"text-red-600",children:"Thấp (<50%):"})," Tín hiệu yếu, cần thận trọng"]})]})]}),x.jsxs("div",{children:[x.jsx("p",{children:x.jsx("strong",{children:"Thời gian:"})}),x.jsxs("ul",{className:"space-y-1 mt-1",children:[x.jsxs("li",{children:["• ",x.jsx("span",{className:"text-green-600",children:"Gần đây (≤3 ngày):"})," Tín hiệu mới nhất"]}),x.jsxs("li",{children:["• ",x.jsx("span",{className:"text-yellow-600",children:"Vừa phải (≤7 ngày):"})," Tín hiệu còn hiệu lực"]}),x.jsxs("li",{children:["• ",x.jsx("span",{className:"text-red-600",children:"Cũ (>7 ngày):"})," Tín hiệu có thể đã lỗi thời"]})]})]})]})]})]}):x.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:x.jsxs("div",{className:"text-center py-12",children:[x.jsx("div",{className:"text-gray-600 text-lg font-medium",children:"Không có dữ liệu VCP"}),x.jsx("div",{className:"text-gray-500 mt-2",children:"Vui lòng thử lại sau"})]})})},Vie=({title:e,icon:t,children:n,gradientColors:r,className:i=""})=>{const a=(null==r?void 0:r.from)||"from-gray-50",s=(null==r?void 0:r.to)||"to-gray-100",o=(null==r?void 0:r.darkFrom)||"dark:from-gray-800/50",l=(null==r?void 0:r.darkTo)||"dark:to-gray-900/50";return x.jsxs("div",{className:`p-4 h-full rounded-lg bg-gradient-to-r ${a} ${s} ${o} ${l} ${i}`,children:[e&&x.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t,x.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:e})]}),x.jsx("div",{className:"space-y-2",children:n})]})},$ie=({tabName:e,activeTab:t,setActiveTab:n,children:r})=>x.jsx("button",{onClick:()=>n(e),className:"cursor-pointer px-3 py-2 font-medium text-sm transition-colors focus:outline-none "+(t===e?"border-b-2 border-blue-600 text-blue-600 dark:text-blue-500":"border-b-2 border-transparent text-gray-500 hover:text-gray-800 dark:hover:text-gray-200"),children:r}),Kie=({label:e,value:t,children:n,className:r=""})=>x.jsxs("div",{className:`flex items-start justify-between text-sm ${r}`,children:[x.jsxs("span",{className:"font-semibold text-gray-500 dark:text-gray-400 whitespace-nowrap mr-2",children:[e,":"]}),t&&x.jsx("span",{className:"text-gray-800 dark:text-gray-200 text-right",children:t}),n&&x.jsx("div",{className:"font-semibold text-right",children:n})]}),Hie=()=>{var e,t,n,r,i,a,s,o,l,c,u,d,h,f,m,p,g,v,y,b,w;const[_,j]=k.useState("overview"),[N,S]=k.useState(!1),[C,E]=k.useState(new Set),[P,M]=k.useState(""),[O,A]=k.useState("line"),{data:T,loading:D,error:R}=gf("analyze_breadth_5",null,[],{refreshInterval:3e5}),I=k.useMemo(()=>[{key:"EMA 5",color:"#3B82F6",dataKey:"ema_5"},{key:"EMA 10",color:"#10B981",dataKey:"ema_10"},{key:"EMA 20",color:"#F59E0B",dataKey:"ema_20"},{key:"EMA 50",color:"#EF4444",dataKey:"ema_50"},{key:"EMA 200",color:"#8B5CF6",dataKey:"ema_200"}],[]),{chartData:z,latestData:L}=k.useMemo(()=>{if(!(null==T?void 0:T.breadth_data))return{chartData:[],latestData:null};const e=Object.keys(T.breadth_data).sort((e,t)=>new Date(e)-new Date(t)),t=e[e.length-1];return{chartData:e.map(e=>{const t=T.breadth_data[e],n={date:new Date(e).getTime()};return I.forEach(e=>{var r;n[e.key]=null==(r=t[e.dataKey])?void 0:r.above_percentage}),n}),latestData:T.breadth_data[t]}},[T,I]),{analysis_summary:F,vietnamese_insights:B}=T||{};if(k.useEffect(()=>{const e=()=>{var e;if(!(null==(e=null==B?void 0:B.metadata)?void 0:e.analysis_timestamp))return;const t=new Date(B.metadata.analysis_timestamp),n=new Date,r=Math.round((n-t)/1e3),i=Math.round(r/60),a=Math.round(i/60);M(r<60?"vài giây trước":i<60?`${i} phút trước`:a<24?`${a} giờ trước`:t.toLocaleDateString("vi-VN"))};e();const t=setInterval(e,6e4);return()=>clearInterval(t)},[null==(e=null==B?void 0:B.metadata)?void 0:e.analysis_timestamp]),D)return x.jsxs("div",{className:"p-6 text-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),x.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Đang tải dữ liệu..."})]});if(R)return x.jsxs("div",{className:"p-6 text-center text-red-600 dark:text-red-400",children:["Lỗi: ",R]});if(!T||!L)return x.jsx("div",{className:"p-6 text-center text-gray-600 dark:text-gray-400",children:"Không có dữ liệu."});const W=({active:e,payload:t,label:n})=>e&&(null==t?void 0:t.length)?x.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm p-3 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg",children:[x.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:new Date(n).toLocaleDateString("vi-VN")}),x.jsx("div",{className:"space-y-1",children:t.map(e=>{var t;return x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:e.color}}),x.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.name,": ",null==(t=e.value)?void 0:t.toFixed(1),"%"]})]},e.name)})})]}):null,V=({payload:e})=>x.jsx("div",{className:"flex flex-wrap justify-center gap-x-4 gap-y-2 mt-4",children:e.map(e=>{const t=C.has(e.value);return x.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-80",onClick:()=>(e=>E(t=>{const n=new Set(t);return n.has(e.value)?n.delete(e.value):n.add(e.value),n}))(e),children:[x.jsx("div",{className:"w-4 h-4 rounded "+(t?"opacity-40":""),style:{backgroundColor:e.color}}),x.jsx("span",{className:"text-sm "+(t?"text-gray-400 line-through":"text-gray-700 dark:text-gray-300"),children:e.value})]},e.value)})});return x.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-lg p-4 sm:p-6",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-between mb-4 gap-2",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Phân tích Độ rộng Thị trường"}),x.jsx("button",{onClick:()=>S(!N),className:"cursor-pointer text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:x.jsx(ue,{className:"h-4 w-4"})})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("button",{onClick:()=>A("line"===O?"area":"line"),className:"cursor-pointer p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",title:"line"===O?"Chuyển sang biểu đồ vùng":"Chuyển sang biểu đồ đường",children:x.jsx(te,{className:"h-4 w-4"})}),C.size>0&&x.jsxs("span",{className:"text-xs text-gray-500",children:[C.size," đường bị ẩn"]}),x.jsx("button",{onClick:()=>E(new Set),className:"cursor-pointer px-3 py-1 text-xs bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300 rounded hover:bg-blue-200 dark:hover:bg-blue-900/30 transition-colors",title:"Hiển thị tất cả đường",children:"Hiển thị tất cả"})]})]}),N&&x.jsx(Vie,{title:"Hướng dẫn",icon:x.jsx(ue,{className:"h-5 w-5 text-blue-600"}),gradientColors:{from:"from-blue-50",to:"to-indigo-50"},className:"mb-4",children:x.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:'Chỉ báo này đo lường "sức khỏe" bên trong của thị trường bằng cách xem xét tỷ lệ cổ phiếu có xu hướng tăng so với giảm, cung cấp các tín hiệu sớm về sự thay đổi của VN-Index.'})}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[x.jsxs(Vie,{title:"Tín hiệu",icon:x.jsx(Oe,{size:16,className:"text-yellow-500"}),children:[x.jsx(Kie,{label:"Hướng",value:null==(n=null==(t=B.signal_coordination)?void 0:t.overall_signal)?void 0:n.direction}),x.jsx(Kie,{label:"Cường độ",value:null==(i=null==(r=B.signal_coordination)?void 0:r.overall_signal)?void 0:i.strength})]}),x.jsxs(Vie,{title:"Chỉ số chính",icon:x.jsx(G,{size:16,className:"text-green-500"}),children:[x.jsx(Kie,{label:"Sức mạnh",value:`${F.key_metrics.breadth_strength.toFixed(1)}%`}),x.jsx(Kie,{label:"Tham gia",value:`${F.key_metrics.participation_level.toFixed(1)}%`})]}),x.jsxs(Vie,{title:"Rủi ro",icon:x.jsx(le,{size:16,className:"text-red-500"}),children:[x.jsx(Kie,{label:"Mức độ",value:null==(s=null==(a=B.market_analysis)?void 0:a.risk_assessment)?void 0:s.risk_level}),x.jsx(Kie,{label:"Hành động",value:null==(l=null==(o=B.market_analysis)?void 0:o.trading_recommendation)?void 0:l.action})]}),x.jsxs(Vie,{title:"Triển vọng",icon:x.jsx(pe,{size:16,className:"text-purple-500"}),children:[x.jsx(Kie,{label:"Ngắn hạn",value:null==(d=null==(u=null==(c=B.market_analysis)?void 0:c.market_outlook)?void 0:u.short_term)?void 0:d.outlook}),x.jsx(Kie,{label:"Trung hạn",value:null==(m=null==(f=null==(h=B.market_analysis)?void 0:h.market_outlook)?void 0:f.medium_term)?void 0:m.outlook})]})]}),x.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-4 mb-6",children:[x.jsx(LL,{width:"100%",height:400,children:"line"===O?x.jsxs(rY,{data:z,margin:{top:5,right:5,left:-20,bottom:5},children:[x.jsx(Q$,{strokeDasharray:"3 3",stroke:"rgba(156, 163, 175, 0.3)"}),x.jsx(HH,{dataKey:"date",stroke:"#6b7280",fontSize:12,tickLine:!1,tickFormatter:e=>new Date(e).toLocaleDateString("vi-VN",{month:"short",day:"numeric"})}),x.jsx(JH,{stroke:"#6b7280",fontSize:12,tickLine:!1,axisLine:!1,domain:[0,100],tickFormatter:e=>`${e}%`}),x.jsx(wL,{content:x.jsx(W,{})}),x.jsx(l$,{y:50,stroke:"#9CA3AF",strokeDasharray:"4 4",strokeWidth:1}),I.map(e=>!C.has(e.key)&&x.jsx(kK,{type:"monotone",dataKey:e.key,stroke:e.color,strokeWidth:2,dot:!1,activeDot:{r:4}},e.key))]}):x.jsxs(pY,{data:z,margin:{top:5,right:5,left:-20,bottom:5},children:[x.jsx(Q$,{strokeDasharray:"3 3",stroke:"rgba(156, 163, 175, 0.3)"}),x.jsx(HH,{dataKey:"date",stroke:"#6b7280",fontSize:12,tickLine:!1,tickFormatter:e=>new Date(e).toLocaleDateString("vi-VN",{month:"short",day:"numeric"})}),x.jsx(JH,{stroke:"#6b7280",fontSize:12,tickLine:!1,axisLine:!1,domain:[0,100],tickFormatter:e=>`${e}%`}),x.jsx(wL,{content:x.jsx(W,{})}),x.jsx(l$,{y:50,stroke:"#9CA3AF",strokeDasharray:"4 4",strokeWidth:1}),I.map(e=>!C.has(e.key)&&x.jsx(ZK,{type:"monotone",dataKey:e.key,stroke:e.color,fill:e.color,fillOpacity:.3,strokeWidth:2},e.key))]})}),x.jsx(V,{payload:I.map(e=>({value:e.key,color:e.color}))})]}),x.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 mb-4",children:x.jsxs("nav",{className:"flex space-x-2","aria-label":"Tabs",children:[x.jsx($ie,{tabName:"overview",activeTab:_,setActiveTab:j,children:"Tổng quan"}),x.jsx($ie,{tabName:"details",activeTab:_,setActiveTab:j,children:"Tín hiệu Chi tiết"}),x.jsx($ie,{tabName:"risk",activeTab:_,setActiveTab:j,children:"Rủi ro & Khuyến nghị"})]})}),x.jsxs("div",{className:"mt-4",children:["overview"===_&&B&&x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[x.jsx(Vie,{title:"Diễn giải & Thông tin chính",icon:x.jsx(pe,{className:"h-5 w-5 text-teal-600"}),children:null==(g=null==(p=B.market_analysis)?void 0:p.key_insights)?void 0:g.map((e,t)=>x.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-700 dark:text-gray-300",children:[x.jsx("span",{className:"mt-1",children:"💡"}),x.jsx("span",{children:e})]},t))}),x.jsxs(Vie,{title:"Trạng thái Thị trường",icon:x.jsx(be,{className:"h-5 w-5 text-blue-600"}),children:[x.jsx(Kie,{label:"Trạng thái",value:F.current_market_state.regime}),x.jsx(Kie,{label:"Sức mạnh",value:F.current_market_state.strength}),x.jsx(Kie,{label:"Xu hướng",value:F.current_market_state.trend_direction}),x.jsx(Kie,{label:"Độ tin cậy",value:`${(100*F.current_market_state.confidence).toFixed(0)}%`})]}),x.jsxs(Vie,{title:"Nhất quán Xu hướng",icon:x.jsx(Ne,{className:"h-5 w-5 text-pink-600"}),children:[x.jsx(Kie,{label:"Mức độ",value:F.key_metrics.trend_consistency}),x.jsx(Kie,{label:"Tín hiệu hỗ trợ",value:B.market_analysis.market_regime.supporting_signals}),x.jsx("p",{className:"text-xs text-gray-500 pt-2",children:B.market_analysis.market_regime.description})]})]}),"details"===_&&B&&x.jsxs("div",{className:"space-y-6",children:[x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:null==(y=null==(v=B.signal_coordination)?void 0:v.component_signals)?void 0:y.map((e,t)=>x.jsxs(Vie,{title:e.name,icon:x.jsx(te,{className:"h-5 w-5 text-blue-600"}),children:[x.jsx(Kie,{label:"Hướng",value:e.direction}),x.jsx(Kie,{label:"Cường độ",value:e.strength}),x.jsx(Kie,{label:"Giá trị",value:null!=e.value?e.value.toFixed(2):"N/A"}),x.jsx("p",{className:"text-xs text-gray-500 pt-2",children:e.description})]},t))}),(null==(w=null==(b=B.signal_coordination)?void 0:b.conflicts_detected)?void 0:w.length)>0&&x.jsx(Vie,{title:"Xung đột tín hiệu",icon:x.jsx(le,{className:"h-5 w-5 text-orange-500"}),children:B.signal_coordination.conflicts_detected.map((e,t)=>x.jsxs("div",{className:"text-sm text-orange-700 p-2 rounded",children:["⚠️ ",e]},t))})]}),"risk"===_&&B&&x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs(Vie,{title:"Phân tích Rủi ro",icon:x.jsx(le,{className:"h-5 w-5 text-red-600"}),children:[x.jsx(Kie,{label:"Mức rủi ro",value:B.market_analysis.risk_assessment.risk_level}),x.jsx(Kie,{label:"Đồng thuận",value:`${(100*B.market_analysis.risk_assessment.consensus_score).toFixed(0)}%`}),x.jsx("div",{className:"pt-2 space-y-2",children:B.market_analysis.risk_assessment.risk_factors.map((e,t)=>x.jsx("div",{className:"text-sm text-red-700 dark:text-red-300 bg-red-50 dark:bg-red-900/20 p-2 rounded",children:e},t))})]}),x.jsxs(Vie,{title:"Khuyến nghị Giao dịch",icon:x.jsx(je,{className:"h-5 w-5 text-purple-600"}),children:[x.jsx(Kie,{label:"Hành động",value:B.market_analysis.trading_recommendation.action}),x.jsx(Kie,{label:"Cường độ Tín hiệu",value:B.market_analysis.trading_recommendation.signal_strength}),x.jsx(Kie,{label:"Độ tin cậy",value:`${(100*B.market_analysis.trading_recommendation.confidence).toFixed(0)}%`}),x.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 pt-2",children:B.market_analysis.trading_recommendation.reasoning})]})]})]})]})},Uie=({title:e,icon:t,children:n,gradientColors:r,className:i=""})=>{const a=(null==r?void 0:r.from)||"from-gray-50",s=(null==r?void 0:r.to)||"to-gray-100",o=(null==r?void 0:r.darkFrom)||"dark:from-gray-800/50",l=(null==r?void 0:r.darkTo)||"dark:to-gray-900/50";return x.jsxs("div",{className:`p-4 h-full rounded-lg bg-gradient-to-r ${a} ${s} ${o} ${l} ${i}`,children:[e&&x.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t,x.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:e})]}),x.jsx("div",{className:"space-y-2",children:n})]})},Yie=({tabName:e,activeTab:t,setActiveTab:n,children:r})=>x.jsx("button",{onClick:()=>n(e),className:"cursor-pointer px-3 py-2 font-medium text-sm transition-colors focus:outline-none "+(t===e?"border-b-2 border-blue-600 text-blue-600 dark:text-blue-500":"border-b-2 border-transparent text-gray-500 hover:text-gray-800 dark:hover:text-gray-200"),children:r}),qie=({label:e,value:t,children:n,className:r=""})=>x.jsxs("div",{className:`flex items-start justify-between text-sm ${r}`,children:[x.jsxs("span",{className:"font-semibold text-gray-500 dark:text-gray-400 whitespace-nowrap mr-2",children:[e,":"]}),t&&x.jsx("span",{className:"text-gray-800 dark:text-gray-200 text-right",children:t}),n&&x.jsx("div",{className:"font-semibold text-right",children:n})]}),Gie=({strength:e,value:t,direction:n})=>x.jsxs("div",{className:"flex items-center gap-2",children:[(e=>{switch(null==e?void 0:e.toLowerCase()){case"tích cực":return x.jsx(Ne,{className:"h-3 w-3 text-green-600"});case"tiêu cực":return x.jsx(ke,{className:"h-3 w-3 text-red-600"});default:return x.jsx(G,{className:"h-3 w-3 text-gray-600"})}})(n),x.jsx("span",{className:`text-xs font-medium ${(e=>{switch(null==e?void 0:e.toLowerCase()){case"rất mạnh":return"text-red-600 dark:text-red-400";case"mạnh":return"text-orange-600 dark:text-orange-400";case"vừa phải":return"text-yellow-600 dark:text-yellow-400";case"yếu":return"text-blue-600 dark:text-blue-400";default:return"text-gray-600 dark:text-gray-400"}})(e)}`,children:e}),null!=t&&x.jsxs("span",{className:"text-xs text-gray-500",children:["(",t.toFixed(2),")"]})]}),Xie=()=>{var e,t,n,r,i,a,s,o,l,c,u,d,h,f,m,p,g,v,y,b,w,_,j,N,S,C,E,P,M,O,A,T,D,R,I,z,L,F,B,W,V,$,K,H,U,Y,q,X,Q,Z,J,ee,ne,re,ie,ae,se,oe,ce,de,he,fe;const[me,ge]=k.useState(!1),[ve,ye]=k.useState(["VN30","VN100","VNALL","VNMID","VNSML"]),[xe,we]=k.useState("line"),[_e,Se]=k.useState(new Set),[Ce,Ee]=k.useState("summary"),[Pe,Me]=k.useState(""),{data:Te,loading:De,error:Re,lastUpdated:Ie,refresh:ze}=gf("analyze_groups_mfi",null,[],{refreshInterval:3e5}),{vietnamese_insights:Le}=Te||{};k.useEffect(()=>{const e=()=>{var e;if(!(null==(e=null==Le?void 0:Le.metadata)?void 0:e.analysis_timestamp))return;const t=new Date(Le.metadata.analysis_timestamp),n=new Date,r=Math.round((n-t)/1e3),i=Math.round(r/60),a=Math.round(i/60);Me(r<60?"vài giây trước":i<60?`${i} phút trước`:a<24?`${a} giờ trước`:t.toLocaleDateString("vi-VN"))};e();const t=setInterval(e,6e4);return()=>clearInterval(t)},[null==(e=null==Le?void 0:Le.metadata)?void 0:e.analysis_timestamp]);const Fe=(()=>{if(!Te||!Te.indices)return[];const e=new Set;return Te.indices.forEach(t=>{t.mfi_data.forEach(t=>{null!==t.mfi&&e.add(t.date)})}),Array.from(e).sort().map(e=>{const t={date:e};return Te.indices.forEach(n=>{const r=n.mfi_data.find(t=>t.date===e);r&&null!==r.mfi&&(t[n.symbol]=r.mfi)}),t}).slice(-200)})(),Be=({active:e,payload:t,label:n})=>e&&t&&t.length?x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg",children:[x.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:new Date(n).toLocaleDateString("vi-VN")}),x.jsx("div",{className:"space-y-1",children:t.map((e,t)=>{var n;return x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:e.color}}),x.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.name,": ",null==(n=e.value)?void 0:n.toFixed(2)]})]},t)})})]}):null,We=({payload:e})=>x.jsx("div",{className:"flex flex-wrap justify-center gap-4 mt-4",children:e.map((e,t)=>{const n=_e.has(e.value);return x.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>(e=>{Se(t=>{const n=new Set(t);return n.has(e.value)?n.delete(e.value):n.add(e.value),n})})(e),children:[x.jsx("div",{className:"w-4 h-4 rounded "+(n?"opacity-40":""),style:{backgroundColor:e.color}}),x.jsx("span",{className:"text-sm "+(n?"text-gray-400 line-through":"text-gray-700 dark:text-gray-300"),children:e.value})]},t)})}),Ve=(()=>{if(!Te||!Te.indices)return{};const e={};return Te.indices.forEach(t=>{const n=t.mfi_data.filter(e=>null!==e.mfi);if(0===n.length)return;const r=n[n.length-1],i=n[n.length-2];if(!r||!i)return;const a=n.map(e=>e.mfi).filter(e=>null!==e),s=a.reduce((e,t)=>e+t,0)/a.length;e[t.symbol]={name:t.name,current:r.mfi,change:r.mfi-i.mfi,trend:r.mfi>i.mfi?"up":"down",signal:r.signal,avgMFI:s,minMFI:Math.min(...a),maxMFI:Math.max(...a),overboughtDays:n.filter(e=>e.mfi>80).length,oversoldDays:n.filter(e=>e.mfi<20).length,totalDays:n.length}}),e})(),$e=(()=>{if(!Ve||0===Object.keys(Ve).length)return"neutral";const e=Object.values(Ve).map(e=>e.current),t=e.reduce((e,t)=>e+t,0)/e.length;return t>70?"overbought":t<30?"oversold":t>60?"bullish":t<40?"bearish":"neutral"})(),Ke=e=>{switch(e){case"buy":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300";case"sell":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}};return De?x.jsx(Ae,{children:x.jsxs("div",{className:"flex items-center justify-center p-8",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),x.jsx("span",{className:"ml-2 text-gray-600",children:"Đang tải dữ liệu MFI..."})]})}):Re?x.jsx(Ae,{children:x.jsxs("div",{className:"text-center text-red-600 p-8",children:[x.jsx(le,{className:"h-8 w-8 mx-auto mb-2"}),x.jsxs("p",{children:["Lỗi khi tải dữ liệu MFI: ",Re]}),x.jsx("button",{onClick:ze,className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Thử lại"})]})}):Te&&Te.indices&&0!==Fe.length?x.jsxs(Ae,{children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Phân tích Money Flow Index (MFI)"}),x.jsx("button",{onClick:()=>ge(!me),className:"cursor-pointer text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:x.jsx(ue,{className:"h-4 w-4"})})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("button",{onClick:()=>we("line"===xe?"area":"line"),className:"cursor-pointer p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",title:"line"===xe?"Chuyển sang biểu đồ vùng":"Chuyển sang biểu đồ đường",children:x.jsx(te,{className:"h-4 w-4"})}),_e.size>0&&x.jsxs("span",{className:"text-xs text-gray-500",children:[_e.size," đường bị ẩn"]}),x.jsx("button",{onClick:()=>Se(new Set),className:"cursor-pointer px-3 py-1 text-xs bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300 rounded hover:bg-blue-200 dark:hover:bg-blue-900/30 transition-colors",title:"Hiển thị tất cả đường",children:"Hiển thị tất cả"})]})]}),me&&x.jsxs("div",{className:"mb-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[x.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Giải thích Money Flow Index (MFI):"}),x.jsxs("ul",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[x.jsxs("li",{children:[x.jsx("strong",{children:"MFI là gì:"})," Chỉ số dòng tiền (Money Flow Index) kết hợp giá và khối lượng để xác định điều kiện quá mua/quá bán"]}),x.jsxs("li",{children:[x.jsx("strong",{children:"Thang đo:"})," Từ 0 đến 100, với 50 là mức trung bình"]}),x.jsxs("li",{children:[x.jsx("strong",{children:"Quá mua (Overbought):"})," MFI > 80 - có thể báo hiệu xu hướng giảm"]}),x.jsxs("li",{children:[x.jsx("strong",{children:"Quá bán (Oversold):"})," MFI < 20 - có thể báo hiệu xu hướng tăng"]}),x.jsxs("li",{children:[x.jsx("strong",{children:"Vùng trung tính:"})," 20-80 - thị trường cân bằng"]}),x.jsxs("li",{children:[x.jsx("strong",{children:"Ý nghĩa:"})," MFI cao với khối lượng lớn thường báo hiệu đỉnh, MFI thấp với khối lượng lớn thường báo hiệu đáy"]}),x.jsxs("li",{children:[x.jsx("strong",{children:"Ý nghĩa so sánh:"})," Việc so sánh các chỉ số vốn hóa giúp theo dõi sự dịch chuyển của dòng tiền trong thị trường"]})]}),x.jsxs("div",{className:"mt-4 pt-4 border-t border-blue-200 dark:border-blue-700",children:[x.jsx("h5",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Về VNAllShare Index:"}),x.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 mb-2",children:"VNAllShare là chỉ số vốn hóa bao gồm các mã cổ phiếu được niêm yết trên sàn HOSE, thỏa mãn 4 tiêu chí bắt buộc:"}),x.jsxs("ul",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1 ml-4",children:[x.jsxs("li",{children:[x.jsx("strong",{children:"Tư cách:"})," Cổ phiếu hoạt động bình thường, niêm yết tối thiểu 6 tháng (3 tháng cho top 5 vốn hóa)"]}),x.jsxs("li",{children:[x.jsx("strong",{children:"Free-float:"})," Tối thiểu 10% (5% cho top 10 vốn hóa)"]}),x.jsxs("li",{children:[x.jsx("strong",{children:"Thanh khoản:"})," ≥ 0.05%"]}),x.jsxs("li",{children:[x.jsx("strong",{children:"Tỷ trọng vốn hóa:"})," Giới hạn 10%"]})]})]})]}),Le&&x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[x.jsxs(Uie,{title:"Tín hiệu Tổng thể",icon:x.jsx(Oe,{size:16,className:"text-yellow-500"}),children:[x.jsx(qie,{label:"Hướng",value:null==(n=null==(t=Le.signal_coordination)?void 0:t.overall_signal)?void 0:n.direction}),x.jsx(qie,{label:"Cường độ",value:null==(i=null==(r=Le.signal_coordination)?void 0:r.overall_signal)?void 0:i.strength}),x.jsx(qie,{label:"Độ tin cậy",value:`${(100*(null==(s=null==(a=Le.signal_coordination)?void 0:a.overall_signal)?void 0:s.confidence)).toFixed(0)}%`})]}),x.jsxs(Uie,{title:"Trạng thái Thị trường",icon:x.jsx(G,{size:16,className:"text-green-500"}),children:[x.jsx(qie,{label:"Chế độ",value:null==(l=null==(o=Le.market_analysis)?void 0:o.market_regime)?void 0:l.regime}),x.jsx(qie,{label:"MFI TB",value:`${null==(d=null==(u=null==(c=Le.market_analysis)?void 0:c.market_regime)?void 0:u.average_mfi)?void 0:d.toFixed(1)}`}),x.jsx(qie,{label:"Spread",value:`${null==(f=null==(h=Le.current_state)?void 0:h.mfi_spread_VNSML_vs_VN30)?void 0:f.toFixed(1)}`})]}),x.jsxs(Uie,{title:"Rủi ro & Khuyến nghị",icon:x.jsx(le,{size:16,className:"text-red-500"}),children:[x.jsx(qie,{label:"Mức rủi ro",value:null==(p=null==(m=Le.market_analysis)?void 0:m.risk_assessment)?void 0:p.risk_level}),x.jsx(qie,{label:"Hành động",value:null==(v=null==(g=Le.market_analysis)?void 0:g.trading_recommendation)?void 0:v.action}),x.jsx(qie,{label:"Độ tin cậy",value:`${(100*(null==(b=null==(y=Le.market_analysis)?void 0:y.trading_recommendation)?void 0:b.confidence)).toFixed(0)}%`})]}),x.jsxs(Uie,{title:"Triển vọng",icon:x.jsx(pe,{size:16,className:"text-purple-500"}),children:[x.jsx(qie,{label:"Ngắn hạn",value:null==(j=null==(_=null==(w=Le.market_analysis)?void 0:w.market_outlook)?void 0:_.short_term)?void 0:j.outlook}),x.jsx(qie,{label:"Trung hạn",value:null==(C=null==(S=null==(N=Le.market_analysis)?void 0:N.market_outlook)?void 0:S.medium_term)?void 0:C.outlook})]})]}),x.jsx("div",{className:"mb-4 p-3 rounded-lg bg-gray-50 dark:bg-gray-800/50",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Tâm lý thị trường:"}),x.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium "+("bullish"===$e?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300":"bearish"===$e?"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300":"overbought"===$e?"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-300":"oversold"===$e?"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"),children:"bullish"===$e?"Tích cực":"bearish"===$e?"Tiêu cực":"overbought"===$e?"Quá mua":"oversold"===$e?"Quá bán":"Trung tính"})]}),x.jsxs("span",{className:"text-sm text-gray-500",children:[Fe.length," điểm dữ liệu gần nhất"]})]})}),Te.market_overview&&x.jsxs("div",{className:"my-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg",children:[x.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-3 flex items-center gap-2",children:[x.jsx(G,{className:"h-4 w-4"}),"Tổng quan thị trường"]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-2xl font-bold text-blue-600",children:Te.market_overview.money_flow_distribution.overbought_indices}),x.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Chỉ số quá mua"})]}),x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-2xl font-bold text-green-600",children:Te.market_overview.money_flow_distribution.oversold_indices}),x.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Chỉ số quá bán"})]}),x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-2xl font-bold text-gray-600",children:Te.market_overview.money_flow_distribution.neutral_indices}),x.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Chỉ số trung tính"})]}),x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-2xl font-bold text-purple-600",children:Te.market_overview.overall_sentiment}),x.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tâm lý tổng thể"})]})]})]}),x.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-4 mb-4",children:[x.jsx(LL,{width:"100%",height:400,children:"line"===xe?x.jsxs(rY,{data:Fe,margin:{top:20,right:30,left:20,bottom:5},children:[x.jsx(Q$,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),x.jsx(HH,{dataKey:"date",stroke:"#6b7280",fontSize:12,tickLine:!1,tickFormatter:e=>new Date(e).toLocaleDateString("vi-VN",{month:"short",day:"numeric"})}),x.jsx(JH,{stroke:"#6b7280",fontSize:12,tickLine:!1,axisLine:!1,domain:[0,100]}),x.jsx(wL,{content:x.jsx(Be,{})}),x.jsx(l$,{y:80,stroke:"#ef4444",strokeDasharray:"5 5",strokeWidth:1,label:"Quá mua (80)"}),x.jsx(l$,{y:20,stroke:"#10b981",strokeDasharray:"5 5",strokeWidth:1,label:"Quá bán (20)"}),ve.map((e,t)=>{const n=["#3b82f6","#f97316","#eab308","#10b981","#8b5cf6"];return _e.has(e)?null:x.jsx(kK,{type:"monotone",dataKey:e,stroke:n[t%n.length],strokeWidth:2,dot:!1,activeDot:{r:4}},e)})]}):x.jsxs(pY,{data:Fe,margin:{top:20,right:30,left:20,bottom:5},children:[x.jsx(Q$,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),x.jsx(HH,{dataKey:"date",stroke:"#6b7280",fontSize:12,tickLine:!1,tickFormatter:e=>new Date(e).toLocaleDateString("vi-VN",{month:"short",day:"numeric"})}),x.jsx(JH,{stroke:"#6b7280",fontSize:12,tickLine:!1,axisLine:!1,domain:[0,100]}),x.jsx(wL,{content:x.jsx(Be,{})}),x.jsx(l$,{y:80,stroke:"#ef4444",strokeDasharray:"5 5",strokeWidth:1,label:"Quá mua (80)"}),x.jsx(l$,{y:20,stroke:"#10b981",strokeDasharray:"5 5",strokeWidth:1,label:"Quá bán (20)"}),ve.map((e,t)=>{const n=["#3b82f6","#f97316","#eab308","#10b981","#8b5cf6"];return _e.has(e)?null:x.jsx(ZK,{type:"monotone",dataKey:e,stroke:n[t%n.length],fill:n[t%n.length],fillOpacity:.3,strokeWidth:2},e)})]})}),x.jsx(We,{payload:ve.map((e,t)=>({value:e,color:["#3b82f6","#f97316","#eab308","#10b981","#8b5cf6"][t%5]}))})]}),Object.keys(Ve).length>0&&x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4 mb-6",children:Object.entries(Ve).map(([e,t])=>x.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 text-sm",children:t.name}),"up"===t.trend?x.jsx(Ne,{className:"h-4 w-4 text-green-600"}):x.jsx(ke,{className:"h-4 w-4 text-red-600"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"MFI hiện tại:"}),x.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:t.current.toFixed(2)})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Thay đổi:"}),x.jsxs("span",{className:"text-sm font-medium "+(t.change>0?"text-green-600":"text-red-600"),children:[t.change>0?"+":"",t.change.toFixed(2)]})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Tín hiệu:"}),x.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${Ke(t.signal)}`,children:"buy"===t.signal?"Mua":"sell"===t.signal?"Bán":"Trung tính"})]})]})]},e))}),Le&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 mb-4",children:x.jsxs("nav",{className:"flex space-x-2","aria-label":"Tabs",children:[x.jsx(Yie,{tabName:"summary",activeTab:Ce,setActiveTab:Ee,children:"Tổng quan"}),x.jsx(Yie,{tabName:"signals",activeTab:Ce,setActiveTab:Ee,children:"Tín hiệu Chi tiết"}),x.jsx(Yie,{tabName:"strategy",activeTab:Ce,setActiveTab:Ee,children:"Chiến lược & Rủi ro"})]})}),x.jsxs("div",{className:"mt-4",children:["summary"===Ce&&x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[x.jsx(Uie,{title:"Thông tin Chính",icon:x.jsx(pe,{className:"h-5 w-5 text-teal-600"}),gradientColors:{from:"from-teal-50",to:"to-cyan-50"},children:null==(P=null==(E=Le.market_analysis)?void 0:E.key_insights)?void 0:P.map((e,t)=>x.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-700 dark:text-gray-300",children:[x.jsx("span",{className:"mt-1",children:"💡"}),x.jsx("span",{children:e})]},t))}),x.jsxs(Uie,{title:"Trạng thái Hiện tại",icon:x.jsx(be,{className:"h-5 w-5 text-blue-600"}),gradientColors:{from:"from-blue-50",to:"to-indigo-50"},children:[x.jsx(qie,{label:"Chế độ thị trường",value:null==(O=null==(M=Le.market_analysis)?void 0:M.market_regime)?void 0:O.regime}),x.jsx(qie,{label:"MFI trung bình",value:`${null==(D=null==(T=null==(A=Le.market_analysis)?void 0:A.market_regime)?void 0:T.average_mfi)?void 0:D.toFixed(1)}`}),x.jsx(qie,{label:"Spread VNSML-VN30",value:`${null==(I=null==(R=Le.current_state)?void 0:R.mfi_spread_VNSML_vs_VN30)?void 0:I.toFixed(1)}`}),x.jsx("p",{className:"text-xs text-gray-500 pt-2",children:null==(L=null==(z=Le.market_analysis)?void 0:z.market_regime)?void 0:L.description})]}),x.jsxs(Uie,{title:"Tín hiệu Tổng hợp",icon:x.jsx(Ne,{className:"h-5 w-5 text-pink-600"}),gradientColors:{from:"from-pink-50",to:"to-rose-50"},children:[x.jsx(qie,{label:"Hướng",value:null==(B=null==(F=Le.signal_coordination)?void 0:F.overall_signal)?void 0:B.direction}),x.jsx(qie,{label:"Cường độ",value:null==(V=null==(W=Le.signal_coordination)?void 0:W.overall_signal)?void 0:V.strength}),x.jsx(qie,{label:"Độ tin cậy",value:`${(100*(null==(K=null==($=Le.signal_coordination)?void 0:$.overall_signal)?void 0:K.confidence)).toFixed(0)}%`}),x.jsx(qie,{label:"Điểm đồng thuận",value:`${(100*(null==(U=null==(H=Le.signal_coordination)?void 0:H.overall_signal)?void 0:U.consensus_score)).toFixed(0)}%`})]})]}),"signals"===Ce&&x.jsxs("div",{className:"space-y-6",children:[x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:null==(q=null==(Y=Le.signal_coordination)?void 0:Y.component_signals)?void 0:q.map((e,t)=>x.jsxs(Uie,{title:e.name,icon:x.jsx(te,{className:"h-5 w-5 text-blue-600"}),children:[x.jsx(Gie,{strength:e.strength,value:e.value,direction:e.direction}),x.jsx(qie,{label:"Trọng số",value:`${(100*e.weight).toFixed(0)}%`}),x.jsx("p",{className:"text-xs text-gray-500 pt-2",children:e.description})]},t))}),(null==(Q=null==(X=Le.signal_coordination)?void 0:X.conflicts_detected)?void 0:Q.length)>0&&x.jsx(Uie,{title:"Xung đột Tín hiệu",icon:x.jsx(le,{className:"h-5 w-5 text-orange-500"}),gradientColors:{from:"from-orange-50",to:"to-red-50"},children:Le.signal_coordination.conflicts_detected.map((e,t)=>x.jsxs("div",{className:"text-sm text-orange-700 dark:text-orange-300 bg-orange-50 dark:bg-orange-900/20 p-2 rounded",children:["⚠️ ",e]},t))})]}),"strategy"===Ce&&x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs(Uie,{title:"Phân tích Rủi ro",icon:x.jsx(le,{className:"h-5 w-5 text-red-600"}),gradientColors:{from:"from-red-50",to:"to-pink-50"},children:[x.jsx(qie,{label:"Rủi ro tổng thể",value:null==(J=null==(Z=Le.market_analysis)?void 0:Z.risk_assessment)?void 0:J.risk_level}),x.jsx(qie,{label:"Điểm đồng thuận",value:`${(100*(null==(ne=null==(ee=Le.market_analysis)?void 0:ee.risk_assessment)?void 0:ne.consensus_score)).toFixed(0)}%`}),x.jsx("div",{className:"pt-2 space-y-2",children:null==(ae=null==(ie=null==(re=Le.market_analysis)?void 0:re.risk_assessment)?void 0:ie.risk_factors)?void 0:ae.map((e,t)=>x.jsxs("div",{className:"text-sm text-red-700 dark:text-red-300 bg-red-50 dark:bg-red-900/20 p-2 rounded",children:["⚠️ ",e]},t))})]}),x.jsxs(Uie,{title:"Chiến lược Giao dịch",icon:x.jsx(je,{className:"h-5 w-5 text-purple-600"}),gradientColors:{from:"from-purple-50",to:"to-violet-50"},children:[x.jsx(qie,{label:"Hành động",value:null==(oe=null==(se=Le.market_analysis)?void 0:se.trading_recommendation)?void 0:oe.action}),x.jsx(qie,{label:"Độ tin cậy",value:`${(100*(null==(de=null==(ce=Le.market_analysis)?void 0:ce.trading_recommendation)?void 0:de.confidence)).toFixed(0)}%`}),x.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 pt-2",children:null==(fe=null==(he=Le.market_analysis)?void 0:he.trading_recommendation)?void 0:fe.reasoning})]})]})]})]})]}):x.jsx(Ae,{children:x.jsx("div",{className:"text-center text-gray-500 p-8",children:"Không có dữ liệu MFI để hiển thị"})})},Qie=k.createContext();function Zie({children:e}){const[t,n]=k.useState(!1),[r,i]=k.useState(null),[a,s]=k.useState(null),[o,l]=k.useState(0);k.useEffect(()=>{if(!a){const e=new Date;s(e),i(e)}},[a]),k.useEffect(()=>{const e=e=>{var t;if(!r&&(null==(t=e.detail)?void 0:t.dataType)){const e=new Date;s(e),i(e)}};return window.addEventListener("dataReloaded",e),()=>{window.removeEventListener("dataReloaded",e)}},[]);const c=k.useCallback(()=>g(null,null,function*(){n(!0);try{pf(),i(new Date),l(e=>e+1);const e=new CustomEvent("dataReloaded",{detail:{dataType:null}});window.dispatchEvent(e)}catch(e){}finally{n(!1)}}),[]),u=k.useCallback(e=>g(null,null,function*(){n(!0);try{pf(e),i(new Date),l(e=>e+1);const t=new CustomEvent("dataReloaded",{detail:{dataType:e}});window.dispatchEvent(t)}catch(t){}finally{n(!1)}}),[]),d=k.useCallback((e=null)=>{e?u(e):c()},[c,u]),h={isReloading:t,lastReloadTime:r||a,reloadAllData:c,reloadSpecificData:u,triggerReload:d,reloadTrigger:o};return x.jsx(Qie.Provider,{value:h,children:e})}const Jie=()=>{const{isReloading:e,lastReloadTime:t,reloadAllData:n}=function(){const e=k.useContext(Qie);if(!e)throw new Error("useDataReload must be used within a DataReloadProvider");return e}();return x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsxs("div",{className:"hidden sm:flex items-center space-x-1 text-xs text-gray-500 dark:text-gray-400",children:[x.jsx(fe,{className:"w-3 h-3"}),x.jsx("span",{children:(()=>{if(!t)return"Chưa tải";const e=new Date-t,n=Math.floor(e/6e4),r=Math.floor(e%6e4/1e3);return n>0?`${n} phút trước`:r>0?`${r} giây trước`:t.toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit",second:"2-digit"})})()})]}),x.jsx("button",{onClick:n,disabled:e,className:"p-2 rounded-md transition-colors cursor-pointer "+(e?"text-gray-400 cursor-not-allowed":"text-gray-500 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-100 dark:hover:bg-gray-800"),title:"Tải lại tất cả dữ liệu",children:x.jsx(xe,{className:"w-4 h-4 "+(e?"animate-spin":"")})})]})};class eae{constructor(e={}){this.options=h({minHeight:e.minHeight||400,maxHeight:e.maxHeight||2e3,minWidth:e.minWidth||300,maxWidth:e.maxWidth||1200,resizeInterval:e.resizeInterval||100},e),this.iframes=new Map,this.resizeTimeout=null}init(e,t={}){const n=h(h({},this.options),t),r=t=>{t.source===e.contentWindow&&t.data&&"RESIZE"===t.data.type&&this.resizeIframe(e,t.data.width,t.data.height,n)};return window.addEventListener("message",r),this.iframes.set(e,{messageHandler:r,options:n}),e.style.overflow="hidden",e.style.border="none",this}resizeIframe(e,t,n,r){const i=Math.max(r.minWidth,Math.min(r.maxWidth,t)),a=Math.max(r.minHeight,Math.min(r.maxHeight,n));clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{e.style.width=`${i}px`,e.style.height=`${a}px`},r.resizeInterval)}destroy(e){const t=this.iframes.get(e);t&&(window.removeEventListener("message",t.messageHandler),this.iframes.delete(e))}destroyAll(){for(const[e]of this.iframes)this.destroy(e)}}document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll("iframe[data-iframe-resize]");if(e.length>0){const t=new eae;e.forEach(e=>{const n=JSON.parse(e.getAttribute("data-iframe-resize")||"{}");t.init(e,n)})}});const tae={sendResizeMessage(e,t){window.parent&&window.parent!==window&&window.parent.postMessage({type:"RESIZE",width:Math.ceil(e),height:Math.ceil(t)},"*")},isEmbedded:()=>window.self!==window.top,getParentIframe(){if(!this.isEmbedded())return null;try{const e=window.parent.document.querySelectorAll("iframe");for(const t of e)if(t.contentWindow===window)return t}catch(e){return null}return null}};function nae(){const[e,t]=k.useState("Market"),[n,r]=k.useState("Overview"),[i,a]=k.useState(!1),[s,o]=k.useState("rs_analysis"),[l,c]=k.useState(!1),u=k.useRef(null),d=tae.isEmbedded(),h=["Market","Industries","Tickers"],f={Industries:[{id:"abnormal_signals",name:"Tín hiệu Bất thường",description:"Phát hiện các tín hiệu bất thường trong ngành"}],Tickers:[{id:"abnormal_signals",name:"Tín hiệu Bất thường",description:"Phát hiện các tín hiệu bất thường trong mã chứng khoán"},{id:"vsa_report",name:"Báo cáo VSA",description:"Phân tích Volume Spread Analysis cho từng mã chứng khoán"},{id:"vcp_analysis",name:"Phân tích VCP",description:"Phân tích mẫu hình tích lũy VCP cho các mã chứng khoán"}],Market:[{id:"market_overview",name:"Tổng quan Thị trường",description:"Báo cáo phân tích thị trường tổng hợp"},{id:"macroeconomics",name:"Báo cáo Vĩ mô",description:"Phân tích các chỉ số kinh tế vĩ mô và xu hướng thị trường"},{id:"valuation_report",name:"Báo cáo Định giá",description:"Phân tích tỷ lệ P/E và P/B của VN-Index"}]},m=e=>{var n,i;t(e),r("Overview"),a(!1);const s=(null==(i=null==(n=f[e])?void 0:n[0])?void 0:i.id)||"abnormal_signals";o(s)},p=f[e]||[];p.find(e=>e.id===s)||p[0];const g={Market:"Thị trường",Industries:"Ngành nghề",Tickers:"Mã chứng khoán"},v={Overview:"Tổng quan",Reports:"Báo cáo"};return k.useEffect(()=>{if(!d)return;const e=setTimeout(()=>{if(u.current){const{width:e,height:t}=u.current.getBoundingClientRect();tae.sendResizeMessage(e,t)}},100);return()=>clearTimeout(e)},[e,n,s,i,d]),x.jsx(Zie,{children:x.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200 font-sans",ref:u,children:[x.jsxs("header",{className:"bg-white dark:bg-gray-800/90 backdrop-blur-sm sticky top-0 z-30 border-b border-gray-200 dark:border-gray-700",children:[x.jsx("div",{className:"max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8",children:x.jsxs("div",{className:"flex items-center justify-between h-16",children:[x.jsxs("div",{className:"flex-shrink-0 flex items-center",children:[x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-blue-500",children:[x.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),x.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),x.jsxs("div",{className:"ml-2",children:[!d&&x.jsx("span",{className:"text-xl font-bold",children:"Phân tích VN-Index"}),x.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Dữ liệu hàng ngày được cập nhật vào cuối ngày"})]})]}),x.jsxs("nav",{className:"hidden md:flex items-center space-x-2",children:[h.map(t=>x.jsx("button",{onClick:()=>m(t),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors cursor-pointer "+(e===t?"bg-blue-500 text-white":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),children:g[t]},t)),x.jsx(Jie,{})]}),x.jsx("div",{className:"md:hidden",children:x.jsx("button",{onClick:()=>a(!i),className:"p-2 rounded-md text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800 cursor-pointer",children:i?x.jsx(Me,{size:24}):x.jsx(ve,{size:24})})})]})}),i&&x.jsx("div",{className:"md:hidden pb-3 border-t border-gray-200 dark:border-gray-700",children:x.jsx("nav",{className:"px-2 space-y-1 mt-2",children:h.map(t=>x.jsx("button",{onClick:()=>m(t),className:"block w-full text-left px-3 py-2 rounded-md text-base font-medium cursor-pointer "+(e===t?"bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-300":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),children:g[t]},t))})})]}),x.jsx("div",{className:"relative",children:x.jsxs("main",{children:[x.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:x.jsx("div",{className:"max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8",children:x.jsx("div",{className:"flex items-center justify-between",children:x.jsx("div",{className:"flex -mb-px space-x-2 sm:space-x-4 items-center relative",children:["Overview","Reports"].map(e=>"Reports"===e&&p.length>1?x.jsxs("div",{className:"relative",children:[x.jsxs("button",{onClick:()=>{c(e=>!e)},className:"py-3 px-1 sm:px-4 text-sm sm:text-base font-semibold border-b-2 transition-colors cursor-pointer flex items-center space-x-2 "+(n===e?"border-blue-500 text-blue-500":"border-transparent text-gray-500 hover:text-gray-800 dark:hover:text-gray-200"),"aria-haspopup":"listbox","aria-expanded":l,children:[x.jsx("span",{children:v[e]}),x.jsx(se,{size:16,className:"transition-transform "+(l?"rotate-180":"")})]}),l&&x.jsx("div",{className:"absolute left-0 mt-2 w-80 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md shadow-lg z-50",children:x.jsx("div",{className:"py-2",children:p.map(e=>x.jsxs("button",{onClick:()=>{var t;t=e.id,o(t),c(!1),r("Reports"),c(!1)},className:"w-full text-left px-4 py-3 transition-colors cursor-pointer "+(s===e.id?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-300 font-semibold":"text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700"),children:[x.jsx("div",{className:"font-medium",children:e.name}),x.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:e.description})]},e.id))})})]},e):x.jsx("button",{onClick:()=>{r(e),c(!1)},className:"py-3 px-1 sm:px-4 text-sm sm:text-base font-semibold border-b-2 transition-colors cursor-pointer "+(n===e?"border-blue-500 text-blue-500":"border-transparent text-gray-500 hover:text-gray-800 dark:hover:text-gray-200"),children:v[e]},e))})})})}),x.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:["Overview"===n&&x.jsxs(x.Fragment,{children:["Market"===e&&x.jsxs("div",{className:"space-y-8",children:[x.jsx(wte,{}),x.jsx(bY,{}),x.jsx(Hie,{}),x.jsx(Xie,{}),x.jsx(De,{}),x.jsx(yY,{})]}),"Industries"===e&&x.jsx("div",{className:"space-y-8",children:x.jsx(vie,{})}),"Tickers"===e&&x.jsx("div",{className:"space-y-8",children:x.jsx(_ie,{})})]}),"Reports"===n&&x.jsxs(x.Fragment,{children:["Industries"===e&&x.jsxs("div",{className:"space-y-8",children:["rs_analysis"===s&&x.jsx(Nie,{type:"industries"}),"abnormal_signals"===s&&x.jsx(kte,{})]}),"Tickers"===e&&x.jsxs("div",{className:"space-y-8",children:["abnormal_signals"===s&&x.jsx(jte,{}),"vsa_report"===s&&x.jsx(Bie,{}),"vcp_analysis"===s&&x.jsx(Wie,{})]}),"Market"===e&&x.jsxs("div",{className:"space-y-8",children:["market_overview"===s&&x.jsx(Eie,{}),"macroeconomics"===s&&x.jsx(Oie,{}),"valuation_report"===s&&x.jsx(Sie,{}),"mfi_analysis"===s&&x.jsx(Xie,{})]})]})]})]})}),l&&x.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>c(!1)}),x.jsx("div",{className:"text-center py-4 text-xs text-gray-500 border-t border-gray-200 dark:border-gray-700",children:x.jsxs("p",{children:["Sử dụng dữ liệu từ ",x.jsx("a",{href:"https://vnstocks.com/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline cursor-pointer",children:"https://vnstocks.com/"})," Wichart.vn và Investing.com"]})}),!d&&x.jsxs("footer",{className:"text-center mt-8 text-xs text-gray-500",children:[x.jsx("p",{children:"© 2025 Taichinhchungkhoan.com"}),x.jsx("p",{className:"mt-1",children:"Taichinhchungkhoan.com - Nền tảng kiến thức và công cụ tài chính cho người Việt"}),x.jsxs("p",{className:"mt-2",children:[x.jsx("strong",{children:"Tuyên bố miễn trừ trách nhiệm:"})," Ứng dụng này được tạo ra cho mục đích tham khảo và giáo dục. Thông tin cung cấp không được coi là lời khuyên đầu tư chuyên nghiệp. Luôn tham khảo ý kiến chuyên gia tài chính trước khi ra quyết định."]})]})]})})}$.createRoot(document.getElementById("root")).render(x.jsx(N.StrictMode,{children:x.jsx(nae,{})}))}},function(){return t||(0,e[a(e)[0]])((t={exports:{}}).exports,t),t.exports});export default x();
