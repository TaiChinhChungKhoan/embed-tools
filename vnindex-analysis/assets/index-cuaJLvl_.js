var e,t,n=Object.defineProperty,r=Object.defineProperties,i=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,c=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),u=Math.pow,d=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,h=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(s)for(var n of s(t))l.call(t,n)&&d(e,n,t[n]);return e},f=(e,t)=>r(e,i(t)),m=e=>"symbol"==typeof e?e:e+"",g=(e,t)=>{var n={};for(var r in e)o.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&s)for(var r of s(e))t.indexOf(r)<0&&l.call(e,r)&&(n[r]=e[r]);return n},p=(e,t,n)=>d(e,"symbol"!=typeof t?t+"":t,n),v=(e,t,n)=>new Promise((r,i)=>{var a=e=>{try{o(n.next(e))}catch(t){i(t)}},s=e=>{try{o(n.throw(e))}catch(t){i(t)}},o=e=>e.done?r(e.value):Promise.resolve(e.value).then(a,s);o((n=n.apply(e,t)).next())}),y=function(e,t){this[0]=e,this[1]=t},x=e=>{var t,n=e[c("asyncIterator")],r=!1,i={};return null==n?(n=e[c("iterator")](),t=e=>i[e]=t=>n[e](t)):(n=n.call(e),t=e=>i[e]=t=>{if(r){if(r=!1,"throw"===e)throw t;return t}return r=!0,{done:!1,value:new y(new Promise(r=>{var i=n[e](t);i instanceof Object||(e=>{throw TypeError(e)})("Object expected"),r(i)}),1)}}),i[c("iterator")]=()=>i,t("next"),"throw"in n?t("throw"):i.throw=e=>{throw e},"return"in n&&t("return"),i},b=(e={"assets/index-cuaJLvl_.js"(e){var t;function n(e,t){for(var n=0;n<t.length;n++){const r=t[n];if("string"!=typeof r&&!Array.isArray(r))for(const t in r)if("default"!==t&&!(t in e)){const n=Object.getOwnPropertyDescriptor(r,t);n&&Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:()=>r[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function a(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}),n}var s,o,l,c,d={exports:{}},y={},b=(o||(o=1,d.exports=function(){if(s)return y;s=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(t,n,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==n.key&&(i=""+n.key),"key"in n)for(var a in r={},n)"key"!==a&&(r[a]=n[a]);else r=n;return n=r.ref,{$$typeof:e,type:t,key:i,ref:void 0!==n?n:null,props:r}}return y.Fragment=t,y.jsx=n,y.jsxs=n,y}()),d.exports),w={exports:{}},_={};function j(){if(l)return _;l=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator,f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function p(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}p.prototype.isReactComponent={},p.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},p.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=p.prototype;var x=y.prototype=new v;x.constructor=y,m(x,p.prototype),x.isPureReactComponent=!0;var b=Array.isArray,w={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function N(t,n,r,i,a,s){return r=s.ref,{$$typeof:e,type:t,key:n,ref:void 0!==r?r:null,props:s}}function k(t){return"object"==typeof t&&null!==t&&t.$$typeof===e}var S=/\/+/g;function C(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36);var n,r}function P(){}function E(n,r,i,a,s){var o=typeof n;"undefined"!==o&&"boolean"!==o||(n=null);var l,c,u=!1;if(null===n)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(n.$$typeof){case e:case t:u=!0;break;case d:return E((u=n._init)(n._payload),r,i,a,s)}}if(u)return s=s(n),u=""===a?"."+C(n,0):a,b(s)?(i="",null!=u&&(i=u.replace(S,"$&/")+"/"),E(s,r,i,"",function(e){return e})):null!=s&&(k(s)&&(l=s,c=i+(null==s.key||n&&n.key===s.key?"":(""+s.key).replace(S,"$&/")+"/")+u,s=N(l.type,c,void 0,0,0,l.props)),r.push(s)),1;u=0;var f,m=""===a?".":a+":";if(b(n))for(var g=0;g<n.length;g++)u+=E(a=n[g],r,i,o=m+C(a,g),s);else if("function"==typeof(g=null===(f=n)||"object"!=typeof f?null:"function"==typeof(f=h&&f[h]||f["@@iterator"])?f:null))for(n=g.call(n),g=0;!(a=n.next()).done;)u+=E(a=a.value,r,i,o=m+C(a,g++),s);else if("object"===o){if("function"==typeof n.then)return E(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(P,P):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(n),r,i,a,s);throw r=String(n),Error("Objects are not valid as a React child (found: "+("[object Object]"===r?"object with keys {"+Object.keys(n).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.")}return u}function M(e,t,n){if(null==e)return e;var r=[],i=0;return E(e,r,"","",function(e){return t.call(n,e,i++)}),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)};function T(){}return _.Children={map:M,forEach:function(e,t,n){M(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return M(e,function(){t++}),t},toArray:function(e){return M(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},_.Component=p,_.Fragment=n,_.Profiler=i,_.PureComponent=y,_.StrictMode=r,_.Suspense=c,_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,_.__COMPILER_RUNTIME={__proto__:null,c:function(e){return w.H.useMemoCache(e)}},_.cache=function(e){return function(){return e.apply(null,arguments)}},_.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(a in t.ref,void 0!==t.key&&(i=""+t.key),t)!j.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var s=Array(a),o=0;o<a;o++)s[o]=arguments[o+2];r.children=s}return N(e.type,i,void 0,0,0,r)},_.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},_.createElement=function(e,t,n){var r,i={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)j.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return N(e,a,void 0,0,0,i)},_.createRef=function(){return{current:null}},_.forwardRef=function(e){return{$$typeof:o,render:e}},_.isValidElement=k,_.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:O}},_.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},_.startTransition=function(e){var t=w.T,n={};w.T=n;try{var r=e(),i=w.S;null!==i&&i(n,r),"object"==typeof r&&null!==r&&"function"==typeof r.then&&r.then(T,A)}catch(a){A(a)}finally{w.T=t}},_.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},_.use=function(e){return w.H.use(e)},_.useActionState=function(e,t,n){return w.H.useActionState(e,t,n)},_.useCallback=function(e,t){return w.H.useCallback(e,t)},_.useContext=function(e){return w.H.useContext(e)},_.useDebugValue=function(){},_.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},_.useEffect=function(e,t,n){var r=w.H;if("function"==typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},_.useId=function(){return w.H.useId()},_.useImperativeHandle=function(e,t,n){return w.H.useImperativeHandle(e,t,n)},_.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},_.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},_.useMemo=function(e,t){return w.H.useMemo(e,t)},_.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},_.useReducer=function(e,t,n){return w.H.useReducer(e,t,n)},_.useRef=function(e){return w.H.useRef(e)},_.useState=function(e){return w.H.useState(e)},_.useSyncExternalStore=function(e,t,n){return w.H.useSyncExternalStore(e,t,n)},_.useTransition=function(){return w.H.useTransition()},_.version="19.1.0",_}function N(){return c||(c=1,w.exports=j()),w.exports}var k=N();const S=i(k),C=n({__proto__:null,default:S},[k]);var P,E,M={exports:{}},O={},A={exports:{}},T={};function R(){return E||(E=1,A.exports=(P||(P=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,s=a>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,n))c<a&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<a&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,d=null,h=3,f=!1,m=!1,g=!1,p=!1,v="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,x="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var i=n(c);null!==i;){if(null===i.callback)r(c);else{if(!(i.startTime<=e))break;r(c),i.sortIndex=i.expirationTime,t(l,i)}i=n(c)}}function w(e){if(g=!1,b(e),!m)if(null!==n(l))m=!0,j||(j=!0,_());else{var t=n(c);null!==t&&O(w,t.startTime-e)}}var _,j=!1,N=-1,k=5,S=-1;function C(){return!(!p&&e.unstable_now()-S<k)}function P(){if(p=!1,j){var t=e.unstable_now();S=t;var i=!0;try{e:{m=!1,g&&(g=!1,y(N),N=-1),f=!0;var a=h;try{t:{for(b(t),d=n(l);null!==d&&!(d.expirationTime>t&&C());){var s=d.callback;if("function"==typeof s){d.callback=null,h=d.priorityLevel;var o=s(d.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof o){d.callback=o,b(t),i=!0;break t}d===n(l)&&r(l),b(t)}else r(l);d=n(l)}if(null!==d)i=!0;else{var u=n(c);null!==u&&O(w,u.startTime-t),i=!1}}break e}finally{d=null,h=a,f=!1}i=void 0}}finally{i?_():j=!1}}}if("function"==typeof x)_=function(){x(P)};else if("undefined"!=typeof MessageChannel){var E=new MessageChannel,M=E.port2;E.port1.onmessage=P,_=function(){M.postMessage(null)}}else _=function(){v(P,0)};function O(t,n){N=v(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e||(k=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},e.unstable_requestPaint=function(){p=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},e.unstable_scheduleCallback=function(r,i,a){var s=e.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?s+a:s,r){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return r={id:u++,callback:i,priorityLevel:r,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(r.sortIndex=a,t(c,r),null===n(l)&&r===n(c)&&(g?(y(N),N=-1):g=!0,O(w,a-s))):(r.sortIndex=o,t(l,r),m||f||(m=!0,j||(j=!0,_()))),r},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}(T)),T)),A.exports}var D,I,L,z,F={exports:{}},B={};function V(){if(D)return B;D=1;var e=N();function t(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal"),a=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}return B.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,B.createPortal=function(e,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!n||1!==n.nodeType&&9!==n.nodeType&&11!==n.nodeType)throw Error(t(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:i,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,n,null,r)},B.flushSync=function(e){var t=a.T,n=r.p;try{if(a.T=null,r.p=2,e)return e()}finally{a.T=t,r.p=n,r.d.f()}},B.preconnect=function(e,t){"string"==typeof e&&(t=t?"string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:null,r.d.C(e,t))},B.prefetchDNS=function(e){"string"==typeof e&&r.d.D(e)},B.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,i=s(n,t.crossOrigin),a="string"==typeof t.integrity?t.integrity:void 0,o="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?r.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:i,integrity:a,fetchPriority:o}):"script"===n&&r.d.X(e,{crossOrigin:i,integrity:a,fetchPriority:o,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},B.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=s(t.as,t.crossOrigin);r.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&r.d.M(e)},B.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,i=s(n,t.crossOrigin);r.d.L(e,n,{crossOrigin:i,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},B.preloadModule=function(e,t){if("string"==typeof e)if(t){var n=s(t.as,t.crossOrigin);r.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else r.d.m(e)},B.requestFormReset=function(e){r.d.r(e)},B.unstable_batchedUpdates=function(e,t){return e(t)},B.useFormState=function(e,t,n){return a.H.useFormState(e,t,n)},B.useFormStatus=function(){return a.H.useHostTransitionStatus()},B.version="19.1.0",B}function W(){return I||(I=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),F.exports=V()),F.exports}
/**
     * @license React
     * react-dom-client.production.js
     *
     * Copyright (c) Meta Platforms, Inc. and affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */function $(){if(L)return O;L=1;var e=R(),t=N(),n=W();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function a(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function s(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function o(e){if(a(e)!==e)throw Error(r(188))}function l(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=l(e)))return t;e=e.sibling}return null}var c=Object.assign,u=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),y=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),S=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function P(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=C&&e[C]||e["@@iterator"])?e:null}var E=Symbol.for("react.client.reference");function M(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===E?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case f:return"Fragment";case g:return"Profiler";case m:return"StrictMode";case b:return"Suspense";case w:return"SuspenseList";case k:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case h:return"Portal";case y:return(e.displayName||"Context")+".Provider";case v:return(e._context.displayName||"Context")+".Consumer";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(t=e.displayName||null)?t:M(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return M(e(t))}catch(n){}}return null}var A=Array.isArray,T=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},z=[],F=-1;function B(e){return{current:e}}function V(e){0>F||(e.current=z[F],z[F]=null,F--)}function $(e,t){F++,z[F]=e.current,e.current=t}var H=B(null),K=B(null),U=B(null),G=B(null);function q(e,t){switch($(U,t),$(K,e),$(H,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?sd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=od(t=sd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(H),$(H,e)}function Y(){V(H),V(K),V(U)}function X(e){null!==e.memoizedState&&$(G,e);var t=H.current,n=od(t,e.type);t!==n&&($(K,e),$(H,n))}function Q(e){K.current===e&&(V(H),V(K)),G.current===e&&(V(G),Xd._currentValue=I)}var Z=Object.prototype.hasOwnProperty,J=e.unstable_scheduleCallback,ee=e.unstable_cancelCallback,te=e.unstable_shouldYield,ne=e.unstable_requestPaint,re=e.unstable_now,ie=e.unstable_getCurrentPriorityLevel,ae=e.unstable_ImmediatePriority,se=e.unstable_UserBlockingPriority,oe=e.unstable_NormalPriority,le=e.unstable_LowPriority,ce=e.unstable_IdlePriority,ue=e.log,de=e.unstable_setDisableYieldValue,he=null,fe=null;function me(e){if("function"==typeof ue&&de(e),fe&&"function"==typeof fe.setStrictMode)try{fe.setStrictMode(he,e)}catch(t){}}var ge=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(pe(e)/ve|0)|0},pe=Math.log,ve=Math.LN2,ye=256,xe=4194304;function be(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function we(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,a=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~a)?i=be(r):0!==(s&=o)?i=be(s):n||0!==(n=o&~e)&&(i=be(n)):0!==(o=r&~a)?i=be(o):0!==s?i=be(s):n||0!==(n=r&~e)&&(i=be(n)),0===i?0:0!==t&&t!==i&&0===(t&a)&&((a=i&-i)>=(n=t&-t)||32===a&&4194048&n)?t:i}function _e(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function je(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ne(){var e=ye;return!(4194048&(ye<<=1))&&(ye=256),e}function ke(){var e=xe;return!(62914560&(xe<<=1))&&(xe=4194304),e}function Se(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ce(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Pe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-ge(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ee(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ge(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Me(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oe(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Ae(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:dh(e.type)}var Te=Math.random().toString(36).slice(2),Re="__reactFiber$"+Te,De="__reactProps$"+Te,Ie="__reactContainer$"+Te,Le="__reactEvents$"+Te,ze="__reactListeners$"+Te,Fe="__reactHandles$"+Te,Be="__reactResources$"+Te,Ve="__reactMarker$"+Te;function We(e){delete e[Re],delete e[De],delete e[Le],delete e[ze],delete e[Fe]}function $e(e){var t=e[Re];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ie]||n[Re]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=wd(e);null!==e;){if(n=e[Re])return n;e=wd(e)}return t}n=(e=n).parentNode}return null}function He(e){if(e=e[Re]||e[Ie]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ke(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(r(33))}function Ue(e){var t=e[Be];return t||(t=e[Be]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ge(e){e[Ve]=!0}var qe=new Set,Ye={};function Xe(e,t){Qe(e,t),Qe(e+"Capture",t)}function Qe(e,t){for(Ye[e]=t,e=0;e<t.length;e++)qe.add(t[e])}var Ze,Je,et=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tt={},nt={};function rt(e,t,n){if(i=t,Z.call(nt,i)||!Z.call(tt,i)&&(et.test(i)?nt[i]=!0:(tt[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function it(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function at(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function st(e){if(void 0===Ze)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ze=t&&t[1]||"",Je=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ze+e+Je}var ot=!1;function lt(e,t){if(!e||ot)return"";ot=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(a){r=a}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"==typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split("\n"),c=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{ot=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?st(n):""}function ct(e){switch(e.tag){case 26:case 27:case 5:return st(e.type);case 16:return st("Lazy");case 13:return st("Suspense");case 19:return st("SuspenseList");case 0:case 15:return lt(e.type,!1);case 11:return lt(e.type.render,!1);case 1:return lt(e.type,!0);case 31:return st("Activity");default:return""}}function ut(e){try{var t="";do{t+=ct(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){e._valueTracker||(e._valueTracker=function(e){var t=ht(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function mt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function gt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function vt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function yt(e,t,n,r,i,a,s,o){e.name="",null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?bt(e,s,dt(t)):null!=n?bt(e,s,dt(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=a&&(e.defaultChecked=!!a),null!=i&&(e.checked=i&&"function"!=typeof i&&"symbol"!=typeof i),null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.name=""+dt(o):e.removeAttribute("name")}function xt(e,t,n,r,i,a,s,o){if(null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(e.type=a),null!=t||null!=n){if(("submit"===a||"reset"===a)&&null==t)return;n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:i)&&"symbol"!=typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.name=s)}function bt(e,t,n){"number"===t&&gt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function _t(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function jt(e,t,n,i){if(null==t){if(null!=i){if(null!=n)throw Error(r(92));if(A(i)){if(1<i.length)throw Error(r(93));i=i[0]}n=i}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(i=e.textContent)===n&&""!==i&&null!==i&&(e.value=i)}function Nt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function St(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(r(62));if(e=e.style,null!=n){for(var i in n)!n.hasOwnProperty(i)||null!=t&&t.hasOwnProperty(i)||(0===i.indexOf("--")?e.setProperty(i,""):"float"===i?e.cssFloat="":e[i]="");for(var a in t)i=t[a],t.hasOwnProperty(a)&&n[a]!==i&&St(e,a,i)}else for(var s in t)t.hasOwnProperty(s)&&St(e,s,t[s])}function Pt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Et=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ot(e){return Mt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var At=null;function Tt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Rt=null,Dt=null;function It(e){var t=He(e);if(t&&(e=t.stateNode)){var n=e[De]||null;e:switch(e=t.stateNode,t.type){case"input":if(yt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var a=i[De]||null;if(!a)throw Error(r(90));yt(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(i=n[t]).form===e.form&&mt(i)}break e;case"textarea":_t(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&wt(e,!!n.multiple,t,!1)}}}var Lt=!1;function zt(e,t,n){if(Lt)return e(t,n);Lt=!0;try{return e(t)}finally{if(Lt=!1,(null!==Rt||null!==Dt)&&($c(),Rt&&(t=Rt,e=Dt,Dt=Rt=null,It(t),e)))for(t=0;t<e.length;t++)It(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var i=n[De]||null;if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}var Bt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Vt=!1;if(Bt)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){Vt=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch(Dh){Vt=!1}var $t=null,Ht=null,Kt=null;function Ut(){if(Kt)return Kt;var e,t,n=Ht,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[a-t];t++);return Kt=i.slice(e,1<t?1-t:void 0)}function Gt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function qt(){return!0}function Yt(){return!1}function Xt(e){function t(t,n,r,i,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?qt:Yt,this.isPropagationStopped=Yt,this}return c(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=qt)},persist:function(){},isPersistent:qt}),t}var Qt,Zt,Jt,en={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tn=Xt(en),nn=c({},en,{view:0,detail:0}),rn=Xt(nn),an=c({},nn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jt&&(Jt&&"mousemove"===e.type?(Qt=e.screenX-Jt.screenX,Zt=e.screenY-Jt.screenY):Zt=Qt=0,Jt=e),Qt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),sn=Xt(an),on=Xt(c({},an,{dataTransfer:0})),ln=Xt(c({},nn,{relatedTarget:0})),cn=Xt(c({},en,{animationName:0,elapsedTime:0,pseudoElement:0})),un=Xt(c({},en,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),dn=Xt(c({},en,{data:0})),hn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function pn(){return gn}var vn=Xt(c({},nn,{key:function(e){if(e.key){var t=hn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Gt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?fn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Gt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Gt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),yn=Xt(c({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xn=Xt(c({},nn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),bn=Xt(c({},en,{propertyName:0,elapsedTime:0,pseudoElement:0})),wn=Xt(c({},an,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),_n=Xt(c({},en,{newState:0,oldState:0})),jn=[9,13,27,32],Nn=Bt&&"CompositionEvent"in window,kn=null;Bt&&"documentMode"in document&&(kn=document.documentMode);var Sn=Bt&&"TextEvent"in window&&!kn,Cn=Bt&&(!Nn||kn&&8<kn&&11>=kn),Pn=String.fromCharCode(32),En=!1;function Mn(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function On(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var An=!1,Tn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Tn[e.type]:"textarea"===t}function Dn(e,t,n,r){Rt?Dt?Dt.push(r):Dt=[r]:Rt=r,0<(t=Uu(t,"onChange")).length&&(n=new tn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var In=null,Ln=null;function zn(e){zu(e,0)}function Fn(e){if(mt(Ke(e)))return e}function Bn(e,t){if("change"===e)return t}var Vn=!1;if(Bt){var Wn;if(Bt){var $n="oninput"in document;if(!$n){var Hn=document.createElement("div");Hn.setAttribute("oninput","return;"),$n="function"==typeof Hn.oninput}Wn=$n}else Wn=!1;Vn=Wn&&(!document.documentMode||9<document.documentMode)}function Kn(){In&&(In.detachEvent("onpropertychange",Un),Ln=In=null)}function Un(e){if("value"===e.propertyName&&Fn(Ln)){var t=[];Dn(t,Ln,e,Tt(e)),zt(zn,t)}}function Gn(e,t,n){"focusin"===e?(Kn(),Ln=n,(In=t).attachEvent("onpropertychange",Un)):"focusout"===e&&Kn()}function qn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fn(Ln)}function Yn(e,t){if("click"===e)return Fn(t)}function Xn(e,t){if("input"===e||"change"===e)return Fn(t)}var Qn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Zn(e,t){if(Qn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Z.call(t,i)||!Qn(e[i],t[i]))return!1}return!0}function Jn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function er(e,t){var n,r=Jn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jn(r)}}function tr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?tr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function nr(e){for(var t=gt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=gt((e=t.contentWindow).document)}return t}function rr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ir=Bt&&"documentMode"in document&&11>=document.documentMode,ar=null,sr=null,or=null,lr=!1;function cr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;lr||null==ar||ar!==gt(r)||(r="selectionStart"in(r=ar)&&rr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},or&&Zn(or,r)||(or=r,0<(r=Uu(sr,"onSelect")).length&&(t=new tn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ar)))}function ur(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dr={animationend:ur("Animation","AnimationEnd"),animationiteration:ur("Animation","AnimationIteration"),animationstart:ur("Animation","AnimationStart"),transitionrun:ur("Transition","TransitionRun"),transitionstart:ur("Transition","TransitionStart"),transitioncancel:ur("Transition","TransitionCancel"),transitionend:ur("Transition","TransitionEnd")},hr={},fr={};function mr(e){if(hr[e])return hr[e];if(!dr[e])return e;var t,n=dr[e];for(t in n)if(n.hasOwnProperty(t)&&t in fr)return hr[e]=n[t];return e}Bt&&(fr=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);var gr=mr("animationend"),pr=mr("animationiteration"),vr=mr("animationstart"),yr=mr("transitionrun"),xr=mr("transitionstart"),br=mr("transitioncancel"),wr=mr("transitionend"),_r=new Map,jr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){_r.set(e,t),Xe(t,[e])}jr.push("scrollEnd");var kr=new WeakMap;function Sr(e,t){if("object"==typeof e&&null!==e){var n=kr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ut(t)},kr.set(e,t),t)}return{value:e,source:t,stack:ut(t)}}var Cr=[],Pr=0,Er=0;function Mr(){for(var e=Pr,t=Er=Pr=0;t<e;){var n=Cr[t];Cr[t++]=null;var r=Cr[t];Cr[t++]=null;var i=Cr[t];Cr[t++]=null;var a=Cr[t];if(Cr[t++]=null,null!==r&&null!==i){var s=r.pending;null===s?i.next=i:(i.next=s.next,s.next=i),r.pending=i}0!==a&&Rr(n,i,a)}}function Or(e,t,n,r){Cr[Pr++]=e,Cr[Pr++]=t,Cr[Pr++]=n,Cr[Pr++]=r,Er|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ar(e,t,n,r){return Or(e,t,n,r),Dr(e)}function Tr(e,t){return Or(e,null,null,t),Dr(e)}function Rr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,i&&null!==t&&(i=31-ge(n),null===(r=(e=a.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),a):null}function Dr(e){if(50<Rc)throw Rc=0,Dc=null,Error(r(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Ir={};function Lr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(e,t,n,r){return new Lr(e,t,n,r)}function Fr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Br(e,t){var n=e.alternate;return null===n?((n=zr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Vr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Wr(e,t,n,i,a,s){var o=0;if(i=e,"function"==typeof e)Fr(e)&&(o=1);else if("string"==typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,H.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case k:return(e=zr(31,n,t,a)).elementType=k,e.lanes=s,e;case f:return $r(n.children,a,s,t);case m:o=8,a|=24;break;case g:return(e=zr(12,n,t,2|a)).elementType=g,e.lanes=s,e;case b:return(e=zr(13,n,t,a)).elementType=b,e.lanes=s,e;case w:return(e=zr(19,n,t,a)).elementType=w,e.lanes=s,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case p:case y:o=10;break e;case v:o=9;break e;case x:o=11;break e;case _:o=14;break e;case j:o=16,i=null;break e}o=29,n=Error(r(130,null===e?"null":typeof e,"")),i=null}return(t=zr(o,n,t,a)).elementType=e,t.type=i,t.lanes=s,t}function $r(e,t,n,r){return(e=zr(7,e,r,t)).lanes=n,e}function Hr(e,t,n){return(e=zr(6,e,null,t)).lanes=n,e}function Kr(e,t,n){return(t=zr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ur=[],Gr=0,qr=null,Yr=0,Xr=[],Qr=0,Zr=null,Jr=1,ei="";function ti(e,t){Ur[Gr++]=Yr,Ur[Gr++]=qr,qr=e,Yr=t}function ni(e,t,n){Xr[Qr++]=Jr,Xr[Qr++]=ei,Xr[Qr++]=Zr,Zr=e;var r=Jr;e=ei;var i=32-ge(r)-1;r&=~(1<<i),n+=1;var a=32-ge(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Jr=1<<32-ge(t)+i|n<<i|r,ei=a+e}else Jr=1<<a|n<<i|r,ei=e}function ri(e){null!==e.return&&(ti(e,1),ni(e,1,0))}function ii(e){for(;e===qr;)qr=Ur[--Gr],Ur[Gr]=null,Yr=Ur[--Gr],Ur[Gr]=null;for(;e===Zr;)Zr=Xr[--Qr],Xr[Qr]=null,ei=Xr[--Qr],Xr[Qr]=null,Jr=Xr[--Qr],Xr[Qr]=null}var ai=null,si=null,oi=!1,li=null,ci=!1,ui=Error(r(519));function di(e){throw vi(Sr(Error(r(418,"")),e)),ui}function hi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Re]=e,t[De]=r,n){case"dialog":Fu("cancel",t),Fu("close",t);break;case"iframe":case"object":case"embed":Fu("load",t);break;case"video":case"audio":for(n=0;n<Iu.length;n++)Fu(Iu[n],t);break;case"source":Fu("error",t);break;case"img":case"image":case"link":Fu("error",t),Fu("load",t);break;case"details":Fu("toggle",t);break;case"input":Fu("invalid",t),xt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ft(t);break;case"select":Fu("invalid",t);break;case"textarea":Fu("invalid",t),jt(t,r.value,r.defaultValue,r.children),ft(t)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Zu(t.textContent,n)?(null!=r.popover&&(Fu("beforetoggle",t),Fu("toggle",t)),null!=r.onScroll&&Fu("scroll",t),null!=r.onScrollEnd&&Fu("scrollend",t),null!=r.onClick&&(t.onclick=Ju),t=!0):t=!1,t||di(e)}function fi(e){for(ai=e.return;ai;)switch(ai.tag){case 5:case 13:return void(ci=!1);case 27:case 3:return void(ci=!0);default:ai=ai.return}}function mi(e){if(e!==ai)return!1;if(!oi)return fi(e),oi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ld(e.type,e.memoizedProps)),t=!t),t&&si&&di(e),fi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){si=xd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}si=null}}else 27===n?(n=si,gd(e.type)?(e=bd,bd=null,si=e):si=n):si=ai?xd(e.stateNode.nextSibling):null;return!0}function gi(){si=ai=null,oi=!1}function pi(){var e=li;return null!==e&&(null===wc?wc=e:wc.push.apply(wc,e),li=null),e}function vi(e){null===li?li=[e]:li.push(e)}var yi=B(null),xi=null,bi=null;function wi(e,t,n){$(yi,t._currentValue),t._currentValue=n}function _i(e){e._currentValue=yi.current,V(yi)}function ji(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ni(e,t,n,i){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var s=a.dependencies;if(null!==s){var o=a.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=a;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ji(s.return,n,e),i||(o=null);break e}s=l.next}}else if(18===a.tag){if(null===(o=a.return))throw Error(r(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),ji(o,n,e),o=null}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===e){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}}function ki(e,t,n,i){e=null;for(var a=t,s=!1;null!==a;){if(!s)if(524288&a.flags)s=!0;else if(262144&a.flags)break;if(10===a.tag){var o=a.alternate;if(null===o)throw Error(r(387));if(null!==(o=o.memoizedProps)){var l=a.type;Qn(a.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(a===G.current){if(null===(o=a.alternate))throw Error(r(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(Xd):e=[Xd])}a=a.return}null!==e&&Ni(t,e,n,i),t.flags|=262144}function Si(e){for(e=e.firstContext;null!==e;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ci(e){xi=e,bi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Pi(e){return Mi(xi,e)}function Ei(e,t){return null===xi&&Ci(e),Mi(e,t)}function Mi(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===bi){if(null===e)throw Error(r(308));bi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else bi=bi.next=t;return n}var Oi="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ai=e.unstable_scheduleCallback,Ti=e.unstable_NormalPriority,Ri={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Di(){return{controller:new Oi,data:new Map,refCount:0}}function Ii(e){e.refCount--,0===e.refCount&&Ai(Ti,function(){e.controller.abort()})}var Li=null,zi=0,Fi=0,Bi=null;function Vi(){if(0===--zi&&null!==Li){null!==Bi&&(Bi.status="fulfilled");var e=Li;Li=null,Fi=0,Bi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Wi=T.S;T.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Li){var n=Li=[];zi=0,Fi=Ou(),Bi={status:"pending",value:void 0,then:function(e){n.push(e)}}}zi++,t.then(Vi,Vi)}(0,t),null!==Wi&&Wi(e,t)};var $i=B(null);function Hi(){var e=$i.current;return null!==e?e:ac.pooledCache}function Ki(e,t){$($i,null===t?$i.current:t.pool)}function Ui(){var e=Hi();return null===e?null:{parent:Ri._currentValue,pool:e}}var Gi=Error(r(460)),qi=Error(r(474)),Yi=Error(r(542)),Xi={then:function(){}};function Qi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Zi(){}function Ji(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Zi,Zi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw na(e=t.reason),e;default:if("string"==typeof t.status)t.then(Zi,Zi);else{if(null!==(e=ac)&&100<e.shellSuspendCounter)throw Error(r(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw na(e=t.reason),e}throw ea=t,Gi}}var ea=null;function ta(){if(null===ea)throw Error(r(459));var e=ea;return ea=null,e}function na(e){if(e===Gi||e===Yi)throw Error(r(483))}var ra=!1;function ia(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function aa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function sa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&ic){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Dr(e),Rr(e,null,n),t}return Or(e,r,t,n),Dr(e)}function la(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ee(e,n)}}function ca(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ua=!1;function da(){if(ua&&null!==Bi)throw Bi}function ha(e,t,n,r){ua=!1;var i=e.updateQueue;ra=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,u=l.next;l.next=null,null===s?a=u:s.next=u,s=l;var d=e.alternate;null!==d&&(o=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===o?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l)}if(null!==a){var h=i.baseState;for(s=0,d=u=l=null,o=a;;){var f=-536870913&o.lane,m=f!==o.lane;if(m?(oc&f)===f:(r&f)===f){0!==f&&f===Fi&&(ua=!0),null!==d&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var g=e,p=o;f=t;var v=n;switch(p.tag){case 1:if("function"==typeof(g=p.payload)){h=g.call(v,h,f);break e}h=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null==(f="function"==typeof(g=p.payload)?g.call(v,h,f):g))break e;h=c({},h,f);break e;case 2:ra=!0}}null!==(f=o.callback)&&(e.flags|=64,m&&(e.flags|=8192),null===(m=i.callbacks)?i.callbacks=[f]:m.push(f))}else m={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(u=d=m,l=h):d=d.next=m,s|=f;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(m=o).next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}null===d&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,null===a&&(i.shared.lanes=0),gc|=s,e.lanes=s,e.memoizedState=h}}function fa(e,t){if("function"!=typeof e)throw Error(r(191,e));e.call(t)}function ma(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)fa(n[e],t)}var ga=B(null),pa=B(0);function va(e,t){$(pa,e=fc),$(ga,t),fc=e|t.baseLanes}function ya(){$(pa,fc),$(ga,ga.current)}function xa(){fc=pa.current,V(ga),V(pa)}var ba=0,wa=null,_a=null,ja=null,Na=!1,ka=!1,Sa=!1,Ca=0,Pa=0,Ea=null,Ma=0;function Oa(){throw Error(r(321))}function Aa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function Ta(e,t,n,r,i,a){return ba=a,wa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,T.H=null===e||null===e.memoizedState?Gs:qs,Sa=!1,a=n(r,i),Sa=!1,ka&&(a=Da(t,n,r,i)),Ra(e),a}function Ra(e){T.H=Us;var t=null!==_a&&null!==_a.next;if(ba=0,ja=_a=wa=null,Na=!1,Pa=0,Ea=null,t)throw Error(r(300));null===e||Eo||null!==(e=e.dependencies)&&Si(e)&&(Eo=!0)}function Da(e,t,n,i){wa=e;var a=0;do{if(ka&&(Ea=null),Pa=0,ka=!1,25<=a)throw Error(r(301));if(a+=1,ja=_a=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}T.H=Ys,s=t(n,i)}while(ka);return s}function Ia(){var e=T.H,t=e.useState()[0];return t="function"==typeof t.then?Wa(t):t,e=e.useState()[0],(null!==_a?_a.memoizedState:null)!==e&&(wa.flags|=1024),t}function La(){var e=0!==Ca;return Ca=0,e}function za(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Fa(e){if(Na){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Na=!1}ba=0,ja=_a=wa=null,ka=!1,Pa=Ca=0,Ea=null}function Ba(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ja?wa.memoizedState=ja=e:ja=ja.next=e,ja}function Va(){if(null===_a){var e=wa.alternate;e=null!==e?e.memoizedState:null}else e=_a.next;var t=null===ja?wa.memoizedState:ja.next;if(null!==t)ja=t,_a=e;else{if(null===e){if(null===wa.alternate)throw Error(r(467));throw Error(r(310))}e={memoizedState:(_a=e).memoizedState,baseState:_a.baseState,baseQueue:_a.baseQueue,queue:_a.queue,next:null},null===ja?wa.memoizedState=ja=e:ja=ja.next=e}return ja}function Wa(e){var t=Pa;return Pa+=1,null===Ea&&(Ea=[]),e=Ji(Ea,e,t),t=wa,null===(null===ja?t.memoizedState:ja.next)&&(t=t.alternate,T.H=null===t||null===t.memoizedState?Gs:qs),e}function $a(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return Wa(e);if(e.$$typeof===y)return Pi(e)}throw Error(r(438,String(e)))}function Ha(e){var t=null,n=wa.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=wa.alternate;null!==r&&null!==(r=r.updateQueue)&&null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},wa.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=S;return t.index++,n}function Ka(e,t){return"function"==typeof t?t(e):t}function Ua(e){return Ga(Va(),_a,e)}function Ga(e,t,n){var i=e.queue;if(null===i)throw Error(r(311));i.lastRenderedReducer=n;var a=e.baseQueue,s=i.pending;if(null!==s){if(null!==a){var o=a.next;a.next=s.next,s.next=o}t.baseQueue=a=s,i.pending=null}if(s=e.baseState,null===a)e.memoizedState=s;else{var l=o=null,c=null,u=t=a.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(oc&h)===h:(ba&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Fi&&(d=!0);else{if((ba&f)===f){u=u.next,f===Fi&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=s):c=c.next=h,wa.lanes|=f,gc|=f}h=u.action,Sa&&n(s,h),s=u.hasEagerState?u.eagerState:n(s,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=s):c=c.next=f,wa.lanes|=h,gc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=s:c.next=l,!Qn(s,e.memoizedState)&&(Eo=!0,d&&null!==(n=Bi)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=c,i.lastRenderedState=s}return null===a&&(i.lanes=0),[e.memoizedState,i.dispatch]}function qa(e){var t=Va(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,a=n.pending,s=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{s=e(s,o.action),o=o.next}while(o!==a);Qn(s,t.memoizedState)||(Eo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function Ya(e,t,n){var i=wa,a=Va(),s=oi;if(s){if(void 0===n)throw Error(r(407));n=n()}else n=t();var o=!Qn((_a||a).memoizedState,n);if(o&&(a.memoizedState=n,Eo=!0),a=a.queue,ys(2048,8,Za.bind(null,i,a,e),[e]),a.getSnapshot!==t||o||null!==ja&&1&ja.memoizedState.tag){if(i.flags|=2048,gs(9,{destroy:void 0,resource:void 0},Qa.bind(null,i,a,n,t),null),null===ac)throw Error(r(349));s||124&ba||Xa(i,t,n)}return n}function Xa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=wa.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},wa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Qa(e,t,n,r){t.value=n,t.getSnapshot=r,Ja(t)&&es(e)}function Za(e,t,n){return n(function(){Ja(t)&&es(e)})}function Ja(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch(r){return!0}}function es(e){var t=Tr(e,2);null!==t&&zc(t,0,2)}function ts(e){var t=Ba();if("function"==typeof e){var n=e;if(e=n(),Sa){me(!0);try{n()}finally{me(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:e},t}function ns(e,t,n,r){return e.baseState=n,Ga(e,_a,"function"==typeof r?r:Ka)}function rs(e,t,n,i,a){if($s(e))throw Error(r(485));if(null!==(e=t.action)){var s={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==T.T?n(!0):s.isTransition=!1,i(s),null===(n=t.pending)?(s.next=t.pending=s,is(t,s)):(s.next=n.next,t.pending=n.next=s)}}function is(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=T.T,s={};T.T=s;try{var o=n(i,r),l=T.S;null!==l&&l(s,o),as(e,t,o)}catch(c){os(e,t,c)}finally{T.T=a}}else try{as(e,t,a=n(i,r))}catch(u){os(e,t,u)}}function as(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){ss(e,t,n)},function(n){return os(e,t,n)}):ss(e,t,n)}function ss(e,t,n){t.status="fulfilled",t.value=n,ls(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,is(e,n)))}function os(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,ls(t),t=t.next}while(t!==r)}e.action=null}function ls(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function cs(e,t){return t}function us(e,t){if(oi){var n=ac.formState;if(null!==n){e:{var r=wa;if(oi){if(si){t:{for(var i=si,a=ci;8!==i.nodeType;){if(!a){i=null;break t}if(null===(i=xd(i.nextSibling))){i=null;break t}}i="F!"===(a=i.data)||"F"===a?i:null}if(i){si=xd(i.nextSibling),r="F!"===i.data;break e}}di(r)}r=!1}r&&(t=n[0])}}return(n=Ba()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:t},n.queue=r,n=Bs.bind(null,wa,r),r.dispatch=n,r=ts(!1),a=Ws.bind(null,wa,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=Ba()).queue=i,n=rs.bind(null,wa,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function ds(e){return hs(Va(),_a,e)}function hs(e,t,n){if(t=Ga(e,t,cs)[0],e=Ua(Ka)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=Wa(t)}catch(s){if(s===Gi)throw Yi;throw s}else r=t;var i=(t=Va()).queue,a=i.dispatch;return n!==t.memoizedState&&(wa.flags|=2048,gs(9,{destroy:void 0,resource:void 0},fs.bind(null,i,n),null)),[r,a,e]}function fs(e,t){e.action=t}function ms(e){var t=Va(),n=_a;if(null!==n)return hs(t,n,e);Va(),t=t.memoizedState;var r=(n=Va()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function gs(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=wa.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},wa.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ps(){return Va().memoizedState}function vs(e,t,n,r){var i=Ba();r=void 0===r?null:r,wa.flags|=e,i.memoizedState=gs(1|t,{destroy:void 0,resource:void 0},n,r)}function ys(e,t,n,r){var i=Va();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==_a&&null!==r&&Aa(r,_a.memoizedState.deps)?i.memoizedState=gs(t,a,n,r):(wa.flags|=e,i.memoizedState=gs(1|t,a,n,r))}function xs(e,t){vs(8390656,8,e,t)}function bs(e,t){ys(2048,8,e,t)}function ws(e,t){return ys(4,2,e,t)}function _s(e,t){return ys(4,4,e,t)}function js(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Ns(e,t,n){n=null!=n?n.concat([e]):null,ys(4,4,js.bind(null,t,e),n)}function ks(){}function Ss(e,t){var n=Va();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Aa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Cs(e,t){var n=Va();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Aa(t,r[1]))return r[0];if(r=e(),Sa){me(!0);try{e()}finally{me(!1)}}return n.memoizedState=[r,t],r}function Ps(e,t,n){return void 0===n||1073741824&ba?e.memoizedState=t:(e.memoizedState=n,e=Lc(),wa.lanes|=e,gc|=e,n)}function Es(e,t,n,r){return Qn(n,t)?n:null!==ga.current?(e=Ps(e,n,r),Qn(e,t)||(Eo=!0),e):42&ba?(e=Lc(),wa.lanes|=e,gc|=e,t):(Eo=!0,e.memoizedState=n)}function Ms(e,t,n,r,i){var a=D.p;D.p=0!==a&&8>a?a:8;var s,o,l,c=T.T,u={};T.T=u,Ws(e,!1,t,n);try{var d=i(),h=T.S;null!==h&&h(u,d),null!==d&&"object"==typeof d&&"function"==typeof d.then?Vs(e,t,(s=r,o=[],l={status:"pending",value:null,reason:null,then:function(e){o.push(e)}},d.then(function(){l.status="fulfilled",l.value=s;for(var e=0;e<o.length;e++)(0,o[e])(s)},function(e){for(l.status="rejected",l.reason=e,e=0;e<o.length;e++)(0,o[e])(void 0)}),l),Ic()):Vs(e,t,r,Ic())}catch(f){Vs(e,t,{then:function(){},status:"rejected",reason:f},Ic())}finally{D.p=a,T.T=c}}function Os(){}function As(e,t,n,i){if(5!==e.tag)throw Error(r(476));var a=Ts(e).queue;Ms(e,a,t,I,null===n?Os:function(){return Rs(e),n(i)})}function Ts(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:I},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Rs(e){Vs(e,Ts(e).next.queue,{},Ic())}function Ds(){return Pi(Xd)}function Is(){return Va().memoizedState}function Ls(){return Va().memoizedState}function zs(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Ic(),r=oa(t,e=sa(n),n);return null!==r&&(zc(r,0,n),la(r,t,n)),t={cache:Di()},void(e.payload=t)}t=t.return}}function Fs(e,t,n){var r=Ic();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},$s(e)?Hs(t,n):null!==(n=Ar(e,t,n,r))&&(zc(n,0,r),Ks(n,t,r))}function Bs(e,t,n){Vs(e,t,n,Ic())}function Vs(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if($s(e))Hs(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,Qn(o,s))return Or(e,t,i,0),null===ac&&Mr(),!1}catch(l){}if(null!==(n=Ar(e,t,i,r)))return zc(n,0,r),Ks(n,t,r),!0}return!1}function Ws(e,t,n,i){if(i={lane:2,revertLane:Ou(),action:i,hasEagerState:!1,eagerState:null,next:null},$s(e)){if(t)throw Error(r(479))}else null!==(t=Ar(e,n,i,2))&&zc(t,0,2)}function $s(e){var t=e.alternate;return e===wa||null!==t&&t===wa}function Hs(e,t){ka=Na=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ks(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ee(e,n)}}var Us={readContext:Pi,use:$a,useCallback:Oa,useContext:Oa,useEffect:Oa,useImperativeHandle:Oa,useLayoutEffect:Oa,useInsertionEffect:Oa,useMemo:Oa,useReducer:Oa,useRef:Oa,useState:Oa,useDebugValue:Oa,useDeferredValue:Oa,useTransition:Oa,useSyncExternalStore:Oa,useId:Oa,useHostTransitionStatus:Oa,useFormState:Oa,useActionState:Oa,useOptimistic:Oa,useMemoCache:Oa,useCacheRefresh:Oa},Gs={readContext:Pi,use:$a,useCallback:function(e,t){return Ba().memoizedState=[e,void 0===t?null:t],e},useContext:Pi,useEffect:xs,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,vs(4194308,4,js.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vs(4194308,4,e,t)},useInsertionEffect:function(e,t){vs(4,2,e,t)},useMemo:function(e,t){var n=Ba();t=void 0===t?null:t;var r=e();if(Sa){me(!0);try{e()}finally{me(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Ba();if(void 0!==n){var i=n(t);if(Sa){me(!0);try{n(t)}finally{me(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Fs.bind(null,wa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ba().memoizedState=e},useState:function(e){var t=(e=ts(e)).queue,n=Bs.bind(null,wa,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ks,useDeferredValue:function(e,t){return Ps(Ba(),e,t)},useTransition:function(){var e=ts(!1);return e=Ms.bind(null,wa,e.queue,!0,!1),Ba().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=wa,a=Ba();if(oi){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===ac)throw Error(r(349));124&oc||Xa(i,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,xs(Za.bind(null,i,s,e),[e]),i.flags|=2048,gs(9,{destroy:void 0,resource:void 0},Qa.bind(null,i,s,n,t),null),n},useId:function(){var e=Ba(),t=ac.identifierPrefix;if(oi){var n=ei;t="«"+t+"R"+(n=(Jr&~(1<<32-ge(Jr)-1)).toString(32)+n),0<(n=Ca++)&&(t+="H"+n.toString(32)),t+="»"}else t="«"+t+"r"+(n=Ma++).toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:Ds,useFormState:us,useActionState:us,useOptimistic:function(e){var t=Ba();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ws.bind(null,wa,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ha,useCacheRefresh:function(){return Ba().memoizedState=zs.bind(null,wa)}},qs={readContext:Pi,use:$a,useCallback:Ss,useContext:Pi,useEffect:bs,useImperativeHandle:Ns,useInsertionEffect:ws,useLayoutEffect:_s,useMemo:Cs,useReducer:Ua,useRef:ps,useState:function(){return Ua(Ka)},useDebugValue:ks,useDeferredValue:function(e,t){return Es(Va(),_a.memoizedState,e,t)},useTransition:function(){var e=Ua(Ka)[0],t=Va().memoizedState;return["boolean"==typeof e?e:Wa(e),t]},useSyncExternalStore:Ya,useId:Is,useHostTransitionStatus:Ds,useFormState:ds,useActionState:ds,useOptimistic:function(e,t){return ns(Va(),0,e,t)},useMemoCache:Ha,useCacheRefresh:Ls},Ys={readContext:Pi,use:$a,useCallback:Ss,useContext:Pi,useEffect:bs,useImperativeHandle:Ns,useInsertionEffect:ws,useLayoutEffect:_s,useMemo:Cs,useReducer:qa,useRef:ps,useState:function(){return qa(Ka)},useDebugValue:ks,useDeferredValue:function(e,t){var n=Va();return null===_a?Ps(n,e,t):Es(n,_a.memoizedState,e,t)},useTransition:function(){var e=qa(Ka)[0],t=Va().memoizedState;return["boolean"==typeof e?e:Wa(e),t]},useSyncExternalStore:Ya,useId:Is,useHostTransitionStatus:Ds,useFormState:ms,useActionState:ms,useOptimistic:function(e,t){var n=Va();return null!==_a?ns(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ha,useCacheRefresh:Ls},Xs=null,Qs=0;function Zs(e){var t=Qs;return Qs+=1,null===Xs&&(Xs=[]),Ji(Xs,e,t)}function Js(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function eo(e,t){if(t.$$typeof===u)throw Error(r(525));throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function to(e){return(0,e._init)(e._payload)}function no(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function i(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Br(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Hr(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===f?m(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===j&&to(i)===t.type)?(Js(t=a(t,n.props),n),t.return=e,t):(Js(t=Wr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Kr(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function m(e,t,n,r,i){return null===t||7!==t.tag?((t=$r(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function g(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Hr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case d:return Js(n=Wr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case h:return(t=Kr(t,e.mode,n)).return=e,t;case j:return g(e,t=(0,t._init)(t._payload),n)}if(A(t)||P(t))return(t=$r(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return g(e,Zs(t),n);if(t.$$typeof===y)return g(e,Ei(e,t),n);eo(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case d:return n.key===i?c(e,t,n,r):null;case h:return n.key===i?u(e,t,n,r):null;case j:return p(e,t,n=(i=n._init)(n._payload),r)}if(A(n)||P(n))return null!==i?null:m(e,t,n,r,null);if("function"==typeof n.then)return p(e,t,Zs(n),r);if(n.$$typeof===y)return p(e,t,Ei(e,n),r);eo(e,n)}return null}function v(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case d:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case h:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case j:return v(e,t,n,r=(0,r._init)(r._payload),i)}if(A(r)||P(r))return m(t,e=e.get(n)||null,r,i,null);if("function"==typeof r.then)return v(e,t,n,Zs(r),i);if(r.$$typeof===y)return v(e,t,n,Ei(t,r),i);eo(t,r)}return null}function x(l,c,u,m){if("object"==typeof u&&null!==u&&u.type===f&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case d:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===f){if(7===c.tag){n(l,c.sibling),(m=a(c,u.props.children)).return=l,l=m;break e}}else if(c.elementType===b||"object"==typeof b&&null!==b&&b.$$typeof===j&&to(b)===c.type){n(l,c.sibling),Js(m=a(c,u.props),u),m.return=l,l=m;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===f?((m=$r(u.props.children,l.mode,m,u.key)).return=l,l=m):(Js(m=Wr(u.type,u.key,u.props,null,l.mode,m),u),m.return=l,l=m)}return o(l);case h:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(m=a(c,u.children||[])).return=l,l=m;break e}n(l,c);break}t(l,c),c=c.sibling}(m=Kr(u,l.mode,m)).return=l,l=m}return o(l);case j:return x(l,c,u=(b=u._init)(u._payload),m)}if(A(u))return function(r,a,o,l){for(var c=null,u=null,d=a,h=a=0,f=null;null!==d&&h<o.length;h++){d.index>h?(f=d,d=null):f=d.sibling;var m=p(r,d,o[h],l);if(null===m){null===d&&(d=f);break}e&&d&&null===m.alternate&&t(r,d),a=s(m,a,h),null===u?c=m:u.sibling=m,u=m,d=f}if(h===o.length)return n(r,d),oi&&ti(r,h),c;if(null===d){for(;h<o.length;h++)null!==(d=g(r,o[h],l))&&(a=s(d,a,h),null===u?c=d:u.sibling=d,u=d);return oi&&ti(r,h),c}for(d=i(d);h<o.length;h++)null!==(f=v(d,r,h,o[h],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?h:f.key),a=s(f,a,h),null===u?c=f:u.sibling=f,u=f);return e&&d.forEach(function(e){return t(r,e)}),oi&&ti(r,h),c}(l,c,u,m);if(P(u)){if("function"!=typeof(b=P(u)))throw Error(r(150));return function(a,o,l,c){if(null==l)throw Error(r(151));for(var u=null,d=null,h=o,f=o=0,m=null,y=l.next();null!==h&&!y.done;f++,y=l.next()){h.index>f?(m=h,h=null):m=h.sibling;var x=p(a,h,y.value,c);if(null===x){null===h&&(h=m);break}e&&h&&null===x.alternate&&t(a,h),o=s(x,o,f),null===d?u=x:d.sibling=x,d=x,h=m}if(y.done)return n(a,h),oi&&ti(a,f),u;if(null===h){for(;!y.done;f++,y=l.next())null!==(y=g(a,y.value,c))&&(o=s(y,o,f),null===d?u=y:d.sibling=y,d=y);return oi&&ti(a,f),u}for(h=i(h);!y.done;f++,y=l.next())null!==(y=v(h,a,f,y.value,c))&&(e&&null!==y.alternate&&h.delete(null===y.key?f:y.key),o=s(y,o,f),null===d?u=y:d.sibling=y,d=y);return e&&h.forEach(function(e){return t(a,e)}),oi&&ti(a,f),u}(l,c,u=b.call(u),m)}if("function"==typeof u.then)return x(l,c,Zs(u),m);if(u.$$typeof===y)return x(l,c,Ei(l,u),m);eo(l,u)}return"string"==typeof u&&""!==u||"number"==typeof u||"bigint"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(m=a(c,u)).return=l,l=m):(n(l,c),(m=Hr(u,l.mode,m)).return=l,l=m),o(l)):n(l,c)}return function(e,t,n,r){try{Qs=0;var i=x(e,t,n,r);return Xs=null,i}catch(s){if(s===Gi||s===Yi)throw s;var a=zr(29,s,null,e.mode);return a.lanes=r,a.return=e,a}}}var ro=no(!0),io=no(!1),ao=B(null),so=null;function oo(e){var t=e.alternate;$(ho,1&ho.current),$(ao,e),null===so&&(null===t||null!==ga.current||null!==t.memoizedState)&&(so=e)}function lo(e){if(22===e.tag){if($(ho,ho.current),$(ao,e),null===so){var t=e.alternate;null!==t&&null!==t.memoizedState&&(so=e)}}else co()}function co(){$(ho,ho.current),$(ao,ao.current)}function uo(e){V(ao),so===e&&(so=null),V(ho)}var ho=B(0);function fo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||yd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function mo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:c({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var go={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ic(),i=sa(r);i.payload=t,null!=n&&(i.callback=n),null!==(t=oa(e,i,r))&&(zc(t,0,r),la(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ic(),i=sa(r);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=oa(e,i,r))&&(zc(t,0,r),la(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ic(),r=sa(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=oa(e,r,n))&&(zc(t,0,n),la(t,e,n))}};function po(e,t,n,r,i,a,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!(t.prototype&&t.prototype.isPureReactComponent&&Zn(n,r)&&Zn(i,a))}function vo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&go.enqueueReplaceState(t,t.state,null)}function yo(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=c({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var xo="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)};function bo(e){xo(e)}function wo(e){}function _o(e){xo(e)}function jo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function No(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function ko(e,t,n){return(n=sa(n)).tag=3,n.payload={element:null},n.callback=function(){jo(e,t)},n}function So(e){return(e=sa(e)).tag=3,e}function Co(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"==typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){No(t,n,r)}}var s=n.stateNode;null!==s&&"function"==typeof s.componentDidCatch&&(e.callback=function(){No(t,n,r),"function"!=typeof i&&(null===Sc?Sc=new Set([this]):Sc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Po=Error(r(461)),Eo=!1;function Mo(e,t,n,r){t.child=null===e?io(t,null,n,r):ro(t,e.child,n,r)}function Oo(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var s={};for(var o in r)"ref"!==o&&(s[o]=r[o])}else s=r;return Ci(t),r=Ta(e,t,n,s,a,i),o=La(),null===e||Eo?(oi&&o&&ri(t),t.flags|=1,Mo(e,t,r,i),t.child):(za(e,t,i),Qo(e,t,i))}function Ao(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||Fr(a)||void 0!==a.defaultProps||null!==n.compare?((e=Wr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,To(e,t,a,r,i))}if(a=e.child,!Zo(e,i)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(s,r)&&e.ref===t.ref)return Qo(e,t,i)}return t.flags|=1,(e=Br(a,r)).ref=t.ref,e.return=t,t.child=e}function To(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(Zn(a,r)&&e.ref===t.ref){if(Eo=!1,t.pendingProps=r=a,!Zo(e,i))return t.lanes=e.lanes,Qo(e,t,i);131072&e.flags&&(Eo=!0)}}return Lo(e,t,n,r,i)}function Ro(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(128&t.flags){if(r=null!==a?a.baseLanes|n:n,null!==e){for(i=t.child=e.child,a=0;null!==i;)a=a|i.lanes|i.childLanes,i=i.sibling;t.childLanes=a&~r}else t.childLanes=0,t.child=null;return Do(e,t,r,n)}if(!(536870912&n))return t.lanes=t.childLanes=536870912,Do(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ki(0,null!==a?a.cachePool:null),null!==a?va(t,a):ya(),lo(t)}else null!==a?(Ki(0,a.cachePool),va(t,a),co(),t.memoizedState=null):(null!==e&&Ki(0,null),ya(),co());return Mo(e,t,i,n),t.child}function Do(e,t,n,r){var i=Hi();return i=null===i?null:{parent:Ri._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Ki(0,null),ya(),lo(t),null!==e&&ki(e,t,r,!0),null}function Io(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(r(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Lo(e,t,n,r,i){return Ci(t),n=Ta(e,t,n,r,void 0,i),r=La(),null===e||Eo?(oi&&r&&ri(t),t.flags|=1,Mo(e,t,n,i),t.child):(za(e,t,i),Qo(e,t,i))}function zo(e,t,n,r,i,a){return Ci(t),t.updateQueue=null,n=Da(t,r,n,i),Ra(e),r=La(),null===e||Eo?(oi&&r&&ri(t),t.flags|=1,Mo(e,t,n,a),t.child):(za(e,t,a),Qo(e,t,a))}function Fo(e,t,n,r,i){if(Ci(t),null===t.stateNode){var a=Ir,s=n.contextType;"object"==typeof s&&null!==s&&(a=Pi(s)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=go,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},ia(t),s=n.contextType,a.context="object"==typeof s&&null!==s?Pi(s):Ir,a.state=t.memoizedState,"function"==typeof(s=n.getDerivedStateFromProps)&&(mo(t,n,s,r),a.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(s=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),s!==a.state&&go.enqueueReplaceState(a,a.state,null),ha(t,r,a,i),da(),a.state=t.memoizedState),"function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var o=t.memoizedProps,l=yo(n,o);a.props=l;var c=a.context,u=n.contextType;s=Ir,"object"==typeof u&&null!==u&&(s=Pi(u));var d=n.getDerivedStateFromProps;u="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o||c!==s)&&vo(t,a,r,s),ra=!1;var h=t.memoizedState;a.state=h,ha(t,r,a,i),da(),c=t.memoizedState,o||h!==c||ra?("function"==typeof d&&(mo(t,n,d,r),c=t.memoizedState),(l=ra||po(t,n,l,r,h,c,s))?(u||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=s,r=l):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,aa(e,t),u=yo(n,s=t.memoizedProps),a.props=u,d=t.pendingProps,h=a.context,c=n.contextType,l=Ir,"object"==typeof c&&null!==c&&(l=Pi(c)),(c="function"==typeof(o=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||h!==l)&&vo(t,a,r,l),ra=!1,h=t.memoizedState,a.state=h,ha(t,r,a,i),da();var f=t.memoizedState;s!==d||h!==f||ra||null!==e&&null!==e.dependencies&&Si(e.dependencies)?("function"==typeof o&&(mo(t,n,o,r),f=t.memoizedState),(u=ra||po(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Si(e.dependencies))?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=u):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Io(e,t),r=!!(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=ro(t,e.child,null,i),t.child=ro(t,null,n,i)):Mo(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Qo(e,t,i),e}function Bo(e,t,n,r){return gi(),t.flags|=256,Mo(e,t,n,r),t.child}var Vo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wo(e){return{baseLanes:e,cachePool:Ui()}}function $o(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=yc),e}function Ho(e,t,n){var i,a=t.pendingProps,s=!1,o=!!(128&t.flags);if((i=o)||(i=(null===e||null!==e.memoizedState)&&!!(2&ho.current)),i&&(s=!0,t.flags&=-129),i=!!(32&t.flags),t.flags&=-33,null===e){if(oi){if(s?oo(t):co(),oi){var l,c=si;if(l=c){e:{for(l=c,c=ci;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=xd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Zr?{id:Jr,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},(l=zr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ai=t,si=null,l=!0):l=!1}l||di(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return yd(c)?t.lanes=32:t.lanes=536870912,null;uo(t)}return c=a.children,a=a.fallback,s?(co(),c=Uo({mode:"hidden",children:c},s=t.mode),a=$r(a,s,n,null),c.return=t,a.return=t,c.sibling=a,t.child=c,(s=t.child).memoizedState=Wo(n),s.childLanes=$o(e,i,n),t.memoizedState=Vo,a):(oo(t),Ko(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(oo(t),t.flags&=-257,t=Go(e,t,n)):null!==t.memoizedState?(co(),t.child=e.child,t.flags|=128,t=null):(co(),s=a.fallback,c=t.mode,a=Uo({mode:"visible",children:a.children},c),(s=$r(s,c,n,null)).flags|=2,a.return=t,s.return=t,a.sibling=s,t.child=a,ro(t,e.child,null,n),(a=t.child).memoizedState=Wo(n),a.childLanes=$o(e,i,n),t.memoizedState=Vo,t=s);else if(oo(t),yd(c)){if(i=c.nextSibling&&c.nextSibling.dataset)var u=i.dgst;i=u,(a=Error(r(419))).stack="",a.digest=i,vi({value:a,source:null,stack:null}),t=Go(e,t,n)}else if(Eo||ki(e,t,n,!1),i=0!==(n&e.childLanes),Eo||i){if(null!==(i=ac)&&0!==(a=0!==((a=42&(a=n&-n)?1:Me(a))&(i.suspendedLanes|n))?0:a)&&a!==l.retryLane)throw l.retryLane=a,Tr(e,a),zc(i,0,a),Po;"$?"===c.data||Yc(),t=Go(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,si=xd(c.nextSibling),ai=t,oi=!0,li=null,ci=!1,null!==e&&(Xr[Qr++]=Jr,Xr[Qr++]=ei,Xr[Qr++]=Zr,Jr=e.id,ei=e.overflow,Zr=t),(t=Ko(t,a.children)).flags|=4096);return t}return s?(co(),s=a.fallback,c=t.mode,u=(l=e.child).sibling,(a=Br(l,{mode:"hidden",children:a.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?s=Br(u,s):(s=$r(s,c,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,null===(c=e.child.memoizedState)?c=Wo(n):(null!==(l=c.cachePool)?(u=Ri._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Ui(),c={baseLanes:c.baseLanes|n,cachePool:l}),s.memoizedState=c,s.childLanes=$o(e,i,n),t.memoizedState=Vo,a):(oo(t),e=(n=e.child).sibling,(n=Br(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function Ko(e,t){return(t=Uo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Uo(e,t){return(e=zr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Go(e,t,n){return ro(t,e.child,null,n),(e=Ko(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function qo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ji(e.return,t,n)}function Yo(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Xo(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Mo(e,t,r.children,n),2&(r=ho.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&qo(e,n,t);else if(19===e.tag)qo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch($(ho,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===fo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Yo(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===fo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Yo(t,!0,n,null,a);break;case"together":Yo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),gc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(ki(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Br(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Br(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Zo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Si(e))}function Jo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Eo=!0;else{if(!(Zo(e,n)||128&t.flags))return Eo=!1,function(e,t,n){switch(t.tag){case 3:q(t,t.stateNode.containerInfo),wi(0,Ri,e.memoizedState.cache),gi();break;case 27:case 5:X(t);break;case 4:q(t,t.stateNode.containerInfo);break;case 10:wi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(oo(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Ho(e,t,n):(oo(t),null!==(e=Qo(e,t,n))?e.sibling:null);oo(t);break;case 19:var i=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(ki(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Xo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),$(ho,ho.current),r)break;return null;case 22:case 23:return t.lanes=0,Ro(e,t,n);case 24:wi(0,Ri,e.memoizedState.cache)}return Qo(e,t,n)}(e,t,n);Eo=!!(131072&e.flags)}else Eo=!1,oi&&1048576&t.flags&&ni(t,Yr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,a=i._init;if(i=a(i._payload),t.type=i,"function"!=typeof i){if(null!=i){if((a=i.$$typeof)===x){t.tag=11,t=Oo(null,t,i,e,n);break e}if(a===_){t.tag=14,t=Ao(null,t,i,e,n);break e}}throw t=M(i)||i,Error(r(306,t,""))}Fr(i)?(e=yo(i,e),t.tag=1,t=Fo(null,t,i,e,n)):(t.tag=0,t=Lo(null,t,i,e,n))}return t;case 0:return Lo(e,t,t.type,t.pendingProps,n);case 1:return Fo(e,t,i=t.type,a=yo(i,t.pendingProps),n);case 3:e:{if(q(t,t.stateNode.containerInfo),null===e)throw Error(r(387));i=t.pendingProps;var s=t.memoizedState;a=s.element,aa(e,t),ha(t,i,null,n);var o=t.memoizedState;if(i=o.cache,wi(0,Ri,i),i!==s.cache&&Ni(t,[Ri],n,!0),da(),i=o.element,s.isDehydrated){if(s={element:i,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Bo(e,t,i,n);break e}if(i!==a){vi(a=Sr(Error(r(424)),t)),t=Bo(e,t,i,n);break e}for(e=9===(e=t.stateNode.containerInfo).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,si=xd(e.firstChild),ai=t,oi=!0,li=null,ci=!0,n=io(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(gi(),i===a){t=Qo(e,t,n);break e}Mo(e,t,i,n)}t=t.child}return t;case 26:return Io(e,t),null===e?(n=Md(t.type,null,t.pendingProps,null))?t.memoizedState=n:oi||(n=t.type,e=t.pendingProps,(i=ad(U.current).createElement(n))[Re]=t,i[De]=e,nd(i,n,e),Ge(i),t.stateNode=i):t.memoizedState=Md(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return X(t),null===e&&oi&&(i=t.stateNode=_d(t.type,t.pendingProps,U.current),ai=t,ci=!0,a=si,gd(t.type)?(bd=a,si=xd(i.firstChild)):si=a),Mo(e,t,t.pendingProps.children,n),Io(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&oi&&((a=i=si)&&(null!==(i=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ve])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===a)return e}if(null===(e=xd(e.nextSibling)))break}return null}(i,t.type,t.pendingProps,ci))?(t.stateNode=i,ai=t,si=xd(i.firstChild),ci=!1,a=!0):a=!1),a||di(t)),X(t),a=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,i=s.children,ld(a,s)?i=null:null!==o&&ld(a,o)&&(t.flags|=32),null!==t.memoizedState&&(a=Ta(e,t,Ia,null,null,n),Xd._currentValue=a),Io(e,t),Mo(e,t,i,n),t.child;case 6:return null===e&&oi&&((e=n=si)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=xd(e.nextSibling)))return null}return e}(n,t.pendingProps,ci))?(t.stateNode=n,ai=t,si=null,e=!0):e=!1),e||di(t)),null;case 13:return Ho(e,t,n);case 4:return q(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=ro(t,null,i,n):Mo(e,t,i,n),t.child;case 11:return Oo(e,t,t.type,t.pendingProps,n);case 7:return Mo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Mo(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,wi(0,t.type,i.value),Mo(e,t,i.children,n),t.child;case 9:return a=t.type._context,i=t.pendingProps.children,Ci(t),i=i(a=Pi(a)),t.flags|=1,Mo(e,t,i,n),t.child;case 14:return Ao(e,t,t.type,t.pendingProps,n);case 15:return To(e,t,t.type,t.pendingProps,n);case 19:return Xo(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},null===e?((n=Uo(i,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Br(e.child,i)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ro(e,t,n);case 24:return Ci(t),i=Pi(Ri),null===e?(null===(a=Hi())&&(a=ac,s=Di(),a.pooledCache=s,s.refCount++,null!==s&&(a.pooledCacheLanes|=n),a=s),t.memoizedState={parent:i,cache:a},ia(t),wi(0,Ri,a)):(0!==(e.lanes&n)&&(aa(e,t),ha(t,null,null,n),da()),a=e.memoizedState,s=t.memoizedState,a.parent!==i?(a={parent:i,cache:i},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),wi(0,Ri,i)):(i=s.cache,wi(0,Ri,i),i!==a.cache&&Ni(t,[Ri],n,!0))),Mo(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function el(e){e.flags|=4}function tl(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!$d(t)){if(null!==(t=ao.current)&&((4194048&oc)===oc?null!==so:(62914560&oc)!==oc&&!(536870912&oc)||t!==so))throw ea=Xi,qi;e.flags|=8192}}function nl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?ke():536870912,e.lanes|=t,xc|=t)}function rl(e,t){if(!oi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function il(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function al(e,t,n){var i=t.pendingProps;switch(ii(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return il(t),null;case 3:return n=t.stateNode,i=null,null!==e&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),_i(Ri),Y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(mi(t)?el(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,pi())),il(t),null;case 26:return n=t.memoizedState,null===e?(el(t),null!==n?(il(t),tl(t,n)):(il(t),t.flags&=-16777217)):n?n!==e.memoizedState?(el(t),il(t),tl(t,n)):(il(t),t.flags&=-16777217):(e.memoizedProps!==i&&el(t),il(t),t.flags&=-16777217),null;case 27:Q(t),n=U.current;var a=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==i&&el(t);else{if(!i){if(null===t.stateNode)throw Error(r(166));return il(t),null}e=H.current,mi(t)?hi(t):(e=_d(a,i,n),t.stateNode=e,el(t))}return il(t),null;case 5:if(Q(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&el(t);else{if(!i){if(null===t.stateNode)throw Error(r(166));return il(t),null}if(e=H.current,mi(t))hi(t);else{switch(a=ad(U.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof i.is?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e="string"==typeof i.is?a.createElement(n,{is:i.is}):a.createElement(n)}}e[Re]=t,e[De]=i;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(nd(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&el(t)}}return il(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==i&&el(t);else{if("string"!=typeof i&&null===t.stateNode)throw Error(r(166));if(e=U.current,mi(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,null!==(a=ai))switch(a.tag){case 27:case 5:i=a.memoizedProps}e[Re]=t,(e=!!(e.nodeValue===n||null!==i&&!0===i.suppressHydrationWarning||Zu(e.nodeValue,n)))||di(t)}else(e=ad(e).createTextNode(i))[Re]=t,t.stateNode=e}return il(t),null;case 13:if(i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=mi(t),null!==i&&null!==i.dehydrated){if(null===e){if(!a)throw Error(r(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(r(317));a[Re]=t}else gi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;il(t),a=!1}else a=pi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(uo(t),t):(uo(t),null)}if(uo(t),128&t.flags)return t.lanes=n,t;if(n=null!==i,e=null!==e&&null!==e.memoizedState,n){a=null,null!==(i=t.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(a=i.alternate.memoizedState.cachePool.pool);var s=null;null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(s=i.memoizedState.cachePool.pool),s!==a&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),nl(t,t.updateQueue),il(t),null;case 4:return Y(),null===e&&Wu(t.stateNode.containerInfo),il(t),null;case 10:return _i(t.type),il(t),null;case 19:if(V(ho),null===(a=t.memoizedState))return il(t),null;if(i=!!(128&t.flags),null===(s=a.rendering))if(i)rl(a,!1);else{if(0!==mc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(s=fo(e))){for(t.flags|=128,rl(a,!1),e=s.updateQueue,t.updateQueue=e,nl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Vr(n,e),n=n.sibling;return $(ho,1&ho.current|2),t.child}e=e.sibling}null!==a.tail&&re()>Nc&&(t.flags|=128,i=!0,rl(a,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=fo(s))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,nl(t,e),rl(a,!0),null===a.tail&&"hidden"===a.tailMode&&!s.alternate&&!oi)return il(t),null}else 2*re()-a.renderingStartTime>Nc&&536870912!==n&&(t.flags|=128,i=!0,rl(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=a.last)?e.sibling=s:t.child=s,a.last=s)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=re(),t.sibling=null,e=ho.current,$(ho,i?1&e|2:1&e),t):(il(t),null);case 22:case 23:return uo(t),xa(),i=null!==t.memoizedState,null!==e?null!==e.memoizedState!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?!!(536870912&n)&&!(128&t.flags)&&(il(t),6&t.subtreeFlags&&(t.flags|=8192)):il(t),null!==(n=t.updateQueue)&&nl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),i=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),null!==e&&V($i),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),_i(Ri),il(t),null;case 25:case 30:return null}throw Error(r(156,t.tag))}function sl(e,t){switch(ii(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return _i(Ri),Y(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 13:if(uo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));gi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return V(ho),null;case 4:return Y(),null;case 10:return _i(t.type),null;case 22:case 23:return uo(t),xa(),null!==e&&V($i),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return _i(Ri),null;default:return null}}function ol(e,t){switch(ii(t),t.tag){case 3:_i(Ri),Y();break;case 26:case 27:case 5:Q(t);break;case 4:Y();break;case 13:uo(t);break;case 19:V(ho);break;case 10:_i(t.type);break;case 22:case 23:uo(t),xa(),null!==e&&V($i);break;case 24:_i(Ri)}}function ll(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(o){hu(t,t.return,o)}}function cl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var s=r.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,i=t;var l=n,c=o;try{c()}catch(u){hu(i,l,u)}}}r=r.next}while(r!==a)}}catch(u){hu(t,t.return,u)}}function ul(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ma(t,n)}catch(r){hu(e,e.return,r)}}}function dl(e,t,n){n.props=yo(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){hu(e,t,r)}}function hl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(i){hu(e,t,i)}}function fl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(i){hu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(a){hu(e,t,a)}else n.current=null}function ml(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){hu(e,e.return,i)}}function gl(e,t,n){try{var i=e.stateNode;!function(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,s=null,o=null,l=null,c=null,u=null,d=null;for(m in n){var h=n[m];if(n.hasOwnProperty(m)&&null!=h)switch(m){case"checked":case"value":break;case"defaultValue":c=h;default:i.hasOwnProperty(m)||ed(e,t,m,null,i,h)}}for(var f in i){var m=i[f];if(h=n[f],i.hasOwnProperty(f)&&(null!=m||null!=h))switch(f){case"type":s=m;break;case"name":a=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":o=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(r(137,t));break;default:m!==h&&ed(e,t,f,m,i,h)}}return void yt(e,o,l,c,u,d,s,a);case"select":for(s in m=o=l=f=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":m=c;default:i.hasOwnProperty(s)||ed(e,t,s,null,i,c)}for(a in i)if(s=i[a],c=n[a],i.hasOwnProperty(a)&&(null!=s||null!=c))switch(a){case"value":f=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==c&&ed(e,t,a,s,i,c)}return t=l,n=o,i=m,void(null!=f?wt(e,!!n,f,!1):!!i!=!!n&&(null!=t?wt(e,!!n,t,!0):wt(e,!!n,n?[]:"",!1)));case"textarea":for(l in m=f=null,n)if(a=n[l],n.hasOwnProperty(l)&&null!=a&&!i.hasOwnProperty(l))switch(l){case"value":case"children":break;default:ed(e,t,l,null,i,a)}for(o in i)if(a=i[o],s=n[o],i.hasOwnProperty(o)&&(null!=a||null!=s))switch(o){case"value":f=a;break;case"defaultValue":m=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(r(91));break;default:a!==s&&ed(e,t,o,a,i,s)}return void _t(e,f,m);case"option":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!i.hasOwnProperty(g)&&("selected"===g?e.selected=!1:ed(e,t,g,null,i,f));for(c in i)f=i[c],m=n[c],!i.hasOwnProperty(c)||f===m||null==f&&null==m||("selected"===c?e.selected=f&&"function"!=typeof f&&"symbol"!=typeof f:ed(e,t,c,f,i,m));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var p in n)f=n[p],n.hasOwnProperty(p)&&null!=f&&!i.hasOwnProperty(p)&&ed(e,t,p,null,i,f);for(u in i)if(f=i[u],m=n[u],i.hasOwnProperty(u)&&f!==m&&(null!=f||null!=m))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(r(137,t));break;default:ed(e,t,u,f,i,m)}return;default:if(Pt(t)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&void 0!==f&&!i.hasOwnProperty(v)&&td(e,t,v,void 0,i,f);for(d in i)f=i[d],m=n[d],!i.hasOwnProperty(d)||f===m||void 0===f&&void 0===m||td(e,t,d,f,i,m);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!i.hasOwnProperty(y)&&ed(e,t,y,null,i,f);for(h in i)f=i[h],m=n[h],!i.hasOwnProperty(h)||f===m||null==f&&null==m||ed(e,t,h,f,i,m)}(i,e.type,n,t),i[De]=t}catch(a){hu(e,e.return,a)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&gd(e.type)||4===e.tag}function vl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&gd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Ju));else if(4!==r&&(27===r&&gd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function xl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&gd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(xl(e,t,n),e=e.sibling;null!==e;)xl(e,t,n),e=e.sibling}function bl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);nd(t,r,n),t[Re]=e,t[De]=n}catch(a){hu(e,e.return,a)}}var wl=!1,_l=!1,jl=!1,Nl="function"==typeof WeakSet?WeakSet:Set,kl=null;function Sl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Fl(e,n),4&r&&ll(5,n);break;case 1:if(Fl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){hu(n,n.return,s)}else{var i=yo(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){hu(n,n.return,o)}}64&r&&ul(n),512&r&&hl(n,n.return);break;case 3:if(Fl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ma(e,t)}catch(s){hu(n,n.return,s)}}break;case 27:null===t&&4&r&&bl(n);case 26:case 5:Fl(e,n),null===t&&4&r&&ml(n),512&r&&hl(n,n.return);break;case 12:Fl(e,n);break;case 13:Fl(e,n),4&r&&Al(e,n),64&r&&null!==(e=n.memoizedState)&&null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=pu.bind(null,n));break;case 22:if(!(r=null!==n.memoizedState||wl)){t=null!==t&&null!==t.memoizedState||_l,i=wl;var a=_l;wl=r,(_l=t)&&!a?Vl(e,n,!!(8772&n.subtreeFlags)):Fl(e,n),wl=i,_l=a}break;case 30:break;default:Fl(e,n)}}function Cl(e){var t=e.alternate;null!==t&&(e.alternate=null,Cl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&We(t),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Pl=null,El=!1;function Ml(e,t,n){for(n=n.child;null!==n;)Ol(e,t,n),n=n.sibling}function Ol(e,t,n){if(fe&&"function"==typeof fe.onCommitFiberUnmount)try{fe.onCommitFiberUnmount(he,n)}catch(a){}switch(n.tag){case 26:_l||fl(n,t),Ml(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:_l||fl(n,t);var r=Pl,i=El;gd(n.type)&&(Pl=n.stateNode,El=!1),Ml(e,t,n),jd(n.stateNode),Pl=r,El=i;break;case 5:_l||fl(n,t);case 6:if(r=Pl,i=El,Pl=null,Ml(e,t,n),El=i,null!==(Pl=r))if(El)try{(9===Pl.nodeType?Pl.body:"HTML"===Pl.nodeName?Pl.ownerDocument.body:Pl).removeChild(n.stateNode)}catch(s){hu(n,t,s)}else try{Pl.removeChild(n.stateNode)}catch(s){hu(n,t,s)}break;case 18:null!==Pl&&(El?(pd(9===(e=Pl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Eh(e)):pd(Pl,n.stateNode));break;case 4:r=Pl,i=El,Pl=n.stateNode.containerInfo,El=!0,Ml(e,t,n),Pl=r,El=i;break;case 0:case 11:case 14:case 15:_l||cl(2,n,t),_l||cl(4,n,t),Ml(e,t,n);break;case 1:_l||(fl(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&dl(n,t,r)),Ml(e,t,n);break;case 21:Ml(e,t,n);break;case 22:_l=(r=_l)||null!==n.memoizedState,Ml(e,t,n),_l=r;break;default:Ml(e,t,n)}}function Al(e,t){if(null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))try{Eh(e)}catch(n){hu(t,t.return,n)}}function Tl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Nl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Nl),t;default:throw Error(r(435,e.tag))}}(e);t.forEach(function(t){var r=vu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Rl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var a=n[i],s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(gd(l.type)){Pl=l.stateNode,El=!1;break e}break;case 5:Pl=l.stateNode,El=!1;break e;case 3:case 4:Pl=l.stateNode.containerInfo,El=!0;break e}l=l.return}if(null===Pl)throw Error(r(160));Ol(s,o,a),Pl=null,El=!1,null!==(s=a.alternate)&&(s.return=null),a.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Il(t,e),t=t.sibling}var Dl=null;function Il(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Rl(t,e),Ll(e),4&i&&(cl(3,e,e.return),ll(3,e),cl(5,e,e.return));break;case 1:Rl(t,e),Ll(e),512&i&&(_l||null===n||fl(n,n.return)),64&i&&wl&&null!==(e=e.updateQueue)&&null!==(i=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?i:n.concat(i));break;case 26:var a=Dl;if(Rl(t,e),Ll(e),512&i&&(_l||null===n||fl(n,n.return)),4&i){var s=null!==n?n.memoizedState:null;if(i=e.memoizedState,null===n)if(null===i)if(null===e.stateNode){e:{i=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(i){case"title":(!(s=a.getElementsByTagName("title")[0])||s[Ve]||s[Re]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=a.createElement(i),a.head.insertBefore(s,a.querySelector("head > title"))),nd(s,i,n),s[Re]=e,Ge(s),i=s;break e;case"link":var o=Vd("link","href",a).get(i+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((s=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}nd(s=a.createElement(i),i,n),a.head.appendChild(s);break;case"meta":if(o=Vd("meta","content",a).get(i+(n.content||"")))for(l=0;l<o.length;l++)if((s=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}nd(s=a.createElement(i),i,n),a.head.appendChild(s);break;default:throw Error(r(468,i))}s[Re]=e,Ge(s),i=s}e.stateNode=i}else Wd(a,e.type,e.stateNode);else e.stateNode=Id(a,i,e.memoizedProps);else s!==i?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===i?Wd(a,e.type,e.stateNode):Id(a,i,e.memoizedProps)):null===i&&null!==e.stateNode&&gl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Rl(t,e),Ll(e),512&i&&(_l||null===n||fl(n,n.return)),null!==n&&4&i&&gl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Rl(t,e),Ll(e),512&i&&(_l||null===n||fl(n,n.return)),32&e.flags){a=e.stateNode;try{Nt(a,"")}catch(m){hu(e,e.return,m)}}4&i&&null!=e.stateNode&&gl(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&i&&(jl=!0);break;case 6:if(Rl(t,e),Ll(e),4&i){if(null===e.stateNode)throw Error(r(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(m){hu(e,e.return,m)}}break;case 3:if(Bd=null,a=Dl,Dl=Sd(t.containerInfo),Rl(t,e),Dl=a,Ll(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Eh(t.containerInfo)}catch(m){hu(e,e.return,m)}jl&&(jl=!1,zl(e));break;case 4:i=Dl,Dl=Sd(e.stateNode.containerInfo),Rl(t,e),Ll(e),Dl=i;break;case 12:default:Rl(t,e),Ll(e);break;case 13:Rl(t,e),Ll(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(jc=re()),4&i&&null!==(i=e.updateQueue)&&(e.updateQueue=null,Tl(e,i));break;case 22:a=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=wl,d=_l;if(wl=u||a,_l=d||c,Rl(t,e),_l=d,wl=u,Ll(e),8192&i)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||c||wl||_l||Bl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(s=c.stateNode,a)"function"==typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=null!=h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"==typeof f?"":(""+f).trim()}}catch(m){hu(c,c.return,m)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(m){hu(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&i&&null!==(i=e.updateQueue)&&null!==(n=i.retryQueue)&&(i.retryQueue=null,Tl(e,n));break;case 19:Rl(t,e),Ll(e),4&i&&null!==(i=e.updateQueue)&&(e.updateQueue=null,Tl(e,i));case 30:case 21:}}function Ll(e){var t=e.flags;if(2&t){try{for(var n,i=e.return;null!==i;){if(pl(i)){n=i;break}i=i.return}if(null==n)throw Error(r(160));switch(n.tag){case 27:var a=n.stateNode;xl(e,vl(e),a);break;case 5:var s=n.stateNode;32&n.flags&&(Nt(s,""),n.flags&=-33),xl(e,vl(e),s);break;case 3:case 4:var o=n.stateNode.containerInfo;yl(e,vl(e),o);break;default:throw Error(r(161))}}catch(l){hu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function zl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;zl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Fl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Sl(e,t.alternate,t),t=t.sibling}function Bl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:cl(4,t,t.return),Bl(t);break;case 1:fl(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&dl(t,t.return,n),Bl(t);break;case 27:jd(t.stateNode);case 26:case 5:fl(t,t.return),Bl(t);break;case 22:null===t.memoizedState&&Bl(t);break;default:Bl(t)}e=e.sibling}}function Vl(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,a=t,s=a.flags;switch(a.tag){case 0:case 11:case 15:Vl(i,a,n),ll(4,a);break;case 1:if(Vl(i,a,n),"function"==typeof(i=(r=a).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){hu(r,r.return,c)}if(null!==(i=(r=a).updateQueue)){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)fa(l[i],o)}catch(c){hu(r,r.return,c)}}n&&64&s&&ul(a),hl(a,a.return);break;case 27:bl(a);case 26:case 5:Vl(i,a,n),n&&null===r&&4&s&&ml(a),hl(a,a.return);break;case 12:Vl(i,a,n);break;case 13:Vl(i,a,n),n&&4&s&&Al(i,a);break;case 22:null===a.memoizedState&&Vl(i,a,n),hl(a,a.return);break;case 30:break;default:Vl(i,a,n)}t=t.sibling}}function Wl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ii(n))}function $l(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ii(e))}function Hl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Kl(e,t,n,r),t=t.sibling}function Kl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Hl(e,t,n,r),2048&i&&ll(9,t);break;case 1:case 13:default:Hl(e,t,n,r);break;case 3:Hl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ii(e)));break;case 12:if(2048&i){Hl(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,s=a.id,o=a.onPostCommit;"function"==typeof o&&o(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){hu(t,t.return,l)}}else Hl(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,s=t.alternate,null!==t.memoizedState?2&a._visibility?Hl(e,t,n,r):Gl(e,t):2&a._visibility?Hl(e,t,n,r):(a._visibility|=2,Ul(e,t,n,r,!!(10256&t.subtreeFlags))),2048&i&&Wl(s,t);break;case 24:Hl(e,t,n,r),2048&i&&$l(t.alternate,t)}}function Ul(e,t,n,r,i){for(i=i&&!!(10256&t.subtreeFlags),t=t.child;null!==t;){var a=e,s=t,o=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:Ul(a,s,o,l,i),ll(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?Ul(a,s,o,l,i):Gl(a,s):(u._visibility|=2,Ul(a,s,o,l,i)),i&&2048&c&&Wl(s.alternate,s);break;case 24:Ul(a,s,o,l,i),i&&2048&c&&$l(s.alternate,s);break;default:Ul(a,s,o,l,i)}t=t.sibling}}function Gl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Gl(n,r),2048&i&&Wl(r.alternate,r);break;case 24:Gl(n,r),2048&i&&$l(r.alternate,r);break;default:Gl(n,r)}t=t.sibling}}var ql=8192;function Yl(e){if(e.subtreeFlags&ql)for(e=e.child;null!==e;)Xl(e),e=e.sibling}function Xl(e){switch(e.tag){case 26:Yl(e),e.flags&ql&&null!==e.memoizedState&&function(e,t,n){if(null===Hd)throw Error(r(475));var i=Hd;if(!("stylesheet"!==t.type||"string"==typeof n.media&&!1===matchMedia(n.media).matches||4&t.state.loading)){if(null===t.instance){var a=Od(n.href),s=e.querySelector(Ad(a));if(s)return null!==(e=s._p)&&"object"==typeof e&&"function"==typeof e.then&&(i.count++,i=Ud.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=s,void Ge(s);s=e.ownerDocument||e,n=Td(n),(a=Nd.get(a))&&zd(n,a),Ge(s=s.createElement("link"));var o=s;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),nd(s,"link",n),t.instance=s}null===i.stylesheets&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(3&t.state.loading)&&(i.count++,t=Ud.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}(Dl,e.memoizedState,e.memoizedProps);break;case 5:default:Yl(e);break;case 3:case 4:var t=Dl;Dl=Sd(e.stateNode.containerInfo),Yl(e),Dl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=ql,ql=16777216,Yl(e),ql=t):Yl(e))}}function Ql(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Zl(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kl=r,tc(r,e)}Ql(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Jl(e),e=e.sibling}function Jl(e){switch(e.tag){case 0:case 11:case 15:Zl(e),2048&e.flags&&cl(9,e,e.return);break;case 3:case 12:default:Zl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,ec(e)):Zl(e)}}function ec(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kl=r,tc(r,e)}Ql(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:cl(8,t,t.return),ec(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,ec(t));break;default:ec(t)}e=e.sibling}}function tc(e,t){for(;null!==kl;){var n=kl;switch(n.tag){case 0:case 11:case 15:cl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ii(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,kl=r;else e:for(n=e;null!==kl;){var i=(r=kl).sibling,a=r.return;if(Cl(r),r===n){kl=null;break e}if(null!==i){i.return=a,kl=i;break e}kl=a}}}var nc={getCacheForType:function(e){var t=Pi(Ri),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},rc="function"==typeof WeakMap?WeakMap:Map,ic=0,ac=null,sc=null,oc=0,lc=0,cc=null,uc=!1,dc=!1,hc=!1,fc=0,mc=0,gc=0,pc=0,vc=0,yc=0,xc=0,bc=null,wc=null,_c=!1,jc=0,Nc=1/0,kc=null,Sc=null,Cc=0,Pc=null,Ec=null,Mc=0,Oc=0,Ac=null,Tc=null,Rc=0,Dc=null;function Ic(){return 2&ic&&0!==oc?oc&-oc:null!==T.T?0!==Fi?Fi:Ou():Ae()}function Lc(){0===yc&&(yc=536870912&oc&&!oi?536870912:Ne());var e=ao.current;return null!==e&&(e.flags|=32),yc}function zc(e,t,n){(e!==ac||2!==lc&&9!==lc)&&null===e.cancelPendingCommit||(Kc(e,0),Wc(e,oc,yc,!1)),Ce(e,n),2&ic&&e===ac||(e===ac&&(!(2&ic)&&(pc|=n),4===mc&&Wc(e,oc,yc,!1)),Nu(e))}function Fc(e,t,n){if(6&ic)throw Error(r(327));for(var i=!n&&!(124&t)&&0===(t&e.expiredLanes)||_e(e,t),a=i?function(e,t){var n=ic;ic|=2;var i=Gc(),a=qc();ac!==e||oc!==t?(kc=null,Nc=re()+500,Kc(e,t)):dc=_e(e,t);e:for(;;)try{if(0!==lc&&null!==sc){t=sc;var s=cc;t:switch(lc){case 1:lc=0,cc=null,tu(e,t,s,1);break;case 2:case 9:if(Qi(s)){lc=0,cc=null,eu(t);break}t=function(){2!==lc&&9!==lc||ac!==e||(lc=7),Nu(e)},s.then(t,t);break e;case 3:lc=7;break e;case 4:lc=5;break e;case 7:Qi(s)?(lc=0,cc=null,eu(t)):(lc=0,cc=null,tu(e,t,s,7));break;case 5:var o=null;switch(sc.tag){case 26:o=sc.memoizedState;case 5:case 27:var l=sc;if(!o||$d(o)){lc=0,cc=null;var c=l.sibling;if(null!==c)sc=c;else{var u=l.return;null!==u?(sc=u,nu(u)):sc=null}break t}}lc=0,cc=null,tu(e,t,s,5);break;case 6:lc=0,cc=null,tu(e,t,s,6);break;case 8:Hc(),mc=6;break e;default:throw Error(r(462))}}Zc();break}catch(d){Uc(e,d)}return bi=xi=null,T.H=i,T.A=a,ic=n,null!==sc?0:(ac=null,oc=0,Mr(),mc)}(e,t):Xc(e,t,!0),s=i;;){if(0===a){dc&&!i&&Wc(e,t,0,!1);break}if(n=e.current.alternate,!s||Vc(n)){if(2===a){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!=(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;a=bc;var c=l.current.memoizedState.isDehydrated;if(c&&(Kc(l,o).flags|=256),2!==(o=Xc(l,o,!1))){if(hc&&!c){l.errorRecoveryDisabledLanes|=s,pc|=s,a=4;break e}s=wc,wc=a,null!==s&&(null===wc?wc=s:wc.push.apply(wc,s))}a=o}if(s=!1,2!==a)continue}}if(1===a){Kc(e,0),Wc(e,t,0,!0);break}e:{switch(i=e,s=a){case 0:case 1:throw Error(r(345));case 4:if((4194048&t)!==t)break;case 6:Wc(i,t,yc,!uc);break e;case 2:wc=null;break;case 3:case 5:break;default:throw Error(r(329))}if((62914560&t)===t&&10<(a=jc+300-re())){if(Wc(i,t,yc,!uc),0!==we(i,0,!0))break e;i.timeoutHandle=ud(Bc.bind(null,i,n,wc,kc,_c,t,yc,pc,xc,uc,s,2,-0,0),a)}else Bc(i,n,wc,kc,_c,t,yc,pc,xc,uc,s,0,-0,0)}break}a=Xc(e,t,!1),s=!1}Nu(e)}function Bc(e,t,n,i,a,s,o,l,c,u,d,h,f,m){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||!(16785408&~h))&&(Hd={stylesheets:null,count:0,unsuspend:Kd},Xl(t),null!==(h=function(){if(null===Hd)throw Error(r(475));var e=Hd;return e.stylesheets&&0===e.count&&qd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&qd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(iu.bind(null,e,t,s,n,i,a,o,l,c,d,1,f,m)),void Wc(e,s,o,!u);iu(e,t,s,n,i,a,o,l,c)}function Vc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&null!==(n=t.updateQueue)&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Qn(a(),i))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wc(e,t,n,r){t&=~vc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-ge(i),s=1<<a;r[a]=-1,i&=~s}0!==n&&Pe(e,n,t)}function $c(){return!!(6&ic)||(ku(0),!1)}function Hc(){if(null!==sc){if(0===lc)var e=sc.return;else bi=xi=null,Fa(e=sc),Xs=null,Qs=0,e=sc;for(;null!==e;)ol(e.alternate,e),e=e.return;sc=null}}function Kc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,dd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Hc(),ac=e,sc=n=Br(e.current,null),oc=t,lc=0,cc=null,uc=!1,dc=_e(e,t),hc=!1,xc=yc=vc=pc=gc=mc=0,wc=bc=null,_c=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-ge(r),a=1<<i;t|=e[i],r&=~a}return fc=t,Mr(),n}function Uc(e,t){wa=null,T.H=Us,t===Gi||t===Yi?(t=ta(),lc=3):t===qi?(t=ta(),lc=4):lc=t===Po?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,cc=t,null===sc&&(mc=1,jo(e,Sr(t,e.current)))}function Gc(){var e=T.H;return T.H=Us,null===e?Us:e}function qc(){var e=T.A;return T.A=nc,e}function Yc(){mc=4,uc||(4194048&oc)!==oc&&null!==ao.current||(dc=!0),!(134217727&gc)&&!(134217727&pc)||null===ac||Wc(ac,oc,yc,!1)}function Xc(e,t,n){var r=ic;ic|=2;var i=Gc(),a=qc();ac===e&&oc===t||(kc=null,Kc(e,t)),t=!1;var s=mc;e:for(;;)try{if(0!==lc&&null!==sc){var o=sc,l=cc;switch(lc){case 8:Hc(),s=6;break e;case 3:case 2:case 9:case 6:null===ao.current&&(t=!0);var c=lc;if(lc=0,cc=null,tu(e,o,l,c),n&&dc){s=0;break e}break;default:c=lc,lc=0,cc=null,tu(e,o,l,c)}}Qc(),s=mc;break}catch(u){Uc(e,u)}return t&&e.shellSuspendCounter++,bi=xi=null,ic=r,T.H=i,T.A=a,null===sc&&(ac=null,oc=0,Mr()),s}function Qc(){for(;null!==sc;)Jc(sc)}function Zc(){for(;null!==sc&&!te();)Jc(sc)}function Jc(e){var t=Jo(e.alternate,e,fc);e.memoizedProps=e.pendingProps,null===t?nu(e):sc=t}function eu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=zo(n,t,t.pendingProps,t.type,void 0,oc);break;case 11:t=zo(n,t,t.pendingProps,t.type.render,t.ref,oc);break;case 5:Fa(t);default:ol(n,t),t=Jo(n,t=sc=Vr(t,fc),fc)}e.memoizedProps=e.pendingProps,null===t?nu(e):sc=t}function tu(e,t,n,i){bi=xi=null,Fa(t),Xs=null,Qs=0;var a=t.return;try{if(function(e,t,n,i,a){if(n.flags|=32768,null!==i&&"object"==typeof i&&"function"==typeof i.then){if(null!==(t=n.alternate)&&ki(t,n,a,!0),null!==(n=ao.current)){switch(n.tag){case 13:return null===so?Yc():null===n.alternate&&0===mc&&(mc=3),n.flags&=-257,n.flags|=65536,n.lanes=a,i===Xi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([i]):t.add(i),fu(e,i,a)),!1;case 22:return n.flags|=65536,i===Xi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([i]):n.add(i),fu(e,i,a)),!1}throw Error(r(435,n.tag))}return fu(e,i,a),Yc(),!1}if(oi)return null!==(t=ao.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,i!==ui&&vi(Sr(e=Error(r(422),{cause:i}),n))):(i!==ui&&vi(Sr(t=Error(r(423),{cause:i}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,i=Sr(i,n),ca(e,a=ko(e.stateNode,i,a)),4!==mc&&(mc=2)),!1;var s=Error(r(520),{cause:i});if(s=Sr(s,n),null===bc?bc=[s]:bc.push(s),4!==mc&&(mc=2),null===t)return!0;i=Sr(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,ca(n,e=ko(n.stateNode,i,e)),!1;case 1:if(t=n.type,s=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===s||"function"!=typeof s.componentDidCatch||null!==Sc&&Sc.has(s))))return n.flags|=65536,a&=-a,n.lanes|=a,Co(a=So(a),e,n,i),ca(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,oc))return mc=1,jo(e,Sr(n,e.current)),void(sc=null)}catch(s){if(null!==a)throw sc=a,s;return mc=1,jo(e,Sr(n,e.current)),void(sc=null)}32768&t.flags?(oi||1===i?e=!0:dc||536870912&oc?e=!1:(uc=e=!0,(2===i||9===i||3===i||6===i)&&null!==(i=ao.current)&&13===i.tag&&(i.flags|=16384)),ru(t,e)):nu(t)}function nu(e){var t=e;do{if(32768&t.flags)return void ru(t,uc);e=t.return;var n=al(t.alternate,t,fc);if(null!==n)return void(sc=n);if(null!==(t=t.sibling))return void(sc=t);sc=t=e}while(null!==t);0===mc&&(mc=5)}function ru(e,t){do{var n=sl(e.alternate,e);if(null!==n)return n.flags&=32767,void(sc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(sc=e);sc=e=n}while(null!==e);mc=6,sc=null}function iu(e,t,n,i,a,s,o,l,c){e.cancelPendingCommit=null;do{cu()}while(0!==Cc);if(6&ic)throw Error(r(327));if(null!==t){if(t===e.current)throw Error(r(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,i,a){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-ge(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Pe(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(s&~t))}(e,n,s|=Er,o,l,c),e===ac&&(sc=ac=null,oc=0),Ec=t,Pc=e,Mc=n,Oc=s,Ac=a,Tc=i,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,J(oe,function(){return uu(),null})):(e.callbackNode=null,e.callbackPriority=0),i=!!(13878&t.flags),13878&t.subtreeFlags||i){i=T.T,T.T=null,a=D.p,D.p=2,o=ic,ic|=4;try{!function(e,t){if(e=e.containerInfo,rd=ih,rr(e=nr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var a=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch(p){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||0!==a&&3!==h.nodeType||(l=o+a),h!==s||0!==i&&3!==h.nodeType||(c=o+i),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===a&&(l=o),f===s&&++d===i&&(c=o),null!==(m=h.nextSibling))break;f=(h=f).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(id={focusedElem:e,selectionRange:n},ih=!1,kl=t;null!==kl;)if(e=(t=kl).child,1024&t.subtreeFlags&&null!==e)e.return=t,kl=e;else for(;null!==kl;){switch(s=(t=kl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==s){e=void 0,n=t,a=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var g=yo(n.type,a,(n.elementType,n.type));e=i.getSnapshotBeforeUpdate(g,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(v){hu(n,n.return,v)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))vd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":vd(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(r(163))}if(null!==(e=t.sibling)){e.return=t.return,kl=e;break}kl=t.return}}(e,t)}finally{ic=o,D.p=a,T.T=i}}Cc=1,au(),su(),ou()}}function au(){if(1===Cc){Cc=0;var e=Pc,t=Ec,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=T.T,T.T=null;var r=D.p;D.p=2;var i=ic;ic|=4;try{Il(t,e);var a=id,s=nr(e.containerInfo),o=a.focusedElem,l=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&tr(o.ownerDocument.documentElement,o)){if(null!==l&&rr(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),m=o.textContent.length,g=Math.min(l.start,m),p=void 0===l.end?g:Math.min(l.end,m);!f.extend&&g>p&&(s=p,p=g,g=s);var v=er(o,g),y=er(o,p);if(v&&y&&(1!==f.rangeCount||f.anchorNode!==v.node||f.anchorOffset!==v.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var x=d.createRange();x.setStart(v.node,v.offset),f.removeAllRanges(),g>p?(f.addRange(x),f.extend(y.node,y.offset)):(x.setEnd(y.node,y.offset),f.addRange(x))}}}}for(d=[],f=o;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"==typeof o.focus&&o.focus(),o=0;o<d.length;o++){var b=d[o];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}ih=!!rd,id=rd=null}finally{ic=i,D.p=r,T.T=n}}e.current=t,Cc=2}}function su(){if(2===Cc){Cc=0;var e=Pc,t=Ec,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=T.T,T.T=null;var r=D.p;D.p=2;var i=ic;ic|=4;try{Sl(e,t.alternate,t)}finally{ic=i,D.p=r,T.T=n}}Cc=3}}function ou(){if(4===Cc||3===Cc){Cc=0,ne();var e=Pc,t=Ec,n=Mc,r=Tc;10256&t.subtreeFlags||10256&t.flags?Cc=5:(Cc=0,Ec=Pc=null,lu(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Sc=null),Oe(n),t=t.stateNode,fe&&"function"==typeof fe.onCommitFiberRoot)try{fe.onCommitFiberRoot(he,t,void 0,!(128&~t.current.flags))}catch(l){}if(null!==r){t=T.T,i=D.p,D.p=2,T.T=null;try{for(var a=e.onRecoverableError,s=0;s<r.length;s++){var o=r[s];a(o.value,{componentStack:o.stack})}}finally{T.T=t,D.p=i}}3&Mc&&cu(),Nu(e),i=e.pendingLanes,4194090&n&&42&i?e===Dc?Rc++:(Rc=0,Dc=e):Rc=0,ku(0)}}function lu(e,t){0===(e.pooledCacheLanes&=t)&&null!=(t=e.pooledCache)&&(e.pooledCache=null,Ii(t))}function cu(e){return au(),su(),ou(),uu()}function uu(){if(5!==Cc)return!1;var e=Pc,t=Oc;Oc=0;var n=Oe(Mc),i=T.T,a=D.p;try{D.p=32>n?32:n,T.T=null,n=Ac,Ac=null;var s=Pc,o=Mc;if(Cc=0,Ec=Pc=null,Mc=0,6&ic)throw Error(r(331));var l=ic;if(ic|=4,Jl(s.current),Kl(s,s.current,o,n),ic=l,ku(0),fe&&"function"==typeof fe.onPostCommitFiberRoot)try{fe.onPostCommitFiberRoot(he,s)}catch(c){}return!0}finally{D.p=a,T.T=i,lu(e,t)}}function du(e,t,n){t=Sr(n,t),null!==(e=oa(e,t=ko(e.stateNode,t,2),2))&&(Ce(e,2),Nu(e))}function hu(e,t,n){if(3===e.tag)du(e,e,n);else for(;null!==t;){if(3===t.tag){du(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Sc||!Sc.has(r))){e=Sr(n,e),null!==(r=oa(t,n=So(2),2))&&(Co(n,r,t,e),Ce(r,2),Nu(r));break}}t=t.return}}function fu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new rc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(hc=!0,i.add(n),e=mu.bind(null,e,t,n),t.then(e,e))}function mu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ac===e&&(oc&n)===n&&(4===mc||3===mc&&(62914560&oc)===oc&&300>re()-jc?!(2&ic)&&Kc(e,0):vc|=n,xc===oc&&(xc=0)),Nu(e)}function gu(e,t){0===t&&(t=ke()),null!==(e=Tr(e,t))&&(Ce(e,t),Nu(e))}function pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),gu(e,n)}function vu(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(r(314))}null!==i&&i.delete(t),gu(e,n)}var yu=null,xu=null,bu=!1,wu=!1,_u=!1,ju=0;function Nu(e){e!==xu&&null===e.next&&(null===xu?yu=xu=e:xu=xu.next=e),wu=!0,bu||(bu=!0,fd(function(){6&ic?J(ae,Su):Cu()}))}function ku(e,t){if(!_u&&wu){_u=!0;do{for(var n=!1,r=yu;null!==r;){if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var s=r.suspendedLanes,o=r.pingedLanes;a=(1<<31-ge(42|e)+1)-1,a=201326741&(a&=i&~(s&~o))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Mu(r,a))}else a=oc,!(3&(a=we(r,r===ac?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||_e(r,a)||(n=!0,Mu(r,a));r=r.next}}while(n);_u=!1}}function Su(){Cu()}function Cu(){wu=bu=!1;var e,t=0;0!==ju&&(((e=window.event)&&"popstate"===e.type?e!==cd&&(cd=e,!0):(cd=null,!1))&&(t=ju),ju=0);for(var n=re(),r=null,i=yu;null!==i;){var a=i.next,s=Pu(i,n);0===s?(i.next=null,null===r?yu=a:r.next=a,null===a&&(xu=r)):(r=i,(0!==t||3&s)&&(wu=!0)),i=a}ku(t)}function Pu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var s=31-ge(a),o=1<<s,l=i[s];-1===l?0!==(o&n)&&0===(o&r)||(i[s]=je(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}if(n=oc,n=we(e,e===(t=ac)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===lc||9===lc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ee(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||_e(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ee(r),Oe(n)){case 2:case 8:n=se;break;case 32:default:n=oe;break;case 268435456:n=ce}return r=Eu.bind(null,e),n=J(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ee(r),e.callbackPriority=2,e.callbackNode=null,2}function Eu(e,t){if(0!==Cc&&5!==Cc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(cu()&&e.callbackNode!==n)return null;var r=oc;return 0===(r=we(e,e===ac?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Fc(e,r,t),Pu(e,re()),null!=e.callbackNode&&e.callbackNode===n?Eu.bind(null,e):null)}function Mu(e,t){if(cu())return null;Fc(e,t,!0)}function Ou(){return 0===ju&&(ju=Ne()),ju}function Au(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Ot(""+e)}function Tu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Ru=0;Ru<jr.length;Ru++){var Du=jr[Ru];Nr(Du.toLowerCase(),"on"+(Du[0].toUpperCase()+Du.slice(1)))}Nr(gr,"onAnimationEnd"),Nr(pr,"onAnimationIteration"),Nr(vr,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(yr,"onTransitionRun"),Nr(xr,"onTransitionStart"),Nr(br,"onTransitionCancel"),Nr(wr,"onTransitionEnd"),Qe("onMouseEnter",["mouseout","mouseover"]),Qe("onMouseLeave",["mouseout","mouseover"]),Qe("onPointerEnter",["pointerout","pointerover"]),Qe("onPointerLeave",["pointerout","pointerover"]),Xe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Iu));function zu(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(u){xo(u)}i.currentTarget=null,a=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(u){xo(u)}i.currentTarget=null,a=l}}}}function Fu(e,t){var n=t[Le];void 0===n&&(n=t[Le]=new Set);var r=e+"__bubble";n.has(r)||($u(t,e,2,!1),n.add(r))}function Bu(e,t,n){var r=0;t&&(r|=4),$u(n,e,r,t)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function Wu(e){if(!e[Vu]){e[Vu]=!0,qe.forEach(function(t){"selectionchange"!==t&&(Lu.has(t)||Bu(t,!1,e),Bu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vu]||(t[Vu]=!0,Bu("selectionchange",!1,t))}}function $u(e,t,n,r){switch(dh(t)){case 2:var i=ah;break;case 8:i=sh;break;default:i=oh}n=i.bind(null,t,n,e),i=void 0,!Vt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hu(e,t,n,r,i){var s=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var l=r.stateNode.containerInfo;if(l===i)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===i)return;o=o.return}for(;null!==l;){if(null===(o=$e(l)))return;if(5===(c=o.tag)||6===c||26===c||27===c){r=s=o;continue e}l=l.parentNode}}r=r.return}zt(function(){var r=s,i=Tt(n),o=[];e:{var l=_r.get(e);if(void 0!==l){var c=tn,u=e;switch(e){case"keypress":if(0===Gt(n))break e;case"keydown":case"keyup":c=vn;break;case"focusin":u="focus",c=ln;break;case"focusout":u="blur",c=ln;break;case"beforeblur":case"afterblur":c=ln;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=xn;break;case gr:case pr:case vr:c=cn;break;case wr:c=bn;break;case"scroll":case"scrollend":c=rn;break;case"wheel":c=wn;break;case"copy":case"cut":case"paste":c=un;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=yn;break;case"toggle":case"beforetoggle":c=_n}var d=!!(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==l?l+"Capture":null:l;d=[];for(var m,g=r;null!==g;){var p=g;if(m=p.stateNode,5!==(p=p.tag)&&26!==p&&27!==p||null===m||null===f||null!=(p=Ft(g,f))&&d.push(Ku(g,p,m)),h)break;g=g.return}0<d.length&&(l=new c(l,u,null,n,i),o.push({event:l,listeners:d}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===At||!(u=n.relatedTarget||n.fromElement)||!$e(u)&&!u[Ie])&&(c||l)&&(l=i.window===i?i:(l=i.ownerDocument)?l.defaultView||l.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?$e(u):null)&&(h=a(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=sn,p="onMouseLeave",f="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(d=yn,p="onPointerLeave",f="onPointerEnter",g="pointer"),h=null==c?l:Ke(c),m=null==u?l:Ke(u),(l=new d(p,g+"leave",c,n,i)).target=h,l.relatedTarget=m,p=null,$e(i)===r&&((d=new d(f,g+"enter",u,n,i)).target=m,d.relatedTarget=h,p=d),h=p,c&&u)e:{for(f=u,g=0,m=d=c;m;m=Gu(m))g++;for(m=0,p=f;p;p=Gu(p))m++;for(;0<g-m;)d=Gu(d),g--;for(;0<m-g;)f=Gu(f),m--;for(;g--;){if(d===f||null!==f&&d===f.alternate)break e;d=Gu(d),f=Gu(f)}d=null}else d=null;null!==c&&qu(o,l,c,d,!1),null!==u&&null!==h&&qu(o,h,u,d,!0)}if("select"===(c=(l=r?Ke(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===c&&"file"===l.type)var v=Bn;else if(Rn(l))if(Vn)v=Xn;else{v=qn;var y=Gn}else!(c=l.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==l.type&&"radio"!==l.type?r&&Pt(r.elementType)&&(v=Bn):v=Yn;switch(v&&(v=v(e,r))?Dn(o,v,n,i):(y&&y(e,l,r),"focusout"===e&&r&&"number"===l.type&&null!=r.memoizedProps.value&&bt(l,"number",l.value)),y=r?Ke(r):window,e){case"focusin":(Rn(y)||"true"===y.contentEditable)&&(ar=y,sr=r,or=null);break;case"focusout":or=sr=ar=null;break;case"mousedown":lr=!0;break;case"contextmenu":case"mouseup":case"dragend":lr=!1,cr(o,n,i);break;case"selectionchange":if(ir)break;case"keydown":case"keyup":cr(o,n,i)}var x;if(Nn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else An?Mn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Cn&&"ko"!==n.locale&&(An||"onCompositionStart"!==b?"onCompositionEnd"===b&&An&&(x=Ut()):(Ht="value"in($t=i)?$t.value:$t.textContent,An=!0)),0<(y=Uu(r,b)).length&&(b=new dn(b,e,null,n,i),o.push({event:b,listeners:y}),(x||null!==(x=On(n)))&&(b.data=x))),(x=Sn?function(e,t){switch(e){case"compositionend":return On(t);case"keypress":return 32!==t.which?null:(En=!0,Pn);case"textInput":return(e=t.data)===Pn&&En?null:e;default:return null}}(e,n):function(e,t){if(An)return"compositionend"===e||!Nn&&Mn(e,t)?(e=Ut(),Kt=Ht=$t=null,An=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(b=Uu(r,"onBeforeInput")).length&&(y=new dn("onBeforeInput","beforeinput",null,n,i),o.push({event:y,listeners:b}),y.data=x),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var a=Au((i[De]||null).action),s=r.submitter;s&&null!==(t=(t=s[De]||null)?Au(t.formAction):s.getAttribute("formAction"))&&(a=t,s=null);var o=new tn("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==ju){var e=s?Tu(i,s):new FormData(i);As(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else"function"==typeof a&&(o.preventDefault(),e=s?Tu(i,s):new FormData(i),As(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}(o,e,r,n,i)}zu(o,t)})}function Ku(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Uu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===a||(null!=(i=Ft(e,n))&&r.unshift(Ku(e,i,a)),null!=(i=Ft(e,t))&&r.push(Ku(e,i,a))),3===e.tag)return r;e=e.return}return[]}function Gu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function qu(e,t,n,r,i){for(var a=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,i?null!=(c=Ft(n,a))&&s.unshift(Ku(n,c,l)):i||null!=(c=Ft(n,a))&&s.push(Ku(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yu=/\r\n?/g,Xu=/\u0000|\uFFFD/g;function Qu(e){return("string"==typeof e?e:""+e).replace(Yu,"\n").replace(Xu,"")}function Zu(e,t){return t=Qu(t),Qu(e)===t}function Ju(){}function ed(e,t,n,i,a,s){switch(n){case"children":"string"==typeof i?"body"===t||"textarea"===t&&""===i||Nt(e,i):("number"==typeof i||"bigint"==typeof i)&&"body"!==t&&Nt(e,""+i);break;case"className":it(e,"class",i);break;case"tabIndex":it(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":it(e,n,i);break;case"style":Ct(e,i,s);break;case"data":if("object"!==t){it(e,"data",i);break}case"src":case"href":if(""===i&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==i||"function"==typeof i||"symbol"==typeof i||"boolean"==typeof i){e.removeAttribute(n);break}i=Ot(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if("function"==typeof i){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof s&&("formAction"===n?("input"!==t&&ed(e,t,"name",a.name,a,null),ed(e,t,"formEncType",a.formEncType,a,null),ed(e,t,"formMethod",a.formMethod,a,null),ed(e,t,"formTarget",a.formTarget,a,null)):(ed(e,t,"encType",a.encType,a,null),ed(e,t,"method",a.method,a,null),ed(e,t,"target",a.target,a,null))),null==i||"symbol"==typeof i||"boolean"==typeof i){e.removeAttribute(n);break}i=Ot(""+i),e.setAttribute(n,i);break;case"onClick":null!=i&&(e.onclick=Ju);break;case"onScroll":null!=i&&Fu("scroll",e);break;case"onScrollEnd":null!=i&&Fu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(r(61));if(null!=(n=i.__html)){if(null!=a.children)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"muted":e.muted=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==i||"function"==typeof i||"boolean"==typeof i||"symbol"==typeof i){e.removeAttribute("xlink:href");break}n=Ot(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===i?e.setAttribute(n,""):!1!==i&&null!=i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":null==i||"function"==typeof i||"symbol"==typeof i||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Fu("beforetoggle",e),Fu("toggle",e),rt(e,"popover",i);break;case"xlinkActuate":at(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":at(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":at(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":at(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":at(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":at(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":at(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":at(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":at(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":rt(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&rt(e,n=Et.get(n)||n,i)}}function td(e,t,n,i,a,s){switch(n){case"style":Ct(e,i,s);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(r(61));if(null!=(n=i.__html)){if(null!=a.children)throw Error(r(60));e.innerHTML=n}}break;case"children":"string"==typeof i?Nt(e,i):("number"==typeof i||"bigint"==typeof i)&&Nt(e,""+i);break;case"onScroll":null!=i&&Fu("scroll",e);break;case"onScrollEnd":null!=i&&Fu("scrollend",e);break;case"onClick":null!=i&&(e.onclick=Ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ye.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"==typeof(s=null!=(s=e[De]||null)?s[n]:null)&&e.removeEventListener(t,s,a),"function"!=typeof i)?n in e?e[n]=i:!0===i?e.setAttribute(n,""):rt(e,n,i):("function"!=typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,a)))}}function nd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fu("error",e),Fu("load",e);var i,a=!1,s=!1;for(i in n)if(n.hasOwnProperty(i)){var o=n[i];if(null!=o)switch(i){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:ed(e,t,i,o,n,null)}}return s&&ed(e,t,"srcSet",n.srcSet,n,null),void(a&&ed(e,t,"src",n.src,n,null));case"input":Fu("invalid",e);var l=i=o=s=null,c=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var d=n[a];if(null!=d)switch(a){case"name":s=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":i=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(r(137,t));break;default:ed(e,t,a,d,n,null)}}return xt(e,i,l,c,u,o,s,!1),void ft(e);case"select":for(s in Fu("invalid",e),a=o=i=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":i=l;break;case"defaultValue":o=l;break;case"multiple":a=l;default:ed(e,t,s,l,n,null)}return t=i,n=o,e.multiple=!!a,void(null!=t?wt(e,!!a,t,!1):null!=n&&wt(e,!!a,n,!0));case"textarea":for(o in Fu("invalid",e),i=s=a=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":a=l;break;case"defaultValue":s=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(r(91));break;default:ed(e,t,o,l,n,null)}return jt(e,a,s,i),void ft(e);case"option":for(c in n)n.hasOwnProperty(c)&&null!=(a=n[c])&&("selected"===c?e.selected=a&&"function"!=typeof a&&"symbol"!=typeof a:ed(e,t,c,a,n,null));return;case"dialog":Fu("beforetoggle",e),Fu("toggle",e),Fu("cancel",e),Fu("close",e);break;case"iframe":case"object":Fu("load",e);break;case"video":case"audio":for(a=0;a<Iu.length;a++)Fu(Iu[a],e);break;case"image":Fu("error",e),Fu("load",e);break;case"details":Fu("toggle",e);break;case"embed":case"source":case"link":Fu("error",e),Fu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(a=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:ed(e,t,u,a,n,null)}return;default:if(Pt(t)){for(d in n)n.hasOwnProperty(d)&&void 0!==(a=n[d])&&td(e,t,d,a,n,void 0);return}}for(l in n)n.hasOwnProperty(l)&&null!=(a=n[l])&&ed(e,t,l,a,n,null)}var rd=null,id=null;function ad(e){return 9===e.nodeType?e:e.ownerDocument}function sd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function od(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ld(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var cd=null,ud="function"==typeof setTimeout?setTimeout:void 0,dd="function"==typeof clearTimeout?clearTimeout:void 0,hd="function"==typeof Promise?Promise:void 0,fd="function"==typeof queueMicrotask?queueMicrotask:void 0!==hd?function(e){return hd.resolve(null).then(e).catch(md)}:ud;function md(e){setTimeout(function(){throw e})}function gd(e){return"head"===e}function pd(e,t){var n=t,r=0,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0<r&&8>r){n=r;var s=e.ownerDocument;if(1&n&&jd(s.documentElement),2&n&&jd(s.body),4&n)for(jd(n=s.head),s=n.firstChild;s;){var o=s.nextSibling,l=s.nodeName;s[Ve]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=o}}if(0===i)return e.removeChild(a),void Eh(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=a}while(n);Eh(t)}function vd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":vd(n),We(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function yd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function xd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var bd=null;function wd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function _d(e,t,n){switch(t=ad(n),e){case"html":if(!(e=t.documentElement))throw Error(r(452));return e;case"head":if(!(e=t.head))throw Error(r(453));return e;case"body":if(!(e=t.body))throw Error(r(454));return e;default:throw Error(r(451))}}function jd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);We(e)}var Nd=new Map,kd=new Set;function Sd(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Cd=D.d;D.d={f:function(){var e=Cd.f(),t=$c();return e||t},r:function(e){var t=He(e);null!==t&&5===t.tag&&"form"===t.type?Rs(t):Cd.r(e)},D:function(e){Cd.D(e),Ed("dns-prefetch",e,null)},C:function(e,t){Cd.C(e,t),Ed("preconnect",e,t)},L:function(e,t,n){Cd.L(e,t,n);var r=Pd;if(r&&e&&t){var i='link[rel="preload"][as="'+vt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+vt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(i+='[imagesizes="'+vt(n.imageSizes)+'"]')):i+='[href="'+vt(e)+'"]';var a=i;switch(t){case"style":a=Od(e);break;case"script":a=Rd(e)}Nd.has(a)||(e=c({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Nd.set(a,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Ad(a))||"script"===t&&r.querySelector(Dd(a))||(nd(t=r.createElement("link"),"link",e),Ge(t),r.head.appendChild(t)))}},m:function(e,t){Cd.m(e,t);var n=Pd;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+vt(r)+'"][href="'+vt(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Rd(e)}if(!Nd.has(a)&&(e=c({rel:"modulepreload",href:e},t),Nd.set(a,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Dd(a)))return}nd(r=n.createElement("link"),"link",e),Ge(r),n.head.appendChild(r)}}},X:function(e,t){Cd.X(e,t);var n=Pd;if(n&&e){var r=Ue(n).hoistableScripts,i=Rd(e),a=r.get(i);a||((a=n.querySelector(Dd(i)))||(e=c({src:e,async:!0},t),(t=Nd.get(i))&&Fd(e,t),Ge(a=n.createElement("script")),nd(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}},S:function(e,t,n){Cd.S(e,t,n);var r=Pd;if(r&&e){var i=Ue(r).hoistableStyles,a=Od(e);t=t||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(Ad(a)))o.loading=5;else{e=c({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Nd.get(a))&&zd(e,n);var l=s=r.createElement("link");Ge(l),nd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Ld(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}},M:function(e,t){Cd.M(e,t);var n=Pd;if(n&&e){var r=Ue(n).hoistableScripts,i=Rd(e),a=r.get(i);a||((a=n.querySelector(Dd(i)))||(e=c({src:e,async:!0,type:"module"},t),(t=Nd.get(i))&&Fd(e,t),Ge(a=n.createElement("script")),nd(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}};var Pd="undefined"==typeof document?null:document;function Ed(e,t,n){var r=Pd;if(r&&"string"==typeof t&&t){var i=vt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"==typeof n&&(i+='[crossorigin="'+n+'"]'),kd.has(i)||(kd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(nd(t=r.createElement("link"),"link",e),Ge(t),r.head.appendChild(t)))}}function Md(e,t,n,i){var a,s,o,l,c=(c=U.current)?Sd(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Od(n.href),(i=(n=Ue(c).hoistableStyles).get(t))||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Od(n.href);var u=Ue(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Ad(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Nd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Nd.set(e,n),u||(a=c,s=e,o=n,l=d.state,a.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=a.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),nd(s,"link",o),Ge(s),a.head.appendChild(s))))),t&&null===i)throw Error(r(528,""));return d}if(t&&null!==i)throw Error(r(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Rd(n),(i=(n=Ue(c).hoistableScripts).get(t))||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Od(e){return'href="'+vt(e)+'"'}function Ad(e){return'link[rel="stylesheet"]['+e+"]"}function Td(e){return c({},e,{"data-precedence":e.precedence,precedence:null})}function Rd(e){return'[src="'+vt(e)+'"]'}function Dd(e){return"script[async]"+e}function Id(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+vt(n.href)+'"]');if(i)return t.instance=i,Ge(i),i;var a=c({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ge(i=(e.ownerDocument||e).createElement("style")),nd(i,"style",a),Ld(i,n.precedence,e),t.instance=i;case"stylesheet":a=Od(n.href);var s=e.querySelector(Ad(a));if(s)return t.state.loading|=4,t.instance=s,Ge(s),s;i=Td(n),(a=Nd.get(a))&&zd(i,a),Ge(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),nd(s,"link",i),t.state.loading|=4,Ld(s,n.precedence,e),t.instance=s;case"script":return s=Rd(n.src),(a=e.querySelector(Dd(s)))?(t.instance=a,Ge(a),a):(i=n,(a=Nd.get(s))&&Fd(i=c({},n),a),Ge(a=(e=e.ownerDocument||e).createElement("script")),nd(a,"link",i),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(r(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(i=t.instance,t.state.loading|=4,Ld(i,n.precedence,e));return t.instance}function Ld(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===t)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function zd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Fd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Bd=null;function Vd(e,t,n){if(null===Bd){var r=new Map,i=Bd=new Map;i.set(n,r)}else(r=(i=Bd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[Ve]||a[Re]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var s=a.getAttribute(t)||"";s=e+s;var o=r.get(s);o?o.push(a):r.set(s,[a])}}return r}function Wd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function $d(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var Hd=null;function Kd(){}function Ud(){if(this.count--,0===this.count)if(this.stylesheets)qd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Gd=null;function qd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Gd=new Map,t.forEach(Yd,e),Gd=null,Ud.call(e))}function Yd(e,t){if(!(4&t.state.loading)){var n=Gd.get(e);if(n)var r=n.get(null);else{n=new Map,Gd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(i=t.instance).getAttribute("data-precedence"),(a=n.get(s)||r)===r&&n.set(null,i),n.set(s,i),this.count++,r=Ud.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Xd={$$typeof:y,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function Qd(e,t,n,r,i,a,s,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Se(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Se(0),this.hiddenUpdates=Se(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Zd(e,t,n,r,i,a,s,o,l,c,u,d){return e=new Qd(e,t,n,s,o,l,c,d),t=1,!0===a&&(t|=24),a=zr(3,null,null,t),e.current=a,a.stateNode=e,(t=Di()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},ia(a),e}function Jd(e){return e?e=Ir:Ir}function eh(e,t,n,r,i,a){i=Jd(i),null===r.context?r.context=i:r.pendingContext=i,(r=sa(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=oa(e,r,t))&&(zc(n,0,t),la(n,e,t))}function th(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nh(e,t){th(e,t),(e=e.alternate)&&th(e,t)}function rh(e){if(13===e.tag){var t=Tr(e,67108864);null!==t&&zc(t,0,67108864),nh(e,67108864)}}var ih=!0;function ah(e,t,n,r){var i=T.T;T.T=null;var a=D.p;try{D.p=2,oh(e,t,n,r)}finally{D.p=a,T.T=i}}function sh(e,t,n,r){var i=T.T;T.T=null;var a=D.p;try{D.p=8,oh(e,t,n,r)}finally{D.p=a,T.T=i}}function oh(e,t,n,r){if(ih){var i=lh(r);if(null===i)Hu(e,t,r,ch,n),bh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return fh=wh(fh,e,t,n,r,i),!0;case"dragenter":return mh=wh(mh,e,t,n,r,i),!0;case"mouseover":return gh=wh(gh,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return ph.set(a,wh(ph.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,vh.set(a,wh(vh.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(bh(e,r),4&t&&-1<xh.indexOf(e)){for(;null!==i;){var a=He(i);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var s=be(a.pendingLanes);if(0!==s){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-ge(s);o.entanglements[1]|=l,s&=~l}Nu(a),!(6&ic)&&(Nc=re()+500,ku(0))}}break;case 13:null!==(o=Tr(a,2))&&zc(o,0,2),$c(),nh(a,2)}if(null===(a=lh(r))&&Hu(e,t,r,ch,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hu(e,t,r,null,n)}}function lh(e){return uh(e=Tt(e))}var ch=null;function uh(e){if(ch=null,null!==(e=$e(e))){var t=a(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=s(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ch=e,null}function dh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ie()){case ae:return 2;case se:return 8;case oe:case le:return 32;case ce:return 268435456;default:return 32}default:return 32}}var hh=!1,fh=null,mh=null,gh=null,ph=new Map,vh=new Map,yh=[],xh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bh(e,t){switch(e){case"focusin":case"focusout":fh=null;break;case"dragenter":case"dragleave":mh=null;break;case"mouseover":case"mouseout":gh=null;break;case"pointerover":case"pointerout":ph.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vh.delete(t.pointerId)}}function wh(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&null!==(t=He(t))&&rh(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function _h(e){var t=$e(e.target);if(null!==t){var n=a(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=s(n)))return e.blockedOn=t,void function(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}(e.priority,function(){if(13===n.tag){var e=Ic();e=Me(e);var t=Tr(n,e);null!==t&&zc(t,0,e),nh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=lh(e.nativeEvent);if(null!==n)return null!==(t=He(n))&&rh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);At=r,n.target.dispatchEvent(r),At=null,t.shift()}return!0}function Nh(e,t,n){jh(e)&&n.delete(t)}function kh(){hh=!1,null!==fh&&jh(fh)&&(fh=null),null!==mh&&jh(mh)&&(mh=null),null!==gh&&jh(gh)&&(gh=null),ph.forEach(Nh),vh.forEach(Nh)}function Sh(t,n){t.blockedOn===n&&(t.blockedOn=null,hh||(hh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,kh)))}var Ch=null;function Ph(t){Ch!==t&&(Ch=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ch===t&&(Ch=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if("function"!=typeof r){if(null===uh(r||n))continue;break}var a=He(n);null!==a&&(t.splice(e,3),e-=3,As(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Eh(e){function t(t){return Sh(t,e)}null!==fh&&Sh(fh,e),null!==mh&&Sh(mh,e),null!==gh&&Sh(gh,e),ph.forEach(t),vh.forEach(t);for(var n=0;n<yh.length;n++){var r=yh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<yh.length&&null===(n=yh[0]).blockedOn;)_h(n),null===n.blockedOn&&yh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[De]||null;if("function"==typeof a)s||Ph(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[De]||null)o=s.formAction;else if(null!==uh(i))continue}else o=s.action;"function"==typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Ph(n)}}}function Mh(e){this._internalRoot=e}function Oh(e){this._internalRoot=e}Oh.prototype.render=Mh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));eh(t.current,Ic(),e,t,null,null)},Oh.prototype.unmount=Mh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;eh(e.current,2,null,e,null,null),$c(),t[Ie]=null}},Oh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ae();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yh.length&&0!==t&&t<yh[n].priority;n++);yh.splice(n,0,e),0===n&&_h(e)}};var Ah=t.version;if("19.1.0"!==Ah)throw Error(r(527,Ah,"19.1.0"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=a(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(null===s)break;var l=s.alternate;if(null===l){if(null!==(i=s.return)){n=i;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return o(s),e;if(l===i)return o(s),t;l=l.sibling}throw Error(r(188))}if(n.return!==i.return)n=s,i=l;else{for(var c=!1,u=s.child;u;){if(u===n){c=!0,n=s,i=l;break}if(u===i){c=!0,i=s,n=l;break}u=u.sibling}if(!c){for(u=l.child;u;){if(u===n){c=!0,n=l,i=s;break}if(u===i){c=!0,i=l,n=s;break}u=u.sibling}if(!c)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?l(e):null)?null:e.stateNode};var Th={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:T,reconcilerVersion:"19.1.0"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rh.isDisabled&&Rh.supportsFiber)try{he=Rh.inject(Th),fe=Rh}catch(Ih){}}return O.createRoot=function(e,t){if(!i(e))throw Error(r(299));var n=!1,a="",s=bo,o=wo,l=_o;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onUncaughtError&&(s=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Zd(e,1,!1,null,0,n,a,s,o,l,0,null),e[Ie]=t.current,Wu(e),new Mh(t)},O.hydrateRoot=function(e,t,n){if(!i(e))throw Error(r(299));var a=!1,s="",o=bo,l=wo,c=_o,u=null;return null!=n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Zd(e,1,!0,t,0,a,s,o,l,c,0,u)).context=Jd(null),n=t.current,(s=sa(a=Me(a=Ic()))).callback=null,oa(n,s,a),n=a,t.current.lanes=n,Ce(t,n),Nu(t),e[Ie]=t.current,Wu(e),new Oh(t)},O.version="19.1.0",O}const H=i((z||(z=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),M.exports=$()),M.exports)),K=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},U=(...e)=>e.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim();
/**
     * @license lucide-react v0.525.0 - ISC
     *
     * This source code is licensed under the ISC license.
     * See the LICENSE file in the root directory of this source tree.
     */
/**
     * @license lucide-react v0.525.0 - ISC
     *
     * This source code is licensed under the ISC license.
     * See the LICENSE file in the root directory of this source tree.
     */
var G={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
     * @license lucide-react v0.525.0 - ISC
     *
     * This source code is licensed under the ISC license.
     * See the LICENSE file in the root directory of this source tree.
     */const q=k.forwardRef((e,t)=>{var n=e,{color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:c}=n,u=g(n,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return k.createElement("svg",h(h(f(h({ref:t},G),{width:i,height:i,stroke:r,strokeWidth:s?24*Number(a)/Number(i):a,className:U("lucide",o)}),!l&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(u)&&{"aria-hidden":"true"}),u),[...c.map(([e,t])=>k.createElement(e,t)),...Array.isArray(l)?l:[l]])}),Y=(e,t)=>{const n=k.forwardRef((n,r)=>{var i,a=n,{className:s}=a,o=g(a,["className"]);return k.createElement(q,h({ref:r,iconNode:t,className:U(`lucide-${i=K(e),i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,s)},o))});return n.displayName=K(e),n},X=Y("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),Q=Y("arrow-down-right",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]),Z=Y("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),J=Y("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),ee=Y("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),te=Y("brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]),ne=Y("building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),re=Y("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),ie=Y("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),ae=Y("chart-no-axes-column-increasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),se=Y("chart-no-axes-column",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),oe=Y("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]),le=Y("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),ce=Y("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),ue=Y("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),de=Y("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),he=Y("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),fe=Y("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),me=Y("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),ge=Y("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),pe=Y("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),ve=Y("coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]),ye=Y("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),xe=Y("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),be=Y("droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),we=Y("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),_e=Y("flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),je=Y("gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]),Ne=Y("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),ke=Y("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Se=Y("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]),Ce=Y("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),Pe=Y("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Ee=Y("scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]),Me=Y("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),Oe=Y("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),Ae=Y("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Te=Y("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]),Re=Y("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),De=Y("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Ie=Y("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Le=Y("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),ze=Y("wand-sparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),Fe=Y("wheat",[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]]),Be=Y("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ve=Y("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),We=({marketOverview:e})=>e?b.jsxs("div",{className:"border-b border-gray-200 pb-2",children:[b.jsxs("div",{className:"flex items-center justify-between mb-1",children:[b.jsx("h2",{className:"text-lg font-bold text-gray-900",children:e.title||"Tổng quan thị trường (Macro)"}),b.jsx("div",{className:"text-xs text-gray-600",children:e.analysis_date&&b.jsxs("span",{children:["Cập nhật: ",new Date(e.analysis_date).toLocaleDateString("vi-VN")]})})]}),e.benchmark&&b.jsxs("div",{className:"text-xs text-gray-500",children:["Chuẩn so sánh: ",e.benchmark]})]}):null,$e=({marketOverview:e,marketHealthScore:t})=>{var n,r,i,a,s,o;return b.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-3",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsxs("div",{className:"text-center",children:[b.jsxs("div",{className:"text-xl font-bold text-blue-900",children:[t,"%"]}),b.jsx("div",{className:"text-xs text-blue-700",children:"Sức khỏe thị trường"})]}),b.jsx("div",{className:"h-10 w-1 bg-blue-200"}),b.jsxs("div",{children:[b.jsx("div",{className:"text-sm font-semibold text-gray-900",children:(null==(n=e.market_regime)?void 0:n.regime)||"Trạng thái thị trường"}),b.jsx("div",{className:"text-xs text-gray-600",children:(null==(r=e.market_regime)?void 0:r.description)||"Mô tả trạng thái hiện tại"})]})]}),b.jsxs("div",{className:"text-right",children:[b.jsx("div",{className:"text-xs text-gray-600",children:"Xu hướng tổng thể"}),b.jsxs("div",{className:"flex items-center space-x-1",children:[(()=>{var t;const{icon:n,color:r}=(null==(i=null==(t=e.market_regime)?void 0:t.regime)?void 0:i.includes("Up"))||(null==i?void 0:i.includes("Tăng"))?{icon:Re,color:"text-green-600"}:(null==i?void 0:i.includes("Down"))||(null==i?void 0:i.includes("Giảm"))?{icon:Te,color:"text-red-600"}:{icon:Ce,color:"text-gray-600"};var i;return b.jsx(n,{className:`w-4 h-4 ${r}`})})(),b.jsx("span",{className:"text-sm font-semibold text-gray-900",children:(null==(a=null==(i=e.market_regime)?void 0:i.regime)?void 0:a.includes("Bull"))?"Tăng":(null==(o=null==(s=e.market_regime)?void 0:s.regime)?void 0:o.includes("Bear"))?"Giảm":"Đi ngang"})]})]})]})})},He=({marketOverview:e})=>{var t,n,r,i,a,s,o,l,c,u,d,h,f,m,g;return b.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-2",children:[b.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-2 text-center",children:[b.jsx("div",{className:"flex justify-center mb-1",children:b.jsx(X,{className:"w-3 h-3 text-blue-600"})}),b.jsx("div",{className:"text-xs font-medium text-gray-700 mb-1",children:"Động lượng"}),b.jsx("div",{className:"text-sm font-bold text-blue-600",children:(null==(t=e.market_regime)?void 0:t.momentum_score)?`${(100*e.market_regime.momentum_score).toFixed(0)}%`:"N/A"}),b.jsx("div",{className:"text-xs text-gray-500",children:"Bullish ↑"})]}),b.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-2 text-center",children:[b.jsx("div",{className:"flex justify-center mb-1",children:b.jsx(ie,{className:"w-3 h-3 text-green-600"})}),b.jsx("div",{className:"text-xs font-medium text-gray-700 mb-1",children:"Độ rộng"}),b.jsx("div",{className:"text-sm font-bold text-green-600",children:(null==(i=null==(r=null==(n=e.market_health)?void 0:n.key_metrics)?void 0:r.market_breadth)?void 0:i.score)?`${(100*e.market_health.key_metrics.market_breadth.score).toFixed(0)}%`:"N/A"}),b.jsx("div",{className:"text-xs text-gray-500",children:"Advance/Decline"})]}),b.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-2 text-center",children:[b.jsx("div",{className:"flex justify-center mb-1",children:b.jsx(Ve,{className:"w-3 h-3 text-yellow-600"})}),b.jsx("div",{className:"text-xs font-medium text-gray-700 mb-1",children:"Biến động"}),b.jsx("div",{className:"text-sm font-bold text-yellow-600",children:(null==(l=null==(o=null==(s=null==(a=e.market_health)?void 0:a.key_metrics)?void 0:s.momentum_distribution)?void 0:o.momentum_categories)?void 0:l.very_strong)||"N/A"}),b.jsx("div",{className:"text-xs text-gray-500",children:"IV Index: Thấp"})]}),b.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-2 text-center",children:[b.jsx("div",{className:"flex justify-center mb-1",children:b.jsx(Oe,{className:"w-3 h-3 text-red-600"})}),b.jsx("div",{className:"text-xs font-medium text-gray-700 mb-1",children:"Rủi ro"}),b.jsx("div",{className:"text-sm font-bold text-red-600",children:(null==(h=null==(d=null==(u=null==(c=e.market_health)?void 0:c.key_metrics)?void 0:u.momentum_distribution)?void 0:d.risk_distribution)?void 0:h.Cao)||"N/A"}),b.jsx("div",{className:"text-xs text-gray-500",children:"Risk Gauge: Cảnh báo"})]}),b.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-2 text-center",children:[b.jsx("div",{className:"flex justify-center mb-1",children:b.jsx(xe,{className:"w-3 h-3 text-purple-600"})}),b.jsx("div",{className:"text-xs font-medium text-gray-700 mb-1",children:"Dòng tiền"}),b.jsx("div",{className:"text-sm font-bold text-purple-600",children:(null==(m=null==(f=e.market_health)?void 0:f.market_cap_rotation)?void 0:m.rotation_theme)?"Tích cực":"N/A"}),b.jsx("div",{className:"text-xs text-gray-500",children:"Net Buy/Sell"})]}),b.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-2 text-center",children:[b.jsx("div",{className:"flex justify-center mb-1",children:b.jsx(Ae,{className:"w-3 h-3 text-indigo-600"})}),b.jsx("div",{className:"text-xs font-medium text-gray-700 mb-1",children:"Độ tin cậy"}),b.jsxs("div",{className:"text-sm font-bold text-indigo-600",children:[(null==(g=e.market_regime)?void 0:g.confidence)||"N/A","%"]}),b.jsx("div",{className:"text-xs text-gray-500",children:"Confidence"})]})]})},Ke=({children:e,className:t=""})=>b.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 sm:p-5 transition-all duration-300 h-full ${t}`,children:e}),Ue=({industries:e,analysisDate:t,lookbackPeriod:n,keyMetrics:r,getSentimentColor:i,marketOverview:a})=>{var s,o,l,c,u,d,h,f,m,g,p;if(!e||0===e.length)return null;const v=[b.jsxs(Ke,{className:"p-4 min-h-[140px]",children:[b.jsx("h4",{className:"font-normal text-gray-700 dark:text-gray-300 mb-2 text-sm",children:"Ngành vượt trội"}),b.jsx("div",{className:"text-lg font-semibold text-green-600",children:(null==r?void 0:r.outperforming_industries)||"N/A"}),b.jsx("div",{className:`text-sm ${i?i(null==r?void 0:r.industry_sentiment):""}`,children:(null==r?void 0:r.industry_sentiment)||"N/A"}),b.jsx("div",{className:"text-xs text-gray-500 mt-1",children:(null==r?void 0:r.outperforming_industries_pct)||"N/A"})]},"outperforming-industry"),b.jsxs(Ke,{className:"p-4 min-h-[140px]",children:[b.jsx("h4",{className:"font-normal text-gray-700 dark:text-gray-300 mb-2 text-sm",children:"Cổ phiếu vượt trội"}),b.jsx("div",{className:"text-lg font-semibold text-green-600",children:(null==r?void 0:r.outperforming_symbols)||"N/A"}),b.jsx("div",{className:`text-sm ${i?i(null==r?void 0:r.symbol_sentiment):""}`,children:(null==r?void 0:r.symbol_sentiment)||"N/A"}),b.jsx("div",{className:"text-xs text-gray-500 mt-1",children:(null==r?void 0:r.outperforming_symbols_pct)||"N/A"})]},"outperforming-symbol"),b.jsxs(Ke,{className:"p-4 min-h-[140px]",children:[b.jsx("h4",{className:"font-normal text-gray-700 dark:text-gray-300 mb-2 text-sm",children:"Nhóm vốn hóa vượt trội"}),b.jsx("div",{className:"text-lg font-semibold text-green-600",children:(null==r?void 0:r.outperforming_groups)||"N/A"}),b.jsx("div",{className:`text-sm ${i?i(null==r?void 0:r.group_sentiment):""}`,children:(null==r?void 0:r.group_sentiment)||"N/A"}),b.jsx("div",{className:"text-xs text-gray-500 mt-1",children:(null==r?void 0:r.outperforming_groups_pct)||"N/A"})]},"outperforming-group"),b.jsxs(Ke,{className:"p-4 min-h-[140px]",children:[b.jsx("h4",{className:"font-normal text-gray-700 dark:text-gray-300 mb-2 text-sm",children:"Phân bố Hiệu suất"}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Outperforming:"}),b.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:e.filter(e=>{var t;return"Vượt trội"===(null==(t=e.performance_summary)?void 0:t.crs_status)}).length})]}),b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Underperforming:"}),b.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:e.filter(e=>{var t;return"Kém hiệu quả"===(null==(t=e.performance_summary)?void 0:t.crs_status)}).length})]}),b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tổng cộng:"}),b.jsx("span",{className:"font-medium",children:e.length})]})]})]},"performance"),b.jsxs(Ke,{className:"p-4 min-h-[140px]",children:[b.jsx("h4",{className:"font-normal text-gray-700 dark:text-gray-300 mb-2 text-sm",children:"Phân bố Xu hướng"}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tăng trưởng:"}),b.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:e.filter(e=>{var t;return"Tăng trưởng"===(null==(t=e.performance_summary)?void 0:t.rs_trend)}).length})]}),b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Suy giảm:"}),b.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:e.filter(e=>{var t;return"Suy giảm"===(null==(t=e.performance_summary)?void 0:t.rs_trend)}).length})]}),b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Trung lập:"}),b.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:e.filter(e=>{var t;return"Trung lập"===(null==(t=e.performance_summary)?void 0:t.rs_trend)}).length})]})]})]},"trend"),b.jsxs(Ke,{className:"p-4 min-h-[140px]",children:[b.jsx("h4",{className:"font-normal text-gray-700 dark:text-gray-300 mb-2 text-sm",children:"Phân tích Độ biến động"}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Thấp (<3%):"}),b.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:e.filter(e=>{var t;return(null==(t=e.metrics)?void 0:t.rs_volatility)<.03}).length})]}),b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Trung bình (3-6%):"}),b.jsx("span",{className:"font-medium text-yellow-600 dark:text-yellow-400",children:e.filter(e=>{var t,n;return(null==(t=e.metrics)?void 0:t.rs_volatility)>=.03&&(null==(n=e.metrics)?void 0:n.rs_volatility)<.06}).length})]}),b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Cao (>6%):"}),b.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:e.filter(e=>{var t;return(null==(t=e.metrics)?void 0:t.rs_volatility)>=.06}).length})]})]})]},"volatility"),b.jsxs(Ke,{className:"p-4 min-h-[140px]",children:[b.jsx("h4",{className:"font-normal text-gray-700 dark:text-gray-300 mb-2 text-sm",children:"Phân tích Độ ổn định"}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tốt (>60%):"}),b.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:e.filter(e=>{var t,n;return(null==(t=e.metrics)?void 0:t.outperforming_days)/(null==(n=e.metrics)?void 0:n.total_days)>.6}).length})]}),b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Trung bình (40-60%):"}),b.jsx("span",{className:"font-medium text-yellow-600 dark:text-yellow-400",children:e.filter(e=>{var t,n,r,i;return(null==(t=e.metrics)?void 0:t.outperforming_days)/(null==(n=e.metrics)?void 0:n.total_days)>=.4&&(null==(r=e.metrics)?void 0:r.outperforming_days)/(null==(i=e.metrics)?void 0:i.total_days)<=.6}).length})]}),b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Kém (<40%):"}),b.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:e.filter(e=>{var t,n;return(null==(t=e.metrics)?void 0:t.outperforming_days)/(null==(n=e.metrics)?void 0:n.total_days)<.4}).length})]})]})]},"consistency"),b.jsxs(Ke,{className:"p-4 min-h-[140px]",children:[b.jsx("h4",{className:"font-normal text-gray-700 dark:text-gray-300 mb-2 text-sm",children:"Phân tích Momentum"}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tăng tốc:"}),b.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:e.filter(e=>{var t,n;return(null==(t=e.speed_analysis)?void 0:t.short_term_momentum)>0&&(null==(n=e.speed_analysis)?void 0:n.long_term_momentum)>0}).length})]}),b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Giảm tốc:"}),b.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:e.filter(e=>{var t,n;return(null==(t=e.speed_analysis)?void 0:t.short_term_momentum)<0&&(null==(n=e.speed_analysis)?void 0:n.long_term_momentum)<0}).length})]}),b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Hỗn hợp:"}),b.jsx("span",{className:"font-medium text-yellow-600 dark:text-yellow-400",children:e.filter(e=>{var t,n,r,i;return(null==(t=e.speed_analysis)?void 0:t.short_term_momentum)>0&&(null==(n=e.speed_analysis)?void 0:n.long_term_momentum)<0||(null==(r=e.speed_analysis)?void 0:r.short_term_momentum)<0&&(null==(i=e.speed_analysis)?void 0:i.long_term_momentum)>0}).length})]})]})]},"momentum"),b.jsxs(Ke,{className:"p-4 min-h-[140px]",children:[b.jsx("h4",{className:"font-normal text-gray-700 dark:text-gray-300 mb-2 text-sm",children:"Đánh giá Rủi ro"}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Thấp:"}),b.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:e.filter(e=>{var t;return"Thấp"===(null==(t=e.risk_assessment)?void 0:t.risk_level)}).length})]}),b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Trung bình:"}),b.jsx("span",{className:"font-medium text-yellow-600 dark:text-yellow-400",children:e.filter(e=>{var t;return"Trung bình"===(null==(t=e.risk_assessment)?void 0:t.risk_level)}).length})]}),b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Cao:"}),b.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:e.filter(e=>{var t;return"Cao"===(null==(t=e.risk_assessment)?void 0:t.risk_level)}).length})]})]})]},"risk"),(null==(l=null==(o=null==(s=null==a?void 0:a.market_health)?void 0:s.key_metrics)?void 0:o.momentum_distribution)?void 0:l.momentum_categories)&&b.jsxs(Ke,{className:"p-4 min-h-[140px]",children:[b.jsx("h4",{className:"font-normal text-gray-700 dark:text-gray-300 mb-2 text-sm",children:"Phân bổ động lượng"}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Rất mạnh:"}),b.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:(null==(c=a.market_health.key_metrics.momentum_distribution.momentum_categories)?void 0:c.very_strong)||"N/A"})]}),b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Mạnh:"}),b.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:(null==(u=a.market_health.key_metrics.momentum_distribution.momentum_categories)?void 0:u.strong)||"N/A"})]}),b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Trung bình:"}),b.jsx("span",{className:"font-medium text-yellow-600 dark:text-yellow-400",children:(null==(d=a.market_health.key_metrics.momentum_distribution.momentum_categories)?void 0:d.moderate)||"N/A"})]}),b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Yếu:"}),b.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:(null==(h=a.market_health.key_metrics.momentum_distribution.momentum_categories)?void 0:h.weak)||"N/A"})]}),b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Giảm:"}),b.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:(null==(f=a.market_health.key_metrics.momentum_distribution.momentum_categories)?void 0:f.declining)||"N/A"})]})]})]},"momentum-distribution"),(null==(p=null==(g=null==(m=null==a?void 0:a.market_health)?void 0:m.key_metrics)?void 0:g.momentum_distribution)?void 0:p.speed_distribution)&&b.jsxs(Ke,{className:"p-4 min-h-[140px]",children:[b.jsx("h4",{className:"font-normal text-gray-700 dark:text-gray-300 mb-2 text-sm",children:"Phân bổ tốc độ"}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Nhanh:"}),b.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:a.market_health.key_metrics.momentum_distribution.speed_distribution.fast||"N/A"})]}),b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Trung bình:"}),b.jsx("span",{className:"font-medium text-yellow-600 dark:text-yellow-400",children:a.market_health.key_metrics.momentum_distribution.speed_distribution.moderate||"N/A"})]}),b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Chậm:"}),b.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:a.market_health.key_metrics.momentum_distribution.speed_distribution.slow||"N/A"})]})]})]},"speed-distribution")],y=v.length%3,x=0===y?0:3-y;return b.jsxs("div",{className:"space-y-6",children:[b.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center",children:"Thống kê và Phân tích"}),b.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[v,[...Array(x)].map((e,t)=>b.jsx("div",{className:"invisible min-h-[140px]"},`placeholder-${t}`))]})]})},Ge=({marketOverview:e,topSectors:t,bottomSectors:n,industries:r,analyticsData:i,getSentimentColor:a})=>b.jsxs("div",{className:"lg:col-span-2 bg-white border border-gray-200 rounded-lg p-2",children:[b.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center",children:[b.jsx(oe,{className:"w-3 h-3 mr-1 text-blue-600"}),"Thống kê ngành"]}),b.jsx(Ue,{industries:r,analysisDate:null==i?void 0:i.analysis_date,lookbackPeriod:null==i?void 0:i.lookback_period,keyMetrics:e.key_metrics,getSentimentColor:a,marketOverview:e})]}),qe=({marketOverview:e,investmentStrategies:t,detailedAnalysis:n})=>{var r,i,a,s,o,l,c,u,d,h,f,m,g,p,v,y,x,w,_,j,N;const k=(null==t?void 0:t.macro_strategy)&&(t.macro_strategy.overall_positioning&&t.macro_strategy.overall_positioning.length>0||t.macro_strategy.market_phase_analysis&&t.macro_strategy.market_phase_analysis.length>0||t.macro_strategy.risk_management&&t.macro_strategy.risk_management.length>0),S=(null==t?void 0:t.sector_strategy)&&(t.sector_strategy.sector_rotation_signals&&t.sector_strategy.sector_rotation_signals.length>0||t.sector_strategy.sector_allocation&&t.sector_strategy.sector_allocation.length>0||t.sector_strategy.sector_risk_warnings&&t.sector_strategy.sector_risk_warnings.length>0),C=(null==t?void 0:t.group_strategy)&&(t.group_strategy.group_rotation_signals&&t.group_strategy.group_rotation_signals.length>0||t.group_strategy.group_allocation&&t.group_strategy.group_allocation.length>0||t.group_strategy.group_risk_warnings&&t.group_strategy.group_risk_warnings.length>0),P=(null==t?void 0:t.stock_strategy)&&(t.stock_strategy.momentum_strategy&&t.stock_strategy.momentum_strategy.length>0||t.stock_strategy.accumulation_strategy&&t.stock_strategy.accumulation_strategy.length>0||t.stock_strategy.risk_avoidance&&t.stock_strategy.risk_avoidance.length>0||t.stock_strategy.position_sizing&&t.stock_strategy.position_sizing.length>0),E=null==(r=null==n?void 0:n.risk_distribution)?void 0:r.risk_assessment,M=null==n?void 0:n.systemic_risks;return b.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-2",children:[b.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center",children:[b.jsx(Ae,{className:"w-3 h-3 mr-1 text-green-600"}),"Chiến lược hành động"]}),b.jsxs("div",{className:"space-y-2",children:[(e.strategic_recommendation||k)&&b.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-2",children:[b.jsxs("div",{className:"font-medium text-green-800 mb-1 text-xs flex items-center",children:[b.jsx(Oe,{className:"w-2.5 h-2.5 mr-1"}),"Chiến lược tổng thể"]}),b.jsxs("div",{className:"space-y-1 text-xs",children:[(null==(i=e.strategic_recommendation)?void 0:i.stance)&&b.jsxs("div",{className:"text-green-700",children:[b.jsx("strong",{children:"Vị thế:"})," ",e.strategic_recommendation.stance]}),(null==(a=e.strategic_recommendation)?void 0:a.confidence)&&b.jsxs("div",{className:"text-green-600",children:[b.jsx("strong",{children:"Độ tin cậy:"})," ",e.strategic_recommendation.confidence,"%"]}),(null==(s=e.market_regime)?void 0:s.momentum_score)&&b.jsxs("div",{className:"text-green-600 p-1 bg-green-100 rounded",children:[b.jsx("strong",{children:"Điều kiện:"})," Khi động lượng > ",(100*e.market_regime.momentum_score).toFixed(0),"%,",e.market_regime.momentum_score>.6?" tăng cường mua vào":" thận trọng"]}),k&&b.jsxs("div",{className:"mt-1",children:[null==(o=t.macro_strategy.overall_positioning)?void 0:o.slice(0,2).map((e,t)=>b.jsxs("div",{className:"text-green-700",children:["• ",e]},t)),null==(l=t.macro_strategy.risk_management)?void 0:l.slice(0,1).map((e,t)=>b.jsxs("div",{className:"text-green-700",children:["• ",e]},t))]})]})]}),(E||M)&&b.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-2",children:[b.jsxs("div",{className:"font-medium text-red-800 mb-1 text-xs flex items-center",children:[b.jsx(De,{className:"w-2.5 h-2.5 mr-1"}),"Đánh giá rủi ro & Chiến lược giảm thiểu"]}),b.jsxs("div",{className:"space-y-1 text-xs",children:[(null==E?void 0:E.environment)&&b.jsx("div",{className:"text-red-700 font-medium",children:E.environment}),(null==E?void 0:E.description)&&b.jsx("div",{className:"text-red-600",children:E.description}),E&&b.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[E.high_risk_percentage&&b.jsxs("span",{className:"bg-red-100 text-red-800 px-1 py-0.5 rounded text-xs",children:["Rủi ro cao: ",E.high_risk_percentage]}),E.high_volatility_percentage&&b.jsxs("span",{className:"bg-orange-100 text-orange-800 px-1 py-0.5 rounded text-xs",children:["Biến động cao: ",E.high_volatility_percentage]}),E.low_risk_percentage&&b.jsxs("span",{className:"bg-green-100 text-green-800 px-1 py-0.5 rounded text-xs",children:["Rủi ro thấp: ",E.low_risk_percentage]})]}),(null==M?void 0:M.overall_systemic_risk)&&b.jsx("div",{className:"mt-1 p-1 bg-red-100 rounded",children:b.jsxs("div",{className:"text-red-700 font-medium",children:[M.overall_systemic_risk.level," - ",M.overall_systemic_risk.description]})}),(null==M?void 0:M.systemic_risks)&&M.systemic_risks.length>0&&b.jsxs("div",{className:"mt-1",children:[b.jsx("div",{className:"text-red-700 font-medium",children:"Yếu tố rủi ro chính:"}),M.systemic_risks.slice(0,2).map((e,t)=>b.jsxs("div",{className:"text-red-600",children:["• ",e.type,": ",e.description]},t))]}),(null==M?void 0:M.mitigation_strategies)&&M.mitigation_strategies.length>0&&b.jsxs("div",{className:"mt-1",children:[b.jsx("div",{className:"text-blue-700 font-medium",children:"Chiến lược giảm thiểu:"}),M.mitigation_strategies.slice(0,1).map((e,t)=>b.jsxs("div",{className:"text-blue-600",children:["• ",e.strategy,": ",e.description]},t))]}),(null==E?void 0:E.recommendation)&&b.jsx("div",{className:"text-blue-700 font-medium mt-1 pt-1 border-t border-red-200",children:E.recommendation})]})]}),((null==(c=e.market_health)?void 0:c.market_cap_rotation)||C)&&b.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-2",children:[b.jsxs("div",{className:"font-medium text-blue-800 mb-1 text-xs flex items-center",children:[b.jsx(Ie,{className:"w-2.5 h-2.5 mr-1"}),"Chiến lược vốn hóa"]}),b.jsxs("div",{className:"space-y-1 text-xs",children:[(null==(d=null==(u=e.market_health)?void 0:u.market_cap_rotation)?void 0:d.rotation_theme)&&b.jsxs("div",{className:"text-blue-700",children:[b.jsx("strong",{children:"Chủ đề:"})," ",e.market_health.market_cap_rotation.rotation_theme]}),(null==(h=e.strategic_recommendation)?void 0:h.rationale)&&b.jsxs("div",{className:"text-blue-600",children:[b.jsx("strong",{children:"Lý do:"})," ",e.strategic_recommendation.rationale]}),(null==(f=e.market_health)?void 0:f.market_cap_rotation)&&b.jsxs("div",{className:"text-blue-600 p-1 bg-blue-100 rounded",children:[b.jsx("strong",{children:"Khuyến nghị:"}),"Vượt trội"===(null==(m=e.market_health.market_cap_rotation.large_cap)?void 0:m.performance)?" Ưu tiên vốn hóa lớn":"","Vượt trội"===(null==(g=e.market_health.market_cap_rotation.mid_cap)?void 0:g.performance)?" Ưu tiên vốn hóa vừa":"","Vượt trội"===(null==(p=e.market_health.market_cap_rotation.small_cap)?void 0:p.performance)?" Ưu tiên vốn hóa nhỏ":""]}),C&&b.jsxs("div",{className:"mt-1",children:[null==(v=t.group_strategy.group_rotation_signals)?void 0:v.slice(0,2).map((e,t)=>b.jsxs("div",{className:"text-blue-700",children:["• ",e]},t)),null==(y=t.group_strategy.group_allocation)?void 0:y.slice(0,1).map((e,t)=>b.jsxs("div",{className:"text-blue-700",children:["• ",e]},t))]})]})]}),S&&b.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-2",children:[b.jsxs("div",{className:"font-medium text-indigo-800 mb-1 text-xs flex items-center",children:[b.jsx(ne,{className:"w-2.5 h-2.5 mr-1"}),"Chiến lược ngành"]}),b.jsxs("div",{className:"space-y-1 text-xs",children:[null==(x=t.sector_strategy.sector_rotation_signals)?void 0:x.slice(0,2).map((e,t)=>b.jsxs("div",{className:"text-indigo-700",children:["• ",e]},t)),null==(w=t.sector_strategy.sector_allocation)?void 0:w.slice(0,1).map((e,t)=>b.jsxs("div",{className:"text-indigo-700",children:["• ",e]},t))]})]}),P&&b.jsxs("div",{className:"bg-teal-50 border border-teal-200 rounded-lg p-2",children:[b.jsxs("div",{className:"font-medium text-teal-800 mb-1 text-xs flex items-center",children:[b.jsx(Re,{className:"w-2.5 h-2.5 mr-1"}),"Chiến lược cổ phiếu"]}),b.jsxs("div",{className:"space-y-1 text-xs",children:[null==(_=t.stock_strategy.momentum_strategy)?void 0:_.slice(0,2).map((e,t)=>b.jsxs("div",{className:"text-teal-700",children:["• ",e]},t)),null==(j=t.stock_strategy.accumulation_strategy)?void 0:j.slice(0,1).map((e,t)=>b.jsxs("div",{className:"text-teal-700",children:["• ",e]},t))]})]}),(null==(N=e.market_regime)?void 0:N.supporting_evidence)&&e.market_regime.supporting_evidence.length>0&&b.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-2",children:[b.jsxs("div",{className:"font-medium text-gray-800 mb-1 flex items-center text-xs",children:[b.jsx(he,{className:"w-3 h-3 mr-1"}),"Bằng chứng hỗ trợ"]}),b.jsx("div",{className:"text-xs text-gray-700",children:b.jsx("ul",{className:"list-disc list-inside space-y-1",children:e.market_regime.supporting_evidence.slice(0,2).map((e,t)=>b.jsx("li",{children:e},t))})})]})]})]})},Ye=({marketOverview:e,analyticsData:t,topSectors:n,bottomSectors:r,industries:i})=>{var a,s,o,l,c,u,d,h,f,m,g,p,v,y,x,w,_,j,N,k,S,C,P,E,M,O,A,T,R,D,I,L,z,F,B;const V=null==(s=null==(a=null==t?void 0:t.insights)?void 0:a.detailed_analysis)?void 0:s.sector_rotation,W=null==(l=null==(o=null==t?void 0:t.insights)?void 0:o.detailed_analysis)?void 0:l.market_cap_flow,$=(null==(u=null==(c=null==V?void 0:V.detailed_flow)?void 0:c.inflow_sectors)?void 0:u.slice(0,2))||[],H=(null==(h=null==(d=null==V?void 0:V.detailed_flow)?void 0:d.outflow_sectors)?void 0:h.slice(0,2))||[],K=(null==(g=null==(m=null==(f=null==V?void 0:V.sector_leadership)?void 0:f.emerging_leaders)?void 0:m.sectors)?void 0:g.slice(0,2))||[],U=(null==(v=null==(p=null==V?void 0:V.market_cap_flow)?void 0:p.top_large_cap)?void 0:v.slice(0,2))||[],G=(null==(x=null==(y=null==V?void 0:V.market_cap_flow)?void 0:y.top_mid_cap)?void 0:x.slice(0,2))||[],q=(null==(_=null==(w=null==V?void 0:V.market_cap_flow)?void 0:w.top_small_cap)?void 0:_.slice(0,2))||[],Y=(null==i?void 0:i.filter(e=>{var t;return(null==(t=e.metrics)?void 0:t.current_rs)>.1}).slice(0,3))||[];return b.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[b.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center",children:[b.jsx(je,{className:"w-3 h-3 mr-1 text-orange-600"}),"Biến động & Dòng tiền"]}),b.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2 mb-3",children:[b.jsxs("div",{className:"bg-purple-50 p-2 rounded text-xs",children:[b.jsx("div",{className:"font-medium text-purple-700 mb-1",children:"Sức mạnh giá"}),b.jsxs("div",{className:"space-y-1",children:[b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{children:"Mạnh:"}),b.jsx("span",{className:"font-medium",children:(null==(S=null==(k=null==(N=null==(j=e.market_health)?void 0:j.key_metrics)?void 0:N.momentum_distribution)?void 0:k.momentum_categories)?void 0:S.strong)||"N/A"})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{children:"TB:"}),b.jsx("span",{className:"font-medium",children:(null==(M=null==(E=null==(P=null==(C=e.market_health)?void 0:C.key_metrics)?void 0:P.momentum_distribution)?void 0:E.momentum_categories)?void 0:M.moderate)||"N/A"})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{children:"Yếu:"}),b.jsx("span",{className:"font-medium",children:(null==(R=null==(T=null==(A=null==(O=e.market_health)?void 0:O.key_metrics)?void 0:A.momentum_distribution)?void 0:T.momentum_categories)?void 0:R.weak)||"N/A"})]})]})]}),b.jsxs("div",{className:"bg-green-50 p-2 rounded text-xs",children:[b.jsxs("div",{className:"font-medium text-green-700 mb-1 flex items-center",children:[b.jsx(Re,{className:"w-2.5 h-2.5 mr-1"}),"Dòng tiền ngành"]}),b.jsxs("div",{className:"space-y-1",children:[b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{children:"Vào:"}),b.jsx("span",{className:"font-medium text-green-600",children:(null==(D=null==V?void 0:V.money_flow_summary)?void 0:D.inflow_count)||"N/A"})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{children:"Ra:"}),b.jsx("span",{className:"font-medium text-red-600",children:(null==(I=null==V?void 0:V.money_flow_summary)?void 0:I.outflow_count)||"N/A"})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{children:"Tốc độ:"}),b.jsx("span",{className:"font-medium",children:(null==(L=null==V?void 0:V.money_flow_summary)?void 0:L.flow_velocity)?`${(100*V.money_flow_summary.flow_velocity).toFixed(0)}%`:"N/A"})]})]})]}),b.jsxs("div",{className:"bg-blue-50 p-2 rounded text-xs",children:[b.jsx("div",{className:"font-medium text-blue-700 mb-1",children:"Dòng tiền nhóm"}),b.jsxs("div",{className:"space-y-1",children:[b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{children:"Vượt trội:"}),b.jsx("span",{className:"font-medium text-green-600",children:(null==W?void 0:W.outperforming_count)||"N/A"})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{children:"Kém:"}),b.jsx("span",{className:"font-medium text-red-600",children:(null==W?void 0:W.underperforming_count)||"N/A"})]}),b.jsx("div",{className:"text-xs text-blue-600 truncate",children:(null==(z=null==W?void 0:W.flow_theme)?void 0:z.split(" ").slice(0,2).join(" "))||"N/A"})]})]}),(null==n?void 0:n.length)>0&&b.jsxs("div",{className:"bg-green-50 p-2 rounded text-xs",children:[b.jsx("div",{className:"font-medium text-green-700 mb-1",children:"Top Gainers"}),b.jsx("div",{className:"space-y-1",children:n.slice(0,3).map((e,t)=>{var n;return b.jsxs("div",{className:"flex justify-between",children:[b.jsxs("span",{className:"truncate",children:[e.name,":"]}),b.jsx("span",{className:"font-medium text-green-600",children:(null==(n=e.metrics)?void 0:n.current_rs)?`${(100*e.metrics.current_rs).toFixed(1)}%`:"N/A"})]},e.custom_id||e.id)})})]}),(null==r?void 0:r.length)>0&&b.jsxs("div",{className:"bg-red-50 p-2 rounded text-xs",children:[b.jsx("div",{className:"font-medium text-red-700 mb-1",children:"Top Losers"}),b.jsx("div",{className:"space-y-1",children:r.slice(0,3).map((e,t)=>{var n;return b.jsxs("div",{className:"flex justify-between",children:[b.jsxs("span",{className:"truncate",children:[e.name,":"]}),b.jsx("span",{className:"font-medium text-red-600",children:(null==(n=e.metrics)?void 0:n.current_rs)?`${(100*e.metrics.current_rs).toFixed(1)}%`:"N/A"})]},e.custom_id||e.id)})})]}),Y.length>0&&b.jsxs("div",{className:"bg-blue-50 p-2 rounded text-xs",children:[b.jsx("div",{className:"font-medium text-blue-700 mb-1",children:"High Momentum"}),b.jsx("div",{className:"space-y-1",children:Y.map((e,t)=>{var n;return b.jsxs("div",{className:"flex justify-between",children:[b.jsxs("span",{className:"truncate",children:[e.name,":"]}),b.jsx("span",{className:"font-medium text-blue-600",children:(null==(n=e.metrics)?void 0:n.current_rs)?`${(100*e.metrics.current_rs).toFixed(1)}%`:"N/A"})]},e.custom_id||e.id)})})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mb-3",children:[K.length>0&&b.jsxs("div",{className:"bg-yellow-50 p-2 rounded text-xs",children:[b.jsxs("div",{className:"font-medium text-yellow-700 mb-1 flex items-center",children:[b.jsx(Ve,{className:"w-2.5 h-2.5 mr-1"}),"Nổi lên (",(null==(B=null==(F=null==V?void 0:V.sector_leadership)?void 0:F.emerging_leaders)?void 0:B.count)||0,")"]}),b.jsx("div",{className:"space-y-1",children:K.map((e,t)=>b.jsxs("div",{className:"flex justify-between",children:[b.jsxs("span",{className:"truncate",children:[e.name,":"]}),b.jsxs("span",{className:"font-medium text-yellow-600",children:[(100*e.velocity).toFixed(0),"%"]})]},t))})]}),($.length>0||H.length>0)&&b.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[$.length>0&&b.jsxs("div",{className:"bg-green-50 p-2 rounded text-xs",children:[b.jsxs("div",{className:"font-medium text-green-700 mb-1 flex items-center",children:[b.jsx(Re,{className:"w-2.5 h-2.5 mr-1"}),"Top đổ vào"]}),b.jsx("div",{className:"space-y-1",children:$.map((e,t)=>b.jsxs("div",{className:"flex justify-between",children:[b.jsxs("span",{className:"truncate",children:[e.name,":"]}),b.jsxs("span",{className:"font-medium text-green-600",children:[(100*e.velocity).toFixed(0),"%"]})]},t))})]}),H.length>0&&b.jsxs("div",{className:"bg-red-50 p-2 rounded text-xs",children:[b.jsxs("div",{className:"font-medium text-red-700 mb-1 flex items-center",children:[b.jsx(Te,{className:"w-2.5 h-2.5 mr-1"}),"Top rút ra"]}),b.jsx("div",{className:"space-y-1",children:H.map((e,t)=>b.jsxs("div",{className:"flex justify-between",children:[b.jsxs("span",{className:"truncate",children:[e.name,":"]}),b.jsxs("span",{className:"font-medium text-red-600",children:[(100*e.velocity).toFixed(0),"%"]})]},t))})]})]})]}),(U.length>0||G.length>0||q.length>0)&&b.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[U.length>0&&b.jsxs("div",{className:"bg-blue-50 p-2 rounded text-xs",children:[b.jsx("div",{className:"font-medium text-blue-700 mb-1",children:"VN30"}),b.jsx("div",{className:"space-y-1",children:U.map((e,t)=>b.jsxs("div",{className:"flex justify-between",children:[b.jsxs("span",{children:[e.symbol,":"]}),b.jsxs("span",{className:"font-medium text-blue-600",children:[(100*e.velocity).toFixed(0),"%"]})]},t))})]}),G.length>0&&b.jsxs("div",{className:"bg-green-50 p-2 rounded text-xs",children:[b.jsx("div",{className:"font-medium text-green-700 mb-1",children:"VNMID"}),b.jsx("div",{className:"space-y-1",children:G.map((e,t)=>b.jsxs("div",{className:"flex justify-between",children:[b.jsxs("span",{children:[e.symbol,":"]}),b.jsxs("span",{className:"font-medium text-green-600",children:[(100*e.velocity).toFixed(0),"%"]})]},t))})]}),q.length>0&&b.jsxs("div",{className:"bg-orange-50 p-2 rounded text-xs",children:[b.jsx("div",{className:"font-medium text-orange-700 mb-1",children:"VNSML"}),b.jsx("div",{className:"space-y-1",children:q.map((e,t)=>b.jsxs("div",{className:"flex justify-between",children:[b.jsxs("span",{children:[e.symbol,":"]}),b.jsxs("span",{className:"font-medium text-orange-600",children:[(100*e.velocity).toFixed(0),"%"]})]},t))})]})]})]})},Xe=({marketOverview:e})=>{var t;return(null==(t=e.market_health)?void 0:t.market_cap_rotation)?b.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-2",children:[b.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center",children:[b.jsx(Ie,{className:"w-3 h-3 mr-1 text-purple-600"}),"Luân chuyển vốn hóa thị trường"]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[e.market_health.market_cap_rotation.large_cap&&b.jsxs("div",{className:"border-l-4 border-blue-500 pl-2",children:[b.jsx("div",{className:"font-medium text-xs",children:e.market_health.market_cap_rotation.large_cap.name}),b.jsx("div",{className:"text-xs "+("Vượt trội"===e.market_health.market_cap_rotation.large_cap.performance?"text-green-600":"text-red-600"),children:e.market_health.market_cap_rotation.large_cap.performance}),b.jsx("div",{className:"text-xs text-gray-500",children:e.market_health.market_cap_rotation.large_cap.interpretation})]}),e.market_health.market_cap_rotation.mid_cap&&b.jsxs("div",{className:"border-l-4 border-yellow-500 pl-2",children:[b.jsx("div",{className:"font-medium text-xs",children:e.market_health.market_cap_rotation.mid_cap.name}),b.jsx("div",{className:"text-xs "+("Vượt trội"===e.market_health.market_cap_rotation.mid_cap.performance?"text-green-600":"text-red-600"),children:e.market_health.market_cap_rotation.mid_cap.performance}),b.jsx("div",{className:"text-xs text-gray-500",children:e.market_health.market_cap_rotation.mid_cap.interpretation})]}),e.market_health.market_cap_rotation.small_cap&&b.jsxs("div",{className:"border-l-4 border-red-500 pl-2",children:[b.jsx("div",{className:"font-medium text-xs",children:e.market_health.market_cap_rotation.small_cap.name}),b.jsx("div",{className:"text-xs "+("Vượt trội"===e.market_health.market_cap_rotation.small_cap.performance?"text-green-600":"text-red-600"),children:e.market_health.market_cap_rotation.small_cap.performance}),b.jsx("div",{className:"text-xs text-gray-500",children:e.market_health.market_cap_rotation.small_cap.interpretation})]})]})]}):null},Qe=({marketOverview:e,getSentimentColor:t,breadth_detail:n,industries:r,analyticsData:i})=>{var a,s;const o=(null==(a=null==i?void 0:i.insights)?void 0:a.investment_strategies)||{},l=(null==(s=null==i?void 0:i.insights)?void 0:s.detailed_analysis)||{};if(!e||!e.title)return null;const c=(()=>{var t,n,r,i,a;const s=(null==(r=null==(n=null==(t=e.market_health)?void 0:t.key_metrics)?void 0:n.market_breadth)?void 0:r.score)||0,o=(null==(i=e.market_regime)?void 0:i.momentum_score)||0,l=(null==(a=e.market_regime)?void 0:a.confidence)||0;return Math.round(50*(s+o)+.5*l)})(),{top:u,bottom:d}=(()=>{if(!r||!Array.isArray(r))return{top:[],bottom:[]};const e=[...r].sort((e,t)=>{var n,r;const i=(null==(n=e.metrics)?void 0:n.current_rs)||0;return((null==(r=t.metrics)?void 0:r.current_rs)||0)-i});return{top:e.slice(0,3),bottom:e.slice(-3).reverse()}})();return b.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3 space-y-3",children:[b.jsx(We,{marketOverview:e}),b.jsx($e,{marketOverview:e,marketHealthScore:c}),b.jsx(He,{marketOverview:e}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3",children:[b.jsx(Ge,{marketOverview:e,topSectors:u,bottomSectors:d,industries:r,analyticsData:i,getSentimentColor:t}),b.jsx(qe,{marketOverview:e,investmentStrategies:o,detailedAnalysis:l})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(Xe,{marketOverview:e}),b.jsx(Ye,{marketOverview:e,analyticsData:i,topSectors:u,bottomSectors:d,industries:r})]})]})};
/**
     * @license lucide-react v0.525.0 - ISC
     *
     * This source code is licensed under the ISC license.
     * See the LICENSE file in the root directory of this source tree.
     */function Ze(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function Je(...e){return t=>{let n=!1;const r=e.map(e=>{const r=Ze(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){const n=r[t];"function"==typeof n?n():Ze(e[t],null)}}}}function et(...e){return k.useCallback(Je(...e),e)}function tt(e){const t=rt(e),n=k.forwardRef((e,n)=>{const r=e,{children:i}=r,a=g(r,["children"]),s=k.Children.toArray(i),o=s.find(at);if(o){const e=o.props.children,r=s.map(t=>t===o?k.Children.count(e)>1?k.Children.only(null):k.isValidElement(e)?e.props.children:null:t);return b.jsx(t,f(h({},a),{ref:n,children:k.isValidElement(e)?k.cloneElement(e,void 0,r):null}))}return b.jsx(t,f(h({},a),{ref:n,children:i}))});return n.displayName=`${e}.Slot`,n}var nt=tt("Slot");function rt(e){const t=k.forwardRef((e,t)=>{const n=e,{children:r}=n,i=g(n,["children"]);if(k.isValidElement(r)){const e=function(e){var t,n;let r=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?e.ref:(r=null==(n=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:n.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}(r),n=function(e,t){const n=h({},t);for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...e)=>{const t=a(...e);return i(...e),t}:i&&(n[r]=i):"style"===r?n[r]=h(h({},i),a):"className"===r&&(n[r]=[i,a].filter(Boolean).join(" "))}return h(h({},e),n)}(i,r.props);return r.type!==k.Fragment&&(n.ref=t?Je(t,e):e),k.cloneElement(r,n)}return k.Children.count(r)>1?k.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var it=Symbol("radix.slottable");function at(e){return k.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===it}function st(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=st(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ot(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=st(e))&&(r&&(r+=" "),r+=t);return r}const lt=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,ct=ot,ut=(e,t)=>n=>{var r;if(null==(null==t?void 0:t.variants))return ct(e,null==n?void 0:n.class,null==n?void 0:n.className);const{variants:i,defaultVariants:a}=t,s=Object.keys(i).map(e=>{const t=null==n?void 0:n[e],r=null==a?void 0:a[e];if(null===t)return null;const s=lt(t)||lt(r);return i[e][s]}),o=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{}),l=null==t||null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let n=t,{class:r,className:i}=n,s=g(n,["class","className"]);return Object.entries(s).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes(h(h({},a),o)[t]):h(h({},a),o)[t]===n})?[...e,r,i]:e},[]);return ct(e,s,l,null==n?void 0:n.class,null==n?void 0:n.className)},dt=(e,t)=>{var n;if(0===e.length)return t.classGroupId;const r=e[0],i=t.nextPart.get(r),a=i?dt(e.slice(1),i):void 0;if(a)return a;if(0===t.validators.length)return;const s=e.join("-");return null==(n=t.validators.find(({validator:e})=>e(s)))?void 0:n.classGroupId},ht=/^\[(.+)\]$/,ft=e=>{if(ht.test(e)){const t=ht.exec(e)[1],n=null==t?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},mt=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const i in n)gt(n[i],r,i,t);return r},gt=(e,t,n,r)=>{e.forEach(e=>{if("string"!=typeof e)return"function"==typeof e?vt(e)?void gt(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n}):void Object.entries(e).forEach(([e,i])=>{gt(i,pt(t,e),n,r)});(""===e?t:pt(t,e)).classGroupId=n})},pt=(e,t)=>{let n=e;return t.split("-").forEach(e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)}),n},vt=e=>e.isThemeGetter,yt=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(i,a)=>{n.set(i,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(i(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):i(e,t)}}},xt=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=e=>{const t=[];let n,r=0,i=0,a=0;for(let l=0;l<e.length;l++){let s=e[l];if(0===r&&0===i){if(":"===s){t.push(e.slice(a,l)),a=l+1;continue}if("/"===s){n=l;continue}}"["===s?r++:"]"===s?r--:"("===s?i++:")"===s&&i--}const s=0===t.length?e:e.substring(a),o=bt(s);return{modifiers:t,hasImportantModifier:o!==s,baseClassName:o,maybePostfixModifierPosition:n&&n>a?n-a:void 0}};if(t){const e=t+":",n=r;r=t=>t.startsWith(e)?n(t.substring(e.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:t,maybePostfixModifierPosition:void 0}}if(n){const e=r;r=t=>n({className:t,parseClassName:e})}return r},bt=e=>e.endsWith("!")?e.substring(0,e.length-1):e.startsWith("!")?e.substring(1):e,wt=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(e=>[e,!0]));return e=>{if(e.length<=1)return e;const n=[];let r=[];return e.forEach(e=>{"["===e[0]||t[e]?(n.push(...r.sort(),e),r=[]):r.push(e)}),n.push(...r.sort()),n}},_t=e=>h({cache:yt(e.cacheSize),parseClassName:xt(e),sortModifiers:wt(e)},(e=>{const t=mt(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),dt(n,t)||ft(e)},getConflictingClassGroupIds:(e,t)=>{const i=n[e]||[];return t&&r[e]?[...i,...r[e]]:i}}})(e)),jt=/\s+/;function Nt(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=kt(e))&&(r&&(r+=" "),r+=t);return r}const kt=e=>{if("string"==typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=kt(e[r]))&&(n&&(n+=" "),n+=t);return n};function St(e,...t){let n,r,i,a=function(o){const l=t.reduce((e,t)=>t(e),e());return n=_t(l),r=n.cache.get,i=n.cache.set,a=s,s(o)};function s(e){const t=r(e);if(t)return t;const a=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=t,s=[],o=e.trim().split(jt);let l="";for(let c=o.length-1;c>=0;c-=1){const e=o[c],{isExternal:t,modifiers:u,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:f}=n(e);if(t){l=e+(l.length>0?" "+l:l);continue}let m=!!f,g=r(m?h.substring(0,f):h);if(!g){if(!m){l=e+(l.length>0?" "+l:l);continue}if(g=r(h),!g){l=e+(l.length>0?" "+l:l);continue}m=!1}const p=a(u).join(":"),v=d?p+"!":p,y=v+g;if(s.includes(y))continue;s.push(y);const x=i(g,m);for(let n=0;n<x.length;++n){const e=x[n];s.push(v+e)}l=e+(l.length>0?" "+l:l)}return l})(e,n);return i(e,a),a}return function(){return a(Nt.apply(null,arguments))}}const Ct=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},Pt=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Et=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Mt=/^\d+\/\d+$/,Ot=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,At=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Tt=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Rt=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Dt=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,It=e=>Mt.test(e),Lt=e=>!!e&&!Number.isNaN(Number(e)),zt=e=>!!e&&Number.isInteger(Number(e)),Ft=e=>e.endsWith("%")&&Lt(e.slice(0,-1)),Bt=e=>Ot.test(e),Vt=()=>!0,Wt=e=>At.test(e)&&!Tt.test(e),$t=()=>!1,Ht=e=>Rt.test(e),Kt=e=>Dt.test(e),Ut=e=>!qt(e)&&!en(e),Gt=e=>ln(e,hn,$t),qt=e=>Pt.test(e),Yt=e=>ln(e,fn,Wt),Xt=e=>ln(e,mn,Lt),Qt=e=>ln(e,un,$t),Zt=e=>ln(e,dn,Kt),Jt=e=>ln(e,pn,Ht),en=e=>Et.test(e),tn=e=>cn(e,fn),nn=e=>cn(e,gn),rn=e=>cn(e,un),an=e=>cn(e,hn),sn=e=>cn(e,dn),on=e=>cn(e,pn,!0),ln=(e,t,n)=>{const r=Pt.exec(e);return!!r&&(r[1]?t(r[1]):n(r[2]))},cn=(e,t,n=!1)=>{const r=Et.exec(e);return!!r&&(r[1]?t(r[1]):n)},un=e=>"position"===e||"percentage"===e,dn=e=>"image"===e||"url"===e,hn=e=>"length"===e||"size"===e||"bg-size"===e,fn=e=>"length"===e,mn=e=>"number"===e,gn=e=>"family-name"===e,pn=e=>"shadow"===e,vn=St(()=>{const e=Ct("color"),t=Ct("font"),n=Ct("text"),r=Ct("font-weight"),i=Ct("tracking"),a=Ct("leading"),s=Ct("breakpoint"),o=Ct("container"),l=Ct("spacing"),c=Ct("radius"),u=Ct("shadow"),d=Ct("inset-shadow"),h=Ct("text-shadow"),f=Ct("drop-shadow"),m=Ct("blur"),g=Ct("perspective"),p=Ct("aspect"),v=Ct("ease"),y=Ct("animate"),x=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",en,qt],b=()=>[en,qt,l],w=()=>[It,"full","auto",...b()],_=()=>[zt,"none","subgrid",en,qt],j=()=>["auto",{span:["full",zt,en,qt]},zt,en,qt],N=()=>[zt,"auto",en,qt],k=()=>["auto","min","max","fr",en,qt],S=()=>["auto",...b()],C=()=>[It,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...b()],P=()=>[e,en,qt],E=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",rn,Qt,{position:[en,qt]}],M=()=>["auto","cover","contain",an,Gt,{size:[en,qt]}],O=()=>[Ft,tn,Yt],A=()=>["","none","full",c,en,qt],T=()=>["",Lt,tn,Yt],R=()=>[Lt,Ft,rn,Qt],D=()=>["","none",m,en,qt],I=()=>["none",Lt,en,qt],L=()=>["none",Lt,en,qt],z=()=>[Lt,en,qt],F=()=>[It,"full",...b()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Bt],breakpoint:[Bt],color:[Vt],container:[Bt],"drop-shadow":[Bt],ease:["in","out","in-out"],font:[Ut],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Bt],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Bt],shadow:[Bt],spacing:["px",Lt],text:[Bt],"text-shadow":[Bt],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",It,qt,en,p]}],container:["container"],columns:[{columns:[Lt,qt,en,o]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:x()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:w()}],"inset-x":[{"inset-x":w()}],"inset-y":[{"inset-y":w()}],start:[{start:w()}],end:[{end:w()}],top:[{top:w()}],right:[{right:w()}],bottom:[{bottom:w()}],left:[{left:w()}],visibility:["visible","invisible","collapse"],z:[{z:[zt,"auto",en,qt]}],basis:[{basis:[It,"full","auto",o,...b()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Lt,It,"auto","initial","none",qt]}],grow:[{grow:["",Lt,en,qt]}],shrink:[{shrink:["",Lt,en,qt]}],order:[{order:[zt,"first","last","none",en,qt]}],"grid-cols":[{"grid-cols":_()}],"col-start-end":[{col:j()}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":_()}],"row-start-end":[{row:j()}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":k()}],"auto-rows":[{"auto-rows":k()}],gap:[{gap:b()}],"gap-x":[{"gap-x":b()}],"gap-y":[{"gap-y":b()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:b()}],px:[{px:b()}],py:[{py:b()}],ps:[{ps:b()}],pe:[{pe:b()}],pt:[{pt:b()}],pr:[{pr:b()}],pb:[{pb:b()}],pl:[{pl:b()}],m:[{m:S()}],mx:[{mx:S()}],my:[{my:S()}],ms:[{ms:S()}],me:[{me:S()}],mt:[{mt:S()}],mr:[{mr:S()}],mb:[{mb:S()}],ml:[{ml:S()}],"space-x":[{"space-x":b()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":b()}],"space-y-reverse":["space-y-reverse"],size:[{size:C()}],w:[{w:[o,"screen",...C()]}],"min-w":[{"min-w":[o,"screen","none",...C()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[s]},...C()]}],h:[{h:["screen","lh",...C()]}],"min-h":[{"min-h":["screen","lh","none",...C()]}],"max-h":[{"max-h":["screen","lh",...C()]}],"font-size":[{text:["base",n,tn,Yt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,en,Xt]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ft,qt]}],"font-family":[{font:[nn,qt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,en,qt]}],"line-clamp":[{"line-clamp":[Lt,"none",en,Xt]}],leading:[{leading:[a,...b()]}],"list-image":[{"list-image":["none",en,qt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",en,qt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:P()}],"text-color":[{text:P()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[Lt,"from-font","auto",en,Yt]}],"text-decoration-color":[{decoration:P()}],"underline-offset":[{"underline-offset":[Lt,"auto",en,qt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",en,qt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",en,qt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:E()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:M()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},zt,en,qt],radial:["",en,qt],conic:[zt,en,qt]},sn,Zt]}],"bg-color":[{bg:P()}],"gradient-from-pos":[{from:O()}],"gradient-via-pos":[{via:O()}],"gradient-to-pos":[{to:O()}],"gradient-from":[{from:P()}],"gradient-via":[{via:P()}],"gradient-to":[{to:P()}],rounded:[{rounded:A()}],"rounded-s":[{"rounded-s":A()}],"rounded-e":[{"rounded-e":A()}],"rounded-t":[{"rounded-t":A()}],"rounded-r":[{"rounded-r":A()}],"rounded-b":[{"rounded-b":A()}],"rounded-l":[{"rounded-l":A()}],"rounded-ss":[{"rounded-ss":A()}],"rounded-se":[{"rounded-se":A()}],"rounded-ee":[{"rounded-ee":A()}],"rounded-es":[{"rounded-es":A()}],"rounded-tl":[{"rounded-tl":A()}],"rounded-tr":[{"rounded-tr":A()}],"rounded-br":[{"rounded-br":A()}],"rounded-bl":[{"rounded-bl":A()}],"border-w":[{border:T()}],"border-w-x":[{"border-x":T()}],"border-w-y":[{"border-y":T()}],"border-w-s":[{"border-s":T()}],"border-w-e":[{"border-e":T()}],"border-w-t":[{"border-t":T()}],"border-w-r":[{"border-r":T()}],"border-w-b":[{"border-b":T()}],"border-w-l":[{"border-l":T()}],"divide-x":[{"divide-x":T()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":T()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:P()}],"border-color-x":[{"border-x":P()}],"border-color-y":[{"border-y":P()}],"border-color-s":[{"border-s":P()}],"border-color-e":[{"border-e":P()}],"border-color-t":[{"border-t":P()}],"border-color-r":[{"border-r":P()}],"border-color-b":[{"border-b":P()}],"border-color-l":[{"border-l":P()}],"divide-color":[{divide:P()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[Lt,en,qt]}],"outline-w":[{outline:["",Lt,tn,Yt]}],"outline-color":[{outline:P()}],shadow:[{shadow:["","none",u,on,Jt]}],"shadow-color":[{shadow:P()}],"inset-shadow":[{"inset-shadow":["none",d,on,Jt]}],"inset-shadow-color":[{"inset-shadow":P()}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:P()}],"ring-offset-w":[{"ring-offset":[Lt,Yt]}],"ring-offset-color":[{"ring-offset":P()}],"inset-ring-w":[{"inset-ring":T()}],"inset-ring-color":[{"inset-ring":P()}],"text-shadow":[{"text-shadow":["none",h,on,Jt]}],"text-shadow-color":[{"text-shadow":P()}],opacity:[{opacity:[Lt,en,qt]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Lt]}],"mask-image-linear-from-pos":[{"mask-linear-from":R()}],"mask-image-linear-to-pos":[{"mask-linear-to":R()}],"mask-image-linear-from-color":[{"mask-linear-from":P()}],"mask-image-linear-to-color":[{"mask-linear-to":P()}],"mask-image-t-from-pos":[{"mask-t-from":R()}],"mask-image-t-to-pos":[{"mask-t-to":R()}],"mask-image-t-from-color":[{"mask-t-from":P()}],"mask-image-t-to-color":[{"mask-t-to":P()}],"mask-image-r-from-pos":[{"mask-r-from":R()}],"mask-image-r-to-pos":[{"mask-r-to":R()}],"mask-image-r-from-color":[{"mask-r-from":P()}],"mask-image-r-to-color":[{"mask-r-to":P()}],"mask-image-b-from-pos":[{"mask-b-from":R()}],"mask-image-b-to-pos":[{"mask-b-to":R()}],"mask-image-b-from-color":[{"mask-b-from":P()}],"mask-image-b-to-color":[{"mask-b-to":P()}],"mask-image-l-from-pos":[{"mask-l-from":R()}],"mask-image-l-to-pos":[{"mask-l-to":R()}],"mask-image-l-from-color":[{"mask-l-from":P()}],"mask-image-l-to-color":[{"mask-l-to":P()}],"mask-image-x-from-pos":[{"mask-x-from":R()}],"mask-image-x-to-pos":[{"mask-x-to":R()}],"mask-image-x-from-color":[{"mask-x-from":P()}],"mask-image-x-to-color":[{"mask-x-to":P()}],"mask-image-y-from-pos":[{"mask-y-from":R()}],"mask-image-y-to-pos":[{"mask-y-to":R()}],"mask-image-y-from-color":[{"mask-y-from":P()}],"mask-image-y-to-color":[{"mask-y-to":P()}],"mask-image-radial":[{"mask-radial":[en,qt]}],"mask-image-radial-from-pos":[{"mask-radial-from":R()}],"mask-image-radial-to-pos":[{"mask-radial-to":R()}],"mask-image-radial-from-color":[{"mask-radial-from":P()}],"mask-image-radial-to-color":[{"mask-radial-to":P()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[Lt]}],"mask-image-conic-from-pos":[{"mask-conic-from":R()}],"mask-image-conic-to-pos":[{"mask-conic-to":R()}],"mask-image-conic-from-color":[{"mask-conic-from":P()}],"mask-image-conic-to-color":[{"mask-conic-to":P()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:E()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:M()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",en,qt]}],filter:[{filter:["","none",en,qt]}],blur:[{blur:D()}],brightness:[{brightness:[Lt,en,qt]}],contrast:[{contrast:[Lt,en,qt]}],"drop-shadow":[{"drop-shadow":["","none",f,on,Jt]}],"drop-shadow-color":[{"drop-shadow":P()}],grayscale:[{grayscale:["",Lt,en,qt]}],"hue-rotate":[{"hue-rotate":[Lt,en,qt]}],invert:[{invert:["",Lt,en,qt]}],saturate:[{saturate:[Lt,en,qt]}],sepia:[{sepia:["",Lt,en,qt]}],"backdrop-filter":[{"backdrop-filter":["","none",en,qt]}],"backdrop-blur":[{"backdrop-blur":D()}],"backdrop-brightness":[{"backdrop-brightness":[Lt,en,qt]}],"backdrop-contrast":[{"backdrop-contrast":[Lt,en,qt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Lt,en,qt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Lt,en,qt]}],"backdrop-invert":[{"backdrop-invert":["",Lt,en,qt]}],"backdrop-opacity":[{"backdrop-opacity":[Lt,en,qt]}],"backdrop-saturate":[{"backdrop-saturate":[Lt,en,qt]}],"backdrop-sepia":[{"backdrop-sepia":["",Lt,en,qt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":b()}],"border-spacing-x":[{"border-spacing-x":b()}],"border-spacing-y":[{"border-spacing-y":b()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",en,qt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Lt,"initial",en,qt]}],ease:[{ease:["linear","initial",v,en,qt]}],delay:[{delay:[Lt,en,qt]}],animate:[{animate:["none",y,en,qt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,en,qt]}],"perspective-origin":[{"perspective-origin":x()}],rotate:[{rotate:I()}],"rotate-x":[{"rotate-x":I()}],"rotate-y":[{"rotate-y":I()}],"rotate-z":[{"rotate-z":I()}],scale:[{scale:L()}],"scale-x":[{"scale-x":L()}],"scale-y":[{"scale-y":L()}],"scale-z":[{"scale-z":L()}],"scale-3d":["scale-3d"],skew:[{skew:z()}],"skew-x":[{"skew-x":z()}],"skew-y":[{"skew-y":z()}],transform:[{transform:[en,qt,"","none","gpu","cpu"]}],"transform-origin":[{origin:x()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:F()}],"translate-x":[{"translate-x":F()}],"translate-y":[{"translate-y":F()}],"translate-z":[{"translate-z":F()}],"translate-none":["translate-none"],accent:[{accent:P()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:P()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",en,qt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",en,qt]}],fill:[{fill:["none",...P()]}],"stroke-w":[{stroke:[Lt,tn,Yt,Xt]}],stroke:[{stroke:["none",...P()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function yn(...e){return vn(ot(e))}const xn=ut("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function bn(e){var t=e,{className:n,variant:r,asChild:i=!1}=t,a=g(t,["className","variant","asChild"]);const s=i?nt:"span";return b.jsx(s,h({"data-slot":"badge",className:yn(xn({variant:r}),n)},a))}const wn=ut("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all cursor-pointer disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-11 rounded-md px-6 py-2.5 has-[>svg]:px-4 text-base",icon:"size-9"}},defaultVariants:{variant:"default",size:"lg"}});function _n(e){var t=e,{className:n,variant:r,size:i,asChild:a=!1}=t,s=g(t,["className","variant","size","asChild"]);const o=a?nt:"button";return b.jsx(o,h({"data-slot":"button",className:yn(wn({variant:r,size:i,className:n}))},s))}const jn=k.forwardRef((e,t)=>{var n=e,{className:r}=n,i=g(n,["className"]);return b.jsx("div",h({ref:t,className:yn("rounded-lg border bg-card text-card-foreground shadow-sm",r)},i))});jn.displayName="Card",k.forwardRef((e,t)=>{var n=e,{className:r}=n,i=g(n,["className"]);return b.jsx("div",h({ref:t,className:yn("flex flex-col space-y-1.5 p-6",r)},i))}).displayName="CardHeader",k.forwardRef((e,t)=>{var n=e,{className:r}=n,i=g(n,["className"]);return b.jsx("h3",h({ref:t,className:yn("text-2xl font-semibold leading-none tracking-tight",r)},i))}).displayName="CardTitle",k.forwardRef((e,t)=>{var n=e,{className:r}=n,i=g(n,["className"]);return b.jsx("p",h({ref:t,className:yn("text-sm text-muted-foreground",r)},i))}).displayName="CardDescription",k.forwardRef((e,t)=>{var n=e,{className:r}=n,i=g(n,["className"]);return b.jsx("div",h({ref:t,className:yn("p-6 pt-0",r)},i))}).displayName="CardContent",k.forwardRef((e,t)=>{var n=e,{className:r}=n,i=g(n,["className"]);return b.jsx("div",h({ref:t,className:yn("flex items-center p-6 pt-0",r)},i))}).displayName="CardFooter";var Nn=W();const kn=i(Nn);var Sn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const n=tt(`Primitive.${t}`),r=k.forwardRef((e,r)=>{const i=e,{asChild:a}=i,s=g(i,["asChild"]),o=a?n:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),b.jsx(o,f(h({},s),{ref:r}))});return r.displayName=`Primitive.${t}`,f(h({},e),{[t]:r})},{});function Cn(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(null==e||e(r),!1===n||!r.defaultPrevented)return null==t?void 0:t(r)}}function Pn(e,t=[]){let n=[];const r=()=>{const t=n.map(e=>k.createContext(e));return function(n){const r=(null==n?void 0:n[e])||t;return k.useMemo(()=>({[`__scope${e}`]:f(h({},n),{[e]:r})}),[n,r])}};return r.scopeName=e,[function(t,r){const i=k.createContext(r),a=n.length;n=[...n,r];const s=t=>{var n;const r=t,{scope:s,children:o}=r,l=g(r,["scope","children"]),c=(null==(n=null==s?void 0:s[e])?void 0:n[a])||i,u=k.useMemo(()=>l,Object.values(l));return b.jsx(c.Provider,{value:u,children:o})};return s.displayName=t+"Provider",[s,function(n,s){var o;const l=(null==(o=null==s?void 0:s[e])?void 0:o[a])||i,c=k.useContext(l);if(c)return c;if(void 0!==r)return r;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},En(r,...t)]}function En(...e){const t=e[0];if(1===e.length)return t;const n=()=>{const n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){const r=n.reduce((t,{useScope:n,scopeName:r})=>{const i=n(e)[`__scope${r}`];return h(h({},t),i)},{});return k.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return n.scopeName=t.scopeName,n}function Mn(e){const t=e+"CollectionProvider",[n,r]=Pn(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=e=>{const{scope:t,children:n}=e,r=S.useRef(null),a=S.useRef(new Map).current;return b.jsx(i,{scope:t,itemMap:a,collectionRef:r,children:n})};s.displayName=t;const o=e+"CollectionSlot",l=tt(o),c=S.forwardRef((e,t)=>{const{scope:n,children:r}=e,i=et(t,a(o,n).collectionRef);return b.jsx(l,{ref:i,children:r})});c.displayName=o;const u=e+"CollectionItemSlot",d="data-radix-collection-item",m=tt(u),p=S.forwardRef((e,t)=>{const n=e,{scope:r,children:i}=n,s=g(n,["scope","children"]),o=S.useRef(null),l=et(t,o),c=a(u,r);return S.useEffect(()=>(c.itemMap.set(o,h({ref:o},s)),()=>{c.itemMap.delete(o)})),b.jsx(m,f(h({},{[d]:""}),{ref:l,children:i}))});return p.displayName=u,[{Provider:s,Slot:c,ItemSlot:p},function(t){const n=a(e+"CollectionConsumer",t);return S.useCallback(()=>{const e=n.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${d}]`));return Array.from(n.itemMap.values()).sort((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current))},[n.collectionRef,n.itemMap])},r]}var On=(null==globalThis?void 0:globalThis.document)?k.useLayoutEffect:()=>{},An=C[" useId ".trim().toString()]||(()=>{}),Tn=0;function Rn(e){const[t,n]=k.useState(An());return On(()=>{n(e=>null!=e?e:String(Tn++))},[e]),t?`radix-${t}`:""}function Dn(e){const t=k.useRef(e);return k.useEffect(()=>{t.current=e}),k.useMemo(()=>(...e)=>{var n;return null==(n=t.current)?void 0:n.call(t,...e)},[])}var In=C[" useInsertionEffect ".trim().toString()]||On;function Ln({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,s]=function({defaultProp:e,onChange:t}){const[n,r]=k.useState(e),i=k.useRef(n),a=k.useRef(t);return In(()=>{a.current=t},[t]),k.useEffect(()=>{var e;i.current!==n&&(null==(e=a.current)||e.call(a,n),i.current=n)},[n,i]),[n,r,a]}({defaultProp:t,onChange:n}),o=void 0!==e,l=o?e:i;{const t=k.useRef(void 0!==e);k.useEffect(()=>{t.current;t.current=o},[o,r])}const c=k.useCallback(t=>{var n;if(o){const r=function(e){return"function"==typeof e}(t)?t(e):t;r!==e&&(null==(n=s.current)||n.call(s,r))}else a(t)},[o,e,a,s]);return[l,c]}var zn=k.createContext(void 0);function Fn(e){const[t,n]=k.useState(void 0);return On(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver(t=>{if(!Array.isArray(t))return;if(!t.length)return;const r=t[0];let i,a;if("borderBoxSize"in r){const e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;i=t.inlineSize,a=t.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),t}function Bn(e){const t=k.useRef({value:e,previous:e});return k.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Vn=e=>{const{present:t,children:n}=e,r=function(e){const[t,n]=k.useState(),r=k.useRef(null),i=k.useRef(e),a=k.useRef("none"),s=e?"mounted":"unmounted",[o,l]=function(e,t){return k.useReducer((e,n)=>{const r=t[e][n];return null!=r?r:e},e)}(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return k.useEffect(()=>{const e=Wn(r.current);a.current="mounted"===o?e:"none"},[o]),On(()=>{const t=r.current,n=i.current;if(n!==e){const r=a.current,s=Wn(t);e?l("MOUNT"):"none"===s||"none"===(null==t?void 0:t.display)?l("UNMOUNT"):l(n&&r!==s?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),On(()=>{var e;if(t){let n;const s=null!=(e=t.ownerDocument.defaultView)?e:window,o=e=>{const a=Wn(r.current).includes(e.animationName);if(e.target===t&&a&&(l("ANIMATION_END"),!i.current)){const e=t.style.animationFillMode;t.style.animationFillMode="forwards",n=s.setTimeout(()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=e)})}},c=e=>{e.target===t&&(a.current=Wn(r.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",o),t.addEventListener("animationend",o),()=>{s.clearTimeout(n),t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",o),t.removeEventListener("animationend",o)}}l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:k.useCallback(e=>{r.current=e?getComputedStyle(e):null,n(e)},[])}}(t),i="function"==typeof n?n({present:r.isPresent}):k.Children.only(n),a=et(r.ref,function(e){var t,n;let r=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?e.ref:(r=null==(n=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:n.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}(i));return"function"==typeof n||r.isPresent?k.cloneElement(i,{ref:a}):null};function Wn(e){return(null==e?void 0:e.animationName)||"none"}function $n(e,[t,n]){return Math.min(n,Math.max(t,e))}Vn.displayName="Presence";var Hn,Kn="dismissableLayer.update",Un="dismissableLayer.pointerDownOutside",Gn="dismissableLayer.focusOutside",qn=k.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Yn=k.forwardRef((e,t)=>{var n;const r=e,{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:l,onDismiss:c}=r,u=g(r,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),d=k.useContext(qn),[m,p]=k.useState(null),v=null!=(n=null==m?void 0:m.ownerDocument)?n:null==globalThis?void 0:globalThis.document,[,y]=k.useState({}),x=et(t,e=>p(e)),w=Array.from(d.layers),[_]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),j=w.indexOf(_),N=m?w.indexOf(m):-1,S=d.layersWithOutsidePointerEventsDisabled.size>0,C=N>=j,P=function(e,t=(null==globalThis?void 0:globalThis.document)){const n=Dn(e),r=k.useRef(!1),i=k.useRef(()=>{});return k.useEffect(()=>{const e=e=>{if(e.target&&!r.current){let r=function(){Qn(Un,n,a,{discrete:!0})};const a={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=r,t.addEventListener("click",i.current,{once:!0})):r()}else t.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}(e=>{const t=e.target,n=[...d.branches].some(e=>e.contains(t));C&&!n&&(null==s||s(e),null==l||l(e),e.defaultPrevented||null==c||c())},v),E=function(e,t=(null==globalThis?void 0:globalThis.document)){const n=Dn(e),r=k.useRef(!1);return k.useEffect(()=>{const e=e=>{e.target&&!r.current&&Qn(Gn,n,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}(e=>{const t=e.target;[...d.branches].some(e=>e.contains(t))||(null==o||o(e),null==l||l(e),e.defaultPrevented||null==c||c())},v);return function(e,t=(null==globalThis?void 0:globalThis.document)){const n=Dn(e);k.useEffect(()=>{const e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[n,t])}(e=>{N===d.layers.size-1&&(null==a||a(e),!e.defaultPrevented&&c&&(e.preventDefault(),c()))},v),k.useEffect(()=>{if(m)return i&&(0===d.layersWithOutsidePointerEventsDisabled.size&&(Hn=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(m)),d.layers.add(m),Xn(),()=>{i&&1===d.layersWithOutsidePointerEventsDisabled.size&&(v.body.style.pointerEvents=Hn)}},[m,v,i,d]),k.useEffect(()=>()=>{m&&(d.layers.delete(m),d.layersWithOutsidePointerEventsDisabled.delete(m),Xn())},[m,d]),k.useEffect(()=>{const e=()=>y({});return document.addEventListener(Kn,e),()=>document.removeEventListener(Kn,e)},[]),b.jsx(Sn.div,f(h({},u),{ref:x,style:h({pointerEvents:S?C?"auto":"none":void 0},e.style),onFocusCapture:Cn(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Cn(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Cn(e.onPointerDownCapture,P.onPointerDownCapture)}))});function Xn(){const e=new CustomEvent(Kn);document.dispatchEvent(e)}function Qn(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?function(e,t){e&&Nn.flushSync(()=>e.dispatchEvent(t))}(i,a):i.dispatchEvent(a)}Yn.displayName="DismissableLayer",k.forwardRef((e,t)=>{const n=k.useContext(qn),r=k.useRef(null),i=et(t,r);return k.useEffect(()=>{const e=r.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),b.jsx(Sn.div,f(h({},e),{ref:i}))}).displayName="DismissableLayerBranch";var Zn=0;function Jn(){k.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!=(e=n[0])?e:er()),document.body.insertAdjacentElement("beforeend",null!=(t=n[1])?t:er()),Zn++,()=>{1===Zn&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Zn--}},[])}function er(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var tr="focusScope.autoFocusOnMount",nr="focusScope.autoFocusOnUnmount",rr={bubbles:!1,cancelable:!0},ir=k.forwardRef((e,t)=>{const n=e,{loop:r=!1,trapped:i=!1,onMountAutoFocus:a,onUnmountAutoFocus:s}=n,o=g(n,["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"]),[l,c]=k.useState(null),u=Dn(a),d=Dn(s),m=k.useRef(null),p=et(t,e=>c(e)),v=k.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;k.useEffect(()=>{if(i){let e=function(e){if(v.paused||!l)return;const t=e.target;l.contains(t)?m.current=t:lr(m.current,{select:!0})},t=function(e){if(v.paused||!l)return;const t=e.relatedTarget;null!==t&&(l.contains(t)||lr(m.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&lr(l)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const r=new MutationObserver(n);return l&&r.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[i,l,v.paused]),k.useEffect(()=>{if(l){cr.add(v);const e=document.activeElement;if(!l.contains(e)){const t=new CustomEvent(tr,rr);l.addEventListener(tr,u),l.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(lr(r,{select:t}),document.activeElement!==n)return}(ar(l).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&lr(l))}return()=>{l.removeEventListener(tr,u),setTimeout(()=>{const t=new CustomEvent(nr,rr);l.addEventListener(nr,d),l.dispatchEvent(t),t.defaultPrevented||lr(null!=e?e:document.body,{select:!0}),l.removeEventListener(nr,d),cr.remove(v)},0)}}},[l,u,d,v]);const y=k.useCallback(e=>{if(!r&&!i)return;if(v.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=document.activeElement;if(t&&n){const t=e.currentTarget,[i,a]=function(e){const t=ar(e),n=sr(t,e),r=sr(t.reverse(),e);return[n,r]}(t);i&&a?e.shiftKey||n!==a?e.shiftKey&&n===i&&(e.preventDefault(),r&&lr(a,{select:!0})):(e.preventDefault(),r&&lr(i,{select:!0})):n===t&&e.preventDefault()}},[r,i,v.paused]);return b.jsx(Sn.div,f(h({tabIndex:-1},o),{ref:p,onKeyDown:y}))});function ar(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function sr(e,t){for(const n of e)if(!or(n,{upTo:t}))return n}function or(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function lr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}ir.displayName="FocusScope";var cr=function(){let e=[];return{add(t){const n=e[0];t!==n&&(null==n||n.pause()),e=ur(e,t),e.unshift(t)},remove(t){var n;e=ur(e,t),null==(n=e[0])||n.resume()}}}();function ur(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}const dr=["top","right","bottom","left"],hr=Math.min,fr=Math.max,mr=Math.round,gr=Math.floor,pr=e=>({x:e,y:e}),vr={left:"right",right:"left",bottom:"top",top:"bottom"},yr={start:"end",end:"start"};function xr(e,t,n){return fr(e,hr(t,n))}function br(e,t){return"function"==typeof e?e(t):e}function wr(e){return e.split("-")[0]}function _r(e){return e.split("-")[1]}function jr(e){return"x"===e?"y":"x"}function Nr(e){return"y"===e?"height":"width"}function kr(e){return["top","bottom"].includes(wr(e))?"y":"x"}function Sr(e){return jr(kr(e))}function Cr(e){return e.replace(/start|end/g,e=>yr[e])}function Pr(e){return e.replace(/left|right|bottom|top/g,e=>vr[e])}function Er(e){return"number"!=typeof e?function(e){return h({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function Mr(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Or(e,t,n){let{reference:r,floating:i}=e;const a=kr(t),s=Sr(t),o=Nr(s),l=wr(t),c="y"===a,u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[o]/2-i[o]/2;let f;switch(l){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-i.width,y:d};break;default:f={x:r.x,y:r.y}}switch(_r(t)){case"start":f[s]-=h*(n&&c?-1:1);break;case"end":f[s]+=h*(n&&c?-1:1)}return f}function Ar(e,t){return v(this,null,function*(){var n;void 0===t&&(t={});const{x:r,y:i,platform:a,rects:s,elements:o,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=br(t,e),m=Er(f),g=o[h?"floating"===d?"reference":"floating":d],p=Mr(yield a.getClippingRect({element:null==(n=yield null==a.isElement?void 0:a.isElement(g))||n?g:g.contextElement||(yield null==a.getDocumentElement?void 0:a.getDocumentElement(o.floating)),boundary:c,rootBoundary:u,strategy:l})),v="floating"===d?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,y=yield null==a.getOffsetParent?void 0:a.getOffsetParent(o.floating),x=(yield null==a.isElement?void 0:a.isElement(y))&&(yield null==a.getScale?void 0:a.getScale(y))||{x:1,y:1},b=Mr(a.convertOffsetParentRelativeRectToViewportRelativeRect?yield a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:v,offsetParent:y,strategy:l}):v);return{top:(p.top-b.top+m.top)/x.y,bottom:(b.bottom-p.bottom+m.bottom)/x.y,left:(p.left-b.left+m.left)/x.x,right:(b.right-p.right+m.right)/x.x}})}function Tr(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Rr(e){return dr.some(t=>e[t]>=0)}function Dr(){return"undefined"!=typeof window}function Ir(e){return Fr(e)?(e.nodeName||"").toLowerCase():"#document"}function Lr(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function zr(e){var t;return null==(t=(Fr(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Fr(e){return!!Dr()&&(e instanceof Node||e instanceof Lr(e).Node)}function Br(e){return!!Dr()&&(e instanceof Element||e instanceof Lr(e).Element)}function Vr(e){return!!Dr()&&(e instanceof HTMLElement||e instanceof Lr(e).HTMLElement)}function Wr(e){return!(!Dr()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof Lr(e).ShadowRoot)}function $r(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Yr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function Hr(e){return["table","td","th"].includes(Ir(e))}function Kr(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch(n){return!1}})}function Ur(e){const t=Gr(),n=Br(e)?Yr(e):e;return["transform","translate","scale","rotate","perspective"].some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","translate","scale","rotate","perspective","filter"].some(e=>(n.willChange||"").includes(e))||["paint","layout","strict","content"].some(e=>(n.contain||"").includes(e))}function Gr(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function qr(e){return["html","body","#document"].includes(Ir(e))}function Yr(e){return Lr(e).getComputedStyle(e)}function Xr(e){return Br(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Qr(e){if("html"===Ir(e))return e;const t=e.assignedSlot||e.parentNode||Wr(e)&&e.host||zr(e);return Wr(t)?t.host:t}function Zr(e){const t=Qr(e);return qr(t)?e.ownerDocument?e.ownerDocument.body:e.body:Vr(t)&&$r(t)?t:Zr(t)}function Jr(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=Zr(e),a=i===(null==(r=e.ownerDocument)?void 0:r.body),s=Lr(i);if(a){const e=ei(s);return t.concat(s,s.visualViewport||[],$r(i)?i:[],e&&n?Jr(e):[])}return t.concat(i,Jr(i,[],n))}function ei(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ti(e){const t=Yr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Vr(e),a=i?e.offsetWidth:n,s=i?e.offsetHeight:r,o=mr(n)!==a||mr(r)!==s;return o&&(n=a,r=s),{width:n,height:r,$:o}}function ni(e){return Br(e)?e:e.contextElement}function ri(e){const t=ni(e);if(!Vr(t))return pr(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=ti(t);let s=(a?mr(n.width):n.width)/r,o=(a?mr(n.height):n.height)/i;return s&&Number.isFinite(s)||(s=1),o&&Number.isFinite(o)||(o=1),{x:s,y:o}}const ii=pr(0);function ai(e){const t=Lr(e);return Gr()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:ii}function si(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),a=ni(e);let s=pr(1);t&&(r?Br(r)&&(s=ri(r)):s=ri(e));const o=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==Lr(e))&&t}(a,n,r)?ai(a):pr(0);let l=(i.left+o.x)/s.x,c=(i.top+o.y)/s.y,u=i.width/s.x,d=i.height/s.y;if(a){const e=Lr(a),t=r&&Br(r)?Lr(r):r;let n=e,i=ei(n);for(;i&&r&&t!==n;){const e=ri(i),t=i.getBoundingClientRect(),r=Yr(i),a=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,s=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=a,c+=s,n=Lr(i),i=ei(n)}}return Mr({width:u,height:d,x:l,y:c})}function oi(e,t){const n=Xr(e).scrollLeft;return t?t.left+n:si(zr(e)).left+n}function li(e,t,n){void 0===n&&(n=!1);const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:oi(e,r)),y:r.top+t.scrollTop}}function ci(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=Lr(e),r=zr(e),i=n.visualViewport;let a=r.clientWidth,s=r.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;const e=Gr();(!e||e&&"fixed"===t)&&(o=i.offsetLeft,l=i.offsetTop)}return{width:a,height:s,x:o,y:l}}(e,n);else if("document"===t)r=function(e){const t=zr(e),n=Xr(e),r=e.ownerDocument.body,i=fr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=fr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+oi(e);const o=-n.scrollTop;return"rtl"===Yr(r).direction&&(s+=fr(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:s,y:o}}(zr(e));else if(Br(t))r=function(e,t){const n=si(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=Vr(e)?ri(e):pr(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:i*a.x,y:r*a.y}}(t,n);else{const n=ai(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return Mr(r)}function ui(e,t){const n=Qr(e);return!(n===t||!Br(n)||qr(n))&&("fixed"===Yr(n).position||ui(n,t))}function di(e,t,n){const r=Vr(t),i=zr(t),a="fixed"===n,s=si(e,!0,a,t);let o={scrollLeft:0,scrollTop:0};const l=pr(0);function c(){l.x=oi(i)}if(r||!r&&!a)if(("body"!==Ir(t)||$r(i))&&(o=Xr(t)),r){const e=si(t,!0,a,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&c();a&&!r&&i&&c();const u=!i||r||a?pr(0):li(i,o);return{x:s.left+o.scrollLeft-l.x-u.x,y:s.top+o.scrollTop-l.y-u.y,width:s.width,height:s.height}}function hi(e){return"static"===Yr(e).position}function fi(e,t){if(!Vr(e)||"fixed"===Yr(e).position)return null;if(t)return t(e);let n=e.offsetParent;return zr(e)===n&&(n=n.ownerDocument.body),n}function mi(e,t){const n=Lr(e);if(Kr(e))return n;if(!Vr(e)){let t=Qr(e);for(;t&&!qr(t);){if(Br(t)&&!hi(t))return t;t=Qr(t)}return n}let r=fi(e,t);for(;r&&Hr(r)&&hi(r);)r=fi(r,t);return r&&qr(r)&&hi(r)&&!Ur(r)?n:r||function(e){let t=Qr(e);for(;Vr(t)&&!qr(t);){if(Ur(t))return t;if(Kr(t))return null;t=Qr(t)}return null}(e)||n}const gi={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a="fixed"===i,s=zr(r),o=!!t&&Kr(t.floating);if(r===s||o&&a)return n;let l={scrollLeft:0,scrollTop:0},c=pr(1);const u=pr(0),d=Vr(r);if((d||!d&&!a)&&(("body"!==Ir(r)||$r(s))&&(l=Xr(r)),Vr(r))){const e=si(r);c=ri(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}const h=!s||d||a?pr(0):li(s,l,!0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}},getDocumentElement:zr,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[..."clippingAncestors"===n?Kr(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=Jr(e,[],!1).filter(e=>Br(e)&&"body"!==Ir(e)),i=null;const a="fixed"===Yr(e).position;let s=a?Qr(e):e;for(;Br(s)&&!qr(s);){const t=Yr(s),n=Ur(s);n||"fixed"!==t.position||(i=null),(a?!n&&!i:!n&&"static"===t.position&&i&&["absolute","fixed"].includes(i.position)||$r(s)&&!n&&ui(e,s))?r=r.filter(e=>e!==s):i=t,s=Qr(s)}return t.set(e,r),r}(t,this._c):[].concat(n),r],s=a[0],o=a.reduce((e,n)=>{const r=ci(t,n,i);return e.top=fr(r.top,e.top),e.right=hr(r.right,e.right),e.bottom=hr(r.bottom,e.bottom),e.left=fr(r.left,e.left),e},ci(t,s,i));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}},getOffsetParent:mi,getElementRects:function(e){return v(this,null,function*(){const t=this.getOffsetParent||mi,n=this.getDimensions,r=yield n(e.floating);return{reference:di(e.reference,yield t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}})},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=ti(e);return{width:t,height:n}},getScale:ri,isElement:Br,isRTL:function(e){return"rtl"===Yr(e).direction}};function pi(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function vi(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s="function"==typeof ResizeObserver,layoutShift:o="function"==typeof IntersectionObserver,animationFrame:l=!1}=r,c=ni(e),u=i||a?[...c?Jr(c):[],...Jr(t)]:[];u.forEach(e=>{i&&e.addEventListener("scroll",n,{passive:!0}),a&&e.addEventListener("resize",n)});const d=c&&o?function(e,t){let n,r=null;const i=zr(e);function a(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function s(o,l){void 0===o&&(o=!1),void 0===l&&(l=1),a();const c=e.getBoundingClientRect(),{left:u,top:d,width:m,height:g}=c;if(o||t(),!m||!g)return;const p={rootMargin:-gr(d)+"px "+-gr(i.clientWidth-(u+m))+"px "+-gr(i.clientHeight-(d+g))+"px "+-gr(u)+"px",threshold:fr(0,hr(1,l))||1};let v=!0;function y(t){const r=t[0].intersectionRatio;if(r!==l){if(!v)return s();r?s(!1,r):n=setTimeout(()=>{s(!1,1e-7)},1e3)}1!==r||pi(c,e.getBoundingClientRect())||s(),v=!1}try{r=new IntersectionObserver(y,f(h({},p),{root:i.ownerDocument}))}catch(x){r=new IntersectionObserver(y,p)}r.observe(e)}(!0),a}(c,n):null;let m,g=-1,p=null;s&&(p=new ResizeObserver(e=>{let[r]=e;r&&r.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var e;null==(e=p)||e.observe(t)})),n()}),c&&!l&&p.observe(c),p.observe(t));let v=l?si(e):null;return l&&function t(){const r=si(e);v&&!pi(v,r)&&n(),v=r,m=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach(e=>{i&&e.removeEventListener("scroll",n),a&&e.removeEventListener("resize",n)}),null==d||d(),null==(e=p)||e.disconnect(),p=null,l&&cancelAnimationFrame(m)}}const yi=function(e){return void 0===e&&(e=0),{name:"offset",options:e,fn(t){return v(this,null,function*(){var n,r;const{x:i,y:a,placement:s,middlewareData:o}=t,l=yield function(e,t){return v(this,null,function*(){const{placement:n,platform:r,elements:i}=e,a=yield null==r.isRTL?void 0:r.isRTL(i.floating),s=wr(n),o=_r(n),l="y"===kr(n),c=["left","top"].includes(s)?-1:1,u=a&&l?-1:1,d=br(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:m}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return o&&"number"==typeof m&&(f="end"===o?-1*m:m),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}})}(t,e);return s===(null==(n=o.offset)?void 0:n.placement)&&null!=(r=o.arrow)&&r.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:f(h({},l),{placement:s})}})}}},xi=function(e){return void 0===e&&(e={}),{name:"shift",options:e,fn(t){return v(this,null,function*(){const{x:n,y:r,placement:i}=t,a=br(e,t),{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}}}=a,c=g(a,["mainAxis","crossAxis","limiter"]),u={x:n,y:r},d=yield Ar(t,c),m=kr(wr(i)),p=jr(m);let v=u[p],y=u[m];if(s){const e="y"===p?"bottom":"right";v=xr(v+d["y"===p?"top":"left"],v,v-d[e])}if(o){const e="y"===m?"bottom":"right";y=xr(y+d["y"===m?"top":"left"],y,y-d[e])}const x=l.fn(f(h({},t),{[p]:v,[m]:y}));return f(h({},x),{data:{x:x.x-n,y:x.y-r,enabled:{[p]:s,[m]:o}}})})}}},bi=function(e){return void 0===e&&(e={}),{name:"flip",options:e,fn(t){return v(this,null,function*(){var n,r;const{placement:i,middlewareData:a,rects:s,initialPlacement:o,platform:l,elements:c}=t,u=br(e,t),{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:v=!0}=u,y=g(u,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if(null!=(n=a.arrow)&&n.alignmentOffset)return{};const x=wr(i),b=kr(o),w=wr(o)===o,_=yield null==l.isRTL?void 0:l.isRTL(c.floating),j=f||(w||!v?[Pr(o)]:function(e){const t=Pr(e);return[Cr(e),t,Cr(t)]}(o)),N="none"!==p;!f&&N&&j.push(...function(e,t,n,r){const i=_r(e);let a=function(e,t,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?a:s;default:return[]}}(wr(e),"start"===n,r);return i&&(a=a.map(e=>e+"-"+i),t&&(a=a.concat(a.map(Cr)))),a}(o,v,p,_));const k=[o,...j],S=yield Ar(t,y),C=[];let P=(null==(r=a.flip)?void 0:r.overflows)||[];if(d&&C.push(S[x]),h){const e=function(e,t,n){void 0===n&&(n=!1);const r=_r(e),i=Sr(e),a=Nr(i);let s="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[a]>t.floating[a]&&(s=Pr(s)),[s,Pr(s)]}(i,s,_);C.push(S[e[0]],S[e[1]])}if(P=[...P,{placement:i,overflows:C}],!C.every(e=>e<=0)){var E,M;const e=((null==(E=a.flip)?void 0:E.index)||0)+1,t=k[e];if(t&&("alignment"!==h||b===kr(t)||P.every(e=>e.overflows[0]>0&&kr(e.placement)===b)))return{data:{index:e,overflows:P},reset:{placement:t}};let n=null==(M=P.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:M.placement;if(!n)switch(m){case"bestFit":{var O;const e=null==(O=P.filter(e=>{if(N){const t=kr(e.placement);return t===b||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:O[0];e&&(n=e);break}case"initialPlacement":n=o}if(i!==n)return{reset:{placement:n}}}return{}})}}},wi=function(e){return void 0===e&&(e={}),{name:"size",options:e,fn(t){return v(this,null,function*(){var n,r;const{placement:i,rects:a,platform:s,elements:o}=t,l=br(e,t),{apply:c=()=>{}}=l,u=g(l,["apply"]),d=yield Ar(t,u),m=wr(i),p=_r(i),v="y"===kr(i),{width:y,height:x}=a.floating;let b,w;"top"===m||"bottom"===m?(b=m,w=p===((yield null==s.isRTL?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(w=m,b="end"===p?"top":"bottom");const _=x-d.top-d.bottom,j=y-d.left-d.right,N=hr(x-d[b],_),k=hr(y-d[w],j),S=!t.middlewareData.shift;let C=N,P=k;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(P=j),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(C=_),S&&!p){const e=fr(d.left,0),t=fr(d.right,0),n=fr(d.top,0),r=fr(d.bottom,0);v?P=y-2*(0!==e||0!==t?e+t:fr(d.left,d.right)):C=x-2*(0!==n||0!==r?n+r:fr(d.top,d.bottom))}yield c(f(h({},t),{availableWidth:P,availableHeight:C}));const E=yield s.getDimensions(o.floating);return y!==E.width||x!==E.height?{reset:{rects:!0}}:{}})}}},_i=function(e){return void 0===e&&(e={}),{name:"hide",options:e,fn(t){return v(this,null,function*(){const{rects:n}=t,r=br(e,t),{strategy:i="referenceHidden"}=r,a=g(r,["strategy"]);switch(i){case"referenceHidden":{const e=Tr(yield Ar(t,f(h({},a),{elementContext:"reference"})),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:Rr(e)}}}case"escaped":{const e=Tr(yield Ar(t,f(h({},a),{altBoundary:!0})),n.floating);return{data:{escapedOffsets:e,escaped:Rr(e)}}}default:return{}}})}}},ji=e=>({name:"arrow",options:e,fn(t){return v(this,null,function*(){const{x:n,y:r,placement:i,rects:a,platform:s,elements:o,middlewareData:l}=t,{element:c,padding:u=0}=br(e,t)||{};if(null==c)return{};const d=Er(u),f={x:n,y:r},m=Sr(i),g=Nr(m),p=yield s.getDimensions(c),v="y"===m,y=v?"top":"left",x=v?"bottom":"right",b=v?"clientHeight":"clientWidth",w=a.reference[g]+a.reference[m]-f[m]-a.floating[g],_=f[m]-a.reference[m],j=yield null==s.getOffsetParent?void 0:s.getOffsetParent(c);let N=j?j[b]:0;N&&(yield null==s.isElement?void 0:s.isElement(j))||(N=o.floating[b]||a.floating[g]);const k=w/2-_/2,S=N/2-p[g]/2-1,C=hr(d[y],S),P=hr(d[x],S),E=C,M=N-p[g]-P,O=N/2-p[g]/2+k,A=xr(E,O,M),T=!l.arrow&&null!=_r(i)&&O!==A&&a.reference[g]/2-(O<E?C:P)-p[g]/2<0,R=T?O<E?O-E:O-M:0;return{[m]:f[m]+R,data:h({[m]:A,centerOffset:O-A-R},T&&{alignmentOffset:R}),reset:T}})}}),Ni=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:a,middlewareData:s}=t,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=br(e,t),u={x:n,y:r},d=kr(i),f=jr(d);let m=u[f],g=u[d];const p=br(o,t),v="number"==typeof p?{mainAxis:p,crossAxis:0}:h({mainAxis:0,crossAxis:0},p);if(l){const e="y"===f?"height":"width",t=a.reference[f]-a.floating[e]+v.mainAxis,n=a.reference[f]+a.reference[e]-v.mainAxis;m<t?m=t:m>n&&(m=n)}if(c){var y,x;const e="y"===f?"width":"height",t=["top","left"].includes(wr(i)),n=a.reference[d]-a.floating[e]+(t&&(null==(y=s.offset)?void 0:y[d])||0)+(t?0:v.crossAxis),r=a.reference[d]+a.reference[e]+(t?0:(null==(x=s.offset)?void 0:x[d])||0)-(t?v.crossAxis:0);g<n?g=n:g>r&&(g=r)}return{[f]:m,[d]:g}}}},ki=(e,t,n)=>{const r=new Map,i=h({platform:gi},n),a=f(h({},i.platform),{_c:r});return((e,t,n)=>v(null,null,function*(){const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:s}=n,o=a.filter(Boolean),l=yield null==s.isRTL?void 0:s.isRTL(t);let c=yield s.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=Or(c,r,l),m=r,g={},p=0;for(let n=0;n<o.length;n++){const{name:a,fn:v}=o[n],{x:y,y:x,data:b,reset:w}=yield v({x:u,y:d,initialPlacement:r,placement:m,strategy:i,middlewareData:g,rects:c,platform:s,elements:{reference:e,floating:t}});u=null!=y?y:u,d=null!=x?x:d,g=f(h({},g),{[a]:h(h({},g[a]),b)}),w&&p<=50&&(p++,"object"==typeof w&&(w.placement&&(m=w.placement),w.rects&&(c=!0===w.rects?yield s.getElementRects({reference:e,floating:t,strategy:i}):w.rects),({x:u,y:d}=Or(c,m,l))),n=-1)}return{x:u,y:d,placement:m,strategy:i,middlewareData:g}}))(e,t,f(h({},i),{platform:a}))};var Si="undefined"!=typeof document?k.useLayoutEffect:function(){};function Ci(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!Ci(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!==r--;){const n=i[r];if(!("_owner"===n&&e.$$typeof||Ci(e[n],t[n])))return!1}return!0}return e!=e&&t!=t}function Pi(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ei(e,t){const n=Pi(e);return Math.round(t*n)/n}function Mi(e){const t=k.useRef(e);return Si(()=>{t.current=e}),t}const Oi=(e,t)=>f(h({},xi(e)),{options:[e,t]}),Ai=(e,t)=>f(h({},Ni(e)),{options:[e,t]}),Ti=(e,t)=>f(h({},bi(e)),{options:[e,t]}),Ri=(e,t)=>f(h({},wi(e)),{options:[e,t]}),Di=(e,t)=>f(h({},_i(e)),{options:[e,t]}),Ii=(e,t)=>f(h({},(e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"==typeof e?e(t):e;return n&&(i=n,{}.hasOwnProperty.call(i,"current"))?null!=n.current?ji({element:n.current,padding:r}).fn(t):{}:n?ji({element:n,padding:r}).fn(t):{};var i}}))(e)),{options:[e,t]});var Li=k.forwardRef((e,t)=>{const n=e,{children:r,width:i=10,height:a=5}=n,s=g(n,["children","width","height"]);return b.jsx(Sn.svg,f(h({},s),{ref:t,width:i,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:b.jsx("polygon",{points:"0,0 30,0 15,10"})}))});Li.displayName="Arrow";var zi=Li,Fi="Popper",[Bi,Vi]=Pn(Fi),[Wi,$i]=Bi(Fi),Hi=e=>{const{__scopePopper:t,children:n}=e,[r,i]=k.useState(null);return b.jsx(Wi,{scope:t,anchor:r,onAnchorChange:i,children:n})};Hi.displayName=Fi;var Ki="PopperAnchor",Ui=k.forwardRef((e,t)=>{const n=e,{__scopePopper:r,virtualRef:i}=n,a=g(n,["__scopePopper","virtualRef"]),s=$i(Ki,r),o=k.useRef(null),l=et(t,o);return k.useEffect(()=>{s.onAnchorChange((null==i?void 0:i.current)||o.current)}),i?null:b.jsx(Sn.div,f(h({},a),{ref:l}))});Ui.displayName=Ki;var Gi="PopperContent",[qi,Yi]=Bi(Gi),Xi=k.forwardRef((e,t)=>{var n,r,i,a,s,o,l,c;const u=e,{__scopePopper:d,side:m="bottom",sideOffset:p=0,align:v="center",alignOffset:y=0,arrowPadding:x=0,avoidCollisions:w=!0,collisionBoundary:_=[],collisionPadding:j=0,sticky:N="partial",hideWhenDetached:S=!1,updatePositionStrategy:C="optimized",onPlaced:P}=u,E=g(u,["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"]),M=$i(Gi,d),[O,A]=k.useState(null),T=et(t,e=>A(e)),[R,D]=k.useState(null),I=Fn(R),L=null!=(n=null==I?void 0:I.width)?n:0,z=null!=(r=null==I?void 0:I.height)?r:0,F=m+("center"!==v?"-"+v:""),B="number"==typeof j?j:h({top:0,right:0,bottom:0,left:0},j),V=Array.isArray(_)?_:[_],W=V.length>0,$={padding:B,boundary:V.filter(ea),altBoundary:W},{refs:H,floatingStyles:K,placement:U,isPositioned:G,middlewareData:q}=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:s}={},transform:o=!0,whileElementsMounted:l,open:c}=e,[u,d]=k.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,g]=k.useState(r);Ci(m,r)||g(r);const[p,v]=k.useState(null),[y,x]=k.useState(null),b=k.useCallback(e=>{e!==N.current&&(N.current=e,v(e))},[]),w=k.useCallback(e=>{e!==S.current&&(S.current=e,x(e))},[]),_=a||p,j=s||y,N=k.useRef(null),S=k.useRef(null),C=k.useRef(u),P=null!=l,E=Mi(l),M=Mi(i),O=Mi(c),A=k.useCallback(()=>{if(!N.current||!S.current)return;const e={placement:t,strategy:n,middleware:m};M.current&&(e.platform=M.current),ki(N.current,S.current,e).then(e=>{const t=f(h({},e),{isPositioned:!1!==O.current});T.current&&!Ci(C.current,t)&&(C.current=t,Nn.flushSync(()=>{d(t)}))})},[m,t,n,M,O]);Si(()=>{!1===c&&C.current.isPositioned&&(C.current.isPositioned=!1,d(e=>f(h({},e),{isPositioned:!1})))},[c]);const T=k.useRef(!1);Si(()=>(T.current=!0,()=>{T.current=!1}),[]),Si(()=>{if(_&&(N.current=_),j&&(S.current=j),_&&j){if(E.current)return E.current(_,j,A);A()}},[_,j,A,E,P]);const R=k.useMemo(()=>({reference:N,floating:S,setReference:b,setFloating:w}),[b,w]),D=k.useMemo(()=>({reference:_,floating:j}),[_,j]),I=k.useMemo(()=>{const e={position:n,left:0,top:0};if(!D.floating)return e;const t=Ei(D.floating,u.x),r=Ei(D.floating,u.y);return o?h(f(h({},e),{transform:"translate("+t+"px, "+r+"px)"}),Pi(D.floating)>=1.5&&{willChange:"transform"}):{position:n,left:t,top:r}},[n,o,D.floating,u.x,u.y]);return k.useMemo(()=>f(h({},u),{update:A,refs:R,elements:D,floatingStyles:I}),[u,A,R,D,I])}({strategy:"fixed",placement:F,whileElementsMounted:(...e)=>vi(...e,{animationFrame:"always"===C}),elements:{reference:M.anchor},middleware:[(Y={mainAxis:p+z,alignmentAxis:y},f(h({},yi(Y)),{options:[Y,X]})),w&&Oi(h({mainAxis:!0,crossAxis:!1,limiter:"partial"===N?Ai():void 0},$)),w&&Ti(h({},$)),Ri(f(h({},$),{apply:({elements:e,rects:t,availableWidth:n,availableHeight:r})=>{const{width:i,height:a}=t.reference,s=e.floating.style;s.setProperty("--radix-popper-available-width",`${n}px`),s.setProperty("--radix-popper-available-height",`${r}px`),s.setProperty("--radix-popper-anchor-width",`${i}px`),s.setProperty("--radix-popper-anchor-height",`${a}px`)}})),R&&Ii({element:R,padding:x}),ta({arrowWidth:L,arrowHeight:z}),S&&Di(h({strategy:"referenceHidden"},$))]});var Y,X;const[Q,Z]=na(U),J=Dn(P);On(()=>{G&&(null==J||J())},[G,J]);const ee=null==(i=q.arrow)?void 0:i.x,te=null==(a=q.arrow)?void 0:a.y,ne=0!==(null==(s=q.arrow)?void 0:s.centerOffset),[re,ie]=k.useState();return On(()=>{O&&ie(window.getComputedStyle(O).zIndex)},[O]),b.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:h(f(h({},K),{transform:G?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:re,"--radix-popper-transform-origin":[null==(o=q.transformOrigin)?void 0:o.x,null==(l=q.transformOrigin)?void 0:l.y].join(" ")}),(null==(c=q.hide)?void 0:c.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:b.jsx(qi,{scope:d,placedSide:Q,onArrowChange:D,arrowX:ee,arrowY:te,shouldHideArrow:ne,children:b.jsx(Sn.div,f(h({"data-side":Q,"data-align":Z},E),{ref:T,style:f(h({},E.style),{animation:G?void 0:"none"})}))})})});Xi.displayName=Gi;var Qi="PopperArrow",Zi={top:"bottom",right:"left",bottom:"top",left:"right"},Ji=k.forwardRef(function(e,t){const n=e,{__scopePopper:r}=n,i=g(n,["__scopePopper"]),a=Yi(Qi,r),s=Zi[a.placedSide];return b.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:b.jsx(zi,f(h({},i),{ref:t,style:f(h({},i.style),{display:"block"})}))})});function ea(e){return null!==e}Ji.displayName=Qi;var ta=e=>({name:"transformOrigin",options:e,fn(t){var n,r,i,a,s;const{placement:o,rects:l,middlewareData:c}=t,u=0!==(null==(n=c.arrow)?void 0:n.centerOffset),d=u?0:e.arrowWidth,h=u?0:e.arrowHeight,[f,m]=na(o),g={start:"0%",center:"50%",end:"100%"}[m],p=(null!=(i=null==(r=c.arrow)?void 0:r.x)?i:0)+d/2,v=(null!=(s=null==(a=c.arrow)?void 0:a.y)?s:0)+h/2;let y="",x="";return"bottom"===f?(y=u?g:`${p}px`,x=-h+"px"):"top"===f?(y=u?g:`${p}px`,x=`${l.floating.height+h}px`):"right"===f?(y=-h+"px",x=u?g:`${v}px`):"left"===f&&(y=`${l.floating.width+h}px`,x=u?g:`${v}px`),{data:{x:y,y:x}}}});function na(e){const[t,n="center"]=e.split("-");return[t,n]}var ra=Hi,ia=Ui,aa=Xi,sa=Ji,oa=k.forwardRef((e,t)=>{var n;const r=e,{container:i}=r,a=g(r,["container"]),[s,o]=k.useState(!1);On(()=>o(!0),[]);const l=i||s&&(null==(n=null==globalThis?void 0:globalThis.document)?void 0:n.body);return l?kn.createPortal(b.jsx(Sn.div,f(h({},a),{ref:t})),l):null});oa.displayName="Portal";var la=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"});k.forwardRef((e,t)=>b.jsx(Sn.span,f(h({},e),{ref:t,style:h(h({},la),e.style)}))).displayName="VisuallyHidden";var ca=new WeakMap,ua=new WeakMap,da={},ha=0,fa=function(e){return e&&(e.host||fa(e.parentNode))},ma=function(e,t,n,r){var i=function(e,t){return t.map(function(t){if(e.contains(t))return t;var n=fa(t);return n&&e.contains(n)?n:null}).filter(function(e){return Boolean(e)})}(t,Array.isArray(e)?e:[e]);da[n]||(da[n]=new WeakMap);var a=da[n],s=[],o=new Set,l=new Set(i),c=function(e){e&&!o.has(e)&&(o.add(e),c(e.parentNode))};i.forEach(c);var u=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(o.has(e))u(e);else try{var t=e.getAttribute(r),i=null!==t&&"false"!==t,l=(ca.get(e)||0)+1,c=(a.get(e)||0)+1;ca.set(e,l),a.set(e,c),s.push(e),1===l&&i&&ua.set(e,!0),1===c&&e.setAttribute(n,"true"),i||e.setAttribute(r,"true")}catch(d){}})};return u(t),o.clear(),ha++,function(){s.forEach(function(e){var t=ca.get(e)-1,i=a.get(e)-1;ca.set(e,t),a.set(e,i),t||(ua.has(e)||e.removeAttribute(r),ua.delete(e)),i||e.removeAttribute(n)}),--ha||(ca=new WeakMap,ca=new WeakMap,ua=new WeakMap,da={})}},ga=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),ma(r,i,n,"aria-hidden")):function(){return null}},pa=function(){return pa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},pa.apply(this,arguments)};function va(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}"function"==typeof SuppressedError&&SuppressedError;var ya="right-scroll-bar-position",xa="width-before-scroll-bar";function ba(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var wa="undefined"!=typeof window?k.useLayoutEffect:k.useEffect,_a=new WeakMap;function ja(e,t){var n,r,i,a=(n=null,r=function(t){return e.forEach(function(e){return ba(e,t)})},(i=k.useState(function(){return{value:n,callback:r,facade:{get current(){return i.value},set current(e){var t=i.value;t!==e&&(i.value=e,i.callback(e,t))}}}})[0]).callback=r,i.facade);return wa(function(){var t=_a.get(a);if(t){var n=new Set(t),r=new Set(e),i=a.current;n.forEach(function(e){r.has(e)||ba(e,null)}),r.forEach(function(e){n.has(e)||ba(e,i)})}_a.set(a,e)},[e]),a}function Na(e){return e}var ka=function(e){var t=e.sideCar,n=va(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return k.createElement(r,pa({},n))};ka.isSideCarExport=!0;var Sa=function(e){void 0===e&&(e={});var t=function(e,t){void 0===t&&(t=Na);var n=[],r=!1;return{read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var i=t(e,r);return n.push(i),function(){n=n.filter(function(e){return e!==i})}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var i=n;n=[],i.forEach(e),t=n}var a=function(){var n=t;t=[],n.forEach(e)},s=function(){return Promise.resolve().then(a)};s(),n={push:function(e){t.push(e),s()},filter:function(e){return t=t.filter(e),n}}}}}(null);return t.options=pa({async:!0,ssr:!1},e),t}(),Ca=function(){},Pa=k.forwardRef(function(e,t){var n=k.useRef(null),r=k.useState({onScrollCapture:Ca,onWheelCapture:Ca,onTouchMoveCapture:Ca}),i=r[0],a=r[1],s=e.forwardProps,o=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,d=e.shards,h=e.sideCar,f=e.noRelative,m=e.noIsolation,g=e.inert,p=e.allowPinchZoom,v=e.as,y=void 0===v?"div":v,x=e.gapMode,b=va(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=h,_=ja([n,t]),j=pa(pa({},b),i);return k.createElement(k.Fragment,null,u&&k.createElement(w,{sideCar:Sa,removeScrollBar:c,shards:d,noRelative:f,noIsolation:m,inert:g,setCallbacks:a,allowPinchZoom:!!p,lockRef:n,gapMode:x}),s?k.cloneElement(k.Children.only(o),pa(pa({},j),{ref:_})):k.createElement(y,pa({},j,{className:l,ref:_}),o))});function Ea(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=function(){if("undefined"!=typeof __webpack_nonce__)return __webpack_nonce__}();return t&&e.setAttribute("nonce",t),e}Pa.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},Pa.classNames={fullWidth:xa,zeroRight:ya};var Ma=function(){var e=0,t=null;return{add:function(n){var r,i;0==e&&(t=Ea())&&(i=n,(r=t).styleSheet?r.styleSheet.cssText=i:r.appendChild(document.createTextNode(i)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Oa=function(){var e,t=(e=Ma(),function(t,n){k.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])});return function(e){var n=e.styles,r=e.dynamic;return t(n,r),null}},Aa={left:0,top:0,right:0,gap:0},Ta=function(e){return parseInt(e||"",10)||0},Ra=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return Aa;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[Ta(n),Ta(r),Ta(i)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Da=Oa(),Ia="data-scroll-locked",La=function(e,t,n,r){var i=e.left,a=e.top,s=e.right,o=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(o,"px ").concat(r,";\n  }\n  body[").concat(Ia,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(a,"px;\n    padding-right: ").concat(s,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(o,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(ya," {\n    right: ").concat(o,"px ").concat(r,";\n  }\n  \n  .").concat(xa," {\n    margin-right: ").concat(o,"px ").concat(r,";\n  }\n  \n  .").concat(ya," .").concat(ya," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(xa," .").concat(xa," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(Ia,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(o,"px;\n  }\n")},za=function(){var e=parseInt(document.body.getAttribute(Ia)||"0",10);return isFinite(e)?e:0},Fa=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=void 0===r?"margin":r;k.useEffect(function(){return document.body.setAttribute(Ia,(za()+1).toString()),function(){var e=za()-1;e<=0?document.body.removeAttribute(Ia):document.body.setAttribute(Ia,e.toString())}},[]);var a=k.useMemo(function(){return Ra(i)},[i]);return k.createElement(Da,{styles:La(a,!t,i,n?"":"!important")})},Ba=!1;if("undefined"!=typeof window)try{var Va=Object.defineProperty({},"passive",{get:function(){return Ba=!0,!0}});window.addEventListener("test",Va,Va),window.removeEventListener("test",Va,Va)}catch(zse){Ba=!1}var Wa=!!Ba&&{passive:!1},$a=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},Ha=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!=typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),Ka(e,r)){var i=Ua(e,r);if(i[1]>i[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Ka=function(e,t){return"v"===e?function(e){return $a(e,"overflowY")}(t):function(e){return $a(e,"overflowX")}(t)},Ua=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},Ga=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},qa=function(e){return[e.deltaX,e.deltaY]},Ya=function(e){return e&&"current"in e?e.current:e},Xa=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},Qa=0,Za=[];function Ja(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const es=(ts=function(e){var t=k.useRef([]),n=k.useRef([0,0]),r=k.useRef(),i=k.useState(Qa++)[0],a=k.useState(Oa)[0],s=k.useRef(e);k.useEffect(function(){s.current=e},[e]),k.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([e.lockRef.current],(e.shards||[]).map(Ya),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var o=k.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!s.current.allowPinchZoom;var i,a=Ga(e),o=n.current,l="deltaX"in e?e.deltaX:o[0]-a[0],c="deltaY"in e?e.deltaY:o[1]-a[1],u=e.target,d=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var h=Ha(d,u);if(!h)return!0;if(h?i=d:(i="v"===d?"h":"v",h=Ha(d,u)),!h)return!1;if(!r.current&&"changedTouches"in e&&(l||c)&&(r.current=i),!i)return!0;var f=r.current||i;return function(e,t,n,r){var i=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),a=i*r,s=n.target,o=t.contains(s),l=!1,c=a>0,u=0,d=0;do{if(!s)break;var h=Ua(e,s),f=h[0],m=h[1]-h[2]-i*f;(f||m)&&Ka(e,s)&&(u+=m,d+=f);var g=s.parentNode;s=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!o&&s!==document.body||o&&(t.contains(s)||t===s));return(c&&Math.abs(u)<1||!c&&Math.abs(d)<1)&&(l=!0),l}(f,t,e,"h"===f?l:c)},[]),l=k.useCallback(function(e){var n=e;if(Za.length&&Za[Za.length-1]===a){var r="deltaY"in n?qa(n):Ga(n),i=t.current.filter(function(e){return e.name===n.type&&(e.target===n.target||n.target===e.shadowParent)&&(t=e.delta,i=r,t[0]===i[0]&&t[1]===i[1]);var t,i})[0];if(i&&i.should)n.cancelable&&n.preventDefault();else if(!i){var l=(s.current.shards||[]).map(Ya).filter(Boolean).filter(function(e){return e.contains(n.target)});(l.length>0?o(n,l[0]):!s.current.noIsolation)&&n.cancelable&&n.preventDefault()}}},[]),c=k.useCallback(function(e,n,r,i){var a={name:e,delta:n,target:r,should:i,shadowParent:Ja(r)};t.current.push(a),setTimeout(function(){t.current=t.current.filter(function(e){return e!==a})},1)},[]),u=k.useCallback(function(e){n.current=Ga(e),r.current=void 0},[]),d=k.useCallback(function(t){c(t.type,qa(t),t.target,o(t,e.lockRef.current))},[]),h=k.useCallback(function(t){c(t.type,Ga(t),t.target,o(t,e.lockRef.current))},[]);k.useEffect(function(){return Za.push(a),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Wa),document.addEventListener("touchmove",l,Wa),document.addEventListener("touchstart",u,Wa),function(){Za=Za.filter(function(e){return e!==a}),document.removeEventListener("wheel",l,Wa),document.removeEventListener("touchmove",l,Wa),document.removeEventListener("touchstart",u,Wa)}},[]);var f=e.removeScrollBar,m=e.inert;return k.createElement(k.Fragment,null,m?k.createElement(a,{styles:Xa(i)}):null,f?k.createElement(Fa,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},Sa.useMedium(ts),ka);var ts,ns=k.forwardRef(function(e,t){return k.createElement(Pa,pa({},e,{ref:t,sideCar:es}))});ns.classNames=Pa.classNames;var rs=[" ","Enter","ArrowUp","ArrowDown"],is=[" ","Enter"],as="Select",[ss,os,ls]=Mn(as),[cs,us]=Pn(as,[ls,Vi]),ds=Vi(),[hs,fs]=cs(as),[ms,gs]=cs(as),ps="SelectTrigger",vs=k.forwardRef((e,t)=>{const n=e,{__scopeSelect:r,disabled:i=!1}=n,a=g(n,["__scopeSelect","disabled"]),s=ds(r),o=fs(ps,r),l=o.disabled||i,c=et(t,o.onTriggerChange),u=os(r),d=k.useRef("touch"),[m,p,v]=to(e=>{const t=u().filter(e=>!e.disabled),n=t.find(e=>e.value===o.value),r=no(t,e,n);void 0!==r&&o.onValueChange(r.value)}),y=e=>{l||(o.onOpenChange(!0),v()),e&&(o.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return b.jsx(ia,f(h({asChild:!0},s),{children:b.jsx(Sn.button,f(h({type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":eo(o.value)?"":void 0},a),{ref:c,onClick:Cn(a.onClick,e=>{e.currentTarget.focus(),"mouse"!==d.current&&y(e)}),onPointerDown:Cn(a.onPointerDown,e=>{d.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(y(e),e.preventDefault())}),onKeyDown:Cn(a.onKeyDown,e=>{const t=""!==m.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||p(e.key),t&&" "===e.key||rs.includes(e.key)&&(y(),e.preventDefault())})}))}))});vs.displayName=ps;var ys="SelectValue";k.forwardRef((e,t)=>{const n=e,{__scopeSelect:r,className:i,style:a,children:s,placeholder:o=""}=n,l=g(n,["__scopeSelect","className","style","children","placeholder"]),c=fs(ys,r),{onValueNodeHasChildrenChange:u}=c,d=void 0!==s,m=et(t,c.onValueNodeChange);return On(()=>{u(d)},[u,d]),b.jsx(Sn.span,f(h({},l),{ref:m,style:{pointerEvents:"none"},children:eo(c.value)?b.jsx(b.Fragment,{children:o}):s}))}).displayName=ys;var xs=k.forwardRef((e,t)=>{const n=e,{__scopeSelect:r,children:i}=n,a=g(n,["__scopeSelect","children"]);return b.jsx(Sn.span,f(h({"aria-hidden":!0},a),{ref:t,children:i||"▼"}))});xs.displayName="SelectIcon";var bs=e=>b.jsx(oa,h({asChild:!0},e));bs.displayName="SelectPortal";var ws="SelectContent",_s=k.forwardRef((e,t)=>{const n=fs(ws,e.__scopeSelect),[r,i]=k.useState();if(On(()=>{i(new DocumentFragment)},[]),!n.open){const t=r;return t?Nn.createPortal(b.jsx(Ns,{scope:e.__scopeSelect,children:b.jsx(ss.Slot,{scope:e.__scopeSelect,children:b.jsx("div",{children:e.children})})}),t):null}return b.jsx(Cs,f(h({},e),{ref:t}))});_s.displayName=ws;var js=10,[Ns,ks]=cs(ws),Ss=tt("SelectContent.RemoveScroll"),Cs=k.forwardRef((e,t)=>{const n=e,{__scopeSelect:r,position:i="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:m,collisionBoundary:p,collisionPadding:v,sticky:y,hideWhenDetached:x,avoidCollisions:w}=n,_=g(n,["__scopeSelect","position","onCloseAutoFocus","onEscapeKeyDown","onPointerDownOutside","side","sideOffset","align","alignOffset","arrowPadding","collisionBoundary","collisionPadding","sticky","hideWhenDetached","avoidCollisions"]),j=fs(ws,r),[N,S]=k.useState(null),[C,P]=k.useState(null),E=et(t,e=>S(e)),[M,O]=k.useState(null),[A,T]=k.useState(null),R=os(r),[D,I]=k.useState(!1),L=k.useRef(!1);k.useEffect(()=>{if(N)return ga(N)},[N]),Jn();const z=k.useCallback(e=>{const[t,...n]=R().map(e=>e.ref.current),[r]=n.slice(-1),i=document.activeElement;for(const a of e){if(a===i)return;if(null==a||a.scrollIntoView({block:"nearest"}),a===t&&C&&(C.scrollTop=0),a===r&&C&&(C.scrollTop=C.scrollHeight),null==a||a.focus(),document.activeElement!==i)return}},[R,C]),F=k.useCallback(()=>z([M,N]),[z,M,N]);k.useEffect(()=>{D&&F()},[D,F]);const{onOpenChange:B,triggerPointerDownPosRef:V}=j;k.useEffect(()=>{if(N){let e={x:0,y:0};const t=t=>{var n,r,i,a;e={x:Math.abs(Math.round(t.pageX)-(null!=(r=null==(n=V.current)?void 0:n.x)?r:0)),y:Math.abs(Math.round(t.pageY)-(null!=(a=null==(i=V.current)?void 0:i.y)?a:0))}},n=n=>{e.x<=10&&e.y<=10?n.preventDefault():N.contains(n.target)||B(!1),document.removeEventListener("pointermove",t),V.current=null};return null!==V.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",n,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",n,{capture:!0})}}},[N,B,V]),k.useEffect(()=>{const e=()=>B(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[B]);const[W,$]=to(e=>{const t=R().filter(e=>!e.disabled),n=t.find(e=>e.ref.current===document.activeElement),r=no(t,e,n);r&&setTimeout(()=>r.ref.current.focus())}),H=k.useCallback((e,t,n)=>{const r=!L.current&&!n;(void 0!==j.value&&j.value===t||r)&&(O(e),r&&(L.current=!0))},[j.value]),K=k.useCallback(()=>null==N?void 0:N.focus(),[N]),U=k.useCallback((e,t,n)=>{const r=!L.current&&!n;(void 0!==j.value&&j.value===t||r)&&T(e)},[j.value]),G="popper"===i?Es:Ps,q=G===Es?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:m,collisionBoundary:p,collisionPadding:v,sticky:y,hideWhenDetached:x,avoidCollisions:w}:{};return b.jsx(Ns,{scope:r,content:N,viewport:C,onViewportChange:P,itemRefCallback:H,selectedItem:M,onItemLeave:K,itemTextRefCallback:U,focusSelectedItem:F,selectedItemText:A,position:i,isPositioned:D,searchRef:W,children:b.jsx(ns,{as:Ss,allowPinchZoom:!0,children:b.jsx(ir,{asChild:!0,trapped:j.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:Cn(a,e=>{var t;null==(t=j.trigger)||t.focus({preventScroll:!0}),e.preventDefault()}),children:b.jsx(Yn,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:b.jsx(G,f(h(h({role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:e=>e.preventDefault()},_),q),{onPlaced:()=>I(!0),ref:E,style:h({display:"flex",flexDirection:"column",outline:"none"},_.style),onKeyDown:Cn(_.onKeyDown,e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||$(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=R().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const n=e.target,r=t.indexOf(n);t=t.slice(r+1)}setTimeout(()=>z(t)),e.preventDefault()}})}))})})})})});Cs.displayName="SelectContentImpl";var Ps=k.forwardRef((e,t)=>{const n=e,{__scopeSelect:r,onPlaced:i}=n,a=g(n,["__scopeSelect","onPlaced"]),s=fs(ws,r),o=ks(ws,r),[l,c]=k.useState(null),[u,d]=k.useState(null),m=et(t,e=>d(e)),p=os(r),v=k.useRef(!1),y=k.useRef(!0),{viewport:x,selectedItem:w,selectedItemText:_,focusSelectedItem:j}=o,N=k.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&x&&w&&_){const e=s.trigger.getBoundingClientRect(),t=u.getBoundingClientRect(),n=s.valueNode.getBoundingClientRect(),r=_.getBoundingClientRect();if("rtl"!==s.dir){const i=r.left-t.left,a=n.left-i,s=e.left-a,o=e.width+s,c=Math.max(o,t.width),u=window.innerWidth-js,d=$n(a,[js,Math.max(js,u-c)]);l.style.minWidth=o+"px",l.style.left=d+"px"}else{const i=t.right-r.right,a=window.innerWidth-n.right-i,s=window.innerWidth-e.right-a,o=e.width+s,c=Math.max(o,t.width),u=window.innerWidth-js,d=$n(a,[js,Math.max(js,u-c)]);l.style.minWidth=o+"px",l.style.right=d+"px"}const a=p(),o=window.innerHeight-2*js,c=x.scrollHeight,d=window.getComputedStyle(u),h=parseInt(d.borderTopWidth,10),f=parseInt(d.paddingTop,10),m=parseInt(d.borderBottomWidth,10),g=h+f+c+parseInt(d.paddingBottom,10)+m,y=Math.min(5*w.offsetHeight,g),b=window.getComputedStyle(x),j=parseInt(b.paddingTop,10),N=parseInt(b.paddingBottom,10),k=e.top+e.height/2-js,S=o-k,C=w.offsetHeight/2,P=h+f+(w.offsetTop+C),E=g-P;if(P<=k){const e=a.length>0&&w===a[a.length-1].ref.current;l.style.bottom="0px";const t=u.clientHeight-x.offsetTop-x.offsetHeight,n=P+Math.max(S,C+(e?N:0)+t+m);l.style.height=n+"px"}else{const e=a.length>0&&w===a[0].ref.current;l.style.top="0px";const t=Math.max(k,h+x.offsetTop+(e?j:0)+C)+E;l.style.height=t+"px",x.scrollTop=P-k+x.offsetTop}l.style.margin=`${js}px 0`,l.style.minHeight=y+"px",l.style.maxHeight=o+"px",null==i||i(),requestAnimationFrame(()=>v.current=!0)}},[p,s.trigger,s.valueNode,l,u,x,w,_,s.dir,i]);On(()=>N(),[N]);const[S,C]=k.useState();On(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const P=k.useCallback(e=>{e&&!0===y.current&&(N(),null==j||j(),y.current=!1)},[N,j]);return b.jsx(Ms,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:P,children:b.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:b.jsx(Sn.div,f(h({},a),{ref:m,style:h({boxSizing:"border-box",maxHeight:"100%"},a.style)}))})})});Ps.displayName="SelectItemAlignedPosition";var Es=k.forwardRef((e,t)=>{const n=e,{__scopeSelect:r,align:i="start",collisionPadding:a=js}=n,s=g(n,["__scopeSelect","align","collisionPadding"]),o=ds(r);return b.jsx(aa,f(h(h({},o),s),{ref:t,align:i,collisionPadding:a,style:h(h({boxSizing:"border-box"},s.style),{"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"})}))});Es.displayName="SelectPopperPosition";var[Ms,Os]=cs(ws,{}),As="SelectViewport",Ts=k.forwardRef((e,t)=>{const n=e,{__scopeSelect:r,nonce:i}=n,a=g(n,["__scopeSelect","nonce"]),s=ks(As,r),o=Os(As,r),l=et(t,s.onViewportChange),c=k.useRef(0);return b.jsxs(b.Fragment,{children:[b.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),b.jsx(ss.Slot,{scope:r,children:b.jsx(Sn.div,f(h({"data-radix-select-viewport":"",role:"presentation"},a),{ref:l,style:h({position:"relative",flex:1,overflow:"hidden auto"},a.style),onScroll:Cn(a.onScroll,e=>{const t=e.currentTarget,{contentWrapper:n,shouldExpandOnScrollRef:r}=o;if((null==r?void 0:r.current)&&n){const e=Math.abs(c.current-t.scrollTop);if(e>0){const r=window.innerHeight-2*js,i=parseFloat(n.style.minHeight),a=parseFloat(n.style.height),s=Math.max(i,a);if(s<r){const i=s+e,a=Math.min(r,i),o=i-a;n.style.height=a+"px","0px"===n.style.bottom&&(t.scrollTop=o>0?o:0,n.style.justifyContent="flex-end")}}}c.current=t.scrollTop})}))})]})});Ts.displayName=As;var Rs="SelectGroup",[Ds,Is]=cs(Rs);k.forwardRef((e,t)=>{const n=e,{__scopeSelect:r}=n,i=g(n,["__scopeSelect"]),a=Rn();return b.jsx(Ds,{scope:r,id:a,children:b.jsx(Sn.div,f(h({role:"group","aria-labelledby":a},i),{ref:t}))})}).displayName=Rs;var Ls="SelectLabel",zs=k.forwardRef((e,t)=>{const n=e,{__scopeSelect:r}=n,i=g(n,["__scopeSelect"]),a=Is(Ls,r);return b.jsx(Sn.div,f(h({id:a.id},i),{ref:t}))});zs.displayName=Ls;var Fs="SelectItem",[Bs,Vs]=cs(Fs),Ws=k.forwardRef((e,t)=>{const n=e,{__scopeSelect:r,value:i,disabled:a=!1,textValue:s}=n,o=g(n,["__scopeSelect","value","disabled","textValue"]),l=fs(Fs,r),c=ks(Fs,r),u=l.value===i,[d,m]=k.useState(null!=s?s:""),[p,v]=k.useState(!1),y=et(t,e=>{var t;return null==(t=c.itemRefCallback)?void 0:t.call(c,e,i,a)}),x=Rn(),w=k.useRef("touch"),_=()=>{a||(l.onValueChange(i),l.onOpenChange(!1))};if(""===i)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return b.jsx(Bs,{scope:r,value:i,disabled:a,textId:x,isSelected:u,onItemTextChange:k.useCallback(e=>{m(t=>{var n;return t||(null!=(n=null==e?void 0:e.textContent)?n:"").trim()})},[]),children:b.jsx(ss.ItemSlot,{scope:r,value:i,disabled:a,textValue:d,children:b.jsx(Sn.div,f(h({role:"option","aria-labelledby":x,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1},o),{ref:y,onFocus:Cn(o.onFocus,()=>v(!0)),onBlur:Cn(o.onBlur,()=>v(!1)),onClick:Cn(o.onClick,()=>{"mouse"!==w.current&&_()}),onPointerUp:Cn(o.onPointerUp,()=>{"mouse"===w.current&&_()}),onPointerDown:Cn(o.onPointerDown,e=>{w.current=e.pointerType}),onPointerMove:Cn(o.onPointerMove,e=>{var t;w.current=e.pointerType,a?null==(t=c.onItemLeave)||t.call(c):"mouse"===w.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Cn(o.onPointerLeave,e=>{var t;e.currentTarget===document.activeElement&&(null==(t=c.onItemLeave)||t.call(c))}),onKeyDown:Cn(o.onKeyDown,e=>{var t;""!==(null==(t=c.searchRef)?void 0:t.current)&&" "===e.key||(is.includes(e.key)&&_()," "===e.key&&e.preventDefault())})}))})})});Ws.displayName=Fs;var $s="SelectItemText",Hs=k.forwardRef((e,t)=>{const n=e,{__scopeSelect:r,className:i,style:a}=n,s=g(n,["__scopeSelect","className","style"]),o=fs($s,r),l=ks($s,r),c=Vs($s,r),u=gs($s,r),[d,m]=k.useState(null),p=et(t,e=>m(e),c.onItemTextChange,e=>{var t;return null==(t=l.itemTextRefCallback)?void 0:t.call(l,e,c.value,c.disabled)}),v=null==d?void 0:d.textContent,y=k.useMemo(()=>b.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:x,onNativeOptionRemove:w}=u;return On(()=>(x(y),()=>w(y)),[x,w,y]),b.jsxs(b.Fragment,{children:[b.jsx(Sn.span,f(h({id:c.textId},s),{ref:p})),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Nn.createPortal(s.children,o.valueNode):null]})});Hs.displayName=$s;var Ks="SelectItemIndicator",Us=k.forwardRef((e,t)=>{const n=e,{__scopeSelect:r}=n,i=g(n,["__scopeSelect"]);return Vs(Ks,r).isSelected?b.jsx(Sn.span,f(h({"aria-hidden":!0},i),{ref:t})):null});Us.displayName=Ks;var Gs="SelectScrollUpButton",qs=k.forwardRef((e,t)=>{const n=ks(Gs,e.__scopeSelect),r=Os(Gs,e.__scopeSelect),[i,a]=k.useState(!1),s=et(t,r.onScrollButtonChange);return On(()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollTop>0;a(e)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),i?b.jsx(Qs,f(h({},e),{ref:s,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}})):null});qs.displayName=Gs;var Ys="SelectScrollDownButton",Xs=k.forwardRef((e,t)=>{const n=ks(Ys,e.__scopeSelect),r=Os(Ys,e.__scopeSelect),[i,a]=k.useState(!1),s=et(t,r.onScrollButtonChange);return On(()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,n=Math.ceil(t.scrollTop)<e;a(n)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),i?b.jsx(Qs,f(h({},e),{ref:s,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}})):null});Xs.displayName=Ys;var Qs=k.forwardRef((e,t)=>{const n=e,{__scopeSelect:r,onAutoScroll:i}=n,a=g(n,["__scopeSelect","onAutoScroll"]),s=ks("SelectScrollButton",r),o=k.useRef(null),l=os(r),c=k.useCallback(()=>{null!==o.current&&(window.clearInterval(o.current),o.current=null)},[]);return k.useEffect(()=>()=>c(),[c]),On(()=>{var e;const t=l().find(e=>e.ref.current===document.activeElement);null==(e=null==t?void 0:t.ref.current)||e.scrollIntoView({block:"nearest"})},[l]),b.jsx(Sn.div,f(h({"aria-hidden":!0},a),{ref:t,style:h({flexShrink:0},a.style),onPointerDown:Cn(a.onPointerDown,()=>{null===o.current&&(o.current=window.setInterval(i,50))}),onPointerMove:Cn(a.onPointerMove,()=>{var e;null==(e=s.onItemLeave)||e.call(s),null===o.current&&(o.current=window.setInterval(i,50))}),onPointerLeave:Cn(a.onPointerLeave,()=>{c()})}))}),Zs=k.forwardRef((e,t)=>{const n=e,{__scopeSelect:r}=n,i=g(n,["__scopeSelect"]);return b.jsx(Sn.div,f(h({"aria-hidden":!0},i),{ref:t}))});Zs.displayName="SelectSeparator";var Js="SelectArrow";function eo(e){return""===e||void 0===e}function to(e){const t=Dn(e),n=k.useRef(""),r=k.useRef(0),i=k.useCallback(e=>{const i=n.current+e;t(i),function e(t){n.current=t,window.clearTimeout(r.current),""!==t&&(r.current=window.setTimeout(()=>e(""),1e3))}(i)},[t]),a=k.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return k.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function no(e,t,n){const r=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let a=(s=e,o=Math.max(i,0),s.map((e,t)=>s[(o+t)%s.length]));var s,o;1===r.length&&(a=a.filter(e=>e!==n));const l=a.find(e=>e.textValue.toLowerCase().startsWith(r.toLowerCase()));return l!==n?l:void 0}k.forwardRef((e,t)=>{const n=e,{__scopeSelect:r}=n,i=g(n,["__scopeSelect"]),a=ds(r),s=fs(Js,r),o=ks(Js,r);return s.open&&"popper"===o.position?b.jsx(sa,f(h(h({},a),i),{ref:t})):null}).displayName=Js,k.forwardRef((e,t)=>{var n=e,{__scopeSelect:r,value:i}=n,a=g(n,["__scopeSelect","value"]);const s=k.useRef(null),o=et(t,s),l=Bn(i);return k.useEffect(()=>{const e=s.current;if(!e)return;const t=window.HTMLSelectElement.prototype,n=Object.getOwnPropertyDescriptor(t,"value").set;if(l!==i&&n){const t=new Event("change",{bubbles:!0});n.call(e,i),e.dispatchEvent(t)}},[l,i]),b.jsx(Sn.select,f(h({},a),{style:h(h({},la),a.style),ref:o,defaultValue:i}))}).displayName="SelectBubbleInput";var ro=vs,io=xs,ao=bs,so=_s,oo=Ts,lo=zs,co=Ws,uo=Hs,ho=Us,fo=qs,mo=Xs,go=Zs;k.forwardRef((e,t)=>{var n=e,{className:r,children:i}=n,a=g(n,["className","children"]);return b.jsxs(ro,f(h({ref:t,className:yn("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r)},a),{children:[i,b.jsx(io,{asChild:!0,children:b.jsx(ce,{className:"h-4 w-4 opacity-50"})})]}))}).displayName=ro.displayName;const po=k.forwardRef((e,t)=>{var n=e,{className:r}=n,i=g(n,["className"]);return b.jsx(fo,f(h({ref:t,className:yn("flex cursor-default items-center justify-center py-1",r)},i),{children:b.jsx(ue,{className:"h-4 w-4"})}))});po.displayName=fo.displayName;const vo=k.forwardRef((e,t)=>{var n=e,{className:r}=n,i=g(n,["className"]);return b.jsx(mo,f(h({ref:t,className:yn("flex cursor-default items-center justify-center py-1",r)},i),{children:b.jsx(ce,{className:"h-4 w-4"})}))});vo.displayName=mo.displayName,k.forwardRef((e,t)=>{var n=e,{className:r,children:i,position:a="popper"}=n,s=g(n,["className","children","position"]);return b.jsx(ao,{children:b.jsxs(so,f(h({ref:t,className:yn("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:a},s),{children:[b.jsx(po,{}),b.jsx(oo,{className:yn("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:i}),b.jsx(vo,{})]}))})}).displayName=so.displayName,k.forwardRef((e,t)=>{var n=e,{className:r}=n,i=g(n,["className"]);return b.jsx(lo,h({ref:t,className:yn("py-1.5 pl-8 pr-2 text-sm font-semibold",r)},i))}).displayName=lo.displayName,k.forwardRef((e,t)=>{var n=e,{className:r,children:i}=n,a=g(n,["className","children"]);return b.jsxs(co,f(h({ref:t,className:yn("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r)},a),{children:[b.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:b.jsx(ho,{children:b.jsx(le,{className:"h-4 w-4"})})}),b.jsx(uo,{children:i})]}))}).displayName=co.displayName,k.forwardRef((e,t)=>{var n=e,{className:r}=n,i=g(n,["className"]);return b.jsx(go,h({ref:t,className:yn("-mx-1 my-1 h-px bg-muted",r)},i))}).displayName=go.displayName;var yo="horizontal",xo=["horizontal","vertical"],bo=k.forwardRef((e,t)=>{const n=e,{decorative:r,orientation:i=yo}=n,a=g(n,["decorative","orientation"]),s=function(e){return xo.includes(e)}(i)?i:yo,o=r?{role:"none"}:{"aria-orientation":"vertical"===s?s:void 0,role:"separator"};return b.jsx(Sn.div,f(h(h({"data-orientation":s},o),a),{ref:t}))});bo.displayName="Separator";var wo=bo;const _o=k.forwardRef((e,t)=>{var n=e,{className:r,orientation:i="horizontal",decorative:a=!0}=n,s=g(n,["className","orientation","decorative"]);return b.jsx(wo,h({ref:t,decorative:a,orientation:i,className:yn("shrink-0 bg-border","horizontal"===i?"h-[1px] w-full":"h-full w-[1px]",r)},s))});_o.displayName=wo.displayName;var jo=["PageUp","PageDown"],No=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ko={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},So="Slider",[Co,Po,Eo]=Mn(So),[Mo,Oo]=Pn(So,[Eo]),[Ao,To]=Mo(So),Ro=k.forwardRef((e,t)=>{const n=e,{name:r,min:i=0,max:a=100,step:s=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[i],value:d,onValueChange:m=()=>{},onValueCommit:p=()=>{},inverted:v=!1,form:y}=n,x=g(n,["name","min","max","step","orientation","disabled","minStepsBetweenThumbs","defaultValue","value","onValueChange","onValueCommit","inverted","form"]),w=k.useRef(new Set),_=k.useRef(0),j="horizontal"===o?Lo:zo,[N=[],S]=Ln({prop:d,defaultProp:u,onChange:e=>{var t;null==(t=[...w.current][_.current])||t.focus(),m(e)}}),C=k.useRef(N);function P(e,t,{commit:n}={commit:!1}){const r=function(e){return(String(e).split(".")[1]||"").length}(s),o=function(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}(Math.round((e-i)/s)*s+i,r),l=$n(o,[i,a]);S((e=[])=>{const r=function(e=[],t,n){const r=[...e];return r[n]=t,r.sort((e,t)=>e-t)}(e,l,t);if(function(e,t){if(t>0){const n=function(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}(e);return Math.min(...n)>=t}return!0}(r,c*s)){_.current=r.indexOf(l);const t=String(r)!==String(e);return t&&n&&p(r),t?r:e}return e})}return b.jsx(Ao,{scope:e.__scopeSlider,name:r,disabled:l,min:i,max:a,valueIndexToChangeRef:_,thumbs:w.current,values:N,orientation:o,form:y,children:b.jsx(Co.Provider,{scope:e.__scopeSlider,children:b.jsx(Co.Slot,{scope:e.__scopeSlider,children:b.jsx(j,f(h({"aria-disabled":l,"data-disabled":l?"":void 0},x),{ref:t,onPointerDown:Cn(x.onPointerDown,()=>{l||(C.current=N)}),min:i,max:a,inverted:v,onSlideStart:l?void 0:function(e){const t=function(e,t){if(1===e.length)return 0;const n=e.map(e=>Math.abs(e-t)),r=Math.min(...n);return n.indexOf(r)}(N,e);P(e,t)},onSlideMove:l?void 0:function(e){P(e,_.current)},onSlideEnd:l?void 0:function(){const e=C.current[_.current];N[_.current]!==e&&p(N)},onHomeKeyDown:()=>!l&&P(i,0,{commit:!0}),onEndKeyDown:()=>!l&&P(a,N.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!l){const n=jo.includes(e.key)||e.shiftKey&&No.includes(e.key)?10:1,r=_.current;P(N[r]+s*n*t,r,{commit:!0})}}}))})})})});Ro.displayName=So;var[Do,Io]=Mo(So,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Lo=k.forwardRef((e,t)=>{const n=e,{min:r,max:i,dir:a,inverted:s,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u}=n,d=g(n,["min","max","dir","inverted","onSlideStart","onSlideMove","onSlideEnd","onStepKeyDown"]),[m,p]=k.useState(null),v=et(t,e=>p(e)),y=k.useRef(void 0),x=function(e){const t=k.useContext(zn);return e||t||"ltr"}(a),w="ltr"===x,_=w&&!s||!w&&s;function j(e){const t=y.current||m.getBoundingClientRect(),n=Yo([0,t.width],_?[r,i]:[i,r]);return y.current=t,n(e-t.left)}return b.jsx(Do,{scope:e.__scopeSlider,startEdge:_?"left":"right",endEdge:_?"right":"left",direction:_?1:-1,size:"width",children:b.jsx(Fo,f(h({dir:x,"data-orientation":"horizontal"},d),{ref:v,style:f(h({},d.style),{"--radix-slider-thumb-transform":"translateX(-50%)"}),onSlideStart:e=>{const t=j(e.clientX);null==o||o(t)},onSlideMove:e=>{const t=j(e.clientX);null==l||l(t)},onSlideEnd:()=>{y.current=void 0,null==c||c()},onStepKeyDown:e=>{const t=ko[_?"from-left":"from-right"].includes(e.key);null==u||u({event:e,direction:t?-1:1})}}))})}),zo=k.forwardRef((e,t)=>{const n=e,{min:r,max:i,inverted:a,onSlideStart:s,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c}=n,u=g(n,["min","max","inverted","onSlideStart","onSlideMove","onSlideEnd","onStepKeyDown"]),d=k.useRef(null),m=et(t,d),p=k.useRef(void 0),v=!a;function y(e){const t=p.current||d.current.getBoundingClientRect(),n=Yo([0,t.height],v?[i,r]:[r,i]);return p.current=t,n(e-t.top)}return b.jsx(Do,{scope:e.__scopeSlider,startEdge:v?"bottom":"top",endEdge:v?"top":"bottom",size:"height",direction:v?1:-1,children:b.jsx(Fo,f(h({"data-orientation":"vertical"},u),{ref:m,style:f(h({},u.style),{"--radix-slider-thumb-transform":"translateY(50%)"}),onSlideStart:e=>{const t=y(e.clientY);null==s||s(t)},onSlideMove:e=>{const t=y(e.clientY);null==o||o(t)},onSlideEnd:()=>{p.current=void 0,null==l||l()},onStepKeyDown:e=>{const t=ko[v?"from-bottom":"from-top"].includes(e.key);null==c||c({event:e,direction:t?-1:1})}}))})}),Fo=k.forwardRef((e,t)=>{const n=e,{__scopeSlider:r,onSlideStart:i,onSlideMove:a,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c}=n,u=g(n,["__scopeSlider","onSlideStart","onSlideMove","onSlideEnd","onHomeKeyDown","onEndKeyDown","onStepKeyDown"]),d=To(So,r);return b.jsx(Sn.span,f(h({},u),{ref:t,onKeyDown:Cn(e.onKeyDown,e=>{"Home"===e.key?(o(e),e.preventDefault()):"End"===e.key?(l(e),e.preventDefault()):jo.concat(No).includes(e.key)&&(c(e),e.preventDefault())}),onPointerDown:Cn(e.onPointerDown,e=>{const t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),d.thumbs.has(t)?t.focus():i(e)}),onPointerMove:Cn(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&a(e)}),onPointerUp:Cn(e.onPointerUp,e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),s(e))})}))}),Bo="SliderTrack",Vo=k.forwardRef((e,t)=>{const n=e,{__scopeSlider:r}=n,i=g(n,["__scopeSlider"]),a=To(Bo,r);return b.jsx(Sn.span,f(h({"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation},i),{ref:t}))});Vo.displayName=Bo;var Wo="SliderRange",$o=k.forwardRef((e,t)=>{const n=e,{__scopeSlider:r}=n,i=g(n,["__scopeSlider"]),a=To(Wo,r),s=Io(Wo,r),o=et(t,k.useRef(null)),l=a.values.length,c=a.values.map(e=>qo(e,a.min,a.max)),u=l>1?Math.min(...c):0,d=100-Math.max(...c);return b.jsx(Sn.span,f(h({"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0},i),{ref:o,style:f(h({},e.style),{[s.startEdge]:u+"%",[s.endEdge]:d+"%"})}))});$o.displayName=Wo;var Ho="SliderThumb",Ko=k.forwardRef((e,t)=>{const n=Po(e.__scopeSlider),[r,i]=k.useState(null),a=et(t,e=>i(e)),s=k.useMemo(()=>r?n().findIndex(e=>e.ref.current===r):-1,[n,r]);return b.jsx(Uo,f(h({},e),{ref:a,index:s}))}),Uo=k.forwardRef((e,t)=>{const n=e,{__scopeSlider:r,index:i,name:a}=n,s=g(n,["__scopeSlider","index","name"]),o=To(Ho,r),l=Io(Ho,r),[c,u]=k.useState(null),d=et(t,e=>u(e)),m=!c||o.form||!!c.closest("form"),p=Fn(c),v=o.values[i],y=void 0===v?0:qo(v,o.min,o.max),x=function(e,t){return t>2?`Value ${e+1} of ${t}`:2===t?["Minimum","Maximum"][e]:void 0}(i,o.values.length),w=null==p?void 0:p[l.size],_=w?function(e,t,n){const r=e/2,i=Yo([0,50],[0,r]);return(r-i(t)*n)*n}(w,y,l.direction):0;return k.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),b.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${y}% + ${_}px)`},children:[b.jsx(Co.ItemSlot,{scope:e.__scopeSlider,children:b.jsx(Sn.span,f(h({role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":o.min,"aria-valuenow":v,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0},s),{ref:d,style:void 0===v?{display:"none"}:e.style,onFocus:Cn(e.onFocus,()=>{o.valueIndexToChangeRef.current=i})}))}),m&&b.jsx(Go,{name:null!=a?a:o.name?o.name+(o.values.length>1?"[]":""):void 0,form:o.form,value:v},i)]})});Ko.displayName=Ho;var Go=k.forwardRef((e,t)=>{var n=e,{__scopeSlider:r,value:i}=n,a=g(n,["__scopeSlider","value"]);const s=k.useRef(null),o=et(s,t),l=Bn(i);return k.useEffect(()=>{const e=s.current;if(!e)return;const t=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(t,"value").set;if(l!==i&&n){const t=new Event("input",{bubbles:!0});n.call(e,i),e.dispatchEvent(t)}},[l,i]),b.jsx(Sn.input,f(h({style:{display:"none"}},a),{ref:o,defaultValue:i}))});function qo(e,t,n){return $n(100/(n-t)*(e-t),[0,100])}function Yo(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}Go.displayName="RadioBubbleInput";var Xo=Ro,Qo=Vo,Zo=$o,Jo=Ko;k.forwardRef((e,t)=>{var n=e,{className:r}=n,i=g(n,["className"]);return b.jsxs(Xo,f(h({ref:t,className:yn("relative flex w-full touch-none select-none items-center",r)},i),{children:[b.jsx(Qo,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:b.jsx(Zo,{className:"absolute h-full bg-foreground"})}),b.jsx(Jo,{className:"block h-5 w-5 cursor-pointer rounded-full border-2 border-foreground bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}))}).displayName=Xo.displayName;var el="Popover",[tl,nl]=Pn(el,[Vi]),rl=Vi(),[il,al]=tl(el),sl=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:s=!1}=e,o=rl(t),l=k.useRef(null),[c,u]=k.useState(!1),[d,m]=Ln({prop:r,defaultProp:null!=i&&i,onChange:a,caller:el});return b.jsx(ra,f(h({},o),{children:b.jsx(il,{scope:t,contentId:Rn(),triggerRef:l,open:d,onOpenChange:m,onOpenToggle:k.useCallback(()=>m(e=>!e),[m]),hasCustomAnchor:c,onCustomAnchorAdd:k.useCallback(()=>u(!0),[]),onCustomAnchorRemove:k.useCallback(()=>u(!1),[]),modal:s,children:n})}))};sl.displayName=el;var ol="PopoverAnchor";k.forwardRef((e,t)=>{const n=e,{__scopePopover:r}=n,i=g(n,["__scopePopover"]),a=al(ol,r),s=rl(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return k.useEffect(()=>(o(),()=>l()),[o,l]),b.jsx(ia,f(h(h({},s),i),{ref:t}))}).displayName=ol;var ll="PopoverTrigger",cl=k.forwardRef((e,t)=>{const n=e,{__scopePopover:r}=n,i=g(n,["__scopePopover"]),a=al(ll,r),s=rl(r),o=et(t,a.triggerRef),l=b.jsx(Sn.button,f(h({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":wl(a.open)},i),{ref:o,onClick:Cn(e.onClick,a.onOpenToggle)}));return a.hasCustomAnchor?l:b.jsx(ia,f(h({asChild:!0},s),{children:l}))});cl.displayName=ll;var ul="PopoverPortal",[dl,hl]=tl(ul,{forceMount:void 0}),fl=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,a=al(ul,t);return b.jsx(dl,{scope:t,forceMount:n,children:b.jsx(Vn,{present:n||a.open,children:b.jsx(oa,{asChild:!0,container:i,children:r})})})};fl.displayName=ul;var ml="PopoverContent",gl=k.forwardRef((e,t)=>{const n=hl(ml,e.__scopePopover),r=e,{forceMount:i=n.forceMount}=r,a=g(r,["forceMount"]),s=al(ml,e.__scopePopover);return b.jsx(Vn,{present:i||s.open,children:s.modal?b.jsx(vl,f(h({},a),{ref:t})):b.jsx(yl,f(h({},a),{ref:t}))})});gl.displayName=ml;var pl=tt("PopoverContent.RemoveScroll"),vl=k.forwardRef((e,t)=>{const n=al(ml,e.__scopePopover),r=k.useRef(null),i=et(t,r),a=k.useRef(!1);return k.useEffect(()=>{const e=r.current;if(e)return ga(e)},[]),b.jsx(ns,{as:pl,allowPinchZoom:!0,children:b.jsx(xl,f(h({},e),{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Cn(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),a.current||null==(t=n.triggerRef.current)||t.focus()}),onPointerDownOutside:Cn(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,r=2===t.button||n;a.current=r},{checkForDefaultPrevented:!1}),onFocusOutside:Cn(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})}))})}),yl=k.forwardRef((e,t)=>{const n=al(ml,e.__scopePopover),r=k.useRef(!1),i=k.useRef(!1);return b.jsx(xl,f(h({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var a,s;null==(a=e.onCloseAutoFocus)||a.call(e,t),t.defaultPrevented||(r.current||null==(s=n.triggerRef.current)||s.focus(),t.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:t=>{var a,s;null==(a=e.onInteractOutside)||a.call(e,t),t.defaultPrevented||(r.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));const o=t.target;(null==(s=n.triggerRef.current)?void 0:s.contains(o))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}}))}),xl=k.forwardRef((e,t)=>{const n=e,{__scopePopover:r,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d}=n,m=g(n,["__scopePopover","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside"]),p=al(ml,r),v=rl(r);return Jn(),b.jsx(ir,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:a,onUnmountAutoFocus:s,children:b.jsx(Yn,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>p.onOpenChange(!1),children:b.jsx(aa,f(h(h({"data-state":wl(p.open),role:"dialog",id:p.contentId},v),m),{ref:t,style:h(h({},m.style),{"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"})}))})})}),bl="PopoverClose";function wl(e){return e?"open":"closed"}k.forwardRef((e,t)=>{const n=e,{__scopePopover:r}=n,i=g(n,["__scopePopover"]),a=al(bl,r);return b.jsx(Sn.button,f(h({type:"button"},i),{ref:t,onClick:Cn(e.onClick,()=>a.onOpenChange(!1))}))}).displayName=bl,k.forwardRef((e,t)=>{const n=e,{__scopePopover:r}=n,i=g(n,["__scopePopover"]),a=rl(r);return b.jsx(sa,f(h(h({},a),i),{ref:t}))}).displayName="PopoverArrow";var _l=fl,jl=gl;const Nl=sl,kl=cl,Sl=k.forwardRef((e,t)=>{var n=e,{className:r,align:i="center",sideOffset:a=4}=n,s=g(n,["className","align","sideOffset"]);return b.jsx(_l,{children:b.jsx(jl,h({ref:t,align:i,sideOffset:a,className:yn("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none animate-in fade-in-0 zoom-in-95",r)},s))})});function Cl(e){var t=e.width,n=e.height;if(t<0)throw new Error("Negative width is not allowed for Size");if(n<0)throw new Error("Negative height is not allowed for Size");return{width:t,height:n}}function Pl(e,t){return e.width===t.width&&e.height===t.height}Sl.displayName=jl.displayName;var El=function(){function e(e){var t=this;this._resolutionListener=function(){return t._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=e,this._installResolutionListener()}return e.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(e.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),e.prototype.subscribe=function(e){var t=this,n={next:e};return this._observers.push(n),{unsubscribe:function(){t._observers=t._observers.filter(function(e){return e!==n})}}},e.prototype._installResolutionListener=function(){if(null!==this._resolutionMediaQueryList)throw new Error("Resolution listener is already installed");var e=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(e,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},e.prototype._uninstallResolutionListener=function(){null!==this._resolutionMediaQueryList&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},e.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},e.prototype._onResolutionChanged=function(){var e=this;this._observers.forEach(function(t){return t.next(e._window.devicePixelRatio)}),this._reinstallResolutionListener()},e}(),Ml=function(){function e(e,t,n){var r;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=e,this._canvasElementClientSize=Cl({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=null!=t?t:function(e){return e},this._allowResizeObserver=null===(r=null==n?void 0:n.allowResizeObserver)||void 0===r||r,this._chooseAndInitObserver()}return e.prototype.dispose=function(){var e,t;if(null===this._canvasElement)throw new Error("Object is disposed");null===(e=this._canvasElementResizeObserver)||void 0===e||e.disconnect(),this._canvasElementResizeObserver=null,null===(t=this._devicePixelRatioObservable)||void 0===t||t.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(e.prototype,"canvasElement",{get:function(){if(null===this._canvasElement)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bitmapSize",{get:function(){return Cl({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),e.prototype.resizeCanvasElement=function(e){this._canvasElementClientSize=Cl(e),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},e.prototype.subscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners.push(e)},e.prototype.unsubscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(t){return t!==e})},Object.defineProperty(e.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),e.prototype.subscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners.push(e)},e.prototype.unsubscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(t){return t!==e})},e.prototype.applySuggestedBitmapSize=function(){if(null!==this._suggestedBitmapSize){var e=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(e),this._emitSuggestedBitmapSizeChanged(e,this._suggestedBitmapSize)}},e.prototype._resizeBitmap=function(e){var t=this.bitmapSize;Pl(t,e)||(this.canvasElement.width=e.width,this.canvasElement.height=e.height,this._emitBitmapSizeChanged(t,e))},e.prototype._emitBitmapSizeChanged=function(e,t){var n=this;this._bitmapSizeChangedListeners.forEach(function(r){return r.call(n,e,t)})},e.prototype._suggestNewBitmapSize=function(e){var t=this._suggestedBitmapSize,n=Cl(this._transformBitmapSize(e,this._canvasElementClientSize)),r=Pl(this.bitmapSize,n)?null:n;null===t&&null===r||null!==t&&null!==r&&Pl(t,r)||(this._suggestedBitmapSize=r,this._emitSuggestedBitmapSizeChanged(t,r))},e.prototype._emitSuggestedBitmapSizeChanged=function(e,t){var n=this;this._suggestedBitmapSizeChangedListeners.forEach(function(r){return r.call(n,e,t)})},e.prototype._chooseAndInitObserver=function(){var e=this;this._allowResizeObserver?new Promise(function(e){var t=new ResizeObserver(function(n){e(n.every(function(e){return"devicePixelContentBoxSize"in e})),t.disconnect()});t.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1}).then(function(t){return t?e._initResizeObserver():e._initDevicePixelRatioObservable()}):this._initDevicePixelRatioObservable()},e.prototype._initDevicePixelRatioObservable=function(){var e=this;if(null!==this._canvasElement){var t=Ol(this._canvasElement);if(null===t)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=function(e){return new El(e)}(t),this._devicePixelRatioObservable.subscribe(function(){return e._invalidateBitmapSize()}),this._invalidateBitmapSize()}},e.prototype._invalidateBitmapSize=function(){var e,t;if(null!==this._canvasElement){var n=Ol(this._canvasElement);if(null!==n){var r=null!==(t=null===(e=this._devicePixelRatioObservable)||void 0===e?void 0:e.value)&&void 0!==t?t:n.devicePixelRatio,i=this._canvasElement.getClientRects(),a=void 0!==i[0]?function(e,t){return Cl({width:Math.round(e.left*t+e.width*t)-Math.round(e.left*t),height:Math.round(e.top*t+e.height*t)-Math.round(e.top*t)})}(i[0],r):Cl({width:this._canvasElementClientSize.width*r,height:this._canvasElementClientSize.height*r});this._suggestNewBitmapSize(a)}}},e.prototype._initResizeObserver=function(){var e=this;null!==this._canvasElement&&(this._canvasElementResizeObserver=new ResizeObserver(function(t){var n=t.find(function(t){return t.target===e._canvasElement});if(n&&n.devicePixelContentBoxSize&&n.devicePixelContentBoxSize[0]){var r=n.devicePixelContentBoxSize[0],i=Cl({width:r.inlineSize,height:r.blockSize});e._suggestNewBitmapSize(i)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},e}();function Ol(e){return e.ownerDocument.defaultView}var Al=function(){function e(e,t,n){if(0===t.width||0===t.height)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=t,0===n.width||0===n.height)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=n,this._context=e}return e.prototype.useMediaCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),e({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},e.prototype.useBitmapCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),e({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(e.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),e}();function Tl(e,t){var n=e.canvasElementClientSize;if(0===n.width||0===n.height)return null;var r=e.bitmapSize;if(0===r.width||0===r.height)return null;var i=e.canvasElement.getContext("2d",t);return null===i?null:new Al(i,n,r)}
/*!
     * @license
     * TradingView Lightweight Charts™ v5.0.8
     * Copyright (c) 2025 TradingView, Inc.
     * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
     */const Rl={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var Dl,Il,Ll;function zl(e,t){const n={0:[],1:[e.lineWidth,e.lineWidth],2:[2*e.lineWidth,2*e.lineWidth],3:[6*e.lineWidth,6*e.lineWidth],4:[e.lineWidth,4*e.lineWidth]}[t];e.setLineDash(n)}function Fl(e,t,n,r){e.beginPath();const i=e.lineWidth%2?.5:0;e.moveTo(n,t+i),e.lineTo(r,t+i),e.stroke()}function Bl(e,t){if(!e)throw new Error("Assertion failed"+(t?": "+t:""))}function Vl(e){if(void 0===e)throw new Error("Value is undefined");return e}function Wl(e){if(null===e)throw new Error("Value is null");return e}function $l(e){return Wl(Vl(e))}(Ll=Dl||(Dl={}))[Ll.Simple=0]="Simple",Ll[Ll.WithSteps=1]="WithSteps",Ll[Ll.Curved=2]="Curved",function(e){e[e.Solid=0]="Solid",e[e.Dotted=1]="Dotted",e[e.Dashed=2]="Dashed",e[e.LargeDashed=3]="LargeDashed",e[e.SparseDotted=4]="SparseDotted"}(Il||(Il={}));class Hl{constructor(){this.t=[]}i(e,t,n){const r={h:e,l:t,o:!0===n};this.t.push(r)}_(e){const t=this.t.findIndex(t=>e===t.h);t>-1&&this.t.splice(t,1)}u(e){this.t=this.t.filter(t=>t.l!==e)}p(e,t,n){const r=[...this.t];this.t=this.t.filter(e=>!e.o),r.forEach(r=>r.h(e,t,n))}v(){return this.t.length>0}m(){this.t=[]}}function Kl(e,...t){for(const n of t)for(const t in n)void 0!==n[t]&&Object.prototype.hasOwnProperty.call(n,t)&&!["__proto__","constructor","prototype"].includes(t)&&("object"!=typeof n[t]||void 0===e[t]||Array.isArray(n[t])?e[t]=n[t]:Kl(e[t],n[t]));return e}function Ul(e){return"number"==typeof e&&isFinite(e)}function Gl(e){return"number"==typeof e&&e%1==0}function ql(e){return"string"==typeof e}function Yl(e){return"boolean"==typeof e}function Xl(e){const t=e;if(!t||"object"!=typeof t)return t;let n,r,i;for(r in n=Array.isArray(t)?[]:{},t)t.hasOwnProperty(r)&&(i=t[r],n[r]=i&&"object"==typeof i?Xl(i):i);return n}function Ql(e){return null!==e}function Zl(e){return null===e?void 0:e}const Jl="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function ec(e,t,n){return void 0===t&&(t=Jl),`${n=void 0!==n?`${n} `:""}${e}px ${t}`}let tc=class{constructor(e){this.M={S:1,C:5,P:NaN,k:"",T:"",R:"",D:"",V:0,I:0,B:0,A:0,L:0},this.O=e}N(){const e=this.M,t=this.F(),n=this.W();return e.P===t&&e.T===n||(e.P=t,e.T=n,e.k=ec(t,n),e.A=2.5/12*t,e.V=e.A,e.I=t/12*e.C,e.B=t/12*e.C,e.L=0),e.R=this.H(),e.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}F(){return this.O.N().layout.fontSize}W(){return this.O.N().layout.fontFamily}};function nc(e){return e<0?0:e>255?255:Math.round(e)||0}function rc(e){return.199*e[0]+.687*e[1]+.114*e[2]}let ic=class{constructor(e,t){this.q=new Map,this.Y=e,t&&(this.q=t)}j(e,t){if("transparent"===e)return e;const n=this.K(e),r=n[3];return`rgba(${n[0]}, ${n[1]}, ${n[2]}, ${t*r})`}X(e){const t=this.K(e);return{Z:`rgb(${t[0]}, ${t[1]}, ${t[2]})`,G:rc(t)>160?"black":"white"}}J(e){return rc(this.K(e))}tt(e,t,n){const[r,i,a,s]=this.K(e),[o,l,c,u]=this.K(t),d=[nc(r+n*(o-r)),nc(i+n*(l-i)),nc(a+n*(c-a)),(h=s+n*(u-s),h<=0||h>1?Math.min(Math.max(h,0),1):Math.round(1e4*h)/1e4)];var h;return`rgba(${d[0]}, ${d[1]}, ${d[2]}, ${d[3]})`}K(e){const t=this.q.get(e);if(t)return t;const n=function(e){const t=document.createElement("div");t.style.display="none",document.body.appendChild(t),t.style.color=e;const n=window.getComputedStyle(t).color;return document.body.removeChild(t),n}(e).match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!n){if(this.Y.length)for(const t of this.Y){const n=t(e);if(n)return this.q.set(e,n),n}throw new Error(`Failed to parse color: ${e}`)}const r=[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),n[4]?parseFloat(n[4]):1];return this.q.set(e,r),r}},ac=class{constructor(){this.it=[]}st(e){this.it=e}nt(e,t,n){this.it.forEach(r=>{r.nt(e,t,n)})}};class sc{nt(e,t,n){e.useBitmapCoordinateSpace(e=>this.et(e,t,n))}}let oc=class extends sc{constructor(){super(...arguments),this.rt=null}ht(e){this.rt=e}et({context:e,horizontalPixelRatio:t,verticalPixelRatio:n}){if(null===this.rt||null===this.rt.lt)return;const r=this.rt.lt,i=this.rt,a=Math.max(1,Math.floor(t))%2/2,s=s=>{e.beginPath();for(let o=r.to-1;o>=r.from;--o){const r=i.ot[o],l=Math.round(r._t*t)+a,c=r.ut*n,u=s*n+a;e.moveTo(l,c),e.arc(l,c,u,0,2*Math.PI)}e.fill()};i.ct>0&&(e.fillStyle=i.dt,s(i.ft+i.ct)),e.fillStyle=i.vt,s(i.ft)}};function lc(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:"",dt:"",ft:0,ct:0,lt:null}}const cc={from:0,to:1};let uc=class{constructor(e,t,n){this.Mt=new ac,this.bt=[],this.St=[],this.xt=!0,this.O=e,this.Ct=t,this.Pt=n,this.Mt.st(this.bt)}kt(e){this.yt(),this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Mt}yt(){const e=this.Pt.Dt();e.length!==this.bt.length&&(this.St=e.map(lc),this.bt=this.St.map(e=>{const t=new oc;return t.ht(e),t}),this.Mt.st(this.bt))}Rt(){const e=2===this.Ct.N().mode||!this.Ct.Vt(),t=this.Pt.It(),n=this.Ct.Bt(),r=this.O.Et();this.yt(),t.forEach((t,i)=>{var a;const s=this.St[i],o=t.At(n),l=t.zt();!e&&null!==o&&t.Vt()&&null!==l?(s.vt=o.Lt,s.ft=o.ft,s.ct=o.Ot,s.ot[0].gt=o.gt,s.ot[0].ut=t.Ft().Nt(o.gt,l.Wt),s.dt=null!=(a=o.Ht)?a:this.O.Ut(s.ot[0].ut/t.Ft().$t()),s.ot[0].wt=n,s.ot[0]._t=r.qt(n),s.lt=cc):s.lt=null})}},dc=class extends sc{constructor(e){super(),this.Yt=e}et({context:e,bitmapSize:t,horizontalPixelRatio:n,verticalPixelRatio:r}){if(null===this.Yt)return;const i=this.Yt.jt.Vt,a=this.Yt.Kt.Vt;if(!i&&!a)return;const s=Math.round(this.Yt._t*n),o=Math.round(this.Yt.ut*r);e.lineCap="butt",i&&s>=0&&(e.lineWidth=Math.floor(this.Yt.jt.ct*n),e.strokeStyle=this.Yt.jt.R,e.fillStyle=this.Yt.jt.R,zl(e,this.Yt.jt.Xt),function(e,t,n,r){e.beginPath();const i=e.lineWidth%2?.5:0;e.moveTo(t+i,0),e.lineTo(t+i,r),e.stroke()}(e,s,0,t.height)),a&&o>=0&&(e.lineWidth=Math.floor(this.Yt.Kt.ct*r),e.strokeStyle=this.Yt.Kt.R,e.fillStyle=this.Yt.Kt.R,zl(e,this.Yt.Kt.Xt),Fl(e,o,0,t.width))}},hc=class{constructor(e,t){this.xt=!0,this.Zt={jt:{ct:1,Xt:0,R:"",Vt:!1},Kt:{ct:1,Xt:0,R:"",Vt:!1},_t:0,ut:0},this.Gt=new dc(this.Zt),this.Jt=e,this.Pt=t}kt(){this.xt=!0}Tt(e){return this.xt&&(this.Rt(),this.xt=!1),this.Gt}Rt(){const e=this.Jt.Vt(),t=this.Pt.Qt().N().crosshair,n=this.Zt;if(2===t.mode)return n.Kt.Vt=!1,void(n.jt.Vt=!1);n.Kt.Vt=e&&this.Jt.ti(this.Pt),n.jt.Vt=e&&this.Jt.ii(),n.Kt.ct=t.horzLine.width,n.Kt.Xt=t.horzLine.style,n.Kt.R=t.horzLine.color,n.jt.ct=t.vertLine.width,n.jt.Xt=t.vertLine.style,n.jt.R=t.vertLine.color,n._t=this.Jt.si(),n.ut=this.Jt.ni()}};function fc(e,t,n,r,i,a){e.save(),e.globalCompositeOperation="copy",e.fillStyle=a,e.fillRect(t,n,r,i),e.restore()}function mc(e,t,n,r,i,a){e.beginPath(),e.roundRect?e.roundRect(t,n,r,i,a):(e.lineTo(t+r-a[1],n),0!==a[1]&&e.arcTo(t+r,n,t+r,n+a[1],a[1]),e.lineTo(t+r,n+i-a[2]),0!==a[2]&&e.arcTo(t+r,n+i,t+r-a[2],n+i,a[2]),e.lineTo(t+a[3],n+i),0!==a[3]&&e.arcTo(t,n+i,t,n+i-a[3],a[3]),e.lineTo(t,n+a[0]),0!==a[0]&&e.arcTo(t,n,t+a[0],n,a[0]))}function gc(e,t,n,r,i,a,s=0,o=[0,0,0,0],l=""){if(e.save(),!s||!l||l===a)return mc(e,t,n,r,i,o),e.fillStyle=a,e.fill(),void e.restore();const c=s/2;var u;mc(e,t+c,n+c,r-s,i-s,(u=-c,o.map(e=>0===e?e:e+u))),"transparent"!==a&&(e.fillStyle=a,e.fill()),"transparent"!==l&&(e.lineWidth=s,e.strokeStyle=l,e.closePath(),e.stroke()),e.restore()}function pc(e,t,n,r,i,a,s){e.save(),e.globalCompositeOperation="copy";const o=e.createLinearGradient(0,0,0,i);o.addColorStop(0,a),o.addColorStop(1,s),e.fillStyle=o,e.fillRect(t,n,r,i),e.restore()}let vc=class{constructor(e,t){this.ht(e,t)}ht(e,t){this.Yt=e,this.ei=t}$t(e,t){return this.Yt.Vt?e.P+e.A+e.V:0}nt(e,t,n,r){if(!this.Yt.Vt||0===this.Yt.ri.length)return;const i=this.Yt.R,a=this.ei.Z,s=e.useBitmapCoordinateSpace(e=>{const s=e.context;s.font=t.k;const o=this.hi(e,t,n,r),l=o.ai;return o.li?gc(s,l.oi,l._i,l.ui,l.ci,a,l.di,[l.ft,0,0,l.ft],a):gc(s,l.fi,l._i,l.ui,l.ci,a,l.di,[0,l.ft,l.ft,0],a),this.Yt.pi&&(s.fillStyle=i,s.fillRect(l.fi,l.mi,l.wi-l.fi,l.gi)),this.Yt.Mi&&(s.fillStyle=t.D,s.fillRect(o.li?l.bi-l.di:0,l._i,l.di,l.Si-l._i)),o});e.useMediaCoordinateSpace(({context:e})=>{const n=s.xi;e.font=t.k,e.textAlign=s.li?"right":"left",e.textBaseline="middle",e.fillStyle=i,e.fillText(this.Yt.ri,n.Ci,(n._i+n.Si)/2+n.Pi)})}hi(e,t,n,r){var i;const{context:a,bitmapSize:s,mediaSize:o,horizontalPixelRatio:l,verticalPixelRatio:c}=e,u=this.Yt.pi||!this.Yt.ki?t.C:0,d=this.Yt.yi?t.S:0,h=t.A+this.ei.Ti,f=t.V+this.ei.Ri,m=t.I,g=t.B,p=this.Yt.ri,v=t.P,y=n.Di(a,p),x=Math.ceil(n.Vi(a,p)),b=v+h+f,w=t.S+m+g+x+u,_=Math.max(1,Math.floor(c));let j=Math.round(b*c);j%2!=_%2&&(j+=1);const N=d>0?Math.max(1,Math.floor(d*l)):0,k=Math.round(w*l),S=Math.round(u*l),C=null!=(i=this.ei.Ii)?i:this.ei.Bi,P=Math.round(C*c)-Math.floor(.5*c),E=Math.floor(P+_/2-j/2),M=E+j,O="right"===r,A=O?o.width-d:d,T=O?s.width-N:N;let R,D,I;return O?(R=T-k,D=T-S,I=A-u-m-d):(R=T+k,D=T+S,I=A+u+m),{li:O,ai:{_i:E,mi:P,Si:M,ui:k,ci:j,ft:2*l,di:N,oi:R,fi:T,wi:D,gi:_,bi:s.width},xi:{_i:E/c,Si:M/c,Ci:I,Pi:y}}}},yc=class{constructor(e){this.Ei={Bi:0,Z:"#000",Ri:0,Ti:0},this.Ai={ri:"",Vt:!1,pi:!0,ki:!1,Ht:"",R:"#FFF",Mi:!1,yi:!1},this.zi={ri:"",Vt:!1,pi:!1,ki:!0,Ht:"",R:"#FFF",Mi:!0,yi:!0},this.xt=!0,this.Li=new(e||vc)(this.Ai,this.Ei),this.Oi=new(e||vc)(this.zi,this.Ei)}ri(){return this.Ni(),this.Ai.ri}Bi(){return this.Ni(),this.Ei.Bi}kt(){this.xt=!0}$t(e,t=!1){return Math.max(this.Li.$t(e,t),this.Oi.$t(e,t))}Fi(){return this.Ei.Ii||0}Wi(e){this.Ei.Ii=e}Hi(){return this.Ni(),this.Ai.Vt||this.zi.Vt}Ui(){return this.Ni(),this.Ai.Vt}Tt(e){return this.Ni(),this.Ai.pi=this.Ai.pi&&e.N().ticksVisible,this.zi.pi=this.zi.pi&&e.N().ticksVisible,this.Li.ht(this.Ai,this.Ei),this.Oi.ht(this.zi,this.Ei),this.Li}$i(){return this.Ni(),this.Li.ht(this.Ai,this.Ei),this.Oi.ht(this.zi,this.Ei),this.Oi}Ni(){this.xt&&(this.Ai.pi=!0,this.zi.pi=!1,this.qi(this.Ai,this.zi,this.Ei))}},xc=class extends yc{constructor(e,t,n){super(),this.Jt=e,this.Yi=t,this.ji=n}qi(e,t,n){if(e.Vt=!1,2===this.Jt.N().mode)return;const r=this.Jt.N().horzLine;if(!r.labelVisible)return;const i=this.Yi.zt();if(!this.Jt.Vt()||this.Yi.Ki()||null===i)return;const a=this.Yi.Xi().X(r.labelBackgroundColor);n.Z=a.Z,e.R=a.G;const s=2/12*this.Yi.P();n.Ti=s,n.Ri=s;const o=this.ji(this.Yi);n.Bi=o.Bi,e.ri=this.Yi.Zi(o.gt,i),e.Vt=!0}};const bc=/[1-9]/g;class wc{constructor(){this.Yt=null}ht(e){this.Yt=e}nt(e,t){if(null===this.Yt||!1===this.Yt.Vt||0===this.Yt.ri.length)return;const n=e.useMediaCoordinateSpace(({context:e})=>(e.font=t.k,Math.round(t.Gi.Vi(e,Wl(this.Yt).ri,bc))));if(n<=0)return;const r=t.Ji,i=n+2*r,a=i/2,s=this.Yt.Qi;let o=this.Yt.Bi,l=Math.floor(o-a)+.5;l<0?(o+=Math.abs(0-l),l=Math.floor(o-a)+.5):l+i>s&&(o-=Math.abs(s-(l+i)),l=Math.floor(o-a)+.5);const c=l+i,u=Math.ceil(0+t.S+t.C+t.A+t.P+t.V);e.useBitmapCoordinateSpace(({context:e,horizontalPixelRatio:n,verticalPixelRatio:r})=>{const i=Wl(this.Yt);e.fillStyle=i.Z;const a=Math.round(l*n),s=Math.round(0*r),o=Math.round(c*n),d=Math.round(u*r),h=Math.round(2*n);if(e.beginPath(),e.moveTo(a,s),e.lineTo(a,d-h),e.arcTo(a,d,a+h,d,h),e.lineTo(o-h,d),e.arcTo(o,d,o,d-h,h),e.lineTo(o,s),e.fill(),i.pi){const a=Math.round(i.Bi*n),o=s,l=Math.round((o+t.C)*r);e.fillStyle=i.R;const c=Math.max(1,Math.floor(n)),u=Math.floor(.5*n);e.fillRect(a-u,o,c,l-o)}}),e.useMediaCoordinateSpace(({context:e})=>{const n=Wl(this.Yt),i=0+t.S+t.C+t.A+t.P/2;e.font=t.k,e.textAlign="left",e.textBaseline="middle",e.fillStyle=n.R;const a=t.Gi.Di(e,"Apr0");e.translate(l+r,i+a),e.fillText(n.ri,0,0)})}}let _c=class{constructor(e,t,n){this.xt=!0,this.Gt=new wc,this.Zt={Vt:!1,Z:"#4c525e",R:"white",ri:"",Qi:0,Bi:NaN,pi:!0},this.Ct=e,this.ts=t,this.ji=n}kt(){this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Gt.ht(this.Zt),this.Gt}Rt(){const e=this.Zt;if(e.Vt=!1,2===this.Ct.N().mode)return;const t=this.Ct.N().vertLine;if(!t.labelVisible)return;const n=this.ts.Et();if(n.Ki())return;e.Qi=n.Qi();const r=this.ji();if(null===r)return;e.Bi=r.Bi;const i=n.ss(this.Ct.Bt());e.ri=n.ns(Wl(i)),e.Vt=!0;const a=this.ts.Xi().X(t.labelBackgroundColor);e.Z=a.Z,e.R=a.G,e.pi=n.N().ticksVisible}};class jc{constructor(){this.es=null,this.rs=0}hs(){return this.rs}ls(e){this.rs=e}Ft(){return this.es}_s(e){this.es=e}us(e){return[]}cs(){return[]}Vt(){return!0}}var Nc;!function(e){e[e.Normal=0]="Normal",e[e.Magnet=1]="Magnet",e[e.Hidden=2]="Hidden",e[e.MagnetOHLC=3]="MagnetOHLC"}(Nc||(Nc={}));let kc=class extends jc{constructor(e,t){super(),this.Pt=null,this.ds=NaN,this.fs=0,this.ps=!1,this.vs=new Map,this.ws=!1,this.gs=new WeakMap,this.Ms=new WeakMap,this.bs=NaN,this.Ss=NaN,this.xs=NaN,this.Cs=NaN,this.ts=e,this.Ps=t,this.ks=((e,t)=>n=>{const r=t(),i=e();if(n===Wl(this.Pt).ys())return{gt:i,Bi:r};{const e=Wl(n.zt());return{gt:n.Ts(r,e),Bi:r}}})(()=>this.ds,()=>this.Ss);const n=((e,t)=>()=>{const n=this.ts.Et().Rs(e()),r=t();return n&&Number.isFinite(r)?{wt:n,Bi:r}:null})(()=>this.fs,()=>this.si());this.Ds=new _c(this,e,n)}N(){return this.Ps}Vs(e,t){this.xs=e,this.Cs=t}Is(){this.xs=NaN,this.Cs=NaN}Bs(){return this.xs}Es(){return this.Cs}As(e,t,n){this.ws||(this.ws=!0),this.ps=!0,this.zs(e,t,n)}Bt(){return this.fs}si(){return this.bs}ni(){return this.Ss}Vt(){return this.ps}Ls(){this.ps=!1,this.Os(),this.ds=NaN,this.bs=NaN,this.Ss=NaN,this.Pt=null,this.Is(),this.Ns()}Fs(e){let t=this.gs.get(e);t||(t=new hc(this,e),this.gs.set(e,t));let n=this.Ms.get(e);return n||(n=new uc(this.ts,this,e),this.Ms.set(e,n)),[t,n]}ti(e){return e===this.Pt&&this.Ps.horzLine.visible}ii(){return this.Ps.vertLine.visible}Ws(e,t){this.ps&&this.Pt===e||this.vs.clear();const n=[];return this.Pt===e&&n.push(this.Hs(this.vs,t,this.ks)),n}cs(){return this.ps?[this.Ds]:[]}Us(){return this.Pt}Ns(){this.ts.$s().forEach(e=>{var t,n;null==(t=this.gs.get(e))||t.kt(),null==(n=this.Ms.get(e))||n.kt()}),this.vs.forEach(e=>e.kt()),this.Ds.kt()}qs(e){return e&&!e.ys().Ki()?e.ys():null}zs(e,t,n){this.Ys(e,t,n)&&this.Ns()}Ys(e,t,n){const r=this.bs,i=this.Ss,a=this.ds,s=this.fs,o=this.Pt,l=this.qs(n);this.fs=e,this.bs=isNaN(e)?NaN:this.ts.Et().qt(e),this.Pt=n;const c=null!==l?l.zt():null;return null!==l&&null!==c?(this.ds=t,this.Ss=l.Nt(t,c)):(this.ds=NaN,this.Ss=NaN),r!==this.bs||i!==this.Ss||s!==this.fs||a!==this.ds||o!==this.Pt}Os(){const e=this.ts.js().map(e=>e.Xs().Ks()).filter(Ql),t=0===e.length?null:Math.max(...e);this.fs=null!==t?t:NaN}Hs(e,t,n){let r=e.get(t);return void 0===r&&(r=new xc(this,t,n),e.set(t,r)),r}};function Sc(e){return"left"===e||"right"===e}let Cc=class e{constructor(e){this.Zs=new Map,this.Gs=[],this.Js=e}Qs(e,t){const n=(r=this.Zs.get(e),i=t,void 0===r?i:{tn:Math.max(r.tn,i.tn),sn:r.sn||i.sn});var r,i;this.Zs.set(e,n)}nn(){return this.Js}en(e){const t=this.Zs.get(e);return void 0===t?{tn:this.Js}:{tn:Math.max(this.Js,t.tn),sn:t.sn}}rn(){this.hn(),this.Gs=[{an:0}]}ln(e){this.hn(),this.Gs=[{an:1,Wt:e}]}_n(e){this.un(),this.Gs.push({an:5,Wt:e})}hn(){this.un(),this.Gs.push({an:6})}cn(){this.hn(),this.Gs=[{an:4}]}dn(e){this.hn(),this.Gs.push({an:2,Wt:e})}fn(e){this.hn(),this.Gs.push({an:3,Wt:e})}pn(){return this.Gs}vn(e){for(const t of e.Gs)this.mn(t);this.Js=Math.max(this.Js,e.Js),e.Zs.forEach((e,t)=>{this.Qs(t,e)})}static wn(){return new e(2)}static gn(){return new e(3)}mn(e){switch(e.an){case 0:this.rn();break;case 1:this.ln(e.Wt);break;case 2:this.dn(e.Wt);break;case 3:this.fn(e.Wt);break;case 4:this.cn();break;case 5:this._n(e.Wt);break;case 6:this.un()}}un(){const e=this.Gs.findIndex(e=>5===e.an);-1!==e&&this.Gs.splice(e,1)}},Pc=class{formatTickmarks(e){return e.map(e=>this.format(e))}};function Ec(e,t){if(!Ul(e))return"n/a";if(!Gl(t))throw new TypeError("invalid length");if(t<0||t>16)throw new TypeError("invalid length");return 0===t?e.toString():("0000000000000000"+e.toString()).slice(-t)}class Mc extends Pc{constructor(e,t){if(super(),t||(t=1),Ul(e)&&Gl(e)||(e=100),e<0)throw new TypeError("invalid base");this.Yi=e,this.Mn=t,this.bn()}format(e){const t=e<0?"−":"";return e=Math.abs(e),t+this.Sn(e)}bn(){if(this.xn=0,this.Yi>0&&this.Mn>0){let e=this.Yi;for(;e>1;)e/=10,this.xn++}}Sn(e){const t=this.Yi/this.Mn;let n=Math.floor(e),r="";const i=void 0!==this.xn?this.xn:NaN;if(t>1){let a=+(Math.round(e*t)-n*t).toFixed(this.xn);a>=t&&(a-=t,n+=1),r="."+Ec(+a.toFixed(this.xn)*this.Mn,i)}else n=Math.round(n*t)/t,i>0&&(r="."+Ec(0,i));return n.toFixed(0)+r}}class Oc extends Mc{constructor(e=100){super(e)}format(e){return`${super.format(e)}%`}}class Ac extends Pc{constructor(e){super(),this.Cn=e}format(e){let t="";return e<0&&(t="-",e=-e),e<995?t+this.Pn(e):e<999995?t+this.Pn(e/1e3)+"K":e<999999995?(e=1e3*Math.round(e/1e3),t+this.Pn(e/1e6)+"M"):(e=1e6*Math.round(e/1e6),t+this.Pn(e/1e9)+"B")}Pn(e){let t;const n=Math.pow(10,this.Cn);return t=(e=Math.round(e*n)/n)>=1e-15&&e<1?e.toFixed(this.Cn).replace(/\.?0+$/,""):String(e),t.replace(/(\.[1-9]*)0+$/,(e,t)=>t)}}const Tc=/[2-9]/g;class Rc{constructor(e=50){this.kn=0,this.yn=1,this.Tn=1,this.Rn={},this.Dn=new Map,this.Vn=e}In(){this.kn=0,this.Dn.clear(),this.yn=1,this.Tn=1,this.Rn={}}Vi(e,t,n){return this.Bn(e,t,n).width}Di(e,t,n){const r=this.Bn(e,t,n);return((r.actualBoundingBoxAscent||0)-(r.actualBoundingBoxDescent||0))/2}Bn(e,t,n){const r=n||Tc,i=String(t).replace(r,"0");if(this.Dn.has(i))return Vl(this.Dn.get(i)).En;if(this.kn===this.Vn){const e=this.Rn[this.Tn];delete this.Rn[this.Tn],this.Dn.delete(e),this.Tn++,this.kn--}e.save(),e.textBaseline="middle";const a=e.measureText(i);return e.restore(),0===a.width&&t.length||(this.Dn.set(i,{En:a,An:this.yn}),this.Rn[this.yn]=i,this.kn++,this.yn++),a}}class Dc{constructor(e){this.zn=null,this.M=null,this.Ln="right",this.On=e}Nn(e,t,n){this.zn=e,this.M=t,this.Ln=n}nt(e){null!==this.M&&null!==this.zn&&this.zn.nt(e,this.M,this.On,this.Ln)}}class Ic{constructor(e,t,n){this.Fn=e,this.On=new Rc(50),this.Wn=t,this.O=n,this.F=-1,this.Gt=new Dc(this.On)}Tt(){const e=this.O.Hn(this.Wn);if(null===e)return null;const t=e.Un(this.Wn)?e.$n():this.Wn.Ft();if(null===t)return null;const n=e.qn(t);if("overlay"===n)return null;const r=this.O.Yn();return r.P!==this.F&&(this.F=r.P,this.On.In()),this.Gt.Nn(this.Fn.$i(),r,n),this.Gt}}class Lc extends sc{constructor(){super(...arguments),this.Yt=null}ht(e){this.Yt=e}jn(e,t){var n;if(!(null==(n=this.Yt)?void 0:n.Vt))return null;const{ut:r,ct:i,Kn:a}=this.Yt;return t>=r-i-7&&t<=r+i+7?{Xn:this.Yt,Kn:a}:null}et({context:e,bitmapSize:t,horizontalPixelRatio:n,verticalPixelRatio:r}){if(null===this.Yt)return;if(!1===this.Yt.Vt)return;const i=Math.round(this.Yt.ut*r);i<0||i>t.height||(e.lineCap="butt",e.strokeStyle=this.Yt.R,e.lineWidth=Math.floor(this.Yt.ct*n),zl(e,this.Yt.Xt),Fl(e,i,0,t.width))}}class zc{constructor(e){this.Zn={ut:0,R:"rgba(0, 0, 0, 0)",ct:1,Xt:0,Vt:!1},this.Gn=new Lc,this.xt=!0,this.Jn=e,this.Qn=e.Qt(),this.Gn.ht(this.Zn)}kt(){this.xt=!0}Tt(){return this.Jn.Vt()?(this.xt&&(this.te(),this.xt=!1),this.Gn):null}}class Fc extends zc{constructor(e){super(e)}te(){this.Zn.Vt=!1;const e=this.Jn.Ft(),t=e.ie().ie;if(2!==t&&3!==t)return;const n=this.Jn.N();if(!n.baseLineVisible||!this.Jn.Vt())return;const r=this.Jn.zt();null!==r&&(this.Zn.Vt=!0,this.Zn.ut=e.Nt(r.Wt,r.Wt),this.Zn.R=n.baseLineColor,this.Zn.ct=n.baseLineWidth,this.Zn.Xt=n.baseLineStyle)}}class Bc extends sc{constructor(){super(...arguments),this.Yt=null}ht(e){this.Yt=e}se(){return this.Yt}et({context:e,horizontalPixelRatio:t,verticalPixelRatio:n}){const r=this.Yt;if(null===r)return;const i=Math.max(1,Math.floor(t)),a=i%2/2,s=Math.round(r.ne.x*t)+a,o=r.ne.y*n;e.fillStyle=r.ee,e.beginPath();const l=Math.max(2,1.5*r.re)*t;e.arc(s,o,l,0,2*Math.PI,!1),e.fill(),e.fillStyle=r.he,e.beginPath(),e.arc(s,o,r.ft*t,0,2*Math.PI,!1),e.fill(),e.lineWidth=i,e.strokeStyle=r.ae,e.beginPath(),e.arc(s,o,r.ft*t+i/2,0,2*Math.PI,!1),e.stroke()}}const Vc=[{le:0,oe:.25,_e:4,ue:10,ce:.25,de:0,fe:.4,pe:.8},{le:.25,oe:.525,_e:10,ue:14,ce:0,de:0,fe:.8,pe:0},{le:.525,oe:1,_e:14,ue:14,ce:0,de:0,fe:0,pe:0}];class Wc{constructor(e){this.Gt=new Bc,this.xt=!0,this.ve=!0,this.me=performance.now(),this.we=this.me-1,this.ge=e}Me(){this.we=this.me-1,this.kt()}be(){if(this.kt(),2===this.ge.N().lastPriceAnimation){const e=performance.now(),t=this.we-e;if(t>0)return void(t<650&&(this.we+=2600));this.me=e,this.we=e+2600}}kt(){this.xt=!0}Se(){this.ve=!0}Vt(){return 0!==this.ge.N().lastPriceAnimation}xe(){switch(this.ge.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.we}}Tt(){return this.xt?(this.Rt(),this.xt=!1,this.ve=!1):this.ve&&(this.Ce(),this.ve=!1),this.Gt}Rt(){this.Gt.ht(null);const e=this.ge.Qt().Et(),t=e.Pe(),n=this.ge.zt();if(null===t||null===n)return;const r=this.ge.ke(!0);if(r.ye||!t.Te(r.Re))return;const i={x:e.qt(r.Re),y:this.ge.Ft().Nt(r.gt,n.Wt)},a=r.R,s=this.ge.N().lineWidth,o=this.De(this.Ve(),a);this.Gt.ht({ee:a,re:s,he:o.he,ae:o.ae,ft:o.ft,ne:i})}Ce(){const e=this.Gt.se();if(null!==e){const t=this.De(this.Ve(),e.ee);e.he=t.he,e.ae=t.ae,e.ft=t.ft}}Ve(){return this.xe()?performance.now()-this.me:2599}Ie(e,t,n,r){const i=n+(r-n)*t;return this.ge.Qt().Xi().j(e,i)}De(e,t){const n=e%2600/2600;let r;for(const l of Vc)if(n>=l.le&&n<=l.oe){r=l;break}Bl(void 0!==r,"Last price animation internal logic error");const i=(n-r.le)/(r.oe-r.le);return{he:this.Ie(t,i,r.ce,r.de),ae:this.Ie(t,i,r.fe,r.pe),ft:(a=i,s=r._e,o=r.ue,s+(o-s)*a)};var a,s,o}}class $c extends zc{constructor(e){super(e)}te(){const e=this.Zn;e.Vt=!1;const t=this.Jn.N();if(!t.priceLineVisible||!this.Jn.Vt())return;const n=this.Jn.ke(0===t.priceLineSource);n.ye||(e.Vt=!0,e.ut=n.Bi,e.R=this.Jn.Be(n.R),e.ct=t.priceLineWidth,e.Xt=t.priceLineStyle)}}class Hc extends yc{constructor(e){super(),this.Jt=e}qi(e,t,n){e.Vt=!1,t.Vt=!1;const r=this.Jt;if(!r.Vt())return;const i=r.N(),a=i.lastValueVisible,s=""!==r.Ee(),o=0===i.seriesLastValueMode,l=r.ke(!1);if(l.ye)return;a&&(e.ri=this.Ae(l,a,o),e.Vt=0!==e.ri.length),(s||o)&&(t.ri=this.ze(l,a,s,o),t.Vt=t.ri.length>0);const c=r.Be(l.R),u=this.Jt.Qt().Xi().X(c);n.Z=u.Z,n.Bi=l.Bi,t.Ht=r.Qt().Ut(l.Bi/r.Ft().$t()),e.Ht=c,e.R=u.G,t.R=u.G}ze(e,t,n,r){let i="";const a=this.Jt.Ee();return n&&0!==a.length&&(i+=`${a} `),t&&r&&(i+=this.Jt.Ft().Le()?e.Oe:e.Ne),i.trim()}Ae(e,t,n){return t?n?this.Jt.Ft().Le()?e.Ne:e.Oe:e.ri:""}}function Kc(e,t,n,r){const i=Number.isFinite(t),a=Number.isFinite(n);return i&&a?e(t,n):i||a?i?t:n:r}class Uc{constructor(e,t){this.Fe=e,this.We=t}He(e){return null!==e&&this.Fe===e.Fe&&this.We===e.We}Ue(){return new Uc(this.Fe,this.We)}$e(){return this.Fe}qe(){return this.We}Ye(){return this.We-this.Fe}Ki(){return this.We===this.Fe||Number.isNaN(this.We)||Number.isNaN(this.Fe)}vn(e){return null===e?this:new Uc(Kc(Math.min,this.$e(),e.$e(),-1/0),Kc(Math.max,this.qe(),e.qe(),1/0))}je(e){if(!Ul(e))return;if(0===this.We-this.Fe)return;const t=.5*(this.We+this.Fe);let n=this.We-t,r=this.Fe-t;n*=e,r*=e,this.We=t+n,this.Fe=t+r}Ke(e){Ul(e)&&(this.We+=e,this.Fe+=e)}Xe(){return{minValue:this.Fe,maxValue:this.We}}static Ze(e){return null===e?null:new Uc(e.minValue,e.maxValue)}}class Gc{constructor(e,t){this.Ge=e,this.Je=t||null}Qe(){return this.Ge}tr(){return this.Je}Xe(){return{priceRange:null===this.Ge?null:this.Ge.Xe(),margins:this.Je||void 0}}static Ze(e){return null===e?null:new Gc(Uc.Ze(e.priceRange),e.margins)}}class qc extends zc{constructor(e,t){super(e),this.ir=t}te(){const e=this.Zn;e.Vt=!1;const t=this.ir.N();if(!this.Jn.Vt()||!t.lineVisible)return;const n=this.ir.sr();null!==n&&(e.Vt=!0,e.ut=n,e.R=t.color,e.ct=t.lineWidth,e.Xt=t.lineStyle,e.Kn=this.ir.N().id)}}class Yc extends yc{constructor(e,t){super(),this.ge=e,this.ir=t}qi(e,t,n){e.Vt=!1,t.Vt=!1;const r=this.ir.N(),i=r.axisLabelVisible,a=""!==r.title,s=this.ge;if(!i||!s.Vt())return;const o=this.ir.sr();if(null===o)return;a&&(t.ri=r.title,t.Vt=!0),t.Ht=s.Qt().Ut(o/s.Ft().$t()),e.ri=this.nr(r.price),e.Vt=!0;const l=this.ge.Qt().Xi().X(r.axisLabelColor||r.color);n.Z=l.Z;const c=r.axisLabelTextColor||l.G;e.R=c,t.R=c,n.Bi=o}nr(e){const t=this.ge.zt();return null===t?"":this.ge.Ft().Zi(e,t.Wt)}}class Xc{constructor(e,t){this.ge=e,this.Ps=t,this.er=new qc(e,this),this.Fn=new Yc(e,this),this.rr=new Ic(this.Fn,e,e.Qt())}hr(e){Kl(this.Ps,e),this.kt(),this.ge.Qt().ar()}N(){return this.Ps}lr(){return this.er}_r(){return this.rr}ur(){return this.Fn}kt(){this.er.kt(),this.Fn.kt()}sr(){const e=this.ge,t=e.Ft();if(e.Qt().Et().Ki()||t.Ki())return null;const n=e.zt();return null===n?null:t.Nt(this.Ps.price,n.Wt)}}class Qc extends jc{constructor(e){super(),this.ts=e}Qt(){return this.ts}}const Zc={Bar:(e,t,n,r)=>{var i;const a=t.upColor,s=t.downColor,o=Wl(e(n,r)),l=$l(o.Wt[0])<=$l(o.Wt[3]);return{cr:null!=(i=o.R)?i:l?a:s}},Candlestick:(e,t,n,r)=>{var i,a,s;const o=t.upColor,l=t.downColor,c=t.borderUpColor,u=t.borderDownColor,d=t.wickUpColor,h=t.wickDownColor,f=Wl(e(n,r)),m=$l(f.Wt[0])<=$l(f.Wt[3]);return{cr:null!=(i=f.R)?i:m?o:l,dr:null!=(a=f.Ht)?a:m?c:u,pr:null!=(s=f.vr)?s:m?d:h}},Custom:(e,t,n,r)=>{var i;return{cr:null!=(i=Wl(e(n,r)).R)?i:t.color}},Area:(e,t,n,r)=>{var i,a,s,o;const l=Wl(e(n,r));return{cr:null!=(i=l.vt)?i:t.lineColor,vt:null!=(a=l.vt)?a:t.lineColor,mr:null!=(s=l.mr)?s:t.topColor,wr:null!=(o=l.wr)?o:t.bottomColor}},Baseline:(e,t,n,r)=>{var i,a,s,o,l,c;const u=Wl(e(n,r));return{cr:u.Wt[3]>=t.baseValue.price?t.topLineColor:t.bottomLineColor,gr:null!=(i=u.gr)?i:t.topLineColor,Mr:null!=(a=u.Mr)?a:t.bottomLineColor,br:null!=(s=u.br)?s:t.topFillColor1,Sr:null!=(o=u.Sr)?o:t.topFillColor2,Cr:null!=(l=u.Cr)?l:t.bottomFillColor1,Pr:null!=(c=u.Pr)?c:t.bottomFillColor2}},Line:(e,t,n,r)=>{var i,a;const s=Wl(e(n,r));return{cr:null!=(i=s.R)?i:t.color,vt:null!=(a=s.R)?a:t.color}},Histogram:(e,t,n,r)=>{var i;return{cr:null!=(i=Wl(e(n,r)).R)?i:t.color}}};class Jc{constructor(e){this.kr=(e,t)=>void 0!==t?t.Wt:this.ge.Xs().yr(e),this.ge=e,this.Tr=Zc[e.Rr()]}Dr(e,t){return this.Tr(this.kr,this.ge.N(),e,t)}}function eu(e,t,n,r,i=0,a=t.length){let s=a-i;for(;0<s;){const a=s>>1,o=i+a;r(t[o],n)===e?(i=o+1,s-=a+1):s=a}return i}const tu=eu.bind(null,!0),nu=eu.bind(null,!1);var ru;!function(e){e[e.NearestLeft=-1]="NearestLeft",e[e.None=0]="None",e[e.NearestRight=1]="NearestRight"}(ru||(ru={}));const iu=30;class au{constructor(){this.Vr=[],this.Ir=new Map,this.Br=new Map,this.Er=[]}Ar(){return this.zr()>0?this.Vr[this.Vr.length-1]:null}Lr(){return this.zr()>0?this.Or(0):null}Ks(){return this.zr()>0?this.Or(this.Vr.length-1):null}zr(){return this.Vr.length}Ki(){return 0===this.zr()}Te(e){return null!==this.Nr(e,0)}yr(e){return this.Fr(e)}Fr(e,t=0){const n=this.Nr(e,t);return null===n?null:f(h({},this.Wr(n)),{Re:this.Or(n)})}Hr(){return this.Vr}Ur(e,t,n){if(this.Ki())return null;let r=null;for(const i of n)r=su(r,this.$r(e,t,i));return r}ht(e){this.Br.clear(),this.Ir.clear(),this.Vr=e,this.Er=e.map(e=>e.Re)}qr(){return this.Er}Or(e){return this.Vr[e].Re}Wr(e){return this.Vr[e]}Nr(e,t){const n=this.Yr(e);if(null===n&&0!==t)switch(t){case-1:return this.jr(e);case 1:return this.Kr(e);default:throw new TypeError("Unknown search mode")}return n}jr(e){let t=this.Xr(e);return t>0&&(t-=1),t!==this.Vr.length&&this.Or(t)<e?t:null}Kr(e){const t=this.Zr(e);return t!==this.Vr.length&&e<this.Or(t)?t:null}Yr(e){const t=this.Xr(e);return t===this.Vr.length||e<this.Vr[t].Re?null:t}Xr(e){return tu(this.Vr,e,(e,t)=>e.Re<t)}Zr(e){return nu(this.Vr,e,(e,t)=>e.Re>t)}Gr(e,t,n){let r=null;for(let i=e;i<t;i++){const e=this.Vr[i].Wt[n];Number.isNaN(e)||(null===r?r={Jr:e,Qr:e}:(e<r.Jr&&(r.Jr=e),e>r.Qr&&(r.Qr=e)))}return r}$r(e,t,n){if(this.Ki())return null;let r=null;const i=Wl(this.Lr()),a=Wl(this.Ks()),s=Math.max(e,i),o=Math.min(t,a),l=Math.ceil(s/iu)*iu,c=Math.max(l,Math.floor(o/iu)*iu);{const e=this.Xr(s),i=this.Zr(Math.min(o,l,t));r=su(r,this.Gr(e,i,n))}let u=this.Ir.get(n);void 0===u&&(u=new Map,this.Ir.set(n,u));for(let d=Math.max(l+1,s);d<c;d+=iu){const e=Math.floor(d/iu);let t=u.get(e);if(void 0===t){const r=this.Xr(e*iu),i=this.Zr((e+1)*iu-1);t=this.Gr(r,i,n),u.set(e,t)}r=su(r,t)}{const e=this.Xr(c),t=this.Zr(o);r=su(r,this.Gr(e,t,n))}return r}}function su(e,t){return null===e?t:null===t?e:{Jr:Math.min(e.Jr,t.Jr),Qr:Math.max(e.Qr,t.Qr)}}class ou{constructor(e){this.th=e}nt(e,t,n){this.th.draw(e)}ih(e,t,n){var r,i;null==(i=(r=this.th).drawBackground)||i.call(r,e)}}class lu{constructor(e){this.Dn=null,this.sh=e}Tt(){var e;const t=this.sh.renderer();if(null===t)return null;if((null==(e=this.Dn)?void 0:e.nh)===t)return this.Dn.eh;const n=new ou(t);return this.Dn={nh:t,eh:n},n}rh(){var e,t,n;return null!=(n=null==(t=(e=this.sh).zOrder)?void 0:t.call(e))?n:"normal"}}class cu{constructor(e){this.hh=null,this.ah=e}oh(){return this.ah}Ns(){var e,t;null==(t=(e=this.ah).updateAllViews)||t.call(e)}Fs(){var e,t,n,r;const i=null!=(n=null==(t=(e=this.ah).paneViews)?void 0:t.call(e))?n:[];if((null==(r=this.hh)?void 0:r.nh)===i)return this.hh.eh;const a=i.map(e=>new lu(e));return this.hh={nh:i,eh:a},a}jn(e,t){var n,r,i;return null!=(i=null==(r=(n=this.ah).hitTest)?void 0:r.call(n,e,t))?i:null}}let uu=class extends cu{us(){return[]}};class du{constructor(e){this.th=e}nt(e,t,n){this.th.draw(e)}ih(e,t,n){var r,i;null==(i=(r=this.th).drawBackground)||i.call(r,e)}}class hu{constructor(e){this.Dn=null,this.sh=e}Tt(){var e;const t=this.sh.renderer();if(null===t)return null;if((null==(e=this.Dn)?void 0:e.nh)===t)return this.Dn.eh;const n=new du(t);return this.Dn={nh:t,eh:n},n}rh(){var e,t,n;return null!=(n=null==(t=(e=this.sh).zOrder)?void 0:t.call(e))?n:"normal"}}function fu(e){var t,n,r,i,a;return{ri:e.text(),Bi:e.coordinate(),Ii:null==(t=e.fixedCoordinate)?void 0:t.call(e),R:e.textColor(),Z:e.backColor(),Vt:null==(r=null==(n=e.visible)?void 0:n.call(e))||r,pi:null==(a=null==(i=e.tickVisible)?void 0:i.call(e))||a}}class mu{constructor(e,t){this.Gt=new wc,this._h=e,this.uh=t}Tt(){return this.Gt.ht(h({Qi:this.uh.Qi()},fu(this._h))),this.Gt}}class gu extends yc{constructor(e,t){super(),this._h=e,this.Yi=t}qi(e,t,n){const r=fu(this._h);n.Z=r.Z,e.R=r.R;const i=2/12*this.Yi.P();n.Ti=i,n.Ri=i,n.Bi=r.Bi,n.Ii=r.Ii,e.ri=r.ri,e.Vt=r.Vt,e.pi=r.pi}}class pu extends cu{constructor(e,t){super(e),this.dh=null,this.fh=null,this.ph=null,this.mh=null,this.ge=t}cs(){var e,t,n,r;const i=null!=(n=null==(t=(e=this.ah).timeAxisViews)?void 0:t.call(e))?n:[];if((null==(r=this.dh)?void 0:r.nh)===i)return this.dh.eh;const a=this.ge.Qt().Et(),s=i.map(e=>new mu(e,a));return this.dh={nh:i,eh:s},s}Ws(){var e,t,n,r;const i=null!=(n=null==(t=(e=this.ah).priceAxisViews)?void 0:t.call(e))?n:[];if((null==(r=this.fh)?void 0:r.nh)===i)return this.fh.eh;const a=this.ge.Ft(),s=i.map(e=>new gu(e,a));return this.fh={nh:i,eh:s},s}wh(){var e,t,n,r;const i=null!=(n=null==(t=(e=this.ah).priceAxisPaneViews)?void 0:t.call(e))?n:[];if((null==(r=this.ph)?void 0:r.nh)===i)return this.ph.eh;const a=i.map(e=>new hu(e));return this.ph={nh:i,eh:a},a}gh(){var e,t,n,r;const i=null!=(n=null==(t=(e=this.ah).timeAxisPaneViews)?void 0:t.call(e))?n:[];if((null==(r=this.mh)?void 0:r.nh)===i)return this.mh.eh;const a=i.map(e=>new hu(e));return this.mh={nh:i,eh:a},a}Mh(e,t){var n,r,i;return null!=(i=null==(r=(n=this.ah).autoscaleInfo)?void 0:r.call(n,e,t))?i:null}}function vu(e,t,n,r){e.forEach(e=>{t(e).forEach(e=>{e.rh()===n&&r.push(e)})})}function yu(e){return e.Fs()}function xu(e){return e.wh()}function bu(e){return e.gh()}const wu=["Area","Line","Baseline"];class _u extends Qc{constructor(e,t,n,r,i){super(e),this.Yt=new au,this.er=new $c(this),this.bh=[],this.Sh=new Fc(this),this.xh=null,this.Ch=null,this.Ph=null,this.kh=[],this.Ps=n,this.yh=t;const a=new Hc(this);this.vs=[a],this.rr=new Ic(a,this,e),wu.includes(this.yh)&&(this.xh=new Wc(this)),this.Th(),this.sh=r(this,this.Qt(),i)}m(){null!==this.Ph&&clearTimeout(this.Ph)}Be(e){return this.Ps.priceLineColor||e}ke(e){const t={ye:!0},n=this.Ft();if(this.Qt().Et().Ki()||n.Ki()||this.Yt.Ki())return t;const r=this.Qt().Et().Pe(),i=this.zt();if(null===r||null===i)return t;let a,s;if(e){const e=this.Yt.Ar();if(null===e)return t;a=e,s=e.Re}else{const e=this.Yt.Fr(r.bi(),-1);if(null===e)return t;if(a=this.Yt.yr(e.Re),null===a)return t;s=e.Re}const o=a.Wt[3],l=this.Rh().Dr(s,{Wt:a}),c=n.Nt(o,i.Wt);return{ye:!1,gt:o,ri:n.Zi(o,i.Wt),Oe:n.Dh(o),Ne:n.Vh(o,i.Wt),R:l.cr,Bi:c,Re:s}}Rh(){return null!==this.Ch||(this.Ch=new Jc(this)),this.Ch}N(){return this.Ps}hr(e){const t=e.priceScaleId;void 0!==t&&t!==this.Ps.priceScaleId&&this.Qt().Ih(this,t),Kl(this.Ps,e),void 0!==e.priceFormat&&(this.Th(),this.Qt().Bh()),this.Qt().Eh(this),this.Qt().Ah(),this.sh.kt("options")}ht(e,t){this.Yt.ht(e),this.sh.kt("data"),null!==this.xh&&(t&&t.zh?this.xh.be():0===e.length&&this.xh.Me());const n=this.Qt().Hn(this);this.Qt().Lh(n),this.Qt().Eh(this),this.Qt().Ah(),this.Qt().ar()}Oh(e){const t=new Xc(this,e);return this.bh.push(t),this.Qt().Eh(this),t}Nh(e){const t=this.bh.indexOf(e);-1!==t&&this.bh.splice(t,1),this.Qt().Eh(this)}Fh(){return this.bh}Rr(){return this.yh}zt(){const e=this.Wh();return null===e?null:{Wt:e.Wt[3],Hh:e.wt}}Wh(){const e=this.Qt().Et().Pe();if(null===e)return null;const t=e.Uh();return this.Yt.Fr(t,1)}Xs(){return this.Yt}$h(e){const t=this.Yt.yr(e);return null===t?null:"Bar"===this.yh||"Candlestick"===this.yh||"Custom"===this.yh?{qh:t.Wt[0],Yh:t.Wt[1],jh:t.Wt[2],Kh:t.Wt[3]}:t.Wt[3]}Xh(e){const t=[];vu(this.kh,yu,"top",t);const n=this.xh;return null!==n&&n.Vt()?(null===this.Ph&&n.xe()&&(this.Ph=setTimeout(()=>{this.Ph=null,this.Qt().Zh()},0)),n.Se(),t.unshift(n),t):t}Fs(){const e=[];this.Gh()||e.push(this.Sh),e.push(this.sh,this.er);const t=this.bh.map(e=>e.lr());return e.push(...t),vu(this.kh,yu,"normal",e),e}Jh(){return this.Qh(yu,"bottom")}ta(e){return this.Qh(xu,e)}ia(e){return this.Qh(bu,e)}sa(e,t){return this.kh.map(n=>n.jn(e,t)).filter(e=>null!==e)}us(){return[this.rr,...this.bh.map(e=>e._r())]}Ws(e,t){if(t!==this.es&&!this.Gh())return[];const n=[...this.vs];for(const r of this.bh)n.push(r.ur());return this.kh.forEach(e=>{n.push(...e.Ws())}),n}cs(){const e=[];return this.kh.forEach(t=>{e.push(...t.cs())}),e}Mh(e,t){if(void 0!==this.Ps.autoscaleInfoProvider){const n=this.Ps.autoscaleInfoProvider(()=>{const n=this.na(e,t);return null===n?null:n.Xe()});return Gc.Ze(n)}return this.na(e,t)}ea(){return this.Ps.priceFormat.minMove}ra(){return this.ha}Ns(){var e;this.sh.kt();for(const t of this.vs)t.kt();for(const t of this.bh)t.kt();this.er.kt(),this.Sh.kt(),null==(e=this.xh)||e.kt(),this.kh.forEach(e=>e.Ns())}Ft(){return Wl(super.Ft())}At(e){if("Line"!==this.yh&&"Area"!==this.yh&&"Baseline"!==this.yh||!this.Ps.crosshairMarkerVisible)return null;const t=this.Yt.yr(e);return null===t?null:{gt:t.Wt[3],ft:this.aa(),Ht:this.la(),Ot:this.oa(),Lt:this._a(e)}}Ee(){return this.Ps.title}Vt(){return this.Ps.visible}ua(e){this.kh.push(new pu(e,this))}ca(e){this.kh=this.kh.filter(t=>t.oh()!==e)}da(){if("Custom"===this.yh)return e=>this.sh.fa(e)}pa(){if("Custom"===this.yh)return e=>this.sh.va(e)}ma(){return this.Yt.qr()}Gh(){return!Sc(this.Ft().wa())}na(e,t){if(!Gl(e)||!Gl(t)||this.Yt.Ki())return null;const n="Line"===this.yh||"Area"===this.yh||"Baseline"===this.yh||"Histogram"===this.yh?[3]:[2,1],r=this.Yt.Ur(e,t,n);let i=null!==r?new Uc(r.Jr,r.Qr):null,a=null;if("Histogram"===this.Rr()){const e=this.Ps.base,t=new Uc(e,e);i=null!==i?i.vn(t):t}return this.kh.forEach(n=>{const r=n.Mh(e,t);if(null==r?void 0:r.priceRange){const e=new Uc(r.priceRange.minValue,r.priceRange.maxValue);i=null!==i?i.vn(e):e}(null==r?void 0:r.margins)&&(a=r.margins)}),new Gc(i,a)}aa(){switch(this.yh){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerRadius}return 0}la(){switch(this.yh){case"Line":case"Area":case"Baseline":{const e=this.Ps.crosshairMarkerBorderColor;if(0!==e.length)return e}}return null}oa(){switch(this.yh){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerBorderWidth}return 0}_a(e){switch(this.yh){case"Line":case"Area":case"Baseline":{const e=this.Ps.crosshairMarkerBackgroundColor;if(0!==e.length)return e}}return this.Rh().Dr(e).cr}Th(){var e;switch(this.Ps.priceFormat.type){case"custom":{const t=this.Ps.priceFormat.formatter;this.ha={format:t,formatTickmarks:null!=(e=this.Ps.priceFormat.tickmarksFormatter)?e:e=>e.map(t)};break}case"volume":this.ha=new Ac(this.Ps.priceFormat.precision);break;case"percent":this.ha=new Oc(this.Ps.priceFormat.precision);break;default:{const e=Math.pow(10,this.Ps.priceFormat.precision);this.ha=new Mc(e,this.Ps.priceFormat.minMove*e)}}null!==this.es&&this.es.ga()}Qh(e,t){const n=[];return vu(this.kh,e,t,n),n}}const ju=[3],Nu=[0,1,2,3];class ku{constructor(e){this.Ps=e}Ma(e,t,n){let r=e;if(0===this.Ps.mode)return r;const i=n.ys(),a=i.zt();if(null===a)return r;const s=i.Nt(e,a),o=n.ba().filter(e=>e instanceof _u).reduce((e,r)=>{if(n.Un(r)||!r.Vt())return e;const i=r.Ft(),a=r.Xs();if(i.Ki()||!a.Te(t))return e;const s=a.yr(t);if(null===s)return e;const o=$l(r.zt()),l=3===this.Ps.mode?Nu:ju;return e.concat(l.map(e=>i.Nt(s.Wt[e],o.Wt)))},[]);if(0===o.length)return r;o.sort((e,t)=>Math.abs(e-s)-Math.abs(t-s));const l=o[0];return r=i.Ts(l,a),r}}function Su(e,t,n){return Math.min(Math.max(e,t),n)}function Cu(e,t,n){return t-e<=n}class Pu extends sc{constructor(){super(...arguments),this.Yt=null}ht(e){this.Yt=e}et({context:e,bitmapSize:t,horizontalPixelRatio:n,verticalPixelRatio:r}){if(null===this.Yt)return;const i=Math.max(1,Math.floor(n));var a,s;e.lineWidth=i,s=()=>{const a=Wl(this.Yt);if(a.Sa){e.strokeStyle=a.xa,zl(e,a.Ca),e.beginPath();for(const r of a.Pa){const a=Math.round(r.ka*n);e.moveTo(a,-i),e.lineTo(a,t.height+i)}e.stroke()}if(a.ya){e.strokeStyle=a.Ta,zl(e,a.Ra),e.beginPath();for(const n of a.Da){const a=Math.round(n.ka*r);e.moveTo(-i,a),e.lineTo(t.width+i,a)}e.stroke()}},(a=e).save(),a.lineWidth%2&&a.translate(.5,.5),s(),a.restore()}}class Eu{constructor(e){this.Gt=new Pu,this.xt=!0,this.Pt=e}kt(){this.xt=!0}Tt(){if(this.xt){const e=this.Pt.Qt().N().grid,t={ya:e.horzLines.visible,Sa:e.vertLines.visible,Ta:e.horzLines.color,xa:e.vertLines.color,Ra:e.horzLines.style,Ca:e.vertLines.style,Da:this.Pt.ys().Va(),Pa:(this.Pt.Qt().Et().Va()||[]).map(e=>({ka:e.coord}))};this.Gt.ht(t),this.xt=!1}return this.Gt}}class Mu{constructor(e){this.sh=new Eu(e)}lr(){return this.sh}}const Ou={Ia:4,Ba:1e-4};function Au(e,t){const n=100*(e-t)/t;return t<0?-n:n}function Tu(e,t){const n=Au(e.$e(),t),r=Au(e.qe(),t);return new Uc(n,r)}function Ru(e,t){const n=100*(e-t)/t+100;return t<0?-n:n}function Du(e,t){const n=Ru(e.$e(),t),r=Ru(e.qe(),t);return new Uc(n,r)}function Iu(e,t){const n=Math.abs(e);if(n<1e-15)return 0;const r=Math.log10(n+t.Ba)+t.Ia;return e<0?-r:r}function Lu(e,t){const n=Math.abs(e);if(n<1e-15)return 0;const r=Math.pow(10,n-t.Ia)-t.Ba;return e<0?-r:r}function zu(e,t){if(null===e)return null;const n=Iu(e.$e(),t),r=Iu(e.qe(),t);return new Uc(n,r)}function Fu(e,t){if(null===e)return null;const n=Lu(e.$e(),t),r=Lu(e.qe(),t);return new Uc(n,r)}function Bu(e){if(null===e)return Ou;const t=Math.abs(e.qe()-e.$e());if(t>=1||t<1e-15)return Ou;const n=Math.ceil(Math.abs(Math.log10(t))),r=Ou.Ia+n;return{Ia:r,Ba:1/Math.pow(10,r)}}class Vu{constructor(e,t){if(this.Ea=e,this.Aa=t,function(e){if(e<0)return!1;for(let t=e;t>1;t/=10)if(t%10!=0)return!1;return!0}(this.Ea))this.za=[2,2.5,2];else{this.za=[];for(let e=this.Ea;1!==e;){if(e%2==0)this.za.push(2),e/=2;else{if(e%5!=0)throw new Error("unexpected base");this.za.push(2,2.5),e/=5}if(this.za.length>100)throw new Error("something wrong with base")}}}La(e,t,n){const r=0===this.Ea?0:1/this.Ea;let i=Math.pow(10,Math.max(0,Math.ceil(Math.log10(e-t)))),a=0,s=this.Aa[0];for(;;){const e=Cu(i,r,1e-14)&&i>r+1e-14,t=Cu(i,n*s,1e-14),o=Cu(i,1,1e-14);if(!(e&&t&&o))break;i/=s,s=this.Aa[++a%this.Aa.length]}if(i<=r+1e-14&&(i=r),i=Math.max(1,i),this.za.length>0&&(o=i,Math.abs(o-1)<1e-14))for(a=0,s=this.za[0];Cu(i,n*s,1e-14)&&i>r+1e-14;)i/=s,s=this.za[++a%this.za.length];var o;return i}}class Wu{constructor(e,t,n,r){this.Oa=[],this.Yi=e,this.Ea=t,this.Na=n,this.Fa=r}La(e,t){if(e<t)throw new Error("high < low");const n=this.Yi.$t(),r=(e-t)*this.Wa()/n,i=new Vu(this.Ea,[2,2.5,2]),a=new Vu(this.Ea,[2,2,2.5]),s=new Vu(this.Ea,[2.5,2,2]),o=[];return o.push(i.La(e,t,r),a.La(e,t,r),s.La(e,t,r)),function(e){if(e.length<1)throw Error("array is empty");let t=e[0];for(let n=1;n<e.length;++n)e[n]<t&&(t=e[n]);return t}(o)}Ha(){const e=this.Yi,t=e.zt();if(null===t)return void(this.Oa=[]);const n=e.$t(),r=this.Na(n-1,t),i=this.Na(0,t),a=this.Yi.N().entireTextOnly?this.Ua()/2:0,s=a,o=n-1-a,l=Math.max(r,i),c=Math.min(r,i);if(l===c)return void(this.Oa=[]);const u=this.La(l,c);if(this.$a(t,u,l,c,s,o),e.qa()&&this.Ya(u,c,l)){const e=this.Yi.ja();this.Ka(t,u,s,o,e,2*e)}const d=this.Oa.map(e=>e.Xa),h=this.Yi.Za(d);for(let f=0;f<this.Oa.length;f++)this.Oa[f].Ga=h[f]}Va(){return this.Oa}Ua(){return this.Yi.P()}Wa(){return Math.ceil(2.5*this.Ua())}$a(e,t,n,r,i,a){const s=this.Oa,o=this.Yi;let l=n%t;l+=l<0?t:0;const c=n>=r?1:-1;let u=null,d=0;for(let h=n-l;h>r;h-=t){const n=this.Fa(h,e,!0);null!==u&&Math.abs(n-u)<this.Wa()||n<i||n>a||(d<s.length?(s[d].ka=n,s[d].Ga=o.Ja(h),s[d].Xa=h):s.push({ka:n,Ga:o.Ja(h),Xa:h}),d++,u=n,o.Qa()&&(t=this.La(h*c,r)))}s.length=d}Ka(e,t,n,r,i,a){const s=this.Oa,o=this.tl(e,n,i,a),l=this.tl(e,r,-a,-i),c=this.Fa(0,e,!0)-this.Fa(t,e,!0);s.length>0&&s[0].ka-o.ka<c/2&&s.shift(),s.length>0&&l.ka-s[s.length-1].ka<c/2&&s.pop(),s.unshift(o),s.push(l)}tl(e,t,n,r){const i=(n+r)/2,a=this.Na(t+n,e),s=this.Na(t+r,e),o=Math.min(a,s),l=Math.max(a,s),c=Math.max(.1,this.La(l,o)),u=this.Na(t+i,e),d=u-u%c,h=this.Fa(d,e,!0);return{Ga:this.Yi.Ja(d),ka:h,Xa:d}}Ya(e,t,n){let r=$l(this.Yi.Qe());return this.Yi.Qa()&&(r=Fu(r,this.Yi.il())),r.$e()-t<e&&n-r.qe()<e}}function $u(e){return e.slice().sort((e,t)=>Wl(e.hs())-Wl(t.hs()))}var Hu;!function(e){e[e.Normal=0]="Normal",e[e.Logarithmic=1]="Logarithmic",e[e.Percentage=2]="Percentage",e[e.IndexedTo100=3]="IndexedTo100"}(Hu||(Hu={}));const Ku=new Oc,Uu=new Mc(100,1);class Gu{constructor(e,t,n,r,i){this.sl=0,this.nl=null,this.Ge=null,this.el=null,this.rl={hl:!1,al:null},this.ll=!1,this.ol=0,this._l=0,this.ul=new Hl,this.cl=new Hl,this.dl=[],this.fl=null,this.pl=null,this.vl=null,this.ml=null,this.wl=null,this.ha=Uu,this.gl=Bu(null),this.Ml=e,this.Ps=t,this.bl=n,this.Sl=r,this.xl=i,this.Cl=new Wu(this,100,this.Pl.bind(this),this.kl.bind(this))}wa(){return this.Ml}N(){return this.Ps}hr(e){if(Kl(this.Ps,e),this.ga(),void 0!==e.mode&&this.yl({ie:e.mode}),void 0!==e.scaleMargins){const t=Vl(e.scaleMargins.top),n=Vl(e.scaleMargins.bottom);if(t<0||t>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${t}`);if(n<0||n>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${n}`);if(t+n>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${t+n}`);this.Tl(),this.vl=null}}Rl(){return this.Ps.autoScale}Dl(){return this.ll}Qa(){return 1===this.Ps.mode}Le(){return 2===this.Ps.mode}Vl(){return 3===this.Ps.mode}il(){return this.gl}ie(){return{sn:this.Ps.autoScale,Il:this.Ps.invertScale,ie:this.Ps.mode}}yl(e){const t=this.ie();let n=null;void 0!==e.sn&&(this.Ps.autoScale=e.sn),void 0!==e.ie&&(this.Ps.mode=e.ie,2!==e.ie&&3!==e.ie||(this.Ps.autoScale=!0),this.rl.hl=!1),1===t.ie&&e.ie!==t.ie&&(function(e,t){if(null===e)return!1;const n=Lu(e.$e(),t),r=Lu(e.qe(),t);return isFinite(n)&&isFinite(r)}(this.Ge,this.gl)?(n=Fu(this.Ge,this.gl),null!==n&&this.Bl(n)):this.Ps.autoScale=!0),1===e.ie&&e.ie!==t.ie&&(n=zu(this.Ge,this.gl),null!==n&&this.Bl(n));const r=t.ie!==this.Ps.mode;r&&(2===t.ie||this.Le())&&this.ga(),r&&(3===t.ie||this.Vl())&&this.ga(),void 0!==e.Il&&t.Il!==e.Il&&(this.Ps.invertScale=e.Il,this.El()),this.cl.p(t,this.ie())}Al(){return this.cl}P(){return this.bl.fontSize}$t(){return this.sl}zl(e){this.sl!==e&&(this.sl=e,this.Tl(),this.vl=null)}Ll(){if(this.nl)return this.nl;const e=this.$t()-this.Ol()-this.Nl();return this.nl=e,e}Qe(){return this.Fl(),this.Ge}Bl(e,t){const n=this.Ge;(t||null===n&&null!==e||null!==n&&!n.He(e))&&(this.vl=null,this.Ge=e)}Wl(e){this.Bl(e),this.Hl(null!==e)}Ki(){return this.Fl(),0===this.sl||!this.Ge||this.Ge.Ki()}Ul(e){return this.Il()?e:this.$t()-1-e}Nt(e,t){return this.Le()?e=Au(e,t):this.Vl()&&(e=Ru(e,t)),this.kl(e,t)}$l(e,t,n){this.Fl();const r=this.Nl(),i=Wl(this.Qe()),a=i.$e(),s=i.qe(),o=this.Ll()-1,l=this.Il(),c=o/(s-a),u=void 0===n?0:n.from,d=void 0===n?e.length:n.to,h=this.ql();for(let f=u;f<d;f++){const n=e[f],i=n.gt;if(isNaN(i))continue;let s=i;null!==h&&(s=h(n.gt,t));const o=r+c*(s-a),u=l?o:this.sl-1-o;n.ut=u}}Yl(e,t,n){this.Fl();const r=this.Nl(),i=Wl(this.Qe()),a=i.$e(),s=i.qe(),o=this.Ll()-1,l=this.Il(),c=o/(s-a),u=void 0===n?0:n.from,d=void 0===n?e.length:n.to,h=this.ql();for(let f=u;f<d;f++){const n=e[f];let i=n.qh,s=n.Yh,o=n.jh,u=n.Kh;null!==h&&(i=h(n.qh,t),s=h(n.Yh,t),o=h(n.jh,t),u=h(n.Kh,t));let d=r+c*(i-a),m=l?d:this.sl-1-d;n.jl=m,d=r+c*(s-a),m=l?d:this.sl-1-d,n.Kl=m,d=r+c*(o-a),m=l?d:this.sl-1-d,n.Xl=m,d=r+c*(u-a),m=l?d:this.sl-1-d,n.Zl=m}}Ts(e,t){const n=this.Pl(e,t);return this.Gl(n,t)}Gl(e,t){let n=e;return this.Le()?(r=n,(i=t)<0&&(r=-r),n=r/100*i+i):this.Vl()&&(n=function(e,t){return e-=100,t<0&&(e=-e),e/100*t+t}(n,t)),n;var r,i}ba(){return this.dl}Dt(){return this.pl||(this.pl=$u(this.dl)),this.pl}Jl(e){-1===this.dl.indexOf(e)&&(this.dl.push(e),this.ga(),this.Ql())}io(e){const t=this.dl.indexOf(e);if(-1===t)throw new Error("source is not attached to scale");this.dl.splice(t,1),0===this.dl.length&&(this.yl({sn:!0}),this.Bl(null)),this.ga(),this.Ql()}zt(){let e=null;for(const t of this.dl){const n=t.zt();null!==n&&(null===e||n.Hh<e.Hh)&&(e=n)}return null===e?null:e.Wt}Il(){return this.Ps.invertScale}Va(){const e=null===this.zt();if(null!==this.vl&&(e||this.vl.so===e))return this.vl.Va;this.Cl.Ha();const t=this.Cl.Va();return this.vl={Va:t,so:e},this.ul.p(),t}no(){return this.ul}eo(e){this.Le()||this.Vl()||null===this.ml&&null===this.el&&(this.Ki()||(this.ml=this.sl-e,this.el=Wl(this.Qe()).Ue()))}ro(e){if(this.Le()||this.Vl())return;if(null===this.ml)return;this.yl({sn:!1}),(e=this.sl-e)<0&&(e=0);let t=(this.ml+.2*(this.sl-1))/(e+.2*(this.sl-1));const n=Wl(this.el).Ue();t=Math.max(t,.1),n.je(t),this.Bl(n)}ho(){this.Le()||this.Vl()||(this.ml=null,this.el=null)}ao(e){this.Rl()||null===this.wl&&null===this.el&&(this.Ki()||(this.wl=e,this.el=Wl(this.Qe()).Ue()))}lo(e){if(this.Rl())return;if(null===this.wl)return;const t=Wl(this.Qe()).Ye()/(this.Ll()-1);let n=e-this.wl;this.Il()&&(n*=-1);const r=n*t,i=Wl(this.el).Ue();i.Ke(r),this.Bl(i,!0),this.vl=null}oo(){this.Rl()||null!==this.wl&&(this.wl=null,this.el=null)}ra(){return this.ha||this.ga(),this.ha}Zi(e,t){switch(this.Ps.mode){case 2:return this._o(Au(e,t));case 3:return this.ra().format(Ru(e,t));default:return this.nr(e)}}Ja(e){switch(this.Ps.mode){case 2:return this._o(e);case 3:return this.ra().format(e);default:return this.nr(e)}}Za(e){switch(this.Ps.mode){case 2:return this.uo(e);case 3:return this.ra().formatTickmarks(e);default:return this.co(e)}}Dh(e){return this.nr(e,Wl(this.fl).ra())}Vh(e,t){return e=Au(e,t),this._o(e,Ku)}do(){return this.dl}fo(e){this.rl={al:e,hl:!1}}Ns(){this.dl.forEach(e=>e.Ns())}qa(){return this.Ps.ensureEdgeTickMarksVisible&&this.Rl()}ja(){return this.P()/2}ga(){this.vl=null;let e=1/0;this.fl=null;for(const n of this.dl)n.hs()<e&&(e=n.hs(),this.fl=n);let t=100;null!==this.fl&&(t=Math.round(1/this.fl.ea())),this.ha=Uu,this.Le()?(this.ha=Ku,t=100):this.Vl()?(this.ha=new Mc(100,1),t=100):null!==this.fl&&(this.ha=this.fl.ra()),this.Cl=new Wu(this,t,this.Pl.bind(this),this.kl.bind(this)),this.Cl.Ha()}Ql(){this.pl=null}Xi(){return this.xl}Hl(e){this.ll=e}Ol(){return this.Il()?this.Ps.scaleMargins.bottom*this.$t()+this._l:this.Ps.scaleMargins.top*this.$t()+this.ol}Nl(){return this.Il()?this.Ps.scaleMargins.top*this.$t()+this.ol:this.Ps.scaleMargins.bottom*this.$t()+this._l}Fl(){this.rl.hl||(this.rl.hl=!0,this.po())}Tl(){this.nl=null}kl(e,t){if(this.Fl(),this.Ki())return 0;e=this.Qa()&&e?Iu(e,this.gl):e;const n=Wl(this.Qe()),r=this.Nl()+(this.Ll()-1)*(e-n.$e())/n.Ye();return this.Ul(r)}Pl(e,t){if(this.Fl(),this.Ki())return 0;const n=this.Ul(e),r=Wl(this.Qe()),i=r.$e()+r.Ye()*((n-this.Nl())/(this.Ll()-1));return this.Qa()?Lu(i,this.gl):i}El(){this.vl=null,this.Cl.Ha()}po(){if(this.Dl()&&!this.Rl())return;const e=this.rl.al;if(null===e)return;let t=null;const n=this.do();let r=0,i=0;for(const o of n){if(!o.Vt())continue;const n=o.zt();if(null===n)continue;const a=o.Mh(e.Uh(),e.bi());let s=a&&a.Qe();if(null!==s){switch(this.Ps.mode){case 1:s=zu(s,this.gl);break;case 2:s=Tu(s,n.Wt);break;case 3:s=Du(s,n.Wt)}if(t=null===t?s:t.vn(Wl(s)),null!==a){const e=a.tr();null!==e&&(r=Math.max(r,e.above),i=Math.max(i,e.below))}}}if(this.qa()&&(r=Math.max(r,this.ja()),i=Math.max(i,this.ja())),r===this.ol&&i===this._l||(this.ol=r,this._l=i,this.vl=null,this.Tl()),null!==t){if(t.$e()===t.qe()){const e=this.fl,n=5*(null===e||this.Le()||this.Vl()?1:e.ea());this.Qa()&&(t=Fu(t,this.gl)),t=new Uc(t.$e()-n,t.qe()+n),this.Qa()&&(t=zu(t,this.gl))}if(this.Qa()){const e=Fu(t,this.gl),n=Bu(e);if(a=n,s=this.gl,a.Ia!==s.Ia||a.Ba!==s.Ba){const r=null!==this.el?Fu(this.el,this.gl):null;this.gl=n,t=zu(e,n),null!==r&&(this.el=zu(r,n))}}this.Bl(t)}else null===this.Ge&&(this.Bl(new Uc(-.5,.5)),this.gl=Bu(null));var a,s}ql(){return this.Le()?Au:this.Vl()?Ru:this.Qa()?e=>Iu(e,this.gl):null}vo(e,t,n){return void 0===t?(void 0===n&&(n=this.ra()),n.format(e)):t(e)}mo(e,t,n){return void 0===t?(void 0===n&&(n=this.ra()),n.formatTickmarks(e)):t(e)}nr(e,t){return this.vo(e,this.Sl.priceFormatter,t)}co(e,t){var n;const r=this.Sl.priceFormatter;return this.mo(e,null!=(n=this.Sl.tickmarksPriceFormatter)?n:r?e=>e.map(r):void 0,t)}_o(e,t){return this.vo(e,this.Sl.percentageFormatter,t)}uo(e,t){var n;const r=this.Sl.percentageFormatter;return this.mo(e,null!=(n=this.Sl.tickmarksPercentageFormatter)?n:r?e=>e.map(r):void 0,t)}}function qu(e){return e instanceof _u}class Yu{constructor(e,t){this.dl=[],this.wo=new Map,this.sl=0,this.Mo=0,this.bo=1,this.pl=null,this.So=!1,this.xo=new Hl,this.kh=[],this.uh=e,this.ts=t,this.Co=new Mu(this);const n=t.N();this.Po=this.ko("left",n.leftPriceScale),this.yo=this.ko("right",n.rightPriceScale),this.Po.Al().i(this.To.bind(this,this.Po),this),this.yo.Al().i(this.To.bind(this,this.yo),this),this.Ro(n)}Ro(e){if(e.leftPriceScale&&this.Po.hr(e.leftPriceScale),e.rightPriceScale&&this.yo.hr(e.rightPriceScale),e.localization&&(this.Po.ga(),this.yo.ga()),e.overlayPriceScales){const t=Array.from(this.wo.values());for(const n of t){const t=Wl(n[0].Ft());t.hr(e.overlayPriceScales),e.localization&&t.ga()}}}Do(e){switch(e){case"left":return this.Po;case"right":return this.yo}return this.wo.has(e)?Vl(this.wo.get(e))[0].Ft():null}m(){this.Qt().Vo().u(this),this.Po.Al().u(this),this.yo.Al().u(this),this.dl.forEach(e=>{e.m&&e.m()}),this.kh=this.kh.filter(e=>{const t=e.oh();return t.detached&&t.detached(),!1}),this.xo.p()}Io(){return this.bo}Bo(e){this.bo=e}Qt(){return this.ts}Qi(){return this.Mo}$t(){return this.sl}Eo(e){this.Mo=e,this.Ao()}zl(e){this.sl=e,this.Po.zl(e),this.yo.zl(e),this.dl.forEach(t=>{if(this.Un(t)){const n=t.Ft();null!==n&&n.zl(e)}}),this.Ao()}zo(e){this.So=e}Lo(){return this.So}Oo(){return this.dl.filter(qu)}ba(){return this.dl}Un(e){const t=e.Ft();return null===t||this.Po!==t&&this.yo!==t}Jl(e,t,n){this.No(e,t,n?e.hs():this.dl.length)}io(e,t){const n=this.dl.indexOf(e);Bl(-1!==n,"removeDataSource: invalid data source"),this.dl.splice(n,1),t||this.dl.forEach((e,t)=>e.ls(t));const r=Wl(e.Ft()).wa();if(this.wo.has(r)){const t=Vl(this.wo.get(r)),n=t.indexOf(e);-1!==n&&(t.splice(n,1),0===t.length&&this.wo.delete(r))}const i=e.Ft();i&&i.ba().indexOf(e)>=0&&(i.io(e),this.Fo(i)),this.pl=null}qn(e){return e===this.Po?"left":e===this.yo?"right":"overlay"}Wo(){return this.Po}Ho(){return this.yo}Uo(e,t){e.eo(t)}$o(e,t){e.ro(t),this.Ao()}qo(e){e.ho()}Yo(e,t){e.ao(t)}jo(e,t){e.lo(t),this.Ao()}Ko(e){e.oo()}Ao(){this.dl.forEach(e=>{e.Ns()})}ys(){let e=null;return this.ts.N().rightPriceScale.visible&&0!==this.yo.ba().length?e=this.yo:this.ts.N().leftPriceScale.visible&&0!==this.Po.ba().length?e=this.Po:0!==this.dl.length&&(e=this.dl[0].Ft()),null===e&&(e=this.yo),e}$n(){let e=null;return this.ts.N().rightPriceScale.visible?e=this.yo:this.ts.N().leftPriceScale.visible&&(e=this.Po),e}Fo(e){null!==e&&e.Rl()&&this.Xo(e)}Zo(e){const t=this.uh.Pe();e.yl({sn:!0}),null!==t&&e.fo(t),this.Ao()}Go(){this.Xo(this.Po),this.Xo(this.yo)}Jo(){this.Fo(this.Po),this.Fo(this.yo),this.dl.forEach(e=>{this.Un(e)&&this.Fo(e.Ft())}),this.Ao(),this.ts.ar()}Dt(){return null===this.pl&&(this.pl=$u(this.dl)),this.pl}Qo(e,t){t=Su(t,0,this.dl.length-1);const n=this.dl.indexOf(e);Bl(-1!==n,"setSeriesOrder: invalid data source"),this.dl.splice(n,1),this.dl.splice(t,0,e),this.dl.forEach((e,t)=>e.ls(t)),this.pl=null;for(const r of[this.Po,this.yo])r.Ql(),r.ga();this.ts.ar()}It(){return this.Dt().filter(qu)}t_(){return this.xo}i_(){return this.Co}ua(e){this.kh.push(new uu(e))}ca(e){this.kh=this.kh.filter(t=>t.oh()!==e),e.detached&&e.detached(),this.ts.ar()}s_(){return this.kh}sa(e,t){return this.kh.map(n=>n.jn(e,t)).filter(e=>null!==e)}Xo(e){const t=e.do();if(t&&t.length>0&&!this.uh.Ki()){const t=this.uh.Pe();null!==t&&e.fo(t)}e.Ns()}No(e,t,n){let r=this.Do(t);if(null===r&&(r=this.ko(t,this.ts.N().overlayPriceScales)),this.dl.splice(n,0,e),!Sc(t)){const n=this.wo.get(t)||[];n.push(e),this.wo.set(t,n)}e.ls(n),r.Jl(e),e._s(r),this.Fo(r),this.pl=null}To(e,t,n){t.ie!==n.ie&&this.Xo(e)}ko(e,t){const n=h({visible:!0,autoScale:!0},Xl(t)),r=new Gu(e,n,this.ts.N().layout,this.ts.N().localization,this.ts.Xi());return r.zl(this.$t()),r}}function Xu(e){return{n_:e.n_,e_:{Kn:e.r_.externalId},h_:e.r_.cursorStyle}}function Qu(e,t,n,r){for(const i of e){const e=i.Tt(r);if(null!==e&&e.jn){const r=e.jn(t,n);if(null!==r)return{a_:i,e_:r}}}return null}function Zu(e){return void 0!==e.Fs}function Ju(e,t,n){const r=[e,...e.Dt()],i=function(e,t,n){var r,i;let a,s;for(const c of e){const e=null!=(i=null==(r=c.sa)?void 0:r.call(c,t,n))?i:[];for(const t of e)o=t.zOrder,(!(l=null==a?void 0:a.zOrder)||"top"===o&&"top"!==l||"normal"===o&&"bottom"===l)&&(a=t,s=c)}var o,l;return a&&s?{r_:a,n_:s}:null}(r,t,n);if("top"===(null==i?void 0:i.r_.zOrder))return Xu(i);for(const a of r){if(i&&i.n_===a&&"bottom"!==i.r_.zOrder&&!i.r_.isBackground)return Xu(i);if(Zu(a)){const r=Qu(a.Fs(e),t,n,e);if(null!==r)return{n_:a,a_:r.a_,e_:r.e_}}if(i&&i.n_===a&&"bottom"!==i.r_.zOrder&&i.r_.isBackground)return Xu(i)}return(null==i?void 0:i.r_)?Xu(i):null}class ed{constructor(e,t,n=50){this.kn=0,this.yn=1,this.Tn=1,this.Dn=new Map,this.Rn=new Map,this.l_=e,this.o_=t,this.Vn=n}__(e){const t=e.time,n=this.o_.cacheKey(t),r=this.Dn.get(n);if(void 0!==r)return r.u_;if(this.kn===this.Vn){const e=this.Rn.get(this.Tn);this.Rn.delete(this.Tn),this.Dn.delete(Vl(e)),this.Tn++,this.kn--}const i=this.l_(e);return this.Dn.set(n,{u_:i,An:this.yn}),this.Rn.set(this.yn,n),this.kn++,this.yn++,i}}class td{constructor(e,t){Bl(e<=t,"right should be >= left"),this.c_=e,this.d_=t}Uh(){return this.c_}bi(){return this.d_}f_(){return this.d_-this.c_+1}Te(e){return this.c_<=e&&e<=this.d_}He(e){return this.c_===e.Uh()&&this.d_===e.bi()}}function nd(e,t){return null===e||null===t?e===t:e.He(t)}class rd{constructor(){this.p_=new Map,this.Dn=null,this.v_=!1}m_(e){this.v_=e,this.Dn=null}w_(e,t){this.g_(t),this.Dn=null;for(let n=t;n<e.length;++n){const t=e[n];let r=this.p_.get(t.timeWeight);void 0===r&&(r=[],this.p_.set(t.timeWeight,r)),r.push({index:n,time:t.time,weight:t.timeWeight,originalTime:t.originalTime})}}M_(e,t,n,r,i){const a=Math.ceil(t/e);return null!==this.Dn&&this.Dn.b_===a&&i===this.Dn.S_&&n===this.Dn.x_||(this.Dn={S_:i,x_:n,Va:this.C_(a,n,r),b_:a}),this.Dn.Va}g_(e){if(0===e)return void this.p_.clear();const t=[];this.p_.forEach((n,r)=>{e<=n[0].index?t.push(r):n.splice(tu(n,e,t=>t.index<e),1/0)});for(const n of t)this.p_.delete(n)}C_(e,t,n){let r=[];const i=e=>!t||n.has(e.index);for(const a of Array.from(this.p_.keys()).sort((e,t)=>t-e)){if(!this.p_.get(a))continue;const t=r;r=[];const n=t.length;let s=0;const o=Vl(this.p_.get(a)),l=o.length;let c=1/0,u=-1/0;for(let a=0;a<l;a++){const l=o[a],d=l.index;for(;s<n;){const e=t[s],n=e.index;if(!(n<d&&i(e))){c=n;break}s++,r.push(e),u=n,c=1/0}if(c-d>=e&&d-u>=e&&i(l))r.push(l),u=d;else if(this.v_)return t}for(;s<n;s++)i(t[s])&&r.push(t[s])}return r}}class id{constructor(e){this.P_=e}k_(){return null===this.P_?null:new td(Math.floor(this.P_.Uh()),Math.ceil(this.P_.bi()))}y_(){return this.P_}static T_(){return new id(null)}}function ad(e,t){return e.weight>t.weight?e:t}class sd{constructor(e,t,n,r){this.Mo=0,this.R_=null,this.D_=[],this.wl=null,this.ml=null,this.V_=new rd,this.I_=new Map,this.B_=id.T_(),this.E_=!0,this.A_=new Hl,this.z_=new Hl,this.L_=new Hl,this.O_=null,this.N_=null,this.F_=new Map,this.W_=-1,this.H_=[],this.Ps=t,this.Sl=n,this.U_=t.rightOffset,this.q_=t.barSpacing,this.ts=e,this.o_=r,this.Y_(),this.V_.m_(t.uniformDistribution),this.j_()}N(){return this.Ps}K_(e){Kl(this.Sl,e),this.X_(),this.Y_()}hr(e,t){var n;Kl(this.Ps,e),this.Ps.fixLeftEdge&&this.Z_(),this.Ps.fixRightEdge&&this.G_(),void 0!==e.barSpacing&&this.ts.dn(e.barSpacing),void 0!==e.rightOffset&&this.ts.fn(e.rightOffset),void 0===e.minBarSpacing&&void 0===e.maxBarSpacing||this.ts.dn(null!=(n=e.barSpacing)?n:this.q_),void 0!==e.ignoreWhitespaceIndices&&e.ignoreWhitespaceIndices!==this.Ps.ignoreWhitespaceIndices&&this.j_(),this.X_(),this.Y_(),this.L_.p()}Rs(e){var t,n;return null!=(n=null==(t=this.D_[e])?void 0:t.time)?n:null}ss(e){var t;return null!=(t=this.D_[e])?t:null}J_(e,t){if(this.D_.length<1)return null;if(this.o_.key(e)>this.o_.key(this.D_[this.D_.length-1].time))return t?this.D_.length-1:null;const n=tu(this.D_,this.o_.key(e),(e,t)=>this.o_.key(e.time)<t);return this.o_.key(e)<this.o_.key(this.D_[n].time)?t?n:null:n}Ki(){return 0===this.Mo||0===this.D_.length||null===this.R_}Q_(){return this.D_.length>0}Pe(){return this.tu(),this.B_.k_()}iu(){return this.tu(),this.B_.y_()}su(){const e=this.Pe();if(null===e)return null;const t={from:e.Uh(),to:e.bi()};return this.nu(t)}nu(e){const t=Math.round(e.from),n=Math.round(e.to),r=Wl(this.eu()),i=Wl(this.ru());return{from:Wl(this.ss(Math.max(r,t))),to:Wl(this.ss(Math.min(i,n)))}}hu(e){return{from:Wl(this.J_(e.from,!0)),to:Wl(this.J_(e.to,!0))}}Qi(){return this.Mo}Eo(e){if(!isFinite(e)||e<=0)return;if(this.Mo===e)return;const t=this.iu(),n=this.Mo;if(this.Mo=e,this.E_=!0,this.Ps.lockVisibleTimeRangeOnResize&&0!==n){const t=this.q_*e/n;this.q_=t}if(this.Ps.fixLeftEdge&&null!==t&&t.Uh()<=0){const t=n-e;this.U_-=Math.round(t/this.q_)+1,this.E_=!0}this.au(),this.lu()}qt(e){if(this.Ki()||!Gl(e))return 0;const t=this.ou()+this.U_-e;return this.Mo-(t+.5)*this.q_-1}_u(e,t){const n=this.ou(),r=void 0===t?0:t.from,i=void 0===t?e.length:t.to;for(let a=r;a<i;a++){const t=e[a].wt,r=n+this.U_-t,i=this.Mo-(r+.5)*this.q_-1;e[a]._t=i}}uu(e,t){const n=Math.ceil(this.cu(e));return t&&this.Ps.ignoreWhitespaceIndices&&!this.du(n)?this.fu(n):n}fn(e){this.E_=!0,this.U_=e,this.lu(),this.ts.pu(),this.ts.ar()}vu(){return this.q_}dn(e){this.mu(e),this.lu(),this.ts.pu(),this.ts.ar()}wu(){return this.U_}Va(){if(this.Ki())return null;if(null!==this.N_)return this.N_;const e=this.q_,t=5*(this.ts.N().layout.fontSize+4)/8*(this.Ps.tickMarkMaxCharacterLength||8),n=Math.round(t/e),r=Wl(this.Pe()),i=Math.max(r.Uh(),r.Uh()-n),a=Math.max(r.bi(),r.bi()-n),s=this.V_.M_(e,t,this.Ps.ignoreWhitespaceIndices,this.F_,this.W_),o=this.eu()+n,l=this.ru()-n,c=this.gu(),u=this.Ps.fixLeftEdge||c,d=this.Ps.fixRightEdge||c;let h=0;for(const f of s){if(!(i<=f.index&&f.index<=a))continue;let e;h<this.H_.length?(e=this.H_[h],e.coord=this.qt(f.index),e.label=this.Mu(f),e.weight=f.weight):(e={needAlignCoordinate:!1,coord:this.qt(f.index),label:this.Mu(f),weight:f.weight},this.H_.push(e)),this.q_>t/2&&!c?e.needAlignCoordinate=!1:e.needAlignCoordinate=u&&f.index<=o||d&&f.index>=l,h++}return this.H_.length=h,this.N_=this.H_,this.H_}bu(){this.E_=!0,this.dn(this.Ps.barSpacing),this.fn(this.Ps.rightOffset)}Su(e){this.E_=!0,this.R_=e,this.lu(),this.Z_()}xu(e,t){const n=this.cu(e),r=this.vu(),i=r+t*(r/10);this.dn(i),this.Ps.rightBarStaysOnScroll||this.fn(this.wu()+(n-this.cu(e)))}eo(e){this.wl&&this.oo(),null===this.ml&&null===this.O_&&(this.Ki()||(this.ml=e,this.Cu()))}ro(e){if(null===this.O_)return;const t=Su(this.Mo-e,0,this.Mo),n=Su(this.Mo-Wl(this.ml),0,this.Mo);0!==t&&0!==n&&this.dn(this.O_.vu*t/n)}ho(){null!==this.ml&&(this.ml=null,this.Pu())}ao(e){null===this.wl&&null===this.O_&&(this.Ki()||(this.wl=e,this.Cu()))}lo(e){if(null===this.wl)return;const t=(this.wl-e)/this.vu();this.U_=Wl(this.O_).wu+t,this.E_=!0,this.lu()}oo(){null!==this.wl&&(this.wl=null,this.Pu())}ku(){this.yu(this.Ps.rightOffset)}yu(e,t=400){if(!isFinite(e))throw new RangeError("offset is required and must be finite number");if(!isFinite(t)||t<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const n=this.U_,r=performance.now();this.ts._n({Tu:e=>(e-r)/t>=1,Ru:i=>{const a=(i-r)/t;return a>=1?e:n+(e-n)*a}})}kt(e,t){this.E_=!0,this.D_=e,this.V_.w_(e,t),this.lu()}Du(){return this.A_}Vu(){return this.z_}Iu(){return this.L_}ou(){return this.R_||0}Bu(e){const t=e.f_();this.mu(this.Mo/t),this.U_=e.bi()-this.ou(),this.lu(),this.E_=!0,this.ts.pu(),this.ts.ar()}Eu(){const e=this.eu(),t=this.ru();null!==e&&null!==t&&this.Bu(new td(e,t+this.Ps.rightOffset))}Au(e){const t=new td(e.from,e.to);this.Bu(t)}ns(e){return void 0!==this.Sl.timeFormatter?this.Sl.timeFormatter(e.originalTime):this.o_.formatHorzItem(e.time)}j_(){if(!this.Ps.ignoreWhitespaceIndices)return;this.F_.clear();const e=this.ts.js();for(const t of e)for(const e of t.ma())this.F_.set(e,!0);this.W_++}gu(){const e=this.ts.N().handleScroll,t=this.ts.N().handleScale;return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||t.axisDoubleClickReset.time||t.axisPressedMouseMove.time||t.mouseWheel||t.pinch)}eu(){return 0===this.D_.length?null:0}ru(){return 0===this.D_.length?null:this.D_.length-1}zu(e){return(this.Mo-1-e)/this.q_}cu(e){const t=this.zu(e),n=this.ou()+this.U_-t;return Math.round(1e6*n)/1e6}mu(e){const t=this.q_;this.q_=e,this.au(),t!==this.q_&&(this.E_=!0,this.Lu())}tu(){if(!this.E_)return;if(this.E_=!1,this.Ki())return void this.Ou(id.T_());const e=this.ou(),t=this.Mo/this.q_,n=this.U_+e,r=new td(n-t+1,n);this.Ou(new id(r))}au(){const e=Su(this.q_,this.Nu(),this.Fu());this.q_!==e&&(this.q_=e,this.E_=!0)}Fu(){return this.Ps.maxBarSpacing>0?this.Ps.maxBarSpacing:.5*this.Mo}Nu(){return this.Ps.fixLeftEdge&&this.Ps.fixRightEdge&&0!==this.D_.length?this.Mo/this.D_.length:this.Ps.minBarSpacing}lu(){const e=this.Wu();null!==e&&this.U_<e&&(this.U_=e,this.E_=!0);const t=this.Hu();this.U_>t&&(this.U_=t,this.E_=!0)}Wu(){const e=this.eu(),t=this.R_;return null===e||null===t?null:e-t-1+(this.Ps.fixLeftEdge?this.Mo/this.q_:Math.min(2,this.D_.length))}Hu(){return this.Ps.fixRightEdge?0:this.Mo/this.q_-Math.min(2,this.D_.length)}Cu(){this.O_={vu:this.vu(),wu:this.wu()}}Pu(){this.O_=null}Mu(e){let t=this.I_.get(e.weight);return void 0===t&&(t=new ed(e=>this.Uu(e),this.o_),this.I_.set(e.weight,t)),t.__(e)}Uu(e){return this.o_.formatTickmark(e,this.Sl)}Ou(e){const t=this.B_;this.B_=e,nd(t.k_(),this.B_.k_())||this.A_.p(),nd(t.y_(),this.B_.y_())||this.z_.p(),this.Lu()}Lu(){this.N_=null}X_(){this.Lu(),this.I_.clear()}Y_(){this.o_.updateFormatter(this.Sl)}Z_(){if(!this.Ps.fixLeftEdge)return;const e=this.eu();if(null===e)return;const t=this.Pe();if(null===t)return;const n=t.Uh()-e;if(n<0){const e=this.U_-n-1;this.fn(e)}this.au()}G_(){this.lu(),this.au()}du(e){return!this.Ps.ignoreWhitespaceIndices||this.F_.get(e)||!1}fu(e){const t=function*(e){const t=Math.round(e),n=t<e;let r=1;for(;;)n?(yield t+r,yield t-r):(yield t-r,yield t+r),r++}(e),n=this.ru();for(;n;){const e=t.next().value;if(this.F_.get(e))return e;if(e<0||e>n)break}return e}}var od,ld,cd,ud,dd;!function(e){e[e.OnTouchEnd=0]="OnTouchEnd",e[e.OnNextTap=1]="OnNextTap"}(od||(od={}));class hd{constructor(e,t,n){this.$u=[],this.qu=[],this.Mo=0,this.Yu=null,this.ju=new Hl,this.Ku=new Hl,this.Xu=null,this.Zu=e,this.Ps=t,this.o_=n,this.xl=new ic(this.Ps.layout.colorParsers),this.Gu=new tc(this),this.uh=new sd(this,t.timeScale,this.Ps.localization,n),this.Ct=new kc(this,t.crosshair),this.Ju=new ku(t.crosshair),t.addDefaultPane&&(this.Qu(0),this.$u[0].Bo(2)),this.tc=this.sc(0),this.nc=this.sc(1)}Bh(){this.ec(Cc.gn())}ar(){this.ec(Cc.wn())}Zh(){this.ec(new Cc(1))}Eh(e){const t=this.rc(e);this.ec(t)}hc(){return this.Yu}ac(e){var t,n,r,i;if((null==(t=this.Yu)?void 0:t.n_)===(null==e?void 0:e.n_)&&(null==(r=null==(n=this.Yu)?void 0:n.e_)?void 0:r.Kn)===(null==(i=null==e?void 0:e.e_)?void 0:i.Kn))return;const a=this.Yu;this.Yu=e,null!==a&&this.Eh(a.n_),null!==e&&e.n_!==(null==a?void 0:a.n_)&&this.Eh(e.n_)}N(){return this.Ps}hr(e){Kl(this.Ps,e),this.$u.forEach(t=>t.Ro(e)),void 0!==e.timeScale&&this.uh.hr(e.timeScale),void 0!==e.localization&&this.uh.K_(e.localization),(e.leftPriceScale||e.rightPriceScale)&&this.ju.p(),this.tc=this.sc(0),this.nc=this.sc(1),this.Bh()}lc(e,t,n=0){const r=this.$u[n];if(void 0===r)return;if("left"===e)return Kl(this.Ps,{leftPriceScale:t}),r.Ro({leftPriceScale:t}),this.ju.p(),void this.Bh();if("right"===e)return Kl(this.Ps,{rightPriceScale:t}),r.Ro({rightPriceScale:t}),this.ju.p(),void this.Bh();const i=this.oc(e,n);null!==i&&(i.Ft.hr(t),this.ju.p())}oc(e,t){const n=this.$u[t];if(void 0===n)return null;const r=n.Do(e);return null!==r?{Us:n,Ft:r}:null}Et(){return this.uh}$s(){return this.$u}_c(){return this.Ct}uc(){return this.Ku}cc(e,t){e.zl(t),this.pu()}Eo(e){this.Mo=e,this.uh.Eo(this.Mo),this.$u.forEach(t=>t.Eo(e)),this.pu()}dc(e){1!==this.$u.length&&(Bl(e>=0&&e<this.$u.length,"Invalid pane index"),this.$u.splice(e,1),this.Bh())}fc(e,t){if(this.$u.length<2)return;Bl(e>=0&&e<this.$u.length,"Invalid pane index");const n=this.$u[e],r=this.$u.reduce((e,t)=>e+t.Io(),0),i=this.$u.reduce((e,t)=>e+t.$t(),0),a=i-30*(this.$u.length-1);t=Math.min(a,Math.max(30,t));const s=r/i,o=n.$t();n.Bo(t*s);let l=t-o,c=this.$u.length-1;for(const u of this.$u)if(u!==n){const e=Math.min(a,Math.max(30,u.$t()-l/c));l-=u.$t()-e,c-=1;const t=e*s;u.Bo(t)}this.Bh()}vc(e,t){Bl(e>=0&&e<this.$u.length&&t>=0&&t<this.$u.length,"Invalid pane index");const n=this.$u[e],r=this.$u[t];this.$u[e]=r,this.$u[t]=n,this.Bh()}mc(e,t){if(Bl(e>=0&&e<this.$u.length&&t>=0&&t<this.$u.length,"Invalid pane index"),e===t)return;const[n]=this.$u.splice(e,1);this.$u.splice(t,0,n),this.Bh()}Uo(e,t,n){e.Uo(t,n)}$o(e,t,n){e.$o(t,n),this.Ah(),this.ec(this.wc(e,2))}qo(e,t){e.qo(t),this.ec(this.wc(e,2))}Yo(e,t,n){t.Rl()||e.Yo(t,n)}jo(e,t,n){t.Rl()||(e.jo(t,n),this.Ah(),this.ec(this.wc(e,2)))}Ko(e,t){t.Rl()||(e.Ko(t),this.ec(this.wc(e,2)))}Zo(e,t){e.Zo(t),this.ec(this.wc(e,2))}gc(e){this.uh.eo(e)}Mc(e,t){const n=this.Et();if(n.Ki()||0===t)return;const r=n.Qi();e=Math.max(1,Math.min(e,r)),n.xu(e,t),this.pu()}bc(e){this.Sc(0),this.xc(e),this.Cc()}Pc(e){this.uh.ro(e),this.pu()}kc(){this.uh.ho(),this.ar()}Sc(e){this.uh.ao(e)}xc(e){this.uh.lo(e),this.pu()}Cc(){this.uh.oo(),this.ar()}js(){return this.qu}yc(e,t,n,r,i){this.Ct.Vs(e,t);let a=NaN,s=this.uh.uu(e,!0);const o=this.uh.Pe();null!==o&&(s=Math.min(Math.max(o.Uh(),s),o.bi()));const l=r.ys(),c=l.zt();if(null!==c&&(a=l.Ts(t,c)),a=this.Ju.Ma(a,s,r),this.Ct.As(s,a,r),this.Zh(),!i){const i=Ju(r,e,t);this.ac(i&&{n_:i.n_,e_:i.e_,h_:i.h_||null}),this.Ku.p(this.Ct.Bt(),{x:e,y:t},n)}}Tc(e,t,n){const r=n.ys(),i=r.zt(),a=r.Nt(e,Wl(i)),s=this.uh.J_(t,!0),o=this.uh.qt(Wl(s));this.yc(o,a,null,n,!0)}Rc(e){this._c().Ls(),this.Zh(),e||this.Ku.p(null,null,null)}Ah(){const e=this.Ct.Us();if(null!==e){const t=this.Ct.Bs(),n=this.Ct.Es();this.yc(t,n,null,e)}this.Ct.Ns()}Dc(e,t,n){const r=this.uh.Rs(0);void 0!==t&&void 0!==n&&this.uh.kt(t,n);const i=this.uh.Rs(0),a=this.uh.ou(),s=this.uh.Pe();if(null!==s&&null!==r&&null!==i){const t=s.Te(a),o=this.o_.key(r)>this.o_.key(i),l=null!==e&&e>a&&!o,c=this.uh.N().allowShiftVisibleRangeOnWhitespaceReplacement,u=t&&(!(void 0===n)||c)&&this.uh.N().shiftVisibleRangeOnNewBar;if(l&&!u){const t=e-a;this.uh.fn(this.uh.wu()-t)}}this.uh.Su(e)}Lh(e){null!==e&&e.Jo()}Hn(e){if(e instanceof Yu)return e;const t=this.$u.find(t=>t.Dt().includes(e));return void 0===t?null:t}pu(){this.$u.forEach(e=>e.Jo()),this.Ah()}m(){this.$u.forEach(e=>e.m()),this.$u.length=0,this.Ps.localization.priceFormatter=void 0,this.Ps.localization.percentageFormatter=void 0,this.Ps.localization.timeFormatter=void 0}Vc(){return this.Gu}Yn(){return this.Gu.N()}Vo(){return this.ju}Ic(e,t){const n=this.Qu(t);this.Bc(e,n),this.qu.push(e),1===this.qu.length?this.Bh():this.ar()}Ec(e){const t=this.Hn(e),n=this.qu.indexOf(e);Bl(-1!==n,"Series not found");const r=Wl(t);this.qu.splice(n,1),r.io(e),e.m&&e.m(),this.uh.j_(),this.Ac(r)}Ih(e,t){const n=Wl(this.Hn(e));n.io(e,!0),n.Jl(e,t,!0)}Eu(){const e=Cc.wn();e.rn(),this.ec(e)}zc(e){const t=Cc.wn();t.ln(e),this.ec(t)}cn(){const e=Cc.wn();e.cn(),this.ec(e)}dn(e){const t=Cc.wn();t.dn(e),this.ec(t)}fn(e){const t=Cc.wn();t.fn(e),this.ec(t)}_n(e){const t=Cc.wn();t._n(e),this.ec(t)}hn(){const e=Cc.wn();e.hn(),this.ec(e)}Lc(){return this.Ps.rightPriceScale.visible?"right":"left"}Oc(e,t){if(Bl(t>=0,"Index should be greater or equal to 0"),t===this.Nc(e))return;const n=Wl(this.Hn(e));n.io(e);const r=this.Qu(t);this.Bc(e,r),0===n.ba().length&&this.Ac(n),this.Bh()}Fc(){return this.nc}$(){return this.tc}Ut(e){const t=this.nc,n=this.tc;if(t===n)return t;if(e=Math.max(0,Math.min(100,Math.round(100*e))),null===this.Xu||this.Xu.mr!==n||this.Xu.wr!==t)this.Xu={mr:n,wr:t,Wc:new Map};else{const t=this.Xu.Wc.get(e);if(void 0!==t)return t}const r=this.xl.tt(n,t,e/100);return this.Xu.Wc.set(e,r),r}Hc(e){return this.$u.indexOf(e)}Xi(){return this.xl}Uc(){return this.$c()}$c(e){const t=new Yu(this.uh,this);this.$u.push(t);const n=null!=e?e:this.$u.length-1,r=Cc.gn();return r.Qs(n,{tn:0,sn:!0}),this.ec(r),t}Qu(e){return Bl(e>=0,"Index should be greater or equal to 0"),(e=Math.min(this.$u.length,e))<this.$u.length?this.$u[e]:this.$c(e)}Nc(e){return this.$u.findIndex(t=>t.Oo().includes(e))}wc(e,t){const n=new Cc(t);if(null!==e){const r=this.$u.indexOf(e);n.Qs(r,{tn:t})}return n}rc(e,t){return void 0===t&&(t=2),this.wc(this.Hn(e),t)}ec(e){this.Zu&&this.Zu(e),this.$u.forEach(e=>e.i_().lr().kt())}Bc(e,t){const n=e.N().priceScaleId,r=void 0!==n?n:this.Lc();t.Jl(e,r),Sc(r)||e.hr(e.N())}sc(e){const t=this.Ps.layout;return"gradient"===t.background.type?0===e?t.background.topColor:t.background.bottomColor:t.background.color}Ac(e){!e.Lo()&&0===e.ba().length&&this.$u.length>1&&this.$u.splice(this.Hc(e),1)}}function fd(e){return!Ul(e)&&!ql(e)}function md(e){return Ul(e)}!function(e){e[e.Disabled=0]="Disabled",e[e.Continuous=1]="Continuous",e[e.OnDataUpdate=2]="OnDataUpdate"}(ld||(ld={})),function(e){e[e.LastBar=0]="LastBar",e[e.LastVisible=1]="LastVisible"}(cd||(cd={})),function(e){e.Solid="solid",e.VerticalGradient="gradient"}(ud||(ud={})),function(e){e[e.Year=0]="Year",e[e.Month=1]="Month",e[e.DayOfMonth=2]="DayOfMonth",e[e.Time=3]="Time",e[e.TimeWithSeconds=4]="TimeWithSeconds"}(dd||(dd={}));const gd=e=>e.getUTCFullYear();class pd{constructor(e="yyyy-MM-dd",t="default"){this.qc=e,this.Yc=t}__(e){return function(e,t,n){return t.replace(/yyyy/g,(r=e,Ec(gd(r),4))).replace(/yy/g,(e=>Ec(gd(e)%100,2))(e)).replace(/MMMM/g,((e,t)=>new Date(e.getUTCFullYear(),e.getUTCMonth(),1).toLocaleString(t,{month:"long"}))(e,n)).replace(/MMM/g,((e,t)=>new Date(e.getUTCFullYear(),e.getUTCMonth(),1).toLocaleString(t,{month:"short"}))(e,n)).replace(/MM/g,(e=>Ec(e.getUTCMonth()+1,2))(e)).replace(/dd/g,(e=>Ec(e.getUTCDate(),2))(e));var r}(e,this.qc,this.Yc)}}class vd{constructor(e){this.jc=e||"%h:%m:%s"}__(e){return this.jc.replace("%h",Ec(e.getUTCHours(),2)).replace("%m",Ec(e.getUTCMinutes(),2)).replace("%s",Ec(e.getUTCSeconds(),2))}}const yd={Kc:"yyyy-MM-dd",Xc:"%h:%m:%s",Zc:" ",Gc:"default"};class xd{constructor(e={}){const t=h(h({},yd),e);this.Jc=new pd(t.Kc,t.Gc),this.Qc=new vd(t.Xc),this.td=t.Zc}__(e){return`${this.Jc.__(e)}${this.td}${this.Qc.__(e)}`}}function bd(e){return 60*e*60*1e3}function wd(e){return 60*e*1e3}const _d=[{sd:1e3,nd:10},{sd:wd(1),nd:20},{sd:wd(5),nd:21},{sd:wd(30),nd:22},{sd:bd(1),nd:30},{sd:bd(3),nd:31},{sd:bd(6),nd:32},{sd:bd(12),nd:33}];function jd(e,t){if(e.getUTCFullYear()!==t.getUTCFullYear())return 70;if(e.getUTCMonth()!==t.getUTCMonth())return 60;if(e.getUTCDate()!==t.getUTCDate())return 50;for(let n=_d.length-1;n>=0;--n)if(Math.floor(t.getTime()/_d[n].sd)!==Math.floor(e.getTime()/_d[n].sd))return _d[n].nd;return 0}function Nd(e){let t=e;if(ql(e)&&(t=Sd(e)),!fd(t))throw new Error("time must be of type BusinessDay");const n=new Date(Date.UTC(t.year,t.month-1,t.day,0,0,0,0));return{ed:Math.round(n.getTime()/1e3),rd:t}}function kd(e){if(!md(e))throw new Error("time must be of type isUTCTimestamp");return{ed:e}}function Sd(e){const t=new Date(e);if(isNaN(t.getTime()))throw new Error(`Invalid date string=${e}, expected format=yyyy-mm-dd`);return{day:t.getUTCDate(),month:t.getUTCMonth()+1,year:t.getUTCFullYear()}}function Cd(e){ql(e.time)&&(e.time=Sd(e.time))}class Pd{options(){return this.Ps}setOptions(e){this.Ps=e,this.updateFormatter(e.localization)}preprocessData(e){Array.isArray(e)?e.forEach(Cd):Cd(e)}createConverterToInternalObj(e){return Wl(0===(t=e).length?null:fd(t[0].time)||ql(t[0].time)?Nd:kd);var t}key(e){return"object"==typeof e&&"ed"in e?e.ed:this.key(this.convertHorzItemToInternal(e))}cacheKey(e){const t=e;return void 0===t.rd?new Date(1e3*t.ed).getTime():new Date(Date.UTC(t.rd.year,t.rd.month-1,t.rd.day)).getTime()}convertHorzItemToInternal(e){return md(t=e)?kd(t):fd(t)?Nd(t):Nd(Sd(t));var t}updateFormatter(e){if(!this.Ps)return;const t=e.dateFormat;this.Ps.timeScale.timeVisible?this.hd=new xd({Kc:t,Xc:this.Ps.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",Zc:"   ",Gc:e.locale}):this.hd=new pd(t,e.locale)}formatHorzItem(e){const t=e;return this.hd.__(new Date(1e3*t.ed))}formatTickmark(e,t){const n=function(e,t,n){switch(e){case 0:case 10:return t?n?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return t?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(e.weight,this.Ps.timeScale.timeVisible,this.Ps.timeScale.secondsVisible),r=this.Ps.timeScale;if(void 0!==r.tickMarkFormatter){const i=r.tickMarkFormatter(e.originalTime,n,t.locale);if(null!==i)return i}return function(e,t,n){const r={};switch(t){case 0:r.year="numeric";break;case 1:r.month="short";break;case 2:r.day="numeric";break;case 3:r.hour12=!1,r.hour="2-digit",r.minute="2-digit";break;case 4:r.hour12=!1,r.hour="2-digit",r.minute="2-digit",r.second="2-digit"}const i=void 0===e.rd?new Date(1e3*e.ed):new Date(Date.UTC(e.rd.year,e.rd.month-1,e.rd.day));return new Date(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()).toLocaleString(n,r)}(e.time,n,t.locale)}maxTickMarkWeight(e){let t=e.reduce(ad,e[0]).weight;return t>30&&t<50&&(t=30),t}fillWeightsForPoints(e,t){!function(e,t=0){if(0===e.length)return;let n=0===t?null:e[t-1].time.ed,r=null!==n?new Date(1e3*n):null,i=0;for(let a=t;a<e.length;++a){const t=e[a],s=new Date(1e3*t.time.ed);null!==r&&(t.timeWeight=jd(s,r)),i+=t.time.ed-(n||t.time.ed),n=t.time.ed,r=s}if(0===t&&e.length>1){const t=Math.ceil(i/(e.length-1)),n=new Date(1e3*(e[0].time.ed-t));e[0].timeWeight=jd(new Date(1e3*e[0].time.ed),n)}}(e,t)}static ad(e){return Kl({localization:{dateFormat:"dd MMM 'yy"}},null!=e?e:{})}}const Ed="undefined"!=typeof window;function Md(){return!!Ed&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function Od(){return!!Ed&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function Ad(e){return e+e%2}class Td{constructor(e,t,n){this.ld=0,this.od=null,this._d={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.ud=0,this.dd=null,this.fd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.pd=null,this.vd=!1,this.md=null,this.wd=null,this.gd=!1,this.Md=!1,this.bd=!1,this.Sd=null,this.xd=null,this.Cd=null,this.Pd=null,this.kd=null,this.yd=null,this.Td=null,this.Rd=0,this.Dd=!1,this.Vd=!1,this.Id=!1,this.Bd=0,this.Ed=null,this.Ad=!Od(),this.zd=e=>{this.Ld(e)},this.Od=e=>{if(this.Nd(e)){const t=this.Fd(e);if(++this.ud,this.dd&&this.ud>1){const{Wd:n}=this.Hd(Id(e),this.fd);n<30&&!this.bd&&this.Ud(t,this.qd.$d),this.Yd()}}else{const t=this.Fd(e);if(++this.ld,this.od&&this.ld>1){const{Wd:n}=this.Hd(Id(e),this._d);n<5&&!this.Md&&this.jd(t,this.qd.Kd),this.Xd()}}},this.Zd=e,this.qd=t,this.Ps=n,this.Gd()}m(){null!==this.Sd&&(this.Sd(),this.Sd=null),null!==this.xd&&(this.xd(),this.xd=null),null!==this.Pd&&(this.Pd(),this.Pd=null),null!==this.kd&&(this.kd(),this.kd=null),null!==this.yd&&(this.yd(),this.yd=null),null!==this.Cd&&(this.Cd(),this.Cd=null),this.Jd(),this.Xd()}Qd(e){this.Pd&&this.Pd();const t=this.tf.bind(this);if(this.Pd=()=>{this.Zd.removeEventListener("mousemove",t)},this.Zd.addEventListener("mousemove",t),this.Nd(e))return;const n=this.Fd(e);this.jd(n,this.qd.if),this.Ad=!0}Xd(){null!==this.od&&clearTimeout(this.od),this.ld=0,this.od=null,this._d={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}Yd(){null!==this.dd&&clearTimeout(this.dd),this.ud=0,this.dd=null,this.fd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}tf(e){if(this.Id||null!==this.wd)return;if(this.Nd(e))return;const t=this.Fd(e);this.jd(t,this.qd.sf),this.Ad=!0}nf(e){const t=zd(e.changedTouches,Wl(this.Ed));if(null===t)return;if(this.Bd=Ld(e),null!==this.Td)return;if(this.Vd)return;this.Dd=!0;const n=this.Hd(Id(t),Wl(this.wd)),{ef:r,rf:i,Wd:a}=n;if(this.gd||!(a<5)){if(!this.gd){const e=.5*r,t=i>=e&&!this.Ps.hf(),n=e>i&&!this.Ps.af();t||n||(this.Vd=!0),this.gd=!0,this.bd=!0,this.Jd(),this.Yd()}if(!this.Vd){const n=this.Fd(e,t);this.Ud(n,this.qd.lf),Dd(e)}}}_f(e){if(0!==e.button)return;const t=this.Hd(Id(e),Wl(this.md)),{Wd:n}=t;if(n>=5&&(this.Md=!0,this.Xd()),this.Md){const t=this.Fd(e);this.jd(t,this.qd.uf)}}Hd(e,t){const n=Math.abs(t._t-e._t),r=Math.abs(t.ut-e.ut);return{ef:n,rf:r,Wd:n+r}}cf(e){let t=zd(e.changedTouches,Wl(this.Ed));if(null===t&&0===e.touches.length&&(t=e.changedTouches[0]),null===t)return;this.Ed=null,this.Bd=Ld(e),this.Jd(),this.wd=null,this.yd&&(this.yd(),this.yd=null);const n=this.Fd(e,t);if(this.Ud(n,this.qd.df),++this.ud,this.dd&&this.ud>1){const{Wd:e}=this.Hd(Id(t),this.fd);e<30&&!this.bd&&this.Ud(n,this.qd.$d),this.Yd()}else this.bd||(this.Ud(n,this.qd.ff),this.qd.ff&&Dd(e));0===this.ud&&Dd(e),0===e.touches.length&&this.vd&&(this.vd=!1,Dd(e))}Ld(e){if(0!==e.button)return;const t=this.Fd(e);if(this.md=null,this.Id=!1,this.kd&&(this.kd(),this.kd=null),Md()&&this.Zd.ownerDocument.documentElement.removeEventListener("mouseleave",this.zd),!this.Nd(e))if(this.jd(t,this.qd.pf),++this.ld,this.od&&this.ld>1){const{Wd:n}=this.Hd(Id(e),this._d);n<5&&!this.Md&&this.jd(t,this.qd.Kd),this.Xd()}else this.Md||this.jd(t,this.qd.vf)}Jd(){null!==this.pd&&(clearTimeout(this.pd),this.pd=null)}mf(e){if(null!==this.Ed)return;const t=e.changedTouches[0];this.Ed=t.identifier,this.Bd=Ld(e);const n=this.Zd.ownerDocument.documentElement;this.bd=!1,this.gd=!1,this.Vd=!1,this.wd=Id(t),this.yd&&(this.yd(),this.yd=null);{const t=this.nf.bind(this),r=this.cf.bind(this);this.yd=()=>{n.removeEventListener("touchmove",t),n.removeEventListener("touchend",r)},n.addEventListener("touchmove",t,{passive:!1}),n.addEventListener("touchend",r,{passive:!1}),this.Jd(),this.pd=setTimeout(this.wf.bind(this,e),240)}const r=this.Fd(e,t);this.Ud(r,this.qd.gf),this.dd||(this.ud=0,this.dd=setTimeout(this.Yd.bind(this),500),this.fd=Id(t))}Mf(e){if(0!==e.button)return;const t=this.Zd.ownerDocument.documentElement;Md()&&t.addEventListener("mouseleave",this.zd),this.Md=!1,this.md=Id(e),this.kd&&(this.kd(),this.kd=null);{const e=this._f.bind(this),n=this.Ld.bind(this);this.kd=()=>{t.removeEventListener("mousemove",e),t.removeEventListener("mouseup",n)},t.addEventListener("mousemove",e),t.addEventListener("mouseup",n)}if(this.Id=!0,this.Nd(e))return;const n=this.Fd(e);this.jd(n,this.qd.bf),this.od||(this.ld=0,this.od=setTimeout(this.Xd.bind(this),500),this._d=Id(e))}Gd(){this.Zd.addEventListener("mouseenter",this.Qd.bind(this)),this.Zd.addEventListener("touchcancel",this.Jd.bind(this));{const e=this.Zd.ownerDocument,t=e=>{this.qd.Sf&&(e.composed&&this.Zd.contains(e.composedPath()[0])||e.target&&this.Zd.contains(e.target)||this.qd.Sf())};this.xd=()=>{e.removeEventListener("touchstart",t)},this.Sd=()=>{e.removeEventListener("mousedown",t)},e.addEventListener("mousedown",t),e.addEventListener("touchstart",t,{passive:!0})}Od()&&(this.Cd=()=>{this.Zd.removeEventListener("dblclick",this.Od)},this.Zd.addEventListener("dblclick",this.Od)),this.Zd.addEventListener("mouseleave",this.xf.bind(this)),this.Zd.addEventListener("touchstart",this.mf.bind(this),{passive:!0}),function(e){Ed&&void 0!==window.chrome&&e.addEventListener("mousedown",e=>{if(1===e.button)return e.preventDefault(),!1})}(this.Zd),this.Zd.addEventListener("mousedown",this.Mf.bind(this)),this.Cf(),this.Zd.addEventListener("touchmove",()=>{},{passive:!1})}Cf(){void 0===this.qd.Pf&&void 0===this.qd.kf&&void 0===this.qd.yf||(this.Zd.addEventListener("touchstart",e=>this.Tf(e.touches),{passive:!0}),this.Zd.addEventListener("touchmove",e=>{if(2===e.touches.length&&null!==this.Td&&void 0!==this.qd.kf){const t=Rd(e.touches[0],e.touches[1])/this.Rd;this.qd.kf(this.Td,t),Dd(e)}},{passive:!1}),this.Zd.addEventListener("touchend",e=>{this.Tf(e.touches)}))}Tf(e){1===e.length&&(this.Dd=!1),2!==e.length||this.Dd||this.vd?this.Rf():this.Df(e)}Df(e){const t=this.Zd.getBoundingClientRect()||{left:0,top:0};this.Td={_t:(e[0].clientX-t.left+(e[1].clientX-t.left))/2,ut:(e[0].clientY-t.top+(e[1].clientY-t.top))/2},this.Rd=Rd(e[0],e[1]),void 0!==this.qd.Pf&&this.qd.Pf(),this.Jd()}Rf(){null!==this.Td&&(this.Td=null,void 0!==this.qd.yf&&this.qd.yf())}xf(e){if(this.Pd&&this.Pd(),this.Nd(e))return;if(!this.Ad)return;const t=this.Fd(e);this.jd(t,this.qd.Vf),this.Ad=!Od()}wf(e){const t=zd(e.touches,Wl(this.Ed));if(null===t)return;const n=this.Fd(e,t);this.Ud(n,this.qd.If),this.bd=!0,this.vd=!0}Nd(e){return e.sourceCapabilities&&void 0!==e.sourceCapabilities.firesTouchEvents?e.sourceCapabilities.firesTouchEvents:Ld(e)<this.Bd+500}Ud(e,t){t&&t.call(this.qd,e)}jd(e,t){t&&t.call(this.qd,e)}Fd(e,t){const n=t||e,r=this.Zd.getBoundingClientRect()||{left:0,top:0};return{clientX:n.clientX,clientY:n.clientY,pageX:n.pageX,pageY:n.pageY,screenX:n.screenX,screenY:n.screenY,localX:n.clientX-r.left,localY:n.clientY-r.top,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,Bf:!e.type.startsWith("mouse")&&"contextmenu"!==e.type&&"click"!==e.type,Ef:e.type,Af:n.target,a_:e.view,zf:()=>{"touchstart"!==e.type&&Dd(e)}}}}function Rd(e,t){const n=e.clientX-t.clientX,r=e.clientY-t.clientY;return Math.sqrt(n*n+r*r)}function Dd(e){e.cancelable&&e.preventDefault()}function Id(e){return{_t:e.pageX,ut:e.pageY}}function Ld(e){return e.timeStamp||performance.now()}function zd(e,t){for(let n=0;n<e.length;++n)if(e[n].identifier===t)return e[n];return null}class Fd{constructor(e,t,n){this.Lf=null,this.Of=null,this.Nf=!0,this.Ff=null,this.Wf=e,this.Hf=e.Uf()[t],this.$f=e.Uf()[n],this.qf=document.createElement("tr"),this.qf.style.height="1px",this.Yf=document.createElement("td"),this.Yf.style.position="relative",this.Yf.style.padding="0",this.Yf.style.margin="0",this.Yf.setAttribute("colspan","3"),this.jf(),this.qf.appendChild(this.Yf),this.Nf=this.Wf.N().layout.panes.enableResize,this.Nf?this.Kf():(this.Lf=null,this.Of=null)}m(){null!==this.Of&&this.Of.m()}Xf(){return this.qf}Zf(){return Cl({width:this.Hf.Zf().width,height:1})}Gf(){return Cl({width:this.Hf.Gf().width,height:1*window.devicePixelRatio})}Jf(e,t,n){const r=this.Gf();e.fillStyle=this.Wf.N().layout.panes.separatorColor,e.fillRect(t,n,r.width,r.height)}kt(){this.jf(),this.Wf.N().layout.panes.enableResize!==this.Nf&&(this.Nf=this.Wf.N().layout.panes.enableResize,this.Nf?this.Kf():(null!==this.Lf&&(this.Yf.removeChild(this.Lf.Qf),this.Yf.removeChild(this.Lf.tp),this.Lf=null),null!==this.Of&&(this.Of.m(),this.Of=null)))}Kf(){const e=document.createElement("div"),t=e.style;t.position="fixed",t.display="none",t.zIndex="49",t.top="0",t.left="0",t.width="100%",t.height="100%",t.cursor="row-resize",this.Yf.appendChild(e);const n=document.createElement("div"),r=n.style;r.position="absolute",r.zIndex="50",r.top="-4px",r.height="9px",r.width="100%",r.backgroundColor="",r.cursor="row-resize",this.Yf.appendChild(n);const i={if:this.ip.bind(this),Vf:this.sp.bind(this),bf:this.np.bind(this),gf:this.np.bind(this),uf:this.ep.bind(this),lf:this.ep.bind(this),pf:this.rp.bind(this),df:this.rp.bind(this)};this.Of=new Td(n,i,{hf:()=>!1,af:()=>!0}),this.Lf={tp:n,Qf:e}}jf(){this.Yf.style.background=this.Wf.N().layout.panes.separatorColor}ip(e){null!==this.Lf&&(this.Lf.tp.style.backgroundColor=this.Wf.N().layout.panes.separatorHoverColor)}sp(e){null!==this.Lf&&null===this.Ff&&(this.Lf.tp.style.backgroundColor="")}np(e){if(null===this.Lf)return;const t=this.Hf.hp().Io()+this.$f.hp().Io(),n=t/(this.Hf.Zf().height+this.$f.Zf().height),r=30*n;t<=2*r||(this.Ff={ap:e.pageY,lp:this.Hf.hp().Io(),op:t-r,_p:t,up:n,cp:r},this.Lf.Qf.style.display="block")}ep(e){const t=this.Ff;if(null===t)return;const n=(e.pageY-t.ap)*t.up,r=Su(t.lp+n,t.cp,t.op);this.Hf.hp().Bo(r),this.$f.hp().Bo(t._p-r),this.Wf.Qt().Bh()}rp(e){null!==this.Ff&&null!==this.Lf&&(this.Ff=null,this.Lf.Qf.style.display="none")}}function Bd(e,t){return e.dp-t.dp}function Vd(e,t,n){const r=(e.dp-t.dp)/(e.wt-t.wt);return Math.sign(r)*Math.min(Math.abs(r),n)}class Wd{constructor(e,t,n,r){this.fp=null,this.pp=null,this.vp=null,this.mp=null,this.wp=null,this.gp=0,this.Mp=0,this.bp=e,this.Sp=t,this.xp=n,this.Mn=r}Cp(e,t){if(null!==this.fp){if(this.fp.wt===t)return void(this.fp.dp=e);if(Math.abs(this.fp.dp-e)<this.Mn)return}this.mp=this.vp,this.vp=this.pp,this.pp=this.fp,this.fp={wt:t,dp:e}}le(e,t){if(null===this.fp||null===this.pp)return;if(t-this.fp.wt>50)return;let n=0;const r=Vd(this.fp,this.pp,this.Sp),i=Bd(this.fp,this.pp),a=[r],s=[i];if(n+=i,null!==this.vp){const e=Vd(this.pp,this.vp,this.Sp);if(Math.sign(e)===Math.sign(r)){const t=Bd(this.pp,this.vp);if(a.push(e),s.push(t),n+=t,null!==this.mp){const e=Vd(this.vp,this.mp,this.Sp);if(Math.sign(e)===Math.sign(r)){const t=Bd(this.vp,this.mp);a.push(e),s.push(t),n+=t}}}}let o=0;for(let l=0;l<a.length;++l)o+=s[l]/n*a[l];Math.abs(o)<this.bp||(this.wp={dp:e,wt:t},this.Mp=o,this.gp=function(e,t){const n=Math.log(t);return Math.log(1*n/-e)/n}(Math.abs(o),this.xp))}Ru(e){const t=Wl(this.wp),n=e-t.wt;return t.dp+this.Mp*(Math.pow(this.xp,n)-1)/Math.log(this.xp)}Tu(e){return null===this.wp||this.Pp(e)===this.gp}Pp(e){const t=e-Wl(this.wp).wt;return Math.min(t,this.gp)}}class $d{constructor(e,t){this.kp=void 0,this.yp=void 0,this.Tp=void 0,this.ps=!1,this.Rp=e,this.Dp=t,this.Vp()}kt(){this.Vp()}Ip(){this.kp&&this.Rp.removeChild(this.kp),this.yp&&this.Rp.removeChild(this.yp),this.kp=void 0,this.yp=void 0}Bp(){return this.ps!==this.Ep()||this.Tp!==this.Ap()}Ap(){return this.Dp.Qt().Xi().J(this.Dp.N().layout.textColor)>160?"dark":"light"}Ep(){return this.Dp.N().layout.attributionLogo}zp(){const e=new URL(location.href);return e.hostname?"&utm_source="+e.hostname+e.pathname:""}Vp(){this.Bp()&&(this.Ip(),this.ps=this.Ep(),this.ps&&(this.Tp=this.Ap(),this.yp=document.createElement("style"),this.yp.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.kp=document.createElement("a"),this.kp.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.zp()}`,this.kp.title="Charting by TradingView",this.kp.id="tv-attr-logo",this.kp.target="_blank",this.kp.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.kp.toggleAttribute("data-dark","dark"===this.Tp),this.Rp.appendChild(this.yp),this.Rp.appendChild(this.kp)))}}function Hd(e,t){const n=Wl(e.ownerDocument).createElement("canvas");e.appendChild(n);const r=new Ml(n,(i={options:{allowResizeObserver:!0},transform:(e,t)=>({width:Math.max(e.width,t.width),height:Math.max(e.height,t.height)})}).transform,i.options);var i;return r.resizeCanvasElement(t),r}function Kd(e){var t;e.width=1,e.height=1,null==(t=e.getContext("2d"))||t.clearRect(0,0,1,1)}function Ud(e,t,n,r){e.ih&&e.ih(t,n,r)}function Gd(e,t,n,r){e.nt(t,n,r)}function qd(e,t,n,r){const i=e(n,r);for(const a of i){const e=a.Tt(r);null!==e&&t(e)}}function Yd(e,t){return n=>{var r,i,a,s;return void 0===n.Ft||(null!=(i=null==(r=n.Ft())?void 0:r.wa())?i:"")!==t?[]:null!=(s=null==(a=n.ta)?void 0:a.call(n,e))?s:[]}}function Xd(e,t,n,r){if(!e.length)return;let i=0;const a=e[0].$t(r,!0);let s=1===t?n/2-(e[0].Fi()-a/2):e[0].Fi()-a/2-n/2;s=Math.max(0,s);for(let o=1;o<e.length;o++){const a=e[o],l=e[o-1],c=l.$t(r,!1),u=a.Fi(),d=l.Fi();if(1===t?u>d-c:u<d+c){const r=d-c*t;a.Wi(r);const o=r-t*c/2;if((1===t?o<0:o>n)&&s>0){const r=1===t?-1-o:o-n,a=Math.min(r,s);for(let n=i;n<e.length;n++)e[n].Wi(e[n].Fi()+t*a);s-=a}}else i=o,s=1===t?d-c-u:u-(d+c)}}class Qd{constructor(e,t,n,r){this.Yi=null,this.Lp=null,this.Op=!1,this.Np=new Rc(200),this.Fp=null,this.Wp=0,this.Hp=!1,this.Up=()=>{this.Hp||this.Pt.$p().Qt().ar()},this.qp=()=>{this.Hp||this.Pt.$p().Qt().ar()},this.Pt=e,this.Ps=t,this.bl=t.layout,this.Gu=n,this.Yp="left"===r,this.jp=Yd("normal",r),this.Kp=Yd("top",r),this.Xp=Yd("bottom",r),this.Yf=document.createElement("div"),this.Yf.style.height="100%",this.Yf.style.overflow="hidden",this.Yf.style.width="25px",this.Yf.style.left="0",this.Yf.style.position="relative",this.Zp=Hd(this.Yf,Cl({width:16,height:16})),this.Zp.subscribeSuggestedBitmapSizeChanged(this.Up);const i=this.Zp.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.Gp=Hd(this.Yf,Cl({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.qp);const a=this.Gp.canvasElement;a.style.position="absolute",a.style.zIndex="2",a.style.left="0",a.style.top="0";const s={bf:this.np.bind(this),gf:this.np.bind(this),uf:this.ep.bind(this),lf:this.ep.bind(this),Sf:this.Jp.bind(this),pf:this.rp.bind(this),df:this.rp.bind(this),Kd:this.Qp.bind(this),$d:this.Qp.bind(this),if:this.tv.bind(this),Vf:this.sp.bind(this)};this.Of=new Td(this.Gp.canvasElement,s,{hf:()=>!this.Ps.handleScroll.vertTouchDrag,af:()=>!0})}m(){this.Of.m(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.qp),Kd(this.Gp.canvasElement),this.Gp.dispose(),this.Zp.unsubscribeSuggestedBitmapSizeChanged(this.Up),Kd(this.Zp.canvasElement),this.Zp.dispose(),null!==this.Yi&&this.Yi.no().u(this),this.Yi=null}Xf(){return this.Yf}P(){return this.bl.fontSize}iv(){const e=this.Gu.N();return this.Fp!==e.k&&(this.Np.In(),this.Fp=e.k),e}sv(){if(null===this.Yi)return 0;let e=0;const t=this.iv(),n=Wl(this.Zp.canvasElement.getContext("2d",{colorSpace:this.Pt.$p().N().layout.colorSpace}));n.save();const r=this.Yi.Va();n.font=this.nv(),r.length>0&&(e=Math.max(this.Np.Vi(n,r[0].Ga),this.Np.Vi(n,r[r.length-1].Ga)));const i=this.ev();for(let l=i.length;l--;){const t=this.Np.Vi(n,i[l].ri());t>e&&(e=t)}const a=this.Yi.zt();if(null!==a&&null!==this.Lp&&2!==(s=this.Ps.crosshair).mode&&s.horzLine.visible&&s.horzLine.labelVisible){const t=this.Yi.Ts(1,a),r=this.Yi.Ts(this.Lp.height-2,a);e=Math.max(e,this.Np.Vi(n,this.Yi.Zi(Math.floor(Math.min(t,r))+.11111111111111,a)),this.Np.Vi(n,this.Yi.Zi(Math.ceil(Math.max(t,r))-.11111111111111,a)))}var s;n.restore();const o=e||34;return Ad(Math.ceil(t.S+t.C+t.I+t.B+5+o))}rv(e){null!==this.Lp&&Pl(this.Lp,e)||(this.Lp=e,this.Hp=!0,this.Zp.resizeCanvasElement(e),this.Gp.resizeCanvasElement(e),this.Hp=!1,this.Yf.style.width=`${e.width}px`,this.Yf.style.height=`${e.height}px`)}hv(){return Wl(this.Lp).width}_s(e){this.Yi!==e&&(null!==this.Yi&&this.Yi.no().u(this),this.Yi=e,e.no().i(this.ul.bind(this),this))}Ft(){return this.Yi}In(){const e=this.Pt.hp();this.Pt.$p().Qt().Zo(e,Wl(this.Ft()))}av(e){if(null===this.Lp)return;const t={colorSpace:this.Pt.$p().N().layout.colorSpace};if(1!==e){this.lv(),this.Zp.applySuggestedBitmapSize();const e=Tl(this.Zp,t);null!==e&&(e.useBitmapCoordinateSpace(e=>{this.ov(e),this._v(e)}),this.Pt.uv(e,this.Xp),this.cv(e),this.Pt.uv(e,this.jp),this.dv(e))}this.Gp.applySuggestedBitmapSize();const n=Tl(this.Gp,t);null!==n&&(n.useBitmapCoordinateSpace(({context:e,bitmapSize:t})=>{e.clearRect(0,0,t.width,t.height)}),this.fv(n),this.Pt.uv(n,this.Kp))}Gf(){return this.Zp.bitmapSize}Jf(e,t,n){const r=this.Gf();r.width>0&&r.height>0&&e.drawImage(this.Zp.canvasElement,t,n)}kt(){var e;null==(e=this.Yi)||e.Va()}np(e){if(null===this.Yi||this.Yi.Ki()||!this.Ps.handleScale.axisPressedMouseMove.price)return;const t=this.Pt.$p().Qt(),n=this.Pt.hp();this.Op=!0,t.Uo(n,this.Yi,e.localY)}ep(e){if(null===this.Yi||!this.Ps.handleScale.axisPressedMouseMove.price)return;const t=this.Pt.$p().Qt(),n=this.Pt.hp(),r=this.Yi;t.$o(n,r,e.localY)}Jp(){if(null===this.Yi||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.Pt.$p().Qt(),t=this.Pt.hp(),n=this.Yi;this.Op&&(this.Op=!1,e.qo(t,n))}rp(e){if(null===this.Yi||!this.Ps.handleScale.axisPressedMouseMove.price)return;const t=this.Pt.$p().Qt(),n=this.Pt.hp();this.Op=!1,t.qo(n,this.Yi)}Qp(e){this.Ps.handleScale.axisDoubleClickReset.price&&this.In()}tv(e){null!==this.Yi&&(!this.Pt.$p().Qt().N().handleScale.axisPressedMouseMove.price||this.Yi.Le()||this.Yi.Vl()||this.pv(1))}sp(e){this.pv(0)}ev(){const e=[],t=null===this.Yi?void 0:this.Yi;return(n=>{for(let r=0;r<n.length;++r){const i=n[r].Ws(this.Pt.hp(),t);for(let t=0;t<i.length;t++)e.push(i[t])}})(this.Pt.hp().Dt()),e}ov({context:e,bitmapSize:t}){const{width:n,height:r}=t,i=this.Pt.hp().Qt(),a=i.$(),s=i.Fc();a===s?fc(e,0,0,n,r,a):pc(e,0,0,n,r,a,s)}_v({context:e,bitmapSize:t,horizontalPixelRatio:n}){if(null===this.Lp||null===this.Yi||!this.Yi.N().borderVisible)return;e.fillStyle=this.Yi.N().borderColor;const r=Math.max(1,Math.floor(this.iv().S*n));let i;i=this.Yp?t.width-r:0,e.fillRect(i,0,r,t.height)}cv(e){if(null===this.Lp||null===this.Yi)return;const t=this.Yi.Va(),n=this.Yi.N(),r=this.iv(),i=this.Yp?this.Lp.width-r.C:0;n.borderVisible&&n.ticksVisible&&e.useBitmapCoordinateSpace(({context:e,horizontalPixelRatio:a,verticalPixelRatio:s})=>{e.fillStyle=n.borderColor;const o=Math.max(1,Math.floor(s)),l=Math.floor(.5*s),c=Math.round(r.C*a);e.beginPath();for(const n of t)e.rect(Math.floor(i*a),Math.round(n.ka*s)-l,c,o);e.fill()}),e.useMediaCoordinateSpace(({context:e})=>{var a;e.font=this.nv(),e.fillStyle=null!=(a=n.textColor)?a:this.bl.textColor,e.textAlign=this.Yp?"right":"left",e.textBaseline="middle";const s=this.Yp?Math.round(i-r.I):Math.round(i+r.C+r.I),o=t.map(t=>this.Np.Di(e,t.Ga));for(let n=t.length;n--;){const r=t[n];e.fillText(r.Ga,s,r.ka+o[n])}})}lv(){if(null===this.Lp||null===this.Yi)return;let e=this.Lp.height/2;const t=[],n=this.Yi.Dt().slice(),r=this.Pt.hp(),i=this.iv();this.Yi===r.$n()&&this.Pt.hp().Dt().forEach(e=>{r.Un(e)&&n.push(e)});const a=this.Yi.ba()[0],s=this.Yi;n.forEach(n=>{const i=n.Ws(r,s);i.forEach(e=>{e.Wi(null),e.Hi()&&t.push(e)}),a===n&&i.length>0&&(e=i[0].Bi())}),t.forEach(e=>e.Wi(e.Bi())),this.Yi.N().alignLabels&&this.vv(t,i,e)}vv(e,t,n){if(null===this.Lp)return;const r=e.filter(e=>e.Bi()<=n),i=e.filter(e=>e.Bi()>n);r.sort((e,t)=>t.Bi()-e.Bi()),r.length&&i.length&&i.push(r[0]),i.sort((e,t)=>e.Bi()-t.Bi());for(const a of e){const e=Math.floor(a.$t(t)/2),n=a.Bi();n>-e&&n<e&&a.Wi(e),n>this.Lp.height-e&&n<this.Lp.height+e&&a.Wi(this.Lp.height-e)}Xd(r,1,this.Lp.height,t),Xd(i,-1,this.Lp.height,t)}dv(e){if(null===this.Lp)return;const t=this.ev(),n=this.iv(),r=this.Yp?"right":"left";t.forEach(t=>{t.Ui()&&t.Tt(Wl(this.Yi)).nt(e,n,this.Np,r)})}fv(e){if(null===this.Lp||null===this.Yi)return;const t=this.Pt.$p().Qt(),n=[],r=this.Pt.hp(),i=t._c().Ws(r,this.Yi);i.length&&n.push(i);const a=this.iv(),s=this.Yp?"right":"left";n.forEach(t=>{t.forEach(t=>{t.Tt(Wl(this.Yi)).nt(e,a,this.Np,s)})})}pv(e){this.Yf.style.cursor=1===e?"ns-resize":"default"}ul(){const e=this.sv();this.Wp<e&&this.Pt.$p().Qt().Bh(),this.Wp=e}nv(){return ec(this.bl.fontSize,this.bl.fontFamily)}}function Zd(e,t){var n,r;return null!=(r=null==(n=e.Jh)?void 0:n.call(e,t))?r:[]}function Jd(e,t){var n,r;return null!=(r=null==(n=e.Fs)?void 0:n.call(e,t))?r:[]}function eh(e,t){var n,r;return null!=(r=null==(n=e.us)?void 0:n.call(e,t))?r:[]}function th(e,t){var n,r;return null!=(r=null==(n=e.Xh)?void 0:n.call(e,t))?r:[]}class nh{constructor(e,t){this.Lp=Cl({width:0,height:0}),this.mv=null,this.wv=null,this.gv=null,this.Mv=null,this.bv=!1,this.Sv=new Hl,this.xv=new Hl,this.Cv=0,this.Pv=!1,this.kv=null,this.yv=!1,this.Tv=null,this.Rv=null,this.Hp=!1,this.Up=()=>{this.Hp||null===this.Dv||this.ts().ar()},this.qp=()=>{this.Hp||null===this.Dv||this.ts().ar()},this.Dp=e,this.Dv=t,this.Dv.t_().i(this.Vv.bind(this),this,!0),this.Iv=document.createElement("td"),this.Iv.style.padding="0",this.Iv.style.position="relative";const n=document.createElement("div");n.style.width="100%",n.style.height="100%",n.style.position="relative",n.style.overflow="hidden",this.Bv=document.createElement("td"),this.Bv.style.padding="0",this.Ev=document.createElement("td"),this.Ev.style.padding="0",this.Iv.appendChild(n),this.Zp=Hd(n,Cl({width:16,height:16})),this.Zp.subscribeSuggestedBitmapSizeChanged(this.Up);const r=this.Zp.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Gp=Hd(n,Cl({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.qp);const i=this.Gp.canvasElement;i.style.position="absolute",i.style.zIndex="2",i.style.left="0",i.style.top="0",this.qf=document.createElement("tr"),this.qf.appendChild(this.Bv),this.qf.appendChild(this.Iv),this.qf.appendChild(this.Ev),this.Av(),this.Of=new Td(this.Gp.canvasElement,this,{hf:()=>null===this.kv&&!this.Dp.N().handleScroll.vertTouchDrag,af:()=>null===this.kv&&!this.Dp.N().handleScroll.horzTouchDrag})}m(){null!==this.mv&&this.mv.m(),null!==this.wv&&this.wv.m(),this.gv=null,this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.qp),Kd(this.Gp.canvasElement),this.Gp.dispose(),this.Zp.unsubscribeSuggestedBitmapSizeChanged(this.Up),Kd(this.Zp.canvasElement),this.Zp.dispose(),null!==this.Dv&&(this.Dv.t_().u(this),this.Dv.m()),this.Of.m()}hp(){return Wl(this.Dv)}zv(e){var t,n;null!==this.Dv&&this.Dv.t_().u(this),this.Dv=e,null!==this.Dv&&this.Dv.t_().i(nh.prototype.Vv.bind(this),this,!0),this.Av(),this.Dp.Uf().indexOf(this)===this.Dp.Uf().length-1?(this.gv=null!=(t=this.gv)?t:new $d(this.Iv,this.Dp),this.gv.kt()):(null==(n=this.gv)||n.Ip(),this.gv=null)}$p(){return this.Dp}Xf(){return this.qf}Av(){if(null!==this.Dv&&(this.Lv(),0!==this.ts().js().length)){if(null!==this.mv){const e=this.Dv.Wo();this.mv._s(Wl(e))}if(null!==this.wv){const e=this.Dv.Ho();this.wv._s(Wl(e))}}}Ov(){null!==this.mv&&this.mv.kt(),null!==this.wv&&this.wv.kt()}Io(){return null!==this.Dv?this.Dv.Io():0}Bo(e){this.Dv&&this.Dv.Bo(e)}if(e){if(!this.Dv)return;this.Nv();const t=e.localX,n=e.localY;this.Fv(t,n,e)}bf(e){this.Nv(),this.Wv(),this.Fv(e.localX,e.localY,e)}sf(e){if(!this.Dv)return;this.Nv();const t=e.localX,n=e.localY;this.Fv(t,n,e)}vf(e){null!==this.Dv&&(this.Nv(),this.Hv(e))}Kd(e){null!==this.Dv&&this.Uv(this.xv,e)}$d(e){this.Kd(e)}uf(e){this.Nv(),this.$v(e),this.Fv(e.localX,e.localY,e)}pf(e){null!==this.Dv&&(this.Nv(),this.Pv=!1,this.qv(e))}ff(e){null!==this.Dv&&this.Hv(e)}If(e){if(this.Pv=!0,null===this.kv){const t={x:e.localX,y:e.localY};this.Yv(t,t,e)}}Vf(e){null!==this.Dv&&(this.Nv(),this.Dv.Qt().ac(null),this.jv())}Kv(){return this.Sv}Xv(){return this.xv}Pf(){this.Cv=1,this.ts().hn()}kf(e,t){if(!this.Dp.N().handleScale.pinch)return;const n=5*(t-this.Cv);this.Cv=t,this.ts().Mc(e._t,n)}gf(e){this.Pv=!1,this.yv=null!==this.kv,this.Wv();const t=this.ts()._c();null!==this.kv&&t.Vt()&&(this.Tv={x:t.si(),y:t.ni()},this.kv={x:e.localX,y:e.localY})}lf(e){if(null===this.Dv)return;const t=e.localX,n=e.localY;if(null===this.kv)this.$v(e);else{this.yv=!1;const r=Wl(this.Tv),i=r.x+(t-this.kv.x),a=r.y+(n-this.kv.y);this.Fv(i,a,e)}}df(e){0===this.$p().N().trackingMode.exitMode&&(this.yv=!0),this.Zv(),this.qv(e)}jn(e,t){const n=this.Dv;return null===n?null:Ju(n,e,t)}Gv(e,t){Wl("left"===t?this.mv:this.wv).rv(Cl({width:e,height:this.Lp.height}))}Zf(){return this.Lp}rv(e){Pl(this.Lp,e)||(this.Lp=e,this.Hp=!0,this.Zp.resizeCanvasElement(e),this.Gp.resizeCanvasElement(e),this.Hp=!1,this.Iv.style.width=e.width+"px",this.Iv.style.height=e.height+"px")}Jv(){const e=Wl(this.Dv);e.Fo(e.Wo()),e.Fo(e.Ho());for(const t of e.ba())if(e.Un(t)){const n=t.Ft();null!==n&&e.Fo(n),t.Ns()}for(const t of e.s_())t.Ns()}Gf(){return this.Zp.bitmapSize}Jf(e,t,n){const r=this.Gf();r.width>0&&r.height>0&&e.drawImage(this.Zp.canvasElement,t,n)}av(e){if(0===e)return;if(null===this.Dv)return;e>1&&this.Jv(),null!==this.mv&&this.mv.av(e),null!==this.wv&&this.wv.av(e);const t={colorSpace:this.Dp.N().layout.colorSpace};if(1!==e){this.Zp.applySuggestedBitmapSize();const e=Tl(this.Zp,t);null!==e&&(e.useBitmapCoordinateSpace(e=>{this.ov(e)}),this.Dv&&(this.Qv(e,Zd),this.tm(e),this.Qv(e,Jd),this.Qv(e,eh)))}this.Gp.applySuggestedBitmapSize();const n=Tl(this.Gp,t);null!==n&&(n.useBitmapCoordinateSpace(({context:e,bitmapSize:t})=>{e.clearRect(0,0,t.width,t.height)}),this.im(n),this.Qv(n,th),this.Qv(n,eh))}sm(){return this.mv}nm(){return this.wv}uv(e,t){this.Qv(e,t)}Vv(){null!==this.Dv&&this.Dv.t_().u(this),this.Dv=null}Hv(e){this.Uv(this.Sv,e)}Uv(e,t){const n=t.localX,r=t.localY;e.v()&&e.p(this.ts().Et().uu(n),{x:n,y:r},t)}ov({context:e,bitmapSize:t}){const{width:n,height:r}=t,i=this.ts(),a=i.$(),s=i.Fc();a===s?fc(e,0,0,n,r,s):pc(e,0,0,n,r,a,s)}tm(e){const t=Wl(this.Dv),n=t.i_().lr().Tt(t);null!==n&&n.nt(e,!1)}im(e){this.rm(e,Jd,Gd,this.ts()._c())}Qv(e,t){const n=Wl(this.Dv),r=n.Dt(),i=n.s_();for(const a of i)this.rm(e,t,Ud,a);for(const a of r)this.rm(e,t,Ud,a);for(const a of i)this.rm(e,t,Gd,a);for(const a of r)this.rm(e,t,Gd,a)}rm(e,t,n,r){const i=Wl(this.Dv),a=i.Qt().hc(),s=null!==a&&a.n_===r,o=null!==a&&s&&void 0!==a.e_?a.e_.Xn:void 0;qd(t,t=>n(t,e,s,o),r,i)}Lv(){if(null===this.Dv)return;const e=this.Dp,t=this.Dv.Wo().N().visible,n=this.Dv.Ho().N().visible;t||null===this.mv||(this.Bv.removeChild(this.mv.Xf()),this.mv.m(),this.mv=null),n||null===this.wv||(this.Ev.removeChild(this.wv.Xf()),this.wv.m(),this.wv=null);const r=e.Qt().Vc();t&&null===this.mv&&(this.mv=new Qd(this,e.N(),r,"left"),this.Bv.appendChild(this.mv.Xf())),n&&null===this.wv&&(this.wv=new Qd(this,e.N(),r,"right"),this.Ev.appendChild(this.wv.Xf()))}hm(e){return e.Bf&&this.Pv||null!==this.kv}am(e){return Math.max(0,Math.min(e,this.Lp.width-1))}lm(e){return Math.max(0,Math.min(e,this.Lp.height-1))}Fv(e,t,n){this.ts().yc(this.am(e),this.lm(t),n,Wl(this.Dv))}jv(){this.ts().Rc()}Zv(){this.yv&&(this.kv=null,this.jv())}Yv(e,t,n){this.kv=e,this.yv=!1,this.Fv(t.x,t.y,n);const r=this.ts()._c();this.Tv={x:r.si(),y:r.ni()}}ts(){return this.Dp.Qt()}qv(e){if(!this.bv)return;const t=this.ts(),n=this.hp();if(t.Ko(n,n.ys()),this.Mv=null,this.bv=!1,t.Cc(),null!==this.Rv){const e=performance.now(),n=t.Et();this.Rv.le(n.wu(),e),this.Rv.Tu(e)||t._n(this.Rv)}}Nv(){this.kv=null}Wv(){if(this.Dv){if(this.ts().hn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)Wl(document.activeElement).blur();else{const e=document.getSelection();null!==e&&e.removeAllRanges()}!this.Dv.ys().Ki()&&this.ts().Et().Ki()}}$v(e){if(null===this.Dv)return;const t=this.ts(),n=t.Et();if(n.Ki())return;const r=this.Dp.N(),i=r.handleScroll,a=r.kineticScroll;if((!i.pressedMouseMove||e.Bf)&&(!i.horzTouchDrag&&!i.vertTouchDrag||!e.Bf))return;const s=this.Dv.ys(),o=performance.now();if(null!==this.Mv||this.hm(e)||(this.Mv={x:e.clientX,y:e.clientY,ed:o,om:e.localX,_m:e.localY}),null!==this.Mv&&!this.bv&&(this.Mv.x!==e.clientX||this.Mv.y!==e.clientY)){if(e.Bf&&a.touch||!e.Bf&&a.mouse){const e=n.vu();this.Rv=new Wd(.2/e,7/e,.997,15/e),this.Rv.Cp(n.wu(),this.Mv.ed)}else this.Rv=null;s.Ki()||t.Yo(this.Dv,s,e.localY),t.Sc(e.localX),this.bv=!0}this.bv&&(s.Ki()||t.jo(this.Dv,s,e.localY),t.xc(e.localX),null!==this.Rv&&this.Rv.Cp(n.wu(),o))}}class rh{constructor(e,t,n,r,i){this.xt=!0,this.Lp=Cl({width:0,height:0}),this.Up=()=>this.av(3),this.Yp="left"===e,this.Gu=n.Vc,this.Ps=t,this.um=r,this.dm=i,this.Yf=document.createElement("div"),this.Yf.style.width="25px",this.Yf.style.height="100%",this.Yf.style.overflow="hidden",this.Zp=Hd(this.Yf,Cl({width:16,height:16})),this.Zp.subscribeSuggestedBitmapSizeChanged(this.Up)}m(){this.Zp.unsubscribeSuggestedBitmapSizeChanged(this.Up),Kd(this.Zp.canvasElement),this.Zp.dispose()}Xf(){return this.Yf}Zf(){return this.Lp}rv(e){Pl(this.Lp,e)||(this.Lp=e,this.Zp.resizeCanvasElement(e),this.Yf.style.width=`${e.width}px`,this.Yf.style.height=`${e.height}px`,this.xt=!0)}av(e){if(e<3&&!this.xt)return;if(0===this.Lp.width||0===this.Lp.height)return;this.xt=!1,this.Zp.applySuggestedBitmapSize();const t=Tl(this.Zp,{colorSpace:this.Ps.layout.colorSpace});null!==t&&t.useBitmapCoordinateSpace(e=>{this.ov(e),this._v(e)})}Gf(){return this.Zp.bitmapSize}Jf(e,t,n){const r=this.Gf();r.width>0&&r.height>0&&e.drawImage(this.Zp.canvasElement,t,n)}_v({context:e,bitmapSize:t,horizontalPixelRatio:n,verticalPixelRatio:r}){if(!this.um())return;e.fillStyle=this.Ps.timeScale.borderColor;const i=Math.floor(this.Gu.N().S*n),a=Math.floor(this.Gu.N().S*r),s=this.Yp?t.width-i:0;e.fillRect(s,0,i,a)}ov({context:e,bitmapSize:t}){fc(e,0,0,t.width,t.height,this.dm())}}function ih(e){return t=>{var n,r;return null!=(r=null==(n=t.ia)?void 0:n.call(t,e))?r:[]}}const ah=ih("normal"),sh=ih("top"),oh=ih("bottom");class lh{constructor(e,t){this.fm=null,this.pm=null,this.M=null,this.vm=!1,this.Lp=Cl({width:0,height:0}),this.wm=new Hl,this.Np=new Rc(5),this.Hp=!1,this.Up=()=>{this.Hp||this.Dp.Qt().ar()},this.qp=()=>{this.Hp||this.Dp.Qt().ar()},this.Dp=e,this.o_=t,this.Ps=e.N().layout,this.kp=document.createElement("tr"),this.gm=document.createElement("td"),this.gm.style.padding="0",this.Mm=document.createElement("td"),this.Mm.style.padding="0",this.Yf=document.createElement("td"),this.Yf.style.height="25px",this.Yf.style.padding="0",this.bm=document.createElement("div"),this.bm.style.width="100%",this.bm.style.height="100%",this.bm.style.position="relative",this.bm.style.overflow="hidden",this.Yf.appendChild(this.bm),this.Zp=Hd(this.bm,Cl({width:16,height:16})),this.Zp.subscribeSuggestedBitmapSizeChanged(this.Up);const n=this.Zp.canvasElement;n.style.position="absolute",n.style.zIndex="1",n.style.left="0",n.style.top="0",this.Gp=Hd(this.bm,Cl({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.qp);const r=this.Gp.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.kp.appendChild(this.gm),this.kp.appendChild(this.Yf),this.kp.appendChild(this.Mm),this.Sm(),this.Dp.Qt().Vo().i(this.Sm.bind(this),this),this.Of=new Td(this.Gp.canvasElement,this,{hf:()=>!0,af:()=>!this.Dp.N().handleScroll.horzTouchDrag})}m(){this.Of.m(),null!==this.fm&&this.fm.m(),null!==this.pm&&this.pm.m(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.qp),Kd(this.Gp.canvasElement),this.Gp.dispose(),this.Zp.unsubscribeSuggestedBitmapSizeChanged(this.Up),Kd(this.Zp.canvasElement),this.Zp.dispose()}Xf(){return this.kp}xm(){return this.fm}Cm(){return this.pm}bf(e){if(this.vm)return;this.vm=!0;const t=this.Dp.Qt();!t.Et().Ki()&&this.Dp.N().handleScale.axisPressedMouseMove.time&&t.gc(e.localX)}gf(e){this.bf(e)}Sf(){const e=this.Dp.Qt();!e.Et().Ki()&&this.vm&&(this.vm=!1,this.Dp.N().handleScale.axisPressedMouseMove.time&&e.kc())}uf(e){const t=this.Dp.Qt();!t.Et().Ki()&&this.Dp.N().handleScale.axisPressedMouseMove.time&&t.Pc(e.localX)}lf(e){this.uf(e)}pf(){this.vm=!1;const e=this.Dp.Qt();e.Et().Ki()&&!this.Dp.N().handleScale.axisPressedMouseMove.time||e.kc()}df(){this.pf()}Kd(){this.Dp.N().handleScale.axisDoubleClickReset.time&&this.Dp.Qt().cn()}$d(){this.Kd()}if(){this.Dp.Qt().N().handleScale.axisPressedMouseMove.time&&this.pv(1)}Vf(){this.pv(0)}Zf(){return this.Lp}Pm(){return this.wm}km(e,t,n){Pl(this.Lp,e)||(this.Lp=e,this.Hp=!0,this.Zp.resizeCanvasElement(e),this.Gp.resizeCanvasElement(e),this.Hp=!1,this.Yf.style.width=`${e.width}px`,this.Yf.style.height=`${e.height}px`,this.wm.p(e)),null!==this.fm&&this.fm.rv(Cl({width:t,height:e.height})),null!==this.pm&&this.pm.rv(Cl({width:n,height:e.height}))}ym(){const e=this.Tm();return Math.ceil(e.S+e.C+e.P+e.A+e.V+e.Rm)}kt(){this.Dp.Qt().Et().Va()}Gf(){return this.Zp.bitmapSize}Jf(e,t,n){const r=this.Gf();r.width>0&&r.height>0&&e.drawImage(this.Zp.canvasElement,t,n)}av(e){if(0===e)return;const t={colorSpace:this.Ps.colorSpace};if(1!==e){this.Zp.applySuggestedBitmapSize();const n=Tl(this.Zp,t);null!==n&&(n.useBitmapCoordinateSpace(e=>{this.ov(e),this._v(e),this.Dm(n,oh)}),this.cv(n),this.Dm(n,ah)),null!==this.fm&&this.fm.av(e),null!==this.pm&&this.pm.av(e)}this.Gp.applySuggestedBitmapSize();const n=Tl(this.Gp,t);null!==n&&(n.useBitmapCoordinateSpace(({context:e,bitmapSize:t})=>{e.clearRect(0,0,t.width,t.height)}),this.Vm([...this.Dp.Qt().js(),this.Dp.Qt()._c()],n),this.Dm(n,sh))}Dm(e,t){const n=this.Dp.Qt().js();for(const r of n)qd(t,t=>Ud(t,e,!1,void 0),r,void 0);for(const r of n)qd(t,t=>Gd(t,e,!1,void 0),r,void 0)}ov({context:e,bitmapSize:t}){fc(e,0,0,t.width,t.height,this.Dp.Qt().Fc())}_v({context:e,bitmapSize:t,verticalPixelRatio:n}){if(this.Dp.N().timeScale.borderVisible){e.fillStyle=this.Im();const r=Math.max(1,Math.floor(this.Tm().S*n));e.fillRect(0,0,t.width,r)}}cv(e){const t=this.Dp.Qt().Et(),n=t.Va();if(!n||0===n.length)return;const r=this.o_.maxTickMarkWeight(n),i=this.Tm(),a=t.N();a.borderVisible&&a.ticksVisible&&e.useBitmapCoordinateSpace(({context:e,horizontalPixelRatio:t,verticalPixelRatio:r})=>{e.strokeStyle=this.Im(),e.fillStyle=this.Im();const a=Math.max(1,Math.floor(t)),s=Math.floor(.5*t);e.beginPath();const o=Math.round(i.C*r);for(let i=n.length;i--;){const r=Math.round(n[i].coord*t);e.rect(r-s,0,a,o)}e.fill()}),e.useMediaCoordinateSpace(({context:e})=>{const t=i.S+i.C+i.A+i.P/2;e.textAlign="center",e.textBaseline="middle",e.fillStyle=this.H(),e.font=this.nv();for(const i of n)if(i.weight<r){const n=i.needAlignCoordinate?this.Bm(e,i.coord,i.label):i.coord;e.fillText(i.label,n,t)}this.Dp.N().timeScale.allowBoldLabels&&(e.font=this.Em());for(const i of n)if(i.weight>=r){const n=i.needAlignCoordinate?this.Bm(e,i.coord,i.label):i.coord;e.fillText(i.label,n,t)}})}Bm(e,t,n){const r=this.Np.Vi(e,n),i=r/2,a=Math.floor(t-i)+.5;return a<0?t+=Math.abs(0-a):a+r>this.Lp.width&&(t-=Math.abs(this.Lp.width-(a+r))),t}Vm(e,t){const n=this.Tm();for(const r of e)for(const e of r.cs())e.Tt().nt(t,n)}Im(){return this.Dp.N().timeScale.borderColor}H(){return this.Ps.textColor}F(){return this.Ps.fontSize}nv(){return ec(this.F(),this.Ps.fontFamily)}Em(){return ec(this.F(),this.Ps.fontFamily,"bold")}Tm(){null===this.M&&(this.M={S:1,L:NaN,A:NaN,V:NaN,Ji:NaN,C:5,P:NaN,k:"",Gi:new Rc,Rm:0});const e=this.M,t=this.nv();if(e.k!==t){const n=this.F();e.P=n,e.k=t,e.A=3*n/12,e.V=3*n/12,e.Ji=9*n/12,e.L=0,e.Rm=4*n/12,e.Gi.In()}return this.M}pv(e){this.Yf.style.cursor=1===e?"ew-resize":"default"}Sm(){const e=this.Dp.Qt(),t=e.N();t.leftPriceScale.visible||null===this.fm||(this.gm.removeChild(this.fm.Xf()),this.fm.m(),this.fm=null),t.rightPriceScale.visible||null===this.pm||(this.Mm.removeChild(this.pm.Xf()),this.pm.m(),this.pm=null);const n={Vc:this.Dp.Qt().Vc()},r=()=>t.leftPriceScale.borderVisible&&e.Et().N().borderVisible,i=()=>e.Fc();t.leftPriceScale.visible&&null===this.fm&&(this.fm=new rh("left",t,n,r,i),this.gm.appendChild(this.fm.Xf())),t.rightPriceScale.visible&&null===this.pm&&(this.pm=new rh("right",t,n,r,i),this.Mm.appendChild(this.pm.Xf()))}}const ch=!!Ed&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(e=>e.brand.includes("Chromium"))&&!!Ed&&((null==(t=null==navigator?void 0:navigator.userAgentData)?void 0:t.platform)?"Windows"===navigator.userAgentData.platform:navigator.userAgent.toLowerCase().indexOf("win")>=0);class uh{constructor(e,t,n){var r;this.Am=[],this.zm=[],this.Lm=0,this.sl=0,this.Mo=0,this.Om=0,this.Nm=0,this.Fm=null,this.Wm=!1,this.Sv=new Hl,this.xv=new Hl,this.Ku=new Hl,this.Hm=null,this.Um=null,this.Rp=e,this.Ps=t,this.o_=n,this.kp=document.createElement("div"),this.kp.classList.add("tv-lightweight-charts"),this.kp.style.overflow="hidden",this.kp.style.direction="ltr",this.kp.style.width="100%",this.kp.style.height="100%",(r=this.kp).style.userSelect="none",r.style.webkitUserSelect="none",r.style.msUserSelect="none",r.style.MozUserSelect="none",r.style.webkitTapHighlightColor="transparent",this.$m=document.createElement("table"),this.$m.setAttribute("cellspacing","0"),this.kp.appendChild(this.$m),this.qm=this.Ym.bind(this),dh(this.Ps)&&this.jm(!0),this.ts=new hd(this.Zu.bind(this),this.Ps,n),this.Qt().uc().i(this.Km.bind(this),this),this.Xm=new lh(this,this.o_),this.$m.appendChild(this.Xm.Xf());const i=t.autoSize&&this.Zm();let a=this.Ps.width,s=this.Ps.height;if(i||0===a||0===s){const t=e.getBoundingClientRect();a=a||t.width,s=s||t.height}this.Gm(a,s),this.Jm(),e.appendChild(this.kp),this.Qm(),this.ts.Et().Iu().i(this.ts.Bh.bind(this.ts),this),this.ts.Vo().i(this.ts.Bh.bind(this.ts),this)}Qt(){return this.ts}N(){return this.Ps}Uf(){return this.Am}tw(){return this.Xm}m(){this.jm(!1),0!==this.Lm&&window.cancelAnimationFrame(this.Lm),this.ts.uc().u(this),this.ts.Et().Iu().u(this),this.ts.Vo().u(this),this.ts.m();for(const e of this.Am)this.$m.removeChild(e.Xf()),e.Kv().u(this),e.Xv().u(this),e.m();this.Am=[];for(const e of this.zm)this.iw(e);this.zm=[],Wl(this.Xm).m(),null!==this.kp.parentElement&&this.kp.parentElement.removeChild(this.kp),this.Ku.m(),this.Sv.m(),this.xv.m(),this.sw()}Gm(e,t,n=!1){if(this.sl===t&&this.Mo===e)return;const r=function(e){const t=Math.floor(e.width),n=Math.floor(e.height);return Cl({width:t-t%2,height:n-n%2})}(Cl({width:e,height:t}));this.sl=r.height,this.Mo=r.width;const i=this.sl+"px",a=this.Mo+"px";Wl(this.kp).style.height=i,Wl(this.kp).style.width=a,this.$m.style.height=i,this.$m.style.width=a,n?this.nw(Cc.gn(),performance.now()):this.ts.Bh()}av(e){void 0===e&&(e=Cc.gn());for(let t=0;t<this.Am.length;t++)this.Am[t].av(e.en(t).tn);this.Ps.timeScale.visible&&this.Xm.av(e.nn())}hr(e){var t;const n=dh(this.Ps);this.ts.hr(e);const r=dh(this.Ps);r!==n&&this.jm(r),(null==(t=e.layout)?void 0:t.panes)&&this.ew(),this.Qm(),this.rw(e)}Kv(){return this.Sv}Xv(){return this.xv}uc(){return this.Ku}hw(){null!==this.Fm&&(this.nw(this.Fm,performance.now()),this.Fm=null);const e=this.aw(null),t=document.createElement("canvas");t.width=e.width,t.height=e.height;const n=Wl(t.getContext("2d"));return this.aw(n),t}lw(e){return"left"===e&&!this.ow()||"right"===e&&!this._w()||0===this.Am.length?0:Wl("left"===e?this.Am[0].sm():this.Am[0].nm()).hv()}uw(){return this.Ps.autoSize&&null!==this.Hm}tp(){return this.kp}cw(e){this.Um=e,this.Um?this.tp().style.setProperty("cursor",e):this.tp().style.removeProperty("cursor")}dw(){return this.Um}fw(e){return Vl(this.Am[e]).Zf()}ew(){this.zm.forEach(e=>{e.kt()})}rw(e){(void 0!==e.autoSize||!this.Hm||void 0===e.width&&void 0===e.height)&&(e.autoSize&&!this.Hm&&this.Zm(),!1===e.autoSize&&null!==this.Hm&&this.sw(),e.autoSize||void 0===e.width&&void 0===e.height||this.Gm(e.width||this.Mo,e.height||this.sl))}aw(e){let t=0,n=0;const r=this.Am[0],i=(t,n)=>{let r=0;for(let i=0;i<this.Am.length;i++){const a=this.Am[i],s=Wl("left"===t?a.sm():a.nm()),o=s.Gf();if(null!==e&&s.Jf(e,n,r),r+=o.height,i<this.Am.length-1){const t=this.zm[i],a=t.Gf();null!==e&&t.Jf(e,n,r),r+=a.height}}};this.ow()&&(i("left",0),t+=Wl(r.sm()).Gf().width);for(let s=0;s<this.Am.length;s++){const r=this.Am[s],i=r.Gf();if(null!==e&&r.Jf(e,t,n),n+=i.height,s<this.Am.length-1){const r=this.zm[s],i=r.Gf();null!==e&&r.Jf(e,t,n),n+=i.height}}t+=r.Gf().width,this._w()&&(i("right",t),t+=Wl(r.nm()).Gf().width);const a=(t,n,r)=>{Wl("left"===t?this.Xm.xm():this.Xm.Cm()).Jf(Wl(e),n,r)};if(this.Ps.timeScale.visible){const t=this.Xm.Gf();if(null!==e){let i=0;this.ow()&&(a("left",i,n),i=Wl(r.sm()).Gf().width),this.Xm.Jf(e,i,n),i+=t.width,this._w()&&a("right",i,n)}n+=t.height}return Cl({width:t,height:n})}pw(){let e=0,t=0,n=0;for(const g of this.Am)this.ow()&&(t=Math.max(t,Wl(g.sm()).sv(),this.Ps.leftPriceScale.minimumWidth)),this._w()&&(n=Math.max(n,Wl(g.nm()).sv(),this.Ps.rightPriceScale.minimumWidth)),e+=g.Io();t=Ad(t),n=Ad(n);const r=this.Mo,i=this.sl,a=Math.max(r-t-n,0),s=1*this.zm.length,o=this.Ps.timeScale.visible;let l=o?Math.max(this.Xm.ym(),this.Ps.timeScale.minimumHeight):0;var c;l=(c=l)+c%2;const u=s+l,d=i<u?0:i-u,h=d/e;let f=0;const m=window.devicePixelRatio||1;for(let g=0;g<this.Am.length;++g){const e=this.Am[g];e.zv(this.ts.$s()[g]);let r=0,i=0;i=g===this.Am.length-1?Math.ceil((d-f)*m)/m:Math.round(e.Io()*h*m)/m,r=Math.max(i,2),f+=r,e.rv(Cl({width:a,height:r})),this.ow()&&e.Gv(t,"left"),this._w()&&e.Gv(n,"right"),e.hp()&&this.ts.cc(e.hp(),r)}this.Xm.km(Cl({width:o?a:0,height:l}),o?t:0,o?n:0),this.ts.Eo(a),this.Om!==t&&(this.Om=t),this.Nm!==n&&(this.Nm=n)}jm(e){e?this.kp.addEventListener("wheel",this.qm,{passive:!1}):this.kp.removeEventListener("wheel",this.qm)}mw(e){switch(e.deltaMode){case e.DOM_DELTA_PAGE:return 120;case e.DOM_DELTA_LINE:return 32}return ch?1/window.devicePixelRatio:1}Ym(e){if(!(0!==e.deltaX&&this.Ps.handleScroll.mouseWheel||0!==e.deltaY&&this.Ps.handleScale.mouseWheel))return;const t=this.mw(e),n=t*e.deltaX/100,r=-t*e.deltaY/100;if(e.cancelable&&e.preventDefault(),0!==r&&this.Ps.handleScale.mouseWheel){const t=Math.sign(r)*Math.min(1,Math.abs(r)),n=e.clientX-this.kp.getBoundingClientRect().left;this.Qt().Mc(n,t)}0!==n&&this.Ps.handleScroll.mouseWheel&&this.Qt().bc(-80*n)}nw(e,t){var n;const r=e.nn();3===r&&this.ww(),3!==r&&2!==r||(this.gw(e),this.Mw(e,t),this.Xm.kt(),this.Am.forEach(e=>{e.Ov()}),3===(null==(n=this.Fm)?void 0:n.nn())&&(this.Fm.vn(e),this.ww(),this.gw(this.Fm),this.Mw(this.Fm,t),e=this.Fm,this.Fm=null)),this.av(e)}Mw(e,t){for(const n of e.pn())this.mn(n,t)}gw(e){const t=this.ts.$s();for(let n=0;n<t.length;n++)e.en(n).sn&&t[n].Go()}mn(e,t){const n=this.ts.Et();switch(e.an){case 0:n.Eu();break;case 1:n.Au(e.Wt);break;case 2:n.dn(e.Wt);break;case 3:n.fn(e.Wt);break;case 4:n.bu();break;case 5:e.Wt.Tu(t)||n.fn(e.Wt.Ru(t))}}Zu(e){null!==this.Fm?this.Fm.vn(e):this.Fm=e,this.Wm||(this.Wm=!0,this.Lm=window.requestAnimationFrame(e=>{if(this.Wm=!1,this.Lm=0,null!==this.Fm){const t=this.Fm;this.Fm=null,this.nw(t,e);for(const n of t.pn())if(5===n.an&&!n.Wt.Tu(e)){this.Qt()._n(n.Wt);break}}}))}ww(){this.Jm()}iw(e){this.$m.removeChild(e.Xf()),e.m()}Jm(){const e=this.ts.$s(),t=e.length,n=this.Am.length;for(let r=t;r<n;r++){const e=Vl(this.Am.pop());this.$m.removeChild(e.Xf()),e.Kv().u(this),e.Xv().u(this),e.m();const t=this.zm.pop();void 0!==t&&this.iw(t)}for(let r=n;r<t;r++){const t=new nh(this,e[r]);if(t.Kv().i(this.bw.bind(this,t),this),t.Xv().i(this.Sw.bind(this,t),this),this.Am.push(t),r>0){const e=new Fd(this,r-1,r);this.zm.push(e),this.$m.insertBefore(e.Xf(),this.Xm.Xf())}this.$m.insertBefore(t.Xf(),this.Xm.Xf())}for(let r=0;r<t;r++){const t=e[r],n=this.Am[r];n.hp()!==t?n.zv(t):n.Av()}this.Qm(),this.pw()}xw(e,t,n,r){var i;const a=new Map;let s;if(null!==e&&this.ts.js().forEach(t=>{const n=t.Xs().Fr(e);null!==n&&a.set(t,n)}),null!==e){const t=null==(i=this.ts.Et().ss(e))?void 0:i.originalTime;void 0!==t&&(s=t)}const o=this.Qt().hc(),l=null!==o&&o.n_ instanceof _u?o.n_:void 0,c=null!==o&&void 0!==o.e_?o.e_.Kn:void 0,u=this.Cw(r);return{Pw:s,Re:null!=e?e:void 0,kw:null!=t?t:void 0,yw:-1!==u?u:void 0,Tw:l,Rw:a,Dw:c,Vw:null!=n?n:void 0}}Cw(e){let t=-1;if(e)t=this.Am.indexOf(e);else{const e=this.Qt()._c().Us();null!==e&&(t=this.Qt().$s().indexOf(e))}return t}bw(e,t,n,r){this.Sv.p(()=>this.xw(t,n,r,e))}Sw(e,t,n,r){this.xv.p(()=>this.xw(t,n,r,e))}Km(e,t,n){var r,i;this.cw(null!=(i=null==(r=this.Qt().hc())?void 0:r.h_)?i:null),this.Ku.p(()=>this.xw(e,t,n))}Qm(){const e=this.Ps.timeScale.visible?"":"none";this.Xm.Xf().style.display=e}ow(){return this.Am[0].hp().Wo().N().visible}_w(){return this.Am[0].hp().Ho().N().visible}Zm(){return"ResizeObserver"in window&&(this.Hm=new ResizeObserver(e=>{const t=e[e.length-1];t&&this.Gm(t.contentRect.width,t.contentRect.height)}),this.Hm.observe(this.Rp,{box:"border-box"}),!0)}sw(){null!==this.Hm&&this.Hm.disconnect(),this.Hm=null}}function dh(e){return Boolean(e.handleScroll.mouseWheel||e.handleScale.mouseWheel)}function hh(e,t,n,r){const i=n.value,a={Re:t,wt:e,Wt:[i,i,i,i],Pw:r};return void 0!==n.color&&(a.R=n.color),a}function fh(e,t,n,r){const i=n.value,a={Re:t,wt:e,Wt:[i,i,i,i],Pw:r};return void 0!==n.lineColor&&(a.vt=n.lineColor),void 0!==n.topColor&&(a.mr=n.topColor),void 0!==n.bottomColor&&(a.wr=n.bottomColor),a}function mh(e,t,n,r){const i=n.value,a={Re:t,wt:e,Wt:[i,i,i,i],Pw:r};return void 0!==n.topLineColor&&(a.gr=n.topLineColor),void 0!==n.bottomLineColor&&(a.Mr=n.bottomLineColor),void 0!==n.topFillColor1&&(a.br=n.topFillColor1),void 0!==n.topFillColor2&&(a.Sr=n.topFillColor2),void 0!==n.bottomFillColor1&&(a.Cr=n.bottomFillColor1),void 0!==n.bottomFillColor2&&(a.Pr=n.bottomFillColor2),a}function gh(e,t,n,r){const i={Re:t,wt:e,Wt:[n.open,n.high,n.low,n.close],Pw:r};return void 0!==n.color&&(i.R=n.color),i}function ph(e,t,n,r){const i={Re:t,wt:e,Wt:[n.open,n.high,n.low,n.close],Pw:r};return void 0!==n.color&&(i.R=n.color),void 0!==n.borderColor&&(i.Ht=n.borderColor),void 0!==n.wickColor&&(i.vr=n.wickColor),i}function vh(e,t,n,r,i){const a=Vl(i)(n),s=Math.max(...a),o=Math.min(...a),l=a[a.length-1],c=[l,s,o,l],u=n,{time:d,color:h}=u;return{Re:t,wt:e,Wt:c,Pw:r,se:g(u,["time","color"]),R:h}}function yh(e){return void 0!==e.Wt}function xh(e,t){return void 0!==t.customValues&&(e.Iw=t.customValues),e}function bh(e){return(t,n,r,i,a,s)=>{return o=r,((l=s)?l(o):function(e){return void 0===e.open&&void 0===e.value}(o))?xh({wt:t,Re:n,Pw:i},r):xh(e(t,n,r,i,a),r);var o,l}}function wh(e){return{Candlestick:bh(ph),Bar:bh(gh),Area:bh(fh),Baseline:bh(mh),Histogram:bh(hh),Line:bh(hh),Custom:bh(vh)}[e]}function _h(e){return{Re:0,Bw:new Map,Hh:e}}function jh(e,t){if(void 0!==e&&0!==e.length)return{Ew:t.key(e[0].wt),Aw:t.key(e[e.length-1].wt)}}function Nh(e){let t;return e.forEach(e=>{void 0===t&&(t=e.Pw)}),Vl(t)}class kh{constructor(e){this.zw=new Map,this.Lw=new Map,this.Ow=new Map,this.Nw=[],this.o_=e}m(){this.zw.clear(),this.Lw.clear(),this.Ow.clear(),this.Nw=[]}Fw(e,t){let n=0!==this.zw.size,r=!1;const i=this.Lw.get(e);if(void 0!==i)if(1===this.Lw.size)n=!1,r=!0,this.zw.clear();else for(const o of this.Nw)o.pointData.Bw.delete(e)&&(r=!0);let a=[];if(0!==t.length){const n=t.map(e=>e.time),i=this.o_.createConverterToInternalObj(t),s=wh(e.Rr()),o=e.da(),l=e.pa();a=t.map((t,a)=>{const c=i(t.time),u=this.o_.key(c);let d=this.zw.get(u);void 0===d&&(d=_h(c),this.zw.set(u,d),r=!0);const h=s(c,d.Re,t,n[a],o,l);return d.Bw.set(e,h),h})}n&&this.Ww(),this.Hw(e,a);let s=-1;if(r){const e=[];this.zw.forEach(t=>{e.push({timeWeight:0,time:t.Hh,pointData:t,originalTime:Nh(t.Bw)})}),e.sort((e,t)=>this.o_.key(e.time)-this.o_.key(t.time)),s=this.Uw(e)}return this.$w(e,s,function(e,t,n){const r=jh(e,n),i=jh(t,n);if(void 0!==r&&void 0!==i)return{qw:!1,zh:r.Aw>=i.Aw&&r.Ew>=i.Ew}}(this.Lw.get(e),i,this.o_))}Ec(e){return this.Fw(e,[])}Yw(e,t,n){const r=t;var i;void 0===(i=r).Pw&&(i.Pw=i.time),this.o_.preprocessData(t);const a=this.o_.createConverterToInternalObj([t])(t.time),s=this.Ow.get(e);if(!n&&void 0!==s&&this.o_.key(a)<this.o_.key(s))throw new Error(`Cannot update oldest data, last time=${s}, new time=${a}`);let o=this.zw.get(this.o_.key(a));if(n&&void 0===o)throw new Error("Cannot update non-existing data point when historicalUpdate is true");const l=void 0===o;void 0===o&&(o=_h(a),this.zw.set(this.o_.key(a),o));const c=wh(e.Rr()),u=e.da(),d=e.pa(),h=c(a,o.Re,t,r.Pw,u,d);o.Bw.set(e,h),n?this.jw(e,h,o.Re):this.Kw(e,h);const f={zh:yh(h),qw:n};if(!l)return this.$w(e,-1,f);const m={timeWeight:0,time:o.Hh,pointData:o,originalTime:Nh(o.Bw)},g=tu(this.Nw,this.o_.key(m.time),(e,t)=>this.o_.key(e.time)<t);this.Nw.splice(g,0,m);for(let p=g;p<this.Nw.length;++p)Sh(this.Nw[p].pointData,p);return this.o_.fillWeightsForPoints(this.Nw,g),this.$w(e,g,f)}Kw(e,t){let n=this.Lw.get(e);void 0===n&&(n=[],this.Lw.set(e,n));const r=0!==n.length?n[n.length-1]:null;null===r||this.o_.key(t.wt)>this.o_.key(r.wt)?yh(t)&&n.push(t):yh(t)?n[n.length-1]=t:n.splice(-1,1),this.Ow.set(e,t.wt)}jw(e,t,n){const r=this.Lw.get(e);if(void 0===r)return;const i=tu(r,n,(e,t)=>e.Re<t);yh(t)?r[i]=t:r.splice(i,1)}Hw(e,t){0!==t.length?(this.Lw.set(e,t.filter(yh)),this.Ow.set(e,t[t.length-1].wt)):(this.Lw.delete(e),this.Ow.delete(e))}Ww(){for(const e of this.Nw)0===e.pointData.Bw.size&&this.zw.delete(this.o_.key(e.time))}Uw(e){let t=-1;for(let n=0;n<this.Nw.length&&n<e.length;++n){const r=this.Nw[n],i=e[n];if(this.o_.key(r.time)!==this.o_.key(i.time)){t=n;break}i.timeWeight=r.timeWeight,Sh(i.pointData,n)}if(-1===t&&this.Nw.length!==e.length&&(t=Math.min(this.Nw.length,e.length)),-1===t)return-1;for(let n=t;n<e.length;++n)Sh(e[n].pointData,n);return this.o_.fillWeightsForPoints(e,t),this.Nw=e,t}Xw(){if(0===this.Lw.size)return null;let e=0;return this.Lw.forEach(t=>{0!==t.length&&(e=Math.max(e,t[t.length-1].Re))}),e}$w(e,t,n){const r={Oo:new Map,Et:{ou:this.Xw()}};if(-1!==t)this.Lw.forEach((t,i)=>{r.Oo.set(i,{se:t,Zw:i===e?n:void 0})}),this.Lw.has(e)||r.Oo.set(e,{se:[],Zw:n}),r.Et.Gw=this.Nw,r.Et.Jw=t;else{const t=this.Lw.get(e);r.Oo.set(e,{se:t||[],Zw:n})}return r}}function Sh(e,t){e.Re=t,e.Bw.forEach(e=>{e.Re=t})}function Ch(e,t){return e.wt<t}function Ph(e,t){return t<e.wt}let Eh=class{constructor(e,t,n){this.Qw=!0,this.tg=!0,this.ig=!0,this.sg=[],this.ng=null,this.Jn=e,this.Qn=t,this.eg=n}kt(e){this.Qw=!0,"data"===e&&(this.tg=!0),"options"===e&&(this.ig=!0)}Tt(){return this.Jn.Vt()?(this.rg(),null===this.ng?null:this.hg):null}ag(){this.sg=this.sg.map(e=>h(h({},e),this.Jn.Rh().Dr(e.wt)))}lg(){this.ng=null}rg(){this.tg&&(this.og(),this.tg=!1),this.ig&&(this.ag(),this.ig=!1),this.Qw&&(this._g(),this.Qw=!1)}_g(){const e=this.Jn.Ft(),t=this.Qn.Et();if(this.lg(),t.Ki()||e.Ki())return;const n=t.Pe();if(null===n)return;if(0===this.Jn.Xs().zr())return;const r=this.Jn.zt();null!==r&&(this.ng=function(e,t,n){const r=t.Uh(),i=t.bi(),a=tu(e,r,Ch),s=nu(e,i,Ph);if(!n)return{from:a,to:s};let o=a,l=s;return a>0&&a<e.length&&e[a].wt>=r&&(o=a-1),s>0&&s<e.length&&e[s-1].wt<=i&&(l=s+1),{from:o,to:l}}(this.sg,n,this.eg),this.ug(e,t,r.Wt),this.cg())}};class Mh{constructor(e,t){this.dg=e,this.Yi=t}nt(e,t,n){this.dg.draw(e,this.Yi,t,n)}}class Oh extends Eh{constructor(e,t,n){super(e,t,!1),this.sh=n,this.hg=new Mh(this.sh.renderer(),t=>{const n=e.zt();return null===n?null:e.Ft().Nt(t,n.Wt)})}fa(e){return this.sh.priceValueBuilder(e)}va(e){return this.sh.isWhitespace(e)}og(){const e=this.Jn.Rh();this.sg=this.Jn.Xs().Hr().map(t=>f(h({wt:t.Re,_t:NaN},e.Dr(t.Re)),{fg:t.se}))}ug(e,t){t._u(this.sg,Zl(this.ng))}cg(){this.sh.update({bars:this.sg.map(Ah),barSpacing:this.Qn.Et().vu(),visibleRange:this.ng},this.Jn.N())}}function Ah(e){return{x:e._t,time:e.wt,originalData:e.fg,barColor:e.cr}}const Th={color:"#2196f3"},Rh=(e,t,n)=>{const r=$l(n);return new Oh(e,t,r)};function Dh(e){const t={value:e.Wt[3],time:e.Pw};return void 0!==e.Iw&&(t.customValues=e.Iw),t}function Ih(e){const t=Dh(e);return void 0!==e.R&&(t.color=e.R),t}function Lh(e){const t=Dh(e);return void 0!==e.vt&&(t.lineColor=e.vt),void 0!==e.mr&&(t.topColor=e.mr),void 0!==e.wr&&(t.bottomColor=e.wr),t}function zh(e){const t=Dh(e);return void 0!==e.gr&&(t.topLineColor=e.gr),void 0!==e.Mr&&(t.bottomLineColor=e.Mr),void 0!==e.br&&(t.topFillColor1=e.br),void 0!==e.Sr&&(t.topFillColor2=e.Sr),void 0!==e.Cr&&(t.bottomFillColor1=e.Cr),void 0!==e.Pr&&(t.bottomFillColor2=e.Pr),t}function Fh(e){const t={open:e.Wt[0],high:e.Wt[1],low:e.Wt[2],close:e.Wt[3],time:e.Pw};return void 0!==e.Iw&&(t.customValues=e.Iw),t}function Bh(e){const t=Fh(e);return void 0!==e.R&&(t.color=e.R),t}function Vh(e){const t=Fh(e),{R:n,Ht:r,vr:i}=e;return void 0!==n&&(t.color=n),void 0!==r&&(t.borderColor=r),void 0!==i&&(t.wickColor=i),t}function Wh(e){return{Area:Lh,Line:Ih,Baseline:zh,Histogram:Ih,Bar:Bh,Candlestick:Vh,Custom:$h}[e]}function $h(e){const t=e.Pw;return f(h({},e.se),{time:t})}const Hh={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},Kh={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},Uh={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:Jl,panes:{enableResize:!0,separatorColor:"#E0E3EB",separatorHoverColor:"rgba(178, 181, 189, 0.2)"},attributionLogo:!0,colorSpace:"srgb",colorParsers:[]},Gh={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0,ensureEdgeTickMarksVisible:!1},qh={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1};function Yh(){return{addDefaultPane:!0,width:0,height:0,autoSize:!1,layout:Uh,crosshair:Hh,grid:Kh,overlayPriceScales:h({},Gh),leftPriceScale:f(h({},Gh),{visible:!1}),rightPriceScale:f(h({},Gh),{visible:!0}),timeScale:qh,localization:{locale:Ed?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class Xh{constructor(e,t,n){this.Wf=e,this.pg=t,this.vg=null!=n?n:0}applyOptions(e){this.Wf.Qt().lc(this.pg,e,this.vg)}options(){return this.Yi().N()}width(){return Sc(this.pg)?this.Wf.lw(this.pg):0}setVisibleRange(e){this.setAutoScale(!1),this.Yi().Wl(new Uc(e.from,e.to))}getVisibleRange(){const e=this.Yi().Qe();return null===e?null:{from:e.$e(),to:e.qe()}}setAutoScale(e){this.applyOptions({autoScale:e})}Yi(){return Wl(this.Wf.Qt().oc(this.pg,this.vg)).Ft}}class Qh{constructor(e,t,n,r){this.Wf=e,this.Pt=n,this.mg=t,this.wg=r}getHeight(){return this.Pt.$t()}setHeight(e){const t=this.Wf.Qt(),n=t.Hc(this.Pt);t.fc(n,e)}getStretchFactor(){return this.Pt.Io()}setStretchFactor(e){this.Pt.Bo(e),this.Wf.Qt().Bh()}paneIndex(){return this.Wf.Qt().Hc(this.Pt)}moveTo(e){const t=this.paneIndex();t!==e&&(Bl(e>=0&&e<this.Wf.Uf().length,"Invalid pane index"),this.Wf.Qt().mc(t,e))}getSeries(){var e;return null!=(e=this.Pt.Oo().map(e=>this.mg(e)))?e:[]}getHTMLElement(){const e=this.Wf.Uf();return e&&0!==e.length&&e[this.paneIndex()]?e[this.paneIndex()].Xf():null}attachPrimitive(e){this.Pt.ua(e),e.attached&&e.attached({chart:this.wg,requestUpdate:()=>this.Pt.Qt().Bh()})}detachPrimitive(e){this.Pt.ca(e)}priceScale(e){if(null===this.Pt.Do(e))throw new Error(`Cannot find price scale with id: ${e}`);return new Xh(this.Wf,e,this.paneIndex())}setPreserveEmptyPane(e){this.Pt.zo(e)}preserveEmptyPane(){return this.Pt.Lo()}addCustomSeries(e,t={},n=0){return this.wg.addCustomSeries(e,t,n)}addSeries(e,t={}){return this.wg.addSeries(e,t,this.paneIndex())}}const Zh={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class Jh{constructor(e){this.ir=e}applyOptions(e){this.ir.hr(e)}options(){return this.ir.N()}gg(){return this.ir}}class ef{constructor(e,t,n,r,i,a){this.Mg=new Hl,this.Jn=e,this.bg=t,this.Sg=n,this.o_=i,this.wg=r,this.xg=a}m(){this.Mg.m()}priceFormatter(){return this.Jn.ra()}priceToCoordinate(e){const t=this.Jn.zt();return null===t?null:this.Jn.Ft().Nt(e,t.Wt)}coordinateToPrice(e){const t=this.Jn.zt();return null===t?null:this.Jn.Ft().Ts(e,t.Wt)}barsInLogicalRange(e){if(null===e)return null;const t=new id(new td(e.from,e.to)).k_(),n=this.Jn.Xs();if(n.Ki())return null;const r=n.Fr(t.Uh(),1),i=n.Fr(t.bi(),-1),a=Wl(n.Lr()),s=Wl(n.Ks());if(null!==r&&null!==i&&r.Re>i.Re)return{barsBefore:e.from-a,barsAfter:s-e.to};const o={barsBefore:null===r||r.Re===a?e.from-a:r.Re-a,barsAfter:null===i||i.Re===s?s-e.to:s-i.Re};return null!==r&&null!==i&&(o.from=r.Pw,o.to=i.Pw),o}setData(e){this.o_,this.Jn.Rr(),this.bg.Cg(this.Jn,e),this.Pg("full")}update(e,t=!1){this.Jn.Rr(),this.bg.kg(this.Jn,e,t),this.Pg("update")}dataByIndex(e,t){const n=this.Jn.Xs().Fr(e,t);return null===n?null:Wh(this.seriesType())(n)}data(){const e=Wh(this.seriesType());return this.Jn.Xs().Hr().map(t=>e(t))}subscribeDataChanged(e){this.Mg.i(e)}unsubscribeDataChanged(e){this.Mg._(e)}applyOptions(e){this.Jn.hr(e)}options(){return Xl(this.Jn.N())}priceScale(){return this.Sg.priceScale(this.Jn.Ft().wa(),this.getPane().paneIndex())}createPriceLine(e){const t=Kl(Xl(Zh),e),n=this.Jn.Oh(t);return new Jh(n)}removePriceLine(e){this.Jn.Nh(e.gg())}priceLines(){return this.Jn.Fh().map(e=>new Jh(e))}seriesType(){return this.Jn.Rr()}attachPrimitive(e){this.Jn.ua(e),e.attached&&e.attached({chart:this.wg,series:this,requestUpdate:()=>this.Jn.Qt().Bh(),horzScaleBehavior:this.o_})}detachPrimitive(e){this.Jn.ca(e),e.detached&&e.detached(),this.Jn.Qt().Bh()}getPane(){const e=this.Jn,t=Wl(this.Jn.Qt().Hn(e));return this.xg(t)}moveToPane(e){this.Jn.Qt().Oc(this.Jn,e)}seriesOrder(){const e=this.Jn.Qt().Hn(this.Jn);return null===e?-1:e.Oo().indexOf(this.Jn)}setSeriesOrder(e){const t=this.Jn.Qt().Hn(this.Jn);null!==t&&t.Qo(this.Jn,e)}Pg(e){this.Mg.v()&&this.Mg.p(e)}}class tf{constructor(e,t,n){this.yg=new Hl,this.z_=new Hl,this.wm=new Hl,this.ts=e,this.uh=e.Et(),this.Xm=t,this.uh.Du().i(this.Tg.bind(this)),this.uh.Vu().i(this.Rg.bind(this)),this.Xm.Pm().i(this.Dg.bind(this)),this.o_=n}m(){this.uh.Du().u(this),this.uh.Vu().u(this),this.Xm.Pm().u(this),this.yg.m(),this.z_.m(),this.wm.m()}scrollPosition(){return this.uh.wu()}scrollToPosition(e,t){t?this.uh.yu(e,1e3):this.ts.fn(e)}scrollToRealTime(){this.uh.ku()}getVisibleRange(){const e=this.uh.su();return null===e?null:{from:e.from.originalTime,to:e.to.originalTime}}setVisibleRange(e){const t={from:this.o_.convertHorzItemToInternal(e.from),to:this.o_.convertHorzItemToInternal(e.to)},n=this.uh.hu(t);this.ts.zc(n)}getVisibleLogicalRange(){const e=this.uh.iu();return null===e?null:{from:e.Uh(),to:e.bi()}}setVisibleLogicalRange(e){Bl(e.from<=e.to,"The from index cannot be after the to index."),this.ts.zc(e)}resetTimeScale(){this.ts.cn()}fitContent(){this.ts.Eu()}logicalToCoordinate(e){const t=this.ts.Et();return t.Ki()?null:t.qt(e)}coordinateToLogical(e){return this.uh.Ki()?null:this.uh.uu(e)}timeToIndex(e,t){const n=this.o_.convertHorzItemToInternal(e);return this.uh.J_(n,t)}timeToCoordinate(e){const t=this.timeToIndex(e,!1);return null===t?null:this.uh.qt(t)}coordinateToTime(e){const t=this.ts.Et(),n=t.uu(e),r=t.ss(n);return null===r?null:r.originalTime}width(){return this.Xm.Zf().width}height(){return this.Xm.Zf().height}subscribeVisibleTimeRangeChange(e){this.yg.i(e)}unsubscribeVisibleTimeRangeChange(e){this.yg._(e)}subscribeVisibleLogicalRangeChange(e){this.z_.i(e)}unsubscribeVisibleLogicalRangeChange(e){this.z_._(e)}subscribeSizeChange(e){this.wm.i(e)}unsubscribeSizeChange(e){this.wm._(e)}applyOptions(e){this.uh.hr(e)}options(){return f(h({},Xl(this.uh.N())),{barSpacing:this.uh.vu()})}Tg(){this.yg.v()&&this.yg.p(this.getVisibleRange())}Rg(){this.z_.v()&&this.z_.p(this.getVisibleLogicalRange())}Dg(e){this.wm.p(e.width,e.height)}}function nf(e){return function(e){if(Yl(e.handleScale)){const t=e.handleScale;e.handleScale={axisDoubleClickReset:{time:t,price:t},axisPressedMouseMove:{time:t,price:t},mouseWheel:t,pinch:t}}else if(void 0!==e.handleScale){const{axisPressedMouseMove:t,axisDoubleClickReset:n}=e.handleScale;Yl(t)&&(e.handleScale.axisPressedMouseMove={time:t,price:t}),Yl(n)&&(e.handleScale.axisDoubleClickReset={time:n,price:n})}const t=e.handleScroll;Yl(t)&&(e.handleScroll={horzTouchDrag:t,vertTouchDrag:t,mouseWheel:t,pressedMouseMove:t})}(e),e}class rf{constructor(e,t,n){this.Vg=new Map,this.Ig=new Map,this.Bg=new Hl,this.Eg=new Hl,this.Ag=new Hl,this.$u=new WeakMap,this.zg=new kh(t);const r=void 0===n?Xl(Yh()):Kl(Xl(Yh()),nf(n));this.Lg=t,this.Wf=new uh(e,r,t),this.Wf.Kv().i(e=>{this.Bg.v()&&this.Bg.p(this.Og(e()))},this),this.Wf.Xv().i(e=>{this.Eg.v()&&this.Eg.p(this.Og(e()))},this),this.Wf.uc().i(e=>{this.Ag.v()&&this.Ag.p(this.Og(e()))},this);const i=this.Wf.Qt();this.Ng=new tf(i,this.Wf.tw(),this.Lg)}remove(){this.Wf.Kv().u(this),this.Wf.Xv().u(this),this.Wf.uc().u(this),this.Ng.m(),this.Wf.m(),this.Vg.clear(),this.Ig.clear(),this.Bg.m(),this.Eg.m(),this.Ag.m(),this.zg.m()}resize(e,t,n){this.autoSizeActive()||this.Wf.Gm(e,t,n)}addCustomSeries(e,t={},n=0){const r=(i=$l(e),{type:"Custom",isBuiltIn:!1,defaultOptions:h(h({},Th),i.defaultOptions()),Fg:Rh,Wg:i});var i;return this.Hg(r,t,n)}addSeries(e,t={},n=0){return this.Hg(e,t,n)}removeSeries(e){const t=Vl(this.Vg.get(e)),n=this.zg.Ec(t);this.Wf.Qt().Ec(t),this.Ug(n),this.Vg.delete(e),this.Ig.delete(t)}Cg(e,t){this.Ug(this.zg.Fw(e,t))}kg(e,t,n){this.Ug(this.zg.Yw(e,t,n))}subscribeClick(e){this.Bg.i(e)}unsubscribeClick(e){this.Bg._(e)}subscribeCrosshairMove(e){this.Ag.i(e)}unsubscribeCrosshairMove(e){this.Ag._(e)}subscribeDblClick(e){this.Eg.i(e)}unsubscribeDblClick(e){this.Eg._(e)}priceScale(e,t=0){return new Xh(this.Wf,e,t)}timeScale(){return this.Ng}applyOptions(e){this.Wf.hr(nf(e))}options(){return this.Wf.N()}takeScreenshot(){return this.Wf.hw()}addPane(e=!1){const t=this.Wf.Qt().Uc();return t.zo(e),this.$g(t)}removePane(e){this.Wf.Qt().dc(e)}swapPanes(e,t){this.Wf.Qt().vc(e,t)}autoSizeActive(){return this.Wf.uw()}chartElement(){return this.Wf.tp()}panes(){return this.Wf.Qt().$s().map(e=>this.$g(e))}paneSize(e=0){const t=this.Wf.fw(e);return{height:t.height,width:t.width}}setCrosshairPosition(e,t,n){const r=this.Vg.get(n);if(void 0===r)return;const i=this.Wf.Qt().Hn(r);null!==i&&this.Wf.Qt().Tc(e,t,i)}clearCrosshairPosition(){this.Wf.Qt().Rc(!0)}horzBehaviour(){return this.Lg}Hg(e,t={},n=0){var r;Bl(void 0!==e.Fg),function(e){if(void 0===e||"custom"===e.type)return;const t=e;void 0!==t.minMove&&void 0===t.precision&&(t.precision=function(e){if(e>=1)return 0;let t=0;for(;t<8;t++){const n=Math.round(e);if(Math.abs(n-e)<1e-8)return t;e*=10}return t}(t.minMove))}(t.priceFormat),"Candlestick"===e.type&&(void 0!==(r=t).borderColor&&(r.borderUpColor=r.borderColor,r.borderDownColor=r.borderColor),void 0!==r.wickColor&&(r.wickUpColor=r.wickColor,r.wickDownColor=r.wickColor));const i=Kl(Xl(Rl),Xl(e.defaultOptions),t),a=e.Fg,s=new _u(this.Wf.Qt(),e.type,i,a,e.Wg);this.Wf.Qt().Ic(s,n);const o=new ef(s,this,this,this,this.Lg,e=>this.$g(e));return this.Vg.set(o,s),this.Ig.set(s,o),o}Ug(e){const t=this.Wf.Qt();t.Dc(e.Et.ou,e.Et.Gw,e.Et.Jw),e.Oo.forEach((e,t)=>t.ht(e.se,e.Zw)),t.Et().j_(),t.pu()}qg(e){return Vl(this.Ig.get(e))}Og(e){const t=new Map;e.Rw.forEach((e,n)=>{const r=n.Rr(),i=Wh(r)(e);if("Custom"!==r)Bl(function(e){return void 0!==e.open||function(e){return void 0!==e.value}(e)}(i));else{const e=n.pa();Bl(!e||!1===e(i))}t.set(this.qg(n),i)});const n=void 0!==e.Tw&&this.Ig.has(e.Tw)?this.qg(e.Tw):void 0;return{time:e.Pw,logical:e.Re,point:e.kw,paneIndex:e.yw,hoveredSeries:n,hoveredObjectId:e.Dw,seriesData:t,sourceEvent:e.Vw}}$g(e){let t=this.$u.get(e);return t||(t=new Qh(this.Wf,e=>this.qg(e),e,this),this.$u.set(e,t)),t}}function af(e,t,n){const r=function(e){if(ql(e)){const t=document.getElementById(e);return Bl(null!==t,`Cannot find element in DOM with id=${e}`),t}return e}(e),i=new rf(r,t,n);return t.setOptions(i.options()),i}function sf(e,t){return af(e,new Pd,Pd.ad(t))}class of extends Eh{constructor(e,t){super(e,t,!0)}ug(e,t,n){t._u(this.sg,Zl(this.ng)),e.$l(this.sg,n,Zl(this.ng))}Yg(e,t){return{wt:e,gt:t,_t:NaN,ut:NaN}}og(){const e=this.Jn.Rh();this.sg=this.Jn.Xs().Hr().map(t=>{const n=t.Wt[3];return this.jg(t.Re,n,e)})}}function lf(e,t){return{_t:e._t-t._t,ut:e.ut-t.ut}}function cf(e,t){return{_t:e._t/t,ut:e.ut/t}}function uf(e,t,n){const r=Math.max(0,t-1),i=Math.min(e.length-1,n+1);var a,s;return[(a=e[t],s=cf(lf(e[n],e[r]),6),{_t:a._t+s._t,ut:a.ut+s.ut}),lf(e[n],cf(lf(e[i],e[t]),6))]}function df(e,t){const n=e.context;n.strokeStyle=t,n.stroke()}let hf=class extends sc{constructor(){super(...arguments),this.rt=null}ht(e){this.rt=e}et(e){if(null===this.rt)return;const{ot:t,lt:n,Kg:r,Xg:i,ct:a,Xt:s,Zg:o}=this.rt;if(null===n)return;const l=e.context;l.lineCap="butt",l.lineWidth=a*e.verticalPixelRatio,zl(l,s),l.lineJoin="round";const c=this.Gg.bind(this);void 0!==i&&function(e,t,n,r,i,a,s){if(0===t.length||r.from>=t.length||r.to<=0)return;const{context:o,horizontalPixelRatio:l,verticalPixelRatio:c}=e,u=t[r.from];let d=a(e,u),h=u;if(r.to-r.from<2){const t=i/2;o.beginPath();const n={_t:u._t-t,ut:u.ut},r={_t:u._t+t,ut:u.ut};o.moveTo(n._t*l,n.ut*c),o.lineTo(r._t*l,r.ut*c),s(e,d,n,r)}else{const i=(t,n)=>{s(e,d,h,n),o.beginPath(),d=t,h=n};let f=h;o.beginPath(),o.moveTo(u._t*l,u.ut*c);for(let s=r.from+1;s<r.to;++s){f=t[s];const r=a(e,f);switch(n){case 0:o.lineTo(f._t*l,f.ut*c);break;case 1:o.lineTo(f._t*l,t[s-1].ut*c),r!==d&&(i(r,f),o.lineTo(f._t*l,t[s-1].ut*c)),o.lineTo(f._t*l,f.ut*c);break;case 2:{const[e,n]=uf(t,s-1,s);o.bezierCurveTo(e._t*l,e.ut*c,n._t*l,n.ut*c,f._t*l,f.ut*c);break}}1!==n&&r!==d&&(i(r,f),o.moveTo(f._t*l,f.ut*c))}(h!==f||h===f&&1===n)&&s(e,d,h,f)}}(e,t,i,n,r,c,df),o&&function(e,t,n,r,i){if(r.to-r.from<=0)return;const{horizontalPixelRatio:a,verticalPixelRatio:s,context:o}=e;let l=null;const c=Math.max(1,Math.floor(a))%2/2,u=n*s+c;for(let d=r.to-1;d>=r.from;--d){const n=t[d];if(n){const t=i(e,n);t!==l&&(o.beginPath(),null!==l&&o.fill(),o.fillStyle=t,l=t);const r=Math.round(n._t*a)+c,d=n.ut*s;o.moveTo(r,d),o.arc(r,d,u,0,2*Math.PI)}}o.fill()}(e,t,o,n,c)}},ff=class extends hf{Gg(e,t){return t.vt}};class mf extends of{constructor(){super(...arguments),this.hg=new ff}jg(e,t,n){return h(h({},this.Yg(e,t)),n.Dr(e))}cg(){const e=this.Jn.N(),t={ot:this.sg,Xt:e.lineStyle,Xg:e.lineVisible?e.lineType:void 0,ct:e.lineWidth,Zg:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,lt:this.ng,Kg:this.Qn.Et().vu()};this.hg.ht(t)}}const gf={type:"Line",isBuiltIn:!0,defaultOptions:{color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},Fg:(e,t)=>new mf(e,t)};let pf=class extends sc{constructor(){super(...arguments),this.Yt=null,this.SM=0,this.xM=0}ht(e){this.Yt=e}et({context:e,horizontalPixelRatio:t,verticalPixelRatio:n}){if(null===this.Yt||0===this.Yt.Xs.length||null===this.Yt.lt)return;this.SM=this.CM(t),this.SM>=2&&Math.max(1,Math.floor(t))%2!=this.SM%2&&this.SM--,this.xM=this.Yt.PM?Math.min(this.SM,Math.floor(t)):this.SM;let r=null;const i=this.xM<=this.SM&&this.Yt.vu>=Math.floor(1.5*t);for(let a=this.Yt.lt.from;a<this.Yt.lt.to;++a){const s=this.Yt.Xs[a];r!==s.cr&&(e.fillStyle=s.cr,r=s.cr);const o=Math.floor(.5*this.xM),l=Math.round(s._t*t),c=l-o,u=this.xM,d=c+u-1,h=Math.min(s.Kl,s.Xl),f=Math.max(s.Kl,s.Xl),m=Math.round(h*n)-o,g=Math.round(f*n)+o,p=Math.max(g-m,this.xM);e.fillRect(c,m,u,p);const v=Math.ceil(1.5*this.SM);if(i){if(this.Yt.kM){const t=l-v;let r=Math.max(m,Math.round(s.jl*n)-o),i=r+u-1;i>m+p-1&&(i=m+p-1,r=i-u+1),e.fillRect(t,r,c-t,i-r+1)}const t=l+v;let r=Math.max(m,Math.round(s.Zl*n)-o),i=r+u-1;i>m+p-1&&(i=m+p-1,r=i-u+1),e.fillRect(d+1,r,t-d,i-r+1)}}}CM(e){const t=Math.floor(e);return Math.max(t,Math.floor((n=Wl(this.Yt).vu,r=e,Math.floor(.3*n*r))));var n,r}};class vf extends Eh{constructor(e,t){super(e,t,!1)}ug(e,t,n){t._u(this.sg,Zl(this.ng)),e.Yl(this.sg,n,Zl(this.ng))}yM(e,t,n){return{wt:e,qh:t.Wt[0],Yh:t.Wt[1],jh:t.Wt[2],Kh:t.Wt[3],_t:NaN,jl:NaN,Kl:NaN,Xl:NaN,Zl:NaN}}og(){const e=this.Jn.Rh();this.sg=this.Jn.Xs().Hr().map(t=>this.jg(t.Re,t,e))}}let yf=class extends vf{constructor(){super(...arguments),this.hg=new pf}jg(e,t,n){return h(h({},this.yM(e,t,n)),n.Dr(e))}cg(){const e=this.Jn.N();this.hg.ht({Xs:this.sg,vu:this.Qn.Et().vu(),kM:e.openVisible,PM:e.thinBars,lt:this.ng})}};const xf={type:"Bar",isBuiltIn:!0,defaultOptions:{upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},Fg:(e,t)=>new yf(e,t)};let bf=class extends sc{constructor(){super(...arguments),this.Yt=null,this.IM=[]}ht(e){this.Yt=e,this.IM=[]}et({context:e,horizontalPixelRatio:t,verticalPixelRatio:n}){if(null===this.Yt||0===this.Yt.ot.length||null===this.Yt.lt)return;this.IM.length||this.BM(t);const r=Math.max(1,Math.floor(n)),i=Math.round(this.Yt.EM*n)-Math.floor(r/2),a=i+r;for(let s=this.Yt.lt.from;s<this.Yt.lt.to;s++){const t=this.Yt.ot[s],o=this.IM[s-this.Yt.lt.from],l=Math.round(t.ut*n);let c,u;e.fillStyle=t.cr,l<=i?(c=l,u=a):(c=i,u=l-Math.floor(r/2)+r),e.fillRect(o.Uh,c,o.bi-o.Uh+1,u-c)}}BM(e){if(null===this.Yt||0===this.Yt.ot.length||null===this.Yt.lt)return void(this.IM=[]);const t=Math.ceil(this.Yt.vu*e)<=1?0:Math.max(1,Math.floor(e)),n=Math.round(this.Yt.vu*e)-t;this.IM=new Array(this.Yt.lt.to-this.Yt.lt.from);for(let i=this.Yt.lt.from;i<this.Yt.lt.to;i++){const t=this.Yt.ot[i],r=Math.round(t._t*e);let a,s;if(n%2){const e=(n-1)/2;a=r-e,s=r+e}else{const e=n/2;a=r-e,s=r+e-1}this.IM[i-this.Yt.lt.from]={Uh:a,bi:s,AM:r,ne:t._t*e,wt:t.wt}}for(let i=this.Yt.lt.from+1;i<this.Yt.lt.to;i++){const e=this.IM[i-this.Yt.lt.from],n=this.IM[i-this.Yt.lt.from-1];e.wt===n.wt+1&&e.Uh-n.bi!==t+1&&(n.AM>n.ne?n.bi=e.Uh-t-1:e.Uh=n.bi+t+1)}let r=Math.ceil(this.Yt.vu*e);for(let i=this.Yt.lt.from;i<this.Yt.lt.to;i++){const e=this.IM[i-this.Yt.lt.from];e.bi<e.Uh&&(e.bi=e.Uh);const t=e.bi-e.Uh+1;r=Math.min(t,r)}if(t>0&&r<4)for(let i=this.Yt.lt.from;i<this.Yt.lt.to;i++){const e=this.IM[i-this.Yt.lt.from];e.bi-e.Uh+1>r&&(e.AM>e.ne?e.bi-=1:e.Uh+=1)}}},wf=class extends of{constructor(){super(...arguments),this.hg=new bf}jg(e,t,n){return h(h({},this.Yg(e,t)),n.Dr(e))}cg(){const e={ot:this.sg,vu:this.Qn.Et().vu(),lt:this.ng,EM:this.Jn.Ft().Nt(this.Jn.N().base,Wl(this.Jn.zt()).Wt)};this.hg.ht(e)}};const _f={type:"Histogram",isBuiltIn:!0,defaultOptions:{color:"#26a69a",base:0},Fg:(e,t)=>new wf(e,t)};h({},Rl);const jf=new Map,Nf=new Map,kf={IDLE:"idle",LOADING:"loading",SUCCESS:"success",ERROR:"error"},Sf={RRG_ANALYSIS:{files:e=>[`analysis/analyze_rs/rrg_data_${e}.json`,`analysis/analyze_rs/analyze_rs_${e}.json`,`analysis/analyze_rs/rs_21bar_viz_${e}.json`],processor:Pf},MARKET_BREADTH:{files:e=>[`analysis/analyze_breadth_${e}.json`],processor:Ef},VSA_ANALYSIS:{files:e=>[`analysis/analyze_vsa/vsa_market_analysis_${e}.json`],processor:function([e]){return f(h({},e),{processed_at:(new Date).toISOString()})}},INDUSTRY_STRENGTH:{files:()=>["industry_strength_analysis.json","industry_strength_time_series.json"],processor:function([e,t]){return{analysis:e,timeSeries:t,processed_at:(new Date).toISOString()}}},ABNORMAL_SIGNALS:{files:e=>[`filters/abnormal_signals${"intra"===e?"_intra":""}.json`],processor:function([e]){return f(h({},e),{processed_at:(new Date).toISOString()})}},VCP_ANALYSIS:{files:e=>[`filters/filter_vcp_${e}.json`],processor:Mf},vcp_analysis:{files:e=>[`filters/filter_vcp_${e}.json`],processor:Mf},MACRO_DATA:{files:()=>["gdp_year.json","gdp_quarter.json","cpi_month.json","cpi_year.json","fdi_month.json","fdi_year.json","import_export_month.json","import_export_year.json","retail_sales_month.json","retail_sales_year.json","industrial_production_month.json","industrial_production_year.json","money_supply_month.json","money_supply_year.json"],processor:function(e){const t={};return e.forEach((e,n)=>{const r=Sf.MACRO_DATA.files()[n].replace(".json","");t[r]=e}),t.processed_at=(new Date).toISOString(),t}},MARKET_OVERVIEW:{files:()=>["market_overview_dashboard.json"],processor:function([e]){return f(h({},e),{processed_at:(new Date).toISOString()})}},TOP_PERFORMERS:{files:()=>["top_gainers_vnindex_20.json","top_losers_vnindex_20.json","top_by_value_vnindex_20.json","top_by_volume_vnindex_20.json","top_deals_vnindex_20.json","foreign_buy_20.json","foreign_sell_20.json"],processor:function(e){const t={};return e.forEach((e,n)=>{const r=Sf.TOP_PERFORMERS.files()[n].replace(".json","");t[r]=e}),t.processed_at=(new Date).toISOString(),t}},RS_21BAR_HEATMAP:{files:e=>[`analysis/analyze_rs/rs_21bar_viz_${e}.json`,`analysis/analyze_rs/analyze_rs_${e}.json`],processor:function([e,t]){const n={};return(null==t?void 0:t.industries)&&t.industries.forEach(e=>{var t,r,i,a,s;n[e.custom_id]={current_crs:null==(t=e.metrics)?void 0:t.current_crs,crs_status:null==(r=e.metrics)?void 0:r.crs_status,rs_trend_fast:null==(i=e.metrics)?void 0:i.rs_trend_fast,rs_trend_slow:null==(a=e.metrics)?void 0:a.rs_trend_slow,trend_strength:null==(s=e.metrics)?void 0:s.trend_strength}}),{industries:((null==e?void 0:e.industries)||(null==e?void 0:e.items)||[]).map(e=>h(h({},e),n[e.custom_id])),symbols:(null==e?void 0:e.symbols)||[]}}},RS_21BAR_INDUSTRY:{files:e=>[`analysis/analyze_rs/rs_21bar_viz_${e}.json`,`analysis/analyze_rs/analyze_rs_${e}.json`],processor:function([e,t]){const n={};(null==t?void 0:t.industries)&&t.industries.forEach(e=>{var t,r,i,a,s;n[e.custom_id]={current_crs:null==(t=e.metrics)?void 0:t.current_crs,crs_status:null==(r=e.metrics)?void 0:r.crs_status,rs_trend_fast:null==(i=e.metrics)?void 0:i.rs_trend_fast,rs_trend_slow:null==(a=e.metrics)?void 0:a.rs_trend_slow,trend_strength:null==(s=e.metrics)?void 0:s.trend_strength}});const r=(null==e?void 0:e.industries)||(null==e?void 0:e.items)||[];return{industries:r.map(e=>h(h({},e),n[e.custom_id]))}}},RS_21BAR_TICKER:{files:e=>[`analysis/analyze_rs/rs_21bar_viz_${e}.json`,`analysis/analyze_rs/analyze_rs_${e}.json`],processor:function([e,t]){const n={};return(null==t?void 0:t.symbols)&&t.symbols.forEach(e=>{var t,r,i,a,s;n[e.symbol]={current_crs:null==(t=e.metrics)?void 0:t.current_crs,crs_status:null==(r=e.metrics)?void 0:r.crs_status,rs_trend_fast:null==(i=e.metrics)?void 0:i.rs_trend_fast,rs_trend_slow:null==(a=e.metrics)?void 0:a.rs_trend_slow,trend_strength:null==(s=e.metrics)?void 0:s.trend_strength}}),{symbols:((null==e?void 0:e.symbols)||[]).map(e=>h(h({},e),n[e.symbol]))}}},analyze_breadth:{files:()=>["analysis/analyze_breadth.json"],processor:Ef},analyze_breadth_5:{files:()=>["analysis/analyze_breadth_5.json"],processor:Ef},analyze_breadth_4:{files:()=>["analysis/analyze_breadth_4.json"],processor:Ef},breadth_data:{files:(e="market")=>"market"===e?["analysis/analyze_breadth5/market.json"]:[`analysis/analyze_breadth5/industries/${e}.json`],processor:Ef},breadth_industries_summary:{files:()=>["analysis/analyze_breadth5/industries/summary.json"],processor:([e])=>e},analyze_groups_mfi:{files:()=>["analysis/analyze_groups_mfi.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},rs_analysis:{files:e=>[`analysis/analyze_rs/analyze_rs_${e}.json`],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},vsa_market_analysis:{files:e=>[`analysis/analyze_vsa/vsa_market_analysis_${e}.json`],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},industry_strength_time_series:{files:()=>["industry_strength_time_series.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},top_gainers:{files:()=>["top_gainers_vnindex_20.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},top_losers:{files:()=>["top_losers_vnindex_20.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},top_by_volume:{files:()=>["top_by_volume_vnindex_20.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},top_by_value:{files:()=>["top_by_value_vnindex_20.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},top_deals:{files:()=>["top_deals_vnindex_20.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},foreign_buy:{files:()=>["foreign_buy_20.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},foreign_sell:{files:()=>["foreign_sell_20.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},gdp_quarter:{files:()=>["gdp_quarter.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},money_supply_month:{files:()=>["money_supply_month.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},retail_sales_year:{files:()=>["retail_sales_year.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},retail_sales_month:{files:()=>["retail_sales_month.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},cpi_month:{files:()=>["cpi_month.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},cpi_year:{files:()=>["cpi_year.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},ppi_month:{files:()=>["ppi_month.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},pce_month:{files:()=>["pce_month.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},commodities_data:{files:()=>["commodities_data.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},inflation_analysis:{files:()=>["inflation_analysis.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},pe_ratio:{files:()=>["pe_ratio_5y.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},pb_ratio:{files:()=>["pb_ratio_5y.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},market_overview:{files:()=>["market_overview_dashboard.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},abnormal_signals:{files:e=>[`filters/abnormal_signals${"intra"===e?"_intra":""}.json`],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},abnormal_signals_intra:{files:()=>["filters/abnormal_signals_intra.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},analyze_greed_fear:{files:()=>["analysis/analyze_greed_fear.json"],processor:([e])=>f(h({},e),{processed_at:(new Date).toISOString()})},companies:{files:()=>["data/data/companies.json"],processor:([e])=>e},industries:{files:()=>["data/data/industries.json"],processor:([e])=>e},rrg_analysis:{files:e=>[`analysis/analyze_rs/rrg_data_${e}.json`,`analysis/analyze_rs/analyze_rs_${e}.json`],processor:Pf}};function Cf(e){return v(this,null,function*(){const t=e;if(jf.has(t))return jf.get(t);try{let n;n=e.startsWith("data/")?`/embed-tools/vnindex-analysis/${e}`:`/embed-tools/vnindex-analysis/data/${e}`;const r=yield fetch(n);if(!r.ok)throw new Error(`Failed to load ${e}: ${r.status}`);const i=yield r.json();return jf.set(t,i),i}catch(n){throw n}})}function Pf([e,t,n]){const r=t.industries||[],i=t.groups||[],a=t.symbols||[],s=e.series.filter(e=>"industry"===e.type),o=e.series.filter(e=>"group"===e.type),l=e.series.filter(e=>"symbol"===e.type),c=r.map(e=>{const t=s.find(t=>t.custom_id===e.custom_id);return f(h({},e),{tail:(null==t?void 0:t.tail)||[],rrg_position:(null==t?void 0:t.tail)&&t.tail.length>0?Af(t.tail[t.tail.length-1]):null})}),u=i.map(e=>{const t=o.find(t=>t.custom_id===e.custom_id);return f(h({},e),{tail:(null==t?void 0:t.tail)||[],rrg_position:(null==t?void 0:t.tail)&&t.tail.length>0?Af(t.tail[t.tail.length-1]):null})}),d=a.map(e=>{const t=l.find(t=>t.custom_id===e.symbol),n=f(h({},e),{tail:(null==t?void 0:t.tail)||[],rrg_position:(null==t?void 0:t.tail)&&t.tail.length>0?Af(t.tail[t.tail.length-1]):null,industries:e.industries||[]});if(e.industry_id&&!n.industries.length){const t=r.find(t=>t.custom_id===e.industry_id);t&&(n.industries=[t])}if(!n.industries.length){const t=r.find(t=>t.symbols&&t.symbols.includes(e.symbol));t&&(n.industries=[t])}return n}).map(e=>{if(null==n?void 0:n.symbols){const t=n.symbols.find(t=>t.id===e.symbol);if(t)return f(h({},e),{rs_bars:t.rs_bars||[]})}if((null==n?void 0:n.industries)&&e.industries&&e.industries.length>0){const t=e.industries[0],r=n.industries.find(e=>e.id===t.custom_id);if(r&&r.rs_bars)return f(h({},e),{rs_bars:r.rs_bars||[]})}return e});return{industries:c.map(Of),groups:u.map(Of),symbols:d.map(Of),tickers:d.map(Of),insights:t.insights||{},analysis_date:t.analysis_date,timeframe:t.timeframe,rs21BarData:n||null}}function Ef([e]){return f(h({},e),{processed_at:(new Date).toISOString()})}function Mf([e]){return f(h({},e),{processed_at:(new Date).toISOString()})}function Of(e){var t,n,r,i,a,s,o,l,c,u,d,m,g,p,v,y;const x=Array.isArray(e.tail)&&e.tail.length>0?e.tail[e.tail.length-1]:{};return f(h({},e),{industry:e.name,rs:null!=(n=null==(t=e.metrics)?void 0:t.current_rs)?n:null,crs:null!=(i=null==(r=e.metrics)?void 0:r.current_crs)?i:null,momentum:null!=(s=null==(a=e.speed_analysis)?void 0:a.weighted_speed)?s:null,direction:null!=(l=null==(o=e.direction_analysis)?void 0:o.direction)?l:null,trend_strength:null!=(u=null==(c=e.direction_analysis)?void 0:c.trend_strength)?u:null,momentum_confirmed:null!=(m=null==(d=e.direction_analysis)?void 0:d.momentum_confirmed)?m:null,signal_to_noise_ratio:null!=(p=null==(g=e.direction_analysis)?void 0:g.signal_to_noise_ratio)?p:null,rs_ratio:null!=(v=x.x)?v:null,rs_momentum:null!=(y=x.y)?y:null})}function Af(e){if(!e||"number"!=typeof e.x||"number"!=typeof e.y)return null;const t=e.x,n=e.y;return t>100&&n>100?"Leading (Dẫn dắt)":t>100&&n<=100?"Weakening (Suy yếu)":t<=100&&n<=100?"Lagging (Tụt hậu)":t<=100&&n>100?"Improving (Cải thiện)":null}function Tf(e){for(const t of jf.keys())t.startsWith(e+"_")&&jf.delete(t)}function Rf(e){const t=new CustomEvent("dataReloaded",{detail:{dataType:e}});window.dispatchEvent(t)}function Df(e,t=null,n=[],r={}){const[i,a]=k.useState(kf.IDLE),[s,o]=k.useState(null),[l,c]=k.useState(null),[u,d]=k.useState(null),h=k.useCallback(()=>v(null,null,function*(){if(i===kf.LOADING)return;const n=`${e}_${t||"1D"}`;if(jf.has(n)){const e=jf.get(n);if(s===e)return}a(kf.LOADING),c(null);try{const n=yield function(e,t=null){return v(this,null,function*(){const n=Sf[e];if(!n)throw new Error(`Unknown data type: ${e}`);const r="string"==typeof t?t:t&&"object"==typeof t&&t.timeframe||"1D",i=`${e}_${r}`;if(jf.has(i))return jf.get(i);if(Nf.has(i)){for(;Nf.has(i);)yield new Promise(e=>setTimeout(e,10));if(jf.has(i))return jf.get(i)}Nf.set(i,!0);try{const t=n.files(r),a=yield Promise.all(t.map(Cf)),s=n.processor(a);return jf.set(i,s),Nf.delete(i),Rf(e),s}catch(l){throw l}finally{Nf.delete(i)}})}(e,t);o(n),d(new Date),a(kf.SUCCESS)}catch(zse){c(zse),a(kf.ERROR)}}),[e,t,i,s]);return k.useEffect(()=>{h()},[h]),k.useEffect(()=>{const t=t=>{var n;const r=null==(n=t.detail)?void 0:n.dataType;r&&r!==e||h()};return window.addEventListener("dataReloaded",t),()=>{window.removeEventListener("dataReloaded",t)}},[e,h]),k.useEffect(()=>{if(r.refreshInterval){const e=setInterval(()=>{h()},r.refreshInterval);return()=>clearInterval(e)}},[r.refreshInterval,e,h]),{data:s,loading:i===kf.LOADING||!s&&!l,error:l,lastUpdated:u,refresh:()=>{h(),Rf(e)},reload:h}}function If(e="1D"){return Df("RRG_ANALYSIS",e)}function Lf(){return Df("companies")}function zf(){return Df("industries")}function Ff(e,t="industry"){let n;return n="industry"===t?"RS_21BAR_INDUSTRY":"ticker"===t?"RS_21BAR_TICKER":"RS_21BAR_HEATMAP",Df(n,e)}const Bf={clearCache:()=>jf.clear(),getCacheSize:()=>jf.size,getCacheKeys:()=>Array.from(jf.keys()),removeFromCache:e=>jf.delete(e),getCacheStats:()=>({size:jf.size,keys:Array.from(jf.keys()),totalSize:Array.from(jf.values()).reduce((e,t)=>e+JSON.stringify(t).length,0)})};function Vf(e,t){const n=k.useCallback(n=>{if(!e||!t)return null;const r=e[n];if(!r)return null;const i=t[r.industry_id];return{ticker:n,name:r.name,industry:i?i.name:"Unknown",industry_id:r.industry_id}},[e,t]),r=k.useCallback(t=>e?Object.entries(e).filter(([e,n])=>n.industry_id===t).map(([e])=>e):[],[e]),i=k.useCallback(e=>{if(!t)return"Unknown";const n=t[e];return n?n.name:"Unknown"},[t]);return{companies:e,industries:t,getTickerInfo:n,getIndustryTickers:r,getIndustryName:i,loading:!e||!t}}const Wf={useDataLoader:Df,useRRGAnalysis:If,useMarketBreadth:function(e="1D"){return Df("MARKET_BREADTH",e)},useVSAAnalysis:function(e="1D"){return Df("VSA_ANALYSIS",e)},useIndustryStrength:function(){return Df("INDUSTRY_STRENGTH")},useAbnormalSignals:function(e="1D"){return Df("ABNORMAL_SIGNALS",e)},useVCPAnalysis:function(e="1D"){return Df("VCP_ANALYSIS",e)},useMacroData:function(){return Df("MACRO_DATA")},useMarketOverview:function(){return Df("MARKET_OVERVIEW")},useTopPerformers:function(){return Df("TOP_PERFORMERS")},useCompanies:Lf,useIndustries:zf,useTickerInfo:function(){const{data:e}=Lf(),{data:t}=zf(),n=k.useCallback(n=>{if(!e||!t)return null;const r=e[n];if(!r)return null;const i=t[r.industry_id];return{ticker:n,name:r.name,industry:i?i.name:"Unknown",industry_id:r.industry_id}},[e,t]),r=k.useCallback(t=>e?Object.entries(e).filter(([e,n])=>n.industry_id===t).map(([e])=>e):[],[e]),i=k.useCallback(e=>{if(!t)return"Unknown";const n=t[e];return n?n.name:"Unknown"},[t]);return{companies:e,industries:t,getTickerInfo:n,getIndustryTickers:r,getIndustryName:i,loading:!e||!t}},useTickerInfoWithData:Vf,useRS21BarHeatmap:Ff,useCacheStats:function(){const[e,t]=k.useState({total:0,valid:0,expired:0}),n=k.useCallback(()=>{const e=Bf.getCacheStats();t({total:e.size,valid:e.size,expired:0})},[]);return k.useEffect(()=>{n()},[]),{stats:e,updateStats:n}},cacheUtils:Bf,loadTicker:function(e){return v(this,null,function*(){try{const t=`data/tickers/${e}.json`;return yield Cf(t)}catch(t){throw t}})},DATA_TYPES:Sf,LOADING_STATES:kf};var $f,Hf={},Kf={};function Uf(){return $f||($f=1,e=Kf,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isUnsafeProperty=function(e){return"__proto__"===e}),Kf;var e}var Gf,qf={};function Yf(){return Gf||(Gf=1,e=qf,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}),qf;var e}var Xf,Qf={};function Zf(){return Xf||(Xf=1,e=Qf,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.toKey=function(e){var t;return"string"==typeof e||"symbol"==typeof e?e:Object.is(null==(t=null==e?void 0:e.valueOf)?void 0:t.call(e),-0)?"-0":String(e)}),Qf;var e}var Jf,em,tm,nm,rm={};function im(){return Jf||(Jf=1,e=rm,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.toPath=function(e){const t=[],n=e.length;if(0===n)return t;let r=0,i="",a="",s=!1;for(46===e.charCodeAt(0)&&(t.push(""),r++);r<n;){const o=e[r];a?"\\"===o&&r+1<n?(r++,i+=e[r]):o===a?a="":i+=o:s?'"'===o||"'"===o?a=o:"]"===o?(s=!1,t.push(i),i=""):i+=o:"["===o?(s=!0,i&&(t.push(i),i="")):"."===o?i&&(t.push(i),i=""):i+=o,r++}return i&&t.push(i),t}),rm;var e}function am(){return em||(em=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uf(),n=Yf(),r=Zf(),i=im();e.get=function e(a,s,o){if(null==a)return o;switch(typeof s){case"string":{if(t.isUnsafeProperty(s))return o;const r=a[s];return void 0===r?n.isDeepKey(s)?e(a,i.toPath(s),o):o:r}case"number":case"symbol":{"number"==typeof s&&(s=r.toKey(s));const e=a[s];return void 0===e?o:e}default:{if(Array.isArray(s))return function(e,n,r){if(0===n.length)return r;let i=e;for(let a=0;a<n.length;a++){if(null==i)return r;if(t.isUnsafeProperty(n[a]))return r;i=i[n[a]]}return void 0===i?r:i}(a,s,o);if(s=Object.is(null==s?void 0:s.valueOf(),-0)?"-0":String(s),t.isUnsafeProperty(s))return o;const e=a[s];return void 0===e?o:e}}}}(Hf)),Hf}function sm(){return nm?tm:(nm=1,tm=am().get)}const om=i(sm());var lm,cm,um={exports:{}},dm={},hm=(cm||(cm=1,um.exports=function(){if(lm)return dm;lm=1;var e="function"==typeof Symbol&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,o=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,u=e?Symbol.for("react.forward_ref"):60112,d=e?Symbol.for("react.suspense"):60113,h=e?Symbol.for("react.suspense_list"):60120,f=e?Symbol.for("react.memo"):60115,m=e?Symbol.for("react.lazy"):60116,g=e?Symbol.for("react.block"):60121,p=e?Symbol.for("react.fundamental"):60117,v=e?Symbol.for("react.responder"):60118,y=e?Symbol.for("react.scope"):60119;function x(e){if("object"==typeof e&&null!==e){var h=e.$$typeof;switch(h){case t:switch(e=e.type){case l:case c:case r:case a:case i:case d:return e;default:switch(e=e&&e.$$typeof){case o:case u:case m:case f:case s:return e;default:return h}}case n:return h}}}function b(e){return x(e)===c}return dm.AsyncMode=l,dm.ConcurrentMode=c,dm.ContextConsumer=o,dm.ContextProvider=s,dm.Element=t,dm.ForwardRef=u,dm.Fragment=r,dm.Lazy=m,dm.Memo=f,dm.Portal=n,dm.Profiler=a,dm.StrictMode=i,dm.Suspense=d,dm.isAsyncMode=function(e){return b(e)||x(e)===l},dm.isConcurrentMode=b,dm.isContextConsumer=function(e){return x(e)===o},dm.isContextProvider=function(e){return x(e)===s},dm.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},dm.isForwardRef=function(e){return x(e)===u},dm.isFragment=function(e){return x(e)===r},dm.isLazy=function(e){return x(e)===m},dm.isMemo=function(e){return x(e)===f},dm.isPortal=function(e){return x(e)===n},dm.isProfiler=function(e){return x(e)===a},dm.isStrictMode=function(e){return x(e)===i},dm.isSuspense=function(e){return x(e)===d},dm.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===c||e===a||e===i||e===d||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===f||e.$$typeof===s||e.$$typeof===o||e.$$typeof===u||e.$$typeof===p||e.$$typeof===v||e.$$typeof===y||e.$$typeof===g)},dm.typeOf=x,dm}()),um.exports),fm=e=>0===e?0:e>0?1:-1,mm=e=>"number"==typeof e&&e!=+e,gm=e=>"string"==typeof e&&e.indexOf("%")===e.length-1,pm=e=>("number"==typeof e||e instanceof Number)&&!mm(e),vm=e=>pm(e)||"string"==typeof e,ym=0,xm=e=>{var t=++ym;return"".concat(e||"").concat(t)},bm=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!pm(e)&&"string"!=typeof e)return r;if(gm(e)){if(null==t)return r;var a=e.indexOf("%");n=t*parseFloat(e.slice(0,a))/100}else n=+e;return mm(n)&&(n=r),i&&null!=t&&n>t&&(n=t),n},wm=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1},_m=(e,t)=>pm(e)&&pm(t)?n=>e+n*(t-e):()=>t;function jm(e,t,n){return pm(e)&&pm(t)?e+n*(t-e):t}function Nm(e,t,n){if(e&&e.length)return e.find(e=>e&&("function"==typeof t?t(e):om(e,t))===n)}var km=e=>null==e,Sm=e=>km(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),Cm=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Pm=["points","pathLength"],Em={svg:["viewBox","children"],polygon:Pm,polyline:Pm},Mm=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Om=(e,t)=>{if(!e||"function"==typeof e||"boolean"==typeof e)return null;var n=e;if(k.isValidElement(e)&&(n=e.props),"object"!=typeof n&&"function"!=typeof n)return null;var r={};return Object.keys(n).forEach(e=>{Mm.includes(e)&&(r[e]=t=>n[e](n,t))}),r},Am=(e,t,n)=>{if(null===e||"object"!=typeof e&&"function"!=typeof e)return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];Mm.includes(i)&&"function"==typeof a&&(r||(r={}),r[i]=((e,t,n)=>r=>(e(t,n,r),null))(a,t,n))}),r},Tm=e=>"string"==typeof e?e:e?e.displayName||e.name||"Component":"",Rm=null,Dm=null,Im=e=>{if(e===Rm&&Array.isArray(Dm))return Dm;var t=[];return k.Children.forEach(e,e=>{km(e)||(hm.isFragment(e)?t=t.concat(Im(e.props.children)):t.push(e))}),Dm=t,Rm=e,t};function Lm(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(e=>Tm(e)):[Tm(t)],Im(e).forEach(e=>{var t=om(e,"type.displayName")||om(e,"type.name");-1!==r.indexOf(t)&&n.push(e)}),n}var zm=e=>!e||"object"!=typeof e||!("clipDot"in e)||Boolean(e.clipDot),Fm=(e,t,n)=>{if(!e||"function"==typeof e||"boolean"==typeof e)return null;var r=e;if(k.isValidElement(e)&&(r=e.props),"object"!=typeof r&&"function"!=typeof r)return null;var i={};return Object.keys(r).forEach(e=>{var a;((e,t,n,r)=>{var i,a=null!==(i=r&&(null==Em?void 0:Em[r]))&&void 0!==i?i:[];return t.startsWith("data-")||"function"!=typeof e&&(r&&a.includes(t)||Cm.includes(t))||n&&Mm.includes(t)})(null===(a=r)||void 0===a?void 0:a[e],e,t,n)&&(i[e]=r[e])}),i},Bm=["children","width","height","viewBox","className","style","title","desc"];function Vm(){return Vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vm.apply(null,arguments)}var Wm=k.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:o,title:l,desc:c}=e,u=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Bm),d=a||{width:r,height:i,x:0,y:0},h=ot("recharts-surface",s);return k.createElement("svg",Vm({},Fm(u,!0,"svg"),{className:h,width:r,height:i,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),k.createElement("title",null,l),k.createElement("desc",null,c),n)}),$m=["children","className"];function Hm(){return Hm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hm.apply(null,arguments)}var Km=k.forwardRef((e,t)=>{var{children:n,className:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,$m),a=ot("recharts-layer",r);return k.createElement("g",Hm({className:a},Fm(i,!0),{ref:t}),n)}),Um=k.createContext(null);function Gm(e){return function(){return e}}const qm=Math.abs,Ym=Math.atan2,Xm=Math.cos,Qm=Math.max,Zm=Math.min,Jm=Math.sin,eg=Math.sqrt,tg=1e-12,ng=Math.PI,rg=ng/2,ig=2*ng;function ag(e){return e>=1?rg:e<=-1?-rg:Math.asin(e)}const sg=Math.PI,og=2*sg,lg=1e-6,cg=og-lg;function ug(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}let dg=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?ug:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ug;const n=u(10,t);return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,i,a){this._append`C${+e},${+t},${+n},${+r},${this._x1=+i},${this._y1=+a}`}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let a=this._x1,s=this._y1,o=n-e,l=r-t,c=a-e,u=s-t,d=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>lg)if(Math.abs(u*o-l*c)>lg&&i){let h=n-a,f=r-s,m=o*o+l*l,g=h*h+f*f,p=Math.sqrt(m),v=Math.sqrt(d),y=i*Math.tan((sg-Math.acos((m+d-g)/(2*p*v)))/2),x=y/v,b=y/p;Math.abs(x-1)>lg&&this._append`L${e+x*c},${t+x*u}`,this._append`A${i},${i},0,0,${+(u*h>c*f)},${this._x1=e+b*o},${this._y1=t+b*l}`}else this._append`L${this._x1=e},${this._y1=t}`}arc(e,t,n,r,i,a){if(e=+e,t=+t,a=!!a,(n=+n)<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(r),o=n*Math.sin(r),l=e+s,c=t+o,u=1^a,d=a?r-i:i-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>lg||Math.abs(this._y1-c)>lg)&&this._append`L${l},${c}`,n&&(d<0&&(d=d%og+og),d>cg?this._append`A${n},${n},0,1,${u},${e-s},${t-o}A${n},${n},0,1,${u},${this._x1=l},${this._y1=c}`:d>lg&&this._append`A${n},${n},0,${+(d>=sg)},${u},${this._x1=e+n*Math.cos(i)},${this._y1=t+n*Math.sin(i)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}};function hg(){return new dg}function fg(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new dg(t)}function mg(e){return e.innerRadius}function gg(e){return e.outerRadius}function pg(e){return e.startAngle}function vg(e){return e.endAngle}function yg(e){return e&&e.padAngle}function xg(e,t,n,r,i,a,s){var o=e-n,l=t-r,c=(s?a:-a)/eg(o*o+l*l),u=c*l,d=-c*o,h=e+u,f=t+d,m=n+u,g=r+d,p=(h+m)/2,v=(f+g)/2,y=m-h,x=g-f,b=y*y+x*x,w=i-a,_=h*g-m*f,j=(x<0?-1:1)*eg(Qm(0,w*w*b-_*_)),N=(_*x-y*j)/b,k=(-_*y-x*j)/b,S=(_*x+y*j)/b,C=(-_*y+x*j)/b,P=N-p,E=k-v,M=S-p,O=C-v;return P*P+E*E>M*M+O*O&&(N=S,k=C),{cx:N,cy:k,x01:-u,y01:-d,x11:N*(i/w-1),y11:k*(i/w-1)}}hg.prototype=dg.prototype;var bg=Array.prototype.slice;function wg(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function _g(e){this._context=e}function jg(e){return new _g(e)}function Ng(e){return e[0]}function kg(e){return e[1]}function Sg(e,t){var n=Gm(!0),r=null,i=jg,a=null,s=fg(o);function o(o){var l,c,u,d=(o=wg(o)).length,h=!1;for(null==r&&(a=i(u=s())),l=0;l<=d;++l)!(l<d&&n(c=o[l],l,o))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(c,l,o),+t(c,l,o));if(u)return a=null,u+""||null}return e="function"==typeof e?e:void 0===e?Ng:Gm(e),t="function"==typeof t?t:void 0===t?kg:Gm(t),o.x=function(t){return arguments.length?(e="function"==typeof t?t:Gm(+t),o):e},o.y=function(e){return arguments.length?(t="function"==typeof e?e:Gm(+e),o):t},o.defined=function(e){return arguments.length?(n="function"==typeof e?e:Gm(!!e),o):n},o.curve=function(e){return arguments.length?(i=e,null!=r&&(a=i(r)),o):i},o.context=function(e){return arguments.length?(null==e?r=a=null:a=i(r=e),o):r},o}function Cg(e,t,n){var r=null,i=Gm(!0),a=null,s=jg,o=null,l=fg(c);function c(c){var u,d,h,f,m,g=(c=wg(c)).length,p=!1,v=new Array(g),y=new Array(g);for(null==a&&(o=s(m=l())),u=0;u<=g;++u){if(!(u<g&&i(f=c[u],u,c))===p)if(p=!p)d=u,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),h=u-1;h>=d;--h)o.point(v[h],y[h]);o.lineEnd(),o.areaEnd()}p&&(v[u]=+e(f,u,c),y[u]=+t(f,u,c),o.point(r?+r(f,u,c):v[u],n?+n(f,u,c):y[u]))}if(m)return o=null,m+""||null}function u(){return Sg().defined(i).curve(s).context(a)}return e="function"==typeof e?e:void 0===e?Ng:Gm(+e),t="function"==typeof t?t:Gm(void 0===t?0:+t),n="function"==typeof n?n:void 0===n?kg:Gm(+n),c.x=function(t){return arguments.length?(e="function"==typeof t?t:Gm(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:Gm(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:Gm(+e),c):r},c.y=function(e){return arguments.length?(t="function"==typeof e?e:Gm(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"==typeof e?e:Gm(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:Gm(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"==typeof e?e:Gm(!!e),c):i},c.curve=function(e){return arguments.length?(s=e,null!=a&&(o=s(a)),c):s},c.context=function(e){return arguments.length?(null==e?a=o=null:o=s(a=e),c):a},c}function Pg(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function Eg(e){return e}_g.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var Mg=Ag(jg);function Og(e){this._curve=e}function Ag(e){function t(t){return new Og(e(t))}return t._curve=e,t}function Tg(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(Ag(e)):t()._curve},e}function Rg(){return Tg(Sg().curve(Mg))}function Dg(){var e=Cg().curve(Mg),t=e.curve,n=e.lineX0,r=e.lineX1,i=e.lineY0,a=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return Tg(n())},delete e.lineX0,e.lineEndAngle=function(){return Tg(r())},delete e.lineX1,e.lineInnerRadius=function(){return Tg(i())},delete e.lineY0,e.lineOuterRadius=function(){return Tg(a())},delete e.lineY1,e.curve=function(e){return arguments.length?t(Ag(e)):t()._curve},e}function Ig(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}Og.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};class Lg{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}class zg{constructor(e){this._context=e}lineStart(){this._point=0}lineEnd(){}point(e,t){if(e=+e,t=+t,0===this._point)this._point=1;else{const n=Ig(this._x0,this._y0),r=Ig(this._x0,this._y0=(this._y0+t)/2),i=Ig(e,this._y0),a=Ig(e,t);this._context.moveTo(...n),this._context.bezierCurveTo(...r,...i,...a)}this._x0=e,this._y0=t}}function Fg(e){return new Lg(e,!0)}function Bg(e){return new Lg(e,!1)}function Vg(e){return new zg(e)}function Wg(e){return e.source}function $g(e){return e.target}function Hg(e){let t=Wg,n=$g,r=Ng,i=kg,a=null,s=null,o=fg(l);function l(){let l;const c=bg.call(arguments),u=t.apply(this,c),d=n.apply(this,c);if(null==a&&(s=e(l=o())),s.lineStart(),c[0]=u,s.point(+r.apply(this,c),+i.apply(this,c)),c[0]=d,s.point(+r.apply(this,c),+i.apply(this,c)),s.lineEnd(),l)return s=null,l+""||null}return l.source=function(e){return arguments.length?(t=e,l):t},l.target=function(e){return arguments.length?(n=e,l):n},l.x=function(e){return arguments.length?(r="function"==typeof e?e:Gm(+e),l):r},l.y=function(e){return arguments.length?(i="function"==typeof e?e:Gm(+e),l):i},l.context=function(t){return arguments.length?(null==t?a=s=null:s=e(a=t),l):a},l}const Kg=eg(3),Ug={draw(e,t){const n=.59436*eg(t+Zm(t/28,.75)),r=n/2,i=r*Kg;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},Gg={draw(e,t){const n=eg(t/ng);e.moveTo(n,0),e.arc(0,0,n,0,ig)}},qg={draw(e,t){const n=eg(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Yg=eg(1/3),Xg=2*Yg,Qg={draw(e,t){const n=eg(t/Xg),r=n*Yg;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Zg={draw(e,t){const n=.62625*eg(t);e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},Jg={draw(e,t){const n=.87559*eg(t-Zm(t/7,2));e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},ep={draw(e,t){const n=eg(t),r=-n/2;e.rect(r,r,n,n)}},tp={draw(e,t){const n=.4431*eg(t);e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},np=Jm(ng/10)/Jm(7*ng/10),rp=Jm(ig/10)*np,ip=-Xm(ig/10)*np,ap={draw(e,t){const n=eg(.8908130915292852*t),r=rp*n,i=ip*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const t=ig*a/5,s=Xm(t),o=Jm(t);e.lineTo(o*n,-s*n),e.lineTo(s*r-o*i,o*r+s*i)}e.closePath()}},sp=eg(3),op={draw(e,t){const n=-eg(t/(3*sp));e.moveTo(0,2*n),e.lineTo(-sp*n,-n),e.lineTo(sp*n,-n),e.closePath()}},lp=eg(3),cp={draw(e,t){const n=.6824*eg(t),r=n/2,i=n*lp/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},up=-.5,dp=eg(3)/2,hp=1/eg(12),fp=3*(hp/2+1),mp={draw(e,t){const n=eg(t/fp),r=n/2,i=n*hp,a=r,s=n*hp+n,o=-a,l=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(up*r-dp*i,dp*r+up*i),e.lineTo(up*a-dp*s,dp*a+up*s),e.lineTo(up*o-dp*l,dp*o+up*l),e.lineTo(up*r+dp*i,up*i-dp*r),e.lineTo(up*a+dp*s,up*s-dp*a),e.lineTo(up*o+dp*l,up*l-dp*o),e.closePath()}},gp={draw(e,t){const n=.6189*eg(t-Zm(t/6,1.7));e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},pp=[Gg,qg,Qg,ep,ap,op,mp],vp=[Gg,Jg,gp,cp,Ug,tp,Zg];function yp(e,t){let n=null,r=fg(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"==typeof e?e:Gm(e||Gg),t="function"==typeof t?t:Gm(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"==typeof t?t:Gm(t),i):e},i.size=function(e){return arguments.length?(t="function"==typeof e?e:Gm(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}function xp(){}function bp(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function wp(e){this._context=e}function _p(e){return new wp(e)}function jp(e){this._context=e}function Np(e){return new jp(e)}function kp(e){this._context=e}function Sp(e){return new kp(e)}function Cp(e,t){this._basis=new wp(e),this._beta=t}wp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:bp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:bp(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},jp.prototype={areaStart:xp,areaEnd:xp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:bp(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},kp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:bp(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Cp.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],a=t[0],s=e[n]-i,o=t[n]-a,l=-1;++l<=n;)r=l/n,this._basis.point(this._beta*e[l]+(1-this._beta)*(i+r*s),this._beta*t[l]+(1-this._beta)*(a+r*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const Pp=function e(t){function n(e){return 1===t?new wp(e):new Cp(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function Ep(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Mp(e,t){this._context=e,this._k=(1-t)/6}Mp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ep(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Ep(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Op=function e(t){function n(e){return new Mp(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Ap(e,t){this._context=e,this._k=(1-t)/6}Ap.prototype={areaStart:xp,areaEnd:xp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Ep(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Tp=function e(t){function n(e){return new Ap(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Rp(e,t){this._context=e,this._k=(1-t)/6}Rp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ep(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Dp=function e(t){function n(e){return new Rp(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Ip(e,t,n){var r=e._x1,i=e._y1,a=e._x2,s=e._y2;if(e._l01_a>tg){var o=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*o-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*o-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>tg){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*c+e._x1*e._l23_2a-t*e._l12_2a)/u,s=(s*c+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(r,i,a,s,e._x2,e._y2)}function Lp(e,t){this._context=e,this._alpha=t}Lp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Ip(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const zp=function e(t){function n(e){return t?new Lp(e,t):new Mp(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Fp(e,t){this._context=e,this._alpha=t}Fp.prototype={areaStart:xp,areaEnd:xp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Ip(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Bp=function e(t){function n(e){return t?new Fp(e,t):new Ap(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Vp(e,t){this._context=e,this._alpha=t}Vp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ip(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Wp=function e(t){function n(e){return t?new Vp(e,t):new Rp(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function $p(e){this._context=e}function Hp(e){return new $p(e)}function Kp(e){return e<0?-1:1}function Up(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(Kp(a)+Kp(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function Gp(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function qp(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-r)/3;e._context.bezierCurveTo(r+o,i+o*t,a-o,s-o*n,a,s)}function Yp(e){this._context=e}function Xp(e){this._context=new Qp(e)}function Qp(e){this._context=e}function Zp(e){return new Yp(e)}function Jp(e){return new Xp(e)}function ev(e){this._context=e}function tv(e){var t,n,r=e.length-1,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function nv(e){return new ev(e)}function rv(e,t){this._context=e,this._t=t}function iv(e){return new rv(e,.5)}function av(e){return new rv(e,0)}function sv(e){return new rv(e,1)}function ov(e,t){if((i=e.length)>1)for(var n,r,i,a=1,s=e[t[0]],o=s.length;a<i;++a)for(r=s,s=e[t[a]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function lv(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function cv(e,t){return e[t]}function uv(e){const t=[];return t.key=e,t}function dv(){var e=Gm([]),t=lv,n=ov,r=cv;function i(i){var a,s,o=Array.from(e.apply(this,arguments),uv),l=o.length,c=-1;for(const e of i)for(a=0,++c;a<l;++a)(o[a][c]=[0,+r(e,o[a].key,c,i)]).data=e;for(a=0,s=wg(t(o));a<l;++a)o[s[a]].index=a;return n(o,s),o}return i.keys=function(t){return arguments.length?(e="function"==typeof t?t:Gm(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"==typeof e?e:Gm(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?lv:"function"==typeof e?e:Gm(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?ov:e,i):n},i}function hv(e,t){if((r=e.length)>0){for(var n,r,i,a=0,s=e[0].length;a<s;++a){for(i=n=0;n<r;++n)i+=e[n][a][1]||0;if(i)for(n=0;n<r;++n)e[n][a][1]/=i}ov(e,t)}}function fv(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],a=i.length;r<a;++r){for(var s=0,o=0;s<n;++s)o+=e[s][r][1]||0;i[r][1]+=i[r][0]=-o/2}ov(e,t)}}function mv(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,a=0,s=1;s<r;++s){for(var o=0,l=0,c=0;o<i;++o){for(var u=e[t[o]],d=u[s][1]||0,h=(d-(u[s-1][1]||0))/2,f=0;f<o;++f){var m=e[t[f]];h+=(m[s][1]||0)-(m[s-1][1]||0)}l+=d,c+=h*d}n[s-1][1]+=n[s-1][0]=a,l&&(a-=c/l)}n[s-1][1]+=n[s-1][0]=a,ov(e,t)}}function gv(e){var t=e.map(pv);return lv(e).sort(function(e,n){return t[e]-t[n]})}function pv(e){for(var t,n=-1,r=0,i=e.length,a=-1/0;++n<i;)(t=+e[n][1])>a&&(a=t,r=n);return r}function vv(e){var t=e.map(yv);return lv(e).sort(function(e,n){return t[e]-t[n]})}function yv(e){for(var t,n=0,r=-1,i=e.length;++r<i;)(t=+e[r][1])&&(n+=t);return n}$p.prototype={areaStart:xp,areaEnd:xp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},Yp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qp(this,this._t0,Gp(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,qp(this,Gp(this,n=Up(this,e,t)),n);break;default:qp(this,this._t0,n=Up(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Xp.prototype=Object.create(Yp.prototype)).point=function(e,t){Yp.prototype.point.call(this,t,e)},Qp.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}},ev.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=tv(e),i=tv(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},rv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var xv=["type","size","sizeType"];function bv(){return bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bv.apply(null,arguments)}function wv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wv(Object(n),!0).forEach(function(t){jv(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wv(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function jv(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nv={symbolCircle:Gg,symbolCross:qg,symbolDiamond:Qg,symbolSquare:ep,symbolStar:ap,symbolTriangle:op,symbolWye:mp},kv=Math.PI/180,Sv=e=>{var t,n,{type:r="circle",size:i=64,sizeType:a="area"}=e,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,xv),o=_v(_v({},s),{},{type:r,size:i,sizeType:a}),{className:l,cx:c,cy:d}=o,h=Fm(o,!0);return c===+c&&d===+d&&i===+i?k.createElement("path",bv({},h,{className:ot("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(d,")"),d:(t=(e=>{var t="symbol".concat(Sm(e));return Nv[t]||Gg})(r),n=yp().type(t).size(((e,t,n)=>{if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*kv;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*u(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(i,a,r)),n())})):null};function Cv(){return Cv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cv.apply(null,arguments)}function Pv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ev(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Sv.registerSymbol=(e,t)=>{Nv["symbol".concat(Sm(e))]=t};var Mv=32;class Ov extends k.PureComponent{renderIcon(e,t){var{inactiveColor:n}=this.props,r=16,i=Mv/6,a=Mv/3,s=e.inactive?n:e.color,o=null!=t?t:e.type;if("none"===o)return null;if("plainline"===o)return k.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:r,x2:Mv,y2:r,className:"recharts-legend-icon"});if("line"===o)return k.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(r,"h").concat(a,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(2*a,",").concat(r,"\n            H").concat(Mv,"M").concat(2*a,",").concat(r,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(a,",").concat(r),className:"recharts-legend-icon"});if("rect"===o)return k.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(4,"h").concat(Mv,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(k.isValidElement(e.legendIcon)){var l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pv(Object(n),!0).forEach(function(t){Ev(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pv(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return delete l.legendIcon,k.cloneElement(e.legendIcon,l)}return k.createElement(Sv,{fill:s,cx:r,cy:r,size:Mv,sizeType:"diameter",type:o})}renderItems(){var{payload:e,iconSize:t,layout:n,formatter:r,inactiveColor:i,iconType:a}=this.props,s={x:0,y:0,width:Mv,height:Mv},o={display:"horizontal"===n?"inline-block":"block",marginRight:10},l={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((e,n)=>{var c=e.formatter||r,u=ot({"recharts-legend-item":!0,["legend-item-".concat(n)]:!0,inactive:e.inactive});if("none"===e.type)return null;var d=e.inactive?i:e.color,h=c?c(e.value,e,n):e.value;return k.createElement("li",Cv({className:u,style:o,key:"legend-item-".concat(n)},Am(this.props,e,n)),k.createElement(Wm,{width:t,height:t,viewBox:s,style:l,"aria-label":"".concat(h," legend icon")},this.renderIcon(e,a)),k.createElement("span",{className:"recharts-legend-item-text",style:{color:d}},h))})}render(){var{payload:e,layout:t,align:n}=this.props;if(!e||!e.length)return null;var r={padding:0,margin:0,textAlign:"horizontal"===t?n:"left"};return k.createElement("ul",{className:"recharts-default-legend",style:r},this.renderItems())}}Ev(Ov,"displayName","Legend"),Ev(Ov,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Av,Tv={},Rv={};function Dv(){return Av||(Av=1,e=Rv,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.uniqBy=function(e,t){const n=new Map;for(let r=0;r<e.length;r++){const i=e[r],a=t(i);n.has(a)||n.set(a,i)}return Array.from(n.values())}),Rv;var e}var Iv,Lv={};function zv(){return Iv||(Iv=1,e=Lv,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.identity=function(e){return e}),Lv;var e}var Fv,Bv,Vv={},Wv={},$v={};function Hv(){return Fv||(Fv=1,e=$v,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}),$v;var e}function Kv(){return Bv||(Bv=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hv();e.isArrayLike=function(e){return null!=e&&"function"!=typeof e&&t.isLength(e.length)}}(Wv)),Wv}var Uv,Gv,qv={};function Yv(){return Uv||(Uv=1,e=qv,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isObjectLike=function(e){return"object"==typeof e&&null!==e}),qv;var e}function Xv(){return Gv||(Gv=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kv(),n=Yv();e.isArrayLikeObject=function(e){return n.isObjectLike(e)&&t.isArrayLike(e)}}(Vv)),Vv}var Qv,Zv={},Jv={};function ey(){return Qv||(Qv=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=am();e.property=function(e){return function(n){return t.get(n,e)}}}(Jv)),Jv}var ty,ny={},ry={},iy={},ay={};function sy(){return ty||(ty=1,e=ay,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isObject=function(e){return null!==e&&("object"==typeof e||"function"==typeof e)}),ay;var e}var oy,ly={};function cy(){return oy||(oy=1,e=ly,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isPrimitive=function(e){return null==e||"object"!=typeof e&&"function"!=typeof e}),ly;var e}var uy,dy,hy,fy={};function my(){return uy||(uy=1,e=fy,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}),fy;var e}function gy(){return dy||(dy=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=py(),n=sy(),r=cy(),i=my();function a(e,t,l,c){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,n,i){if(null==t)return!0;if(Array.isArray(t))return s(e,t,n,i);if(t instanceof Map)return function(e,t,n,r){if(0===t.size)return!0;if(!(e instanceof Map))return!1;for(const[i,a]of t.entries())if(!1===n(e.get(i),a,i,e,t,r))return!1;return!0}(e,t,n,i);if(t instanceof Set)return o(e,t,n,i);const a=Object.keys(t);if(null==e)return 0===a.length;if(0===a.length)return!0;if(i&&i.has(t))return i.get(t)===e;i&&i.set(t,e);try{for(let s=0;s<a.length;s++){const o=a[s];if(!r.isPrimitive(e)&&!(o in e))return!1;if(void 0===t[o]&&void 0!==e[o])return!1;if(null===t[o]&&null!==e[o])return!1;if(!n(e[o],t[o],o,e,t,i))return!1}return!0}finally{i&&i.delete(t)}}(e,t,l,c);case"function":return Object.keys(t).length>0?a(e,h({},t),l,c):i.eq(e,t);default:return n.isObject(e)?"string"!=typeof t||""===t:i.eq(e,t)}}function s(e,t,n,r){if(0===t.length)return!0;if(!Array.isArray(e))return!1;const i=new Set;for(let a=0;a<t.length;a++){const s=t[a];let o=!1;for(let l=0;l<e.length;l++){if(i.has(l))continue;let c=!1;if(n(e[l],s,a,e,t,r)&&(c=!0),c){i.add(l),o=!0;break}}if(!o)return!1}return!0}function o(e,t,n,r){return 0===t.size||e instanceof Set&&s([...e],[...t],n,r)}e.isMatchWith=function(e,n,r){return"function"!=typeof r?t.isMatch(e,n):a(e,n,function e(t,n,i,s,o,l){const c=r(t,n,i,s,o,l);return void 0!==c?Boolean(c):a(t,n,e,l)},new Map)},e.isSetMatch=o}(iy)),iy}function py(){return hy||(hy=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gy();e.isMatch=function(e,n){return t.isMatchWith(e,n,()=>{})}}(ry)),ry}var vy,yy={},xy={},by={};function wy(){return vy||(vy=1,e=by,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}),by;var e}var _y,jy={};function Ny(){return _y||(_y=1,e=jy,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}),jy;var e}var ky,Sy={};function Cy(){return ky||(ky=1,e=Sy,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.argumentsTag="[object Arguments]",e.arrayBufferTag="[object ArrayBuffer]",e.arrayTag="[object Array]",e.bigInt64ArrayTag="[object BigInt64Array]",e.bigUint64ArrayTag="[object BigUint64Array]",e.booleanTag="[object Boolean]",e.dataViewTag="[object DataView]",e.dateTag="[object Date]",e.errorTag="[object Error]",e.float32ArrayTag="[object Float32Array]",e.float64ArrayTag="[object Float64Array]",e.functionTag="[object Function]",e.int16ArrayTag="[object Int16Array]",e.int32ArrayTag="[object Int32Array]",e.int8ArrayTag="[object Int8Array]",e.mapTag="[object Map]",e.numberTag="[object Number]",e.objectTag="[object Object]",e.regexpTag="[object RegExp]",e.setTag="[object Set]",e.stringTag="[object String]",e.symbolTag="[object Symbol]",e.uint16ArrayTag="[object Uint16Array]",e.uint32ArrayTag="[object Uint32Array]",e.uint8ArrayTag="[object Uint8Array]",e.uint8ClampedArrayTag="[object Uint8ClampedArray]"),Sy;var e}var Py,Ey,My,Oy,Ay={};function Ty(){return Py||(Py=1,e=Ay,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}),Ay;var e}function Ry(){return Ey||(Ey=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wy(),n=Ny(),r=Cy(),i=cy(),a=Ty();function s(e,t,l,c=new Map,u=void 0){const d=null==u?void 0:u(e,t,l,c);if(null!=d)return d;if(i.isPrimitive(e))return e;if(c.has(e))return c.get(e);if(Array.isArray(e)){const t=new Array(e.length);c.set(e,t);for(let n=0;n<e.length;n++)t[n]=s(e[n],n,l,c,u);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;c.set(e,t);for(const[n,r]of e)t.set(n,s(r,n,l,c,u));return t}if(e instanceof Set){const t=new Set;c.set(e,t);for(const n of e)t.add(s(n,void 0,l,c,u));return t}if("undefined"!=typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(a.isTypedArray(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);c.set(e,t);for(let n=0;n<e.length;n++)t[n]=s(e[n],n,l,c,u);return t}if(e instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return c.set(e,t),o(t,e,l,c,u),t}if("undefined"!=typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return c.set(e,t),o(t,e,l,c,u),t}if(e instanceof Blob){const t=new Blob([e],{type:e.type});return c.set(e,t),o(t,e,l,c,u),t}if(e instanceof Error){const t=new e.constructor;return c.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,o(t,e,l,c,u),t}if("object"==typeof e&&function(e){switch(n.getTag(e)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return c.set(e,t),o(t,e,l,c,u),t}return e}function o(e,n,r=e,i,a){const o=[...Object.keys(n),...t.getSymbols(n)];for(let t=0;t<o.length;t++){const l=o[t],c=Object.getOwnPropertyDescriptor(e,l);(null==c||c.writable)&&(e[l]=s(n[l],l,r,i,a))}}e.cloneDeepWith=function(e,t){return s(e,void 0,e,new Map,t)},e.cloneDeepWithImpl=s,e.copyProperties=o}(xy)),xy}function Dy(){return My||(My=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ry();e.cloneDeep=function(e){return t.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}}(yy)),yy}function Iy(){return Oy||(Oy=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=py(),n=Dy();e.matches=function(e){return e=n.cloneDeep(e),n=>t.isMatch(n,e)}}(ny)),ny}var Ly,zy,Fy={},By={},Vy={};function Wy(){return Ly||(Ly=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ry(),n=Cy();e.cloneDeepWith=function(e,r){return t.cloneDeepWith(e,(i,a,s,o)=>{const l=null==r?void 0:r(i,a,s,o);if(null!=l)return l;if("object"==typeof e)switch(Object.prototype.toString.call(e)){case n.numberTag:case n.stringTag:case n.booleanTag:{const n=new e.constructor(null==e?void 0:e.valueOf());return t.copyProperties(n,e),n}case n.argumentsTag:{const n={};return t.copyProperties(n,e),n.length=e.length,n[Symbol.iterator]=e[Symbol.iterator],n}default:return}})}}(Vy)),Vy}function $y(){return zy||(zy=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wy();e.cloneDeep=function(e){return t.cloneDeepWith(e)}}(By)),By}var Hy,Ky={},Uy={};function Gy(){return Hy||(Hy=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;e.isIndex=function(e,n=Number.MAX_SAFE_INTEGER){switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<n;case"symbol":return!1;case"string":return t.test(e)}}}(Uy)),Uy}var qy,Yy,Xy,Qy,Zy,Jy,ex,tx={};function nx(){return qy||(qy=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ny();e.isArguments=function(e){return null!==e&&"object"==typeof e&&"[object Arguments]"===t.getTag(e)}}(tx)),tx}function rx(){return Yy||(Yy=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yf(),n=Gy(),r=nx(),i=im();e.has=function(e,a){let s;if(s=Array.isArray(a)?a:"string"==typeof a&&t.isDeepKey(a)&&null==(null==e?void 0:e[a])?i.toPath(a):[a],0===s.length)return!1;let o=e;for(let t=0;t<s.length;t++){const e=s[t];if(!(null!=o&&Object.hasOwn(o,e)||(Array.isArray(o)||r.isArguments(o))&&n.isIndex(e)&&e<o.length))return!1;o=o[e]}return!0}}(Ky)),Ky}function ix(){return Xy||(Xy=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=py(),n=Zf(),r=$y(),i=am(),a=rx();e.matchesProperty=function(e,s){switch(typeof e){case"object":Object.is(null==e?void 0:e.valueOf(),-0)&&(e="-0");break;case"number":e=n.toKey(e)}return s=r.cloneDeep(s),function(n){const r=i.get(n,e);return void 0===r?a.has(n,e):void 0===s?void 0===r:t.isMatch(r,s)}}}(Fy)),Fy}function ax(){return Qy||(Qy=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zv(),n=ey(),r=Iy(),i=ix();e.iteratee=function(e){if(null==e)return t.identity;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&2===e.length?i.matchesProperty(e[0],e[1]):r.matches(e);case"string":case"symbol":case"number":return n.property(e)}}}(Zv)),Zv}function sx(){return ex?Jy:(ex=1,Jy=(Zy||(Zy=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dv(),n=zv(),r=Xv(),i=ax();e.uniqBy=function(e,a=n.identity){return r.isArrayLikeObject(e)?t.uniqBy(Array.from(e),i.iteratee(a)):[]}}(Tv)),Tv).uniqBy)}const ox=i(sx());function lx(e,t,n){return!0===t?ox(e,n):"function"==typeof t?ox(e,t):e}var cx,ux,dx,hx,fx={exports:{}},mx={},gx={exports:{}},px={};function vx(){return ux||(ux=1,gx.exports=function(){if(cx)return px;cx=1;var e=N(),t="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=e.useState,r=e.useEffect,i=e.useLayoutEffect,a=e.useDebugValue;function s(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!t(e,r)}catch(i){return!0}}var o="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var o=t(),l=n({inst:{value:o,getSnapshot:t}}),c=l[0].inst,u=l[1];return i(function(){c.value=o,c.getSnapshot=t,s(c)&&u({inst:c})},[e,o,t]),r(function(){return s(c)&&u({inst:c}),e(function(){s(c)&&u({inst:c})})},[e]),a(o),o};return px.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:o,px}()),gx.exports}
/**
     * @license React
     * use-sync-external-store-shim/with-selector.production.js
     *
     * Copyright (c) Meta Platforms, Inc. and affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */var yx=(hx||(hx=1,fx.exports=function(){if(dx)return mx;dx=1;var e=N(),t=vx(),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=t.useSyncExternalStore,i=e.useRef,a=e.useEffect,s=e.useMemo,o=e.useDebugValue;return mx.useSyncExternalStoreWithSelector=function(e,t,l,c,u){var d=i(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=s(function(){function e(e){if(!a){if(a=!0,r=e,e=c(e),void 0!==u&&h.hasValue){var t=h.value;if(u(t,e))return i=t}return i=e}if(t=i,n(r,e))return t;var s=c(e);return void 0!==u&&u(t,s)?(r=e,t):(r=e,i=s)}var r,i,a=!1,s=void 0===l?null:l;return[function(){return e(t())},null===s?void 0:function(){return e(s())}]},[t,l,c,u]);var f=r(e,d[0],d[1]);return a(function(){h.hasValue=!0,h.value=f},[f]),o(f),f},mx}()),fx.exports),xx=k.createContext(null),bx=e=>e,wx=()=>{var e=k.useContext(xx);return e?e.store.dispatch:bx},_x=()=>{},jx=()=>_x,Nx=(e,t)=>e===t;function kx(e){var t=k.useContext(xx);return yx.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:jx,t?t.store.getState:_x,t?t.store.getState:_x,t?e:_x,Nx)}var Sx=e=>Array.isArray(e)?e:[e];function Cx(e){const t=Array.isArray(e[0])?e[0]:e;return function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(e=>"function"==typeof e)){const n=e.map(e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e).join(", ");throw new TypeError(`${t}[${n}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}var Px="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function Ex(){return{s:0,v:void 0,o:null,p:null}}function Mx(e,t={}){let n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:r}=t;let i,a=0;function s(){var t,s;let o=n;const{length:l}=arguments;for(let e=0,n=l;e<n;e++){const t=arguments[e];if("function"==typeof t||"object"==typeof t&&null!==t){let e=o.o;null===e&&(o.o=e=new WeakMap);const n=e.get(t);void 0===n?(o=Ex(),e.set(t,o)):o=n}else{let e=o.p;null===e&&(o.p=e=new Map);const n=e.get(t);void 0===n?(o=Ex(),e.set(t,o)):o=n}}const c=o;let u;if(1===o.s)u=o.v;else if(u=e.apply(null,arguments),a++,r){const e=null!=(s=null==(t=null==i?void 0:i.deref)?void 0:t.call(i))?s:i;null!=e&&r(e,u)&&(u=e,0!==a&&a--),i="object"==typeof u&&null!==u||"function"==typeof u?new Px(u):u}return c.s=1,c.v=u,u}return s.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function Ox(e,...t){const n="function"==typeof e?{memoize:e,memoizeOptions:t}:e,r=(...e)=>{let t,r=0,i=0,a={},s=e.pop();"object"==typeof s&&(a=s,s=e.pop()),function(e,t="expected a function, instead received "+typeof e){if("function"!=typeof e)throw new TypeError(t)}(s,`createSelector expects an output function after the inputs, but received: [${typeof s}]`);const o=h(h({},n),a),{memoize:l,memoizeOptions:c=[],argsMemoize:u=Mx,argsMemoizeOptions:d=[]}=o,f=Sx(c),m=Sx(d),g=Cx(e),p=l(function(){return r++,s.apply(null,arguments)},...f),v=u(function(){i++;const e=function(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}(g,arguments);return t=p.apply(null,e),t},...m);return Object.assign(v,{resultFunc:s,memoizedResultFunc:p,dependencies:g,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>t,recomputations:()=>r,resetRecomputations:()=>{r=0},memoize:l,argsMemoize:u})};return Object.assign(r,{withTypes:()=>r}),r}var Ax,Tx=Ox(Mx),Rx=Object.assign((e,t=Tx)=>{!function(e,t="expected an object, instead received "+typeof e){if("object"!=typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const n=Object.keys(e);return t(n.map(t=>e[t]),(...e)=>e.reduce((e,t,r)=>(e[n[r]]=t,e),{}))},{withTypes:()=>Rx}),Dx={},Ix={},Lx={};function zx(){return Ax||(Ax=1,function(e){function t(e){return"symbol"==typeof e?1:null===e?2:void 0===e?3:e!=e?4:0}Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.compareValues=(e,n,r)=>{if(e!==n){const i=t(e),a=t(n);if(i===a&&0===i){if(e<n)return"desc"===r?1:-1;if(e>n)return"desc"===r?-1:1}return"desc"===r?a-i:i-a}return 0}}(Lx)),Lx}var Fx,Bx,Vx,Wx={},$x={};function Hx(){return Fx||(Fx=1,e=$x,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isSymbol=function(e){return"symbol"==typeof e||e instanceof Symbol}),$x;var e}function Kx(){return Bx||(Bx=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hx(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;e.isKey=function(e,i){return!Array.isArray(e)&&(!("number"!=typeof e&&"boolean"!=typeof e&&null!=e&&!t.isSymbol(e))||"string"==typeof e&&(r.test(e)||!n.test(e))||null!=i&&Object.hasOwn(i,e))}}(Wx)),Wx}function Ux(){return Vx||(Vx=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zx(),n=Kx(),r=im();e.orderBy=function(e,i,a,s){if(null==e)return[];a=s?void 0:a,Array.isArray(e)||(e=Object.values(e)),Array.isArray(i)||(i=null==i?[null]:[i]),0===i.length&&(i=[null]),Array.isArray(a)||(a=null==a?[]:[a]),a=a.map(e=>String(e));const o=(e,t)=>{let n=e;for(let r=0;r<t.length&&null!=n;++r)n=n[t[r]];return n},l=i.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"==typeof e||Array.isArray(e)||n.isKey(e)?e:{key:e,path:r.toPath(e)}));return e.map(e=>({original:e,criteria:l.map(t=>((e,t)=>null==t||null==e?t:"object"==typeof e&&"key"in e?Object.hasOwn(t,e.key)?t[e.key]:o(t,e.path):"function"==typeof e?e(t):Array.isArray(e)?o(t,e):"object"==typeof t?t[e]:t)(t,e))})).slice().sort((e,n)=>{for(let r=0;r<l.length;r++){const i=t.compareValues(e.criteria[r],n.criteria[r],a[r]);if(0!==i)return i}return 0}).map(e=>e.original)}}(Ix)),Ix}var Gx,qx={};function Yx(){return Gx||(Gx=1,e=qx,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.flatten=function(e,t=1){const n=[],r=Math.floor(t),i=(e,t)=>{for(let a=0;a<e.length;a++){const s=e[a];Array.isArray(s)&&t<r?i(s,t+1):n.push(s)}};return i(e,0),n}),qx;var e}var Xx,Qx,Zx,Jx,eb={};function tb(){return Xx||(Xx=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gy(),n=Kv(),r=sy(),i=my();e.isIterateeCall=function(e,a,s){return!!r.isObject(s)&&!!("number"==typeof a&&n.isArrayLike(s)&&t.isIndex(a)&&a<s.length||"string"==typeof a&&a in s)&&i.eq(s[a],e)}}(eb)),eb}function nb(){return Jx?Zx:(Jx=1,Zx=(Qx||(Qx=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ux(),n=Yx(),r=tb();e.sortBy=function(e,...i){const a=i.length;return a>1&&r.isIterateeCall(e,i[0],i[1])?i=[]:a>2&&r.isIterateeCall(i[0],i[1],i[2])&&(i=[i[0]]),t.orderBy(e,n.flatten(i),["asc"])}}(Dx)),Dx).sortBy)}const rb=i(nb());var ib=e=>e.legend.settings,ab=Tx([e=>e.legend.payload,ib],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?rb(r,n):r});function sb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[t,n]=k.useState({height:0,left:0,top:0,width:0}),r=k.useCallback(e=>{if(null!=e){var r=e.getBoundingClientRect(),i={height:r.height,left:r.left,top:r.top,width:r.width};(Math.abs(i.height-t.height)>1||Math.abs(i.left-t.left)>1||Math.abs(i.top-t.top)>1||Math.abs(i.width-t.width)>1)&&n({height:i.height,left:i.left,top:i.top,width:i.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function ob(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var lb=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),cb=()=>Math.random().toString(36).substring(7).split("").join("."),ub={INIT:`@@redux/INIT${cb()}`,REPLACE:`@@redux/REPLACE${cb()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${cb()}`};function db(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function hb(e,t,n){if("function"!=typeof e)throw new Error(ob(2));if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(ob(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(ob(1));return n(hb)(e,t)}let r=e,i=t,a=new Map,s=a,o=0,l=!1;function c(){s===a&&(s=new Map,a.forEach((e,t)=>{s.set(t,e)}))}function u(){if(l)throw new Error(ob(3));return i}function d(e){if("function"!=typeof e)throw new Error(ob(4));if(l)throw new Error(ob(5));let t=!0;c();const n=o++;return s.set(n,e),function(){if(t){if(l)throw new Error(ob(6));t=!1,c(),s.delete(n),a=null}}}function h(e){if(!db(e))throw new Error(ob(7));if(void 0===e.type)throw new Error(ob(8));if("string"!=typeof e.type)throw new Error(ob(17));if(l)throw new Error(ob(9));try{l=!0,i=r(i,e)}finally{l=!1}return(a=s).forEach(e=>{e()}),e}return h({type:ub.INIT}),{dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw new Error(ob(10));r=e,h({type:ub.REPLACE})},[lb]:function(){const e=d;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(ob(11));function n(){const e=t;e.next&&e.next(u())}return n(),{unsubscribe:e(n)}},[lb](){return this}}}}}function fb(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const r=t[s];"function"==typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let i;try{!function(e){Object.keys(e).forEach(t=>{const n=e[t];if(void 0===n(void 0,{type:ub.INIT}))throw new Error(ob(12));if(void 0===n(void 0,{type:ub.PROBE_UNKNOWN_ACTION()}))throw new Error(ob(13))})}(n)}catch(a){i=a}return function(e={},t){if(i)throw i;let a=!1;const s={};for(let i=0;i<r.length;i++){const o=r[i],l=n[o],c=e[o],u=l(c,t);if(void 0===u)throw t&&t.type,new Error(ob(14));s[o]=u,a=a||u!==c}return a=a||r.length!==Object.keys(e).length,a?s:e}}function mb(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,t)=>(...n)=>e(t(...n)))}function gb(e){return db(e)&&"type"in e&&"string"==typeof e.type}var pb=Symbol.for("immer-nothing"),vb=Symbol.for("immer-draftable"),yb=Symbol.for("immer-state");function xb(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var bb=Object.getPrototypeOf;function wb(e){return!!e&&!!e[yb]}function _b(e){var t;return!!e&&(Nb(e)||Array.isArray(e)||!!e[vb]||!!(null==(t=e.constructor)?void 0:t[vb])||Eb(e)||Mb(e))}var jb=Object.prototype.constructor.toString();function Nb(e){if(!e||"object"!=typeof e)return!1;const t=bb(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===jb}function kb(e,t){0===Sb(e)?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function Sb(e){const t=e[yb];return t?t.type_:Array.isArray(e)?1:Eb(e)?2:Mb(e)?3:0}function Cb(e,t){return 2===Sb(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Pb(e,t,n){const r=Sb(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Eb(e){return e instanceof Map}function Mb(e){return e instanceof Set}function Ob(e){return e.copy_||e.base_}function Ab(e,t){if(Eb(e))return new Map(e);if(Mb(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Nb(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[yb];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(bb(e),t)}{const t=bb(e);if(null!==t&&n)return h({},e);const r=Object.create(t);return Object.assign(r,e)}}function Tb(e,t=!1){return Db(e)||wb(e)||!_b(e)||(Sb(e)>1&&(e.set=e.add=e.clear=e.delete=Rb),Object.freeze(e),t&&Object.entries(e).forEach(([e,t])=>Tb(t,!0))),e}function Rb(){xb(2)}function Db(e){return Object.isFrozen(e)}var Ib,Lb={};function zb(e){const t=Lb[e];return t||xb(0),t}function Fb(){return Ib}function Bb(e,t){t&&(zb("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Vb(e){Wb(e),e.drafts_.forEach(Hb),e.drafts_=null}function Wb(e){e===Ib&&(Ib=e.parent_)}function $b(e){return Ib={drafts_:[],parent_:Ib,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Hb(e){const t=e[yb];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Kb(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[yb].modified_&&(Vb(t),xb(4)),_b(e)&&(e=Ub(t,e),t.parent_||qb(t,e)),t.patches_&&zb("Patches").generateReplacementPatches_(n[yb].base_,e,t.patches_,t.inversePatches_)):e=Ub(t,n,[]),Vb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==pb?e:void 0}function Ub(e,t,n){if(Db(t))return t;const r=t[yb];if(!r)return kb(t,(i,a)=>Gb(e,r,t,i,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return qb(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,a=!1;3===r.type_&&(i=new Set(t),t.clear(),a=!0),kb(i,(i,s)=>Gb(e,r,t,i,s,n,a)),qb(e,t,!1),n&&e.patches_&&zb("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Gb(e,t,n,r,i,a,s){if(wb(i)){const s=Ub(e,i,a&&t&&3!==t.type_&&!Cb(t.assigned_,r)?a.concat(r):void 0);if(Pb(n,r,s),!wb(s))return;e.canAutoFreeze_=!1}else s&&n.add(i);if(_b(i)&&!Db(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Ub(e,i),t&&t.scope_.parent_||"symbol"==typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||qb(e,i)}}function qb(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Tb(t,n)}var Yb={get(e,t){if(t===yb)return e;const n=Ob(e);if(!Cb(n,t))return function(e,t,n){var r;const i=Zb(t,n);return i?"value"in i?i.value:null==(r=i.get)?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!_b(r)?r:r===Qb(e.base_,t)?(ew(e),e.copy_[t]=tw(r,e)):r},has:(e,t)=>t in Ob(e),ownKeys:e=>Reflect.ownKeys(Ob(e)),set(e,t,n){const r=Zb(Ob(e),t);if(null==r?void 0:r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=Qb(Ob(e),t),s=null==r?void 0:r[yb];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((i=n)===(a=r)?0!==i||1/i==1/a:i!=i&&a!=a)&&(void 0!==n||Cb(e.base_,t)))return!0;ew(e),Jb(e)}var i,a;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Qb(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,ew(e),Jb(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=Ob(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){xb(11)},getPrototypeOf:e=>bb(e.base_),setPrototypeOf(){xb(12)}},Xb={};function Qb(e,t){const n=e[yb];return(n?Ob(n):e)[t]}function Zb(e,t){if(!(t in e))return;let n=bb(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=bb(n)}}function Jb(e){e.modified_||(e.modified_=!0,e.parent_&&Jb(e.parent_))}function ew(e){e.copy_||(e.copy_=Ab(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function tw(e,t){const n=Eb(e)?zb("MapSet").proxyMap_(e,t):Mb(e)?zb("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Fb(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=Yb;n&&(i=[r],a=Xb);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}(e,t);return(t?t.scope_:Fb()).drafts_.push(n),n}function nw(e){return wb(e)||xb(10),rw(e)}function rw(e){if(!_b(e)||Db(e))return e;const t=e[yb];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Ab(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Ab(e,!0);return kb(n,(e,t)=>{Pb(n,e,rw(t))}),t&&(t.finalized_=!1),n}kb(Yb,(e,t)=>{Xb[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Xb.deleteProperty=function(e,t){return Xb.set.call(this,e,t,void 0)},Xb.set=function(e,t,n){return Yb.set.call(this,e[0],t,n,e[0])};var iw=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"==typeof e&&"function"!=typeof t){const n=t;t=e;const r=this;return function(e=n,...i){return r.produce(e,e=>t.call(this,e,...i))}}let r;if("function"!=typeof t&&xb(6),void 0!==n&&"function"!=typeof n&&xb(7),_b(e)){const i=$b(this),a=tw(e,void 0);let s=!0;try{r=t(a),s=!1}finally{s?Vb(i):Wb(i)}return Bb(i,n),Kb(r,i)}if(!e||"object"!=typeof e){if(r=t(e),void 0===r&&(r=e),r===pb&&(r=void 0),this.autoFreeze_&&Tb(r,!0),n){const t=[],i=[];zb("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}xb(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...n)=>this.produceWithPatches(t,t=>e(t,...n));let n,r;return[this.produce(e,t,(e,t)=>{n=e,r=t}),n,r]},"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof(null==e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){_b(e)||xb(8),wb(e)&&(e=nw(e));const t=$b(this),n=tw(e,void 0);return n[yb].isManual_=!0,Wb(t),n}finishDraft(e,t){const n=e&&e[yb];n&&n.isManual_||xb(9);const{scope_:r}=n;return Bb(r,t),Kb(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=zb("Patches").applyPatches_;return wb(e)?r(e,t):this.produce(e,e=>r(e,t))}},aw=iw.produce;function sw(e){return({dispatch:t,getState:n})=>r=>i=>"function"==typeof i?i(t,n,e):r(i)}iw.produceWithPatches.bind(iw),iw.setAutoFreeze.bind(iw),iw.setUseStrictShallowCopy.bind(iw),iw.applyPatches.bind(iw),iw.createDraft.bind(iw),iw.finishDraft.bind(iw);var ow=sw(),lw=sw,cw="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?mb:mb.apply(null,arguments)};function uw(e,t){function n(...n){if(t){let r=t(...n);if(!r)throw new Error(r_(0));return h(h({type:e,payload:r.payload},"meta"in r&&{meta:r.meta}),"error"in r&&{error:r.error})}return{type:e,payload:n[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=t=>gb(t)&&t.type===e,n}var dw=class e extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...e){return super.concat.apply(this,e)}prepend(...t){return 1===t.length&&Array.isArray(t[0])?new e(...t[0].concat(this)):new e(...t.concat(this))}};function hw(e){return _b(e)?aw(e,()=>{}):e}function fw(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var mw=e=>t=>{setTimeout(t,e)},gw=e=>function(t){const{autoBatch:n=!0}=null!=t?t:{};let r=new dw(e);return n&&r.push(((e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,s=!1;const o=new Set,l="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:mw(10):"callback"===e.type?e.queueNotification:mw(e.timeout),c=()=>{s=!1,a&&(a=!1,o.forEach(e=>e()))};return Object.assign({},r,{subscribe(e){const t=r.subscribe(()=>i&&e());return o.add(e),()=>{t(),o.delete(e)}},dispatch(e){var t;try{return i=!(null==(t=null==e?void 0:e.meta)?void 0:t.RTK_autoBatch),a=!i,a&&(s||(s=!0,l(c))),r.dispatch(e)}finally{i=!0}}})})("object"==typeof n?n:void 0)),r};function pw(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=null!=e?e:{};let a=new dw;return t&&("boolean"==typeof t?a.push(ow):a.push(lw(t.extraArgument))),a},{reducer:n,middleware:r,devTools:i=!0,preloadedState:a,enhancers:s}=e||{};let o,l;if("function"==typeof n)o=n;else{if(!db(n))throw new Error(r_(1));o=fb(n)}l="function"==typeof r?r(t):t();let c=mb;i&&(c=cw(h({trace:!1},"object"==typeof i&&i)));const u=function(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(ob(15))};const s={getState:i.getState,dispatch:(e,...t)=>a(e,...t)},o=e.map(e=>e(s));return a=mb(...o)(i.dispatch),f(h({},i),{dispatch:a})}}(...l),d=gw(u);return hb(o,a,c(..."function"==typeof s?s(d):d()))}function vw(e){const t={},n=[];let r;const i={addCase(e,n){const r="string"==typeof e?e:e.type;if(!r)throw new Error(r_(28));if(r in t)throw new Error(r_(29));return t[r]=n,i},addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(r=e,i)};return e(i),[t,n,r]}var yw=(e=21)=>{let t="",n=e;for(;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},xw=Symbol.for("rtk-slice-createasyncthunk");function bw(e,t){return`${e}/${t}`}function ww({creators:e}={}){var t;const n=null==(t=null==e?void 0:e.asyncThunk)?void 0:t[xw];return function(e){const{name:t,reducerPath:r=t}=e;if(!t)throw new Error(r_(11));const i=("function"==typeof e.reducers?e.reducers(function(){function e(e,t){return h({_reducerDefinitionType:"asyncThunk",payloadCreator:e},t)}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name]:(...t)=>e(...t)}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},a=Object.keys(i),s={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},o={addCase(e,t){const n="string"==typeof e?e:e.type;if(!n)throw new Error(r_(12));if(n in s.sliceCaseReducersByType)throw new Error(r_(13));return s.sliceCaseReducersByType[n]=t,o},addMatcher:(e,t)=>(s.sliceMatchers.push({matcher:e,reducer:t}),o),exposeAction:(e,t)=>(s.actionCreators[e]=t,o),exposeCaseReducer:(e,t)=>(s.sliceCaseReducersByName[e]=t,o)};function l(){const[t={},n=[],r]="function"==typeof e.extraReducers?vw(e.extraReducers):[e.extraReducers],i=h(h({},t),s.sliceCaseReducersByType);return function(e,t){let n,[r,i,a]=vw(t);if("function"==typeof e)n=()=>hw(e());else{const t=hw(e);n=()=>t}function s(e=n(),t){let s=[r[t.type],...i.filter(({matcher:e})=>e(t)).map(({reducer:e})=>e)];return 0===s.filter(e=>!!e).length&&(s=[a]),s.reduce((e,n)=>{if(n){if(wb(e)){const r=n(e,t);return void 0===r?e:r}if(_b(e))return aw(e,e=>n(e,t));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e},e)}return s.getInitialState=n,s}(e.initialState,e=>{for(let t in i)e.addCase(t,i[t]);for(let t of s.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)})}a.forEach(r=>{const a=i[r],s={reducerName:r,type:bw(t,r),createNotation:"function"==typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(a)?function({type:e,reducerName:t,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(r))throw new Error(r_(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?uw(e,s):uw(e))}(s,a,o):function({type:e,reducerName:t},n,r,i){if(!i)throw new Error(r_(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:c,options:u}=n,d=i(e,a,u);r.exposeAction(t,d),s&&r.addCase(d.fulfilled,s),o&&r.addCase(d.pending,o),l&&r.addCase(d.rejected,l),c&&r.addMatcher(d.settled,c),r.exposeCaseReducer(t,{fulfilled:s||Nw,pending:o||Nw,rejected:l||Nw,settled:c||Nw})}(s,a,o,n)});const c=e=>e,u=new Map,d=new WeakMap;let m;function p(e,t){return m||(m=l()),m(e,t)}function v(){return m||(m=l()),m.getInitialState()}function y(t,n=!1){function r(e){let i=e[t];return void 0===i&&n&&(i=fw(d,r,v)),i}function i(t=c){const r=fw(u,n,()=>new WeakMap);return fw(r,t,()=>{var r;const i={};for(const[a,s]of Object.entries(null!=(r=e.selectors)?r:{}))i[a]=_w(s,t,()=>fw(d,t,v),n);return i})}return{reducerPath:t,getSelectors:i,get selectors(){return i(r)},selectSlice:r}}const x=f(h({name:t,reducer:p,actions:s.actionCreators,caseReducers:s.sliceCaseReducersByName,getInitialState:v},y(r)),{injectInto(e,t={}){var n=t,{reducerPath:i}=n,a=g(n,["reducerPath"]);const s=null!=i?i:r;return e.inject({reducerPath:s,reducer:p},a),h(h({},x),y(s,!0))}});return x}}function _w(e,t,n,r){function i(i,...a){let s=t(i);return void 0===s&&r&&(s=n()),e(s,...a)}return i.unwrapped=e,i}var jw=ww();function Nw(){}var kw="listener",Sw="completed",Cw="cancelled",Pw=`task-${Cw}`,Ew=`task-${Sw}`,Mw=`${kw}-${Cw}`,Ow=`${kw}-${Sw}`,Aw=class{constructor(e){p(this,"name","TaskAbortError"),p(this,"message"),this.code=e,this.message=`task ${Cw} (reason: ${e})`}},Tw=(e,t)=>{if("function"!=typeof e)throw new TypeError(r_(32))},Rw=()=>{},Dw=(e,t=Rw)=>(e.catch(t),e),Iw=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Lw=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},zw=e=>{if(e.aborted){const{reason:t}=e;throw new Aw(t)}};function Fw(e,t){let n=Rw;return new Promise((r,i)=>{const a=()=>i(new Aw(e.reason));e.aborted?a():(n=Iw(e,a),t.finally(()=>n()).then(r,i))}).finally(()=>{n=Rw})}var Bw=e=>t=>Dw(Fw(e,t).then(t=>(zw(e),t))),Vw=e=>{const t=Bw(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:Ww}=Object,$w={},Hw="listenerMiddleware",Kw=(e,t)=>(n,r)=>{Tw(n);const i=new AbortController;var a;a=i,Iw(e,()=>Lw(a,e.reason));const s=(o=()=>v(null,null,function*(){zw(e),zw(i.signal);const t=yield n({pause:Bw(i.signal),delay:Vw(i.signal),signal:i.signal});return zw(i.signal),t}),l=()=>Lw(i,Ew),v(null,null,function*(){try{return yield Promise.resolve(),{status:"ok",value:yield o()}}catch(e){return{status:e instanceof Aw?"cancelled":"rejected",error:e}}finally{null==l||l()}}));var o,l;return(null==r?void 0:r.autoJoin)&&t.push(s.catch(Rw)),{result:Bw(e)(s),cancel(){Lw(i,Pw)}}},Uw=(e,t)=>(n,r)=>Dw(((n,r)=>v(null,null,function*(){zw(t);let i=()=>{};const a=[new Promise((t,r)=>{let a=e({predicate:n,effect:(e,n)=>{n.unsubscribe(),t([e,n.getState(),n.getOriginalState()])}});i=()=>{a(),r()}})];null!=r&&a.push(new Promise(e=>setTimeout(e,r,null)));try{const e=yield Fw(t,Promise.race(a));return zw(t),e}finally{i()}}))(n,r)),Gw=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=uw(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(r_(21));return Tw(a),{predicate:i,type:t,effect:a}},qw=Ww(e=>{const{type:t,predicate:n,effect:r}=Gw(e);return{id:yw(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(r_(22))}}},{withTypes:()=>qw}),Yw=(e,t)=>{const{type:n,effect:r,predicate:i}=Gw(t);return Array.from(e.values()).find(e=>("string"==typeof n?e.type===n:e.predicate===i)&&e.effect===r)},Xw=e=>{e.pending.forEach(e=>{Lw(e,Mw)})},Qw=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},Zw=Ww(uw(`${Hw}/add`),{withTypes:()=>Zw}),Jw=uw(`${Hw}/removeAll`),e_=Ww(uw(`${Hw}/remove`),{withTypes:()=>e_}),t_=(...e)=>{},n_=(e={})=>{const t=new Map,{extra:n,onError:r=t_}=e;Tw(r);const i=e=>{var n;return(e=>(e.unsubscribe=()=>t.delete(e.id),t.set(e.id,e),t=>{e.unsubscribe(),(null==t?void 0:t.cancelActive)&&Xw(e)}))(null!=(n=Yw(t,e))?n:qw(e))};Ww(i,{withTypes:()=>i});const a=e=>{const n=Yw(t,e);return n&&(n.unsubscribe(),e.cancelActive&&Xw(n)),!!n};Ww(a,{withTypes:()=>a});const s=(e,a,s,o)=>v(null,null,function*(){const l=new AbortController,c=Uw(i,l.signal),u=[];try{e.pending.add(l),yield Promise.resolve(e.effect(a,Ww({},s,{getOriginalState:o,condition:(e,t)=>c(e,t).then(Boolean),take:c,delay:Vw(l.signal),pause:Bw(l.signal),extra:n,signal:l.signal,fork:Kw(l.signal,u),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,n)=>{e!==l&&(Lw(e,Mw),n.delete(e))})},cancel:()=>{Lw(l,Mw),e.pending.delete(l)},throwIfCancelled:()=>{zw(l.signal)}})))}catch(d){d instanceof Aw||Qw(r,d,{raisedBy:"effect"})}finally{yield Promise.all(u),Lw(l,Ow),e.pending.delete(l)}}),o=(e=>()=>{e.forEach(Xw),e.clear()})(t);return{middleware:e=>n=>l=>{if(!gb(l))return n(l);if(Zw.match(l))return i(l.payload);if(Jw.match(l))return void o();if(e_.match(l))return a(l.payload);let c=e.getState();const u=()=>{if(c===$w)throw new Error(r_(23));return c};let d;try{if(d=n(l),t.size>0){const n=e.getState(),i=Array.from(t.values());for(const t of i){let i=!1;try{i=t.predicate(l,n,c)}catch(h){i=!1,Qw(r,h,{raisedBy:"predicate"})}i&&s(t,l,e,u)}}}finally{c=$w}return d},startListening:i,stopListening:a,clearListeners:o}};function r_(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var i_=jw({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:a_,setLayout:s_,setChartSize:o_,setScale:l_}=i_.actions,c_=i_.reducer;function u_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u_(Object(n),!0).forEach(function(t){h_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h_(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f_=Math.PI/180,m_=e=>180*e/Math.PI,g_=(e,t,n,r)=>({x:e+Math.cos(-f_*r)*n,y:t+Math.sin(-f_*r)*n}),p_=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},v_=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,s=((e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt(u(n-i,2)+u(r-a,2))})({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(n-i)/s,l=Math.acos(o);return r>a&&(l=2*Math.PI-l),{radius:s,angle:m_(l),angleInRadian:l}},y_=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360);return e+360*Math.min(i,a)},x_=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:a}=v_({x:n,y:r},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o)return null;if(0===i)return null;var l,{startAngle:c,endAngle:u}=(e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-360*a,endAngle:n-360*a}})(t),d=a;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;l=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;l=d>=u&&d<=c}return l?d_(d_({},t),{},{radius:i,angle:y_(d,t)}):null};function b_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b_(Object(n),!0).forEach(function(t){__(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function __(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j_(e,t,n){return km(e)||km(t)?n:vm(t)?om(e,t,n):"function"==typeof t?t(e):n}var N_=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,k_=(e,t,n,r)=>{if(r)return e.map(e=>e.coordinate);var i,a,s=e.map(e=>(e.coordinate===t&&(i=!0),e.coordinate===n&&(a=!0),e.coordinate));return i||s.push(t),a||s.push(n),s},S_=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:d,niceTicks:h,axisType:f}=e;if(!s)return null;var m="scaleBand"===o&&s.bandwidth?s.bandwidth()/2:2,g="category"===i&&s.bandwidth?s.bandwidth()/m:0;return g="angleAxis"===f&&a&&a.length>=2?2*fm(a[0]-a[1])*g:g,d||h?(d||h||[]).map((e,t)=>{var n=r?r.indexOf(e):e;return{coordinate:s(n)+g,value:e,offset:g,index:t}}).filter(e=>!mm(e.coordinate)):l&&c?c.map((e,t)=>({coordinate:s(e)+g,value:e,index:t,offset:g})):s.ticks&&null!=u?s.ticks(u).map((e,t)=>({coordinate:s(e)+g,value:e,offset:g,index:t})):s.domain().map((e,t)=>({coordinate:s(e)+g,value:r?r[e]:e,index:t,offset:g}))},C_=1e-4,P_={sign:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,s=0;s<t;++s){var o=mm(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=i,e[s][n][1]=i+o,i=e[s][n][1]):(e[s][n][0]=a,e[s][n][1]=a+o,a=e[s][n][1])}},expand:hv,none:ov,silhouette:fv,wiggle:mv,positive:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var s=mm(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}}},E_=(e,t,n)=>{var r=P_[n];return dv().keys(t).value((e,t)=>+j_(e,t,0)).order(lv).offset(r)(e)};function M_(e){return null==e?void 0:String(e)}function O_(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=e;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!km(i[t.dataKey])){var o=Nm(n,"value",i[t.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=j_(i,km(s)?t.dataKey:s);return km(l)?null:t.scale(l)}var A_=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:a,index:s}=e;if("category"===t.type)return n[s]?n[s].coordinate+r:null;var o=j_(a,t.dataKey,t.scale.domain()[s]);return km(o)?null:t.scale(o)-i/2+r},T_=(e,t,n)=>{var r;if(null!=e)return[(r=Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:s}=a,o=s.reduce((e,r)=>{var i,a,s=(i=r.slice(t,n+1),a=i.flat(2).filter(pm),[Math.min(...a),Math.max(...a)]);return[Math.min(e[0],s[0]),Math.max(e[1],s[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))[0]===1/0?0:r[0],r[1]===-1/0?0:r[1]]},R_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,D_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,I_=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=rb(t,e=>e.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],c=i[s-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function L_(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return w_(w_({},t),{},{dataKey:n,payload:r,value:i,name:a})}function z_(e,t){return e?String(e):"string"==typeof t?t:void 0}var F_=e=>e.layout.width,B_=e=>e.layout.height,V_=e=>e.layout.scale,W_=e=>e.layout.margin,$_=Tx(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),H_=Tx(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),K_="data-recharts-item-index",U_="data-recharts-item-data-key";function G_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function q_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G_(Object(n),!0).forEach(function(t){Y_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Y_(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X_=Tx([F_,B_,W_,e=>e.brush.height,$_,H_,ib,e=>e.legend.size],(e,t,n,r,i,a,s,o)=>{var l=a.reduce((e,t)=>{var{orientation:n}=t;if(!t.mirror&&!t.hide){var r="number"==typeof t.width?t.width:60;return q_(q_({},e),{},{[n]:e[n]+r})}return e},{left:n.left||0,right:n.right||0}),c=i.reduce((e,t)=>{var{orientation:n}=t;return t.mirror||t.hide?e:q_(q_({},e),{},{[n]:om(e,"".concat(n))+t.height})},{top:n.top||0,bottom:n.bottom||0}),u=q_(q_({},c),l),d=u.bottom;u.bottom+=r,u=((e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:o}=t;if(("vertical"===o||"horizontal"===o&&"middle"===s)&&"center"!==a&&pm(e[a]))return w_(w_({},e),{},{[a]:e[a]+(r||0)});if(("horizontal"===o||"vertical"===o&&"center"===a)&&"middle"!==s&&pm(e[s]))return w_(w_({},e),{},{[s]:e[s]+(i||0)})}return e})(u,s,o);var h=e-u.left-u.right,f=t-u.top-u.bottom;return q_(q_({brushBottom:d},u),{},{width:Math.max(h,0),height:Math.max(f,0)})}),Q_=Tx(X_,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Z_=Tx(F_,B_,(e,t)=>({x:0,y:0,width:e,height:t})),J_=k.createContext(null),ej=()=>null!=k.useContext(J_),tj=e=>e.brush,nj=Tx([tj,X_,W_],(e,t,n)=>({height:e.height,x:pm(e.x)?e.x:t.left,y:pm(e.y)?e.y:t.top+t.height+t.brushBottom-((null==n?void 0:n.bottom)||0),width:pm(e.width)?e.width:t.width})),rj=()=>{var e,t=ej(),n=kx(Q_),r=kx(nj),i=null===(e=kx(tj))||void 0===e?void 0:e.padding;return t&&r&&i?{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}:n},ij={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},aj=()=>{var e;return null!==(e=kx(X_))&&void 0!==e?e:ij},sj=()=>kx(F_),oj=()=>kx(B_),lj={top:0,right:0,bottom:0,left:0},cj=e=>e.layout.layoutType,uj=()=>kx(cj),dj=jw({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=nw(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:hj,setLegendSettings:fj,addLegendPayload:mj,removeLegendPayload:gj}=dj.actions,pj=dj.reducer,vj=["contextPayload"];function yj(){return yj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yj.apply(null,arguments)}function xj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xj(Object(n),!0).forEach(function(t){wj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function wj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _j(e){return e.value}function jj(e){var{contextPayload:t}=e,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,vj),r=lx(t,e.payloadUniqBy,_j),i=bj(bj({},n),{},{payload:r});return k.isValidElement(e.content)?k.cloneElement(e.content,i):"function"==typeof e.content?k.createElement(e.content,i):k.createElement(Ov,i)}function Nj(e){var t=wx();return k.useEffect(()=>{t(fj(e))},[t,e]),null}function kj(e){var t=wx();return k.useEffect(()=>(t(hj(e)),()=>{t(hj({width:0,height:0}))}),[t,e]),null}function Sj(e){var t,n=kx(ab),r=k.useContext(Um),i=null!==(t=kx(e=>e.layout.margin))&&void 0!==t?t:lj,{width:a,height:s,wrapperStyle:o,portal:l}=e,[c,u]=sb([n]),d=sj(),h=oj(),f=d-(i.left||0)-(i.right||0),m=Cj.getWidthOrHeight(e.layout,s,a,f),g=l?o:bj(bj({position:"absolute",width:(null==m?void 0:m.width)||a||"auto",height:(null==m?void 0:m.height)||s||"auto"},function(e,t,n,r,i,a){var s,o,{layout:l,align:c,verticalAlign:u}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(s="center"===c&&"vertical"===l?{left:((r||0)-a.width)/2}:"right"===c?{right:n&&n.right||0}:{left:n&&n.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(o="middle"===u?{top:((i||0)-a.height)/2}:"bottom"===u?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),bj(bj({},s),o)}(o,e,i,d,h,c)),o),p=null!=l?l:r;if(null==p)return null;var v=k.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:u},k.createElement(Nj,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),k.createElement(kj,{width:c.width,height:c.height}),k.createElement(jj,yj({},e,m,{margin:i,chartWidth:d,chartHeight:h,contextPayload:n})));return Nn.createPortal(v,p)}class Cj extends k.PureComponent{static getWidthOrHeight(e,t,n,r){return"vertical"===e&&pm(t)?{height:t}:"horizontal"===e?{width:n||r}:null}render(){return k.createElement(Sj,this.props)}}function Pj(){return Pj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pj.apply(null,arguments)}function Ej(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Mj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ej(Object(n),!0).forEach(function(t){Oj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ej(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Oj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Aj(e){return Array.isArray(e)&&vm(e[0])&&vm(e[1])?e.join(" ~ "):e}wj(Cj,"displayName","Legend"),wj(Cj,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});var Tj=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:c,label:u,labelFormatter:d,accessibilityLayer:h=!1}=e,f=Mj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),m=Mj({margin:0},i),g=!km(u),p=g?u:"",v=ot("recharts-default-tooltip",l),y=ot("recharts-tooltip-label",c);g&&d&&null!=a&&(p=d(u,a));var x=h?{role:"status","aria-live":"assertive"}:{};return k.createElement("div",Pj({className:v,style:f},x),k.createElement("p",{className:y,style:m},k.isValidElement(p)?p:"".concat(p)),(()=>{if(a&&a.length){var e=(o?rb(a,o):a).map((e,n)=>{if("none"===e.type)return null;var i=e.formatter||s||Aj,{value:o,name:l}=e,c=o,u=l;if(i){var d=i(o,l,e,n,a);if(Array.isArray(d))[c,u]=d;else{if(null==d)return null;c=d}}var h=Mj({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},r);return k.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(n),style:h},vm(u)?k.createElement("span",{className:"recharts-tooltip-item-name"},u):null,vm(u)?k.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,k.createElement("span",{className:"recharts-tooltip-item-value"},c),k.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return k.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},Rj="recharts-tooltip-wrapper",Dj={visibility:"hidden"};function Ij(e){var{coordinate:t,translateX:n,translateY:r}=e;return ot(Rj,{["".concat(Rj,"-right")]:pm(n)&&t&&pm(t.x)&&n>=t.x,["".concat(Rj,"-left")]:pm(n)&&t&&pm(t.x)&&n<t.x,["".concat(Rj,"-bottom")]:pm(r)&&t&&pm(t.y)&&r>=t.y,["".concat(Rj,"-top")]:pm(r)&&t&&pm(t.y)&&r<t.y})}function Lj(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(a&&pm(a[r]))return a[r];var u=n[r]-o-(i>0?i:0),d=n[r]+i;if(t[r])return s[r]?u:d;var h=l[r];return null==h?0:s[r]?u<h?Math.max(d,h):Math.max(u,h):null==c?0:d+o>h+c?Math.max(u,h):Math.max(d,h)}function zj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Fj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zj(Object(n),!0).forEach(function(t){Bj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Bj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Vj extends k.PureComponent{constructor(){super(...arguments),Bj(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Bj(this,"handleKeyDown",e=>{var t,n,r,i;"Escape"===e.key&&this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(t=null===(n=this.props.coordinate)||void 0===n?void 0:n.x)&&void 0!==t?t:0,y:null!==(r=null===(i=this.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==r?r:0}})})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}render(){var{active:e,allowEscapeViewBox:t,animationDuration:n,animationEasing:r,children:i,coordinate:a,hasPayload:s,isAnimationActive:o,offset:l,position:c,reverseDirection:u,useTranslate3d:d,viewBox:h,wrapperStyle:f,lastBoundingBox:m,innerRef:g,hasPortalFromProps:p}=this.props,{cssClasses:v,cssProperties:y}=function(e){var t,n,r,{allowEscapeViewBox:i,coordinate:a,offsetTopLeft:s,position:o,reverseDirection:l,tooltipBox:c,useTranslate3d:u,viewBox:d}=e;return t=c.height>0&&c.width>0&&a?function(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:n=Lj({allowEscapeViewBox:i,coordinate:a,key:"x",offsetTopLeft:s,position:o,reverseDirection:l,tooltipDimension:c.width,viewBox:d,viewBoxDimension:d.width}),translateY:r=Lj({allowEscapeViewBox:i,coordinate:a,key:"y",offsetTopLeft:s,position:o,reverseDirection:l,tooltipDimension:c.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:u}):Dj,{cssProperties:t,cssClasses:Ij({translateX:n,translateY:r,coordinate:a})}}({allowEscapeViewBox:t,coordinate:a,offsetTopLeft:l,position:c,reverseDirection:u,tooltipBox:{height:m.height,width:m.width},useTranslate3d:d,viewBox:h}),x=p?{}:Fj(Fj({transition:o&&e?"transform ".concat(n,"ms ").concat(r):void 0},y),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&s?"visible":"hidden",position:"absolute",top:0,left:0}),b=Fj(Fj({},x),{},{visibility:!this.state.dismissed&&e&&s?"visible":"hidden"},f);return k.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:b,ref:g},i)}}var Wj=!("undefined"!=typeof window&&window.document&&Boolean(window.document.createElement)&&window.setTimeout),$j=()=>kx(e=>e.rootProps.accessibilityLayer);function Hj(e){return Number.isFinite(e)}function Kj(e){return"number"==typeof e&&e>0&&Number.isFinite(e)}function Uj(){return Uj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uj.apply(null,arguments)}function Gj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gj(Object(n),!0).forEach(function(t){Yj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Yj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xj={curveBasisClosed:Np,curveBasisOpen:Sp,curveBasis:_p,curveBumpX:Fg,curveBumpY:Bg,curveLinearClosed:Hp,curveLinear:jg,curveMonotoneX:Zp,curveMonotoneY:Jp,curveNatural:nv,curveStep:iv,curveStepAfter:sv,curveStepBefore:av},Qj=e=>Hj(e.x)&&Hj(e.y),Zj=e=>e.x,Jj=e=>e.y,eN=e=>{var t,{type:n="linear",points:r=[],baseLine:i,layout:a,connectNulls:s=!1}=e,o=((e,t)=>{if("function"==typeof e)return e;var n="curve".concat(Sm(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?Xj[n]||jg:Xj["".concat(n).concat("vertical"===t?"Y":"X")]})(n,a),l=s?r.filter(Qj):r;if(Array.isArray(i)){var c=s?i.filter(e=>Qj(e)):i,u=l.map((e,t)=>qj(qj({},e),{},{base:c[t]}));return(t="vertical"===a?Cg().y(Jj).x1(Zj).x0(e=>e.base.x):Cg().x(Zj).y1(Jj).y0(e=>e.base.y)).defined(Qj).curve(o),t(u)}return(t="vertical"===a&&pm(i)?Cg().y(Jj).x1(Zj).x0(i):pm(i)?Cg().x(Zj).y1(Jj).y0(i):Sg().x(Zj).y(Jj)).defined(Qj).curve(o),t(l)},tN=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if(!(n&&n.length||r))return null;var a=n&&n.length?eN(e):r;return k.createElement("path",Uj({},Fm(e,!1),Om(e),{className:ot("recharts-curve",t),d:null===a?void 0:a,ref:i}))},nN=["x","y","top","left","width","height","className"];function rN(){return rN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rN.apply(null,arguments)}function iN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function aN(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sN=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),oN=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:o}=e,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,nN),c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iN(Object(n),!0).forEach(function(t){aN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:t,y:n,top:r,left:i,width:a,height:s},l);return pm(t)&&pm(n)&&pm(a)&&pm(s)&&pm(r)&&pm(i)?k.createElement("path",rN({},Fm(c,!0),{className:ot("recharts-cross",o),d:sN(t,n,a,s,r,i)})):null};function lN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function cN(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uN(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lN(Object(n),!0).forEach(function(t){cN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e),r=t;return Object.keys(t).reduce((e,t)=>(void 0===e[t]&&void 0!==r[t]&&(e[t]=r[t]),e),n)}var dN,hN,fN={},mN={},gN={};function pN(){return dN||(dN=1,e=gN,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isPlainObject=function(e){if(!e||"object"!=typeof e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t))&&"[object Object]"===Object.prototype.toString.call(e)}),gN;var e}function vN(){return hN||(hN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pN(),n=wy(),r=Ny(),i=Cy(),a=my();function s(e,t,n,r,i,a,s){const l=s(e,t,n,r,i,a);if(void 0!==l)return l;if(typeof e==typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return e===t;case"number":return e===t||Object.is(e,t);case"object":return o(e,t,a,s)}return o(e,t,a,s)}function o(e,l,c,u){if(Object.is(e,l))return!0;let d=r.getTag(e),h=r.getTag(l);if(d===i.argumentsTag&&(d=i.objectTag),h===i.argumentsTag&&(h=i.objectTag),d!==h)return!1;switch(d){case i.stringTag:return e.toString()===l.toString();case i.numberTag:{const t=e.valueOf(),n=l.valueOf();return a.eq(t,n)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(e.valueOf(),l.valueOf());case i.regexpTag:return e.source===l.source&&e.flags===l.flags;case i.functionTag:return e===l}const f=(c=null!=c?c:new Map).get(e),m=c.get(l);if(null!=f&&null!=m)return f===l;c.set(e,l),c.set(l,e);try{switch(d){case i.mapTag:if(e.size!==l.size)return!1;for(const[t,n]of e.entries())if(!l.has(t)||!s(n,l.get(t),t,e,l,c,u))return!1;return!0;case i.setTag:{if(e.size!==l.size)return!1;const t=Array.from(e.values()),n=Array.from(l.values());for(let r=0;r<t.length;r++){const i=t[r],a=n.findIndex(t=>s(i,t,void 0,e,l,c,u));if(-1===a)return!1;n.splice(a,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:if("undefined"!=typeof Buffer&&Buffer.isBuffer(e)!==Buffer.isBuffer(l))return!1;if(e.length!==l.length)return!1;for(let t=0;t<e.length;t++)if(!s(e[t],l[t],t,e,l,c,u))return!1;return!0;case i.arrayBufferTag:return e.byteLength===l.byteLength&&o(new Uint8Array(e),new Uint8Array(l),c,u);case i.dataViewTag:return e.byteLength===l.byteLength&&e.byteOffset===l.byteOffset&&o(new Uint8Array(e),new Uint8Array(l),c,u);case i.errorTag:return e.name===l.name&&e.message===l.message;case i.objectTag:{if(!(o(e.constructor,l.constructor,c,u)||t.isPlainObject(e)&&t.isPlainObject(l)))return!1;const r=[...Object.keys(e),...n.getSymbols(e)],i=[...Object.keys(l),...n.getSymbols(l)];if(r.length!==i.length)return!1;for(let t=0;t<r.length;t++){const n=r[t],i=e[n];if(!Object.hasOwn(l,n))return!1;if(!s(i,l[n],n,e,l,c,u))return!1}return!0}default:return!1}}finally{c.delete(e),c.delete(l)}}e.isEqualWith=function(e,t,n){return s(e,t,void 0,void 0,void 0,void 0,n)}}(mN)),mN}var yN,xN,bN,wN,_N={};function jN(){return yN||(yN=1,e=_N,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.noop=function(){}),_N;var e}function NN(){return wN?bN:(wN=1,bN=(xN||(xN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vN(),n=jN();e.isEqual=function(e,r){return t.isEqualWith(e,r,n.noop)}}(fN)),fN).isEqual)}const kN=i(NN());var SN=1e-4,CN=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],PN=(e,t)=>e.map((e,n)=>e*u(t,n)).reduce((e,t)=>e+t),EN=(e,t)=>n=>{var r=CN(e,t);return PN(r,n)},MN=function(){for(var e,t,n,r,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];if(1===a.length)switch(a[0]){case"linear":[e,n,t,r]=[0,0,1,1];break;case"ease":[e,n,t,r]=[.25,.1,.25,1];break;case"ease-in":[e,n,t,r]=[.42,0,1,1];break;case"ease-out":[e,n,t,r]=[.42,0,.58,1];break;case"ease-in-out":[e,n,t,r]=[0,0,.58,1];break;default:var o=a[0].split("(");"cubic-bezier"===o[0]&&4===o[1].split(")")[0].split(",").length&&([e,n,t,r]=o[1].split(")")[0].split(",").map(e=>parseFloat(e)))}else 4===a.length&&([e,n,t,r]=a);var l,c,u=EN(e,t),d=EN(n,r),h=(l=e,c=t,e=>{var t=[...CN(l,c).map((e,t)=>e*t).slice(1),0];return PN(t,e)}),f=e=>e>1?1:e<0?0:e,m=e=>{for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=u(n)-t,a=h(n);if(Math.abs(i-t)<SN||a<SN)return d(n);n=f(n-i/a)}return d(n)};return m.isStepper=!1,m},ON=e=>{if("string"==typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return MN(e);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:n=8,dt:r=17}=e,i=(e,i,a)=>{var s=a+(-(e-i)*t-a*n)*r/1e3,o=a*r/1e3+e;return Math.abs(o-i)<SN&&Math.abs(s)<SN?[i,0]:[o,s]};return i.isStepper=!0,i.dt=r,i}();default:if("cubic-bezier"===e.split("(")[0])return MN(e)}return"function"==typeof e?e:null};function AN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function TN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AN(Object(n),!0).forEach(function(t){RN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function RN(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var DN=(e,t)=>Object.keys(t).reduce((n,r)=>TN(TN({},n),{},{[r]:e(r,t[r])}),{});function IN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function LN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IN(Object(n),!0).forEach(function(t){zN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function zN(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var FN=(e,t,n)=>e+(t-e)*n,BN=e=>{var{from:t,to:n}=e;return t!==n},VN=(e,t,n)=>{var r=DN((t,n)=>{if(BN(n)){var[r,i]=e(n.from,n.to,n.velocity);return LN(LN({},n),{},{from:r,velocity:i})}return n},t);return n<1?DN((e,t)=>BN(t)?LN(LN({},t),{},{velocity:FN(t.velocity,r[e].velocity,n),from:FN(t.from,r[e].from,n)}):t,t):VN(e,r,n-1)};function WN(e,t,n,r,i,a){var s,o=r.reduce((n,r)=>LN(LN({},n),{},{[r]:{from:e[r],velocity:0,to:t[r]}}),{}),l=null,c=r=>{s||(s=r);var u=(r-s)/n.dt;o=VN(n,o,u),i(LN(LN(LN({},e),t),DN((e,t)=>t.from,o))),s=r,Object.values(o).filter(BN).length&&(l=a.setTimeout(c))};return()=>(l=a.setTimeout(c),()=>{l()})}const $N=(e,t,n,r,i,a)=>{var s,o,l=(s=e,o=t,[Object.keys(s),Object.keys(o)].reduce((e,t)=>e.filter(e=>t.includes(e))));return!0===n.isStepper?WN(e,t,n,l,i,a):function(e,t,n,r,i,a,s){var o,l=null,c=i.reduce((n,r)=>LN(LN({},n),{},{[r]:[e[r],t[r]]}),{}),u=i=>{o||(o=i);var d=(i-o)/r,h=DN((e,t)=>FN(...t,n(d)),c);if(a(LN(LN(LN({},e),t),h)),d<1)l=s.setTimeout(u);else{var f=DN((e,t)=>FN(...t,n(1)),c);a(LN(LN(LN({},e),t),f))}};return()=>(l=s.setTimeout(u),()=>{l()})}(e,t,n,r,l,i,a)};class HN{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=performance.now(),r=null,i=a=>{a-n>=t?e(a):"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(i))};return r=requestAnimationFrame(i),()=>{cancelAnimationFrame(r)}}}var KN=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function UN(){return UN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UN.apply(null,arguments)}function GN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GN(Object(n),!0).forEach(function(t){YN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function YN(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XN(){return e=new HN,t=()=>null,n=!1,r=null,i=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,[o,...l]=s;return"number"==typeof o?void(r=e.setTimeout(i.bind(null,l),o)):(i(o),void(r=e.setTimeout(i.bind(null,l))))}"object"==typeof a&&t(a),"function"==typeof a&&a()}},{stop:()=>{n=!0},start:e=>{n=!1,r&&(r(),r=null),i(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e};var e,t,n,r,i}class QN extends k.PureComponent{constructor(e,t){super(e,t),YN(this,"mounted",!1),YN(this,"manager",null),YN(this,"stopJSAnimation",null),YN(this,"unSubscribe",null);var{isActive:n,attributeName:r,from:i,to:a,children:s,duration:o,animationManager:l}=this.props;if(this.manager=l,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||o<=0)return this.state={style:{}},void("function"==typeof s&&(this.state={style:a}));if(i){if("function"==typeof s)return void(this.state={style:i});this.state={style:r?{[r]:i}:i}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:t}=this.props;this.mounted=!0,e&&t&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:t,canBegin:n,attributeName:r,shouldReAnimate:i,to:a,from:s}=this.props,{style:o}=this.state;if(n)if(t){if(!(kN(e.to,a)&&e.canBegin&&e.isActive)){var l=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var c=l||i?s:e.to;if(this.state&&o){var u={style:r?{[r]:c}:c};(r&&o[r]!==c||!r&&o!==c)&&this.setState(u)}this.runAnimation(qN(qN({},this.props),{},{from:c,begin:0}))}}else{var d={style:r?{[r]:a}:a};this.state&&o&&(r&&o[r]!==a||!r&&o!==a)&&this.setState(d)}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:t,to:n,duration:r,easing:i,begin:a,onAnimationEnd:s,onAnimationStart:o}=e,l=$N(t,n,ON(i),r,this.changeStyle,this.manager.getTimeoutController());this.manager.start([o,a,()=>{this.stopJSAnimation=l()},r,s])}runAnimation(e){var{begin:t,duration:n,attributeName:r,to:i,easing:a,onAnimationStart:s,onAnimationEnd:o,children:l}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),"function"!=typeof a&&"function"!=typeof l&&"spring"!==a){var c=r?{[r]:i}:i,u=((e,t,n)=>e.map(e=>{return"".concat((r=e,r.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())))," ").concat(t,"ms ").concat(n);var r}).join(","))(Object.keys(c),n,a);this.manager.start([s,t,qN(qN({},c),{},{transition:u}),n,o])}else this.runJSAnimation(e)}render(){var e=this.props,{children:t,begin:n,duration:r,attributeName:i,easing:a,isActive:s,from:o,to:l,canBegin:c,onAnimationEnd:u,shouldReAnimate:d,onAnimationReStart:h,animationManager:f}=e,m=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,KN),g=k.Children.count(t),p=this.state.style;if("function"==typeof t)return t(p);if(!s||0===g||r<=0)return t;var v=e=>{var{style:t={},className:n}=e.props;return k.cloneElement(e,qN(qN({},m),{},{style:qN(qN({},t),p),className:n}))};return 1===g?v(k.Children.only(t)):k.createElement("div",null,k.Children.map(t,e=>v(e)))}}YN(QN,"displayName","Animate"),YN(QN,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var ZN=k.createContext(null);function JN(e){var t,n,r=k.useContext(ZN);return k.createElement(QN,UN({},e,{animationManager:null!==(t=null!==(n=e.animationManager)&&void 0!==n?n:r)&&void 0!==t?t:XN()}))}function ek(){return ek=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ek.apply(null,arguments)}var tk=(e,t,n,r,i)=>{var a,s=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(s>0&&i instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=i[d]>s?s:i[d];a="M".concat(e,",").concat(t+o*u[0]),u[0]>0&&(a+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),a+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(a+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+o*u[1])),a+="L ".concat(e+n,",").concat(t+r-o*u[2]),u[2]>0&&(a+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),a+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(a+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-o*u[3])),a+="Z"}else if(s>0&&i===+i&&i>0){var h=Math.min(s,i);a="M ".concat(e,",").concat(t+o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+o*h,"\n            L ").concat(e+n,",").concat(t+r-o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-o*h," Z")}else a="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return a},nk={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rk=e=>{var t=uN(e,nk),n=k.useRef(null),[r,i]=k.useState(-1);k.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&i(e)}catch(t){}},[]);var{x:a,y:s,width:o,height:l,radius:c,className:u}=t,{animationEasing:d,animationDuration:h,animationBegin:f,isAnimationActive:m,isUpdateAnimationActive:g}=t;if(a!==+a||s!==+s||o!==+o||l!==+l||0===o||0===l)return null;var p=ot("recharts-rectangle",u);return g?k.createElement(JN,{canBegin:r>0,from:{width:o,height:l,x:a,y:s},to:{width:o,height:l,x:a,y:s},duration:h,animationEasing:d,isActive:g},e=>{var{width:i,height:a,x:s,y:o}=e;return k.createElement(JN,{canBegin:r>0,from:"0px ".concat(-1===r?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:f,duration:h,isActive:m,easing:d},k.createElement("path",ek({},Fm(t,!0),{className:p,d:tk(s,o,i,a,c),ref:n})))}):k.createElement("path",ek({},Fm(t,!0),{className:p,d:tk(a,s,o,l,c)}))};function ik(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e;return{points:[g_(t,n,r,i),g_(t,n,r,a)],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function ak(){return ak=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ak.apply(null,arguments)}var sk=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,c=o*(s?1:-1)+r,u=Math.asin(o/c)/f_,d=l?i:i+a*u,h=l?i-a*u:i;return{center:g_(t,n,c,d),circleTangency:g_(t,n,r,d),lineTangency:g_(t,n,c*Math.cos(u*f_),h),theta:u}},ok=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=e,o=((e,t)=>fm(t-e)*Math.min(Math.abs(t-e),359.999))(a,s),l=a+o,c=g_(t,n,i,a),u=g_(t,n,i,l),d="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(o)>180),",").concat(+(a>l),",\n    ").concat(u.x,",").concat(u.y,"\n  ");if(r>0){var h=g_(t,n,r,a),f=g_(t,n,r,l);d+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(o)>180),",").concat(+(a<=l),",\n            ").concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(t,",").concat(n," Z");return d},lk={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ck=e=>{var t=uN(e,lk),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u,className:d}=t;if(a<i||c===u)return null;var h,f=ot("recharts-sector",d),m=a-i,g=bm(s,m,0,!0);return h=g>0&&Math.abs(c-u)<360?(e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:c}=e,u=fm(c-l),{circleTangency:d,lineTangency:h,theta:f}=sk({cx:t,cy:n,radius:i,angle:l,sign:u,cornerRadius:a,cornerIsExternal:o}),{circleTangency:m,lineTangency:g,theta:p}=sk({cx:t,cy:n,radius:i,angle:c,sign:-u,cornerRadius:a,cornerIsExternal:o}),v=o?Math.abs(l-c):Math.abs(l-c)-f-p;if(v<0)return s?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*a,",0\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*-a,",0\n      "):ok({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var y="M ".concat(h.x,",").concat(h.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(v>180),",").concat(+(u<0),",").concat(m.x,",").concat(m.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n  ");if(r>0){var{circleTangency:x,lineTangency:b,theta:w}=sk({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:_,lineTangency:j,theta:N}=sk({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),k=o?Math.abs(l-c):Math.abs(l-c)-w-N;if(k<0&&0===a)return"".concat(y,"L").concat(t,",").concat(n,"Z");y+="L".concat(j.x,",").concat(j.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(_.x,",").concat(_.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(k>180),",").concat(+(u>0),",").concat(x.x,",").concat(x.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(b.x,",").concat(b.y,"Z")}else y+="L".concat(t,",").concat(n,"Z");return y})({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}):ok({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u}),k.createElement("path",ak({},Fm(t,!0),{className:f,d:h}))};function uk(e,t,n){var r,i,a,s;if("horizontal"===e)a=r=t.x,i=n.top,s=n.top+n.height;else if("vertical"===e)s=i=t.y,r=n.left,a=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return ik(t);var{cx:o,cy:l,innerRadius:c,outerRadius:u,angle:d}=t,h=g_(o,l,c,d),f=g_(o,l,u,d);r=h.x,i=h.y,a=f.x,s=f.y}return[{x:r,y:i},{x:a,y:s}]}var dk,hk,fk,mk,gk,pk={},vk={},yk={};function xk(){return dk||(dk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hx();e.toNumber=function(e){return t.isSymbol(e)?NaN:Number(e)}}(yk)),yk}function bk(){return hk||(hk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xk();e.toFinite=function(e){return e?(e=t.toNumber(e))===1/0||e===-1/0?(e<0?-1:1)*Number.MAX_VALUE:e==e?e:0:0===e?e:0}}(vk)),vk}function wk(){return gk?mk:(gk=1,mk=(fk||(fk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tb(),n=bk();e.range=function(e,r,i){i&&"number"!=typeof i&&t.isIterateeCall(e,r,i)&&(r=i=void 0),e=n.toFinite(e),void 0===r?(r=e,e=0):r=n.toFinite(r),i=void 0===i?e<r?1:-1:n.toFinite(i);const a=Math.max(Math.ceil((r-e)/(i||1)),0),s=new Array(a);for(let t=0;t<a;t++)s[t]=e,e+=i;return s}}(pk)),pk).range)}const _k=i(wk());function jk(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Nk(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function kk(e){let t,n,r;function i(e,r,i=0,a=e.length){if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<0?i=t+1:a=t}while(i<a)}return i}return 2!==e.length?(t=jk,n=(t,n)=>jk(e(t),n),r=(t,n)=>e(t)-n):(t=e===jk||e===Nk?e:Sk,n=e,r=e),{left:i,center:function(e,t,n=0,a=e.length){const s=i(e,t,n,a-1);return s>n&&r(e[s-1],t)>-r(e[s],t)?s-1:s},right:function(e,r,i=0,a=e.length){if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<=0?i=t+1:a=t}while(i<a)}return i}}}function Sk(){return 0}function Ck(e){return null===e?NaN:+e}const Pk=kk(jk),Ek=Pk.right,Mk=Pk.left,Ok=kk(Ck).center,Ak=Rk(Lk),Tk=Rk(function(e){const t=Lk(e);return(e,n,r,i,a)=>{t(e,n,0+(r<<=2),0+(i<<=2),a<<=2),t(e,n,r+1,i+1,a),t(e,n,r+2,i+2,a),t(e,n,r+3,i+3,a)}});function Rk(e){return function(t,n,r=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:i,width:a,height:s}=t;if(!((a=Math.floor(a))>=0))throw new RangeError("invalid width");if(!((s=Math.floor(void 0!==s?s:i.length/a))>=0))throw new RangeError("invalid height");if(!a||!s||!n&&!r)return t;const o=n&&e(n),l=r&&e(r),c=i.slice();return o&&l?(Dk(o,c,i,a,s),Dk(o,i,c,a,s),Dk(o,c,i,a,s),Ik(l,i,c,a,s),Ik(l,c,i,a,s),Ik(l,i,c,a,s)):o?(Dk(o,i,c,a,s),Dk(o,c,i,a,s),Dk(o,i,c,a,s)):l&&(Ik(l,i,c,a,s),Ik(l,c,i,a,s),Ik(l,i,c,a,s)),t}}function Dk(e,t,n,r,i){for(let a=0,s=r*i;a<s;)e(t,n,a,a+=r,1)}function Ik(e,t,n,r,i){for(let a=0,s=r*i;a<r;++a)e(t,n,a,a+s,r)}function Lk(e){const t=Math.floor(e);if(t===e)return function(e){const t=2*e+1;return(n,r,i,a,s)=>{if(!((a-=s)>=i))return;let o=e*r[i];const l=s*e;for(let e=i,t=i+l;e<t;e+=s)o+=r[Math.min(a,e)];for(let e=i,c=a;e<=c;e+=s)o+=r[Math.min(a,e+l)],n[e]=o/t,o-=r[Math.max(i,e-l)]}}(e);const n=e-t,r=2*e+1;return(e,i,a,s,o)=>{if(!((s-=o)>=a))return;let l=t*i[a];const c=o*t,u=c+o;for(let t=a,n=a+c;t<n;t+=o)l+=i[Math.min(s,t)];for(let t=a,d=s;t<=d;t+=o)l+=i[Math.min(s,t+c)],e[t]=(l+n*(i[Math.max(a,t-u)]+i[Math.min(s,t+u)]))/r,l-=i[Math.max(a,t-c)]}}function zk(e,t){let n=0;if(void 0===t)for(let r of e)null!=r&&(r=+r)>=r&&++n;else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(i=+i)>=i&&++n}return n}function Fk(e){return 0|e.length}function Bk(e){return!(e>0)}function Vk(e){return"object"!=typeof e||"length"in e?e:Array.from(e)}function Wk(e,t){let n,r=0,i=0,a=0;if(void 0===t)for(let s of e)null!=s&&(s=+s)>=s&&(n=s-i,i+=n/++r,a+=n*(s-i));else{let s=-1;for(let o of e)null!=(o=t(o,++s,e))&&(o=+o)>=o&&(n=o-i,i+=n/++r,a+=n*(o-i))}if(r>1)return a/(r-1)}function $k(e,t){const n=Wk(e,t);return n?Math.sqrt(n):n}function Hk(e,t){let n,r;if(void 0===t)for(const i of e)null!=i&&(void 0===n?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of e)null!=(a=t(a,++i,e))&&(void 0===n?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class Kk{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const t=this._partials;let n=0;for(let r=0;r<this._n&&r<32;r++){const i=t[r],a=e+i,s=Math.abs(e)<Math.abs(i)?e-(a-i):i-(a-e);s&&(t[n++]=s),e=a}return t[n]=e,this._n=n+1,this}valueOf(){const e=this._partials;let t,n,r,i=this._n,a=0;if(i>0){for(a=e[--i];i>0&&(t=a,n=e[--i],a=t+n,r=n-(a-t),!r););i>0&&(r<0&&e[i-1]<0||r>0&&e[i-1]>0)&&(n=2*r,t=a+n,n==t-a&&(a=t))}return a}}class Uk extends Map{constructor(e,t=Qk){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(qk(this,e))}has(e){return super.has(qk(this,e))}set(e,t){return super.set(Yk(this,e),t)}delete(e){return super.delete(Xk(this,e))}}class Gk extends Set{constructor(e,t=Qk){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const n of e)this.add(n)}has(e){return super.has(qk(this,e))}add(e){return super.add(Yk(this,e))}delete(e){return super.delete(Xk(this,e))}}function qk({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Yk({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Xk({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Qk(e){return null!==e&&"object"==typeof e?e.valueOf():e}function Zk(e){return e}function Jk(e,...t){return aS(e,Zk,Zk,t)}function eS(e,...t){return aS(e,Array.from,Zk,t)}function tS(e,t){for(let n=1,r=t.length;n<r;++n)e=e.flatMap(e=>e.pop().map(([t,n])=>[...e,t,n]));return e}function nS(e,t,...n){return aS(e,Zk,t,n)}function rS(e,t,...n){return aS(e,Array.from,t,n)}function iS(e){if(1!==e.length)throw new Error("duplicate key");return e[0]}function aS(e,t,n,r){return function e(i,a){if(a>=r.length)return n(i);const s=new Uk,o=r[a++];let l=-1;for(const t of i){const e=o(t,++l,i),n=s.get(e);n?n.push(t):s.set(e,[t])}for(const[t,n]of s)s.set(t,e(n,a));return t(s)}(e,0)}function sS(e,t){return Array.from(t,t=>e[t])}function oS(e,...t){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&2!==n.length||t.length>1){const r=Uint32Array.from(e,(e,t)=>t);return t.length>1?(t=t.map(t=>e.map(t)),r.sort((e,n)=>{for(const r of t){const t=cS(r[e],r[n]);if(t)return t}})):(n=e.map(n),r.sort((e,t)=>cS(n[e],n[t]))),sS(e,r)}return e.sort(lS(n))}function lS(e=jk){if(e===jk)return cS;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function cS(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}var uS=Array.prototype.slice;function dS(e){return()=>e}const hS=Math.sqrt(50),fS=Math.sqrt(10),mS=Math.sqrt(2);function gS(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=hS?10:a>=fS?5:a>=mS?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=n&&n<2?gS(e,t,2*n):[o,l,c]}function pS(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,a,s]=r?gS(t,e,n):gS(e,t,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function vS(e,t,n){return gS(e=+e,t=+t,n=+n)[2]}function yS(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?vS(t,e,n):vS(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function xS(e,t,n){let r;for(;;){const i=vS(e,t,n);if(i===r||0===i||!isFinite(i))return[e,t];i>0?(e=Math.floor(e/i)*i,t=Math.ceil(t/i)*i):i<0&&(e=Math.ceil(e*i)/i,t=Math.floor(t*i)/i),r=i}}function bS(e){return Math.max(1,Math.ceil(Math.log(zk(e))/Math.LN2)+1)}function wS(){var e=Zk,t=Hk,n=bS;function r(r){Array.isArray(r)||(r=Array.from(r));var i,a,s,o=r.length,l=new Array(o);for(i=0;i<o;++i)l[i]=e(r[i],i,r);var c=t(l),u=c[0],d=c[1],h=n(l,u,d);if(!Array.isArray(h)){const e=d,n=+h;if(t===Hk&&([u,d]=xS(u,d,n)),(h=pS(u,d,n))[0]<=u&&(s=vS(u,d,n)),h[h.length-1]>=d)if(e>=d&&t===Hk){const e=vS(u,d,n);isFinite(e)&&(e>0?d=(Math.floor(d/e)+1)*e:e<0&&(d=(Math.ceil(d*-e)+1)/-e))}else h.pop()}for(var f=h.length,m=0,g=f;h[m]<=u;)++m;for(;h[g-1]>d;)--g;(m||g<f)&&(h=h.slice(m,g),f=g-m);var p,v=new Array(f+1);for(i=0;i<=f;++i)(p=v[i]=[]).x0=i>0?h[i-1]:u,p.x1=i<f?h[i]:d;if(isFinite(s)){if(s>0)for(i=0;i<o;++i)null!=(a=l[i])&&u<=a&&a<=d&&v[Math.min(f,Math.floor((a-u)/s))].push(r[i]);else if(s<0)for(i=0;i<o;++i)if(null!=(a=l[i])&&u<=a&&a<=d){const e=Math.floor((u-a)*s);v[Math.min(f,e+(h[e]<=a))].push(r[i])}}else for(i=0;i<o;++i)null!=(a=l[i])&&u<=a&&a<=d&&v[Ek(h,a,0,f)].push(r[i]);return v}return r.value=function(t){return arguments.length?(e="function"==typeof t?t:dS(t),r):e},r.domain=function(e){return arguments.length?(t="function"==typeof e?e:dS([e[0],e[1]]),r):t},r.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:dS(Array.isArray(e)?uS.call(e):e),r):n},r}function _S(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function jS(e,t){let n,r=-1,i=-1;if(void 0===t)for(const a of e)++i,null!=a&&(n<a||void 0===n&&a>=a)&&(n=a,r=i);else for(let a of e)null!=(a=t(a,++i,e))&&(n<a||void 0===n&&a>=a)&&(n=a,r=i);return r}function NS(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function kS(e,t){let n,r=-1,i=-1;if(void 0===t)for(const a of e)++i,null!=a&&(n>a||void 0===n&&a>=a)&&(n=a,r=i);else for(let a of e)null!=(a=t(a,++i,e))&&(n>a||void 0===n&&a>=a)&&(n=a,r=i);return r}function SS(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?cS:lS(i);r>n;){if(r-n>600){const a=r-n+1,s=t-n+1,o=Math.log(a),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(a-l)/a)*(s-a/2<0?-1:1);SS(e,t,Math.max(n,Math.floor(t-s*l/a+c)),Math.min(r,Math.floor(t+(a-s)*l/a+c)),i)}const a=e[t];let s=n,o=r;for(CS(e,n,t),i(e[r],a)>0&&CS(e,n,r);s<o;){for(CS(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}0===i(e[n],a)?CS(e,n,o):(++o,CS(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function CS(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function PS(e,t=jk){let n,r=!1;if(1===t.length){let i;for(const a of e){const e=t(a);(r?jk(e,i)>0:0===jk(e,e))&&(n=a,i=e,r=!0)}}else for(const i of e)(r?t(i,n)>0:0===t(i,i))&&(n=i,r=!0);return n}function ES(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return NS(e);if(t>=1)return _S(e);var r,i=(r-1)*t,a=Math.floor(i),s=_S(SS(e,a).subarray(0,a+1));return s+(NS(e.subarray(a+1))-s)*(i-a)}}function MS(e,t,n=Ck){if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e);return s+(+n(e[a+1],a+1,e)-s)*(i-a)}}function OS(e,t,n=Ck){if(!isNaN(t=+t)){if(r=Float64Array.from(e,(t,r)=>Ck(n(e[r],r,e))),t<=0)return kS(r);if(t>=1)return jS(r);var r,i=Uint32Array.from(e,(e,t)=>t),a=r.length-1,s=Math.floor(a*t);return SS(i,s,0,a,(e,t)=>cS(r[e],r[t])),(s=PS(i.subarray(0,s+1),e=>r[e]))>=0?s:-1}}function AS(e){return Array.from(function*(e){for(const t of e)yield*x(t)}(e))}function TS(e,t){return[e,t]}function RS(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a}function DS(e,t=jk){if(1===t.length)return kS(e,t);let n,r=-1,i=-1;for(const a of e)++i,(r<0?0===t(a,a):t(a,n)<0)&&(n=a,r=i);return r}const IS=LS(Math.random);function LS(e){return function(t,n=0,r=t.length){let i=r-(n=+n);for(;i;){const r=e()*i--|0,a=t[i+n];t[i+n]=t[r+n],t[r+n]=a}return t}}function zS(e){if(!(i=e.length))return[];for(var t=-1,n=NS(e,FS),r=new Array(n);++t<n;)for(var i,a=-1,s=r[t]=new Array(i);++a<i;)s[a]=e[a][t];return r}function FS(e){return e.length}function BS(e){return e instanceof Gk?e:new Gk(e)}function VS(e,t){const n=e[Symbol.iterator](),r=new Set;for(const i of t){const e=WS(i);if(r.has(e))continue;let t,a;for(;({value:t,done:a}=n.next());){if(a)return!1;const n=WS(t);if(r.add(n),Object.is(e,n))break}}return!0}function WS(e){return null!==e&&"object"==typeof e?e.valueOf():e}function $S(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function HS(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const KS=Symbol("implicit");function US(){var e=new Uk,t=[],n=[],r=KS;function i(i){let a=e.get(i);if(void 0===a){if(r!==KS)return r;e.set(i,a=t.push(i)-1)}return n[a%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Uk;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return US(t,n).unknown(r)},$S.apply(i,arguments),i}function GS(){var e,t,n=US().unknown(void 0),r=n.domain,i=n.range,a=0,s=1,o=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=s<a,h=d?s:a,f=d?a:s;e=(f-h)/Math.max(1,n-l+2*c),o&&(e=Math.floor(e)),h+=(f-h-e*(n-l))*u,t=e*(1-l),o&&(h=Math.round(h),t=Math.round(t));var m=RS(n).map(function(t){return h+e*t});return i(d?m.reverse():m)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([a,s]=e,a=+a,s=+s,d()):[a,s]},n.rangeRound=function(e){return[a,s]=e,a=+a,s=+s,o=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(o=!!e,d()):o},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return GS(r(),[a,s]).round(o).paddingInner(l).paddingOuter(c).align(u)},$S.apply(d(),arguments)}function qS(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return qS(t())},e}function YS(){return qS(GS.apply(null,arguments).paddingInner(1))}function XS(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function QS(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ZS(){}var JS=.7,eC=1/JS,tC="\\s*([+-]?\\d+)\\s*",nC="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rC="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iC=/^#([0-9a-f]{3,8})$/,aC=new RegExp(`^rgb\\(${tC},${tC},${tC}\\)$`),sC=new RegExp(`^rgb\\(${rC},${rC},${rC}\\)$`),oC=new RegExp(`^rgba\\(${tC},${tC},${tC},${nC}\\)$`),lC=new RegExp(`^rgba\\(${rC},${rC},${rC},${nC}\\)$`),cC=new RegExp(`^hsl\\(${nC},${rC},${rC}\\)$`),uC=new RegExp(`^hsla\\(${nC},${rC},${rC},${nC}\\)$`),dC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function hC(){return this.rgb().formatHex()}function fC(){return this.rgb().formatRgb()}function mC(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=iC.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?gC(t):3===n?new xC(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?pC(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?pC(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=aC.exec(e))?new xC(t[1],t[2],t[3],1):(t=sC.exec(e))?new xC(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=oC.exec(e))?pC(t[1],t[2],t[3],t[4]):(t=lC.exec(e))?pC(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=cC.exec(e))?kC(t[1],t[2]/100,t[3]/100,1):(t=uC.exec(e))?kC(t[1],t[2]/100,t[3]/100,t[4]):dC.hasOwnProperty(e)?gC(dC[e]):"transparent"===e?new xC(NaN,NaN,NaN,0):null}function gC(e){return new xC(e>>16&255,e>>8&255,255&e,1)}function pC(e,t,n,r){return r<=0&&(e=t=n=NaN),new xC(e,t,n,r)}function vC(e){return e instanceof ZS||(e=mC(e)),e?new xC((e=e.rgb()).r,e.g,e.b,e.opacity):new xC}function yC(e,t,n,r){return 1===arguments.length?vC(e):new xC(e,t,n,null==r?1:r)}function xC(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function bC(){return`#${NC(this.r)}${NC(this.g)}${NC(this.b)}`}function wC(){const e=_C(this.opacity);return`${1===e?"rgb(":"rgba("}${jC(this.r)}, ${jC(this.g)}, ${jC(this.b)}${1===e?")":`, ${e})`}`}function _C(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function jC(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function NC(e){return((e=jC(e))<16?"0":"")+e.toString(16)}function kC(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new PC(e,t,n,r)}function SC(e){if(e instanceof PC)return new PC(e.h,e.s,e.l,e.opacity);if(e instanceof ZS||(e=mC(e)),!e)return new PC;if(e instanceof PC)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(s=t===a?(n-r)/o+6*(n<r):n===a?(r-t)/o+2:(t-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new PC(s,o,l,e.opacity)}function CC(e,t,n,r){return 1===arguments.length?SC(e):new PC(e,t,n,null==r?1:r)}function PC(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function EC(e){return(e=(e||0)%360)<0?e+360:e}function MC(e){return Math.max(0,Math.min(1,e||0))}function OC(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}XS(ZS,mC,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:hC,formatHex:hC,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return SC(this).formatHsl()},formatRgb:fC,toString:fC}),XS(xC,yC,QS(ZS,{brighter(e){return e=null==e?eC:Math.pow(eC,e),new xC(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?JS:Math.pow(JS,e),new xC(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new xC(jC(this.r),jC(this.g),jC(this.b),_C(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bC,formatHex:bC,formatHex8:function(){return`#${NC(this.r)}${NC(this.g)}${NC(this.b)}${NC(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:wC,toString:wC})),XS(PC,CC,QS(ZS,{brighter(e){return e=null==e?eC:Math.pow(eC,e),new PC(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?JS:Math.pow(JS,e),new PC(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new xC(OC(e>=240?e-240:e+120,i,r),OC(e,i,r),OC(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new PC(EC(this.h),MC(this.s),MC(this.l),_C(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_C(this.opacity);return`${1===e?"hsl(":"hsla("}${EC(this.h)}, ${100*MC(this.s)}%, ${100*MC(this.l)}%${1===e?")":`, ${e})`}`}}));const AC=Math.PI/180,TC=180/Math.PI,RC=.96422,DC=.82521,IC=4/29,LC=6/29,zC=3*LC*LC,FC=LC*LC*LC;function BC(e){if(e instanceof WC)return new WC(e.l,e.a,e.b,e.opacity);if(e instanceof YC)return XC(e);e instanceof xC||(e=vC(e));var t,n,r=UC(e.r),i=UC(e.g),a=UC(e.b),s=$C((.2225045*r+.7168786*i+.0606169*a)/1);return r===i&&i===a?t=n=s:(t=$C((.4360747*r+.3850649*i+.1430804*a)/RC),n=$C((.0139322*r+.0971045*i+.7141733*a)/DC)),new WC(116*s-16,500*(t-s),200*(s-n),e.opacity)}function VC(e,t,n,r){return 1===arguments.length?BC(e):new WC(e,t,n,null==r?1:r)}function WC(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function $C(e){return e>FC?Math.pow(e,1/3):e/zC+IC}function HC(e){return e>LC?e*e*e:zC*(e-IC)}function KC(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function UC(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function GC(e){if(e instanceof YC)return new YC(e.h,e.c,e.l,e.opacity);if(e instanceof WC||(e=BC(e)),0===e.a&&0===e.b)return new YC(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*TC;return new YC(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function qC(e,t,n,r){return 1===arguments.length?GC(e):new YC(e,t,n,null==r?1:r)}function YC(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function XC(e){if(isNaN(e.h))return new WC(e.l,0,0,e.opacity);var t=e.h*AC;return new WC(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}XS(WC,VC,QS(ZS,{brighter(e){return new WC(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker(e){return new WC(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new xC(KC(3.1338561*(t=RC*HC(t))-1.6168667*(e=1*HC(e))-.4906146*(n=DC*HC(n))),KC(-.9787684*t+1.9161415*e+.033454*n),KC(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),XS(YC,qC,QS(ZS,{brighter(e){return new YC(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker(e){return new YC(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb(){return XC(this).rgb()}}));var QC=-.14861,ZC=1.78277,JC=-.29227,eP=-.90649,tP=1.97294,nP=tP*eP,rP=tP*ZC,iP=ZC*JC-eP*QC;function aP(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof sP)return new sP(e.h,e.s,e.l,e.opacity);e instanceof xC||(e=vC(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(iP*r+nP*t-rP*n)/(iP+nP-rP),a=r-i,s=(tP*(n-i)-JC*a)/eP,o=Math.sqrt(s*s+a*a)/(tP*i*(1-i)),l=o?Math.atan2(s,a)*TC-120:NaN;return new sP(l<0?l+360:l,o,i,e.opacity)}(e):new sP(e,t,n,null==r?1:r)}function sP(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function oP(e,t,n,r,i){var a=e*e,s=a*e;return((1-3*e+3*a-s)*t+(4-6*a+3*s)*n+(1+3*e+3*a-3*s)*r+s*i)/6}function lP(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],s=r>0?e[r-1]:2*i-a,o=r<t-1?e[r+2]:2*a-i;return oP((n-r/t)*t,s,i,a,o)}}function cP(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],s=e[(r+1)%t],o=e[(r+2)%t];return oP((n-r/t)*t,i,a,s,o)}}XS(sP,aP,QS(ZS,{brighter(e){return e=null==e?eC:Math.pow(eC,e),new sP(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?JS:Math.pow(JS,e),new sP(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*AC,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new xC(255*(t+n*(QC*r+ZC*i)),255*(t+n*(JC*r+eP*i)),255*(t+n*(tP*r)),this.opacity)}}));const uP=e=>()=>e;function dP(e,t){return function(n){return e+n*t}}function hP(e,t){var n=t-e;return n?dP(e,n>180||n<-180?n-360*Math.round(n/360):n):uP(isNaN(e)?t:e)}function fP(e){return 1===(e=+e)?mP:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):uP(isNaN(t)?n:t)}}function mP(e,t){var n=t-e;return n?dP(e,n):uP(isNaN(e)?t:e)}const gP=function e(t){var n=fP(t);function r(e,t){var r=n((e=yC(e)).r,(t=yC(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),s=mP(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=s(t),e+""}}return r.gamma=e,r}(1);function pP(e){return function(t){var n,r,i=t.length,a=new Array(i),s=new Array(i),o=new Array(i);for(n=0;n<i;++n)r=yC(t[n]),a[n]=r.r||0,s[n]=r.g||0,o[n]=r.b||0;return a=e(a),s=e(s),o=e(o),r.opacity=1,function(e){return r.r=a(e),r.g=s(e),r.b=o(e),r+""}}}var vP=pP(lP),yP=pP(cP);function xP(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}}function bP(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function wP(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,a=new Array(i),s=new Array(r);for(n=0;n<i;++n)a[n]=PP(e[n],t[n]);for(;n<r;++n)s[n]=t[n];return function(e){for(n=0;n<i;++n)s[n]=a[n](e);return s}}function _P(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function jP(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function NP(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=PP(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var kP=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,SP=new RegExp(kP.source,"g");function CP(e,t){var n,r,i,a=kP.lastIndex=SP.lastIndex=0,s=-1,o=[],l=[];for(e+="",t+="";(n=kP.exec(e))&&(r=SP.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(r=r[0])?o[s]?o[s]+=r:o[++s]=r:(o[++s]=null,l.push({i:s,x:jP(n,r)})),a=SP.lastIndex;return a<t.length&&(i=t.slice(a),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)o[(n=l[r]).i]=n.x(e);return o.join("")})}function PP(e,t){var n,r=typeof t;return null==t||"boolean"===r?uP(t):("number"===r?jP:"string"===r?(n=mC(t))?(t=n,gP):CP:t instanceof mC?gP:t instanceof Date?_P:bP(t)?xP:Array.isArray(t)?wP:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?NP:jP)(e,t)}function EP(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var MP,OP=180/Math.PI,AP={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function TP(e,t,n,r,i,a){var s,o,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,l/=o),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*OP,skewX:Math.atan(l)*OP,scaleX:s,scaleY:o}}function RP(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(a,s){var o=[],l=[];return a=e(a),s=e(s),function(e,r,i,a,s,o){if(e!==i||r!==a){var l=s.push("translate(",null,t,null,n);o.push({i:l-4,x:jP(e,i)},{i:l-2,x:jP(r,a)})}else(i||a)&&s.push("translate("+i+t+a+n)}(a.translateX,a.translateY,s.translateX,s.translateY,o,l),function(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:jP(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(a.rotate,s.rotate,o,l),function(e,t,n,a){e!==t?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:jP(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(a.skewX,s.skewX,o,l),function(e,t,n,r,a,s){if(e!==n||t!==r){var o=a.push(i(a)+"scale(",null,",",null,")");s.push({i:o-4,x:jP(e,n)},{i:o-2,x:jP(t,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,s.scaleX,s.scaleY,o,l),a=s=null,function(e){for(var t,n=-1,r=l.length;++n<r;)o[(t=l[n]).i]=t.x(e);return o.join("")}}}var DP=RP(function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?AP:TP(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),IP=RP(function(e){return null==e?AP:(MP||(MP=document.createElementNS("http://www.w3.org/2000/svg","g")),MP.setAttribute("transform",e),(e=MP.transform.baseVal.consolidate())?TP((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):AP)},", ",")",")");function LP(e){return((e=Math.exp(e))+1/e)/2}const zP=function e(t,n,r){function i(e,i){var a,s,o=e[0],l=e[1],c=e[2],u=i[0],d=i[1],h=i[2],f=u-o,m=d-l,g=f*f+m*m;if(g<1e-12)s=Math.log(h/c)/t,a=function(e){return[o+e*f,l+e*m,c*Math.exp(t*e*s)]};else{var p=Math.sqrt(g),v=(h*h-c*c+r*g)/(2*c*n*p),y=(h*h-c*c-r*g)/(2*h*n*p),x=Math.log(Math.sqrt(v*v+1)-v),b=Math.log(Math.sqrt(y*y+1)-y);s=(b-x)/t,a=function(e){var r,i=e*s,a=LP(x),u=c/(n*p)*(a*(r=t*i+x,((r=Math.exp(2*r))-1)/(r+1))-function(e){return((e=Math.exp(e))-1/e)/2}(x));return[o+u*f,l+u*m,c*a/LP(t*i+x)]}}return a.duration=1e3*s*t/Math.SQRT2,a}return i.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},i}(Math.SQRT2,2,4);function FP(e){return function(t,n){var r=e((t=CC(t)).h,(n=CC(n)).h),i=mP(t.s,n.s),a=mP(t.l,n.l),s=mP(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=i(e),t.l=a(e),t.opacity=s(e),t+""}}}const BP=FP(hP);var VP=FP(mP);function WP(e){return function(t,n){var r=e((t=qC(t)).h,(n=qC(n)).h),i=mP(t.c,n.c),a=mP(t.l,n.l),s=mP(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=i(e),t.l=a(e),t.opacity=s(e),t+""}}}const $P=WP(hP);var HP=WP(mP);function KP(e){return function t(n){function r(t,r){var i=e((t=aP(t)).h,(r=aP(r)).h),a=mP(t.s,r.s),s=mP(t.l,r.l),o=mP(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=a(e),t.l=s(Math.pow(e,n)),t.opacity=o(e),t+""}}return n=+n,r.gamma=t,r}(1)}const UP=KP(hP);var GP=KP(mP);function qP(e,t){void 0===t&&(t=e,e=PP);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return a[t](e-t)}}function YP(e){return+e}var XP=[0,1];function QP(e){return e}function ZP(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function JP(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=ZP(i,r),a=n(s,a)):(r=ZP(r,i),a=n(a,s)),function(e){return a(r(e))}}function eE(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=ZP(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(t){var n=Ek(e,t,1,r)-1;return a[n](i[n](t))}}function tE(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function nE(){var e,t,n,r,i,a,s=XP,o=XP,l=PP,c=QP;function u(){var e=Math.min(s.length,o.length);return c!==QP&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(s[0],s[e-1])),r=e>2?eE:JP,i=a=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(s.map(e),o,l)))(e(c(t)))}return d.invert=function(n){return c(t((a||(a=r(o,s.map(e),jP)))(n)))},d.domain=function(e){return arguments.length?(s=Array.from(e,YP),u()):s.slice()},d.range=function(e){return arguments.length?(o=Array.from(e),u()):o.slice()},d.rangeRound=function(e){return o=Array.from(e),l=EP,u()},d.clamp=function(e){return arguments.length?(c=!!e||QP,u()):c!==QP},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function rE(){return nE()(QP,QP)}function iE(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function aE(e){return(e=iE(Math.abs(e)))?e[1]:NaN}var sE,oE=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function lE(e){if(!(t=oE.exec(e)))throw new Error("invalid format: "+e);var t;return new cE({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function cE(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function uE(e,t){var n=iE(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}lE.prototype=cE.prototype,cE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const dE={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>uE(100*e,t),r:uE,s:function(e,t){var n=iE(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(sE=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+iE(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function hE(e){return e}var fE,mE,gE,pE=Array.prototype.map,vE=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function yE(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?hE:(t=pE.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(e.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?hE:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(pE.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"−":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=lE(e)).fill,n=e.align,d=e.sign,h=e.symbol,f=e.zero,m=e.width,g=e.comma,p=e.precision,v=e.trim,y=e.type;"n"===y?(g=!0,y="g"):dE[y]||(void 0===p&&(p=12),v=!0,y="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var x="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===h?a:/[%p]/.test(y)?l:"",w=dE[y],_=/[defgprs%]/.test(y);function j(e){var i,a,l,h=x,j=b;if("c"===y)j=w(e)+j,e="";else{var N=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),p),v&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),N&&0===+e&&"+"!==d&&(N=!1),h=(N?"("===d?d:c:"-"===d||"("===d?"":d)+h,j=("s"===y?vE[8+sE/3]:"")+j+(N&&"("===d?")":""),_)for(i=-1,a=e.length;++i<a;)if(48>(l=e.charCodeAt(i))||l>57){j=(46===l?s+e.slice(i+1):e.slice(i))+j,e=e.slice(0,i);break}}g&&!f&&(e=r(e,1/0));var k=h.length+e.length+j.length,S=k<m?new Array(m-k+1).join(t):"";switch(g&&f&&(e=r(S+e,S.length?m-j.length:1/0),S=""),n){case"<":e=h+e+j+S;break;case"=":e=h+S+e+j;break;case"^":e=S.slice(0,k=S.length>>1)+h+e+j+S.slice(k);break;default:e=S+h+e+j}return o(e)}return p=void 0===p?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),j.toString=function(){return e+""},j}return{format:d,formatPrefix:function(e,t){var n=d(((e=lE(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(aE(t)/3))),i=Math.pow(10,-r),a=vE[8+r/3];return function(e){return n(i*e)+a}}}}function xE(e){return fE=yE(e),mE=fE.format,gE=fE.formatPrefix,fE}function bE(e){return Math.max(0,-aE(Math.abs(e)))}function wE(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(aE(t)/3)))-aE(Math.abs(e)))}function _E(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,aE(t)-aE(e))+1}function jE(e,t,n,r){var i,a=yS(e,t,n);switch((r=lE(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=wE(a,s))||(r.precision=i),gE(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=_E(a,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=bE(a))||(r.precision=i-2*("%"===r.type))}return mE(r)}function NE(e){var t=e.domain;return e.ticks=function(e){var n=t();return pS(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return jE(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,a=t(),s=0,o=a.length-1,l=a[s],c=a[o],u=10;for(c<l&&(i=l,l=c,c=i,i=s,s=o,o=i);u-- >0;){if((i=vS(l,c,n))===r)return a[s]=l,a[o]=c,t(a);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function kE(){var e=rE();return e.copy=function(){return tE(e,kE())},$S.apply(e,arguments),NE(e)}function SE(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,YP),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return SE(e).unknown(t)},e=arguments.length?Array.from(e,YP):[0,1],NE(n)}function CE(e,t){var n,r=0,i=(e=e.slice()).length-1,a=e[r],s=e[i];return s<a&&(n=r,r=i,i=n,n=a,a=s,s=n),e[r]=t.floor(a),e[i]=t.ceil(s),e}function PE(e){return Math.log(e)}function EE(e){return Math.exp(e)}function ME(e){return-Math.log(-e)}function OE(e){return-Math.exp(-e)}function AE(e){return isFinite(e)?+("1e"+e):e<0?0:e}function TE(e){return(t,n)=>-e(-t,n)}function RE(e){const t=e(PE,EE),n=t.domain;let r,i,a=10;function s(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(a),i=function(e){return 10===e?AE:e===Math.E?Math.exp:t=>Math.pow(e,t)}(a),n()[0]<0?(r=TE(r),i=TE(i),e(ME,OE)):e(PE,EE),t}return t.base=function(e){return arguments.length?(a=+e,s()):a},t.domain=function(e){return arguments.length?(n(e),s()):n()},t.ticks=e=>{const t=n();let s=t[0],o=t[t.length-1];const l=o<s;l&&([s,o]=[o,s]);let c,u,d=r(s),h=r(o);const f=null==e?10:+e;let m=[];if(!(a%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),s>0){for(;d<=h;++d)for(c=1;c<a;++c)if(u=d<0?c/i(-d):c*i(d),!(u<s)){if(u>o)break;m.push(u)}}else for(;d<=h;++d)for(c=a-1;c>=1;--c)if(u=d>0?c/i(-d):c*i(d),!(u<s)){if(u>o)break;m.push(u)}2*m.length<f&&(m=pS(s,o,f))}else m=pS(d,h,Math.min(h-d,f)).map(i);return l?m.reverse():m},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===a?"s":","),"function"!=typeof n&&(a%1||null!=(n=lE(n)).precision||(n.trim=!0),n=mE(n)),e===1/0)return n;const s=Math.max(1,a*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*a<a-.5&&(t*=a),t<=s?n(e):""}},t.nice=()=>n(CE(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function DE(){const e=RE(nE()).domain([1,10]);return e.copy=()=>tE(e,DE()).base(e.base()),$S.apply(e,arguments),e}function IE(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function LE(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function zE(e){var t=1,n=e(IE(t),LE(t));return n.constant=function(n){return arguments.length?e(IE(t=+n),LE(t)):t},NE(n)}function FE(){var e=zE(nE());return e.copy=function(){return tE(e,FE()).constant(e.constant())},$S.apply(e,arguments)}function BE(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function VE(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function WE(e){return e<0?-e*e:e*e}function $E(e){var t=e(QP,QP),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(QP,QP):.5===n?e(VE,WE):e(BE(n),BE(1/n)):n},NE(t)}function HE(){var e=$E(nE());return e.copy=function(){return tE(e,HE()).exponent(e.exponent())},$S.apply(e,arguments),e}function KE(){return HE.apply(null,arguments).exponent(.5)}function UE(e){return Math.sign(e)*e*e}function GE(){var e,t=rE(),n=[0,1],r=!1;function i(n){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(i)?e:r?Math.round(i):i}return i.invert=function(e){return t.invert(UE(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,YP)).map(UE)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return GE(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},$S.apply(i,arguments),NE(i)}function qE(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=MS(t,e/i);return a}function a(t){return null==t||isNaN(t=+t)?e:n[Ek(r,t)]}return a.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},a.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(jk),i()},a.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return r.slice()},a.copy=function(){return qE().domain(t).range(n).unknown(e)},$S.apply(a,arguments)}function YE(){var e,t=0,n=1,r=1,i=[.5],a=[0,1];function s(t){return null!=t&&t<=t?a[Ek(i,t,0,r)]:e}function o(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return s}return s.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,o()):[t,n]},s.range=function(e){return arguments.length?(r=(a=Array.from(e)).length-1,o()):a.slice()},s.invertExtent=function(e){var s=a.indexOf(e);return s<0?[NaN,NaN]:s<1?[t,i[0]]:s>=r?[i[r-1],n]:[i[s-1],i[s]]},s.unknown=function(t){return arguments.length?(e=t,s):s},s.thresholds=function(){return i.slice()},s.copy=function(){return YE().domain([t,n]).range(a).unknown(e)},$S.apply(NE(s),arguments)}function XE(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[Ek(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return XE().domain(t).range(n).unknown(e)},$S.apply(i,arguments)}xE({thousands:",",grouping:[3],currency:["$",""]});const QE=new Date,ZE=new Date;function JE(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,a)=>{const s=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r&&a>0))return s;let o;do{s.push(o=new Date(+n)),t(n,a),e(n)}while(o<n&&n<r);return s},i.filter=n=>JE(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(i.count=(t,r)=>(QE.setTime(+t),ZE.setTime(+r),e(QE),e(ZE),Math.floor(n(QE,ZE))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const eM=JE(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);eM.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?JE(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):eM:null);const tM=eM.range,nM=1e3,rM=6e4,iM=36e5,aM=864e5,sM=6048e5,oM=2592e6,lM=31536e6,cM=JE(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*nM)},(e,t)=>(t-e)/nM,e=>e.getUTCSeconds()),uM=cM.range,dM=JE(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*nM)},(e,t)=>{e.setTime(+e+t*rM)},(e,t)=>(t-e)/rM,e=>e.getMinutes()),hM=dM.range,fM=JE(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*rM)},(e,t)=>(t-e)/rM,e=>e.getUTCMinutes()),mM=fM.range,gM=JE(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*nM-e.getMinutes()*rM)},(e,t)=>{e.setTime(+e+t*iM)},(e,t)=>(t-e)/iM,e=>e.getHours()),pM=gM.range,vM=JE(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*iM)},(e,t)=>(t-e)/iM,e=>e.getUTCHours()),yM=vM.range,xM=JE(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*rM)/aM,e=>e.getDate()-1),bM=xM.range,wM=JE(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/aM,e=>e.getUTCDate()-1),_M=wM.range,jM=JE(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/aM,e=>Math.floor(e/aM)),NM=jM.range;function kM(e){return JE(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*rM)/sM)}const SM=kM(0),CM=kM(1),PM=kM(2),EM=kM(3),MM=kM(4),OM=kM(5),AM=kM(6),TM=SM.range,RM=CM.range,DM=PM.range,IM=EM.range,LM=MM.range,zM=OM.range,FM=AM.range;function BM(e){return JE(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/sM)}const VM=BM(0),WM=BM(1),$M=BM(2),HM=BM(3),KM=BM(4),UM=BM(5),GM=BM(6),qM=VM.range,YM=WM.range,XM=$M.range,QM=HM.range,ZM=KM.range,JM=UM.range,eO=GM.range,tO=JE(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth()),nO=tO.range,rO=JE(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth()),iO=rO.range,aO=JE(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());aO.every=e=>isFinite(e=Math.floor(e))&&e>0?JE(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null;const sO=aO.range,oO=JE(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());oO.every=e=>isFinite(e=Math.floor(e))&&e>0?JE(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null;const lO=oO.range;function cO(e,t,n,r,i,a){const s=[[cM,1,nM],[cM,5,5e3],[cM,15,15e3],[cM,30,3e4],[a,1,rM],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,iM],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,aM],[r,2,1728e5],[n,1,sM],[t,1,oM],[t,3,7776e6],[e,1,lM]];function o(t,n,r){const i=Math.abs(n-t)/r,a=kk(([,,e])=>e).right(s,i);if(a===s.length)return e.every(yS(t/lM,n/lM,r));if(0===a)return eM.every(Math.max(yS(t,n,r),1));const[o,l]=s[i/s[a-1][2]<s[a][2]/i?a-1:a];return o.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"==typeof n.range?n:o(e,t,n),a=i?i.range(e,+t+1):[];return r?a.reverse():a},o]}const[uO,dO]=cO(oO,rO,VM,jM,vM,fM),[hO,fO]=cO(aO,tO,SM,xM,gM,dM);function mO(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function gO(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function pO(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function vO(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=EO(i),u=MO(i),d=EO(a),h=MO(a),f=EO(s),m=MO(s),g=EO(o),p=MO(o),v=EO(l),y=MO(l),x={a:function(e){return s[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return o[e.getMonth()]},c:null,d:QO,e:QO,f:nA,g:fA,G:gA,H:ZO,I:JO,j:eA,L:tA,m:rA,M:iA,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:zA,s:FA,S:aA,u:sA,U:oA,V:cA,w:uA,W:dA,x:null,X:null,y:hA,Y:mA,Z:pA,"%":LA},b={a:function(e){return s[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return o[e.getUTCMonth()]},c:null,d:vA,e:vA,f:_A,g:TA,G:DA,H:yA,I:xA,j:bA,L:wA,m:jA,M:NA,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:zA,s:FA,S:kA,u:SA,U:CA,V:EA,w:MA,W:OA,x:null,X:null,y:AA,Y:RA,Z:IA,"%":LA},w={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=m.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=p.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return N(e,t,n,r)},d:VO,e:VO,f:GO,g:LO,G:IO,H:$O,I:$O,j:WO,L:UO,m:BO,M:HO,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:FO,Q:YO,s:XO,S:KO,u:AO,U:TO,V:RO,w:OO,W:DO,x:function(e,t,r){return N(e,n,t,r)},X:function(e,t,n){return N(e,r,t,n)},y:LO,Y:IO,Z:zO,"%":qO};function _(e,t){return function(n){var r,i,a,s=[],o=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++o<c;)37===e.charCodeAt(o)&&(s.push(e.slice(l,o)),null!=(i=jO[r=e.charAt(++o)])?r=e.charAt(++o):i="e"===r?" ":"0",(a=t[r])&&(r=a(n,i)),s.push(r),l=o+1);return s.push(e.slice(l,o)),s.join("")}}function j(e,t){return function(n){var r,i,a=pO(1900,void 0,1);if(N(a,e,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=gO(pO(a.y,0,1))).getUTCDay(),r=i>4||0===i?WM.ceil(r):WM(r),r=wM.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=mO(pO(a.y,0,1))).getDay(),r=i>4||0===i?CM.ceil(r):CM(r),r=xM.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?gO(pO(a.y,0,1)).getUTCDay():mO(pO(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,gO(a)):mO(a)}}function N(e,t,n,r){for(var i,a,s=0,o=t.length,l=n.length;s<o;){if(r>=l)return-1;if(37===(i=t.charCodeAt(s++))){if(i=t.charAt(s++),!(a=w[i in jO?t.charAt(s++):i])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return x.x=_(n,x),x.X=_(r,x),x.c=_(t,x),b.x=_(n,b),b.X=_(r,b),b.c=_(t,b),{format:function(e){var t=_(e+="",x);return t.toString=function(){return e},t},parse:function(e){var t=j(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=_(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=j(e+="",!0);return t.toString=function(){return e},t}}}var yO,xO,bO,wO,_O,jO={"-":"",_:" ",0:"0"},NO=/^\s*\d+/,kO=/^%/,SO=/[\\^$*+?|[\]().{}]/g;function CO(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function PO(e){return e.replace(SO,"\\$&")}function EO(e){return new RegExp("^(?:"+e.map(PO).join("|")+")","i")}function MO(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function OO(e,t,n){var r=NO.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function AO(e,t,n){var r=NO.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function TO(e,t,n){var r=NO.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function RO(e,t,n){var r=NO.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function DO(e,t,n){var r=NO.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function IO(e,t,n){var r=NO.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function LO(e,t,n){var r=NO.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function zO(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function FO(e,t,n){var r=NO.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function BO(e,t,n){var r=NO.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function VO(e,t,n){var r=NO.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function WO(e,t,n){var r=NO.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function $O(e,t,n){var r=NO.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function HO(e,t,n){var r=NO.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function KO(e,t,n){var r=NO.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function UO(e,t,n){var r=NO.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function GO(e,t,n){var r=NO.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function qO(e,t,n){var r=kO.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function YO(e,t,n){var r=NO.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function XO(e,t,n){var r=NO.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function QO(e,t){return CO(e.getDate(),t,2)}function ZO(e,t){return CO(e.getHours(),t,2)}function JO(e,t){return CO(e.getHours()%12||12,t,2)}function eA(e,t){return CO(1+xM.count(aO(e),e),t,3)}function tA(e,t){return CO(e.getMilliseconds(),t,3)}function nA(e,t){return tA(e,t)+"000"}function rA(e,t){return CO(e.getMonth()+1,t,2)}function iA(e,t){return CO(e.getMinutes(),t,2)}function aA(e,t){return CO(e.getSeconds(),t,2)}function sA(e){var t=e.getDay();return 0===t?7:t}function oA(e,t){return CO(SM.count(aO(e)-1,e),t,2)}function lA(e){var t=e.getDay();return t>=4||0===t?MM(e):MM.ceil(e)}function cA(e,t){return e=lA(e),CO(MM.count(aO(e),e)+(4===aO(e).getDay()),t,2)}function uA(e){return e.getDay()}function dA(e,t){return CO(CM.count(aO(e)-1,e),t,2)}function hA(e,t){return CO(e.getFullYear()%100,t,2)}function fA(e,t){return CO((e=lA(e)).getFullYear()%100,t,2)}function mA(e,t){return CO(e.getFullYear()%1e4,t,4)}function gA(e,t){var n=e.getDay();return CO((e=n>=4||0===n?MM(e):MM.ceil(e)).getFullYear()%1e4,t,4)}function pA(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+CO(t/60|0,"0",2)+CO(t%60,"0",2)}function vA(e,t){return CO(e.getUTCDate(),t,2)}function yA(e,t){return CO(e.getUTCHours(),t,2)}function xA(e,t){return CO(e.getUTCHours()%12||12,t,2)}function bA(e,t){return CO(1+wM.count(oO(e),e),t,3)}function wA(e,t){return CO(e.getUTCMilliseconds(),t,3)}function _A(e,t){return wA(e,t)+"000"}function jA(e,t){return CO(e.getUTCMonth()+1,t,2)}function NA(e,t){return CO(e.getUTCMinutes(),t,2)}function kA(e,t){return CO(e.getUTCSeconds(),t,2)}function SA(e){var t=e.getUTCDay();return 0===t?7:t}function CA(e,t){return CO(VM.count(oO(e)-1,e),t,2)}function PA(e){var t=e.getUTCDay();return t>=4||0===t?KM(e):KM.ceil(e)}function EA(e,t){return e=PA(e),CO(KM.count(oO(e),e)+(4===oO(e).getUTCDay()),t,2)}function MA(e){return e.getUTCDay()}function OA(e,t){return CO(WM.count(oO(e)-1,e),t,2)}function AA(e,t){return CO(e.getUTCFullYear()%100,t,2)}function TA(e,t){return CO((e=PA(e)).getUTCFullYear()%100,t,2)}function RA(e,t){return CO(e.getUTCFullYear()%1e4,t,4)}function DA(e,t){var n=e.getUTCDay();return CO((e=n>=4||0===n?KM(e):KM.ceil(e)).getUTCFullYear()%1e4,t,4)}function IA(){return"+0000"}function LA(){return"%"}function zA(e){return+e}function FA(e){return Math.floor(+e/1e3)}function BA(e){return yO=vO(e),xO=yO.format,bO=yO.parse,wO=yO.utcFormat,_O=yO.utcParse,yO}BA({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var VA="%Y-%m-%dT%H:%M:%S.%LZ",WA=Date.prototype.toISOString?function(e){return e.toISOString()}:wO(VA),$A=+new Date("2000-01-01T00:00:00.000Z")?function(e){var t=new Date(e);return isNaN(t)?null:t}:_O(VA);function HA(e){return new Date(e)}function KA(e){return e instanceof Date?+e:+new Date(+e)}function UA(e,t,n,r,i,a,s,o,l,c){var u=rE(),d=u.invert,h=u.domain,f=c(".%L"),m=c(":%S"),g=c("%I:%M"),p=c("%I %p"),v=c("%a %d"),y=c("%b %d"),x=c("%B"),b=c("%Y");function w(e){return(l(e)<e?f:o(e)<e?m:s(e)<e?g:a(e)<e?p:r(e)<e?i(e)<e?v:y:n(e)<e?x:b)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,KA)):h().map(HA)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var n=h();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(CE(n,e)):u},u.copy=function(){return tE(u,UA(e,t,n,r,i,a,s,o,l,c))},u}function GA(){return $S.apply(UA(hO,fO,aO,tO,SM,xM,gM,dM,cM,xO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function qA(){return $S.apply(UA(uO,dO,oO,rO,VM,wM,vM,fM,cM,wO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function YA(){var e,t,n,r,i,a=0,s=1,o=QP,l=!1;function c(t){return null==t||isNaN(t=+t)?i:o(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,o=e(n,r),c):[o(0),o(1)]}}return c.domain=function(i){return arguments.length?([a,s]=i,e=r(a=+a),t=r(s=+s),n=e===t?0:1/(t-e),c):[a,s]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(o=e,c):o},c.range=u(PP),c.rangeRound=u(EP),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(a),t=i(s),n=e===t?0:1/(t-e),c}}function XA(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function QA(){var e=NE(YA()(QP));return e.copy=function(){return XA(e,QA())},HS.apply(e,arguments)}function ZA(){var e=RE(YA()).domain([1,10]);return e.copy=function(){return XA(e,ZA()).base(e.base())},HS.apply(e,arguments)}function JA(){var e=zE(YA());return e.copy=function(){return XA(e,JA()).constant(e.constant())},HS.apply(e,arguments)}function eT(){var e=$E(YA());return e.copy=function(){return XA(e,eT()).exponent(e.exponent())},HS.apply(e,arguments)}function tT(){return eT.apply(null,arguments).exponent(.5)}function nT(){var e=[],t=QP;function n(n){if(null!=n&&!isNaN(n=+n))return t((Ek(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(jk),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((n,r)=>t(r/(e.length-1)))},n.quantiles=function(t){return Array.from({length:t+1},(n,r)=>ES(e,r/t))},n.copy=function(){return nT(t).domain(e)},HS.apply(n,arguments)}function rT(){var e,t,n,r,i,a,s,o=0,l=.5,c=1,u=1,d=QP,h=!1;function f(e){return isNaN(e=+e)?s:(e=.5+((e=+a(e))-t)*(u*e<u*t?r:i),d(h?Math.max(0,Math.min(1,e)):e))}function m(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,d=qP(e,[n,r,i]),f):[d(0),d(.5),d(1)]}}return f.domain=function(s){return arguments.length?([o,l,c]=s,e=a(o=+o),t=a(l=+l),n=a(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f):[o,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=m(PP),f.rangeRound=m(EP),f.unknown=function(e){return arguments.length?(s=e,f):s},function(s){return a=s,e=s(o),t=s(l),n=s(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f}}function iT(){var e=NE(rT()(QP));return e.copy=function(){return XA(e,iT())},HS.apply(e,arguments)}function aT(){var e=RE(rT()).domain([.1,1,10]);return e.copy=function(){return XA(e,aT()).base(e.base())},HS.apply(e,arguments)}function sT(){var e=zE(rT());return e.copy=function(){return XA(e,sT()).constant(e.constant())},HS.apply(e,arguments)}function oT(){var e=$E(rT());return e.copy=function(){return XA(e,oT()).exponent(e.exponent())},HS.apply(e,arguments)}function lT(){return oT.apply(null,arguments).exponent(.5)}const cT=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:GS,scaleDiverging:iT,scaleDivergingLog:aT,scaleDivergingPow:oT,scaleDivergingSqrt:lT,scaleDivergingSymlog:sT,scaleIdentity:SE,scaleImplicit:KS,scaleLinear:kE,scaleLog:DE,scaleOrdinal:US,scalePoint:YS,scalePow:HE,scaleQuantile:qE,scaleQuantize:YE,scaleRadial:GE,scaleSequential:QA,scaleSequentialLog:ZA,scaleSequentialPow:eT,scaleSequentialQuantile:nT,scaleSequentialSqrt:tT,scaleSequentialSymlog:JA,scaleSqrt:KE,scaleSymlog:FE,scaleThreshold:XE,scaleTime:GA,scaleUtc:qA,tickFormat:jE},Symbol.toStringTag,{value:"Module"}));var uT=e=>e.chartData,dT=Tx([uT],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),hT=(e,t,n,r)=>r?dT(e):uT(e);function fT(e){if(Array.isArray(e)&&2===e.length){var[t,n]=e;if(Hj(t)&&Hj(n))return!0}return!1}function mT(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}var gT,pT=1e9,vT=!0,yT="[DecimalError] ",xT=yT+"Invalid argument: ",bT=yT+"Exponent out of range: ",wT=Math.floor,_T=Math.pow,jT=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,NT=1e7,kT=9007199254740991,ST=wT(1286742750677284.5),CT={};function PT(e,t){var n,r,i,a,s,o,l,c,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),vT?zT(t,d):t;if(l=e.d,c=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i){for(a<0?(r=l,a=-a,o=c.length):(r=c,i=s,o=l.length),a>(o=(s=Math.ceil(d/7))>o?s+1:o+1)&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for((o=l.length)-(a=c.length)<0&&(a=o,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/NT|0,l[a]%=NT;for(n&&(l.unshift(n),++i),o=l.length;0==l[--o];)l.pop();return t.d=l,t.e=i,vT?zT(t,d):t}function ET(e,t,n){if(e!==~~e||e<t||e>n)throw Error(xT+e)}function MT(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(a+=DT(n)),a+=r;(n=7-(r=(s=e[t])+"").length)&&(a+=DT(n))}else if(0===s)return"0";for(;s%10==0;)s/=10;return a+s}CT.absoluteValue=CT.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},CT.comparedTo=CT.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(t=0,n=(r=a.d.length)<(i=e.d.length)?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1},CT.decimalPlaces=CT.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},CT.dividedBy=CT.div=function(e){return OT(this,new this.constructor(e))},CT.dividedToIntegerBy=CT.idiv=function(e){var t=this.constructor;return zT(OT(this,new t(e),0,1),t.precision)},CT.equals=CT.eq=function(e){return!this.cmp(e)},CT.exponent=function(){return TT(this)},CT.greaterThan=CT.gt=function(e){return this.cmp(e)>0},CT.greaterThanOrEqualTo=CT.gte=function(e){return this.cmp(e)>=0},CT.isInteger=CT.isint=function(){return this.e>this.d.length-2},CT.isNegative=CT.isneg=function(){return this.s<0},CT.isPositive=CT.ispos=function(){return this.s>0},CT.isZero=function(){return 0===this.s},CT.lessThan=CT.lt=function(e){return this.cmp(e)<0},CT.lessThanOrEqualTo=CT.lte=function(e){return this.cmp(e)<1},CT.logarithm=CT.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(gT))throw Error(yT+"NaN");if(n.s<1)throw Error(yT+(n.s?"NaN":"-Infinity"));return n.eq(gT)?new r(0):(vT=!1,t=OT(IT(n,a),IT(e,a),a),vT=!0,zT(t,i))},CT.minus=CT.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?FT(t,e):PT(t,(e.s=-e.s,e))},CT.modulo=CT.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(yT+"NaN");return n.s?(vT=!1,t=OT(n,e,0,1).times(e),vT=!0,n.minus(t)):zT(new r(n),i)},CT.naturalExponential=CT.exp=function(){return AT(this)},CT.naturalLogarithm=CT.ln=function(){return IT(this)},CT.negated=CT.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},CT.plus=CT.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?PT(t,e):FT(t,(e.s=-e.s,e))},CT.precision=CT.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(xT+e);if(t=TT(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},CT.squareRoot=CT.sqrt=function(){var e,t,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(yT+"NaN")}for(e=TT(o),vT=!1,0==(i=Math.sqrt(+o))||i==1/0?(((t=MT(o.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=wT((e+1)/2)-(e<0||e%2),r=new l(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new l(i.toString()),i=s=(n=l.precision)+3;;)if(r=(a=r).plus(OT(o,a,s+2)).times(.5),MT(a.d).slice(0,s)===(t=MT(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&"4999"==t){if(zT(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if("9999"!=t)break;s+=4}return vT=!0,zT(r,n)},CT.times=CT.mul=function(e){var t,n,r,i,a,s,o,l,c,u=this,d=u.constructor,h=u.d,f=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,n=u.e+e.e,(l=h.length)<(c=f.length)&&(a=h,h=f,f=a,s=l,l=c,c=s),a=[],r=s=l+c;r--;)a.push(0);for(r=c;--r>=0;){for(t=0,i=l+r;i>r;)o=a[i]+f[r]*h[i-r-1]+t,a[i--]=o%NT|0,t=o/NT|0;a[i]=(a[i]+t)%NT|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,vT?zT(e,d.precision):e},CT.toDecimalPlaces=CT.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(ET(e,0,pT),void 0===t?t=r.rounding:ET(t,0,8),zT(n,e+TT(n)+1,t))},CT.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=BT(r,!0):(ET(e,0,pT),void 0===t?t=i.rounding:ET(t,0,8),n=BT(r=zT(new i(r),e+1,t),!0,e+1)),n},CT.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?BT(i):(ET(e,0,pT),void 0===t?t=a.rounding:ET(t,0,8),n=BT((r=zT(new a(i),e+TT(i)+1,t)).abs(),!1,e+TT(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},CT.toInteger=CT.toint=function(){var e=this,t=e.constructor;return zT(new t(e),TT(e)+1,t.rounding)},CT.toNumber=function(){return+this},CT.toPower=CT.pow=function(e){var t,n,r,i,a,s,o=this,l=o.constructor,c=+(e=new l(e));if(!e.s)return new l(gT);if(!(o=new l(o)).s){if(e.s<1)throw Error(yT+"Infinity");return o}if(o.eq(gT))return o;if(r=l.precision,e.eq(gT))return zT(o,r);if(s=(t=e.e)>=(n=e.d.length-1),a=o.s,s){if((n=c<0?-c:c)<=kT){for(i=new l(gT),t=Math.ceil(r/7+4),vT=!1;n%2&&VT((i=i.times(o)).d,t),0!==(n=wT(n/2));)VT((o=o.times(o)).d,t);return vT=!0,e.s<0?new l(gT).div(i):zT(i,r)}}else if(a<0)throw Error(yT+"NaN");return a=a<0&&1&e.d[Math.max(t,n)]?-1:1,o.s=1,vT=!1,i=e.times(IT(o,r+12)),vT=!0,(i=AT(i)).s=a,i},CT.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?r=BT(i,(n=TT(i))<=a.toExpNeg||n>=a.toExpPos):(ET(e,1,pT),void 0===t?t=a.rounding:ET(t,0,8),r=BT(i=zT(new a(i),e,t),e<=(n=TT(i))||n<=a.toExpNeg,e)),r},CT.toSignificantDigits=CT.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(ET(e,1,pT),void 0===t?t=n.rounding:ET(t,0,8)),zT(new n(this),e,t)},CT.toString=CT.valueOf=CT.val=CT.toJSON=CT[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=TT(e),n=e.constructor;return BT(e,t<=n.toExpNeg||t>=n.toExpPos)};var OT=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%NT|0,r=n/NT|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,a;if(n!=r)a=n>r?1:-1;else for(i=a=0;i<n;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*NT+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,a,s){var o,l,c,u,d,h,f,m,g,p,v,y,x,b,w,_,j,N,k=r.constructor,S=r.s==i.s?1:-1,C=r.d,P=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(yT+"Division by zero");for(l=r.e-i.e,j=P.length,w=C.length,m=(f=new k(S)).d=[],c=0;P[c]==(C[c]||0);)++c;if(P[c]>(C[c]||0)&&--l,(y=null==a?a=k.precision:s?a+(TT(r)-TT(i))+1:a)<0)return new k(0);if(y=y/7+2|0,c=0,1==j)for(u=0,P=P[0],y++;(c<w||u)&&y--;c++)x=u*NT+(C[c]||0),m[c]=x/P|0,u=x%P|0;else{for((u=NT/(P[0]+1)|0)>1&&(P=e(P,u),C=e(C,u),j=P.length,w=C.length),b=j,p=(g=C.slice(0,j)).length;p<j;)g[p++]=0;(N=P.slice()).unshift(0),_=P[0],P[1]>=NT/2&&++_;do{u=0,(o=t(P,g,j,p))<0?(v=g[0],j!=p&&(v=v*NT+(g[1]||0)),(u=v/_|0)>1?(u>=NT&&(u=NT-1),1==(o=t(d=e(P,u),g,h=d.length,p=g.length))&&(u--,n(d,j<h?N:P,h))):(0==u&&(o=u=1),d=P.slice()),(h=d.length)<p&&d.unshift(0),n(g,d,p),-1==o&&(o=t(P,g,j,p=g.length))<1&&(u++,n(g,j<p?N:P,p)),p=g.length):0===o&&(u++,g=[0]),m[c++]=u,o&&g[0]?g[p++]=C[b]||0:(g=[C[b]],p=1)}while((b++<w||void 0!==g[0])&&y--)}return m[0]||m.shift(),f.e=l,zT(f,s?a+TT(f)+1:a)}}();function AT(e,t){var n,r,i,a,s,o=0,l=0,c=e.constructor,u=c.precision;if(TT(e)>16)throw Error(bT+TT(e));if(!e.s)return new c(gT);for(vT=!1,s=u,a=new c(.03125);e.abs().gte(.1);)e=e.times(a),l+=5;for(s+=Math.log(_T(2,l))/Math.LN10*2+5|0,n=r=i=new c(gT),c.precision=s;;){if(r=zT(r.times(e),s),n=n.times(++o),MT((a=i.plus(OT(r,n,s))).d).slice(0,s)===MT(i.d).slice(0,s)){for(;l--;)i=zT(i.times(i),s);return c.precision=u,null==t?(vT=!0,zT(i,u)):i}i=a}}function TT(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function RT(e,t,n){if(t>e.LN10.sd())throw vT=!0,n&&(e.precision=n),Error(yT+"LN10 precision limit exceeded");return zT(new e(e.LN10),t)}function DT(e){for(var t="";e--;)t+="0";return t}function IT(e,t){var n,r,i,a,s,o,l,c,u,d=1,h=e,f=h.d,m=h.constructor,g=m.precision;if(h.s<1)throw Error(yT+(h.s?"NaN":"-Infinity"));if(h.eq(gT))return new m(0);if(null==t?(vT=!1,c=g):c=t,h.eq(10))return null==t&&(vT=!0),RT(m,c);if(c+=10,m.precision=c,r=(n=MT(f)).charAt(0),a=TT(h),!(Math.abs(a)<15e14))return l=RT(m,c+2,g).times(a+""),h=IT(new m(r+"."+n.slice(1)),c-10).plus(l),m.precision=g,null==t?(vT=!0,zT(h,g)):h;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=MT((h=h.times(e)).d)).charAt(0),d++;for(a=TT(h),r>1?(h=new m("0."+n),a++):h=new m(r+"."+n.slice(1)),o=s=h=OT(h.minus(gT),h.plus(gT),c),u=zT(h.times(h),c),i=3;;){if(s=zT(s.times(u),c),MT((l=o.plus(OT(s,new m(i),c))).d).slice(0,c)===MT(o.d).slice(0,c))return o=o.times(2),0!==a&&(o=o.plus(RT(m,c+2,g).times(a+""))),o=OT(o,new m(d),c),m.precision=g,null==t?(vT=!0,zT(o,g)):o;o=l,i+=2}}function LT(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=wT(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),vT&&(e.e>ST||e.e<-ST))throw Error(bT+n)}else e.s=0,e.e=0,e.d=[0];return e}function zT(e,t,n){var r,i,a,s,o,l,c,u,d=e.d;for(s=1,a=d[0];a>=10;a/=10)s++;if((r=t-s)<0)r+=7,i=t,c=d[u=0];else{if((u=Math.ceil((r+1)/7))>=(a=d.length))return e;for(c=a=d[u],s=1;a>=10;a/=10)s++;i=(r%=7)-7+s}if(void 0!==n&&(o=c/(a=_T(10,s-i-1))%10|0,l=t<0||void 0!==d[u+1]||c%a,l=n<4?(o||l)&&(0==n||n==(e.s<0?3:2)):o>5||5==o&&(4==n||l||6==n&&(r>0?i>0?c/_T(10,s-i):0:d[u-1])%10&1||n==(e.s<0?8:7))),t<1||!d[0])return l?(a=TT(e),d.length=1,t=t-a-1,d[0]=_T(10,(7-t%7)%7),e.e=wT(-t/7)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(0==r?(d.length=u,a=1,u--):(d.length=u+1,a=_T(10,7-r),d[u]=i>0?(c/_T(10,s-i)%_T(10,i)|0)*a:0),l)for(;;){if(0==u){(d[0]+=a)==NT&&(d[0]=1,++e.e);break}if(d[u]+=a,d[u]!=NT)break;d[u--]=0,a=1}for(r=d.length;0===d[--r];)d.pop();if(vT&&(e.e>ST||e.e<-ST))throw Error(bT+TT(e));return e}function FT(e,t){var n,r,i,a,s,o,l,c,u,d,h=e.constructor,f=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),vT?zT(t,f):t;if(l=e.d,d=t.d,r=t.e,c=e.e,l=l.slice(),s=c-r){for((u=s<0)?(n=l,s=-s,o=d.length):(n=d,r=c,o=l.length),s>(i=Math.max(Math.ceil(f/7),o)+2)&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for((u=(i=l.length)<(o=d.length))&&(o=i),i=0;i<o;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}s=0}for(u&&(n=l,l=d,d=n,t.s=-t.s),o=l.length,i=d.length-o;i>0;--i)l[o++]=0;for(i=d.length;i>s;){if(l[--i]<d[i]){for(a=i;a&&0===l[--a];)l[a]=NT-1;--l[a],l[i]+=NT}l[i]-=d[i]}for(;0===l[--o];)l.pop();for(;0===l[0];l.shift())--r;return l[0]?(t.d=l,t.e=r,vT?zT(t,f):t):new h(0)}function BT(e,t,n){var r,i=TT(e),a=MT(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+DT(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+DT(-i-1)+a,n&&(r=n-s)>0&&(a+=DT(r))):i>=s?(a+=DT(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+DT(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=DT(r))),e.s<0?"-"+a:a}function VT(e,t){if(e.length>t)return e.length=t,!0}function WT(e){if(!e||"object"!=typeof e)throw Error(yT+"Object expected");var t,n,r,i=["precision",1,pT,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(wT(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(xT+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(xT+n+": "+r);this[n]=new this(r)}return this}var $T=function e(t){var n,r,i;function a(e){var t=this;if(!(t instanceof a))return new a(e);if(t.constructor=a,e instanceof a)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(xT+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):LT(t,e.toString())}if("string"!=typeof e)throw Error(xT+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!jT.test(e))throw Error(xT+e);LT(t,e)}if(a.prototype=CT,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e,a.config=a.set=WT,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return a.config(t),a}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});gT=new $T(1);const HT=$T;var KT=e=>e,UT={},GT=e=>e===UT,qT=e=>function t(){return 0===arguments.length||1===arguments.length&&GT(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},YT=(e,t)=>1===e?t:qT(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(e=>e!==UT).length;return a>=e?t(...r):YT(e-a,qT(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var a=r.map(e=>GT(e)?n.shift():e);return t(...a,...n)}))}),XT=e=>YT(e.length,e),QT=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},ZT=XT((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)),JT=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),eR=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t&&i.every((e,n)=>{var r;return e===(null===(r=t)||void 0===r?void 0:r[n])})?n:(t=i,n=e(...i))}};function tR(e){return 0===e?1:Math.floor(new HT(e).abs().log(10).toNumber())+1}function nR(e,t,n){for(var r=new HT(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}XT((e,t,n)=>{var r=+e;return r+n*(+t-r)}),XT((e,t,n)=>{var r=t-+e;return(n-e)/(r=r||1/0)}),XT((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var rR=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},iR=(e,t,n)=>{if(e.lte(0))return new HT(0);var r=tR(e.toNumber()),i=new HT(10).pow(r),a=e.div(i),s=1!==r?.05:.1,o=new HT(Math.ceil(a.div(s).toNumber())).add(n).mul(s).mul(i);return new HT(t?o.toNumber():Math.ceil(o.toNumber()))},aR=(e,t,n)=>{var r=new HT(1),i=new HT(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new HT(10).pow(tR(e)-1),i=new HT(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new HT(Math.floor(e)))}else 0===e?i=new HT(Math.floor((t-1)/2)):n||(i=new HT(Math.floor(e)));var s=Math.floor((t-1)/2),o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return KT;var r=t.reverse(),i=r[0],a=r.slice(1);return function(){return a.reduce((e,t)=>t(e),i(...arguments))}}(ZT(e=>i.add(new HT(e-s).mul(r)).toNumber()),QT);return o(0,t)},sR=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new HT(0),tickMin:new HT(0),tickMax:new HT(0)};var a,s=iR(new HT(t).sub(e).div(n-1),r,i);a=e<=0&&t>=0?new HT(0):(a=new HT(e).add(t).div(2)).sub(new HT(a).mod(s));var o=Math.ceil(a.sub(e).div(s).toNumber()),l=Math.ceil(new HT(t).sub(a).div(s).toNumber()),c=o+l+1;return c>n?sR(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,o=t>0?o:o+(n-c)),{step:s,tickMin:a.sub(new HT(o).mul(s)),tickMax:a.add(new HT(l).mul(s))})},oR=eR(function(e){var[t,n]=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(r,2),[s,o]=rR([t,n]);if(s===-1/0||o===1/0){var l=o===1/0?[s,...QT(0,r-1).map(()=>1/0)]:[...QT(0,r-1).map(()=>-1/0),o];return t>n?JT(l):l}if(s===o)return aR(s,r,i);var{step:c,tickMin:u,tickMax:d}=sR(s,o,a,i,0),h=nR(u,d.add(new HT(.1).mul(c)),c);return t>n?JT(h):h}),lR=eR(function(e,t){var[n,r]=e,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],[a,s]=rR([n,r]);if(a===-1/0||s===1/0)return[n,r];if(a===s)return[a];var o=Math.max(t,2),l=iR(new HT(s).sub(a).div(o-1),i,0),c=[...nR(new HT(a),new HT(s).sub(new HT(.99).mul(l)),l),s];return n>r?JT(c):c}),cR=e=>e.rootProps.maxBarSize,uR=e=>e.rootProps.barCategoryGap,dR=e=>e.rootProps.stackOffset,hR=e=>e.options.chartName,fR=e=>e.rootProps.syncId,mR=e=>e.rootProps.syncMethod,gR=e=>e.options.eventEmitter,pR=0,vR="auto",yR=!0,xR=!1,bR=!0,wR=0,_R="auto",jR=!0,NR=5,kR=(e,t)=>{if(e&&t)return null!=e&&e.reversed?[t[1],t[0]]:t},SR={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:pR,includeHidden:!1,name:void 0,reversed:!1,scale:vR,tick:yR,tickCount:void 0,ticks:void 0,type:"category",unit:void 0},CR={allowDataOverflow:xR,allowDecimals:!1,allowDuplicatedCategory:bR,dataKey:void 0,domain:void 0,id:wR,includeHidden:!1,name:void 0,reversed:!1,scale:_R,tick:jR,tickCount:NR,ticks:void 0,type:"number",unit:void 0},PR={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:pR,includeHidden:!1,name:void 0,reversed:!1,scale:vR,tick:yR,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},ER={allowDataOverflow:xR,allowDecimals:!1,allowDuplicatedCategory:bR,dataKey:void 0,domain:void 0,id:wR,includeHidden:!1,name:void 0,reversed:!1,scale:_R,tick:jR,tickCount:NR,ticks:void 0,type:"category",unit:void 0},MR=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?PR:SR,OR=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?ER:CR,AR=e=>e.polarOptions,TR=Tx([F_,B_,X_],p_),RR=Tx([AR,TR],(e,t)=>{if(null!=e)return bm(e.innerRadius,t,0)}),DR=Tx([AR,TR],(e,t)=>{if(null!=e)return bm(e.outerRadius,t,.8*t)}),IR=Tx([AR],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]});Tx([MR,IR],kR);var LR=Tx([TR,RR,DR],(e,t,n)=>{if(null!=e&&null!=t&&null!=n)return[t,n]});Tx([OR,LR],kR);var zR=Tx([cj,AR,RR,DR,F_,B_],(e,t,n,r,i,a)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=n&&null!=r){var{cx:s,cy:o,startAngle:l,endAngle:c}=t;return{cx:bm(s,i,i/2),cy:bm(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),FR=(e,t)=>t,BR=(e,t,n)=>n;function VR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function WR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VR(Object(n),!0).forEach(function(t){$R(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $R(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var HR=[0,"auto"],KR={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},UR=(e,t)=>{var n=e.cartesianAxis.xAxis[t];return null==n?KR:n},GR={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:HR,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},qR=(e,t)=>{var n=e.cartesianAxis.yAxis[t];return null==n?GR:n},YR={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},XR=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return null==n?YR:n},QR=(e,t,n)=>{switch(t){case"xAxis":return UR(e,n);case"yAxis":return qR(e,n);case"zAxis":return XR(e,n);case"angleAxis":return MR(e,n);case"radiusAxis":return OR(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},ZR=(e,t,n)=>{switch(t){case"xAxis":return UR(e,n);case"yAxis":return qR(e,n);case"angleAxis":return MR(e,n);case"radiusAxis":return OR(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},JR=e=>e.graphicalItems.countOfBars>0;function eD(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var tD=e=>e.graphicalItems.cartesianItems,nD=Tx([FR,BR],eD),rD=(e,t,n)=>e.filter(n).filter(e=>!0===(null==t?void 0:t.includeHidden)||!e.hide),iD=Tx([tD,QR,nD],rD),aD=e=>e.filter(e=>void 0===e.stackId),sD=Tx([iD],aD),oD=e=>e.map(e=>e.data).filter(Boolean).flat(1),lD=Tx([iD],oD),cD=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},uD=Tx([lD,hT],cD),dD=(e,t,n)=>null!=(null==t?void 0:t.dataKey)?e.map(e=>({value:j_(e,t.dataKey)})):n.length>0?n.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:j_(e,t)}))):e.map(e=>({value:e})),hD=Tx([uD,QR,iD],dD);function fD(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function mD(e){return e.filter(e=>vm(e)||e instanceof Date).map(Number).filter(e=>!1===mm(e))}function gD(e,t,n){return!n||"number"!=typeof t||mm(t)?[]:n.length?mD(n.flatMap(n=>{var r,i,a=j_(e,n.dataKey);if(Array.isArray(a)?[r,i]=a:r=i=a,Hj(r)&&Hj(i))return[t-r,t+i]})):[]}var pD=(e,t,n)=>{var r=t.reduce((e,t)=>(null==t.stackId||(null==e[t.stackId]&&(e[t.stackId]=[]),e[t.stackId].push(t)),e),{});return Object.fromEntries(Object.entries(r).map(t=>{var[r,i]=t,a=i.map(e=>e.dataKey);return[r,{stackedData:E_(e,a,n),graphicalItems:i}]}))},vD=Tx([uD,iD,dR],pD),yD=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:i}=t;if("zAxis"!==n){var a=T_(e,r,i);if(null==a||0!==a[0]||0!==a[1])return a}},xD=Tx([vD,uT,FR],yD),bD=(e,t,n,r)=>n.length>0?e.flatMap(e=>n.flatMap(n=>{var i,a,s=null===(i=n.errorBars)||void 0===i?void 0:i.filter(e=>fD(r,e)),o=j_(e,null!==(a=t.dataKey)&&void 0!==a?a:n.dataKey);return{value:o,errorDomain:gD(e,o,s)}})).filter(Boolean):null!=(null==t?void 0:t.dataKey)?e.map(e=>({value:j_(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]})),wD=Tx(uD,QR,sD,FR,bD);function _D(e){var{value:t}=e;if(vm(t)||t instanceof Date)return t}var jD=e=>{var t;if(null==e||!("domain"in e))return HR;if(null!=e.domain)return e.domain;if(null!=e.ticks){if("number"===e.type){var n=mD(e.ticks);return[Math.min(...n),Math.max(...n)]}if("category"===e.type)return e.ticks.map(String)}return null!==(t=null==e?void 0:e.domain)&&void 0!==t?t:HR},ND=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);if(0!==r.length){var i=r.flat();return[Math.min(...i),Math.max(...i)]}},kD=e=>e.referenceElements.dots,SD=(e,t,n)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===n:e.yAxisId===n),CD=Tx([kD,FR,BR],SD),PD=e=>e.referenceElements.areas,ED=Tx([PD,FR,BR],SD),MD=e=>e.referenceElements.lines,OD=Tx([MD,FR,BR],SD),AD=(e,t)=>{var n=mD(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},TD=Tx(CD,FR,AD),RD=(e,t)=>{var n=mD(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},DD=Tx([ED,FR],RD),ID=(e,t)=>{var n=mD(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},LD=Tx(OD,FR,ID),zD=Tx(TD,LD,DD,(e,t,n)=>ND(e,n,t)),FD=Tx([QR],jD),BD=(e,t,n,r,i)=>{var a=function(e,t){if(t&&"function"!=typeof e&&Array.isArray(e)&&2===e.length){var n,r,[i,a]=e;if(Hj(i))n=i;else if("function"==typeof i)return;if(Hj(a))r=a;else if("function"==typeof a)return;var s=[n,r];if(fT(s))return s}}(t,e.allowDataOverflow);return null!=a?a:function(e,t,n){if(n||null!=t){if("function"==typeof e&&null!=t)try{var r=e(t,n);if(fT(r))return mT(r,t,n)}catch(f){}if(Array.isArray(e)&&2===e.length){var i,a,[s,o]=e;if("auto"===s)null!=t&&(i=Math.min(...t));else if(pm(s))i=s;else if("function"==typeof s)try{null!=t&&(i=s(null==t?void 0:t[0]))}catch(m){}else if("string"==typeof s&&R_.test(s)){var l=R_.exec(s);if(null==l||null==t)i=void 0;else{var c=+l[1];i=t[0]-c}}else i=null==t?void 0:t[0];if("auto"===o)null!=t&&(a=Math.max(...t));else if(pm(o))a=o;else if("function"==typeof o)try{null!=t&&(a=o(null==t?void 0:t[1]))}catch(g){}else if("string"==typeof o&&D_.test(o)){var u=D_.exec(o);if(null==u||null==t)a=void 0;else{var d=+u[1];a=t[1]+d}}else a=null==t?void 0:t[1];var h=[i,a];if(fT(h))return null==t?h:mT(h,t,n)}}}(t,ND(n,i,(e=>{var t=mD(e.flatMap(e=>[e.value,e.errorDomain]).flat(1));if(0!==t.length)return[Math.min(...t),Math.max(...t)]})(r)),e.allowDataOverflow)},VD=Tx([QR,FD,xD,wD,zD],BD),WD=[0,1],$D=(e,t,n,r,i,a,s)=>{if(null!=e&&null!=n&&0!==n.length){var{dataKey:o,type:l}=e,c=N_(t,a);return c&&null==o?_k(0,n.length):"category"===l?((e,t,n)=>{var r=e.map(_D).filter(e=>null!=e);return n&&(null==t.dataKey||t.allowDuplicatedCategory&&wm(r))?_k(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))})(r,e,c):"expand"===i?WD:s}},HD=Tx([QR,cj,uD,hD,dR,FR,VD],$D),KD=(e,t,n,r,i)=>{if(null!=e){var{scale:a,type:s}=e;if("auto"===a)return"radial"===t&&"radiusAxis"===i?"band":"radial"===t&&"angleAxis"===i?"linear":"category"===s&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":"category"===s?"band":"linear";if("string"==typeof a){var o="scale".concat(Sm(a));return o in cT?o:"point"}}},UD=Tx([QR,cj,JR,hR,FR],KD);function GD(e,t,n,r){if(null!=n&&null!=r){if("function"==typeof e.scale)return e.scale.copy().domain(n).range(r);var i=function(e){if(null!=e){if(e in cT)return cT[e]();var t="scale".concat(Sm(e));return t in cT?cT[t]():void 0}}(t);if(null!=i){var a=i.domain(n).range(r);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-C_,a=Math.max(r[0],r[1])+C_,s=e(t[0]),o=e(t[n-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[n-1]])}})(a),a}}}var qD=(e,t,n)=>{var r=jD(t);if("auto"===n||"linear"===n)return null!=t&&t.tickCount&&Array.isArray(r)&&("auto"===r[0]||"auto"===r[1])&&fT(e)?oR(e,t.tickCount,t.allowDecimals):null!=t&&t.tickCount&&"number"===t.type&&fT(e)?lR(e,t.tickCount,t.allowDecimals):void 0},YD=Tx([HD,ZR,UD],qD),XD=(e,t,n,r)=>{if("angleAxis"!==r&&"number"===(null==e?void 0:e.type)&&fT(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],s=t[1],o=n[n.length-1];return[Math.min(i,a),Math.max(s,o)]}return t},QD=Tx([QR,HD,YD,FR],XD),ZD=Tx(hD,QR,(e,t)=>{if(t&&"number"===t.type){var n=1/0,r=Array.from(mD(e.map(e=>e.value))).sort((e,t)=>e-t);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(0===i)return 1/0;for(var a=0;a<r.length-1;a++){var s=r[a+1]-r[a];n=Math.min(n,s)}return n/i}}),JD=Tx(ZD,cj,uR,X_,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!Hj(e))return 0;var a="vertical"===t?r.height:r.width;if("gap"===i)return e*a/2;if("no-gap"===i){var s=bm(n,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),eI=Tx(UR,(e,t)=>{var n=UR(e,t);return null==n||"string"!=typeof n.padding?0:JD(e,"xAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{left:0,right:0};var{padding:i}=e;return"string"==typeof i?{left:t,right:t}:{left:(null!==(n=i.left)&&void 0!==n?n:0)+t,right:(null!==(r=i.right)&&void 0!==r?r:0)+t}}),tI=Tx(qR,(e,t)=>{var n=qR(e,t);return null==n||"string"!=typeof n.padding?0:JD(e,"yAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{top:0,bottom:0};var{padding:i}=e;return"string"==typeof i?{top:t,bottom:t}:{top:(null!==(n=i.top)&&void 0!==n?n:0)+t,bottom:(null!==(r=i.bottom)&&void 0!==r?r:0)+t}}),nI=Tx([X_,eI,nj,tj,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),rI=Tx([X_,cj,tI,nj,tj,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:"horizontal"===t?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),iI=(e,t,n,r)=>{var i;switch(t){case"xAxis":return nI(e,n,r);case"yAxis":return rI(e,n,r);case"zAxis":return null===(i=XR(e,n))||void 0===i?void 0:i.range;case"angleAxis":return IR(e);case"radiusAxis":return LR(e,n);default:return}},aI=Tx([QR,iI],kR),sI=Tx([QR,UD,QD,aI],GD);function oI(e,t){return e.id<t.id?-1:e.id>t.id?1:0}Tx(iD,FR,(e,t)=>e.flatMap(e=>{var t;return null!==(t=e.errorBars)&&void 0!==t?t:[]}).filter(e=>fD(t,e)));var lI=(e,t)=>t,cI=(e,t,n)=>n,uI=Tx($_,lI,cI,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(oI)),dI=Tx(H_,lI,cI,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(oI)),hI=(e,t)=>({width:e.width,height:t.height}),fI=Tx(X_,UR,hI),mI=Tx(B_,X_,uI,lI,cI,(e,t,n,r,i)=>{var a,s={};return n.forEach(n=>{var o=hI(t,n);null==a&&(a=((e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}})(t,r,e));var l="top"===r&&!i||"bottom"===r&&i;s[n.id]=a-Number(l)*o.height,a+=(l?-1:1)*o.height}),s}),gI=Tx(F_,X_,dI,lI,cI,(e,t,n,r,i)=>{var a,s={};return n.forEach(n=>{var o=((e,t)=>({width:"number"==typeof t.width?t.width:60,height:e.height}))(t,n);null==a&&(a=((e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}})(t,r,e));var l="left"===r&&!i||"right"===r&&i;s[n.id]=a-Number(l)*o.width,a+=(l?-1:1)*o.width}),s}),pI=Tx(X_,qR,(e,t)=>({width:"number"==typeof t.width?t.width:60,height:e.height})),vI=(e,t,n)=>{switch(t){case"xAxis":return fI(e,n).width;case"yAxis":return pI(e,n).height;default:return}},yI=(e,t,n,r)=>{if(null!=n){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,o=N_(e,r),l=t.map(e=>e.value);return s&&o&&"category"===a&&i&&wm(l)?l:void 0}},xI=Tx([cj,hD,QR,FR],yI),bI=(e,t,n,r)=>{if(null!=n&&null!=n.dataKey){var{type:i,scale:a}=n;return!N_(e,r)||"number"!==i&&"auto"===a?void 0:t.map(e=>e.value)}},wI=Tx([cj,hD,ZR,FR],bI),_I=Tx([cj,(e,t,n)=>{switch(t){case"xAxis":return UR(e,n);case"yAxis":return qR(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},UD,sI,xI,wI,iI,YD,FR],(e,t,n,r,i,a,s,o,l)=>{if(null==t)return null;var c=N_(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:o,range:s,realScaleType:n,scale:r}}),jI=Tx([cj,ZR,UD,sI,YD,iI,xI,wI,FR],(e,t,n,r,i,a,s,o,l)=>{if(null!=t&&null!=r){var c=N_(e,l),{type:u,ticks:d,tickCount:h}=t,f="scaleBand"===n&&"function"==typeof r.bandwidth?r.bandwidth()/2:2,m="category"===u&&r.bandwidth?r.bandwidth()/f:0;m="angleAxis"===l&&null!=a&&a.length>=2?2*fm(a[0]-a[1])*m:m;var g=d||i;return g?g.map((e,t)=>{var n=s?s.indexOf(e):e;return{index:t,coordinate:r(n)+m,value:e,offset:m}}).filter(e=>!mm(e.coordinate)):c&&o?o.map((e,t)=>({coordinate:r(e)+m,value:e,index:t,offset:m})):r.ticks?r.ticks(h).map(e=>({coordinate:r(e)+m,value:e,offset:m})):r.domain().map((e,t)=>({coordinate:r(e)+m,value:s?s[e]:e,index:t,offset:m}))}}),NI=Tx([cj,ZR,sI,iI,xI,wI,FR],(e,t,n,r,i,a,s)=>{if(null!=t&&null!=n&&null!=r&&r[0]!==r[1]){var o=N_(e,s),{tickCount:l}=t,c=0;return c="angleAxis"===s&&(null==r?void 0:r.length)>=2?2*fm(r[0]-r[1])*c:c,o&&a?a.map((e,t)=>({coordinate:n(e)+c,value:e,index:t,offset:c})):n.ticks?n.ticks(l).map(e=>({coordinate:n(e)+c,value:e,offset:c})):n.domain().map((e,t)=>({coordinate:n(e)+c,value:i?i[e]:e,index:t,offset:c}))}}),kI=Tx(QR,sI,(e,t)=>{if(null!=e&&null!=t)return WR(WR({},e),{},{scale:t})}),SI=Tx([QR,UD,HD,aI],GD),CI=Tx((e,t,n)=>XR(e,n),SI,(e,t)=>{if(null!=e&&null!=t)return WR(WR({},e),{},{scale:t})}),PI=Tx([cj,$_,H_],(e,t,n)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),EI=e=>e.options.defaultTooltipEventType,MI=e=>e.options.validateTooltipEventTypes;function OI(e,t,n){if(null==e)return t;var r=e?"axis":"item";return null==n?t:n.includes(r)?r:t}function AI(e,t){return OI(t,EI(e),MI(e))}var TI=(e,t)=>{var n,r=Number(t);if(!mm(r)&&null!=t)return r>=0?null==e||null===(n=e[r])||void 0===n?void 0:n.value:void 0},RI={active:!1,index:null,dataKey:void 0,coordinate:void 0},DI=jw({name:"tooltip",initialState:{itemInteraction:{click:RI,hover:RI},axisInteraction:{click:RI,hover:RI},keyboardInteraction:RI,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=nw(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:II,removeTooltipEntrySettings:LI,setTooltipSettingsState:zI,setActiveMouseOverItemIndex:FI,mouseLeaveItem:BI,mouseLeaveChart:VI,setActiveClickItemIndex:WI,setMouseOverAxisIndex:$I,setMouseClickAxisIndex:HI,setSyncInteraction:KI,setKeyboardInteraction:UI}=DI.actions,GI=DI.reducer;function qI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function YI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qI(Object(n),!0).forEach(function(t){XI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function XI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var QI=(e,t,n,r)=>{if(null==t)return RI;var i=function(e,t,n){return"axis"===t?"click"===n?e.axisInteraction.click:e.axisInteraction.hover:"click"===n?e.itemInteraction.click:e.itemInteraction.hover}(e,t,n);if(null==i)return RI;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var a=!0===e.settings.active;if(null!=i.index){if(a)return YI(YI({},i),{},{active:!0})}else if(null!=r)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return YI(YI({},RI),{},{coordinate:i.coordinate})},ZI=(e,t)=>{var n=null==e?void 0:e.index;if(null==n)return null;var r=Number(n);if(!Hj(r))return n;var i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(0,Math.min(r,i)))},JI=(e,t,n,r,i,a,s,o)=>{if(null!=a&&null!=o){var l=s[0],c=null==l?void 0:o(l.positions,a);if(null!=c)return c;var u=null==i?void 0:i[Number(a)];if(u)return"horizontal"===n?{x:u.coordinate,y:(r.top+t)/2}:{x:(r.left+e)/2,y:u.coordinate}}},eL=(e,t,n,r)=>{return"axis"===t?e.tooltipItemPayloads:0===e.tooltipItemPayloads.length?[]:null==(i="hover"===n?e.itemInteraction.hover.dataKey:e.itemInteraction.click.dataKey)&&null!=r?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(e=>{var t;return(null===(t=e.settings)||void 0===t?void 0:t.dataKey)===i});var i},tL=e=>e.options.tooltipPayloadSearcher,nL=e=>e.tooltip,rL=e=>{var t=cj(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},iL=e=>e.tooltip.settings.axisId,aL=e=>{var t=rL(e),n=iL(e);return ZR(e,t,n)},sL=Tx([aL,cj,JR,hR,rL],KD),oL=Tx([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),lL=Tx([rL,iL],eD),cL=Tx([oL,aL,lL],rD),uL=Tx([cL],oD),dL=Tx([uL,uT],cD),hL=Tx([dL,aL,cL],dD),fL=Tx([aL],jD),mL=Tx([dL,cL,dR],pD),gL=Tx([mL,uT,rL],yD),pL=Tx([cL],aD),vL=Tx([dL,aL,pL,rL],bD),yL=Tx([kD,rL,iL],SD),xL=Tx([yL,rL],AD),bL=Tx([PD,rL,iL],SD),wL=Tx([bL,rL],RD),_L=Tx([MD,rL,iL],SD),jL=Tx([_L,rL],ID),NL=Tx([xL,jL,wL],ND),kL=Tx([aL,fL,gL,vL,NL],BD),SL=Tx([aL,cj,dL,hL,dR,rL,kL],$D),CL=Tx([SL,aL,sL],qD),PL=Tx([aL,SL,CL,rL],XD),EL=e=>{var t=rL(e),n=iL(e);return iI(e,t,n,!1)},ML=Tx([aL,EL],kR),OL=Tx([aL,sL,PL,ML],GD),AL=Tx([cj,hL,aL,rL],yI),TL=Tx([cj,hL,aL,rL],bI),RL=Tx([cj,aL,sL,OL,EL,AL,TL,rL],(e,t,n,r,i,a,s,o)=>{if(t){var{type:l}=t,c=N_(e,o);if(r){var u="scaleBand"===n&&r.bandwidth?r.bandwidth()/2:2,d="category"===l&&r.bandwidth?r.bandwidth()/u:0;return d="angleAxis"===o&&null!=i&&(null==i?void 0:i.length)>=2?2*fm(i[0]-i[1])*d:d,c&&s?s.map((e,t)=>({coordinate:r(e)+d,value:e,index:t,offset:d})):r.domain().map((e,t)=>({coordinate:r(e)+d,value:a?a[e]:e,index:t,offset:d}))}}}),DL=Tx([EI,MI,e=>e.tooltip.settings],(e,t,n)=>OI(n.shared,e,t)),IL=e=>e.tooltip.settings.trigger,LL=e=>e.tooltip.settings.defaultIndex,zL=Tx([nL,DL,IL,LL],QI),FL=Tx([zL,dL],ZI),BL=Tx([RL,FL],TI),VL=Tx([zL],e=>{if(e)return e.dataKey}),WL=Tx([nL,DL,IL,LL],eL),$L=Tx([F_,B_,cj,X_,RL,LL,WL,tL],JI),HL=Tx([zL,$L],(e,t)=>null!=e&&e.coordinate?e.coordinate:t),KL=Tx([zL],e=>e.active);function UL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function GL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UL(Object(n),!0).forEach(function(t){qL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function qL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var YL=()=>kx(aL);function XL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function QL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XL(Object(n),!0).forEach(function(t){ZL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ZL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var JL=()=>kx(hR),ez=(e,t)=>t,tz=(e,t,n)=>n,nz=(e,t,n,r)=>r,rz=Tx(RL,e=>rb(e,e=>e.coordinate)),iz=Tx([nL,ez,tz,nz],QI),az=Tx([iz,dL],ZI),sz=Tx([nL,ez,tz,nz],eL),oz=Tx([F_,B_,cj,X_,RL,nz,sz,tL],JI),lz=Tx([iz,oz],(e,t)=>{var n;return null!==(n=e.coordinate)&&void 0!==n?n:t}),cz=Tx(RL,az,TI),uz=Tx([sz,az,uT,aL,cz,tL,ez],(e,t,n,r,i,a,s)=>{if(null!=t&&null!=a){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:u}=n;return e.reduce((e,n)=>{var d,h,f,m,g,p,{dataDefinedOnItem:v,settings:y}=n,x=function(e,t){return null!=e?e:t}(v,o),b=(h=x,f=c,m=u,Array.isArray(h)&&h&&f+m!==0?h.slice(f,m+1):h),w=null!==(d=null==y?void 0:y.dataKey)&&void 0!==d?d:null==r?void 0:r.dataKey,_=null==y?void 0:y.nameKey;return g=null==r||!r.dataKey||null!=r&&r.allowDuplicatedCategory||!Array.isArray(b)||"axis"!==s?a(b,t,l,_):Nm(b,r.dataKey,i),Array.isArray(g)?g.forEach(t=>{var n=QL(QL({},y),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(L_({tooltipEntrySettings:n,dataKey:t.dataKey,payload:t.payload,value:j_(t.payload,t.dataKey),name:t.name}))}):e.push(L_({tooltipEntrySettings:y,dataKey:w,payload:g,value:j_(g,w),name:null!==(p=j_(g,_))&&void 0!==p?p:null==y?void 0:y.name})),e},[])}}),dz=Tx([iz],e=>({isActive:e.active,activeIndex:e.index}));function hz(){return hz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hz.apply(null,arguments)}function fz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function mz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fz(Object(n),!0).forEach(function(t){gz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function gz(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pz(e){var t,n,{coordinate:r,payload:i,index:a,offset:s,tooltipAxisBandSize:o,layout:l,cursor:c,tooltipEventType:u,chartName:d}=e,h=r,f=i,m=a;if(!c||!h||"ScatterChart"!==d&&"axis"!==u)return null;if("ScatterChart"===d)t=h,n=oN;else if("BarChart"===d)t=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(l,h,s,o),n=rk;else if("radial"===l){var{cx:g,cy:p,radius:v,startAngle:y,endAngle:x}=ik(h);t={cx:g,cy:p,startAngle:y,endAngle:x,innerRadius:v,outerRadius:v},n=ck}else t={points:uk(l,h,s)},n=tN;var b="object"==typeof c&&"className"in c?c.className:void 0,w=mz(mz(mz(mz({stroke:"#ccc",pointerEvents:"none"},s),t),Fm(c,!1)),{},{payload:f,payloadIndex:m,className:ot("recharts-tooltip-cursor",b)});return k.isValidElement(c)?k.cloneElement(c,w):k.createElement(n,w)}function vz(e){var t,n,r,i=(t=YL(),n=kx(RL),r=kx(OL),I_(GL(GL({},t),{},{scale:r}),n)),a=aj(),s=uj(),o=JL();return k.createElement(pz,hz({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:a,layout:s,tooltipAxisBandSize:i,chartName:o}))}var yz,xz=k.createContext(null),bz={exports:{}},wz=(yz||(yz=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var o=new i(r,a||e,s),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),o.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,s=new Array(a);i<a;i++)s[i]=r[i].fn;return s},o.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},o.prototype.emit=function(e,t,r,i,a,s){var o=n?n+e:e;if(!this._events[o])return!1;var l,c,u=this._events[o],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,a),!0;case 6:return u.fn.call(u.context,t,r,i,a,s),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},o.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return s(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||i&&!o.once||r&&o.context!==r||s(this,a);else{for(var l=0,c=[],u=o.length;l<u;l++)(o[l].fn!==t||i&&!o[l].once||r&&o[l].context!==r)&&c.push(o[l]);c.length?this._events[a]=1===c.length?c[0]:c:s(this,a)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o}(bz)),bz.exports),_z=new(i(wz)),jz="recharts.syncEvent.tooltip",Nz="recharts.syncEvent.brush";function kz(e,t){if(t){var n=Number.parseInt(t,10);if(!mm(n))return null==e?void 0:e[n]}}var Sz=jw({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Cz=Sz.reducer,{createEventEmitter:Pz}=Sz.actions;function Ez(e){return e.tooltip.syncInteraction}var Mz=jw({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload)return e.dataStartIndex=0,void(e.dataEndIndex=0);t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;null!=n&&(e.dataStartIndex=n),null!=r&&(e.dataEndIndex=r)}}}),{setChartData:Oz,setDataStartEndIndexes:Az,setComputedData:Tz}=Mz.actions,Rz=Mz.reducer,Dz=()=>{};function Iz(){var e=wx();k.useEffect(()=>{e(Pz())},[e]),function(){var e=kx(fR),t=kx(gR),n=wx(),r=kx(mR),i=kx(RL),a=uj(),s=rj(),o=kx(e=>e.rootProps.className);k.useEffect(()=>{if(null==e)return Dz;var o=(o,l,c)=>{if(t!==c&&e===o)if("index"!==r){if(null!=i){var u;if("function"==typeof r){var d={activeTooltipIndex:null==l.payload.index?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:null==l.payload.index?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate},h=r(i,d);u=i[h]}else"value"===r&&(u=i.find(e=>String(e.value)===l.payload.label));var{coordinate:f}=l.payload;if(null!=u&&!1!==l.payload.active&&null!=f&&null!=s){var{x:m,y:g}=f,p=Math.min(m,s.x+s.width),v=Math.min(g,s.y+s.height),y={x:"horizontal"===a?u.coordinate:p,y:"horizontal"===a?v:u.coordinate},x=KI({active:l.payload.active,coordinate:y,dataKey:l.payload.dataKey,index:String(u.index),label:l.payload.label});n(x)}else n(KI({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}))}}else n(l)};return _z.on(jz,o),()=>{_z.off(jz,o)}},[o,n,t,e,r,i,a,s])}(),function(){var e=kx(fR),t=kx(gR),n=wx();k.useEffect(()=>{if(null==e)return Dz;var r=(r,i,a)=>{t!==a&&e===r&&n(Az(i))};return _z.on(Nz,r),()=>{_z.off(Nz,r)}},[n,t,e])}()}function Lz(e,t,n,r,i,a){var s=kx(n=>((e,t,n)=>{if(null!=t){var r=nL(e);return"axis"===t?"hover"===n?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:"hover"===n?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}})(n,e,t)),o=kx(gR),l=kx(fR),c=kx(mR),u=kx(Ez),d=null==u?void 0:u.active;k.useEffect(()=>{if(!d&&null!=l&&null!=o){var e=KI({active:a,coordinate:n,dataKey:s,index:i,label:"number"==typeof r?String(r):r});_z.emit(jz,l,e,o)}},[d,n,s,i,r,o,l,c,a])}function zz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Fz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zz(Object(n),!0).forEach(function(t){Bz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Bz(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vz(e){return e.dataKey}var Wz=[],$z={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Wj,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Hz(e){var t=uN(e,$z),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,content:s,filterNull:o,isAnimationActive:l,offset:c,payloadUniqBy:u,position:d,reverseDirection:h,useTranslate3d:f,wrapperStyle:m,cursor:g,shared:p,trigger:v,defaultIndex:y,portal:x,axisId:b}=t,w=wx(),_="number"==typeof y?String(y):y;k.useEffect(()=>{w(zI({shared:p,trigger:v,axisId:b,active:n,defaultIndex:_}))},[w,p,v,b,n,_]);var j=rj(),N=$j(),S=function(e){return kx(t=>AI(t,e))}(p),{activeIndex:C,isActive:P}=kx(e=>dz(e,S,v,_)),E=kx(e=>uz(e,S,v,_)),M=kx(e=>cz(e,S,v,_)),O=kx(e=>lz(e,S,v,_)),A=E,T=k.useContext(xz),R=null!=n?n:P,[D,I]=sb([A,R]),L="axis"===S?M:void 0;Lz(S,v,O,L,C,R);var z=null!=x?x:T;if(null==z)return null;var F=null!=A?A:Wz;R||(F=Wz),o&&F.length&&(F=lx(A.filter(e=>null!=e.value&&(!0!==e.hide||t.includeHidden)),u,Vz));var B=F.length>0,V=k.createElement(Vj,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:l,active:R,coordinate:O,hasPayload:B,offset:c,position:d,reverseDirection:h,useTranslate3d:f,viewBox:j,wrapperStyle:m,lastBoundingBox:D,innerRef:I,hasPortalFromProps:Boolean(x)},function(e,t){return k.isValidElement(e)?k.cloneElement(e,t):"function"==typeof e?k.createElement(e,t):k.createElement(Tj,t)}(s,Fz(Fz({},t),{},{payload:F,label:L,active:R,coordinate:O,accessibilityLayer:N})));return k.createElement(k.Fragment,null,Nn.createPortal(V,z),R&&k.createElement(vz,{cursor:g,tooltipEventType:S,coordinate:O,payload:A,index:C}))}var Kz,Uz,Gz,qz,Yz,Xz={},Qz={},Zz={};function Jz(){return Kz||(Kz=1,e=Zz,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.debounce=function(e,t,{signal:n,edges:r}={}){let i,a=null;const s=null!=r&&r.includes("leading"),o=null==r||r.includes("trailing"),l=()=>{null!==a&&(e.apply(i,a),i=void 0,a=null)};let c=null;const u=()=>{null!=c&&clearTimeout(c),c=setTimeout(()=>{c=null,o&&l(),h()},t)},d=()=>{null!==c&&(clearTimeout(c),c=null)},h=()=>{d(),i=void 0,a=null},f=function(...e){if(null==n?void 0:n.aborted)return;i=this,a=e;const t=null==c;u(),s&&t&&l()};return f.schedule=u,f.cancel=h,f.flush=()=>{d(),l()},null==n||n.addEventListener("abort",h,{once:!0}),f}),Zz;var e}function eF(){return Uz||(Uz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jz();e.debounce=function(e,n=0,r={}){"object"!=typeof r&&(r={});const{leading:i=!1,trailing:a=!0,maxWait:s}=r,o=Array(2);let l;i&&(o[0]="leading"),a&&(o[1]="trailing");let c=null;const u=t.debounce(function(...t){l=e.apply(this,t),c=null},n,{edges:o}),d=function(...t){return null!=s&&(null===c&&(c=Date.now()),Date.now()-c>=s)?(l=e.apply(this,t),c=Date.now(),u.cancel(),u.schedule(),l):(u.apply(this,t),l)};return d.cancel=u.cancel,d.flush=()=>(u.flush(),l),d}}(Qz)),Qz}function tF(){return Yz?qz:(Yz=1,qz=(Gz||(Gz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eF();e.throttle=function(e,n=0,r={}){"object"!=typeof r&&(r={});const{leading:i=!0,trailing:a=!0}=r;return t.debounce(e,n,{leading:i,trailing:a,maxWait:n})}}(Xz)),Xz).throttle)}const nF=i(tF());var rF=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]};function iF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function aF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iF(Object(n),!0).forEach(function(t){sF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function sF(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oF=k.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:s=0,minHeight:o,maxHeight:l,children:c,debounce:u=0,id:d,className:h,onResize:f,style:m={}}=e,g=k.useRef(null),p=k.useRef();p.current=f,k.useImperativeHandle(t,()=>g.current);var[v,y]=k.useState({containerWidth:r.width,containerHeight:r.height}),x=k.useCallback((e,t)=>{y(n=>{var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}})},[]);k.useEffect(()=>{var e=e=>{var t,{width:n,height:r}=e[0].contentRect;x(n,r),null===(t=p.current)||void 0===t||t.call(p,n,r)};u>0&&(e=nF(e,u,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:n,height:r}=g.current.getBoundingClientRect();return x(n,r),t.observe(g.current),()=>{t.disconnect()}},[x,u]);var b=k.useMemo(()=>{var{containerWidth:e,containerHeight:t}=v;if(e<0||t<0)return null;rF(gm(i)||gm(a),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",i,a),rF(!n||n>0,"The aspect(%s) must be greater than zero.",n);var r=gm(i)?e:i,u=gm(a)?t:a;return n&&n>0&&(r?u=r/n:u&&(r=u*n),l&&u>l&&(u=l)),rF(r>0||u>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",r,u,i,a,s,o,n),k.Children.map(c,e=>k.cloneElement(e,{width:r,height:u,style:aF({height:"100%",width:"100%",maxHeight:u,maxWidth:r},e.props.style)}))},[n,c,a,l,o,s,v,i]);return k.createElement("div",{id:d?"".concat(d):void 0,className:ot("recharts-responsive-container",h),style:aF(aF({},m),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:g},b)}),lF=e=>null;function cF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function uF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cF(Object(n),!0).forEach(function(t){dF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function dF(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}lF.displayName="Cell";var hF={widthCache:{},cacheCount:0},fF={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},mF="recharts_measurement_span",gF=function(e){if(null==e||Wj)return{width:0,height:0};var t,n=(t=uF({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),Object.keys(t).forEach(e=>{t[e]||delete t[e]}),t),r=JSON.stringify({text:e,copyStyle:n});if(hF.widthCache[r])return hF.widthCache[r];try{var i=document.getElementById(mF);i||((i=document.createElement("span")).setAttribute("id",mF),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var a=uF(uF({},fF),n);Object.assign(i.style,a),i.textContent="".concat(e);var s=i.getBoundingClientRect(),o={width:s.width,height:s.height};return hF.widthCache[r]=o,++hF.cacheCount>2e3&&(hF.cacheCount=0,hF.widthCache={}),o}catch(l){return{width:0,height:0}}},pF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,yF=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,xF=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,bF={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},wF=Object.keys(bF),_F="NaN";class jF{static parse(e){var t,[,n,r]=null!==(t=xF.exec(e))&&void 0!==t?t:[];return new jF(parseFloat(n),null!=r?r:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,mm(e)&&(this.unit=""),""===t||yF.test(t)||(this.num=NaN,this.unit=""),wF.includes(t)&&(this.num=function(e,t){return e*bF[t]}(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new jF(NaN,""):new jF(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new jF(NaN,""):new jF(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new jF(NaN,""):new jF(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new jF(NaN,""):new jF(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return mm(this.num)}}function NF(e){if(e.includes(_F))return _F;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=null!==(n=pF.exec(t))&&void 0!==n?n:[],s=jF.parse(null!=r?r:""),o=jF.parse(null!=a?a:""),l="*"===i?s.multiply(o):s.divide(o);if(l.isNaN())return _F;t=t.replace(pF,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,d,h]=null!==(c=vF.exec(t))&&void 0!==c?c:[],f=jF.parse(null!=u?u:""),m=jF.parse(null!=h?h:""),g="+"===d?f.add(m):f.subtract(m);if(g.isNaN())return _F;t=t.replace(vF,g.toString())}return t}var kF=/\(([^()]*)\)/;function SF(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t,n=e;null!=(t=kF.exec(n));){var[,r]=t;n=n.replace(kF,NF(r))}return n}(t),t=NF(t)}function CF(e){var t=function(e){try{return SF(e)}catch(t){return _F}}(e.slice(5,-1));return t===_F?"":t}var PF=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],EF=["dx","dy","angle","className","breakAll"];function MF(){return MF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},MF.apply(null,arguments)}function OF(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var AF=/[ \f\n\r\t\v\u2028\u2029]+/,TF=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];return km(t)||(i=n?t.toString().split(""):t.toString().split(AF)),{wordsWithComputedWidth:i.map(e=>({word:e,width:gF(e,r).width})),spaceWidth:n?0:gF(" ",r).width}}catch(a){return null}},RF=e=>[{words:km(e)?[]:e.toString().split(AF)}],DF=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=e;if((t||n)&&!Wj){var o=TF({breakAll:a,children:r,style:i});if(!o)return RF(r);var{wordsWithComputedWidth:l,spaceWidth:c}=o;return((e,t,n,r,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,c=pm(a),u=s,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((e,t)=>{var{word:a,width:s}=t,o=e[e.length-1];if(o&&(null==r||i||o.width+s+n<Number(r)))o.words.push(a),o.width+=s+n;else{var l={words:[a],width:s};e.push(l)}return e},[])},h=d(t),f=e=>e.reduce((e,t)=>e.width>t.width?e:t);if(!c||i)return h;if(!(h.length>a||f(h).width>Number(r)))return h;for(var m,g=e=>{var t=u.slice(0,e),n=TF({breakAll:l,style:o,children:t+"…"}).wordsWithComputedWidth,i=d(n);return[i.length>a||f(i).width>Number(r),i]},p=0,v=u.length-1,y=0;p<=v&&y<=u.length-1;){var x=Math.floor((p+v)/2),b=x-1,[w,_]=g(b),[j]=g(x);if(w||j||(p=x+1),w&&j&&(v=x-1),!w&&j){m=_;break}y++}return m||h})({breakAll:a,children:r,maxLines:s,style:i},l,c,t,n)}return RF(r)},IF="#808080",LF=k.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:s=!1,textAnchor:o="start",verticalAnchor:l="end",fill:c=IF}=e,u=OF(e,PF),d=k.useMemo(()=>DF({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:s,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,s,u.style,u.width]),{dx:h,dy:f,angle:m,className:g,breakAll:p}=u,v=OF(u,EF);if(!vm(n)||!vm(r))return null;var y,x=n+(pm(h)?h:0),b=r+(pm(f)?f:0);switch(l){case"start":y=CF("calc(".concat(a,")"));break;case"middle":y=CF("calc(".concat((d.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:y=CF("calc(".concat(d.length-1," * -").concat(i,")"))}var w=[];if(s){var _=d[0].width,{width:j}=u;w.push("scale(".concat(pm(j)?j/_:1,")"))}return m&&w.push("rotate(".concat(m,", ").concat(x,", ").concat(b,")")),w.length&&(v.transform=w.join(" ")),k.createElement("text",MF({},Fm(v,!0),{ref:t,x:x,y:b,className:ot("recharts-text",g),textAnchor:o,fill:c.includes("url")?IF:c}),d.map((e,t)=>{var n=e.words.join(p?"":" ");return k.createElement("tspan",{x:x,dy:0===t?y:i,key:"".concat(n,"-").concat(t)},n)}))});LF.displayName="Text";var zF=["offset"],FF=["labelRef"];function BF(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function VF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function WF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VF(Object(n),!0).forEach(function(t){$F(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $F(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HF(){return HF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HF.apply(null,arguments)}var KF=e=>null!=e&&"function"==typeof e,UF=(e,t,n)=>{var r,i,{position:a,viewBox:s,offset:o,className:l}=e,{cx:c,cy:u,innerRadius:d,outerRadius:h,startAngle:f,endAngle:m,clockWise:g}=s,p=(d+h)/2,v=((e,t)=>fm(t-e)*Math.min(Math.abs(t-e),360))(f,m),y=v>=0?1:-1;"insideStart"===a?(r=f+y*o,i=g):"insideEnd"===a?(r=m-y*o,i=!g):"end"===a&&(r=m+y*o,i=g),i=v<=0?i:!i;var x=g_(c,u,p,r),b=g_(c,u,p,r+359*(i?1:-1)),w="M".concat(x.x,",").concat(x.y,"\n    A").concat(p,",").concat(p,",0,1,").concat(i?0:1,",\n    ").concat(b.x,",").concat(b.y),_=km(e.id)?xm("recharts-radial-line-"):e.id;return k.createElement("text",HF({},n,{dominantBaseline:"central",className:ot("recharts-radial-bar-label",l)}),k.createElement("defs",null,k.createElement("path",{id:_,d:w})),k.createElement("textPath",{xlinkHref:"#".concat(_)},t))};function GF(e){var t,{offset:n=5}=e,r=WF({offset:n},BF(e,zF)),{viewBox:i,position:a,value:s,children:o,content:l,className:c="",textBreakAll:u,labelRef:d}=r,h=rj(),f=i||h;if(!f||km(s)&&km(o)&&!k.isValidElement(l)&&"function"!=typeof l)return null;if(k.isValidElement(l)){var{labelRef:m}=r,g=BF(r,FF);return k.cloneElement(l,g)}if("function"==typeof l){if(t=k.createElement(l,r),k.isValidElement(t))return t}else t=(e=>{var{value:t,formatter:n}=e,r=km(e.children)?t:e.children;return"function"==typeof n?n(r):r})(r);var p=(e=>"cx"in e&&pm(e.cx))(f),v=Fm(r,!0);if(p&&("insideStart"===a||"insideEnd"===a||"end"===a))return UF(r,t,v);var y=p?(e=>{var{viewBox:t,offset:n,position:r}=e,{cx:i,cy:a,innerRadius:s,outerRadius:o,startAngle:l,endAngle:c}=t,u=(l+c)/2;if("outside"===r){var{x:d,y:h}=g_(i,a,o+n,u);return{x:d,y:h,textAnchor:d>=i?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:i,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:i,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:i,y:a,textAnchor:"middle",verticalAnchor:"end"};var f=(s+o)/2,{x:m,y:g}=g_(i,a,f,u);return{x:m,y:g,textAnchor:"middle",verticalAnchor:"middle"}})(r):((e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,{x:a,y:s,width:o,height:l}=t,c=l>=0?1:-1,u=c*r,d=c>0?"end":"start",h=c>0?"start":"end",f=o>=0?1:-1,m=f*r,g=f>0?"end":"start",p=f>0?"start":"end";if("top"===i)return WF(WF({},{x:a+o/2,y:s-c*r,textAnchor:"middle",verticalAnchor:d}),n?{height:Math.max(s-n.y,0),width:o}:{});if("bottom"===i)return WF(WF({},{x:a+o/2,y:s+l+u,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(n.y+n.height-(s+l),0),width:o}:{});if("left"===i){var v={x:a-m,y:s+l/2,textAnchor:g,verticalAnchor:"middle"};return WF(WF({},v),n?{width:Math.max(v.x-n.x,0),height:l}:{})}if("right"===i){var y={x:a+o+m,y:s+l/2,textAnchor:p,verticalAnchor:"middle"};return WF(WF({},y),n?{width:Math.max(n.x+n.width-y.x,0),height:l}:{})}var x=n?{width:o,height:l}:{};return"insideLeft"===i?WF({x:a+m,y:s+l/2,textAnchor:p,verticalAnchor:"middle"},x):"insideRight"===i?WF({x:a+o-m,y:s+l/2,textAnchor:g,verticalAnchor:"middle"},x):"insideTop"===i?WF({x:a+o/2,y:s+u,textAnchor:"middle",verticalAnchor:h},x):"insideBottom"===i?WF({x:a+o/2,y:s+l-u,textAnchor:"middle",verticalAnchor:d},x):"insideTopLeft"===i?WF({x:a+m,y:s+u,textAnchor:p,verticalAnchor:h},x):"insideTopRight"===i?WF({x:a+o-m,y:s+u,textAnchor:g,verticalAnchor:h},x):"insideBottomLeft"===i?WF({x:a+m,y:s+l-u,textAnchor:p,verticalAnchor:d},x):"insideBottomRight"===i?WF({x:a+o-m,y:s+l-u,textAnchor:g,verticalAnchor:d},x):i&&"object"==typeof i&&(pm(i.x)||gm(i.x))&&(pm(i.y)||gm(i.y))?WF({x:a+bm(i.x,o),y:s+bm(i.y,l),textAnchor:"end",verticalAnchor:"end"},x):WF({x:a+o/2,y:s+l/2,textAnchor:"middle",verticalAnchor:"middle"},x)})(r,f);return k.createElement(LF,HF({ref:d,className:ot("recharts-label",c)},v,y,{breakAll:u}),t)}GF.displayName="Label";var qF=e=>{var{cx:t,cy:n,angle:r,startAngle:i,endAngle:a,r:s,radius:o,innerRadius:l,outerRadius:c,x:u,y:d,top:h,left:f,width:m,height:g,clockWise:p,labelViewBox:v}=e;if(v)return v;if(pm(m)&&pm(g)){if(pm(u)&&pm(d))return{x:u,y:d,width:m,height:g};if(pm(h)&&pm(f))return{x:h,y:f,width:m,height:g}}return pm(u)&&pm(d)?{x:u,y:d,width:0,height:0}:pm(t)&&pm(n)?{cx:t,cy:n,startAngle:i||r||0,endAngle:a||r||0,innerRadius:l||0,outerRadius:c||o||s||0,clockWise:p}:e.viewBox?e.viewBox:void 0};GF.parseViewBox=qF,GF.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var{children:r,labelRef:i}=e,a=qF(e),s=Lm(r,GF).map((e,n)=>k.cloneElement(e,{viewBox:t||a,key:"label-".concat(n)}));if(!n)return s;var o=((e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return!0===e?k.createElement(GF,HF({key:"label-implicit"},r)):vm(e)?k.createElement(GF,HF({key:"label-implicit",value:e},r)):k.isValidElement(e)?e.type===GF?k.cloneElement(e,WF({key:"label-implicit"},r)):k.createElement(GF,HF({key:"label-implicit",content:e},r)):KF(e)?k.createElement(GF,HF({key:"label-implicit",content:e},r)):e&&"object"==typeof e?k.createElement(GF,HF({},e,{key:"label-implicit"},r)):null})(e.label,t||a,i);return[o,...s]};var YF,XF={},QF={};function ZF(){return YF||(YF=1,e=QF,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.last=function(e){return e[e.length-1]}),QF;var e}var JF,eB,tB,nB,rB={};function iB(){return JF||(JF=1,e=rB,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}),rB;var e}function aB(){return nB?tB:(nB=1,tB=(eB||(eB=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZF(),n=iB(),r=Kv();e.last=function(e){if(r.isArrayLike(e))return t.last(n.toArray(e))}}(XF)),XF).last)}const sB=i(aB());var oB=["valueAccessor"],lB=["data","dataKey","clockWise","id","textBreakAll"];function cB(){return cB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cB.apply(null,arguments)}function uB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function dB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uB(Object(n),!0).forEach(function(t){hB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function hB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fB(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var mB=e=>Array.isArray(e.value)?sB(e.value):e.value;function gB(e){var{valueAccessor:t=mB}=e,n=fB(e,oB),{data:r,dataKey:i,clockWise:a,id:s,textBreakAll:o}=n,l=fB(n,lB);return r&&r.length?k.createElement(Km,{className:"recharts-label-list"},r.map((e,n)=>{var r=km(i)?t(e,n):j_(e&&e.payload,i),c=km(s)?{}:{id:"".concat(s,"-").concat(n)};return k.createElement(GF,cB({},Fm(e,!0),l,c,{parentViewBox:e.parentViewBox,value:r,textBreakAll:o,viewBox:GF.parseViewBox(km(a)?e:dB(dB({},e),{},{clockWise:a})),key:"label-".concat(n),index:n}))})):null}function pB(){return pB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pB.apply(null,arguments)}gB.displayName="LabelList",gB.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var{children:r}=e,i=Lm(r,gB).map((e,n)=>k.cloneElement(e,{data:t,key:"labelList-".concat(n)}));return n?[function(e,t){return e?!0===e?k.createElement(gB,{key:"labelList-implicit",data:t}):k.isValidElement(e)||KF(e)?k.createElement(gB,{key:"labelList-implicit",data:t,content:e}):"object"==typeof e?k.createElement(gB,cB({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t),...i]:i};var vB=e=>{var{cx:t,cy:n,r:r,className:i}=e,a=ot("recharts-dot",i);return t===+t&&n===+n&&r===+r?k.createElement("circle",pB({},Fm(e,!1),Om(e),{className:a,cx:t,cy:n,r:r})):null},yB=e=>e.graphicalItems.polarItems,xB=Tx([FR,BR],eD),bB=Tx([yB,QR,xB],rD),wB=Tx([bB],oD),_B=Tx([wB,dT],cD),jB=Tx([_B,QR,bB],dD),NB=Tx([_B,QR,bB],(e,t,n)=>n.length>0?e.flatMap(e=>n.flatMap(n=>{var r;return{value:j_(e,null!==(r=t.dataKey)&&void 0!==r?r:n.dataKey),errorDomain:[]}})).filter(Boolean):null!=(null==t?void 0:t.dataKey)?e.map(e=>({value:j_(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]}))),kB=()=>{},SB=Tx([QR,FD,kB,NB,kB],BD),CB=Tx([QR,cj,_B,jB,dR,FR,SB],$D),PB=Tx([CB,QR,UD],qD);Tx([QR,CB,PB,FR],XD);var EB=jw({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:MB,removeRadiusAxis:OB,addAngleAxis:AB,removeAngleAxis:TB}=EB.actions,RB=EB.reducer;function DB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function IB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DB(Object(n),!0).forEach(function(t){LB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function LB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zB=(e,t)=>t,FB=[],BB=(e,t,n)=>0===(null==n?void 0:n.length)?FB:n,VB=Tx([dT,zB,BB],(e,t,n)=>{var r,{chartData:i}=e;if((r=null!=(null==t?void 0:t.data)&&t.data.length>0?t.data:i)&&r.length||null==n||(r=n.map(e=>IB(IB({},t.presentationProps),e.props))),null!=r)return r}),WB=Tx([VB,zB,BB],(e,t,n)=>{if(null!=e)return e.map((e,r)=>{var i,a,s=j_(e,t.nameKey,t.name);return a=null!=n&&null!==(i=n[r])&&void 0!==i&&null!==(i=i.props)&&void 0!==i&&i.fill?n[r].props.fill:"object"==typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:z_(s,t.dataKey),color:a,payload:e,type:t.legendType}})}),$B=Tx([yB,zB],(e,t)=>{if(e.some(e=>"pie"===e.type&&t.dataKey===e.dataKey&&t.data===e.data))return t}),HB=Tx([VB,$B,BB,X_],(e,t,n,r)=>{if(null!=t&&null!=e)return function(e){var t,n,r,{pieSettings:i,displayedData:a,cells:s,offset:o}=e,{cornerRadius:l,startAngle:c,endAngle:u,dataKey:d,nameKey:h,tooltipType:f}=i,m=Math.abs(i.minAngle),g=((e,t)=>{var n=fm(t-e),r=Math.min(Math.abs(t-e),360);return n*r})(c,u),p=Math.abs(g),v=a.length<=1?0:null!==(t=i.paddingAngle)&&void 0!==t?t:0,y=a.filter(e=>0!==j_(e,d,0)).length,x=p-y*m-(p>=360?y:y-1)*v,b=a.reduce((e,t)=>{var n=j_(t,d,0);return e+(pm(n)?n:0)},0);return b>0&&(n=a.map((e,t)=>{var n,a=j_(e,d,0),u=j_(e,h,t),p=((e,t,n)=>{var{top:r,left:i,width:a,height:s}=t,o=p_(a,s),l=i+bm(e.cx,a,a/2),c=r+bm(e.cy,s,s/2),u=bm(e.innerRadius,o,0),d=((e,t,n)=>"function"==typeof t?t(e):bm(t,n,.8*n))(n,e.outerRadius,o),h=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:h}})(i,o,e),y=(pm(a)?a:0)/b,w=OV(OV({},e),s&&s[t]&&s[t].props),_=(n=t?r.endAngle+fm(g)*v*(0!==a?1:0):c)+fm(g)*((0!==a?m:0)+y*x),j=(n+_)/2,N=(p.innerRadius+p.outerRadius)/2,k=[{name:u,value:a,payload:w,dataKey:d,type:f}],S=g_(p.cx,p.cy,N,j);return r=OV(OV(OV(OV({},i.presentationProps),{},{percent:y,cornerRadius:l,name:u,tooltipPayload:k,midAngle:j,middleRadius:N,tooltipPosition:S},w),p),{},{value:j_(e,d),startAngle:n,endAngle:_,payload:w,paddingAngle:fm(g)*v})})),n}({offset:r,pieSettings:t,displayedData:e,cells:n})}),KB=jw({name:"graphicalItems",initialState:{countOfBars:0,cartesianItems:[],polarItems:[]},reducers:{addBar(e){e.countOfBars+=1},removeBar(e){e.countOfBars-=1},addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},removeCartesianGraphicalItem(e,t){var n=nw(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=nw(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addBar:UB,removeBar:GB,addCartesianGraphicalItem:qB,removeCartesianGraphicalItem:YB,addPolarGraphicalItem:XB,removePolarGraphicalItem:QB}=KB.actions,ZB=KB.reducer;function JB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JB(Object(n),!0).forEach(function(t){tV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nV(e){var t=wx();return k.useEffect(()=>{var n=eV(eV({},e),{},{stackId:M_(e.stackId)});return t(qB(n)),()=>{t(YB(n))}},[t,e]),null}function rV(e){var t=wx();return k.useEffect(()=>(t(XB(e)),()=>{t(QB(e))}),[t,e]),null}var iV,aV,sV,oV={};function lV(){return sV?aV:(sV=1,aV=(iV||(iV=1,e=oV,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isPlainObject=function(e){var t;if("object"!=typeof e)return!1;if(null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){const n=e[Symbol.toStringTag];return null!=n&&!!(null==(t=Object.getOwnPropertyDescriptor(e,Symbol.toStringTag))?void 0:t.writable)&&e.toString()===`[object ${n}]`}let n=e;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}),oV).isPlainObject);var e}const cV=i(lV());function uV(){return uV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uV.apply(null,arguments)}var dV=(e,t,n,r,i)=>{var a,s=n-r;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+n,",").concat(t),a+="L ".concat(e+n-s/2,",").concat(t+i),a+="L ".concat(e+n-s/2-r,",").concat(t+i),a+="L ".concat(e,",").concat(t," Z")},hV={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fV=e=>{var t=uN(e,hV),n=k.useRef(),[r,i]=k.useState(-1);k.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&i(e)}catch(t){}},[]);var{x:a,y:s,upperWidth:o,lowerWidth:l,height:c,className:u}=t,{animationEasing:d,animationDuration:h,animationBegin:f,isUpdateAnimationActive:m}=t;if(a!==+a||s!==+s||o!==+o||l!==+l||c!==+c||0===o&&0===l||0===c)return null;var g=ot("recharts-trapezoid",u);return m?k.createElement(JN,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:c,x:a,y:s},to:{upperWidth:o,lowerWidth:l,height:c,x:a,y:s},duration:h,animationEasing:d,isActive:m},e=>{var{upperWidth:i,lowerWidth:a,height:s,x:o,y:l}=e;return k.createElement(JN,{canBegin:r>0,from:"0px ".concat(-1===r?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:f,duration:h,easing:d},k.createElement("path",uV({},Fm(t,!0),{className:g,d:dV(o,l,i,a,s),ref:n})))}):k.createElement("g",null,k.createElement("path",uV({},Fm(t,!0),{className:g,d:dV(a,s,o,l,c)})))},mV=["option","shapeType","propTransformer","activeClassName","isActive"];function gV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gV(Object(n),!0).forEach(function(t){vV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yV(e,t){return pV(pV({},t),e)}function xV(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return k.createElement(rk,n);case"trapezoid":return k.createElement(fV,n);case"sector":return k.createElement(ck,n);case"symbols":if(function(e){return"symbols"===e}(t))return k.createElement(Sv,n);break;default:return null}}function bV(e){var t,{option:n,shapeType:r,propTransformer:i=yV,activeClassName:a="recharts-active-shape",isActive:s}=e,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,mV);if(k.isValidElement(n))t=k.cloneElement(n,pV(pV({},o),function(e){return k.isValidElement(e)?e.props:e}(n)));else if("function"==typeof n)t=n(o);else if(cV(n)&&"boolean"!=typeof n){var l=i(n,o);t=k.createElement(xV,{shapeType:r,elementProps:l})}else{var c=o;t=k.createElement(xV,{shapeType:r,elementProps:c})}return s?k.createElement(Km,{className:a},t):t}var wV=(e,t)=>{var n=wx();return(r,i)=>a=>{null==e||e(r,i,a),n(FI({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},_V=e=>{var t=wx();return(n,r)=>i=>{null==e||e(n,r,i),t(BI())}},jV=(e,t)=>{var n=wx();return(r,i)=>a=>{null==e||e(r,i,a),n(WI({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function NV(e){var{fn:t,args:n}=e,r=wx(),i=ej();return k.useEffect(()=>{if(!i){var e=t(n);return r(II(e)),()=>{r(LI(e))}}},[t,n,r,i]),null}var kV=()=>{};function SV(e){var{legendPayload:t}=e,n=wx(),r=ej();return k.useEffect(()=>r?kV:(n(mj(t)),()=>{n(gj(t))}),[n,r,t]),null}function CV(e){var{legendPayload:t}=e,n=wx(),r=kx(cj);return k.useEffect(()=>"centric"!==r&&"radial"!==r?kV:(n(mj(t)),()=>{n(gj(t))}),[n,r,t]),null}function PV(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",n=k.useRef(xm(t)),r=k.useRef(e);return r.current!==e&&(n.current=xm(t),r.current=e),n.current}var EV=["onMouseEnter","onClick","onMouseLeave"];function MV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function OV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MV(Object(n),!0).forEach(function(t){AV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function AV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TV(){return TV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TV.apply(null,arguments)}function RV(e){var t=k.useMemo(()=>Fm(e,!1),[e]),n=k.useMemo(()=>Lm(e.children,lF),[e.children]),r=k.useMemo(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:t}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,t]),i=kx(e=>WB(e,r,n));return k.createElement(CV,{legendPayload:i})}function DV(e){var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:c}=e;return{dataDefinedOnItem:null==r?void 0:r.map(e=>e.tooltipPayload),positions:null==r?void 0:r.map(e=>e.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:n,name:z_(o,t),hide:l,type:c,color:s,unit:""}}}function IV(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:a,dataKey:s}=n;if(!r||!i||!t)return null;var o=Fm(n,!1),l=Fm(i,!1),c=Fm(a,!1),u="object"==typeof i&&"offsetRadius"in i&&i.offsetRadius||20,d=t.map((e,t)=>{var n,r,d=(e.startAngle+e.endAngle)/2,h=g_(e.cx,e.cy,e.outerRadius+u,d),f=OV(OV(OV(OV({},o),e),{},{stroke:"none"},l),{},{index:t,textAnchor:(n=h.x,r=e.cx,n>r?"start":n<r?"end":"middle")},h),m=OV(OV(OV(OV({},o),e),{},{fill:"none",stroke:e.fill},c),{},{index:t,points:[g_(e.cx,e.cy,e.outerRadius,d),h],key:"line"});return k.createElement(Km,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(t)},a&&((e,t)=>{if(k.isValidElement(e))return k.cloneElement(e,t);if("function"==typeof e)return e(t);var n=ot("recharts-pie-label-line","boolean"!=typeof e?e.className:"");return k.createElement(tN,TV({},t,{type:"linear",className:n}))})(a,m),((e,t,n)=>{if(k.isValidElement(e))return k.cloneElement(e,t);var r=n;if("function"==typeof e&&(r=e(t),k.isValidElement(r)))return r;var i=ot("recharts-pie-label-text","boolean"!=typeof e&&"function"!=typeof e?e.className:"");return k.createElement(LF,TV({},t,{alignmentBaseline:"middle",className:i}),r)})(i,f,j_(e,s)))});return k.createElement(Km,{className:"recharts-pie-labels"},d)}function LV(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,showLabels:a}=e,s=kx(FL),{onMouseEnter:o,onClick:l,onMouseLeave:c}=i,u=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(i,EV),d=wV(o,i.dataKey),h=_V(c),f=jV(l,i.dataKey);return null==t?null:k.createElement(k.Fragment,null,t.map((e,a)=>{if(0===(null==e?void 0:e.startAngle)&&0===(null==e?void 0:e.endAngle)&&1!==t.length)return null;var o=n&&String(a)===s,l=o?n:s?r:null,c=OV(OV({},e),{},{stroke:e.stroke,tabIndex:-1,[K_]:a,[U_]:i.dataKey});return k.createElement(Km,TV({tabIndex:-1,className:"recharts-pie-sector"},Am(u,e,a),{onMouseEnter:d(e,a),onMouseLeave:h(e,a),onClick:f(e,a),key:"sector-".concat(null==e?void 0:e.startAngle,"-").concat(null==e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(a)}),k.createElement(bV,TV({option:l,isActive:o,shapeType:"sector"},c)))}),k.createElement(IV,{sectors:t,props:i,showLabels:a}))}function zV(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:i,animationBegin:a,animationDuration:s,animationEasing:o,activeShape:l,inactiveShape:c,onAnimationStart:u,onAnimationEnd:d}=t,h=PV(t,"recharts-pie-"),f=n.current,[m,g]=k.useState(!0),p=k.useCallback(()=>{"function"==typeof d&&d(),g(!1)},[d]),v=k.useCallback(()=>{"function"==typeof u&&u(),g(!0)},[u]);return k.createElement(JN,{begin:a,duration:s,isActive:i,easing:o,from:{t:0},to:{t:1},onAnimationStart:v,onAnimationEnd:p,key:h},e=>{var{t:i}=e,a=[],s=(r&&r[0]).startAngle;return r.forEach((e,t)=>{var n=f&&f[t],r=t>0?om(e,"paddingAngle",0):0;if(n){var o=_m(n.endAngle-n.startAngle,e.endAngle-e.startAngle),l=OV(OV({},e),{},{startAngle:s+r,endAngle:s+o(i)+r});a.push(l),s=l.endAngle}else{var{endAngle:c,startAngle:u}=e,d=_m(0,c-u)(i),h=OV(OV({},e),{},{startAngle:s+r,endAngle:s+d+r});a.push(h),s=h.endAngle}}),n.current=a,k.createElement(Km,null,k.createElement(LV,{sectors:a,activeShape:l,inactiveShape:c,allOtherPieProps:t,showLabels:!m}))})}function FV(e){var{sectors:t,isAnimationActive:n,activeShape:r,inactiveShape:i}=e,a=k.useRef(null),s=a.current;return n&&t&&t.length&&(!s||s!==t)?k.createElement(zV,{props:e,previousSectorsRef:a}):k.createElement(LV,{sectors:t,activeShape:r,inactiveShape:i,allOtherPieProps:e,showLabels:!0})}function BV(e){var{hide:t,className:n,rootTabIndex:r}=e,i=ot("recharts-pie",n);return t?null:k.createElement(Km,{tabIndex:r,className:i},k.createElement(FV,e))}var VV={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Wj,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function WV(e){var t=uN(e,VV),n=k.useMemo(()=>Lm(e.children,lF),[e.children]),r=Fm(t,!1),i=k.useMemo(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:r}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,r]),a=kx(e=>HB(e,i,n));return k.createElement(k.Fragment,null,k.createElement(NV,{fn:DV,args:OV(OV({},t),{},{sectors:a})}),k.createElement(BV,TV({},t,{sectors:a})))}class $V extends k.PureComponent{constructor(){super(...arguments),AV(this,"id",xm("recharts-pie-"))}render(){return k.createElement(k.Fragment,null,k.createElement(rV,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),k.createElement(RV,this.props),k.createElement(WV,this.props),this.props.children)}}function HV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function KV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HV(Object(n),!0).forEach(function(t){UV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function UV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GV(e){var t,{points:n,mainColor:r,activeDot:i,itemDataKey:a}=e,s=YL(),o=kx(FL),l=kx(BL);if(!o)return null;var c=s.dataKey;return t=c&&!s.allowDuplicatedCategory?Nm(n,"function"==typeof c?e=>c(e.payload):"payload.".concat(c),l):null==n?void 0:n[Number(o)],km(t)?null:(e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=e;if(!1===i||null==t.x||null==t.y)return null;var s,o=KV(KV({index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:null!=r?r:"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Fm(i,!1)),Om(i));return s=k.isValidElement(i)?k.cloneElement(i,o):"function"==typeof i?i(o):k.createElement(vB,o),k.createElement(Km,{className:"recharts-active-dot"},s)})({point:t,childIndex:Number(o),mainColor:r,dataKey:a,activeDot:i})}AV($V,"displayName","Pie"),AV($V,"defaultProps",VV);var qV=()=>{var e=wx();return k.useEffect(()=>(e(UB()),()=>{e(GB())})),null},YV=["children"],XV=()=>{},QV=k.createContext({addErrorBar:XV,removeErrorBar:XV}),ZV={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},JV=k.createContext(ZV);function eW(e){var{children:t}=e,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,YV);return k.createElement(JV.Provider,{value:n},t)}var tW=e=>{var{children:t,xAxisId:n,yAxisId:r,zAxisId:i,dataKey:a,data:s,stackId:o,hide:l,type:c,barSize:u}=e,[d,h]=k.useState([]),f=k.useCallback(e=>{h(t=>[...t,e])},[h]),m=k.useCallback(e=>{h(t=>t.filter(t=>t!==e))},[h]),g=ej();return k.createElement(QV.Provider,{value:{addErrorBar:f,removeErrorBar:m}},k.createElement(nV,{type:c,data:s,xAxisId:n,yAxisId:r,zAxisId:i,dataKey:a,errorBars:d,stackId:o,hide:l,barSize:u,isPanorama:g}),t)};function nW(e){var{addErrorBar:t,removeErrorBar:n}=k.useContext(QV);return k.useEffect(()=>(t(e),()=>{n(e)}),[t,n,e]),null}var rW=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function iW(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aW(){return aW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aW.apply(null,arguments)}function sW(e){var{direction:t,width:n,dataKey:r,isAnimationActive:i,animationBegin:a,animationDuration:s,animationEasing:o}=e,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,rW),c=Fm(l,!1),{data:u,dataPointFormatter:d,xAxisId:h,yAxisId:f,errorBarOffset:m}=k.useContext(JV),g=(e=>{var t=ej();return kx(n=>kI(n,"xAxis",e,t))})(h),p=(e=>{var t=ej();return kx(n=>kI(n,"yAxis",e,t))})(f);if(null==(null==g?void 0:g.scale)||null==(null==p?void 0:p.scale)||null==u)return null;if("x"===t&&"number"!==g.type)return null;var v=u.map(e=>{var{x:l,y:u,value:h,errorVal:f}=d(e,r,t);if(!f)return null;var v,y,x=[];if(Array.isArray(f)?[v,y]=f:v=y=f,"x"===t){var{scale:b}=g,w=u+m,_=w+n,j=w-n,N=b(h-v),S=b(h+y);x.push({x1:S,y1:_,x2:S,y2:j}),x.push({x1:N,y1:w,x2:S,y2:w}),x.push({x1:N,y1:_,x2:N,y2:j})}else if("y"===t){var{scale:C}=p,P=l+m,E=P-n,M=P+n,O=C(h-v),A=C(h+y);x.push({x1:E,y1:A,x2:M,y2:A}),x.push({x1:P,y1:O,x2:P,y2:A}),x.push({x1:E,y1:O,x2:M,y2:O})}var T="".concat(l+m,"px ").concat(u+m,"px");return k.createElement(Km,aW({className:"recharts-errorBar",key:"bar-".concat(x.map(e=>"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)))},c),x.map(e=>{var t=i?{transformOrigin:"".concat(e.x1-5,"px")}:void 0;return k.createElement(JN,{from:{transform:"scaleY(0)",transformOrigin:T},to:{transform:"scaleY(1)",transformOrigin:T},begin:a,easing:o,isActive:i,duration:s,key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2),style:{transformOrigin:T}},k.createElement("line",aW({},e,{style:t})))}))});return k.createElement(Km,{className:"recharts-errorBars"},v)}var oW=k.createContext(void 0);function lW(e){var{direction:t,children:n}=e;return k.createElement(oW.Provider,{value:t},n)}var cW={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function uW(e){var t,n,r=(t=e.direction,n=k.useContext(oW),null!=t?t:null!=n?n:"x"),{width:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l}=uN(e,cW);return k.createElement(k.Fragment,null,k.createElement(nW,{dataKey:e.dataKey,direction:r}),k.createElement(sW,aW({},e,{direction:r,width:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l})))}class dW extends k.Component{render(){return k.createElement(uW,this.props)}}iW(dW,"defaultProps",cW),iW(dW,"displayName","ErrorBar");var hW=["x","y"];function fW(){return fW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fW.apply(null,arguments)}function mW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function gW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mW(Object(n),!0).forEach(function(t){pW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pW(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vW(e,t){var{x:n,y:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,hW),a="".concat(n),s=parseInt(a,10),o="".concat(r),l=parseInt(o,10),c="".concat(t.height||i.height),u=parseInt(c,10),d="".concat(t.width||i.width),h=parseInt(d,10);return gW(gW(gW(gW(gW({},t),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function yW(e){return k.createElement(bV,fW({shapeType:"rectangle",propTransformer:vW,activeClassName:"recharts-active-bar"},e))}var xW=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(n,r)=>{if(pm(e))return e;var i=pm(n)||km(n);return i?e(n,r):(i||function(){throw new Error("Invariant failed")}(),t)}};function bW(e,t){var n,r,i=kx(t=>UR(t,e)),a=kx(e=>qR(e,t)),s=null!==(n=null==i?void 0:i.allowDataOverflow)&&void 0!==n?n:KR.allowDataOverflow,o=null!==(r=null==a?void 0:a.allowDataOverflow)&&void 0!==r?r:GR.allowDataOverflow;return{needClip:s||o,needClipX:s,needClipY:o}}function wW(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=aj(),{needClipX:a,needClipY:s,needClip:o}=bW(t,n);if(!o)return null;var{left:l,top:c,width:u,height:d}=i;return k.createElement("clipPath",{id:"clipPath-".concat(r)},k.createElement("rect",{x:a?l:l-u/2,y:s?c:c-d/2,width:a?u:2*u,height:s?d:2*d}))}var _W=["onMouseEnter","onMouseLeave","onClick"],jW=["value","background","tooltipPosition"],NW=["onMouseEnter","onClick","onMouseLeave"];function kW(){return kW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kW.apply(null,arguments)}function SW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function CW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SW(Object(n),!0).forEach(function(t){PW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function PW(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EW(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var MW=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:z_(n,t),payload:e}]};function OW(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:a,hide:s,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:z_(a,t),hide:s,type:e.tooltipType,color:e.fill,unit:o}}}function AW(e){var t=kx(FL),{data:n,dataKey:r,background:i,allOtherBarProps:a}=e,{onMouseEnter:s,onMouseLeave:o,onClick:l}=a,c=EW(a,_W),u=wV(s,r),d=_V(o),h=jV(l,r);if(!i||null==n)return null;var f=Fm(i,!1);return k.createElement(k.Fragment,null,n.map((e,n)=>{var{value:a,background:s,tooltipPosition:o}=e,l=EW(e,jW);if(!s)return null;var m=u(e,n),g=d(e,n),p=h(e,n),v=CW(CW(CW(CW(CW({option:i,isActive:String(n)===t},l),{},{fill:"#eee"},s),f),Am(c,e,n)),{},{onMouseEnter:m,onMouseLeave:g,onClick:p,dataKey:r,index:n,className:"recharts-bar-background-rectangle"});return k.createElement(yW,kW({key:"background-bar-".concat(n)},v))}))}function TW(e){var{data:t,props:n,showLabels:r}=e,i=Fm(n,!1),{shape:a,dataKey:s,activeBar:o}=n,l=kx(FL),c=kx(VL),{onMouseEnter:u,onClick:d,onMouseLeave:h}=n,f=EW(n,NW),m=wV(u,s),g=_V(h),p=jV(d,s);return t?k.createElement(k.Fragment,null,t.map((e,t)=>{var n=o&&String(t)===l&&(null==c||s===c),r=n?o:a,u=CW(CW(CW({},i),e),{},{isActive:n,option:r,index:t,dataKey:s});return k.createElement(Km,kW({className:"recharts-bar-rectangle"},Am(f,e,t),{onMouseEnter:m(e,t),onMouseLeave:g(e,t),onClick:p(e,t),key:"rectangle-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.value,"-").concat(t)}),k.createElement(yW,u))}),r&&gB.renderCallByParent(n,t)):null}function RW(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=t,d=n.current,h=PV(t,"recharts-bar-"),[f,m]=k.useState(!1),g=k.useCallback(()=>{"function"==typeof c&&c(),m(!1)},[c]),p=k.useCallback(()=>{"function"==typeof u&&u(),m(!0)},[u]);return k.createElement(JN,{begin:s,duration:o,isActive:a,easing:l,from:{t:0},to:{t:1},onAnimationEnd:g,onAnimationStart:p,key:h},e=>{var{t:a}=e,s=1===a?r:r.map((e,t)=>{var n=d&&d[t];if(n){var r=_m(n.x,e.x),s=_m(n.y,e.y),o=_m(n.width,e.width),l=_m(n.height,e.height);return CW(CW({},e),{},{x:r(a),y:s(a),width:o(a),height:l(a)})}if("horizontal"===i){var c=_m(0,e.height)(a);return CW(CW({},e),{},{y:e.y+e.height-c,height:c})}var u=_m(0,e.width)(a);return CW(CW({},e),{},{width:u})});return a>0&&(n.current=s),k.createElement(Km,null,k.createElement(TW,{props:t,data:s,showLabels:!f}))})}function DW(e){var{data:t,isAnimationActive:n}=e,r=k.useRef(null);return n&&t&&t.length&&(null==r.current||r.current!==t)?k.createElement(RW,{previousRectanglesRef:r,props:e}):k.createElement(TW,{props:e,data:t,showLabels:!0})}var IW=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:j_(e,t)}};class LW extends k.PureComponent{constructor(){super(...arguments),PW(this,"id",xm("recharts-bar-"))}render(){var{hide:e,data:t,dataKey:n,className:r,xAxisId:i,yAxisId:a,needClip:s,background:o,id:l,layout:c}=this.props;if(e)return null;var u=ot("recharts-bar",r),d=km(l)?this.id:l;return k.createElement(Km,{className:u},s&&k.createElement("defs",null,k.createElement(wW,{clipPathId:d,xAxisId:i,yAxisId:a})),k.createElement(Km,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(d,")"):null},k.createElement(AW,{data:t,dataKey:n,background:o,allOtherBarProps:this.props}),k.createElement(DW,this.props)),k.createElement(lW,{direction:"horizontal"===c?"y":"x"},this.props.children))}}var zW={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Wj,legendType:"rect",minPointSize:0,xAxisId:0,yAxisId:0};function FW(e){var t,{xAxisId:n,yAxisId:r,hide:i,legendType:a,minPointSize:s,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=uN(e,zW),{needClip:h}=bW(n,r),f=uj(),m=ej(),g=k.useMemo(()=>({barSize:e.barSize,data:void 0,dataKey:e.dataKey,maxBarSize:e.maxBarSize,minPointSize:s,stackId:M_(e.stackId)}),[e.barSize,e.dataKey,e.maxBarSize,s,e.stackId]),p=Lm(e.children,lF),v=kx(e=>t$(e,n,r,m,g,p));if("vertical"!==f&&"horizontal"!==f)return null;var y=null==v?void 0:v[0];return t=null==y||null==y.height||null==y.width?0:"vertical"===f?y.height/2:y.width/2,k.createElement(eW,{xAxisId:n,yAxisId:r,data:v,dataPointFormatter:IW,errorBarOffset:t},k.createElement(LW,kW({},e,{layout:f,needClip:h,data:v,xAxisId:n,yAxisId:r,hide:i,legendType:a,minPointSize:s,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function BW(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:s,yAxis:o,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:d,offset:h,cells:f}=e,m="horizontal"===t?o:s,g=u?m.scale.domain():null,p=(e=>{var{numericAxis:t}=e,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]})({numericAxis:m});return d.map((e,d)=>{var m,v,y,x,b,w;u?m=((e,t)=>{if(!t||2!==t.length||!pm(t[0])||!pm(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!pm(e[0])||e[0]<n)&&(i[0]=n),(!pm(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i})(u[d],g):(m=j_(e,n),Array.isArray(m)||(m=[p,m]));var _=xW(r,0)(m[1],d);if("horizontal"===t){var j,[N,k]=[o.scale(m[0]),o.scale(m[1])];v=A_({axis:s,ticks:l,bandSize:a,offset:i.offset,entry:e,index:d}),y=null!==(j=null!=k?k:N)&&void 0!==j?j:void 0,x=i.size;var S=N-k;if(b=mm(S)?0:S,w={x:v,y:h.top,width:x,height:h.height},Math.abs(_)>0&&Math.abs(b)<Math.abs(_)){var C=fm(b||_)*(Math.abs(_)-Math.abs(b));y-=C,b+=C}}else{var[P,E]=[s.scale(m[0]),s.scale(m[1])];v=P,y=A_({axis:o,ticks:c,bandSize:a,offset:i.offset,entry:e,index:d}),x=E-P,b=i.size,w={x:h.left,y:y,width:h.width,height:b},Math.abs(_)>0&&Math.abs(x)<Math.abs(_)&&(x+=fm(x||_)*(Math.abs(_)-Math.abs(x)))}return CW(CW({},e),{},{x:v,y:y,width:x,height:b,value:u?m:m[1],payload:e,background:w,tooltipPosition:{x:v+x/2,y:y+b/2}},f&&f[d]&&f[d].props)})}class VW extends k.PureComponent{render(){return k.createElement(tW,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},k.createElement(qV,null),k.createElement(SV,{legendPayload:MW(this.props)}),k.createElement(NV,{fn:OW,args:this.props}),k.createElement(FW,this.props))}}function WW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WW(Object(n),!0).forEach(function(t){HW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function HW(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}PW(VW,"displayName","Bar"),PW(VW,"defaultProps",zW);var KW=(e,t,n,r,i)=>i,UW=(e,t,n)=>{var r=null!=n?n:e;if(!km(r))return bm(r,t,0)},GW=Tx([cj,tD,(e,t)=>t,(e,t,n)=>n,(e,t,n,r)=>r],(e,t,n,r,i)=>t.filter(t=>"horizontal"===e?t.xAxisId===n:t.yAxisId===r).filter(e=>e.isPanorama===i).filter(e=>!1===e.hide).filter(e=>"bar"===e.type));function qW(e){return null!=e.stackId&&null!=e.dataKey}var YW=Tx([GW,e=>e.rootProps.barSize,(e,t,n)=>"horizontal"===cj(e)?vI(e,"xAxis",t):vI(e,"yAxis",n)],(e,t,n)=>{var r=e.filter(qW),i=e.filter(e=>null==e.stackId),a=r.reduce((e,t)=>(e[t.stackId]||(e[t.stackId]=[]),e[t.stackId].push(t),e),{});return[...Object.entries(a).map(e=>{var[r,i]=e;return{stackId:r,dataKeys:i.map(e=>e.dataKey),barSize:UW(t,n,i[0].barSize)}}),...i.map(e=>({stackId:void 0,dataKeys:[e.dataKey].filter(e=>null!=e),barSize:UW(t,n,e.barSize)}))]}),XW=(e,t,n,r)=>{var i,a;return"horizontal"===cj(e)?(i=kI(e,"xAxis",t,r),a=NI(e,"xAxis",t,r)):(i=kI(e,"yAxis",n,r),a=NI(e,"yAxis",n,r)),I_(i,a)},QW=Tx([YW,cR,e=>e.rootProps.barGap,uR,(e,t,n,r,i)=>{var a,s,o,l,c=cj(e),u=cR(e),{maxBarSize:d}=i,h=km(d)?u:d;return"horizontal"===c?(o=kI(e,"xAxis",t,r),l=NI(e,"xAxis",t,r)):(o=kI(e,"yAxis",n,r),l=NI(e,"yAxis",n,r)),null!==(a=null!==(s=I_(o,l,!0))&&void 0!==s?s:h)&&void 0!==a?a:0},XW,(e,t,n,r,i)=>i.maxBarSize],(e,t,n,r,i,a,s)=>{var o=km(s)?t:s,l=function(e,t,n,r,i){var a=r.length;if(!(a<1)){var s,o=bm(e,n,0,!0),l=[];if(Hj(r[0].barSize)){var c=!1,u=n/a,d=r.reduce((e,t)=>e+(t.barSize||0),0);(d+=(a-1)*o)>=n&&(d-=(a-1)*o,o=0),d>=n&&u>0&&(c=!0,d=a*(u*=.9));var h={offset:((n-d)/2|0)-o,size:0};s=r.reduce((e,t)=>{var n,r=[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:h.offset+h.size+o,size:c?u:null!==(n=t.barSize)&&void 0!==n?n:0}}];return h=r[r.length-1].position,r},l)}else{var f=bm(t,n,0,!0);n-2*f-(a-1)*o<=0&&(o=0);var m=(n-2*f-(a-1)*o)/a;m>1&&(m>>=0);var g=Hj(i)?Math.min(m,i):m;s=r.reduce((e,t,n)=>[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:f+(m+o)*n+(m-g)/2,size:g}}],l)}return s}}(n,r,i!==a?i:a,e,o);return i!==a&&null!=l&&(l=l.map(e=>$W($W({},e),{},{position:$W($W({},e.position),{},{offset:e.position.offset-i/2})}))),l}),ZW=Tx([QW,KW],(e,t)=>{if(null!=e){var n=e.find(e=>e.stackId===t.stackId&&e.dataKeys.includes(t.dataKey));if(null!=n)return n.position}}),JW=Tx([tD,KW],(e,t)=>{if(e.some(e=>"bar"===e.type&&t.dataKey===e.dataKey&&t.stackId===e.stackId&&t.stackId===e.stackId))return t}),e$=Tx([(e,t,n,r)=>"horizontal"===cj(e)?vD(e,"yAxis",n,r):vD(e,"xAxis",t,r),KW],(e,t)=>{if(e&&null!=(null==t?void 0:t.dataKey)){var{stackId:n}=t;if(null!=n){var r=e[n];if(r){var{stackedData:i}=r;if(i)return i.find(e=>e.key===t.dataKey)}}}}),t$=Tx([X_,(e,t,n,r)=>kI(e,"xAxis",t,r),(e,t,n,r)=>kI(e,"yAxis",n,r),(e,t,n,r)=>NI(e,"xAxis",t,r),(e,t,n,r)=>NI(e,"yAxis",n,r),ZW,cj,hT,XW,e$,JW,(e,t,n,r,i,a)=>a],(e,t,n,r,i,a,s,o,l,c,u,d)=>{var{chartData:h,dataStartIndex:f,dataEndIndex:m}=o;if(null!=u&&null!=a&&("horizontal"===s||"vertical"===s)&&null!=t&&null!=n&&null!=r&&null!=i&&null!=l){var g,{data:p}=u;if(null!=(g=null!=p&&p.length>0?p:null==h?void 0:h.slice(f,m+1)))return BW({layout:s,barSettings:u,pos:a,bandSize:l,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,stackedData:c,displayedData:g,offset:e,cells:d})}}),n$=e=>{var{chartData:t}=e,n=wx(),r=ej();return k.useEffect(()=>r?()=>{}:(n(Oz(t)),()=>{n(Oz(void 0))}),[t,n,r]),null},r$={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},i$=jw({name:"brush",initialState:r$,reducers:{setBrushSettings:(e,t)=>null==t.payload?r$:t.payload}}),{setBrushSettings:a$}=i$.actions,s$=i$.reducer;function o$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o$(Object(n),!0).forEach(function(t){c$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c$(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u$=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return{x:Math.min(n,i),y:Math.min(r,a),width:Math.abs(i-n),height:Math.abs(a-r)}};class d${static create(e){return new d$(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==e){if(n)switch(n){case"start":default:return this.scale(e);case"middle":var r=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+r;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}if(t){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}c$(d$,"EPS",1e-4);var h$=e=>{var t=Object.keys(e).reduce((t,n)=>l$(l$({},t),{},{[n]:d$.create(e[n])}),{});return l$(l$({},t),{},{apply(e){var{bandAware:n,position:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.fromEntries(Object.entries(e).map(e=>{var[i,a]=e;return[i,t[i].apply(a,{bandAware:n,position:r})]}))},isInRange:e=>Object.keys(e).every(n=>t[n].isInRange(e[n]))})},f$=jw({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=nw(e).dots.findIndex(e=>e===t.payload);-1!==n&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=nw(e).areas.findIndex(e=>e===t.payload);-1!==n&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=nw(e).lines.findIndex(e=>e===t.payload);-1!==n&&e.lines.splice(n,1)}}}),{addDot:m$,removeDot:g$,addArea:p$,removeArea:v$,addLine:y$,removeLine:x$}=f$.actions,b$=f$.reducer,w$=k.createContext(void 0),_$=e=>{var{children:t}=e,[n]=k.useState("".concat(xm("recharts"),"-clip")),r=aj();if(null==r)return null;var{left:i,top:a,height:s,width:o}=r;return k.createElement(w$.Provider,{value:n},k.createElement("defs",null,k.createElement("clipPath",{id:n},k.createElement("rect",{x:i,y:a,height:s,width:o}))),t)},j$=()=>k.useContext(w$);function N$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function k$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N$(Object(n),!0).forEach(function(t){S$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function S$(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C$(){return C$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C$.apply(null,arguments)}function P$(e){var t=wx();return k.useEffect(()=>(t(y$(e)),()=>{t(x$(e))})),null}function E$(e){var{x:t,y:n,segment:r,xAxisId:i,yAxisId:a,shape:s,className:o,ifOverflow:l}=e,c=ej(),u=j$(),d=kx(e=>UR(e,i)),h=kx(e=>qR(e,a)),f=kx(e=>sI(e,"xAxis",i,c)),m=kx(e=>sI(e,"yAxis",a,c)),g=rj(),p=vm(t),v=vm(n);if(!u||!g||null==d||null==h||null==f||null==m)return null;var y=((e,t,n,r,i,a,s,o,l)=>{var{x:c,y:u,width:d,height:h}=i;if(n){var{y:f}=l,m=e.y.apply(f,{position:a});if(mm(m))return null;if("discard"===l.ifOverflow&&!e.y.isInRange(m))return null;var g=[{x:c+d,y:m},{x:c,y:m}];return"left"===o?g.reverse():g}if(t){var{x:p}=l,v=e.x.apply(p,{position:a});if(mm(v))return null;if("discard"===l.ifOverflow&&!e.x.isInRange(v))return null;var y=[{x:v,y:u+h},{x:v,y:u}];return"top"===s?y.reverse():y}if(r){var{segment:x}=l,b=x.map(t=>e.apply(t,{position:a}));return"discard"===l.ifOverflow&&b.some(t=>!e.isInRange(t))?null:b}return null})(h$({x:f,y:m}),p,v,r&&2===r.length,g,e.position,d.orientation,h.orientation,e);if(!y)return null;var[{x:x,y:b},{x:w,y:_}]=y,j=k$(k$({clipPath:"hidden"===l?"url(#".concat(u,")"):void 0},Fm(e,!0)),{},{x1:x,y1:b,x2:w,y2:_});return k.createElement(Km,{className:ot("recharts-reference-line",o)},((e,t)=>k.isValidElement(e)?k.cloneElement(e,t):"function"==typeof e?e(t):k.createElement("line",C$({},t,{className:"recharts-reference-line-line"})))(s,j),GF.renderCallByParent(e,(e=>{var{x1:t,y1:n,x2:r,y2:i}=e;return u$({x:t,y:n},{x:r,y:i})})({x1:x,y1:b,x2:w,y2:_})))}function M$(e){return k.createElement(k.Fragment,null,k.createElement(P$,{yAxisId:e.yAxisId,xAxisId:e.xAxisId,ifOverflow:e.ifOverflow,x:e.x,y:e.y}),k.createElement(E$,e))}class O$ extends k.Component{render(){return k.createElement(M$,this.props)}}function A$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function T$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A$(Object(n),!0).forEach(function(t){R$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function R$(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D$(){return D$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D$.apply(null,arguments)}function I$(e){var t=wx();return k.useEffect(()=>(t(p$(e)),()=>{t(v$(e))})),null}function L$(e){var{x1:t,x2:n,y1:r,y2:i,className:a,shape:s,xAxisId:o,yAxisId:l}=e,c=j$(),u=ej(),d=kx(e=>sI(e,"xAxis",o,u)),h=kx(e=>sI(e,"yAxis",l,u));if(null==d||null==!h)return null;var f=vm(t),m=vm(n),g=vm(r),p=vm(i);if(!(f||m||g||p||s))return null;var v=((e,t,n,r,i,a,s)=>{var{x1:o,x2:l,y1:c,y2:u}=s;if(null==i||null==a)return null;var d=h$({x:i,y:a}),h={x:e?d.x.apply(o,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(c,{position:"start"}):d.y.rangeMin},f={x:t?d.x.apply(l,{position:"end"}):d.x.rangeMax,y:r?d.y.apply(u,{position:"end"}):d.y.rangeMax};return"discard"!==s.ifOverflow||d.isInRange(h)&&d.isInRange(f)?u$(h,f):null})(f,m,g,p,d,h,e);if(!v&&!s)return null;var y="hidden"===e.ifOverflow?"url(#".concat(c,")"):void 0;return k.createElement(Km,{className:ot("recharts-reference-area",a)},((e,t)=>k.isValidElement(e)?k.cloneElement(e,t):"function"==typeof e?e(t):k.createElement(rk,D$({},t,{className:"recharts-reference-area-rect"})))(s,T$(T$({clipPath:y},Fm(e,!0)),v)),GF.renderCallByParent(e,v))}function z$(e){return k.createElement(k.Fragment,null,k.createElement(I$,{yAxisId:e.yAxisId,xAxisId:e.xAxisId,ifOverflow:e.ifOverflow,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}),k.createElement(L$,e))}S$(O$,"displayName","ReferenceLine"),S$(O$,"defaultProps",{ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});class F$ extends k.Component{render(){return k.createElement(z$,this.props)}}function B$(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function V$(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function W$(e,t,n){return function(e){var{width:t,height:n}=e,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,a=Math.atan(n/t),s=i>a&&i<Math.PI-a?n/Math.sin(i):t/Math.cos(i);return Math.abs(s)}({width:e.width+t.width,height:e.height+t.height},n)}function $$(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function H$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function K$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H$(Object(n),!0).forEach(function(t){U$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function U$(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G$(e,t,n){var r,{tick:i,ticks:a,viewBox:s,minTickGap:o,orientation:l,interval:c,tickFormatter:u,unit:d,angle:h}=e;if(!a||!a.length||!i)return[];if(pm(c)||Wj)return null!==(r=function(e,t){return V$(e,t+1)}(a,pm(c)?c:0))&&void 0!==r?r:[];var f=[],m="top"===l||"bottom"===l?"width":"height",g=d&&"width"===m?gF(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},p=(e,r)=>{var i="function"==typeof u?u(e.value,r):e.value;return"width"===m?W$(gF(i,{fontSize:t,letterSpacing:n}),g,h):gF(i,{fontSize:t,letterSpacing:n})[m]},v=a.length>=2?fm(a[1].coordinate-a[0].coordinate):1,y=function(e,t,n){var r="width"===n,{x:i,y:a,width:s,height:o}=e;return 1===t?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}(s,v,m);return"equidistantPreserveStart"===c?function(e,t,n,r,i){for(var a,s=(r||[]).slice(),{start:o,end:l}=t,c=0,u=1,d=o,h=function(){var t=null==r?void 0:r[c];if(void 0===t)return{v:V$(r,u)};var a,s=c,h=()=>(void 0===a&&(a=n(t,s)),a),f=t.coordinate,m=0===c||$$(e,f,h,d,l);m||(c=0,d=o,u+=1),m&&(d=f+e*(h()/2+i),c+=u)};u<=s.length;)if(a=h())return a.v;return[]}(v,y,p,a,o):(f="preserveStart"===c||"preserveStartEnd"===c?function(e,t,n,r,i,a){var s=(r||[]).slice(),o=s.length,{start:l,end:c}=t;if(a){var u=r[o-1],d=n(u,o-1),h=e*(u.coordinate+e*d/2-c);s[o-1]=u=K$(K$({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),$$(e,u.tickCoord,()=>d,l,c)&&(c=u.tickCoord-e*(d/2+i),s[o-1]=K$(K$({},u),{},{isShow:!0}))}for(var f=a?o-1:o,m=function(t){var r,a=s[t],o=()=>(void 0===r&&(r=n(a,t)),r);if(0===t){var u=e*(a.coordinate-e*o()/2-l);s[t]=a=K$(K$({},a),{},{tickCoord:u<0?a.coordinate-u*e:a.coordinate})}else s[t]=a=K$(K$({},a),{},{tickCoord:a.coordinate});$$(e,a.tickCoord,o,l,c)&&(l=a.tickCoord+e*(o()/2+i),s[t]=K$(K$({},a),{},{isShow:!0}))},g=0;g<f;g++)m(g);return s}(v,y,p,a,o,"preserveStartEnd"===c):function(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,c=function(t){var r,c=a[t],u=()=>(void 0===r&&(r=n(c,t)),r);if(t===s-1){var d=e*(c.coordinate+e*u()/2-l);a[t]=c=K$(K$({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else a[t]=c=K$(K$({},c),{},{tickCoord:c.coordinate});$$(e,c.tickCoord,u,o,l)&&(l=c.tickCoord-e*(u()/2+i),a[t]=K$(K$({},c),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return a}(v,y,p,a,o),f.filter(e=>e.isShow))}R$(F$,"displayName","ReferenceArea"),R$(F$,"defaultProps",{ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});var q$=["viewBox"],Y$=["viewBox"];function X$(){return X$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X$.apply(null,arguments)}function Q$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Z$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q$(Object(n),!0).forEach(function(t){eH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function J$(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function eH(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class tH extends k.Component{constructor(e){super(e),this.tickRefs=k.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,t){var{viewBox:n}=e,r=J$(e,q$),i=this.props,{viewBox:a}=i,s=J$(i,Y$);return!B$(n,a)||!B$(r,s)||!B$(t,this.state)}getTickLineCoord(e){var t,n,r,i,a,s,{x:o,y:l,width:c,height:u,orientation:d,tickSize:h,mirror:f,tickMargin:m}=this.props,g=f?-1:1,p=e.tickSize||h,v=pm(e.tickCoord)?e.tickCoord:e.coordinate;switch(d){case"top":t=n=e.coordinate,s=(r=(i=l+ +!f*u)-g*p)-g*m,a=v;break;case"left":r=i=e.coordinate,a=(t=(n=o+ +!f*c)-g*p)-g*m,s=v;break;case"right":r=i=e.coordinate,a=(t=(n=o+ +f*c)+g*p)+g*m,s=v;break;default:t=n=e.coordinate,s=(r=(i=l+ +f*u)+g*p)+g*m,a=v}return{line:{x1:t,y1:r,x2:n,y2:i},tick:{x:a,y:s}}}getTickTextAnchor(){var e,{orientation:t,mirror:n}=this.props;switch(t){case"left":e=n?"start":"end";break;case"right":e=n?"end":"start";break;default:e="middle"}return e}getTickVerticalAnchor(){var{orientation:e,mirror:t}=this.props;switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}renderAxisLine(){var{x:e,y:t,width:n,height:r,orientation:i,mirror:a,axisLine:s}=this.props,o=Z$(Z$(Z$({},Fm(this.props,!1)),Fm(s,!1)),{},{fill:"none"});if("top"===i||"bottom"===i){var l=+("top"===i&&!a||"bottom"===i&&a);o=Z$(Z$({},o),{},{x1:e,y1:t+l*r,x2:e+n,y2:t+l*r})}else{var c=+("left"===i&&!a||"right"===i&&a);o=Z$(Z$({},o),{},{x1:e+c*n,y1:t,x2:e+c*n,y2:t+r})}return k.createElement("line",X$({},o,{className:ot("recharts-cartesian-axis-line",om(s,"className"))}))}static renderTickItem(e,t,n){var r,i=ot(t.className,"recharts-cartesian-axis-tick-value");if(k.isValidElement(e))r=k.cloneElement(e,Z$(Z$({},t),{},{className:i}));else if("function"==typeof e)r=e(Z$(Z$({},t),{},{className:i}));else{var a="recharts-cartesian-axis-tick-value";"boolean"!=typeof e&&(a=ot(a,e.className)),r=k.createElement(LF,X$({},t,{className:a}),n)}return r}renderTicks(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],{tickLine:r,stroke:i,tick:a,tickFormatter:s,unit:o}=this.props,l=G$(Z$(Z$({},this.props),{},{ticks:n}),e,t),c=this.getTickTextAnchor(),u=this.getTickVerticalAnchor(),d=Fm(this.props,!1),h=Fm(a,!1),f=Z$(Z$({},d),{},{fill:"none"},Fm(r,!1)),m=l.map((e,t)=>{var{line:n,tick:m}=this.getTickLineCoord(e),g=Z$(Z$(Z$(Z$({textAnchor:c,verticalAnchor:u},d),{},{stroke:"none",fill:i},h),m),{},{index:t,payload:e,visibleTicksCount:l.length,tickFormatter:s});return k.createElement(Km,X$({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},Am(this.props,e,t)),r&&k.createElement("line",X$({},f,n,{className:ot("recharts-cartesian-axis-tick-line",om(r,"className"))})),a&&tH.renderTickItem(a,g,"".concat("function"==typeof s?s(e.value,t):e.value).concat(o||"")))});return m.length>0?k.createElement("g",{className:"recharts-cartesian-axis-ticks"},m):null}render(){var{axisLine:e,width:t,height:n,className:r,hide:i}=this.props;if(i)return null;var{ticks:a}=this.props;return null!=t&&t<=0||null!=n&&n<=0?null:k.createElement(Km,{className:ot("recharts-cartesian-axis",r),ref:e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(t);var n=t[0];if(n){var r=window.getComputedStyle(n).fontSize,i=window.getComputedStyle(n).letterSpacing;r===this.state.fontSize&&i===this.state.letterSpacing||this.setState({fontSize:window.getComputedStyle(n).fontSize,letterSpacing:window.getComputedStyle(n).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,a),GF.renderCallByParent(this.props))}}eH(tH,"displayName","CartesianAxis"),eH(tH,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var nH=["x1","y1","x2","y2","key"],rH=["offset"],iH=["xAxisId","yAxisId"],aH=["xAxisId","yAxisId"];function sH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sH(Object(n),!0).forEach(function(t){lH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function lH(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cH(){return cH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cH.apply(null,arguments)}function uH(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var dH=e=>{var{fill:t}=e;if(!t||"none"===t)return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:o}=e;return k.createElement("rect",{x:r,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function hH(e,t){var n;if(k.isValidElement(e))n=k.cloneElement(e,t);else if("function"==typeof e)n=e(t);else{var{x1:r,y1:i,x2:a,y2:s,key:o}=t,l=uH(t,nH),c=Fm(l,!1),{offset:u}=c,d=uH(c,rH);n=k.createElement("line",cH({},d,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:o}))}return n}function fH(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=uH(e,iH),l=i.map((e,i)=>{var a=oH(oH({},o),{},{x1:t,y1:e,x2:t+n,y2:e,key:"line-".concat(i),index:i});return hH(r,a)});return k.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function mH(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=uH(e,aH),l=i.map((e,i)=>{var a=oH(oH({},o),{},{x1:e,y1:t,x2:e,y2:t+n,key:"line-".concat(i),index:i});return hH(r,a)});return k.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function gH(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length)return null;var c=o.map(e=>Math.round(e+i-i)).sort((e,t)=>e-t);i!==c[0]&&c.unshift(0);var u=c.map((e,o)=>{var l=c[o+1]?c[o+1]-e:i+s-e;if(l<=0)return null;var u=o%t.length;return k.createElement("rect",{key:"react-".concat(o),y:e,x:r,height:l,width:a,stroke:"none",fill:t[u],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function pH(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:o,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var c=l.map(e=>Math.round(e+i-i)).sort((e,t)=>e-t);i!==c[0]&&c.unshift(0);var u=c.map((e,t)=>{var l=c[t+1]?c[t+1]-e:i+s-e;if(l<=0)return null;var u=t%n.length;return k.createElement("rect",{key:"react-".concat(t),x:e,y:a,width:l,height:o,stroke:"none",fill:n[u],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var vH=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return k_(G$(oH(oH(oH({},tH.defaultProps),n),{},{ticks:S_(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},yH=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return k_(G$(oH(oH(oH({},tH.defaultProps),n),{},{ticks:S_(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},xH={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function bH(e){var t=sj(),n=oj(),r=aj(),i=oH(oH({},uN(e,xH)),{},{x:pm(e.x)?e.x:r.left,y:pm(e.y)?e.y:r.top,width:pm(e.width)?e.width:r.width,height:pm(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:c,height:u,syncWithTicks:d,horizontalValues:h,verticalValues:f}=i,m=ej(),g=kx(e=>_I(e,"xAxis",a,m)),p=kx(e=>_I(e,"yAxis",s,m));if(!pm(c)||c<=0||!pm(u)||u<=0||!pm(o)||o!==+o||!pm(l)||l!==+l)return null;var v=i.verticalCoordinatesGenerator||vH,y=i.horizontalCoordinatesGenerator||yH,{horizontalPoints:x,verticalPoints:b}=i;if(!(x&&x.length||"function"!=typeof y)){var w=h&&h.length,_=y({yAxis:p?oH(oH({},p),{},{ticks:w?h:p.ticks}):void 0,width:t,height:n,offset:r},!!w||d);rF(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(x=_)}if(!(b&&b.length||"function"!=typeof v)){var j=f&&f.length,N=v({xAxis:g?oH(oH({},g),{},{ticks:j?f:g.ticks}):void 0,width:t,height:n,offset:r},!!j||d);rF(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(b=N)}return k.createElement("g",{className:"recharts-cartesian-grid"},k.createElement(dH,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),k.createElement(gH,cH({},i,{horizontalPoints:x})),k.createElement(pH,cH({},i,{verticalPoints:b})),k.createElement(fH,cH({},i,{offset:r,horizontalPoints:x,xAxis:g,yAxis:p})),k.createElement(mH,cH({},i,{offset:r,verticalPoints:b,xAxis:g,yAxis:p})))}bH.displayName="CartesianGrid";var wH=(e,t,n,r)=>kI(e,"xAxis",t,r),_H=(e,t,n,r)=>NI(e,"xAxis",t,r),jH=(e,t,n,r)=>kI(e,"yAxis",n,r),NH=(e,t,n,r)=>NI(e,"yAxis",n,r),kH=Tx([cj,wH,jH,_H,NH],(e,t,n,r,i)=>N_(e,"xAxis")?I_(t,r,!1):I_(n,i,!1)),SH=Tx([tD,(e,t,n,r,i)=>i],(e,t)=>{if(e.some(e=>"line"===e.type&&t.dataKey===e.dataKey&&t.data===e.data))return t}),CH=Tx([cj,wH,jH,_H,NH,SH,kH,hT],(e,t,n,r,i,a,s,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=o;if(null!=a&&null!=t&&null!=n&&null!=r&&null!=i&&0!==r.length&&0!==i.length&&null!=s){var d,{dataKey:h,data:f}=a;if(null!=(d=null!=f&&f.length>0?f:null==l?void 0:l.slice(c,u+1)))return function(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:l}=e;return l.map((e,l)=>{var c=j_(e,s);return"horizontal"===t?{x:O_({axis:n,ticks:i,bandSize:o,entry:e,index:l}),y:km(c)?null:r.scale(c),value:c,payload:e}:{x:km(c)?null:n.scale(c),y:O_({axis:r,ticks:a,bandSize:o,entry:e,index:l}),value:c,payload:e}})}({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:h,bandSize:s,displayedData:d})}}),PH=["type","layout","connectNulls","needClip"],EH=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function MH(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function OH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function AH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OH(Object(n),!0).forEach(function(t){TH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function TH(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RH(){return RH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RH.apply(null,arguments)}var DH=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:z_(n,t),payload:e}]};function IH(e){var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:l}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:z_(s,t),hide:o,type:e.tooltipType,color:e.stroke,unit:l}}}var LH=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function zH(e,t){for(var n=e.length%2!=0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}function FH(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:a,needClip:s}=r;if(!function(e,t){return null!=e&&(!!t||1===e.length)}(n,i))return null;var o=zm(i),l=Fm(r,!1),c=Fm(i,!0),u=n.map((e,t)=>{var r=AH(AH(AH({key:"dot-".concat(t),r:3},l),c),{},{index:t,cx:e.x,cy:e.y,dataKey:a,value:e.value,payload:e.payload,points:n});return function(e,t){var n;if(k.isValidElement(e))n=k.cloneElement(e,t);else if("function"==typeof e)n=e(t);else{var r=ot("recharts-line-dot","boolean"!=typeof e?e.className:"");n=k.createElement(vB,RH({},t,{className:r}))}return n}(i,r)}),d={clipPath:s?"url(#clipPath-".concat(o?"":"dots-").concat(t,")"):null};return k.createElement(Km,RH({className:"recharts-line-dots",key:"dots"},d),u)}function BH(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:a,showLabels:s}=e,{type:o,layout:l,connectNulls:c,needClip:u}=a,d=MH(a,PH),h=AH(AH({},Fm(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):null,points:r,type:o,layout:l,connectNulls:c,strokeDasharray:null!=i?i:a.strokeDasharray});return k.createElement(k.Fragment,null,(null==r?void 0:r.length)>1&&k.createElement(tN,RH({},h,{pathRef:n})),k.createElement(FH,{points:r,clipPathId:t,props:a}),s&&gB.renderCallByParent(a,r))}function VH(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:s,strokeDasharray:o,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:d,animateNewValues:h,width:f,height:m,onAnimationEnd:g,onAnimationStart:p}=n,v=i.current,y=PV(n,"recharts-line-"),[x,b]=k.useState(!1),w=k.useCallback(()=>{"function"==typeof g&&g(),b(!1)},[g]),_=k.useCallback(()=>{"function"==typeof p&&p(),b(!0)},[p]),j=function(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}(r.current),N=a.current;return k.createElement(JN,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},onAnimationEnd:w,onAnimationStart:_,key:y},e=>{var l,{t:c}=e,u=_m(N,j+N),d=Math.min(u(c),j);if(o){var g="".concat(o).split(/[,\s]+/gim).map(e=>parseFloat(e));l=((e,t,n)=>{var r=n.reduce((e,t)=>e+t);if(!r)return LH(t,e);for(var i=Math.floor(e/r),a=e%r,s=t-e,o=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>a){o=[...n.slice(0,l),a-c];break}var u=o.length%2==0?[0,s]:[s];return[...zH(n,i),...o,...u].map(e=>"".concat(e,"px")).join(", ")})(d,j,g)}else l=LH(j,d);if(v){var p=v.length/s.length,y=1===c?s:s.map((e,t)=>{var n=Math.floor(t*p);if(v[n]){var r=v[n],i=_m(r.x,e.x),a=_m(r.y,e.y);return AH(AH({},e),{},{x:i(c),y:a(c)})}if(h){var s=_m(2*f,e.x),o=_m(m/2,e.y);return AH(AH({},e),{},{x:s(c),y:o(c)})}return AH(AH({},e),{},{x:e.x,y:e.y})});return i.current=y,k.createElement(BH,{props:n,points:y,clipPathId:t,pathRef:r,showLabels:!x,strokeDasharray:l})}return c>0&&j>0&&(i.current=s,a.current=d),k.createElement(BH,{props:n,points:s,clipPathId:t,pathRef:r,showLabels:!x,strokeDasharray:l})})}function WH(e){var{clipPathId:t,props:n}=e,{points:r,isAnimationActive:i}=n,a=k.useRef(null),s=k.useRef(0),o=k.useRef(null),l=a.current;return i&&r&&r.length&&l!==r?k.createElement(VH,{props:n,clipPathId:t,previousPointsRef:a,longestAnimatedLengthRef:s,pathRef:o}):k.createElement(BH,{props:n,points:r,clipPathId:t,pathRef:o,showLabels:!0})}var $H=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:j_(e.payload,t)});class HH extends k.Component{constructor(){super(...arguments),TH(this,"id",xm("recharts-line-"))}render(){var e,{hide:t,dot:n,points:r,className:i,xAxisId:a,yAxisId:s,top:o,left:l,width:c,height:u,id:d,needClip:h,layout:f}=this.props;if(t)return null;var m=ot("recharts-line",i),g=km(d)?this.id:d,{r:p=3,strokeWidth:v=2}=null!==(e=Fm(n,!1))&&void 0!==e?e:{r:3,strokeWidth:2},y=zm(n),x=2*p+v;return k.createElement(k.Fragment,null,k.createElement(Km,{className:m},h&&k.createElement("defs",null,k.createElement(wW,{clipPathId:g,xAxisId:a,yAxisId:s}),!y&&k.createElement("clipPath",{id:"clipPath-dots-".concat(g)},k.createElement("rect",{x:l-x/2,y:o-x/2,width:c+x,height:u+x}))),k.createElement(WH,{props:this.props,clipPathId:g}),k.createElement(lW,{direction:"horizontal"===f?"y":"x"},k.createElement(eW,{xAxisId:a,yAxisId:s,data:r,dataPointFormatter:$H,errorBarOffset:0},this.props.children))),k.createElement(GV,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var KH={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Wj,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function UH(e){var t=uN(e,KH),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,hide:c,isAnimationActive:u,label:d,legendType:h,xAxisId:f,yAxisId:m}=t,g=MH(t,EH),{needClip:p}=bW(f,m),{height:v,width:y,left:x,top:b}=aj(),w=uj(),_=ej(),j=k.useMemo(()=>({dataKey:e.dataKey,data:e.data}),[e.dataKey,e.data]),N=kx(e=>CH(e,f,m,_,j));return"horizontal"!==w&&"vertical"!==w?null:k.createElement(HH,RH({},g,{connectNulls:o,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:u,hide:c,label:d,legendType:h,xAxisId:f,yAxisId:m,points:N,layout:w,height:v,width:y,left:x,top:b,needClip:p}))}class GH extends k.PureComponent{render(){return k.createElement(tW,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},k.createElement(SV,{legendPayload:DH(this.props)}),k.createElement(NV,{fn:IH,args:this.props}),k.createElement(UH,this.props))}}TH(GH,"displayName","Line"),TH(GH,"defaultProps",KH);var qH=(e,t,n,r)=>kI(e,"xAxis",t,r),YH=(e,t,n,r)=>NI(e,"xAxis",t,r),XH=(e,t,n,r)=>kI(e,"yAxis",n,r),QH=(e,t,n,r)=>NI(e,"yAxis",n,r),ZH=Tx([cj,qH,XH,YH,QH],(e,t,n,r,i)=>N_(e,"xAxis")?I_(t,r,!1):I_(n,i,!1)),JH=Tx([tD,(e,t,n,r,i)=>i],(e,t)=>{if(e.some(e=>"area"===e.type&&t.dataKey===e.dataKey&&M_(t.stackId)===e.stackId&&t.data===e.data))return t}),eK=Tx([cj,qH,XH,YH,QH,(e,t,n,r,i)=>{var a,s,o=cj(e);if(null!=(s=N_(o,"xAxis")?vD(e,"yAxis",n,r):vD(e,"xAxis",t,r))){var{dataKey:l,stackId:c}=i;if(null!=c){var u=null===(a=s[c])||void 0===a?void 0:a.stackedData;return null==u?void 0:u.find(e=>e.key===l)}}},hT,ZH,JH],(e,t,n,r,i,a,s,o,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=s;if(null!=l&&("horizontal"===e||"vertical"===e)&&null!=t&&null!=n&&null!=r&&null!=i&&0!==r.length&&0!==i.length&&null!=o){var h,{data:f}=l;if(null!=(h=f&&f.length>0?f:null==c?void 0:c.slice(u,d+1)))return function(e){var t,{areaSettings:{connectNulls:n,baseValue:r,dataKey:i},stackedData:a,layout:s,chartBaseValue:o,xAxis:l,yAxis:c,displayedData:u,dataStartIndex:d,xAxisTicks:h,yAxisTicks:f,bandSize:m}=e,g=a&&a.length,p=((e,t,n,r,i)=>{var a=null!=n?n:t;if(pm(a))return a;var s="horizontal"===e?i:r,o=s.scale.domain();if("number"===s.type){var l=Math.max(o[0],o[1]),c=Math.min(o[0],o[1]);return"dataMin"===a?c:"dataMax"===a||l<0?l:Math.max(Math.min(o[0],o[1]),0)}return"dataMin"===a?o[0]:"dataMax"===a?o[1]:o[0]})(s,o,r,l,c),v="horizontal"===s,y=!1,x=u.map((e,t)=>{var r;g?r=a[d+t]:(r=j_(e,i),Array.isArray(r)?y=!0:r=[p,r]);var s=null==r[1]||g&&!n&&null==j_(e,i);return v?{x:O_({axis:l,ticks:h,bandSize:m,entry:e,index:t}),y:s?null:c.scale(r[1]),value:r,payload:e}:{x:s?null:l.scale(r[1]),y:O_({axis:c,ticks:f,bandSize:m,entry:e,index:t}),value:r,payload:e}});return t=g||y?x.map(e=>{var t=Array.isArray(e.value)?e.value[0]:null;return v?{x:e.x,y:null!=t&&null!=e.y?c.scale(t):null}:{x:null!=t?l.scale(t):null,y:e.y}}):v?c.scale(p):l.scale(p),{points:x,baseLine:t,isRange:y}}({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:u,areaSettings:l,stackedData:a,displayedData:h,chartBaseValue:void 0,bandSize:o})}}),tK=["layout","type","stroke","connectNulls","isRange"],nK=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function rK(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function iK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function aK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iK(Object(n),!0).forEach(function(t){sK(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iK(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function sK(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oK(){return oK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oK.apply(null,arguments)}function lK(e,t){return e&&"none"!==e?e:t}var cK=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:lK(r,i),value:z_(n,t),payload:e}]};function uK(e){var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:l}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:z_(s,t),hide:o,type:e.tooltipType,color:lK(r,a),unit:l}}}function dK(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:a,dataKey:s}=r;if(!function(e,t){return null!=e&&(!!t||1===e.length)}(n,a))return null;var o=zm(a),l=Fm(r,!1),c=Fm(a,!0),u=n.map((e,t)=>{var r=aK(aK(aK({key:"dot-".concat(t),r:3},l),c),{},{index:t,cx:e.x,cy:e.y,dataKey:s,value:e.value,payload:e.payload,points:n});return((e,t)=>{var n;if(k.isValidElement(e))n=k.cloneElement(e,t);else if("function"==typeof e)n=e(t);else{var r=ot("recharts-area-dot","boolean"!=typeof e?e.className:"");n=k.createElement(vB,oK({},t,{className:r}))}return n})(a,r)}),d={clipPath:i?"url(#clipPath-".concat(o?"":"dots-").concat(t,")"):void 0};return k.createElement(Km,oK({className:"recharts-area-dots"},d),u)}function hK(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:a,showLabels:s}=e,{layout:o,type:l,stroke:c,connectNulls:u,isRange:d}=a,h=rK(a,tK);return k.createElement(k.Fragment,null,(null==t?void 0:t.length)>1&&k.createElement(Km,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},k.createElement(tN,oK({},Fm(h,!0),{points:t,connectNulls:u,type:l,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),"none"!==c&&k.createElement(tN,oK({},Fm(a,!1),{className:"recharts-area-curve",layout:o,type:l,connectNulls:u,fill:"none",points:t})),"none"!==c&&d&&k.createElement(tN,oK({},Fm(a,!1),{className:"recharts-area-curve",layout:o,type:l,connectNulls:u,fill:"none",points:n}))),k.createElement(dK,{points:t,props:a,clipPathId:i}),s&&gB.renderCallByParent(a,t))}function fK(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].y,s=r[r.length-1].y;if(!Hj(a)||!Hj(s))return null;var o=t*Math.abs(a-s),l=Math.max(...r.map(e=>e.x||0));return pm(n)?l=Math.max(n,l):n&&Array.isArray(n)&&n.length&&(l=Math.max(...n.map(e=>e.x||0),l)),pm(l)?k.createElement("rect",{x:0,y:a<s?a:a-o,width:l+(i?parseInt("".concat(i),10):1),height:Math.floor(o)}):null}function mK(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].x,s=r[r.length-1].x;if(!Hj(a)||!Hj(s))return null;var o=t*Math.abs(a-s),l=Math.max(...r.map(e=>e.y||0));return pm(n)?l=Math.max(n,l):n&&Array.isArray(n)&&n.length&&(l=Math.max(...n.map(e=>e.y||0),l)),pm(l)?k.createElement("rect",{x:a<s?a:a-o,y:0,width:o,height:Math.floor(l+(i?parseInt("".concat(i),10):1))}):null}function gK(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:a}=e;return"vertical"===n?k.createElement(fK,{alpha:t,points:r,baseLine:i,strokeWidth:a}):k.createElement(mK,{alpha:t,points:r,baseLine:i,strokeWidth:a})}function pK(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=e,{points:s,baseLine:o,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:d,onAnimationStart:h,onAnimationEnd:f}=r,m=PV(r,"recharts-area-"),[g,p]=k.useState(!0),v=k.useCallback(()=>{"function"==typeof f&&f(),p(!1)},[f]),y=k.useCallback(()=>{"function"==typeof h&&h(),p(!0)},[h]),x=i.current,b=a.current;return k.createElement(JN,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},onAnimationEnd:v,onAnimationStart:y,key:m},e=>{var{t:l}=e;if(x){var c,u=x.length/s.length,d=1===l?s:s.map((e,t)=>{var n=Math.floor(t*u);if(x[n]){var r=x[n];return aK(aK({},e),{},{x:jm(r.x,e.x,l),y:jm(r.y,e.y,l)})}return e});return c=pm(o)?jm(b,o,l):km(o)||mm(o)?jm(b,0,l):o.map((e,t)=>{var n=Math.floor(t*u);if(Array.isArray(b)&&b[n]){var r=b[n];return aK(aK({},e),{},{x:jm(r.x,e.x,l),y:jm(r.y,e.y,l)})}return e}),l>0&&(i.current=d,a.current=c),k.createElement(hK,{points:d,baseLine:c,needClip:t,clipPathId:n,props:r,showLabels:!g})}return l>0&&(i.current=s,a.current=o),k.createElement(Km,null,k.createElement("defs",null,k.createElement("clipPath",{id:"animationClipPath-".concat(n)},k.createElement(gK,{alpha:l,points:s,baseLine:o,layout:r.layout,strokeWidth:r.strokeWidth}))),k.createElement(Km,{clipPath:"url(#animationClipPath-".concat(n,")")},k.createElement(hK,{points:s,baseLine:o,needClip:t,clipPathId:n,props:r,showLabels:!0})))})}function vK(e){var{needClip:t,clipPathId:n,props:r}=e,{points:i,baseLine:a,isAnimationActive:s}=r,o=k.useRef(null),l=k.useRef(),c=o.current,u=l.current;return s&&i&&i.length&&(c!==i||u!==a)?k.createElement(pK,{needClip:t,clipPathId:n,props:r,previousPointsRef:o,previousBaselineRef:l}):k.createElement(hK,{points:i,baseLine:a,needClip:t,clipPathId:n,props:r,showLabels:!0})}class yK extends k.PureComponent{constructor(){super(...arguments),sK(this,"id",xm("recharts-area-"))}render(){var e,{hide:t,dot:n,points:r,className:i,top:a,left:s,needClip:o,xAxisId:l,yAxisId:c,width:u,height:d,id:h,baseLine:f}=this.props;if(t)return null;var m=ot("recharts-area",i),g=km(h)?this.id:h,{r:p=3,strokeWidth:v=2}=null!==(e=Fm(n,!1))&&void 0!==e?e:{r:3,strokeWidth:2},y=zm(n),x=2*p+v;return k.createElement(k.Fragment,null,k.createElement(Km,{className:m},o&&k.createElement("defs",null,k.createElement(wW,{clipPathId:g,xAxisId:l,yAxisId:c}),!y&&k.createElement("clipPath",{id:"clipPath-dots-".concat(g)},k.createElement("rect",{x:s-x/2,y:a-x/2,width:u+x,height:d+x}))),k.createElement(vK,{needClip:o,clipPathId:g,props:this.props})),k.createElement(GV,{points:r,mainColor:lK(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(f)&&k.createElement(GV,{points:f,mainColor:lK(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var xK={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!Wj,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function bK(e){var t,n=uN(e,xK),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,fill:c,fillOpacity:u,hide:d,isAnimationActive:h,legendType:f,stroke:m,xAxisId:g,yAxisId:p}=n,v=rK(n,nK),y=uj(),x=JL(),{needClip:b}=bW(g,p),w=ej(),_=k.useMemo(()=>({baseValue:e.baseValue,stackId:e.stackId,connectNulls:o,data:e.data,dataKey:e.dataKey}),[e.baseValue,e.stackId,o,e.data,e.dataKey]),{points:j,isRange:N,baseLine:S}=null!==(t=kx(e=>eK(e,g,p,w,_)))&&void 0!==t?t:{},{height:C,width:P,left:E,top:M}=aj();return"horizontal"!==y&&"vertical"!==y||"AreaChart"!==x&&"ComposedChart"!==x?null:k.createElement(yK,oK({},v,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,baseLine:S,connectNulls:o,dot:l,fill:c,fillOpacity:u,height:C,hide:d,layout:y,isAnimationActive:h,isRange:N,legendType:f,needClip:b,points:j,stroke:m,width:P,left:E,top:M,xAxisId:g,yAxisId:p}))}class wK extends k.PureComponent{render(){return k.createElement(tW,{type:"area",data:this.props.data,dataKey:this.props.dataKey,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,stackId:this.props.stackId,hide:this.props.hide,barSize:void 0},k.createElement(SV,{legendPayload:cK(this.props)}),k.createElement(NV,{fn:uK,args:this.props}),k.createElement(bK,this.props))}}function _K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_K(Object(n),!0).forEach(function(t){NK(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_K(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function NK(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}sK(wK,"displayName","Area"),sK(wK,"defaultProps",xK);var kK=jw({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=jK(jK({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:SK,removeXAxis:CK,addYAxis:PK,removeYAxis:EK,addZAxis:MK,removeZAxis:OK,updateYAxisWidth:AK}=kK.actions,TK=kK.reducer;function RK(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DK(e){var t=wx();return k.useEffect(()=>(t(MK(e)),()=>{t(OK(e))}),[e,t]),null}class IK extends k.Component{render(){return k.createElement(DK,{domain:this.props.domain,id:this.props.zAxisId,dataKey:this.props.dataKey,name:this.props.name,unit:this.props.unit,range:this.props.range,scale:this.props.scale,type:this.props.type,allowDuplicatedCategory:YR.allowDuplicatedCategory,allowDataOverflow:YR.allowDataOverflow,reversed:YR.reversed,includeHidden:YR.includeHidden})}}RK(IK,"displayName","ZAxis"),RK(IK,"defaultProps",{zAxisId:0,range:YR.range,scale:YR.scale,type:YR.type});var LK=["option","isActive"];function zK(){return zK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zK.apply(null,arguments)}function FK(e){var{option:t,isActive:n}=e,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,LK);return"string"==typeof t?k.createElement(bV,zK({option:k.createElement(Sv,zK({type:t},r)),isActive:n,shapeType:"symbols"},r)):k.createElement(bV,zK({option:t,isActive:n,shapeType:"symbols"},r))}var BK=Tx([tD,(e,t,n,r,i)=>i],(e,t)=>{if(e.some(e=>"scatter"===e.type&&t.dataKey===e.dataKey&&t.data===e.data))return t}),VK=Tx([(e,t,n,r,i,a,s)=>hT(e,0,0,s),(e,t,n,r,i,a,s)=>kI(e,"xAxis",t,s),(e,t,n,r,i,a,s)=>NI(e,"xAxis",t,s),(e,t,n,r,i,a,s)=>kI(e,"yAxis",n,s),(e,t,n,r,i,a,s)=>NI(e,"yAxis",n,s),(e,t,n,r)=>CI(e,"zAxis",r,!1),BK,(e,t,n,r,i,a)=>a],(e,t,n,r,i,a,s,o)=>{var l,{chartData:c,dataStartIndex:u,dataEndIndex:d}=e;if(null!=s&&null!=(l=null!=(null==s?void 0:s.data)&&s.data.length>0?s.data:null==c?void 0:c.slice(u,d+1))&&null!=t&&null!=r&&null!=n&&null!=i&&0!==(null==n?void 0:n.length)&&0!==(null==i?void 0:i.length))return function(e){var{displayedData:t,xAxis:n,yAxis:r,zAxis:i,scatterSettings:a,xAxisTicks:s,yAxisTicks:o,cells:l}=e,c=km(n.dataKey)?a.dataKey:n.dataKey,u=km(r.dataKey)?a.dataKey:r.dataKey,d=i&&i.dataKey,h=i?i.range:IK.defaultProps.range,f=h&&h[0],m=n.scale.bandwidth?n.scale.bandwidth():0,g=r.scale.bandwidth?r.scale.bandwidth():0;return t.map((e,t)=>{var h=j_(e,c),p=j_(e,u),v=!km(d)&&j_(e,d)||"-",y=[{name:km(n.dataKey)?a.name:n.name||n.dataKey,unit:n.unit||"",value:h,payload:e,dataKey:c,type:a.tooltipType},{name:km(r.dataKey)?a.name:r.name||r.dataKey,unit:r.unit||"",value:p,payload:e,dataKey:u,type:a.tooltipType}];"-"!==v&&y.push({name:i.name||i.dataKey,unit:i.unit||"",value:v,payload:e,dataKey:d,type:a.tooltipType});var x=O_({axis:n,ticks:s,bandSize:m,entry:e,index:t,dataKey:c}),b=O_({axis:r,ticks:o,bandSize:g,entry:e,index:t,dataKey:u}),w="-"!==v?i.scale(v):f,_=Math.sqrt(Math.max(w,0)/Math.PI);return GK(GK({},e),{},{cx:x,cy:b,x:x-_,y:b-_,width:2*_,height:2*_,size:w,node:{x:h,y:p,z:v},tooltipPayload:y,tooltipPosition:{x:x,y:b},payload:e},l&&l[t]&&l[t].props)})}({displayedData:l,xAxis:t,yAxis:r,zAxis:a,scatterSettings:s,xAxisTicks:n,yAxisTicks:i,cells:o})}),WK=["onMouseEnter","onClick","onMouseLeave"],$K=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function HK(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function KK(){return KK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KK.apply(null,arguments)}function UK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function GK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UK(Object(n),!0).forEach(function(t){qK(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UK(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function qK(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var YK=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:z_(n,t),payload:e}]};function XK(e){var{points:t,props:n}=e,{line:r,lineType:i,lineJointType:a}=n;if(!r)return null;var s,o,l=Fm(n,!1),c=Fm(r,!1);if("joint"===i)s=t.map(e=>({x:e.cx,y:e.cy}));else if("fitting"===i){var{xmin:u,xmax:d,a:h,b:f}=(e=>{if(!e||!e.length)return null;for(var t=e.length,n=0,r=0,i=0,a=0,s=1/0,o=-1/0,l=0,c=0,u=0;u<t;u++)n+=l=e[u].cx||0,r+=c=e[u].cy||0,i+=l*c,a+=l*l,s=Math.min(s,l),o=Math.max(o,l);var d=t*a!==n*n?(t*i-n*r)/(t*a-n*n):0;return{xmin:s,xmax:o,a:d,b:(r-d*n)/t}})(t),m=e=>h*e+f;s=[{x:u,y:m(u)},{x:d,y:m(d)}]}var g=GK(GK(GK({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:s});return o=k.isValidElement(r)?k.cloneElement(r,g):"function"==typeof r?r(g):k.createElement(tN,KK({},g,{type:a})),k.createElement(Km,{className:"recharts-scatter-line",key:"recharts-scatter-line"},o)}function QK(e){var{points:t,showLabels:n,allOtherScatterProps:r}=e,{shape:i,activeShape:a,dataKey:s}=r,o=Fm(r,!1),l=kx(FL),{onMouseEnter:c,onClick:u,onMouseLeave:d}=r,h=HK(r,WK),f=wV(c,r.dataKey),m=_V(d),g=jV(u,r.dataKey);return null==t?null:k.createElement(k.Fragment,null,k.createElement(XK,{points:t,props:r}),t.map((e,t)=>{var n=a&&l===String(t),r=n?a:i,c=GK(GK(GK({key:"symbol-".concat(t)},o),e),{},{[K_]:t,[U_]:String(s)});return k.createElement(Km,KK({className:"recharts-scatter-symbol"},Am(h,e,t),{onMouseEnter:f(e,t),onMouseLeave:m(e,t),onClick:g(e,t),key:"symbol-".concat(null==e?void 0:e.cx,"-").concat(null==e?void 0:e.cy,"-").concat(null==e?void 0:e.size,"-").concat(t)}),k.createElement(FK,KK({option:r,isActive:n},c)))}),n&&gB.renderCallByParent(r,t))}function ZK(e){var{previousPointsRef:t,props:n}=e,{points:r,isAnimationActive:i,animationBegin:a,animationDuration:s,animationEasing:o}=n,l=t.current,c=PV(n,"recharts-scatter-"),[u,d]=k.useState(!1),h=k.useCallback(()=>{d(!1)},[]),f=k.useCallback(()=>{d(!0)},[]);return k.createElement(JN,{begin:a,duration:s,isActive:i,easing:o,from:{t:0},to:{t:1},onAnimationEnd:h,onAnimationStart:f,key:c},e=>{var{t:i}=e,a=1===i?r:r.map((e,t)=>{var n=l&&l[t];if(n){var r=_m(n.cx,e.cx),a=_m(n.cy,e.cy),s=_m(n.size,e.size);return GK(GK({},e),{},{cx:r(i),cy:a(i),size:s(i)})}var o=_m(0,e.size);return GK(GK({},e),{},{size:o(i)})});return i>0&&(t.current=a),k.createElement(Km,null,k.createElement(QK,{points:a,allOtherScatterProps:n,showLabels:!u}))})}function JK(e){var{points:t,isAnimationActive:n}=e,r=k.useRef(null),i=r.current;return n&&t&&t.length&&(!i||i!==t)?k.createElement(ZK,{props:e,previousPointsRef:r}):k.createElement(QK,{points:t,allOtherScatterProps:e,showLabels:!0})}function eU(e){var{dataKey:t,points:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,tooltipType:l}=e;return{dataDefinedOnItem:null==n?void 0:n.map(e=>e.tooltipPayload),positions:null==n?void 0:n.map(e=>e.tooltipPosition),settings:{stroke:r,strokeWidth:i,fill:a,nameKey:void 0,dataKey:t,name:z_(s,t),hide:o,type:l,color:a,unit:""}}}var tU=(e,t,n)=>({x:e.cx,y:e.cy,value:"x"===n?+e.node.x:+e.node.y,errorVal:j_(e,t)});function nU(e){var t=k.useRef(xm("recharts-scatter-")),{hide:n,points:r,className:i,needClip:a,xAxisId:s,yAxisId:o,id:l,children:c}=e;if(n)return null;var u=ot("recharts-scatter",i),d=km(l)?t.current:l;return k.createElement(Km,{className:u,clipPath:a?"url(#clipPath-".concat(d,")"):null},a&&k.createElement("defs",null,k.createElement(wW,{clipPathId:d,xAxisId:s,yAxisId:o})),k.createElement(eW,{xAxisId:s,yAxisId:o,data:r,dataPointFormatter:tU,errorBarOffset:0},c),k.createElement(Km,{key:"recharts-scatter-symbols"},k.createElement(JK,e)))}var rU={xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Wj,animationBegin:0,animationDuration:400,animationEasing:"linear"};function iU(e){var t=uN(e,rU),{animationBegin:n,animationDuration:r,animationEasing:i,hide:a,isAnimationActive:s,legendType:o,lineJointType:l,lineType:c,shape:u,xAxisId:d,yAxisId:h,zAxisId:f}=t,m=HK(t,$K),{needClip:g}=bW(d,h),p=k.useMemo(()=>Lm(e.children,lF),[e.children]),v=k.useMemo(()=>({name:e.name,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey}),[e.data,e.dataKey,e.name,e.tooltipType]),y=ej(),x=kx(e=>VK(e,d,h,f,v,p,y));return null==g?null:k.createElement(k.Fragment,null,k.createElement(NV,{fn:eU,args:GK(GK({},e),{},{points:x})}),k.createElement(nU,KK({},m,{xAxisId:d,yAxisId:h,zAxisId:f,lineType:c,lineJointType:l,legendType:o,shape:u,hide:a,isAnimationActive:s,animationBegin:n,animationDuration:r,animationEasing:i,points:x,needClip:g})))}class aU extends k.Component{render(){return k.createElement(tW,{type:"scatter",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:this.props.zAxisId,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},k.createElement(SV,{legendPayload:YK(this.props)}),k.createElement(iU,this.props))}}qK(aU,"displayName","Scatter"),qK(aU,"defaultProps",rU);var sU=["children"],oU=["dangerouslySetInnerHTML","ticks"];function lU(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cU(){return cU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cU.apply(null,arguments)}function uU(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dU(e){var t=wx(),n=k.useMemo(()=>{var{children:t}=e;return uU(e,sU)},[e]),r=kx(e=>UR(e,n.id)),i=n===r;return k.useEffect(()=>(t(SK(n)),()=>{t(CK(n))}),[n,t]),i?e.children:null}var hU=e=>{var{xAxisId:t,className:n}=e,r=kx(Z_),i=ej(),a="xAxis",s=kx(e=>sI(e,a,t,i)),o=kx(e=>jI(e,a,t,i)),l=kx(e=>fI(e,t)),c=kx(e=>((e,t)=>{var n=X_(e),r=UR(e,t);if(null!=r){var i=mI(e,r.orientation,r.mirror)[t];return null==i?{x:n.left,y:0}:{x:n.left,y:i}}})(e,t));if(null==l||null==c)return null;var{dangerouslySetInnerHTML:u,ticks:d}=e,h=uU(e,oU);return k.createElement(tH,cU({},h,{scale:s,x:c.x,y:c.y,width:l.width,height:l.height,className:ot("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:o}))},fU=e=>{var t,n,r,i,a;return k.createElement(dU,{interval:null!==(t=e.interval)&&void 0!==t?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:null!==(n=e.includeHidden)&&void 0!==n&&n,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(r=e.angle)&&void 0!==r?r:0,minTickGap:null!==(i=e.minTickGap)&&void 0!==i?i:5,tick:null===(a=e.tick)||void 0===a||a,tickFormatter:e.tickFormatter},k.createElement(hU,e))};class mU extends k.Component{render(){return k.createElement(fU,this.props)}}lU(mU,"displayName","XAxis"),lU(mU,"defaultProps",{allowDataOverflow:KR.allowDataOverflow,allowDecimals:KR.allowDecimals,allowDuplicatedCategory:KR.allowDuplicatedCategory,height:KR.height,hide:!1,mirror:KR.mirror,orientation:KR.orientation,padding:KR.padding,reversed:KR.reversed,scale:KR.scale,tickCount:KR.tickCount,type:KR.type,xAxisId:0});var gU=["dangerouslySetInnerHTML","ticks"];function pU(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vU(){return vU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vU.apply(null,arguments)}function yU(e){var t=wx();return k.useEffect(()=>(t(PK(e)),()=>{t(EK(e))}),[e,t]),null}var xU=e=>{var t,{yAxisId:n,className:r,width:i,label:a}=e,s=k.useRef(null),o=k.useRef(null),l=kx(Z_),c=ej(),u=wx(),d="yAxis",h=kx(e=>sI(e,d,n,c)),f=kx(e=>pI(e,n)),m=kx(e=>((e,t)=>{var n=X_(e),r=qR(e,t);if(null!=r){var i=gI(e,r.orientation,r.mirror)[t];return null==i?{x:0,y:n.top}:{x:i,y:n.top}}})(e,n)),g=kx(e=>jI(e,d,n,c));if(k.useLayoutEffect(()=>{var e;if("auto"===i&&f&&!KF(a)&&!k.isValidElement(a)){var t=s.current,r=null==t||null===(e=t.tickRefs)||void 0===e?void 0:e.current,{tickSize:l,tickMargin:c}=t.props,d=(e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){t.forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>s&&(s=t.width)}});var o=n?n.getBoundingClientRect().width:0,l=s+(i+a)+o+(n?r:0);return Math.round(l)}return 0})({ticks:r,label:o.current,labelGapWithTick:5,tickSize:l,tickMargin:c});Math.round(f.width)!==Math.round(d)&&u(AK({id:n,width:d}))}},[s,null==s||null===(t=s.current)||void 0===t||null===(t=t.tickRefs)||void 0===t?void 0:t.current,null==f?void 0:f.width,f,u,a,n,i]),null==f||null==m)return null;var{dangerouslySetInnerHTML:p,ticks:v}=e,y=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,gU);return k.createElement(tH,vU({},y,{ref:s,labelRef:o,scale:h,x:m.x,y:m.y,width:f.width,height:f.height,className:ot("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:g}))},bU=e=>{var t,n,r,i,a;return k.createElement(k.Fragment,null,k.createElement(yU,{interval:null!==(t=e.interval)&&void 0!==t?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:null!==(n=e.includeHidden)&&void 0!==n&&n,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(r=e.angle)&&void 0!==r?r:0,minTickGap:null!==(i=e.minTickGap)&&void 0!==i?i:5,tick:null===(a=e.tick)||void 0===a||a,tickFormatter:e.tickFormatter}),k.createElement(xU,e))},wU={allowDataOverflow:GR.allowDataOverflow,allowDecimals:GR.allowDecimals,allowDuplicatedCategory:GR.allowDuplicatedCategory,hide:!1,mirror:GR.mirror,orientation:GR.orientation,padding:GR.padding,reversed:GR.reversed,scale:GR.scale,tickCount:GR.tickCount,type:GR.type,width:GR.width,yAxisId:0};class _U extends k.Component{render(){return k.createElement(bU,this.props)}}pU(_U,"displayName","YAxis"),pU(_U,"defaultProps",wU);var jU,NU,kU={exports:{}},SU={};NU||(NU=1,kU.exports=function(){if(jU)return SU;jU=1;var e=N(),t="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=e.useSyncExternalStore,r=e.useRef,i=e.useEffect,a=e.useMemo,s=e.useDebugValue;return SU.useSyncExternalStoreWithSelector=function(e,o,l,c,u){var d=r(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=a(function(){function e(e){if(!i){if(i=!0,n=e,e=c(e),void 0!==u&&h.hasValue){var a=h.value;if(u(a,e))return r=a}return r=e}if(a=r,t(n,e))return a;var s=c(e);return void 0!==u&&u(a,s)?(n=e,a):(n=e,r=s)}var n,r,i=!1,a=void 0===l?null:l;return[function(){return e(o())},null===a?void 0:function(){return e(a())}]},[o,l,c,u]);var f=n(e,d[0],d[1]);return i(function(){h.hasValue=!0,h.value=f},[f]),s(f),f},SU}()),kU.exports;var CU={notify(){},get:()=>[]},PU=(()=>!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement))(),EU=(()=>"undefined"!=typeof navigator&&"ReactNative"===navigator.product)(),MU=(()=>PU||EU?k.useLayoutEffect:k.useEffect)(),OU=Symbol.for("react-redux-context"),AU="undefined"!=typeof globalThis?globalThis:{};function TU(){var e;if(!k.createContext)return{};const t=null!=(e=AU[OU])?e:AU[OU]=new Map;let n=t.get(k.createContext);return n||(n=k.createContext(null),t.set(k.createContext,n)),n}var RU=TU(),DU=function(e){const{children:t,context:n,serverState:r,store:i}=e,a=k.useMemo(()=>{const e=function(e){let t,n=CU,r=0,i=!1;function a(){l.onStateChange&&l.onStateChange()}function s(){r++,t||(t=e.subscribe(a),n=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){(()=>{let t=e;for(;t;)t.callback(),t=t.next})()},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function o(){r--,t&&0===r&&(t(),t=void 0,n.clear(),n=CU)}const l={addNestedSub:function(e){s();const t=n.subscribe(e);let r=!1;return()=>{r||(r=!0,t(),o())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:a,isSubscribed:function(){return i},trySubscribe:function(){i||(i=!0,s())},tryUnsubscribe:function(){i&&(i=!1,o())},getListeners:()=>n};return l}(i);return{store:i,subscription:e,getServerState:r?()=>r:void 0}},[i,r]),s=k.useMemo(()=>i.getState(),[i]);MU(()=>{const{subscription:e}=a;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==i.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[a,s]);const o=n||RU;return k.createElement(o.Provider,{value:a},t)},IU=Tx([(e,t)=>t,cj,zR,rL,ML,RL,rz,X_],(e,t,n,r,i,a,s,o)=>{if(e&&t&&r&&i&&a){var l=function(e,t,n,r,i){return"horizontal"===n||"vertical"===n?e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height?{x:e,y:t}:null:r?x_({x:e,y:t},r):null}(e.chartX,e.chartY,t,n,o);if(l){var c=((e,t)=>"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius)(l,t),u=((e,t,n,r,i)=>{var a,s=-1,o=null!==(a=null==t?void 0:t.length)&&void 0!==a?a:0;if(o<=1||null==e)return 0;if("angleAxis"===r&&null!=i&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var c=l>0?n[l-1].coordinate:n[o-1].coordinate,u=n[l].coordinate,d=l>=o-1?n[0].coordinate:n[l+1].coordinate,h=void 0;if(fm(u-c)!==fm(d-u)){var f=[];if(fm(d-u)===fm(i[1]-i[0])){h=d;var m=u+i[1]-i[0];f[0]=Math.min(m,(m+c)/2),f[1]=Math.max(m,(m+c)/2)}else{h=c;var g=d+i[1]-i[0];f[0]=Math.min(u,(g+u)/2),f[1]=Math.max(u,(g+u)/2)}var p=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>p[0]&&e<=p[1]||e>=f[0]&&e<=f[1]){({index:s}=n[l]);break}}else{var v=Math.min(c,d),y=Math.max(c,d);if(e>(v+u)/2&&e<=(y+u)/2){({index:s}=n[l]);break}}}else if(t)for(var x=0;x<o;x++)if(0===x&&e<=(t[x].coordinate+t[x+1].coordinate)/2||x>0&&x<o-1&&e>(t[x].coordinate+t[x-1].coordinate)/2&&e<=(t[x].coordinate+t[x+1].coordinate)/2||x===o-1&&e>(t[x].coordinate+t[x-1].coordinate)/2){({index:s}=t[x]);break}return s})(c,s,a,r,i),d=((e,t,n,r)=>{var i=t.find(e=>e&&e.index===n);if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var a=i.coordinate,{radius:s}=r;return w_(w_(w_({},r),g_(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=r;return w_(w_(w_({},r),g_(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{x:0,y:0}})(t,a,u,l);return{activeIndex:String(u),activeCoordinate:d}}}}),LU=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},zU=uw("mouseClick"),FU=n_();FU.startListening({actionCreator:zU,effect:(e,t)=>{var n=e.payload,r=IU(t.getState(),LU(n));null!=(null==r?void 0:r.activeIndex)&&t.dispatch(HI({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var BU=uw("mouseMove"),VU=n_();function WU(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}VU.startListening({actionCreator:BU,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=AI(r,r.tooltip.settings.shared),a=IU(r,LU(n));"axis"===i&&(null!=(null==a?void 0:a.activeIndex)?t.dispatch($I({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(VI()))}});var $U={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},HU=jw({name:"rootProps",initialState:$U,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!==(n=t.payload.barGap)&&void 0!==n?n:$U.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),KU=HU.reducer,{updateOptions:UU}=HU.actions,GU=jw({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:qU}=GU.actions,YU=GU.reducer,XU=uw("keyDown"),QU=uw("focus"),ZU=n_();ZU.startListening({actionCreator:XU,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip,i=e.payload;if("ArrowRight"===i||"ArrowLeft"===i||"Enter"===i){var a=Number(ZI(r,dL(n))),s=RL(n);if("Enter"!==i){var o=a+("ArrowRight"===i?1:-1)*("left-to-right"===PI(n)?1:-1);if(!(null==s||o>=s.length||o<0)){var l=oz(n,"axis","hover",String(o));t.dispatch(UI({active:!0,activeIndex:o.toString(),activeDataKey:void 0,activeCoordinate:l}))}}else{var c=oz(n,"axis","hover",String(r.index));t.dispatch(UI({active:!r.active,activeIndex:r.index,activeDataKey:r.dataKey,activeCoordinate:c}))}}}}}),ZU.startListening({actionCreator:QU,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip;if(!r.active&&null==r.index){var i=oz(n,"axis","hover",String("0"));t.dispatch(UI({activeDataKey:void 0,active:!0,activeIndex:"0",activeCoordinate:i}))}}}});var JU=uw("externalEvent"),eG=n_();eG.startListening({actionCreator:JU,effect:(e,t)=>{if(null!=e.payload.handler){var n=t.getState(),r={activeCoordinate:HL(n),activeDataKey:VL(n),activeIndex:FL(n),activeLabel:BL(n),activeTooltipIndex:FL(n),isTooltipActive:KL(n)};e.payload.handler(r,e.payload.reactEvent)}}});var tG=Tx([nL],e=>e.tooltipItemPayloads),nG=Tx([tG,tL,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(e=>e.settings.dataKey===r);if(null!=i){var{positions:a}=i;if(null!=a)return t(a,n)}}),rG=uw("touchMove"),iG=n_();iG.startListening({actionCreator:rG,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=AI(r,r.tooltip.settings.shared);if("axis"===i){var a=IU(r,LU({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));null!=(null==a?void 0:a.activeIndex)&&t.dispatch($I({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if("item"===i){var s,o=n.touches[0],l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(K_),u=null!==(s=l.getAttribute(U_))&&void 0!==s?s:void 0,d=nG(t.getState(),c,u);t.dispatch(FI({activeDataKey:u,activeIndex:c,activeCoordinate:d}))}}});var aG=fb({brush:s$,cartesianAxis:TK,chartData:Rz,graphicalItems:ZB,layout:c_,legend:pj,options:Cz,polarAxis:RB,polarOptions:YU,referenceElements:b$,rootProps:KU,tooltip:GI});function sG(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=ej(),a=k.useRef(null);if(i)return n;null==a.current&&(a.current=function(e){return pw({reducer:aG,preloadedState:e,middleware:e=>e({serializableCheck:!1}).concat([FU.middleware,VU.middleware,ZU.middleware,eG.middleware,iG.middleware]),devTools:{serialize:{replacer:WU},name:"recharts-".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart")}})}(t,r));var s=xx;return k.createElement(DU,{context:s,store:a.current},n)}function oG(e){var{layout:t,width:n,height:r,margin:i}=e,a=wx(),s=ej();return k.useEffect(()=>{s||(a(s_(t)),a(o_({width:n,height:r})),a(a_(i)))},[a,s,t,n,r,i]),null}function lG(e){var t=wx();return k.useEffect(()=>{t(UU(e))},[t,e]),null}var cG=["children"];function uG(){return uG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uG.apply(null,arguments)}var dG={width:"100%",height:"100%"},hG=k.forwardRef((e,t)=>{var n=sj(),r=oj(),i=$j();if(!Kj(n)||!Kj(r))return null;var a,s,{children:o,otherAttributes:l,title:c,desc:u}=e;return a="number"==typeof l.tabIndex?l.tabIndex:i?0:void 0,s="string"==typeof l.role?l.role:i?"application":void 0,k.createElement(Wm,uG({},l,{title:c,desc:u,role:s,tabIndex:a,width:n,height:r,style:dG,ref:t}),o)}),fG=e=>{var{children:t}=e,n=kx(nj);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return k.createElement(Wm,{width:r,height:i,x:s,y:a},t)},mG=k.forwardRef((e,t)=>{var{children:n}=e,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,cG);return ej()?k.createElement(fG,null,n):k.createElement(hG,uG({ref:t},r),n)});function gG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gG(Object(n),!0).forEach(function(t){vG(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gG(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vG(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yG=k.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:u,onMouseMove:d,onMouseUp:h,onTouchEnd:f,onTouchMove:m,onTouchStart:g,style:p,width:v}=e,y=wx(),[x,b]=k.useState(null),[w,_]=k.useState(null);Iz();var j=function(){var e=wx(),[t,n]=k.useState(null),r=kx(V_);return k.useEffect(()=>{if(null!=t){var n=t.getBoundingClientRect().width/t.offsetWidth;Hj(n)&&n!==r&&e(l_(n))}},[t,e,r]),n}(),N=k.useCallback(e=>{j(e),"function"==typeof t&&t(e),b(e),_(e)},[j,t,b,_]),S=k.useCallback(e=>{y(zU(e)),y(JU({handler:a,reactEvent:e}))},[y,a]),C=k.useCallback(e=>{y(BU(e)),y(JU({handler:c,reactEvent:e}))},[y,c]),P=k.useCallback(e=>{y(VI()),y(JU({handler:u,reactEvent:e}))},[y,u]),E=k.useCallback(e=>{y(BU(e)),y(JU({handler:d,reactEvent:e}))},[y,d]),M=k.useCallback(()=>{y(QU())},[y]),O=k.useCallback(e=>{y(XU(e.key))},[y]),A=k.useCallback(e=>{y(JU({handler:s,reactEvent:e}))},[y,s]),T=k.useCallback(e=>{y(JU({handler:o,reactEvent:e}))},[y,o]),R=k.useCallback(e=>{y(JU({handler:l,reactEvent:e}))},[y,l]),D=k.useCallback(e=>{y(JU({handler:h,reactEvent:e}))},[y,h]),I=k.useCallback(e=>{y(JU({handler:g,reactEvent:e}))},[y,g]),L=k.useCallback(e=>{y(rG(e)),y(JU({handler:m,reactEvent:e}))},[y,m]),z=k.useCallback(e=>{y(JU({handler:f,reactEvent:e}))},[y,f]);return k.createElement(xz.Provider,{value:x},k.createElement(Um.Provider,{value:w},k.createElement("div",{className:ot("recharts-wrapper",r),style:pG({position:"relative",cursor:"default",width:v,height:i},p),role:"application",onClick:S,onContextMenu:A,onDoubleClick:T,onFocus:M,onKeyDown:O,onMouseDown:R,onMouseEnter:C,onMouseLeave:P,onMouseMove:E,onMouseUp:D,onTouchEnd:z,onTouchMove:L,onTouchStart:I,ref:N},n)))}),xG=["children","className","width","height","style","compact","title","desc"],bG=k.forwardRef((e,t)=>{var{children:n,className:r,width:i,height:a,style:s,compact:o,title:l,desc:c}=e,u=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,xG),d=Fm(u,!1);return o?k.createElement(mG,{otherAttributes:d,title:l,desc:c},n):k.createElement(yG,{className:r,style:s,width:i,height:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},k.createElement(mG,{otherAttributes:d,title:l,desc:c,ref:t},k.createElement(_$,null,n)))}),wG=["width","height"];function _G(){return _G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_G.apply(null,arguments)}var jG={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},NG=k.forwardRef(function(e,t){var n,r=uN(e.categoricalChartProps,jG),{width:i,height:a}=r,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(r,wG);if(!Kj(i)||!Kj(a))return null;var{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,categoricalChartProps:d}=e,h={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return k.createElement(sG,{preloadedState:{options:h},reduxStoreName:null!==(n=d.id)&&void 0!==n?n:o},k.createElement(n$,{chartData:d.data}),k.createElement(oG,{width:i,height:a,layout:r.layout,margin:r.margin}),k.createElement(lG,{accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className}),k.createElement(bG,_G({},s,{width:i,height:a,ref:t})))}),kG=["axis"],SG=k.forwardRef((e,t)=>k.createElement(NG,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:kG,tooltipPayloadSearcher:kz,categoricalChartProps:e,ref:t})),CG=["axis","item"],PG=k.forwardRef((e,t)=>k.createElement(NG,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:CG,tooltipPayloadSearcher:kz,categoricalChartProps:e,ref:t}));function EG(e){var t=wx();return k.useEffect(()=>{t(qU(e))},[t,e]),null}var MG=["width","height","layout"];function OG(){return OG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OG.apply(null,arguments)}var AG={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial"},TG=k.forwardRef(function(e,t){var n,r=uN(e.categoricalChartProps,AG),{width:i,height:a,layout:s}=r,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(r,MG);if(!Kj(i)||!Kj(a))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d}=e,h={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return k.createElement(sG,{preloadedState:{options:h},reduxStoreName:null!==(n=r.id)&&void 0!==n?n:l},k.createElement(n$,{chartData:r.data}),k.createElement(oG,{width:i,height:a,layout:s,margin:r.margin}),k.createElement(lG,{accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className}),k.createElement(EG,{cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius}),k.createElement(bG,OG({width:i,height:a},o,{ref:t})))}),RG=["item"],DG={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},IG=k.forwardRef((e,t)=>{var n=uN(e,DG);return k.createElement(TG,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:RG,tooltipPayloadSearcher:kz,categoricalChartProps:n,ref:t})}),LG=["axis"],zG=k.forwardRef((e,t)=>k.createElement(NG,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:LG,tooltipPayloadSearcher:kz,categoricalChartProps:e,ref:t})),FG=["axis"],BG=k.forwardRef((e,t)=>k.createElement(NG,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:FG,tooltipPayloadSearcher:kz,categoricalChartProps:e,ref:t}));const VG=()=>{var e,t,n;const[r,i]=k.useState("cho_mua"),[a,s]=k.useState(!0),[o,l]=k.useState(!1),[c,u]=k.useState(null),d=k.useRef(null),h=k.useRef([]),{data:f,loading:m,error:g}=Df("analyze_breadth");k.useEffect(()=>{if(!c)return;let e;function t(){c.clientWidth>0&&!d.current&&setTimeout(()=>{if(c.clientWidth>0&&!d.current)try{const e=sf(c,{width:c.clientWidth,height:c.clientHeight,layout:{background:{color:"#fff"},textColor:"#222"},grid:{vertLines:{color:"#e5e7eb"},horzLines:{color:"#e5e7eb"}},crosshair:{mode:1},rightPriceScale:{borderColor:"#d1d5db"},timeScale:{borderColor:"#d1d5db",timeVisible:!0,secondsVisible:!1}});d.current=e,l(!0)}catch(e){l(!1)}},50)}return e=new window.ResizeObserver(()=>{t()}),e.observe(c),t(),()=>{if(e&&e.disconnect(),d.current){try{d.current.remove()}catch(t){}d.current=null,l(!1)}}},[c]),k.useEffect(()=>{if(!o||!f)return;const e=d.current;if(e){if(e)try{h.current.forEach(t=>{t&&"function"==typeof t.remove&&e.removeSeries(t)}),h.current=[]}catch(t){h.current=[]}if(f.vnindex){const n=f.vnindex.dates.map((e,t)=>{var n,r,i,a;const s=null!=(r=null==(n=f.vnindex.open)?void 0:n[t])?r:f.vnindex.close[t],o=null==(i=f.vnindex.high)?void 0:i[t],l=null==(a=f.vnindex.low)?void 0:a[t],c=f.vnindex.close[t];return[s,o,l,c].some(e=>null==e||isNaN(e))?null:{time:e.slice(0,10),open:Number(s),high:Number(o),low:Number(l),close:Number(c)}}).filter(Boolean);if(n.length)try{const t=e.addSeries(xf,{upColor:"#26a69a",downColor:"#ef5350"},0);t.setData(n),h.current.push(t)}catch(t){}const r=f.vnindex.dates.map((e,t)=>{const n=f.vnindex.volume[t];return null==n||isNaN(n)?null:{time:e.slice(0,10),value:Number(n)}}).filter(Boolean);if(r.length)try{const t=e.addSeries(_f,{color:"#c792ea",priceFormat:{type:"volume"},scaleMargins:{top:.8,bottom:0}},1);t.setData(r),h.current.push(t)}catch(t){}}if(f.market_breadth){const{dates:n,indicators:r}=f.market_breadth,i={cho_mua:{name:"Chờ mua",color:"#10b981"},cho_ban:{name:"Chờ bán",color:"#ef4444"},ban:{name:"Bán",color:"#991b1b"},mua:{name:"Mua",color:"#065f46"},ap_luc_ban:{name:"Áp lực bán",color:"#f59e0b"}};["cho_mua","cho_ban","ban","mua","ap_luc_ban"].forEach(a=>{const s=r[a];if(!s)return;const o=n.map((e,t)=>{const n=s.smoothed[t];return null==n||isNaN(n)?null:{time:e.slice(0,10),value:Number(n)}}).filter(Boolean);if(o.length)try{const t=e.addSeries(gf,{color:i[a].color,lineWidth:2},2);t.setData(o),h.current.push(t)}catch(t){}})}try{e.timeScale().fitContent();const t=e.panes();t[0]&&t[0].setHeight(400),t[1]&&t[1].setHeight(150),t[2]&&t[2].setHeight(200)}catch(t){}}},[f,o]);const p=["#10b981","#065f46","#ef4444","#991b1b","#f59e0b"];function v({data:e,date:t}){if(!e||!Array.isArray(e)||0===e.length)return null;const n=e.filter(e=>e&&"string"==typeof e.name&&"number"==typeof e.value&&!isNaN(e.value)&&e.value>=0),r=n.reduce((e,t)=>e+t.value,0);if(0===n.length||0===r)return b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("div",{className:"w-[120px] h-[120px] flex items-center justify-center border-2 border-dashed border-gray-300 rounded-full overflow-visible",children:b.jsx("span",{className:"text-xs text-gray-400",children:"No data"})}),b.jsx("div",{className:"text-xs mt-1 text-gray-500 dark:text-gray-400",children:t})]});const i=Math.PI/180;return b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("div",{style:{width:280,height:280},className:"overflow-visible flex items-center justify-center",children:b.jsx(IG,{width:280,height:280,children:b.jsx($V,{data:n,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:30,outerRadius:40,paddingAngle:1,label:({cx:e,cy:t,midAngle:n,outerRadius:r,name:a,value:s,fill:o,index:l})=>{const c=r+32,u=e+c*Math.cos(-n*i),d=t+c*Math.sin(-n*i);return b.jsx("text",{x:u,y:d,fill:o||(0===l||1===l?"#065f46":"#ef4444"),textAnchor:u>e?"start":"end",dominantBaseline:"central",fontSize:13,fontWeight:500,children:`${a}: ${s}`})},labelLine:!0,children:n.map((e,t)=>b.jsx(lF,{fill:p[t%p.length]},`cell-${t}`))})})}),b.jsx("div",{className:"text-xs mt-1 text-gray-500 dark:text-gray-400",children:t})]})}let y=[];if((null==(e=null==f?void 0:f.market_breadth)?void 0:e.dates)&&(null==(t=f.market_breadth)?void 0:t.indicators)){const{dates:e,indicators:t}=f.market_breadth,n=["cho_mua","mua","cho_ban","ban","ap_luc_ban"],r=["Chờ mua","Mua","Chờ bán","Bán","Áp lực bán"],i=e.length;for(let a=Math.max(0,i-7);a<i;++a){const i=n.map((e,n)=>{var i,s;return{name:r[n],value:"number"==typeof(null==(s=null==(i=t[e])?void 0:i.raw)?void 0:s[a])?t[e].raw[a]:0}});y.push({date:new Date(e[a]).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),data:i})}}if(g)return b.jsxs(jn,{className:"p-6 text-center text-red-600",children:["Lỗi tải dữ liệu: ",g.message]});const x={cho_mua:{name:"Chờ mua",color:"#10b981"},cho_ban:{name:"Chờ bán",color:"#ef4444"},ban:{name:"Bán",color:"#991b1b"},mua:{name:"Mua",color:"#065f46"},ap_luc_ban:{name:"Áp lực bán",color:"#f59e0b"}},w=(null==(n=null==f?void 0:f.market_breadth)?void 0:n.indicators)||{};return b.jsxs(jn,{className:"p-6",children:[b.jsx("div",{className:"mb-6",children:b.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Áp lực mua bán trên thị trường"})}),y.length>0&&b.jsxs("div",{className:"mt-8",children:[b.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:y.map((e,t)=>b.jsx(v,{data:e.data,date:e.date},t))}),b.jsx("div",{className:"flex justify-center gap-4 mt-4 text-xs",children:["Chờ mua","Mua","Chờ bán","Bán","Áp lực bán"].map((e,t)=>b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx("span",{className:"inline-block w-3 h-3 rounded-full",style:{backgroundColor:p[t]}}),e]},e))})]}),b.jsx("div",{className:"my-8 border-t border-gray-200 dark:border-gray-700"}),b.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[b.jsxs("div",{className:"flex-1 min-w-0 relative",children:[b.jsx("div",{ref:u,className:"border",style:{width:"100%",background:"#fff",minHeight:"750px"}}),(m||!o)&&b.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-white/70 z-10",children:[b.jsx("div",{className:"animate-spin h-8 w-8 border-b-2 border-primary rounded-full"}),b.jsx("p",{className:"mt-2 text-muted-foreground",children:"Đang tải dữ liệu và biểu đồ..."})]})]}),b.jsx("div",{className:"w-full md:w-64 flex-shrink-0 space-y-4",children:["cho_mua","cho_ban","ban","mua","ap_luc_ban"].map(e=>{const t=w[e];if(!t)return null;const n=x[e],r=t.smoothed.at(-1)||0;return b.jsxs("div",{className:"text-center p-3 bg-muted rounded-lg",children:[b.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:n.name}),b.jsx("div",{className:"text-lg font-semibold",style:{color:n.color},children:r.toFixed(1)})]},e)})})]}),b.jsxs("div",{className:"mt-8 p-6 bg-gray-50 dark:bg-slate-900 rounded-lg border border-gray-200 dark:border-slate-700",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[b.jsx(fe,{className:"h-6 w-6 text-blue-500 dark:text-blue-400"}),b.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Cách Đọc Biểu Đồ Áp Lực Mua Bán"})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Định nghĩa các tín hiệu"}),b.jsx("ul",{className:"space-y-3",children:Object.entries({cho_mua:{name:"Chờ Mua",color:"#10b981",description:"Khi nhiều cổ phiếu đồng loạt phát tín hiệu Mua tiềm năng, ví dụ: RSI thấp (dưới ngưỡng 40), giá đang tiệm cận đáy ngắn hạn, khối lượng phiên trước cao hơn ngưỡng trung bình."},cho_ban:{name:"Chờ Bán",color:"#ef4444",description:"Khi nhiều cổ phiếu đồng loạt phát tín hiệu Bán tiềm năng, ví dụ: RSI cao (trên ngưỡng 60), giá đang tiệm cận đỉnh ngắn hạn, khối lượng phiên trước cao hơn ngưỡng trung bình."},mua:{name:"Mua Mạnh",color:"#065f46",description:"Khi áp lực Mua chiếm ưu thế rõ rệt, nhiều cổ phiếu vượt đỉnh trong 4 phiên liên tiếp và khối lượng lớn."},ban:{name:"Bán Mạnh",color:"#991b1b",description:"Khi áp lực Bán chiếm ưu thế rõ rệt, nhiều cổ phiếu phá đáy trong 8 phiên liên tiếp và khối lượng lớn."},ap_luc_ban:{name:"Áp Lực Bán",color:"#f59e0b",description:"Đo lường tình huống thị trường đang chịu sức ép giảm giá rộng khắp, thể hiện qua: nhiều cổ phiếu lập đáy ngắn hạn (4 phiên) hoặc cổ phiếu giảm mạnh trên 10% so với đỉnh 3 phiên trước, kèm khối lượng tăng cao."}}).map(([e,t])=>b.jsxs("li",{className:"flex items-start gap-3",children:[b.jsx("span",{className:"mt-1 flex-shrink-0 h-3 w-3 rounded-full",style:{backgroundColor:t.color},"aria-hidden":"true"}),b.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[b.jsxs("span",{className:"font-semibold text-gray-800 dark:text-gray-100",children:[t.name,":"]})," ",t.description]})]},e))})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Tổng quan"}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Biểu đồ Áp Lực Mua–Bán tổng hợp tín hiệu kỹ thuật từ toàn bộ cổ phiếu trong rổ, rồi làm mượt (EMA) để xác định xu hướng chung."})]}),b.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-slate-800 border-l-4 border-blue-500 dark:border-blue-400 rounded-r-lg",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(ke,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 flex-shrink-0"}),b.jsx("h5",{className:"font-semibold text-blue-800 dark:text-blue-300",children:"Cách sử dụng"})]}),b.jsxs("div",{className:"mt-2 text-sm text-blue-700 dark:text-slate-300 pl-8 space-y-2",children:[b.jsx("p",{children:b.jsx("strong",{children:"Quan sát các đường:"})}),b.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[b.jsx("li",{children:"Đường Mua (xanh) và Chờ Mua (xanh mờ)"}),b.jsx("li",{children:"Đường Bán (đỏ) và Chờ Bán (hồng)"}),b.jsx("li",{children:"Đường Áp Lực Bán (cam)"})]}),b.jsx("p",{children:b.jsx("strong",{children:"Giao cắt tín hiệu:"})}),b.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[b.jsx("li",{children:"Khi đường Mua vượt lên trên đường Bán: dấu hiệu thị trường tích cực"}),b.jsx("li",{children:"Khi đường Bán chọc xuống dưới đường Mua: cảnh báo xu hướng tiêu cực"})]}),b.jsx("p",{children:b.jsx("strong",{children:"Xác nhận áp lực:"})}),b.jsx("ul",{className:"list-disc list-inside space-y-1 ml-2",children:b.jsx("li",{children:"Áp Lực Bán ở mức cao (> ngưỡng 50): nhiều cổ phiếu đang chịu sức ép giảm mạnh, nên thận trọng"})}),b.jsxs("p",{className:"text-xs mt-3 italic",children:[b.jsx("strong",{children:"Lưu ý:"})," Không nên dựa duy nhất vào chỉ báo này để ra quyết định mua/bán. Hãy kết hợp phân tích giá, khối lượng, tin tức cơ bản và quản trị rủi ro."]})]})]})]})]})]})]})};var WG={},$G={};function HG(e){return e}var KG=1e-6;function UG(e){return"translate("+e+",0)"}function GG(e){return"translate(0,"+e+")"}function qG(e){return t=>+e(t)}function YG(e,t){return t=Math.max(0,e.bandwidth()-2*t)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function XG(){return!this.__axis}function QG(e,t){var n=[],r=null,i=null,a=6,s=6,o=3,l="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,c=1===e||4===e?-1:1,u=4===e||2===e?"x":"y",d=1===e||3===e?UG:GG;function h(h){var f=null==r?t.ticks?t.ticks.apply(t,n):t.domain():r,m=null==i?t.tickFormat?t.tickFormat.apply(t,n):HG:i,g=Math.max(a,0)+o,p=t.range(),v=+p[0]+l,y=+p[p.length-1]+l,x=(t.bandwidth?YG:qG)(t.copy(),l),b=h.selection?h.selection():h,w=b.selectAll(".domain").data([null]),_=b.selectAll(".tick").data(f,t).order(),j=_.exit(),N=_.enter().append("g").attr("class","tick"),k=_.select("line"),S=_.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),_=_.merge(N),k=k.merge(N.append("line").attr("stroke","currentColor").attr(u+"2",c*a)),S=S.merge(N.append("text").attr("fill","currentColor").attr(u,c*g).attr("dy",1===e?"0em":3===e?"0.71em":"0.32em")),h!==b&&(w=w.transition(h),_=_.transition(h),k=k.transition(h),S=S.transition(h),j=j.transition(h).attr("opacity",KG).attr("transform",function(e){return isFinite(e=x(e))?d(e+l):this.getAttribute("transform")}),N.attr("opacity",KG).attr("transform",function(e){var t=this.parentNode.__axis;return d((t&&isFinite(t=t(e))?t:x(e))+l)})),j.remove(),w.attr("d",4===e||2===e?s?"M"+c*s+","+v+"H"+l+"V"+y+"H"+c*s:"M"+l+","+v+"V"+y:s?"M"+v+","+c*s+"V"+l+"H"+y+"V"+c*s:"M"+v+","+l+"H"+y),_.attr("opacity",1).attr("transform",function(e){return d(x(e)+l)}),k.attr(u+"2",c*a),S.attr(u,c*g).text(m),b.filter(XG).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===e?"start":4===e?"end":"middle"),b.each(function(){this.__axis=x})}return h.scale=function(e){return arguments.length?(t=e,h):t},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(e){return arguments.length?(n=null==e?[]:Array.from(e),h):n.slice()},h.tickValues=function(e){return arguments.length?(r=null==e?null:Array.from(e),h):r&&r.slice()},h.tickFormat=function(e){return arguments.length?(i=e,h):i},h.tickSize=function(e){return arguments.length?(a=s=+e,h):a},h.tickSizeInner=function(e){return arguments.length?(a=+e,h):a},h.tickSizeOuter=function(e){return arguments.length?(s=+e,h):s},h.tickPadding=function(e){return arguments.length?(o=+e,h):o},h.offset=function(e){return arguments.length?(l=+e,h):l},h}var ZG={value:()=>{}};function JG(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new eq(r)}function eq(e){this._=e}function tq(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function nq(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=ZG,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}eq.prototype=JG.prototype={constructor:eq,on:function(e,t){var n,r,i=this._,a=(r=i,(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}})),s=-1,o=a.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++s<o;)if(n=(e=a[s]).type)i[n]=nq(i[n],e.name,t);else if(null==t)for(n in i)i[n]=nq(i[n],e.name,null);return this}for(;++s<o;)if((n=(e=a[s]).type)&&(n=tq(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new eq(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,n=(r=this._[e]).length;a<n;++a)r[a].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};var rq="http://www.w3.org/1999/xhtml";const iq={svg:"http://www.w3.org/2000/svg",xhtml:rq,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function aq(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),iq.hasOwnProperty(t)?{space:iq[t],local:e}:e}function sq(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===rq&&t.documentElement.namespaceURI===rq?t.createElement(e):t.createElementNS(n,e)}}function oq(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function lq(e){var t=aq(e);return(t.local?oq:sq)(t)}function cq(){}function uq(e){return null==e?cq:function(){return this.querySelector(e)}}function dq(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}function hq(){return[]}function fq(e){return null==e?hq:function(){return this.querySelectorAll(e)}}function mq(e){return function(){return this.matches(e)}}function gq(e){return function(t){return t.matches(e)}}var pq=Array.prototype.find;function vq(){return this.firstElementChild}var yq=Array.prototype.filter;function xq(){return Array.from(this.children)}function bq(e){return new Array(e.length)}function wq(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function _q(e,t,n,r,i,a){for(var s,o=0,l=t.length,c=a.length;o<c;++o)(s=t[o])?(s.__data__=a[o],r[o]=s):n[o]=new wq(e,a[o]);for(;o<l;++o)(s=t[o])&&(i[o]=s)}function jq(e,t,n,r,i,a,s){var o,l,c,u=new Map,d=t.length,h=a.length,f=new Array(d);for(o=0;o<d;++o)(l=t[o])&&(f[o]=c=s.call(l,l.__data__,o,t)+"",u.has(c)?i[o]=l:u.set(c,l));for(o=0;o<h;++o)c=s.call(e,a[o],o,a)+"",(l=u.get(c))?(r[o]=l,l.__data__=a[o],u.delete(c)):n[o]=new wq(e,a[o]);for(o=0;o<d;++o)(l=t[o])&&u.get(f[o])===l&&(i[o]=l)}function Nq(e){return e.__data__}function kq(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Sq(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Cq(e){return function(){this.removeAttribute(e)}}function Pq(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Eq(e,t){return function(){this.setAttribute(e,t)}}function Mq(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Oq(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function Aq(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Tq(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Rq(e){return function(){this.style.removeProperty(e)}}function Dq(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Iq(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Lq(e,t){return e.style.getPropertyValue(t)||Tq(e).getComputedStyle(e,null).getPropertyValue(t)}function zq(e){return function(){delete this[e]}}function Fq(e,t){return function(){this[e]=t}}function Bq(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function Vq(e){return e.trim().split(/^|\s+/)}function Wq(e){return e.classList||new $q(e)}function $q(e){this._node=e,this._names=Vq(e.getAttribute("class")||"")}function Hq(e,t){for(var n=Wq(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Kq(e,t){for(var n=Wq(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Uq(e){return function(){Hq(this,e)}}function Gq(e){return function(){Kq(this,e)}}function qq(e,t){return function(){(t.apply(this,arguments)?Hq:Kq)(this,e)}}function Yq(){this.textContent=""}function Xq(e){return function(){this.textContent=e}}function Qq(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function Zq(){this.innerHTML=""}function Jq(e){return function(){this.innerHTML=e}}function eY(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function tY(){this.nextSibling&&this.parentNode.appendChild(this)}function nY(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function rY(){return null}function iY(){var e=this.parentNode;e&&e.removeChild(this)}function aY(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function sY(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function oY(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,a=t.length;r<a;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function lY(e,t,n){return function(){var r,i=this.__on,a=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var s=0,o=i.length;s<o;++s)if((r=i[s]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),void(r.value=t);this.addEventListener(e.type,a,n),r={type:e.type,name:e.name,value:t,listener:a,options:n},i?i.push(r):this.__on=[r]}}function cY(e,t,n){var r=Tq(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function uY(e,t){return function(){return cY(this,e,t)}}function dY(e,t){return function(){return cY(this,e,t.apply(this,arguments))}}wq.prototype={constructor:wq,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},$q.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var hY=[null];function fY(e,t){this._groups=e,this._parents=t}function mY(){return new fY([[document.documentElement]],hY)}function gY(e){return"string"==typeof e?new fY([[document.querySelector(e)]],[document.documentElement]):new fY([[e]],hY)}fY.prototype=mY.prototype={constructor:fY,select:function(e){"function"!=typeof e&&(e=uq(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,s,o=t[i],l=o.length,c=r[i]=new Array(l),u=0;u<l;++u)(a=o[u])&&(s=e.call(a,a.__data__,u,o))&&("__data__"in a&&(s.__data__=a.__data__),c[u]=s);return new fY(r,this._parents)},selectAll:function(e){e="function"==typeof e?function(e){return function(){return dq(e.apply(this,arguments))}}(e):fq(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var s,o=t[a],l=o.length,c=0;c<l;++c)(s=o[c])&&(r.push(e.call(s,s.__data__,c,o)),i.push(s));return new fY(r,i)},selectChild:function(e){return this.select(null==e?vq:function(e){return function(){return pq.call(this.children,e)}}("function"==typeof e?e:gq(e)))},selectChildren:function(e){return this.selectAll(null==e?xq:function(e){return function(){return yq.call(this.children,e)}}("function"==typeof e?e:gq(e)))},filter:function(e){"function"!=typeof e&&(e=mq(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,s=t[i],o=s.length,l=r[i]=[],c=0;c<o;++c)(a=s[c])&&e.call(a,a.__data__,c,s)&&l.push(a);return new fY(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,Nq);var n,r=t?jq:_q,i=this._parents,a=this._groups;"function"!=typeof e&&(n=e,e=function(){return n});for(var s=a.length,o=new Array(s),l=new Array(s),c=new Array(s),u=0;u<s;++u){var d=i[u],h=a[u],f=h.length,m=kq(e.call(d,d&&d.__data__,u,i)),g=m.length,p=l[u]=new Array(g),v=o[u]=new Array(g);r(d,h,p,v,c[u]=new Array(f),m,t);for(var y,x,b=0,w=0;b<g;++b)if(y=p[b]){for(b>=w&&(w=b+1);!(x=v[w])&&++w<g;);y._next=x||null}}return(o=new fY(o,i))._enter=l,o._exit=c,o},enter:function(){return new fY(this._enter||this._groups.map(bq),this._parents)},exit:function(){return new fY(this._exit||this._groups.map(bq),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,a=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,s=Math.min(i,a),o=new Array(i),l=0;l<s;++l)for(var c,u=n[l],d=r[l],h=u.length,f=o[l]=new Array(h),m=0;m<h;++m)(c=u[m]||d[m])&&(f[m]=c);for(;l<i;++l)o[l]=n[l];return new fY(o,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],a=i.length-1,s=i[a];--a>=0;)(r=i[a])&&(s&&4^r.compareDocumentPosition(s)&&s.parentNode.insertBefore(r,s),s=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=Sq);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var s,o=n[a],l=o.length,c=i[a]=new Array(l),u=0;u<l;++u)(s=o[u])&&(c[u]=s);c.sort(t)}return new fY(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var s=r[i];if(s)return s}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,a=t[n],s=0,o=a.length;s<o;++s)(i=a[s])&&e.call(i,i.__data__,s,a);return this},attr:function(e,t){var n=aq(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?Pq:Cq:"function"==typeof t?n.local?Aq:Oq:n.local?Mq:Eq)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?Rq:"function"==typeof t?Iq:Dq)(e,t,null==n?"":n)):Lq(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?zq:"function"==typeof t?Bq:Fq)(e,t)):this.node()[e]},classed:function(e,t){var n=Vq(e+"");if(arguments.length<2){for(var r=Wq(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?qq:t?Uq:Gq)(n,t))},text:function(e){return arguments.length?this.each(null==e?Yq:("function"==typeof e?Qq:Xq)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?Zq:("function"==typeof e?eY:Jq)(e)):this.node().innerHTML},raise:function(){return this.each(tY)},lower:function(){return this.each(nY)},append:function(e){var t="function"==typeof e?e:lq(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"==typeof e?e:lq(e),r=null==t?rY:"function"==typeof t?t:uq(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(iY)},clone:function(e){return this.select(e?sY:aY)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,a=function(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}(e+""),s=a.length;if(!(arguments.length<2)){for(o=t?lY:oY,r=0;r<s;++r)this.each(o(a[r],t,n));return this}var o=this.node().__on;if(o)for(var l,c=0,u=o.length;c<u;++c)for(r=0,l=o[c];r<s;++r)if((i=a[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?dY:uY)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,i=e[t],a=0,s=i.length;a<s;++a)(r=i[a])&&(yield r)}};var pY=0;function vY(){return new yY}function yY(){this._="@"+(++pY).toString(36)}function xY(e){let t;for(;t=e.sourceEvent;)e=t;return e}function bY(e,t){if(e=xY(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}yY.prototype=vY.prototype={constructor:yY,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};const wY={passive:!1},_Y={capture:!0,passive:!1};function jY(e){e.stopImmediatePropagation()}function NY(e){e.preventDefault(),e.stopImmediatePropagation()}function kY(e){var t=e.document.documentElement,n=gY(e).on("dragstart.drag",NY,_Y);"onselectstart"in t?n.on("selectstart.drag",NY,_Y):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function SY(e,t){var n=e.document.documentElement,r=gY(e).on("dragstart.drag",null);t&&(r.on("click.drag",NY,_Y),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const CY=e=>()=>e;function PY(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:a,x:s,y:o,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}function EY(e){return!e.ctrlKey&&!e.button}function MY(){return this.parentNode}function OY(e,t){return null==t?{x:e.x,y:e.y}:t}function AY(){return navigator.maxTouchPoints||"ontouchstart"in this}PY.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var TY,RY,DY=0,IY=0,LY=0,zY=0,FY=0,BY=0,VY="object"==typeof performance&&performance.now?performance:Date,WY="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function $Y(){return FY||(WY(HY),FY=VY.now()+BY)}function HY(){FY=0}function KY(){this._call=this._time=this._next=null}function UY(e,t,n){var r=new KY;return r.restart(e,t,n),r}function GY(){$Y(),++DY;for(var e,t=TY;t;)(e=FY-t._time)>=0&&t._call.call(void 0,e),t=t._next;--DY}function qY(){FY=(zY=VY.now())+BY,DY=IY=0;try{GY()}finally{DY=0,function(){for(var e,t,n=TY,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:TY=t);RY=e,XY(r)}(),FY=0}}function YY(){var e=VY.now(),t=e-zY;t>1e3&&(BY-=t,zY=e)}function XY(e){DY||(IY&&(IY=clearTimeout(IY)),e-FY>24?(e<1/0&&(IY=setTimeout(qY,e-VY.now()-BY)),LY&&(LY=clearInterval(LY))):(LY||(zY=VY.now(),LY=setInterval(YY,1e3)),DY=1,WY(qY)))}function QY(e,t,n){var r=new KY;return t=null==t?0:+t,r.restart(n=>{r.stop(),e(n+t)},t,n),r}KY.prototype=UY.prototype={constructor:KY,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?$Y():+n)+(null==t?0:+t),this._next||RY===this||(RY?RY._next=this:TY=this,RY=this),this._call=e,this._time=n,XY()},stop:function(){this._call&&(this._call=null,this._time=1/0,XY())}};var ZY=JG("start","end","cancel","interrupt"),JY=[];function eX(e,t,n,r,i,a){var s=e.__transition;if(s){if(n in s)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function a(e){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=e&&s(e-n.delay)}function s(a){var c,u,d,h;if(1!==n.state)return l();for(c in i)if((h=i[c]).name===n.name){if(3===h.state)return QY(s);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete i[c]):+c<t&&(h.state=6,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete i[c])}if(QY(function(){3===n.state&&(n.state=4,n.timer.restart(o,n.delay,n.time),o(a))}),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(d=n.tween.length),c=0,u=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=h);r.length=u+1}}function o(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=5,1),a=-1,s=r.length;++a<s;)r[a].call(e,i);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=UY(a,0,n.time)}(e,n,{name:t,index:r,group:i,on:ZY,tween:JY,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function tX(e,t){var n=rX(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function nX(e,t){var n=rX(e,t);if(n.state>3)throw new Error("too late; already running");return n}function rX(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function iX(e,t){var n,r,i,a=e.__transition,s=!0;if(a){for(i in t=null==t?null:t+"",a)(n=a[i]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete a[i]):s=!1;s&&delete e.__transition}}function aX(e,t){var n,r;return function(){var i=nX(this,e),a=i.tween;if(a!==n)for(var s=0,o=(r=n=a).length;s<o;++s)if(r[s].name===t){(r=r.slice()).splice(s,1);break}i.tween=r}}function sX(e,t,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var a=nX(this,e),s=a.tween;if(s!==r){i=(r=s).slice();for(var o={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=o;break}l===c&&i.push(o)}a.tween=i}}function oX(e,t,n){var r=e._id;return e.each(function(){var e=nX(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return rX(e,r).value[t]}}function lX(e,t){var n;return("number"==typeof t?jP:t instanceof mC?gP:(n=mC(t))?(t=n,gP):CP)(e,t)}function cX(e){return function(){this.removeAttribute(e)}}function uX(e){return function(){this.removeAttributeNS(e.space,e.local)}}function dX(e,t,n){var r,i,a=n+"";return function(){var s=this.getAttribute(e);return s===a?null:s===r?i:i=t(r=s,n)}}function hX(e,t,n){var r,i,a=n+"";return function(){var s=this.getAttributeNS(e.space,e.local);return s===a?null:s===r?i:i=t(r=s,n)}}function fX(e,t,n){var r,i,a;return function(){var s,o,l=n(this);if(null!=l)return(s=this.getAttribute(e))===(o=l+"")?null:s===r&&o===i?a:(i=o,a=t(r=s,l));this.removeAttribute(e)}}function mX(e,t,n){var r,i,a;return function(){var s,o,l=n(this);if(null!=l)return(s=this.getAttributeNS(e.space,e.local))===(o=l+"")?null:s===r&&o===i?a:(i=o,a=t(r=s,l));this.removeAttributeNS(e.space,e.local)}}function gX(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,i)),n}return i._value=t,i}function pX(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,i)),n}return i._value=t,i}function vX(e,t){return function(){tX(this,e).delay=+t.apply(this,arguments)}}function yX(e,t){return t=+t,function(){tX(this,e).delay=t}}function xX(e,t){return function(){nX(this,e).duration=+t.apply(this,arguments)}}function bX(e,t){return t=+t,function(){nX(this,e).duration=t}}var wX=mY.prototype.constructor;function _X(e){return function(){this.style.removeProperty(e)}}var jX=0;function NX(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function kX(e){return mY().transition(e)}function SX(){return++jX}var CX=mY.prototype;function PX(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function EX(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}NX.prototype=kX.prototype={constructor:NX,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=uq(e));for(var r=this._groups,i=r.length,a=new Array(i),s=0;s<i;++s)for(var o,l,c=r[s],u=c.length,d=a[s]=new Array(u),h=0;h<u;++h)(o=c[h])&&(l=e.call(o,o.__data__,h,c))&&("__data__"in o&&(l.__data__=o.__data__),d[h]=l,eX(d[h],t,n,h,d,rX(o,n)));return new NX(a,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=fq(e));for(var r=this._groups,i=r.length,a=[],s=[],o=0;o<i;++o)for(var l,c=r[o],u=c.length,d=0;d<u;++d)if(l=c[d]){for(var h,f=e.call(l,l.__data__,d,c),m=rX(l,n),g=0,p=f.length;g<p;++g)(h=f[g])&&eX(h,t,n,g,f,m);a.push(f),s.push(l)}return new NX(a,s,t,n)},selectChild:CX.selectChild,selectChildren:CX.selectChildren,filter:function(e){"function"!=typeof e&&(e=mq(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,s=t[i],o=s.length,l=r[i]=[],c=0;c<o;++c)(a=s[c])&&e.call(a,a.__data__,c,s)&&l.push(a);return new NX(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),s=new Array(r),o=0;o<a;++o)for(var l,c=t[o],u=n[o],d=c.length,h=s[o]=new Array(d),f=0;f<d;++f)(l=c[f]||u[f])&&(h[f]=l);for(;o<r;++o)s[o]=t[o];return new NX(s,this._parents,this._name,this._id)},selection:function(){return new wX(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=SX(),r=this._groups,i=r.length,a=0;a<i;++a)for(var s,o=r[a],l=o.length,c=0;c<l;++c)if(s=o[c]){var u=rX(s,t);eX(s,e,n,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new NX(r,this._parents,e,n)},call:CX.call,nodes:CX.nodes,node:CX.node,size:CX.size,empty:CX.empty,each:CX.each,on:function(e,t){var n=this._id;return arguments.length<2?rX(this.node(),n).on.on(e):this.each(function(e,t,n){var r,i,a=function(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(t)?tX:nX;return function(){var s=a(this,e),o=s.on;o!==r&&(i=(r=o).copy()).on(t,n),s.on=i}}(n,e,t))},attr:function(e,t){var n=aq(e),r="transform"===n?IP:lX;return this.attrTween(e,"function"==typeof t?(n.local?mX:fX)(n,r,oX(this,"attr."+e,t)):null==t?(n.local?uX:cX)(n):(n.local?hX:dX)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=aq(e);return this.tween(n,(r.local?gX:pX)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?DP:lX;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var a=Lq(this,e),s=(this.style.removeProperty(e),Lq(this,e));return a===s?null:a===n&&s===r?i:i=t(n=a,r=s)}}(e,r)).on("end.style."+e,_X(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,i,a;return function(){var s=Lq(this,e),o=n(this),l=o+"";return null==o&&(this.style.removeProperty(e),l=o=Lq(this,e)),s===l?null:s===r&&l===i?a:(i=l,a=t(r=s,o))}}(e,r,oX(this,"style."+e,t))).each(function(e,t){var n,r,i,a,s="style."+t,o="end."+s;return function(){var l=nX(this,e),c=l.on,u=null==l.value[s]?a||(a=_X(t)):void 0;c===n&&i===u||(r=(n=c).copy()).on(o,i=u),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,a=n+"";return function(){var s=Lq(this,e);return s===a?null:s===r?i:i=t(r=s,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,i;function a(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,a,n)),r}return a._value=t,a}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(oX(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=rX(this.node(),n).tween,a=0,s=i.length;a<s;++a)if((r=i[a]).name===e)return r.value;return null}return this.each((null==t?aX:sX)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?vX:yX)(t,e)):rX(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?xX:bX)(t,e)):rX(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){nX(this,e).ease=t}}(t,e)):rX(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;nX(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(a,s){var o={value:s},l={value:function(){0===--i&&a()}};n.each(function(){var n=nX(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(o),t._.interrupt.push(o),t._.end.push(l)),n.on=t}),0===i&&a()})},[Symbol.iterator]:CX[Symbol.iterator]};var MX=function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n}(3),OX=function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),AX=function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3),TX=Math.PI,RX=TX/2;function DX(e){return(1-Math.cos(TX*e))/2}function IX(e){return 1.0009775171065494*(Math.pow(2,-10*e)-.0009765625)}function LX(e){return((e*=2)<=1?IX(1-e):2-IX(e-1))/2}function zX(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var FX=4/11,BX=6/11,VX=8/11,WX=9/11,$X=10/11,HX=21/22,KX=7.5625;function UX(e){return(e=+e)<FX?KX*e*e:e<VX?KX*(e-=BX)*e+.75:e<$X?KX*(e-=WX)*e+.9375:KX*(e-=HX)*e+.984375}var GX=1.70158,qX=function e(t){function n(e){return(e=+e)*e*(t*(e-1)+e)}return t=+t,n.overshoot=e,n}(GX),YX=function e(t){function n(e){return--e*e*((e+1)*t+e)+1}return t=+t,n.overshoot=e,n}(GX),XX=function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(GX),QX=2*Math.PI,ZX=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=QX);function i(e){return t*IX(- --e)*Math.sin((r-e)/n)}return i.amplitude=function(t){return e(t,n*QX)},i.period=function(n){return e(t,n)},i}(1,.3),JX=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=QX);function i(e){return 1-t*IX(e=+e)*Math.sin((e+r)/n)}return i.amplitude=function(t){return e(t,n*QX)},i.period=function(n){return e(t,n)},i}(1,.3),eQ=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=QX);function i(e){return((e=2*e-1)<0?t*IX(-e)*Math.sin((r-e)/n):2-t*IX(e)*Math.sin((r+e)/n))/2}return i.amplitude=function(t){return e(t,n*QX)},i.period=function(n){return e(t,n)},i}(1,.3),tQ={time:null,delay:0,duration:250,ease:EX};function nQ(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}mY.prototype.interrupt=function(e){return this.each(function(){iX(this,e)})},mY.prototype.transition=function(e){var t,n;e instanceof NX?(t=e._id,e=e._name):(t=SX(),(n=tQ).time=$Y(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var s,o=r[a],l=o.length,c=0;c<l;++c)(s=o[c])&&eX(s,e,t,c,o,n||nQ(s,t));return new NX(r,this._parents,e,t)};var rQ=[null];const iQ=e=>()=>e;function aQ(e,{sourceEvent:t,target:n,selection:r,mode:i,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function sQ(e){e.preventDefault(),e.stopImmediatePropagation()}var oQ={name:"drag"},lQ={name:"space"},cQ={name:"handle"},uQ={name:"center"};const{abs:dQ,max:hQ,min:fQ}=Math;function mQ(e){return[+e[0],+e[1]]}function gQ(e){return[mQ(e[0]),mQ(e[1])]}var pQ={name:"x",handles:["w","e"].map(NQ),input:function(e,t){return null==e?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},vQ={name:"y",handles:["n","s"].map(NQ),input:function(e,t){return null==e?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},yQ={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(NQ),input:function(e){return null==e?null:gQ(e)},output:function(e){return e}},xQ={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},bQ={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},wQ={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},_Q={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},jQ={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function NQ(e){return{type:e}}function kQ(e){return!e.ctrlKey&&!e.button}function SQ(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function CQ(){return navigator.maxTouchPoints||"ontouchstart"in this}function PQ(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function EQ(e){var t,n=SQ,r=kQ,i=CQ,a=!0,s=JG("start","brush","end"),o=6;function l(t){var n=t.property("__brush",g).selectAll(".overlay").data([NQ("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",xQ.overlay).merge(n).each(function(){var e=PQ(this).extent;gY(this).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1])}),t.selectAll(".selection").data([NQ("selection")]).enter().append("rect").attr("class","selection").attr("cursor",xQ.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=t.selectAll(".handle").data(e.handles,function(e){return e.type});r.exit().remove(),r.enter().append("rect").attr("class",function(e){return"handle handle--"+e.type}).attr("cursor",function(e){return xQ[e.type]}),t.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(i).on("touchstart.brush",h).on("touchmove.brush",f).on("touchend.brush touchcancel.brush",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(){var e=gY(this),t=PQ(this).selection;t?(e.selectAll(".selection").style("display",null).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1]),e.selectAll(".handle").style("display",null).attr("x",function(e){return"e"===e.type[e.type.length-1]?t[1][0]-o/2:t[0][0]-o/2}).attr("y",function(e){return"s"===e.type[0]?t[1][1]-o/2:t[0][1]-o/2}).attr("width",function(e){return"n"===e.type||"s"===e.type?t[1][0]-t[0][0]+o:o}).attr("height",function(e){return"e"===e.type||"w"===e.type?t[1][1]-t[0][1]+o:o})):e.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function u(e,t,n){var r=e.__brush.emitter;return!r||n&&r.clean?new d(e,t,n):r}function d(e,t,n){this.that=e,this.args=t,this.state=e.__brush,this.active=0,this.clean=n}function h(n){if((!t||n.touches)&&r.apply(this,arguments)){var i,s,o,l,d,h,f,m,g,p,v,y=this,x=n.target.__data__.type,b="selection"===(a&&n.metaKey?x="overlay":x)?oQ:a&&n.altKey?uQ:cQ,w=e===vQ?null:_Q[x],_=e===pQ?null:jQ[x],j=PQ(y),N=j.extent,k=j.selection,S=N[0][0],C=N[0][1],P=N[1][0],E=N[1][1],M=0,O=0,A=w&&_&&a&&n.shiftKey,T=Array.from(n.touches||[n],e=>{const t=e.identifier;return(e=bY(e,y)).point0=e.slice(),e.identifier=t,e});iX(y);var R=u(y,arguments,!0).beforestart();if("overlay"===x){k&&(g=!0);const t=[T[0],T[1]||T[0]];j.selection=k=[[i=e===vQ?S:fQ(t[0][0],t[1][0]),o=e===pQ?C:fQ(t[0][1],t[1][1])],[d=e===vQ?P:hQ(t[0][0],t[1][0]),f=e===pQ?E:hQ(t[0][1],t[1][1])]],T.length>1&&F(n)}else i=k[0][0],o=k[0][1],d=k[1][0],f=k[1][1];s=i,l=o,h=d,m=f;var D=gY(y).attr("pointer-events","none"),I=D.selectAll(".overlay").attr("cursor",xQ[x]);if(n.touches)R.moved=z,R.ended=B;else{var L=gY(n.view).on("mousemove.brush",z,!0).on("mouseup.brush",B,!0);a&&L.on("keydown.brush",function(e){switch(e.keyCode){case 16:A=w&&_;break;case 18:b===cQ&&(w&&(d=h-M*w,i=s+M*w),_&&(f=m-O*_,o=l+O*_),b=uQ,F(e));break;case 32:b!==cQ&&b!==uQ||(w<0?d=h-M:w>0&&(i=s-M),_<0?f=m-O:_>0&&(o=l-O),b=lQ,I.attr("cursor",xQ.selection),F(e));break;default:return}sQ(e)},!0).on("keyup.brush",function(e){switch(e.keyCode){case 16:A&&(p=v=A=!1,F(e));break;case 18:b===uQ&&(w<0?d=h:w>0&&(i=s),_<0?f=m:_>0&&(o=l),b=cQ,F(e));break;case 32:b===lQ&&(e.altKey?(w&&(d=h-M*w,i=s+M*w),_&&(f=m-O*_,o=l+O*_),b=uQ):(w<0?d=h:w>0&&(i=s),_<0?f=m:_>0&&(o=l),b=cQ),I.attr("cursor",xQ[x]),F(e));break;default:return}sQ(e)},!0),kY(n.view)}c.call(y),R.start(n,b.name)}function z(e){for(const t of e.changedTouches||[e])for(const e of T)e.identifier===t.identifier&&(e.cur=bY(t,y));if(A&&!p&&!v&&1===T.length){const e=T[0];dQ(e.cur[0]-e[0])>dQ(e.cur[1]-e[1])?v=!0:p=!0}for(const t of T)t.cur&&(t[0]=t.cur[0],t[1]=t.cur[1]);g=!0,sQ(e),F(e)}function F(e){const t=T[0],n=t.point0;var r;switch(M=t[0]-n[0],O=t[1]-n[1],b){case lQ:case oQ:w&&(M=hQ(S-i,fQ(P-d,M)),s=i+M,h=d+M),_&&(O=hQ(C-o,fQ(E-f,O)),l=o+O,m=f+O);break;case cQ:T[1]?(w&&(s=hQ(S,fQ(P,T[0][0])),h=hQ(S,fQ(P,T[1][0])),w=1),_&&(l=hQ(C,fQ(E,T[0][1])),m=hQ(C,fQ(E,T[1][1])),_=1)):(w<0?(M=hQ(S-i,fQ(P-i,M)),s=i+M,h=d):w>0&&(M=hQ(S-d,fQ(P-d,M)),s=i,h=d+M),_<0?(O=hQ(C-o,fQ(E-o,O)),l=o+O,m=f):_>0&&(O=hQ(C-f,fQ(E-f,O)),l=o,m=f+O));break;case uQ:w&&(s=hQ(S,fQ(P,i-M*w)),h=hQ(S,fQ(P,d+M*w))),_&&(l=hQ(C,fQ(E,o-O*_)),m=hQ(C,fQ(E,f+O*_)))}h<s&&(w*=-1,r=i,i=d,d=r,r=s,s=h,h=r,x in bQ&&I.attr("cursor",xQ[x=bQ[x]])),m<l&&(_*=-1,r=o,o=f,f=r,r=l,l=m,m=r,x in wQ&&I.attr("cursor",xQ[x=wQ[x]])),j.selection&&(k=j.selection),p&&(s=k[0][0],h=k[1][0]),v&&(l=k[0][1],m=k[1][1]),k[0][0]===s&&k[0][1]===l&&k[1][0]===h&&k[1][1]===m||(j.selection=[[s,l],[h,m]],c.call(y),R.brush(e,b.name))}function B(e){if(function(e){e.stopImmediatePropagation()}(e),e.touches){if(e.touches.length)return;t&&clearTimeout(t),t=setTimeout(function(){t=null},500)}else SY(e.view,g),L.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);D.attr("pointer-events","all"),I.attr("cursor",xQ.overlay),j.selection&&(k=j.selection),function(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}(k)&&(j.selection=null,c.call(y)),R.end(e,b.name)}}function f(e){u(this,arguments).moved(e)}function m(e){u(this,arguments).ended(e)}function g(){var t=this.__brush||{selection:null};return t.extent=gQ(n.apply(this,arguments)),t.dim=e,t}return l.move=function(t,n,r){t.tween?t.on("start.brush",function(e){u(this,arguments).beforestart().start(e)}).on("interrupt.brush end.brush",function(e){u(this,arguments).end(e)}).tween("brush",function(){var t=this,r=t.__brush,i=u(t,arguments),a=r.selection,s=e.input("function"==typeof n?n.apply(this,arguments):n,r.extent),o=PP(a,s);function l(e){r.selection=1===e&&null===s?null:o(e),c.call(t),i.brush()}return null!==a&&null!==s?l:l(1)}):t.each(function(){var t=this,i=arguments,a=t.__brush,s=e.input("function"==typeof n?n.apply(t,i):n,a.extent),o=u(t,i).beforestart();iX(t),a.selection=null===s?null:s,c.call(t),o.start(r).brush(r).end(r)})},l.clear=function(e,t){l.move(e,null,t)},d.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(e,t){return this.starting?(this.starting=!1,this.emit("start",e,t)):this.emit("brush",e),this},brush:function(e,t){return this.emit("brush",e,t),this},end:function(e,t){return 0===--this.active&&(delete this.state.emitter,this.emit("end",e,t)),this},emit:function(t,n,r){var i=gY(this.that).datum();s.call(t,this.that,new aQ(t,{sourceEvent:n,target:l,selection:e.output(this.state.selection),mode:r,dispatch:s}),i)}},l.extent=function(e){return arguments.length?(n="function"==typeof e?e:iQ(gQ(e)),l):n},l.filter=function(e){return arguments.length?(r="function"==typeof e?e:iQ(!!e),l):r},l.touchable=function(e){return arguments.length?(i="function"==typeof e?e:iQ(!!e),l):i},l.handleSize=function(e){return arguments.length?(o=+e,l):o},l.keyModifiers=function(e){return arguments.length?(a=!!e,l):a},l.on=function(){var e=s.on.apply(s,arguments);return e===s?l:e},l}var MQ=Math.abs,OQ=Math.cos,AQ=Math.sin,TQ=Math.PI,RQ=TQ/2,DQ=2*TQ,IQ=Math.max,LQ=1e-12;function zQ(e,t){return Array.from({length:t-e},(t,n)=>e+n)}function FQ(e,t){var n=0,r=null,i=null,a=null;function s(s){var o,l=s.length,c=new Array(l),u=zQ(0,l),d=new Array(l*l),h=new Array(l),f=0;s=Float64Array.from({length:l*l},t?(e,t)=>s[t%l][t/l|0]:(e,t)=>s[t/l|0][t%l]);for(let t=0;t<l;++t){let n=0;for(let r=0;r<l;++r)n+=s[t*l+r]+e*s[r*l+t];f+=c[t]=n}o=(f=IQ(0,DQ-n*l)/f)?n:DQ/l;{let t=0;r&&u.sort((e,t)=>r(c[e],c[t]));for(const n of u){const r=t;if(e){const e=zQ(1+~l,l).filter(e=>e<0?s[~e*l+n]:s[n*l+e]);i&&e.sort((e,t)=>i(e<0?-s[~e*l+n]:s[n*l+e],t<0?-s[~t*l+n]:s[n*l+t]));for(const r of e)r<0?(d[~r*l+n]||(d[~r*l+n]={source:null,target:null})).target={index:n,startAngle:t,endAngle:t+=s[~r*l+n]*f,value:s[~r*l+n]}:(d[n*l+r]||(d[n*l+r]={source:null,target:null})).source={index:n,startAngle:t,endAngle:t+=s[n*l+r]*f,value:s[n*l+r]};h[n]={index:n,startAngle:r,endAngle:t,value:c[n]}}else{const e=zQ(0,l).filter(e=>s[n*l+e]||s[e*l+n]);i&&e.sort((e,t)=>i(s[n*l+e],s[n*l+t]));for(const r of e){let e;if(n<r?(e=d[n*l+r]||(d[n*l+r]={source:null,target:null}),e.source={index:n,startAngle:t,endAngle:t+=s[n*l+r]*f,value:s[n*l+r]}):(e=d[r*l+n]||(d[r*l+n]={source:null,target:null}),e.target={index:n,startAngle:t,endAngle:t+=s[n*l+r]*f,value:s[n*l+r]},n===r&&(e.source=e.target)),e.source&&e.target&&e.source.value<e.target.value){const t=e.source;e.source=e.target,e.target=t}}h[n]={index:n,startAngle:r,endAngle:t,value:c[n]}}t+=o}}return(d=Object.values(d)).groups=h,a?d.sort(a):d}return s.padAngle=function(e){return arguments.length?(n=IQ(0,e),s):n},s.sortGroups=function(e){return arguments.length?(r=e,s):r},s.sortSubgroups=function(e){return arguments.length?(i=e,s):i},s.sortChords=function(e){return arguments.length?(null==e?a=null:(t=e,a=function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)})._=e,s):a&&a._;var t},s}var BQ=Array.prototype.slice;function VQ(e){return function(){return e}}function WQ(e){return e.source}function $Q(e){return e.target}function HQ(e){return e.radius}function KQ(e){return e.startAngle}function UQ(e){return e.endAngle}function GQ(){return 0}function qQ(){return 10}function YQ(e){var t=WQ,n=$Q,r=HQ,i=HQ,a=KQ,s=UQ,o=GQ,l=null;function c(){var c,u=t.apply(this,arguments),d=n.apply(this,arguments),h=o.apply(this,arguments)/2,f=BQ.call(arguments),m=+r.apply(this,(f[0]=u,f)),g=a.apply(this,f)-RQ,p=s.apply(this,f)-RQ,v=+i.apply(this,(f[0]=d,f)),y=a.apply(this,f)-RQ,x=s.apply(this,f)-RQ;if(l||(l=c=hg()),h>LQ&&(MQ(p-g)>2*h+LQ?p>g?(g+=h,p-=h):(g-=h,p+=h):g=p=(g+p)/2,MQ(x-y)>2*h+LQ?x>y?(y+=h,x-=h):(y-=h,x+=h):y=x=(y+x)/2),l.moveTo(m*OQ(g),m*AQ(g)),l.arc(0,0,m,g,p),g!==y||p!==x)if(e){var b=v-+e.apply(this,arguments),w=(y+x)/2;l.quadraticCurveTo(0,0,b*OQ(y),b*AQ(y)),l.lineTo(v*OQ(w),v*AQ(w)),l.lineTo(b*OQ(x),b*AQ(x))}else l.quadraticCurveTo(0,0,v*OQ(y),v*AQ(y)),l.arc(0,0,v,y,x);if(l.quadraticCurveTo(0,0,m*OQ(g),m*AQ(g)),l.closePath(),c)return l=null,c+""||null}return e&&(c.headRadius=function(t){return arguments.length?(e="function"==typeof t?t:VQ(+t),c):e}),c.radius=function(e){return arguments.length?(r=i="function"==typeof e?e:VQ(+e),c):r},c.sourceRadius=function(e){return arguments.length?(r="function"==typeof e?e:VQ(+e),c):r},c.targetRadius=function(e){return arguments.length?(i="function"==typeof e?e:VQ(+e),c):i},c.startAngle=function(e){return arguments.length?(a="function"==typeof e?e:VQ(+e),c):a},c.endAngle=function(e){return arguments.length?(s="function"==typeof e?e:VQ(+e),c):s},c.padAngle=function(e){return arguments.length?(o="function"==typeof e?e:VQ(+e),c):o},c.source=function(e){return arguments.length?(t=e,c):t},c.target=function(e){return arguments.length?(n=e,c):n},c.context=function(e){return arguments.length?(l=null==e?null:e,c):l},c}var XQ=Array.prototype.slice;function QQ(e,t){return e-t}const ZQ=e=>()=>e;function JQ(e,t){for(var n,r=-1,i=t.length;++r<i;)if(n=eZ(e,t[r]))return n;return 0}function eZ(e,t){for(var n=t[0],r=t[1],i=-1,a=0,s=e.length,o=s-1;a<s;o=a++){var l=e[a],c=l[0],u=l[1],d=e[o],h=d[0],f=d[1];if(tZ(l,d,t))return 0;u>r!=f>r&&n<(h-c)*(r-u)/(f-u)+c&&(i=-i)}return i}function tZ(e,t,n){var r,i,a,s;return function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}(e,t,n)&&(i=e[r=+(e[0]===t[0])],a=n[r],s=t[r],i<=a&&a<=s||s<=a&&a<=i)}function nZ(){}var rZ=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function iZ(){var e=1,t=1,n=bS,r=o;function i(e){var t=n(e);if(Array.isArray(t))t=t.slice().sort(QQ);else{const n=Hk(e,aZ);for(t=pS(...xS(n[0],n[1],t),t);t[t.length-1]>=n[1];)t.pop();for(;t[1]<n[0];)t.shift()}return t.map(t=>a(e,t))}function a(n,i){const a=null==i?NaN:+i;if(isNaN(a))throw new Error(`invalid value: ${i}`);var o=[],l=[];return function(n,r,i){var a,o,l,c,u,d,h=new Array,f=new Array;for(a=o=-1,c=sZ(n[0],r),rZ[c<<1].forEach(m);++a<e-1;)l=c,c=sZ(n[a+1],r),rZ[l|c<<1].forEach(m);for(rZ[0|c].forEach(m);++o<t-1;){for(a=-1,c=sZ(n[o*e+e],r),u=sZ(n[o*e],r),rZ[c<<1|u<<2].forEach(m);++a<e-1;)l=c,c=sZ(n[o*e+e+a+1],r),d=u,u=sZ(n[o*e+a+1],r),rZ[l|c<<1|u<<2|d<<3].forEach(m);rZ[c|u<<3].forEach(m)}for(a=-1,u=n[o*e]>=r,rZ[u<<2].forEach(m);++a<e-1;)d=u,u=sZ(n[o*e+a+1],r),rZ[u<<2|d<<3].forEach(m);function m(e){var t,n,r=[e[0][0]+a,e[0][1]+o],l=[e[1][0]+a,e[1][1]+o],c=s(r),u=s(l);(t=f[c])?(n=h[u])?(delete f[t.end],delete h[n.start],t===n?(t.ring.push(l),i(t.ring)):h[t.start]=f[n.end]={start:t.start,end:n.end,ring:t.ring.concat(n.ring)}):(delete f[t.end],t.ring.push(l),f[t.end=u]=t):(t=h[u])?(n=f[c])?(delete h[t.start],delete f[n.end],t===n?(t.ring.push(l),i(t.ring)):h[n.start]=f[t.end]={start:n.start,end:t.end,ring:n.ring.concat(t.ring)}):(delete h[t.start],t.ring.unshift(r),h[t.start=c]=t):h[c]=f[u]={start:c,end:u,ring:[r,l]}}rZ[u<<3].forEach(m)}(n,a,function(e){r(e,n,a),function(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}(e)>0?o.push([e]):l.push(e)}),l.forEach(function(e){for(var t,n=0,r=o.length;n<r;++n)if(-1!==JQ((t=o[n])[0],e))return void t.push(e)}),{type:"MultiPolygon",value:i,coordinates:o}}function s(t){return 2*t[0]+t[1]*(e+1)*4}function o(n,r,i){n.forEach(function(n){var a=n[0],s=n[1],o=0|a,l=0|s,c=oZ(r[l*e+o]);a>0&&a<e&&o===a&&(n[0]=lZ(a,oZ(r[l*e+o-1]),c,i)),s>0&&s<t&&l===s&&(n[1]=lZ(s,oZ(r[(l-1)*e+o]),c,i))})}return i.contour=a,i.size=function(n){if(!arguments.length)return[e,t];var r=Math.floor(n[0]),a=Math.floor(n[1]);if(!(r>=0&&a>=0))throw new Error("invalid size");return e=r,t=a,i},i.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:Array.isArray(e)?ZQ(XQ.call(e)):ZQ(e),i):n},i.smooth=function(e){return arguments.length?(r=e?o:nZ,i):r===o},i}function aZ(e){return isFinite(e)?e:NaN}function sZ(e,t){return null!=e&&+e>=t}function oZ(e){return null==e||isNaN(e=+e)?-1/0:e}function lZ(e,t,n,r){const i=r-t,a=n-t,s=isFinite(i)||isFinite(a)?i/a:Math.sign(i)/Math.sign(a);return isNaN(s)?e:e+s-.5}function cZ(e){return e[0]}function uZ(e){return e[1]}function dZ(){return 1}const hZ=134217729;function fZ(e,t,n,r,i){let a,s,o,l,c=t[0],u=r[0],d=0,h=0;u>c==u>-c?(a=c,c=t[++d]):(a=u,u=r[++h]);let f=0;if(d<e&&h<n)for(u>c==u>-c?(s=c+a,o=a-(s-c),c=t[++d]):(s=u+a,o=a-(s-u),u=r[++h]),a=s,0!==o&&(i[f++]=o);d<e&&h<n;)u>c==u>-c?(s=a+c,l=s-a,o=a-(s-l)+(c-l),c=t[++d]):(s=a+u,l=s-a,o=a-(s-l)+(u-l),u=r[++h]),a=s,0!==o&&(i[f++]=o);for(;d<e;)s=a+c,l=s-a,o=a-(s-l)+(c-l),c=t[++d],a=s,0!==o&&(i[f++]=o);for(;h<n;)s=a+u,l=s-a,o=a-(s-l)+(u-l),u=r[++h],a=s,0!==o&&(i[f++]=o);return 0===a&&0!==f||(i[f++]=a),f}function mZ(e){return new Float64Array(e)}const gZ=mZ(4),pZ=mZ(8),vZ=mZ(12),yZ=mZ(16),xZ=mZ(4);function bZ(e,t,n,r,i,a){const s=(t-a)*(n-i),o=(e-i)*(r-a),l=s-o,c=Math.abs(s+o);return Math.abs(l)>=33306690738754716e-32*c?l:-function(e,t,n,r,i,a,s){let o,l,c,u,d,h,f,m,g,p,v,y,x,b,w,_,j,N;const k=e-i,S=n-i,C=t-a,P=r-a;b=k*P,h=hZ*k,f=h-(h-k),m=k-f,h=hZ*P,g=h-(h-P),p=P-g,w=m*p-(b-f*g-m*g-f*p),_=C*S,h=hZ*C,f=h-(h-C),m=C-f,h=hZ*S,g=h-(h-S),p=S-g,j=m*p-(_-f*g-m*g-f*p),v=w-j,d=w-v,gZ[0]=w-(v+d)+(d-j),y=b+v,d=y-b,x=b-(y-d)+(v-d),v=x-_,d=x-v,gZ[1]=x-(v+d)+(d-_),N=y+v,d=N-y,gZ[2]=y-(N-d)+(v-d),gZ[3]=N;let E=function(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}(4,gZ),M=22204460492503146e-32*s;if(E>=M||-E>=M)return E;if(d=e-k,o=e-(k+d)+(d-i),d=n-S,c=n-(S+d)+(d-i),d=t-C,l=t-(C+d)+(d-a),d=r-P,u=r-(P+d)+(d-a),0===o&&0===l&&0===c&&0===u)return E;if(M=11093356479670487e-47*s+33306690738754706e-32*Math.abs(E),E+=k*u+P*o-(C*c+S*l),E>=M||-E>=M)return E;b=o*P,h=hZ*o,f=h-(h-o),m=o-f,h=hZ*P,g=h-(h-P),p=P-g,w=m*p-(b-f*g-m*g-f*p),_=l*S,h=hZ*l,f=h-(h-l),m=l-f,h=hZ*S,g=h-(h-S),p=S-g,j=m*p-(_-f*g-m*g-f*p),v=w-j,d=w-v,xZ[0]=w-(v+d)+(d-j),y=b+v,d=y-b,x=b-(y-d)+(v-d),v=x-_,d=x-v,xZ[1]=x-(v+d)+(d-_),N=y+v,d=N-y,xZ[2]=y-(N-d)+(v-d),xZ[3]=N;const O=fZ(4,gZ,4,xZ,pZ);b=k*u,h=hZ*k,f=h-(h-k),m=k-f,h=hZ*u,g=h-(h-u),p=u-g,w=m*p-(b-f*g-m*g-f*p),_=C*c,h=hZ*C,f=h-(h-C),m=C-f,h=hZ*c,g=h-(h-c),p=c-g,j=m*p-(_-f*g-m*g-f*p),v=w-j,d=w-v,xZ[0]=w-(v+d)+(d-j),y=b+v,d=y-b,x=b-(y-d)+(v-d),v=x-_,d=x-v,xZ[1]=x-(v+d)+(d-_),N=y+v,d=N-y,xZ[2]=y-(N-d)+(v-d),xZ[3]=N;const A=fZ(O,pZ,4,xZ,vZ);b=o*u,h=hZ*o,f=h-(h-o),m=o-f,h=hZ*u,g=h-(h-u),p=u-g,w=m*p-(b-f*g-m*g-f*p),_=l*c,h=hZ*l,f=h-(h-l),m=l-f,h=hZ*c,g=h-(h-c),p=c-g,j=m*p-(_-f*g-m*g-f*p),v=w-j,d=w-v,xZ[0]=w-(v+d)+(d-j),y=b+v,d=y-b,x=b-(y-d)+(v-d),v=x-_,d=x-v,xZ[1]=x-(v+d)+(d-_),N=y+v,d=N-y,xZ[2]=y-(N-d)+(v-d),xZ[3]=N;const T=fZ(A,vZ,4,xZ,yZ);return yZ[T-1]}(e,t,n,r,i,a,c)}const wZ=Math.pow(2,-52),_Z=new Uint32Array(512);class jZ{static from(e,t=EZ,n=MZ){const r=e.length,i=new Float64Array(2*r);for(let a=0;a<r;a++){const r=e[a];i[2*a]=t(r),i[2*a+1]=n(r)}return new jZ(i)}constructor(e){const t=e.length>>1;if(t>0&&"number"!=typeof e[0])throw new Error("Expected coords to contain numbers.");this.coords=e;const n=Math.max(2*t-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(t)),this._hullPrev=new Uint32Array(t),this._hullNext=new Uint32Array(t),this._hullTri=new Uint32Array(t),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(t),this._dists=new Float64Array(t),this.update()}update(){const{coords:e,_hullPrev:t,_hullNext:n,_hullTri:r,_hullHash:i}=this,a=e.length>>1;let s=1/0,o=1/0,l=-1/0,c=-1/0;for(let N=0;N<a;N++){const t=e[2*N],n=e[2*N+1];t<s&&(s=t),n<o&&(o=n),t>l&&(l=t),n>c&&(c=n),this._ids[N]=N}const u=(s+l)/2,d=(o+c)/2;let h,f,m;for(let N=0,k=1/0;N<a;N++){const t=NZ(u,d,e[2*N],e[2*N+1]);t<k&&(h=N,k=t)}const g=e[2*h],p=e[2*h+1];for(let N=0,k=1/0;N<a;N++){if(N===h)continue;const t=NZ(g,p,e[2*N],e[2*N+1]);t<k&&t>0&&(f=N,k=t)}let v=e[2*f],y=e[2*f+1],x=1/0;for(let N=0;N<a;N++){if(N===h||N===f)continue;const t=SZ(g,p,v,y,e[2*N],e[2*N+1]);t<x&&(m=N,x=t)}let b=e[2*m],w=e[2*m+1];if(x===1/0){for(let r=0;r<a;r++)this._dists[r]=e[2*r]-e[0]||e[2*r+1]-e[1];CZ(this._ids,this._dists,0,a-1);const t=new Uint32Array(a);let n=0;for(let e=0,r=-1/0;e<a;e++){const i=this._ids[e],a=this._dists[i];a>r&&(t[n++]=i,r=a)}return this.hull=t.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(bZ(g,p,v,y,b,w)<0){const e=f,t=v,n=y;f=m,v=b,y=w,m=e,b=t,w=n}const _=function(e,t,n,r,i,a){const s=n-e,o=r-t,l=i-e,c=a-t,u=s*s+o*o,d=l*l+c*c,h=.5/(s*c-o*l);return{x:e+(c*u-o*d)*h,y:t+(s*d-l*u)*h}}(g,p,v,y,b,w);this._cx=_.x,this._cy=_.y;for(let N=0;N<a;N++)this._dists[N]=NZ(e[2*N],e[2*N+1],_.x,_.y);CZ(this._ids,this._dists,0,a-1),this._hullStart=h;let j=3;n[h]=t[m]=f,n[f]=t[h]=m,n[m]=t[f]=h,r[h]=0,r[f]=1,r[m]=2,i.fill(-1),i[this._hashKey(g,p)]=h,i[this._hashKey(v,y)]=f,i[this._hashKey(b,w)]=m,this.trianglesLen=0,this._addTriangle(h,f,m,-1,-1,-1);for(let N,k,S=0;S<this._ids.length;S++){const a=this._ids[S],s=e[2*a],o=e[2*a+1];if(S>0&&Math.abs(s-N)<=wZ&&Math.abs(o-k)<=wZ)continue;if(N=s,k=o,a===h||a===f||a===m)continue;let l=0;for(let e=0,t=this._hashKey(s,o);e<this._hashSize&&(l=i[(t+e)%this._hashSize],-1===l||l===n[l]);e++);l=t[l];let c,u=l;for(;c=n[u],bZ(s,o,e[2*u],e[2*u+1],e[2*c],e[2*c+1])>=0;)if(u=c,u===l){u=-1;break}if(-1===u)continue;let d=this._addTriangle(u,a,n[u],-1,-1,r[u]);r[a]=this._legalize(d+2),r[u]=d,j++;let g=n[u];for(;c=n[g],bZ(s,o,e[2*g],e[2*g+1],e[2*c],e[2*c+1])<0;)d=this._addTriangle(g,a,c,r[a],-1,r[g]),r[a]=this._legalize(d+2),n[g]=g,j--,g=c;if(u===l)for(;c=t[u],bZ(s,o,e[2*c],e[2*c+1],e[2*u],e[2*u+1])<0;)d=this._addTriangle(c,a,u,-1,r[u],r[c]),this._legalize(d+2),r[c]=d,n[u]=u,j--,u=c;this._hullStart=t[a]=u,n[u]=t[g]=a,n[a]=g,i[this._hashKey(s,o)]=a,i[this._hashKey(e[2*u],e[2*u+1])]=u}this.hull=new Uint32Array(j);for(let N=0,k=this._hullStart;N<j;N++)this.hull[N]=k,k=n[k];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,t){return Math.floor(function(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:t,_halfedges:n,coords:r}=this;let i=0,a=0;for(;;){const s=n[e],o=e-e%3;if(a=o+(e+2)%3,-1===s){if(0===i)break;e=_Z[--i];continue}const l=s-s%3,c=o+(e+1)%3,u=l+(s+2)%3,d=t[a],h=t[e],f=t[c],m=t[u];if(kZ(r[2*d],r[2*d+1],r[2*h],r[2*h+1],r[2*f],r[2*f+1],r[2*m],r[2*m+1])){t[e]=m,t[s]=d;const r=n[u];if(-1===r){let t=this._hullStart;do{if(this._hullTri[t]===u){this._hullTri[t]=e;break}t=this._hullPrev[t]}while(t!==this._hullStart)}this._link(e,r),this._link(s,n[a]),this._link(a,u);const o=l+(s+1)%3;i<_Z.length&&(_Z[i++]=o)}else{if(0===i)break;e=_Z[--i]}}return a}_link(e,t){this._halfedges[e]=t,-1!==t&&(this._halfedges[t]=e)}_addTriangle(e,t,n,r,i,a){const s=this.trianglesLen;return this._triangles[s]=e,this._triangles[s+1]=t,this._triangles[s+2]=n,this._link(s,r),this._link(s+1,i),this._link(s+2,a),this.trianglesLen+=3,s}}function NZ(e,t,n,r){const i=e-n,a=t-r;return i*i+a*a}function kZ(e,t,n,r,i,a,s,o){const l=e-s,c=t-o,u=n-s,d=r-o,h=i-s,f=a-o,m=u*u+d*d,g=h*h+f*f;return l*(d*g-m*f)-c*(u*g-m*h)+(l*l+c*c)*(u*f-d*h)<0}function SZ(e,t,n,r,i,a){const s=n-e,o=r-t,l=i-e,c=a-t,u=s*s+o*o,d=l*l+c*c,h=.5/(s*c-o*l),f=(c*u-o*d)*h,m=(s*d-l*u)*h;return f*f+m*m}function CZ(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const r=e[i],a=t[r];let s=i-1;for(;s>=n&&t[e[s]]>a;)e[s+1]=e[s--];e[s+1]=r}else{let i=n+1,a=r;PZ(e,n+r>>1,i),t[e[n]]>t[e[r]]&&PZ(e,n,r),t[e[i]]>t[e[r]]&&PZ(e,i,r),t[e[n]]>t[e[i]]&&PZ(e,n,i);const s=e[i],o=t[s];for(;;){do{i++}while(t[e[i]]<o);do{a--}while(t[e[a]]>o);if(a<i)break;PZ(e,i,a)}e[n+1]=e[a],e[a]=s,r-i+1>=a-n?(CZ(e,t,i,r),CZ(e,t,n,a-1)):(CZ(e,t,n,a-1),CZ(e,t,i,r))}}function PZ(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function EZ(e){return e[0]}function MZ(e){return e[1]}const OZ=1e-6;class AZ{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,t){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,t){this._+=`L${this._x1=+e},${this._y1=+t}`}arc(e,t,n){const r=(e=+e)+(n=+n),i=t=+t;if(n<0)throw new Error("negative radius");null===this._x1?this._+=`M${r},${i}`:(Math.abs(this._x1-r)>OZ||Math.abs(this._y1-i)>OZ)&&(this._+="L"+r+","+i),n&&(this._+=`A${n},${n},0,1,1,${e-n},${t}A${n},${n},0,1,1,${this._x1=r},${this._y1=i}`)}rect(e,t,n,r){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${+n}v${+r}h${-n}Z`}value(){return this._||null}}class TZ{constructor(){this._=[]}moveTo(e,t){this._.push([e,t])}closePath(){this._.push(this._[0].slice())}lineTo(e,t){this._.push([e,t])}value(){return this._.length?this._:null}}class RZ{constructor(e,[t,n,r,i]=[0,0,960,500]){if(!((r=+r)>=(t=+t)&&(i=+i)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(2*e.points.length),this.vectors=new Float64Array(2*e.points.length),this.xmax=r,this.xmin=t,this.ymax=i,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:t,triangles:n},vectors:r}=this;let i,a;const s=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let m,g,p=0,v=0,y=n.length;p<y;p+=3,v+=2){const r=2*n[p],o=2*n[p+1],l=2*n[p+2],c=e[r],u=e[r+1],d=e[o],h=e[o+1],f=e[l],y=e[l+1],x=d-c,b=h-u,w=f-c,_=y-u,j=2*(x*_-b*w);if(Math.abs(j)<1e-9){if(void 0===i){i=a=0;for(const n of t)i+=e[2*n],a+=e[2*n+1];i/=t.length,a/=t.length}const n=1e9*Math.sign((i-c)*_-(a-u)*w);m=(c+f)/2-n*_,g=(u+y)/2+n*w}else{const e=1/j,t=x*x+b*b,n=w*w+_*_;m=c+(_*t-b*n)*e,g=u+(x*n-w*t)*e}s[v]=m,s[v+1]=g}let o,l,c,u=t[t.length-1],d=4*u,h=e[2*u],f=e[2*u+1];r.fill(0);for(let m=0;m<t.length;++m)u=t[m],o=d,l=h,c=f,d=4*u,h=e[2*u],f=e[2*u+1],r[o+2]=r[d]=c-f,r[o+3]=r[d+1]=h-l}render(e){const t=null==e?e=new AZ:void 0,{delaunay:{halfedges:n,inedges:r,hull:i},circumcenters:a,vectors:s}=this;if(i.length<=1)return null;for(let c=0,u=n.length;c<u;++c){const t=n[c];if(t<c)continue;const r=2*Math.floor(c/3),i=2*Math.floor(t/3),s=a[r],o=a[r+1],l=a[i],u=a[i+1];this._renderSegment(s,o,l,u,e)}let o,l=i[i.length-1];for(let c=0;c<i.length;++c){o=l,l=i[c];const t=2*Math.floor(r[l]/3),n=a[t],u=a[t+1],d=4*o,h=this._project(n,u,s[d+2],s[d+3]);h&&this._renderSegment(n,u,h[0],h[1],e)}return t&&t.value()}renderBounds(e){const t=null==e?e=new AZ:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}renderCell(e,t){const n=null==t?t=new AZ:void 0,r=this._clip(e);if(null===r||!r.length)return;t.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let a=2;a<i;a+=2)r[a]===r[a-2]&&r[a+1]===r[a-1]||t.lineTo(r[a],r[a+1]);return t.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let t=0,n=e.length/2;t<n;++t){const e=this.cellPolygon(t);e&&(e.index=t,yield e)}}cellPolygon(e){const t=new TZ;return this.renderCell(e,t),t.value()}_renderSegment(e,t,n,r,i){let a;const s=this._regioncode(e,t),o=this._regioncode(n,r);0===s&&0===o?(i.moveTo(e,t),i.lineTo(n,r)):(a=this._clipSegment(e,t,n,r,s,o))&&(i.moveTo(a[0],a[1]),i.lineTo(a[2],a[3]))}contains(e,t,n){return(t=+t)==t&&(n=+n)==n&&this.delaunay._step(e,t,n)===e}*neighbors(e){const t=this._clip(e);if(t)for(const n of this.delaunay.neighbors(e)){const e=this._clip(n);if(e)e:for(let r=0,i=t.length;r<i;r+=2)for(let a=0,s=e.length;a<s;a+=2)if(t[r]===e[a]&&t[r+1]===e[a+1]&&t[(r+2)%i]===e[(a+s-2)%s]&&t[(r+3)%i]===e[(a+s-1)%s]){yield n;break e}}}_cell(e){const{circumcenters:t,delaunay:{inedges:n,halfedges:r,triangles:i}}=this,a=n[e];if(-1===a)return null;const s=[];let o=a;do{const n=Math.floor(o/3);if(s.push(t[2*n],t[2*n+1]),o=o%3==2?o-2:o+1,i[o]!==e)break;o=r[o]}while(o!==a&&-1!==o);return s}_clip(e){if(0===e&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const t=this._cell(e);if(null===t)return null;const{vectors:n}=this,r=4*e;return this._simplify(n[r]||n[r+1]?this._clipInfinite(e,t,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(e,t))}_clipFinite(e,t){const n=t.length;let r,i,a,s,o=null,l=t[n-2],c=t[n-1],u=this._regioncode(l,c),d=0;for(let h=0;h<n;h+=2)if(r=l,i=c,l=t[h],c=t[h+1],a=u,u=this._regioncode(l,c),0===a&&0===u)s=d,d=0,o?o.push(l,c):o=[l,c];else{let t,n,h,f,m;if(0===a){if(null===(t=this._clipSegment(r,i,l,c,a,u)))continue;[n,h,f,m]=t}else{if(null===(t=this._clipSegment(l,c,r,i,u,a)))continue;[f,m,n,h]=t,s=d,d=this._edgecode(n,h),s&&d&&this._edge(e,s,d,o,o.length),o?o.push(n,h):o=[n,h]}s=d,d=this._edgecode(f,m),s&&d&&this._edge(e,s,d,o,o.length),o?o.push(f,m):o=[f,m]}if(o)s=d,d=this._edgecode(o[0],o[1]),s&&d&&this._edge(e,s,d,o,o.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return o}_clipSegment(e,t,n,r,i,a){const s=i<a;for(s&&([e,t,n,r,i,a]=[n,r,e,t,a,i]);;){if(0===i&&0===a)return s?[n,r,e,t]:[e,t,n,r];if(i&a)return null;let o,l,c=i||a;8&c?(o=e+(n-e)*(this.ymax-t)/(r-t),l=this.ymax):4&c?(o=e+(n-e)*(this.ymin-t)/(r-t),l=this.ymin):2&c?(l=t+(r-t)*(this.xmax-e)/(n-e),o=this.xmax):(l=t+(r-t)*(this.xmin-e)/(n-e),o=this.xmin),i?(e=o,t=l,i=this._regioncode(e,t)):(n=o,r=l,a=this._regioncode(n,r))}}_clipInfinite(e,t,n,r,i,a){let s,o=Array.from(t);if((s=this._project(o[0],o[1],n,r))&&o.unshift(s[0],s[1]),(s=this._project(o[o.length-2],o[o.length-1],i,a))&&o.push(s[0],s[1]),o=this._clipFinite(e,o))for(let l,c=0,u=o.length,d=this._edgecode(o[u-2],o[u-1]);c<u;c+=2)l=d,d=this._edgecode(o[c],o[c+1]),l&&d&&(c=this._edge(e,l,d,o,c),u=o.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(o=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return o}_edge(e,t,n,r,i){for(;t!==n;){let n,a;switch(t){case 5:t=4;continue;case 4:t=6,n=this.xmax,a=this.ymin;break;case 6:t=2;continue;case 2:t=10,n=this.xmax,a=this.ymax;break;case 10:t=8;continue;case 8:t=9,n=this.xmin,a=this.ymax;break;case 9:t=1;continue;case 1:t=5,n=this.xmin,a=this.ymin}r[i]===n&&r[i+1]===a||!this.contains(e,n,a)||(r.splice(i,0,n,a),i+=2)}return i}_project(e,t,n,r){let i,a,s,o=1/0;if(r<0){if(t<=this.ymin)return null;(i=(this.ymin-t)/r)<o&&(s=this.ymin,a=e+(o=i)*n)}else if(r>0){if(t>=this.ymax)return null;(i=(this.ymax-t)/r)<o&&(s=this.ymax,a=e+(o=i)*n)}if(n>0){if(e>=this.xmax)return null;(i=(this.xmax-e)/n)<o&&(a=this.xmax,s=t+(o=i)*r)}else if(n<0){if(e<=this.xmin)return null;(i=(this.xmin-e)/n)<o&&(a=this.xmin,s=t+(o=i)*r)}return[a,s]}_edgecode(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}_regioncode(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let t=0;t<e.length;t+=2){const n=(t+2)%e.length,r=(t+4)%e.length;(e[t]===e[n]&&e[n]===e[r]||e[t+1]===e[n+1]&&e[n+1]===e[r+1])&&(e.splice(n,2),t-=2)}e.length||(e=null)}return e}}const DZ=2*Math.PI,IZ=Math.pow;function LZ(e){return e[0]}function zZ(e){return e[1]}function FZ(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class BZ{static from(e,t=LZ,n=zZ,r){return new BZ("length"in e?function(e,t,n,r){const i=e.length,a=new Float64Array(2*i);for(let s=0;s<i;++s){const i=e[s];a[2*s]=t.call(r,i,s,e),a[2*s+1]=n.call(r,i,s,e)}return a}(e,t,n,r):Float64Array.from(function*(e,t,n,r){let i=0;for(const a of e)yield t.call(r,a,i,e),yield n.call(r,a,i,e),++i}(e,t,n,r)))}constructor(e){this._delaunator=new jZ(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&function(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const e=2*t[r],i=2*t[r+1],a=2*t[r+2];if((n[a]-n[e])*(n[i+1]-n[e+1])-(n[i]-n[e])*(n[a+1]-n[e+1])>1e-10)return!1}return!0}(e)){this.collinear=Int32Array.from({length:t.length/2},(e,t)=>t).sort((e,n)=>t[2*e]-t[2*n]||t[2*e+1]-t[2*n+1]);const e=this.collinear[0],n=this.collinear[this.collinear.length-1],r=[t[2*e],t[2*e+1],t[2*n],t[2*n+1]],i=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let a=0,s=t.length/2;a<s;++a){const e=FZ(t[2*a],t[2*a+1],i);t[2*a]=e[0],t[2*a+1]=e[1]}this._delaunator=new jZ(t)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let o=0,l=n.length;o<l;++o){const e=i[o%3==2?o-2:o+1];-1!==n[o]&&-1!==a[e]||(a[e]=o)}for(let o=0,l=r.length;o<l;++o)s[r[o]]=o;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],a[r[0]]=1,2===r.length&&(a[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(e){return new RZ(this,e)}*neighbors(e){const{inedges:t,hull:n,_hullIndex:r,halfedges:i,triangles:a,collinear:s}=this;if(s){const t=s.indexOf(e);return t>0&&(yield s[t-1]),void(t<s.length-1&&(yield s[t+1]))}const o=t[e];if(-1===o)return;let l=o,c=-1;do{if(yield c=a[l],l=l%3==2?l-2:l+1,a[l]!==e)return;if(l=i[l],-1===l){const t=n[(r[e]+1)%n.length];return void(t!==c&&(yield t))}}while(l!==o)}find(e,t,n=0){if((e=+e)!=e||(t=+t)!=t)return-1;const r=n;let i;for(;(i=this._step(n,e,t))>=0&&i!==n&&i!==r;)n=i;return i}_step(e,t,n){const{inedges:r,hull:i,_hullIndex:a,halfedges:s,triangles:o,points:l}=this;if(-1===r[e]||!l.length)return(e+1)%(l.length>>1);let c=e,u=IZ(t-l[2*e],2)+IZ(n-l[2*e+1],2);const d=r[e];let h=d;do{let r=o[h];const d=IZ(t-l[2*r],2)+IZ(n-l[2*r+1],2);if(d<u&&(u=d,c=r),h=h%3==2?h-2:h+1,o[h]!==e)break;if(h=s[h],-1===h){if(h=i[(a[e]+1)%i.length],h!==r&&IZ(t-l[2*h],2)+IZ(n-l[2*h+1],2)<u)return h;break}}while(h!==d);return c}render(e){const t=null==e?e=new AZ:void 0,{points:n,halfedges:r,triangles:i}=this;for(let a=0,s=r.length;a<s;++a){const t=r[a];if(t<a)continue;const s=2*i[a],o=2*i[t];e.moveTo(n[s],n[s+1]),e.lineTo(n[o],n[o+1])}return this.renderHull(e),t&&t.value()}renderPoints(e,t){void 0!==t||e&&"function"==typeof e.moveTo||(t=e,e=null),t=null==t?2:+t;const n=null==e?e=new AZ:void 0,{points:r}=this;for(let i=0,a=r.length;i<a;i+=2){const n=r[i],a=r[i+1];e.moveTo(n+t,a),e.arc(n,a,t,0,DZ)}return n&&n.value()}renderHull(e){const t=null==e?e=new AZ:void 0,{hull:n,points:r}=this,i=2*n[0],a=n.length;e.moveTo(r[i],r[i+1]);for(let s=1;s<a;++s){const t=2*n[s];e.lineTo(r[t],r[t+1])}return e.closePath(),t&&t.value()}hullPolygon(){const e=new TZ;return this.renderHull(e),e.value()}renderTriangle(e,t){const n=null==t?t=new AZ:void 0,{points:r,triangles:i}=this,a=2*i[e*=3],s=2*i[e+1],o=2*i[e+2];return t.moveTo(r[a],r[a+1]),t.lineTo(r[s],r[s+1]),t.lineTo(r[o],r[o+1]),t.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:e}=this;for(let t=0,n=e.length/3;t<n;++t)yield this.trianglePolygon(t)}trianglePolygon(e){const t=new TZ;return this.renderTriangle(e,t),t.value()}}var VZ={},WZ={};function $Z(e){return new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'}).join(",")+"}")}function HZ(e){var t=Object.create(null),n=[];return e.forEach(function(e){for(var r in e)r in t||n.push(t[r]=r)}),n}function KZ(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function UZ(e){var t,n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),a=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+KZ(-t,6):t>9999?"+"+KZ(t,6):KZ(t,4))+"-"+KZ(e.getUTCMonth()+1,2)+"-"+KZ(e.getUTCDate(),2)+(a?"T"+KZ(n,2)+":"+KZ(r,2)+":"+KZ(i,2)+"."+KZ(a,3)+"Z":i?"T"+KZ(n,2)+":"+KZ(r,2)+":"+KZ(i,2)+"Z":r||n?"T"+KZ(n,2)+":"+KZ(r,2)+"Z":"")}function GZ(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,i=[],a=e.length,s=0,o=0,l=a<=0,c=!1;function u(){if(l)return WZ;if(c)return c=!1,VZ;var t,r,i=s;if(34===e.charCodeAt(i)){for(;s++<a&&34!==e.charCodeAt(s)||34===e.charCodeAt(++s););return(t=s)>=a?l=!0:10===(r=e.charCodeAt(s++))?c=!0:13===r&&(c=!0,10===e.charCodeAt(s)&&++s),e.slice(i+1,t-1).replace(/""/g,'"')}for(;s<a;){if(10===(r=e.charCodeAt(t=s++)))c=!0;else if(13===r)c=!0,10===e.charCodeAt(s)&&++s;else if(r!==n)continue;return e.slice(i,t)}return l=!0,e.slice(i,a)}for(10===e.charCodeAt(a-1)&&--a,13===e.charCodeAt(a-1)&&--a;(r=u())!==WZ;){for(var d=[];r!==VZ&&r!==WZ;)d.push(r),r=u();t&&null==(d=t(d,o++))||i.push(d)}return i}function i(t,n){return t.map(function(t){return n.map(function(e){return s(t[e])}).join(e)})}function a(t){return t.map(s).join(e)}function s(e){return null==e?"":e instanceof Date?UZ(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,i,a=r(e,function(e,r){if(n)return n(e,r-1);i=e,n=t?function(e,t){var n=$Z(e);return function(r,i){return t(n(r),i,e)}}(e,t):$Z(e)});return a.columns=i||[],a},parseRows:r,format:function(t,n){return null==n&&(n=HZ(t)),[n.map(s).join(e)].concat(i(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=HZ(e)),i(e,t).join("\n")},formatRows:function(e){return e.map(a).join("\n")},formatRow:a,formatValue:s}}var qZ=GZ(","),YZ=qZ.parse,XZ=qZ.parseRows,QZ=qZ.format,ZZ=qZ.formatBody,JZ=qZ.formatRows,eJ=qZ.formatRow,tJ=qZ.formatValue,nJ=GZ("\t"),rJ=nJ.parse,iJ=nJ.parseRows,aJ=nJ.format,sJ=nJ.formatBody,oJ=nJ.formatRows,lJ=nJ.formatRow,cJ=nJ.formatValue;const uJ=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function dJ(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.blob()}function hJ(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.arrayBuffer()}function fJ(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function mJ(e,t){return fetch(e,t).then(fJ)}function gJ(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),mJ(t,n).then(function(t){return e(t,r)})}}var pJ=gJ(YZ),vJ=gJ(rJ);function yJ(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(204!==e.status&&205!==e.status)return e.json()}function xJ(e){return(t,n)=>mJ(t,n).then(t=>(new DOMParser).parseFromString(t,e))}const bJ=xJ("application/xml");var wJ=xJ("text/html"),_J=xJ("image/svg+xml");function jJ(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,a,s,o,l,c,u,d,h,f=e._root,m={data:r},g=e._x0,p=e._y0,v=e._x1,y=e._y1;if(!f)return e._root=m,e;for(;f.length;)if((c=t>=(a=(g+v)/2))?g=a:v=a,(u=n>=(s=(p+y)/2))?p=s:y=s,i=f,!(f=f[d=u<<1|c]))return i[d]=m,e;if(o=+e._x.call(null,f.data),l=+e._y.call(null,f.data),t===o&&n===l)return m.next=f,i?i[d]=m:e._root=m,e;do{i=i?i[d]=new Array(4):e._root=new Array(4),(c=t>=(a=(g+v)/2))?g=a:v=a,(u=n>=(s=(p+y)/2))?p=s:y=s}while((d=u<<1|c)==(h=(l>=s)<<1|o>=a));return i[h]=f,i[d]=m,e}function NJ(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function kJ(e){return e[0]}function SJ(e){return e[1]}function CJ(e,t,n){var r=new PJ(null==t?kJ:t,null==n?SJ:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function PJ(e,t,n,r,i,a){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function EJ(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var MJ=CJ.prototype=PJ.prototype;function OJ(e){return function(){return e}}function AJ(e){return 1e-6*(e()-.5)}function TJ(e){return e.x+e.vx}function RJ(e){return e.y+e.vy}function DJ(e){return e.index}function IJ(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}MJ.copy=function(){var e,t,n=new PJ(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=EJ(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=EJ(t));return n},MJ.add=function(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return jJ(this.cover(t,n),t,n,e)},MJ.addAll=function(e){var t,n,r,i,a=e.length,s=new Array(a),o=new Array(a),l=1/0,c=1/0,u=-1/0,d=-1/0;for(n=0;n<a;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(s[n]=r,o[n]=i,r<l&&(l=r),r>u&&(u=r),i<c&&(c=i),i>d&&(d=i));if(l>u||c>d)return this;for(this.cover(l,c).cover(u,d),n=0;n<a;++n)jJ(this,s[n],o[n],e[n]);return this},MJ.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,a=(r=Math.floor(t))+1;else{for(var s,o,l=i-n||1,c=this._root;n>e||e>=i||r>t||t>=a;)switch(o=(t<r)<<1|e<n,(s=new Array(4))[o]=c,c=s,l*=2,o){case 0:i=n+l,a=r+l;break;case 1:n=i-l,a=r+l;break;case 2:i=n+l,r=a-l;break;case 3:n=i-l,r=a-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this},MJ.data=function(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e},MJ.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},MJ.find=function(e,t,n){var r,i,a,s,o,l,c,u=this._x0,d=this._y0,h=this._x1,f=this._y1,m=[],g=this._root;for(g&&m.push(new NJ(g,u,d,h,f)),null==n?n=1/0:(u=e-n,d=t-n,h=e+n,f=t+n,n*=n);l=m.pop();)if(!(!(g=l.node)||(i=l.x0)>h||(a=l.y0)>f||(s=l.x1)<u||(o=l.y1)<d))if(g.length){var p=(i+s)/2,v=(a+o)/2;m.push(new NJ(g[3],p,v,s,o),new NJ(g[2],i,v,p,o),new NJ(g[1],p,a,s,v),new NJ(g[0],i,a,p,v)),(c=(t>=v)<<1|e>=p)&&(l=m[m.length-1],m[m.length-1]=m[m.length-1-c],m[m.length-1-c]=l)}else{var y=e-+this._x.call(null,g.data),x=t-+this._y.call(null,g.data),b=y*y+x*x;if(b<n){var w=Math.sqrt(n=b);u=e-w,d=t-w,h=e+w,f=t+w,r=g.data}}return r},MJ.remove=function(e){if(isNaN(a=+this._x.call(null,e))||isNaN(s=+this._y.call(null,e)))return this;var t,n,r,i,a,s,o,l,c,u,d,h,f=this._root,m=this._x0,g=this._y0,p=this._x1,v=this._y1;if(!f)return this;if(f.length)for(;;){if((c=a>=(o=(m+p)/2))?m=o:p=o,(u=s>=(l=(g+v)/2))?g=l:v=l,t=f,!(f=f[d=u<<1|c]))return this;if(!f.length)break;(t[d+1&3]||t[d+2&3]||t[d+3&3])&&(n=t,h=d)}for(;f.data!==e;)if(r=f,!(f=f.next))return this;return(i=f.next)&&delete f.next,r?(i?r.next=i:delete r.next,this):t?(i?t[d]=i:delete t[d],(f=t[0]||t[1]||t[2]||t[3])&&f===(t[3]||t[2]||t[1]||t[0])&&!f.length&&(n?n[h]=f:this._root=f),this):(this._root=i,this)},MJ.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},MJ.root=function(){return this._root},MJ.size=function(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e},MJ.visit=function(e){var t,n,r,i,a,s,o=[],l=this._root;for(l&&o.push(new NJ(l,this._x0,this._y0,this._x1,this._y1));t=o.pop();)if(!e(l=t.node,r=t.x0,i=t.y0,a=t.x1,s=t.y1)&&l.length){var c=(r+a)/2,u=(i+s)/2;(n=l[3])&&o.push(new NJ(n,c,u,a,s)),(n=l[2])&&o.push(new NJ(n,r,u,c,s)),(n=l[1])&&o.push(new NJ(n,c,i,a,u)),(n=l[0])&&o.push(new NJ(n,r,i,c,u))}return this},MJ.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new NJ(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var a,s=t.x0,o=t.y0,l=t.x1,c=t.y1,u=(s+l)/2,d=(o+c)/2;(a=i[0])&&n.push(new NJ(a,s,o,u,d)),(a=i[1])&&n.push(new NJ(a,u,o,l,d)),(a=i[2])&&n.push(new NJ(a,s,d,u,c)),(a=i[3])&&n.push(new NJ(a,u,d,l,c))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},MJ.x=function(e){return arguments.length?(this._x=e,this):this._x},MJ.y=function(e){return arguments.length?(this._y=e,this):this._y};const LJ=4294967296;function zJ(e){return e.x}function FJ(e){return e.y}var BJ=Math.PI*(3-Math.sqrt(5)),VJ=1e-6,WJ=1e-12,$J=Math.PI,HJ=$J/2,KJ=$J/4,UJ=2*$J,GJ=180/$J,qJ=$J/180,YJ=Math.abs,XJ=Math.atan,QJ=Math.atan2,ZJ=Math.cos,JJ=Math.ceil,e0=Math.exp,t0=Math.hypot,n0=Math.log,r0=Math.pow,i0=Math.sin,a0=Math.sign||function(e){return e>0?1:e<0?-1:0},s0=Math.sqrt,o0=Math.tan;function l0(e){return e>1?0:e<-1?$J:Math.acos(e)}function c0(e){return e>1?HJ:e<-1?-HJ:Math.asin(e)}function u0(e){return(e=i0(e/2))*e}function d0(){}function h0(e,t){e&&m0.hasOwnProperty(e.type)&&m0[e.type](e,t)}var f0={Feature:function(e,t){h0(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)h0(n[r].geometry,t)}},m0={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){g0(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)g0(n[r],t,0)},Polygon:function(e,t){p0(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)p0(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)h0(n[r],t)}};function g0(e,t,n){var r,i=-1,a=e.length-n;for(t.lineStart();++i<a;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function p0(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)g0(e[n],t,1);t.polygonEnd()}function v0(e,t){e&&f0.hasOwnProperty(e.type)?f0[e.type](e,t):h0(e,t)}var y0,x0,b0,w0,_0,j0,N0,k0,S0,C0,P0,E0,M0,O0,A0,T0,R0=new Kk,D0=new Kk,I0={point:d0,lineStart:d0,lineEnd:d0,polygonStart:function(){R0=new Kk,I0.lineStart=L0,I0.lineEnd=z0},polygonEnd:function(){var e=+R0;D0.add(e<0?UJ+e:e),this.lineStart=this.lineEnd=this.point=d0},sphere:function(){D0.add(UJ)}};function L0(){I0.point=F0}function z0(){B0(y0,x0)}function F0(e,t){I0.point=B0,y0=e,x0=t,b0=e*=qJ,w0=ZJ(t=(t*=qJ)/2+KJ),_0=i0(t)}function B0(e,t){var n=(e*=qJ)-b0,r=n>=0?1:-1,i=r*n,a=ZJ(t=(t*=qJ)/2+KJ),s=i0(t),o=_0*s,l=w0*a+o*ZJ(i),c=o*r*i0(i);R0.add(QJ(c,l)),b0=e,w0=a,_0=s}function V0(e){return[QJ(e[1],e[0]),c0(e[2])]}function W0(e){var t=e[0],n=e[1],r=ZJ(n);return[r*ZJ(t),r*i0(t),i0(n)]}function $0(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function H0(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function K0(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function U0(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function G0(e){var t=s0(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var q0,Y0,X0,Q0,Z0,J0,e1,t1,n1,r1,i1,a1,s1,o1,l1,c1,u1={point:d1,lineStart:f1,lineEnd:m1,polygonStart:function(){u1.point=g1,u1.lineStart=p1,u1.lineEnd=v1,O0=new Kk,I0.polygonStart()},polygonEnd:function(){I0.polygonEnd(),u1.point=d1,u1.lineStart=f1,u1.lineEnd=m1,R0<0?(j0=-(k0=180),N0=-(S0=90)):O0>VJ?S0=90:O0<-VJ&&(N0=-90),T0[0]=j0,T0[1]=k0},sphere:function(){j0=-(k0=180),N0=-(S0=90)}};function d1(e,t){A0.push(T0=[j0=e,k0=e]),t<N0&&(N0=t),t>S0&&(S0=t)}function h1(e,t){var n=W0([e*qJ,t*qJ]);if(M0){var r=H0(M0,n),i=H0([r[1],-r[0],0],r);G0(i),i=V0(i);var a,s=e-C0,o=s>0?1:-1,l=i[0]*GJ*o,c=YJ(s)>180;c^(o*C0<l&&l<o*e)?(a=i[1]*GJ)>S0&&(S0=a):c^(o*C0<(l=(l+360)%360-180)&&l<o*e)?(a=-i[1]*GJ)<N0&&(N0=a):(t<N0&&(N0=t),t>S0&&(S0=t)),c?e<C0?y1(j0,e)>y1(j0,k0)&&(k0=e):y1(e,k0)>y1(j0,k0)&&(j0=e):k0>=j0?(e<j0&&(j0=e),e>k0&&(k0=e)):e>C0?y1(j0,e)>y1(j0,k0)&&(k0=e):y1(e,k0)>y1(j0,k0)&&(j0=e)}else A0.push(T0=[j0=e,k0=e]);t<N0&&(N0=t),t>S0&&(S0=t),M0=n,C0=e}function f1(){u1.point=h1}function m1(){T0[0]=j0,T0[1]=k0,u1.point=d1,M0=null}function g1(e,t){if(M0){var n=e-C0;O0.add(YJ(n)>180?n+(n>0?360:-360):n)}else P0=e,E0=t;I0.point(e,t),h1(e,t)}function p1(){I0.lineStart()}function v1(){g1(P0,E0),I0.lineEnd(),YJ(O0)>VJ&&(j0=-(k0=180)),T0[0]=j0,T0[1]=k0,M0=null}function y1(e,t){return(t-=e)<0?t+360:t}function x1(e,t){return e[0]-t[0]}function b1(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var w1={sphere:d0,point:_1,lineStart:N1,lineEnd:C1,polygonStart:function(){w1.lineStart=P1,w1.lineEnd=E1},polygonEnd:function(){w1.lineStart=N1,w1.lineEnd=C1}};function _1(e,t){e*=qJ;var n=ZJ(t*=qJ);j1(n*ZJ(e),n*i0(e),i0(t))}function j1(e,t,n){++q0,X0+=(e-X0)/q0,Q0+=(t-Q0)/q0,Z0+=(n-Z0)/q0}function N1(){w1.point=k1}function k1(e,t){e*=qJ;var n=ZJ(t*=qJ);o1=n*ZJ(e),l1=n*i0(e),c1=i0(t),w1.point=S1,j1(o1,l1,c1)}function S1(e,t){e*=qJ;var n=ZJ(t*=qJ),r=n*ZJ(e),i=n*i0(e),a=i0(t),s=QJ(s0((s=l1*a-c1*i)*s+(s=c1*r-o1*a)*s+(s=o1*i-l1*r)*s),o1*r+l1*i+c1*a);Y0+=s,J0+=s*(o1+(o1=r)),e1+=s*(l1+(l1=i)),t1+=s*(c1+(c1=a)),j1(o1,l1,c1)}function C1(){w1.point=_1}function P1(){w1.point=M1}function E1(){O1(a1,s1),w1.point=_1}function M1(e,t){a1=e,s1=t,e*=qJ,t*=qJ,w1.point=O1;var n=ZJ(t);o1=n*ZJ(e),l1=n*i0(e),c1=i0(t),j1(o1,l1,c1)}function O1(e,t){e*=qJ;var n=ZJ(t*=qJ),r=n*ZJ(e),i=n*i0(e),a=i0(t),s=l1*a-c1*i,o=c1*r-o1*a,l=o1*i-l1*r,c=t0(s,o,l),u=c0(c),d=c&&-u/c;n1.add(d*s),r1.add(d*o),i1.add(d*l),Y0+=u,J0+=u*(o1+(o1=r)),e1+=u*(l1+(l1=i)),t1+=u*(c1+(c1=a)),j1(o1,l1,c1)}function A1(e){return function(){return e}}function T1(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}function R1(e,t){return YJ(e)>$J&&(e-=Math.round(e/UJ)*UJ),[e,t]}function D1(e,t,n){return(e%=UJ)?t||n?T1(L1(e),z1(t,n)):L1(e):t||n?z1(t,n):R1}function I1(e){return function(t,n){return YJ(t+=e)>$J&&(t-=Math.round(t/UJ)*UJ),[t,n]}}function L1(e){var t=I1(e);return t.invert=I1(-e),t}function z1(e,t){var n=ZJ(e),r=i0(e),i=ZJ(t),a=i0(t);function s(e,t){var s=ZJ(t),o=ZJ(e)*s,l=i0(e)*s,c=i0(t),u=c*n+o*r;return[QJ(l*i-u*a,o*n-c*r),c0(u*i+l*a)]}return s.invert=function(e,t){var s=ZJ(t),o=ZJ(e)*s,l=i0(e)*s,c=i0(t),u=c*i-l*a;return[QJ(l*i+c*a,o*n+u*r),c0(u*n-o*r)]},s}function F1(e){function t(t){return(t=e(t[0]*qJ,t[1]*qJ))[0]*=GJ,t[1]*=GJ,t}return e=D1(e[0]*qJ,e[1]*qJ,e.length>2?e[2]*qJ:0),t.invert=function(t){return(t=e.invert(t[0]*qJ,t[1]*qJ))[0]*=GJ,t[1]*=GJ,t},t}function B1(e,t,n,r,i,a){if(n){var s=ZJ(t),o=i0(t),l=r*n;null==i?(i=t+r*UJ,a=t-l/2):(i=V1(s,i),a=V1(s,a),(r>0?i<a:i>a)&&(i+=r*UJ));for(var c,u=i;r>0?u>a:u<a;u-=l)c=V0([s,-o*ZJ(u),-o*i0(u)]),e.point(c[0],c[1])}}function V1(e,t){(t=W0(t))[0]-=e,G0(t);var n=l0(-t[1]);return((-t[2]<0?-n:n)+UJ-VJ)%UJ}function W1(){var e,t=[];return{point:function(t,n,r){e.push([t,n,r])},lineStart:function(){t.push(e=[])},lineEnd:d0,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function $1(e,t){return YJ(e[0]-t[0])<VJ&&YJ(e[1]-t[1])<VJ}function H1(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function K1(e,t,n,r,i){var a,s,o=[],l=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],s=e[t];if($1(r,s)){if(!r[2]&&!s[2]){for(i.lineStart(),a=0;a<t;++a)i.point((r=e[a])[0],r[1]);return void i.lineEnd()}s[0]+=2e-6}o.push(n=new H1(r,e,null,!0)),l.push(n.o=new H1(r,null,n,!1)),o.push(n=new H1(s,e,null,!1)),l.push(n.o=new H1(s,null,n,!0))}}),o.length){for(l.sort(t),U1(o),U1(l),a=0,s=l.length;a<s;++a)l[a].e=n=!n;for(var c,u,d=o[0];;){for(var h=d,f=!0;h.v;)if((h=h.n)===d)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(f)for(a=0,s=c.length;a<s;++a)i.point((u=c[a])[0],u[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(f)for(c=h.p.z,a=c.length-1;a>=0;--a)i.point((u=c[a])[0],u[1]);else r(h.x,h.p.x,-1,i);h=h.p}c=(h=h.o).z,f=!f}while(!h.v);i.lineEnd()}}}function U1(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function G1(e){return YJ(e[0])<=$J?e[0]:a0(e[0])*((YJ(e[0])+$J)%UJ-$J)}function q1(e,t){var n=G1(t),r=t[1],i=i0(r),a=[i0(n),-ZJ(n),0],s=0,o=0,l=new Kk;1===i?r=HJ+VJ:-1===i&&(r=-HJ-VJ);for(var c=0,u=e.length;c<u;++c)if(h=(d=e[c]).length)for(var d,h,f=d[h-1],m=G1(f),g=f[1]/2+KJ,p=i0(g),v=ZJ(g),y=0;y<h;++y,m=b,p=_,v=j,f=x){var x=d[y],b=G1(x),w=x[1]/2+KJ,_=i0(w),j=ZJ(w),N=b-m,k=N>=0?1:-1,S=k*N,C=S>$J,P=p*_;if(l.add(QJ(P*k*i0(S),v*j+P*ZJ(S))),s+=C?N+k*UJ:N,C^m>=n^b>=n){var E=H0(W0(f),W0(x));G0(E);var M=H0(a,E);G0(M);var O=(C^N>=0?-1:1)*c0(M[2]);(r>O||r===O&&(E[0]||E[1]))&&(o+=C^N>=0?1:-1)}}return(s<-VJ||s<VJ&&l<-1e-12)^1&o}function Y1(e,t,n,r){return function(i){var a,s,o,l=t(i),c=W1(),u=t(c),d=!1,h={point:f,lineStart:g,lineEnd:p,polygonStart:function(){h.point=v,h.lineStart=y,h.lineEnd=x,s=[],a=[]},polygonEnd:function(){h.point=f,h.lineStart=g,h.lineEnd=p,s=AS(s);var e=q1(a,r);s.length?(d||(i.polygonStart(),d=!0),K1(s,Q1,e,n,i)):e&&(d||(i.polygonStart(),d=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),d&&(i.polygonEnd(),d=!1),s=a=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function f(t,n){e(t,n)&&i.point(t,n)}function m(e,t){l.point(e,t)}function g(){h.point=m,l.lineStart()}function p(){h.point=f,l.lineEnd()}function v(e,t){o.push([e,t]),u.point(e,t)}function y(){u.lineStart(),o=[]}function x(){v(o[0][0],o[0][1]),u.lineEnd();var e,t,n,r,l=u.clean(),h=c.result(),f=h.length;if(o.pop(),a.push(o),o=null,f)if(1&l){if((t=(n=h[0]).length-1)>0){for(d||(i.polygonStart(),d=!0),i.lineStart(),e=0;e<t;++e)i.point((r=n[e])[0],r[1]);i.lineEnd()}}else f>1&&2&l&&h.push(h.pop().concat(h.shift())),s.push(h.filter(X1))}return h}}function X1(e){return e.length>1}function Q1(e,t){return((e=e.x)[0]<0?e[1]-HJ-VJ:HJ-e[1])-((t=t.x)[0]<0?t[1]-HJ-VJ:HJ-t[1])}R1.invert=R1;const Z1=Y1(function(){return!0},function(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(a,s){var o=a>0?$J:-$J,l=YJ(a-n);YJ(l-$J)<VJ?(e.point(n,r=(r+s)/2>0?HJ:-HJ),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(o,r),e.point(a,r),t=0):i!==o&&l>=$J&&(YJ(n-i)<VJ&&(n-=i*VJ),YJ(a-o)<VJ&&(a-=o*VJ),r=function(e,t,n,r){var i,a,s=i0(e-n);return YJ(s)>VJ?XJ((i0(t)*(a=ZJ(r))*i0(n)-i0(r)*(i=ZJ(t))*i0(e))/(i*a*s)):(t+r)/2}(n,r,a,s),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(o,r),t=0),e.point(n=a,r=s),i=o},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}},function(e,t,n,r){var i;if(null==e)i=n*HJ,r.point(-$J,i),r.point(0,i),r.point($J,i),r.point($J,0),r.point($J,-i),r.point(0,-i),r.point(-$J,-i),r.point(-$J,0),r.point(-$J,i);else if(YJ(e[0]-t[0])>VJ){var a=e[0]<t[0]?$J:-$J;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])},[-$J,-HJ]);function J1(e){var t=ZJ(e),n=2*qJ,r=t>0,i=YJ(t)>VJ;function a(e,n){return ZJ(e)*ZJ(n)>t}function s(e,n,r){var i=[1,0,0],a=H0(W0(e),W0(n)),s=$0(a,a),o=a[0],l=s-o*o;if(!l)return!r&&e;var c=t*s/l,u=-t*o/l,d=H0(i,a),h=U0(i,c);K0(h,U0(a,u));var f=d,m=$0(h,f),g=$0(f,f),p=m*m-g*($0(h,h)-1);if(!(p<0)){var v=s0(p),y=U0(f,(-m-v)/g);if(K0(y,h),y=V0(y),!r)return y;var x,b=e[0],w=n[0],_=e[1],j=n[1];w<b&&(x=b,b=w,w=x);var N=w-b,k=YJ(N-$J)<VJ;if(!k&&j<_&&(x=_,_=j,j=x),k||N<VJ?k?_+j>0^y[1]<(YJ(y[0]-b)<VJ?_:j):_<=y[1]&&y[1]<=j:N>$J^(b<=y[0]&&y[0]<=w)){var S=U0(f,(-m+v)/g);return K0(S,h),[y,V0(S)]}}}function o(t,n){var i=r?e:$J-e,a=0;return t<-i?a|=1:t>i&&(a|=2),n<-i?a|=4:n>i&&(a|=8),a}return Y1(a,function(e){var t,n,l,c,u;return{lineStart:function(){c=l=!1,u=1},point:function(d,h){var f,m=[d,h],g=a(d,h),p=r?g?0:o(d,h):g?o(d+(d<0?$J:-$J),h):0;if(!t&&(c=l=g)&&e.lineStart(),g!==l&&(!(f=s(t,m))||$1(t,f)||$1(m,f))&&(m[2]=1),g!==l)u=0,g?(e.lineStart(),f=s(m,t),e.point(f[0],f[1])):(f=s(t,m),e.point(f[0],f[1],2),e.lineEnd()),t=f;else if(i&&t&&r^g){var v;p&n||!(v=s(m,t,!0))||(u=0,r?(e.lineStart(),e.point(v[0][0],v[0][1]),e.point(v[1][0],v[1][1]),e.lineEnd()):(e.point(v[1][0],v[1][1]),e.lineEnd(),e.lineStart(),e.point(v[0][0],v[0][1],3)))}!g||t&&$1(t,m)||e.point(m[0],m[1]),t=m,l=g,n=p},lineEnd:function(){l&&e.lineEnd(),t=null},clean:function(){return u|(c&&l)<<1}}},function(t,r,i,a){B1(a,e,n,i,t,r)},r?[0,-e]:[-$J,e-$J])}var e2,t2,n2,r2,i2=1e9,a2=-i2;function s2(e,t,n,r){function i(i,a){return e<=i&&i<=n&&t<=a&&a<=r}function a(i,a,o,c){var u=0,d=0;if(null==i||(u=s(i,o))!==(d=s(a,o))||l(i,a)<0^o>0)do{c.point(0===u||3===u?e:n,u>1?r:t)}while((u=(u+o+4)%4)!==d);else c.point(a[0],a[1])}function s(r,i){return YJ(r[0]-e)<VJ?i>0?0:3:YJ(r[0]-n)<VJ?i>0?2:1:YJ(r[1]-t)<VJ?i>0?1:0:i>0?3:2}function o(e,t){return l(e.x,t.x)}function l(e,t){var n=s(e,1),r=s(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(s){var l,c,u,d,h,f,m,g,p,v,y,x=s,b=W1(),w={point:_,lineStart:function(){w.point=j,c&&c.push(u=[]),v=!0,p=!1,m=g=NaN},lineEnd:function(){l&&(j(d,h),f&&p&&b.rejoin(),l.push(b.result())),w.point=_,p&&x.lineEnd()},polygonStart:function(){x=b,l=[],c=[],y=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,i=c.length;n<i;++n)for(var a,s,o=c[n],l=1,u=o.length,d=o[0],h=d[0],f=d[1];l<u;++l)a=h,s=f,h=(d=o[l])[0],f=d[1],s<=r?f>r&&(h-a)*(r-s)>(f-s)*(e-a)&&++t:f<=r&&(h-a)*(r-s)<(f-s)*(e-a)&&--t;return t}(),n=y&&t,i=(l=AS(l)).length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),a(null,null,1,s),s.lineEnd()),i&&K1(l,o,t,a,s),s.polygonEnd()),x=s,l=c=u=null}};function _(e,t){i(e,t)&&x.point(e,t)}function j(a,s){var o=i(a,s);if(c&&u.push([a,s]),v)d=a,h=s,f=o,v=!1,o&&(x.lineStart(),x.point(a,s));else if(o&&p)x.point(a,s);else{var l=[m=Math.max(a2,Math.min(i2,m)),g=Math.max(a2,Math.min(i2,g))],b=[a=Math.max(a2,Math.min(i2,a)),s=Math.max(a2,Math.min(i2,s))];!function(e,t,n,r,i,a){var s,o=e[0],l=e[1],c=0,u=1,d=t[0]-o,h=t[1]-l;if(s=n-o,d||!(s>0)){if(s/=d,d<0){if(s<c)return;s<u&&(u=s)}else if(d>0){if(s>u)return;s>c&&(c=s)}if(s=i-o,d||!(s<0)){if(s/=d,d<0){if(s>u)return;s>c&&(c=s)}else if(d>0){if(s<c)return;s<u&&(u=s)}if(s=r-l,h||!(s>0)){if(s/=h,h<0){if(s<c)return;s<u&&(u=s)}else if(h>0){if(s>u)return;s>c&&(c=s)}if(s=a-l,h||!(s<0)){if(s/=h,h<0){if(s>u)return;s>c&&(c=s)}else if(h>0){if(s<c)return;s<u&&(u=s)}return c>0&&(e[0]=o+c*d,e[1]=l+c*h),u<1&&(t[0]=o+u*d,t[1]=l+u*h),!0}}}}}(l,b,e,t,n,r)?o&&(x.lineStart(),x.point(a,s),y=!1):(p||(x.lineStart(),x.point(l[0],l[1])),x.point(b[0],b[1]),o||x.lineEnd(),y=!1)}m=a,g=s,p=o}return w}}var o2={sphere:d0,point:d0,lineStart:function(){o2.point=c2,o2.lineEnd=l2},lineEnd:d0,polygonStart:d0,polygonEnd:d0};function l2(){o2.point=o2.lineEnd=d0}function c2(e,t){t2=e*=qJ,n2=i0(t*=qJ),r2=ZJ(t),o2.point=u2}function u2(e,t){e*=qJ;var n=i0(t*=qJ),r=ZJ(t),i=YJ(e-t2),a=ZJ(i),s=r*i0(i),o=r2*n-n2*r*a,l=n2*n+r2*r*a;e2.add(QJ(s0(s*s+o*o),l)),t2=e,n2=n,r2=r}function d2(e){return e2=new Kk,v0(e,o2),+e2}var h2=[null,null],f2={type:"LineString",coordinates:h2};function m2(e,t){return h2[0]=e,h2[1]=t,d2(f2)}var g2={Feature:function(e,t){return v2(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)if(v2(n[r].geometry,t))return!0;return!1}},p2={Sphere:function(){return!0},Point:function(e,t){return y2(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(y2(n[r],t))return!0;return!1},LineString:function(e,t){return x2(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(x2(n[r],t))return!0;return!1},Polygon:function(e,t){return b2(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(b2(n[r],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)if(v2(n[r],t))return!0;return!1}};function v2(e,t){return!(!e||!p2.hasOwnProperty(e.type))&&p2[e.type](e,t)}function y2(e,t){return 0===m2(e,t)}function x2(e,t){for(var n,r,i,a=0,s=e.length;a<s;a++){if(0===(r=m2(e[a],t)))return!0;if(a>0&&(i=m2(e[a],e[a-1]))>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<WJ*i)return!0;n=r}return!1}function b2(e,t){return!!q1(e.map(w2),_2(t))}function w2(e){return(e=e.map(_2)).pop(),e}function _2(e){return[e[0]*qJ,e[1]*qJ]}function j2(e,t,n){var r=RS(e,t-VJ,n).concat(t);return function(e){return r.map(function(t){return[e,t]})}}function N2(e,t,n){var r=RS(e,t-VJ,n).concat(t);return function(e){return r.map(function(t){return[t,e]})}}function k2(){var e,t,n,r,i,a,s,o,l,c,u,d,h=10,f=h,m=90,g=360,p=2.5;function v(){return{type:"MultiLineString",coordinates:y()}}function y(){return RS(JJ(r/m)*m,n,m).map(u).concat(RS(JJ(o/g)*g,s,g).map(d)).concat(RS(JJ(t/h)*h,e,h).filter(function(e){return YJ(e%m)>VJ}).map(l)).concat(RS(JJ(a/f)*f,i,f).filter(function(e){return YJ(e%g)>VJ}).map(c))}return v.lines=function(){return y().map(function(e){return{type:"LineString",coordinates:e}})},v.outline=function(){return{type:"Polygon",coordinates:[u(r).concat(d(s).slice(1),u(n).reverse().slice(1),d(o).reverse().slice(1))]}},v.extent=function(e){return arguments.length?v.extentMajor(e).extentMinor(e):v.extentMinor()},v.extentMajor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],o=+e[0][1],s=+e[1][1],r>n&&(e=r,r=n,n=e),o>s&&(e=o,o=s,s=e),v.precision(p)):[[r,o],[n,s]]},v.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],a=+n[0][1],i=+n[1][1],t>e&&(n=t,t=e,e=n),a>i&&(n=a,a=i,i=n),v.precision(p)):[[t,a],[e,i]]},v.step=function(e){return arguments.length?v.stepMajor(e).stepMinor(e):v.stepMinor()},v.stepMajor=function(e){return arguments.length?(m=+e[0],g=+e[1],v):[m,g]},v.stepMinor=function(e){return arguments.length?(h=+e[0],f=+e[1],v):[h,f]},v.precision=function(h){return arguments.length?(p=+h,l=j2(a,i,90),c=N2(t,e,p),u=j2(o,s,90),d=N2(r,n,p),v):p},v.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}const S2=e=>e;var C2,P2,E2,M2,O2=new Kk,A2=new Kk,T2={point:d0,lineStart:d0,lineEnd:d0,polygonStart:function(){T2.lineStart=R2,T2.lineEnd=L2},polygonEnd:function(){T2.lineStart=T2.lineEnd=T2.point=d0,O2.add(YJ(A2)),A2=new Kk},result:function(){var e=O2/2;return O2=new Kk,e}};function R2(){T2.point=D2}function D2(e,t){T2.point=I2,C2=E2=e,P2=M2=t}function I2(e,t){A2.add(M2*e-E2*t),E2=e,M2=t}function L2(){I2(C2,P2)}var z2,F2,B2,V2,W2=1/0,$2=W2,H2=-W2,K2=H2,U2={point:function(e,t){e<W2&&(W2=e),e>H2&&(H2=e),t<$2&&($2=t),t>K2&&(K2=t)},lineStart:d0,lineEnd:d0,polygonStart:d0,polygonEnd:d0,result:function(){var e=[[W2,$2],[H2,K2]];return H2=K2=-($2=W2=1/0),e}},G2=0,q2=0,Y2=0,X2=0,Q2=0,Z2=0,J2=0,e4=0,t4=0,n4={point:r4,lineStart:i4,lineEnd:o4,polygonStart:function(){n4.lineStart=l4,n4.lineEnd=c4},polygonEnd:function(){n4.point=r4,n4.lineStart=i4,n4.lineEnd=o4},result:function(){var e=t4?[J2/t4,e4/t4]:Z2?[X2/Z2,Q2/Z2]:Y2?[G2/Y2,q2/Y2]:[NaN,NaN];return G2=q2=Y2=X2=Q2=Z2=J2=e4=t4=0,e}};function r4(e,t){G2+=e,q2+=t,++Y2}function i4(){n4.point=a4}function a4(e,t){n4.point=s4,r4(B2=e,V2=t)}function s4(e,t){var n=e-B2,r=t-V2,i=s0(n*n+r*r);X2+=i*(B2+e)/2,Q2+=i*(V2+t)/2,Z2+=i,r4(B2=e,V2=t)}function o4(){n4.point=r4}function l4(){n4.point=u4}function c4(){d4(z2,F2)}function u4(e,t){n4.point=d4,r4(z2=B2=e,F2=V2=t)}function d4(e,t){var n=e-B2,r=t-V2,i=s0(n*n+r*r);X2+=i*(B2+e)/2,Q2+=i*(V2+t)/2,Z2+=i,J2+=(i=V2*e-B2*t)*(B2+e),e4+=i*(V2+t),t4+=3*i,r4(B2=e,V2=t)}function h4(e){this._context=e}h4.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,UJ)}},result:d0};var f4,m4,g4,p4,v4,y4=new Kk,x4={point:d0,lineStart:function(){x4.point=b4},lineEnd:function(){f4&&w4(m4,g4),x4.point=d0},polygonStart:function(){f4=!0},polygonEnd:function(){f4=null},result:function(){var e=+y4;return y4=new Kk,e}};function b4(e,t){x4.point=w4,m4=p4=e,g4=v4=t}function w4(e,t){p4-=e,v4-=t,y4.add(s0(p4*p4+v4*v4)),p4=e,v4=t}let _4,j4,N4,k4;class S4{constructor(e){this._append=null==e?C4:function(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return C4;if(t!==_4){const e=u(10,t);_4=t,j4=function(t){let n=1;this._+=t[0];for(const r=t.length;n<r;++n)this._+=Math.round(arguments[n]*e)/e+t[n]}}return j4}(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(e,t){switch(this._point){case 0:this._append`M${e},${t}`,this._point=1;break;case 1:this._append`L${e},${t}`;break;default:if(this._append`M${e},${t}`,this._radius!==N4||this._append!==j4){const e=this._radius,t=this._;this._="",this._append`m0,${e}a${e},${e} 0 1,1 0,${-2*e}a${e},${e} 0 1,1 0,${2*e}z`,N4=e,j4=this._append,k4=this._,this._=t}this._+=k4}}result(){const e=this._;return this._="",e.length?e:null}}function C4(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function P4(e){return function(t){var n=new E4;for(var r in e)n[r]=e[r];return n.stream=t,n}}function E4(){}function M4(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),v0(n,e.stream(U2)),t(U2.result()),null!=r&&e.clipExtent(r),e}function O4(e,t,n){return M4(e,function(n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],a=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),s=+t[0][0]+(r-a*(n[1][0]+n[0][0]))/2,o=+t[0][1]+(i-a*(n[1][1]+n[0][1]))/2;e.scale(150*a).translate([s,o])},n)}function A4(e,t,n){return O4(e,[[0,0],t],n)}function T4(e,t,n){return M4(e,function(n){var r=+t,i=r/(n[1][0]-n[0][0]),a=(r-i*(n[1][0]+n[0][0]))/2,s=-i*n[0][1];e.scale(150*i).translate([a,s])},n)}function R4(e,t,n){return M4(e,function(n){var r=+t,i=r/(n[1][1]-n[0][1]),a=-i*n[0][0],s=(r-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([a,s])},n)}E4.prototype={constructor:E4,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var D4=ZJ(30*qJ);function I4(e,t){return+t?function(e,t){function n(r,i,a,s,o,l,c,u,d,h,f,m,g,p){var v=c-r,y=u-i,x=v*v+y*y;if(x>4*t&&g--){var b=s+h,w=o+f,_=l+m,j=s0(b*b+w*w+_*_),N=c0(_/=j),k=YJ(YJ(_)-1)<VJ||YJ(a-d)<VJ?(a+d)/2:QJ(w,b),S=e(k,N),C=S[0],P=S[1],E=C-r,M=P-i,O=y*E-v*M;(O*O/x>t||YJ((v*E+y*M)/x-.5)>.3||s*h+o*f+l*m<D4)&&(n(r,i,a,s,o,l,C,P,k,b/=j,w/=j,_,g,p),p.point(C,P),n(C,P,k,b,w,_,c,u,d,h,f,m,g,p))}}return function(t){var r,i,a,s,o,l,c,u,d,h,f,m,g={point:p,lineStart:v,lineEnd:x,polygonStart:function(){t.polygonStart(),g.lineStart=b},polygonEnd:function(){t.polygonEnd(),g.lineStart=v}};function p(n,r){n=e(n,r),t.point(n[0],n[1])}function v(){u=NaN,g.point=y,t.lineStart()}function y(r,i){var a=W0([r,i]),s=e(r,i);n(u,d,c,h,f,m,u=s[0],d=s[1],c=r,h=a[0],f=a[1],m=a[2],16,t),t.point(u,d)}function x(){g.point=p,t.lineEnd()}function b(){v(),g.point=w,g.lineEnd=_}function w(e,t){y(r=e,t),i=u,a=d,s=h,o=f,l=m,g.point=y}function _(){n(u,d,c,h,f,m,i,a,r,s,o,l,16,t),g.lineEnd=x,x()}return g}}(e,t):function(e){return P4({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)}var L4=P4({point:function(e,t){this.stream.point(e*qJ,t*qJ)}});function z4(e,t,n,r,i,a){if(!a)return function(e,t,n,r,i){function a(a,s){return[t+e*(a*=r),n-e*(s*=i)]}return a.invert=function(a,s){return[(a-t)/e*r,(n-s)/e*i]},a}(e,t,n,r,i);var s=ZJ(a),o=i0(a),l=s*e,c=o*e,u=s/e,d=o/e,h=(o*n-s*t)/e,f=(o*t+s*n)/e;function m(e,a){return[l*(e*=r)-c*(a*=i)+t,n-c*e-l*a]}return m.invert=function(e,t){return[r*(u*e-d*t+h),i*(f-d*e-u*t)]},m}function F4(e){return B4(function(){return e})()}function B4(e){var t,n,r,i,a,s,o,l,c,u,d=150,h=480,f=250,m=0,g=0,p=0,v=0,y=0,x=0,b=1,w=1,_=null,j=Z1,N=null,k=S2,S=.5;function C(e){return l(e[0]*qJ,e[1]*qJ)}function P(e){return(e=l.invert(e[0],e[1]))&&[e[0]*GJ,e[1]*GJ]}function E(){var e=z4(d,0,0,b,w,x).apply(null,t(m,g)),r=z4(d,h-e[0],f-e[1],b,w,x);return n=D1(p,v,y),o=T1(t,r),l=T1(n,o),s=I4(o,S),M()}function M(){return c=u=null,C}return C.stream=function(e){return c&&u===e?c:c=L4(function(e){return P4({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}(n)(j(s(k(u=e)))))},C.preclip=function(e){return arguments.length?(j=e,_=void 0,M()):j},C.postclip=function(e){return arguments.length?(k=e,N=r=i=a=null,M()):k},C.clipAngle=function(e){return arguments.length?(j=+e?J1(_=e*qJ):(_=null,Z1),M()):_*GJ},C.clipExtent=function(e){return arguments.length?(k=null==e?(N=r=i=a=null,S2):s2(N=+e[0][0],r=+e[0][1],i=+e[1][0],a=+e[1][1]),M()):null==N?null:[[N,r],[i,a]]},C.scale=function(e){return arguments.length?(d=+e,E()):d},C.translate=function(e){return arguments.length?(h=+e[0],f=+e[1],E()):[h,f]},C.center=function(e){return arguments.length?(m=e[0]%360*qJ,g=e[1]%360*qJ,E()):[m*GJ,g*GJ]},C.rotate=function(e){return arguments.length?(p=e[0]%360*qJ,v=e[1]%360*qJ,y=e.length>2?e[2]%360*qJ:0,E()):[p*GJ,v*GJ,y*GJ]},C.angle=function(e){return arguments.length?(x=e%360*qJ,E()):x*GJ},C.reflectX=function(e){return arguments.length?(b=e?-1:1,E()):b<0},C.reflectY=function(e){return arguments.length?(w=e?-1:1,E()):w<0},C.precision=function(e){return arguments.length?(s=I4(o,S=e*e),M()):s0(S)},C.fitExtent=function(e,t){return O4(C,e,t)},C.fitSize=function(e,t){return A4(C,e,t)},C.fitWidth=function(e,t){return T4(C,e,t)},C.fitHeight=function(e,t){return R4(C,e,t)},function(){return t=e.apply(this,arguments),C.invert=t.invert&&P,E()}}function V4(e){var t=0,n=$J/3,r=B4(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*qJ,n=e[1]*qJ):[t*GJ,n*GJ]},i}function W4(e,t){var n=i0(e),r=(n+i0(t))/2;if(YJ(r)<VJ)return function(e){var t=ZJ(e);function n(e,n){return[e*t,i0(n)/t]}return n.invert=function(e,n){return[e/t,c0(n*t)]},n}(e);var i=1+n*(2*r-n),a=s0(i)/r;function s(e,t){var n=s0(i-2*r*i0(t))/r;return[n*i0(e*=r),a-n*ZJ(e)]}return s.invert=function(e,t){var n=a-t,s=QJ(e,YJ(n))*a0(n);return n*r<0&&(s-=$J*a0(e)*a0(n)),[s/r,c0((i-(e*e+n*n)*r*r)/(2*r))]},s}function $4(){return V4(W4).scale(155.424).center([0,33.6442])}function H4(){return $4().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function K4(e){return function(t,n){var r=ZJ(t),i=ZJ(n),a=e(r*i);return a===1/0?[2,0]:[a*i*i0(t),a*i0(n)]}}function U4(e){return function(t,n){var r=s0(t*t+n*n),i=e(r),a=i0(i),s=ZJ(i);return[QJ(t*a,r*s),c0(r&&n*a/r)]}}var G4=K4(function(e){return s0(2/(1+e))});G4.invert=U4(function(e){return 2*c0(e/2)});var q4=K4(function(e){return(e=l0(e))&&e/i0(e)});function Y4(e,t){return[e,n0(o0((HJ+t)/2))]}function X4(e){var t,n,r,i=F4(e),a=i.center,s=i.scale,o=i.translate,l=i.clipExtent,c=null;function u(){var a=$J*s(),o=i(F1(i.rotate()).invert([0,0]));return l(null==c?[[o[0]-a,o[1]-a],[o[0]+a,o[1]+a]]:e===Y4?[[Math.max(o[0]-a,c),t],[Math.min(o[0]+a,n),r]]:[[c,Math.max(o[1]-a,t)],[n,Math.min(o[1]+a,r)]])}return i.scale=function(e){return arguments.length?(s(e),u()):s()},i.translate=function(e){return arguments.length?(o(e),u()):o()},i.center=function(e){return arguments.length?(a(e),u()):a()},i.clipExtent=function(e){return arguments.length?(null==e?c=t=n=r=null:(c=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),u()):null==c?null:[[c,t],[n,r]]},u()}function Q4(e){return o0((HJ+e)/2)}function Z4(e,t){var n=ZJ(e),r=e===t?i0(e):n0(n/ZJ(t))/n0(Q4(t)/Q4(e)),i=n*r0(Q4(e),r)/r;if(!r)return Y4;function a(e,t){i>0?t<-HJ+VJ&&(t=-HJ+VJ):t>HJ-VJ&&(t=HJ-VJ);var n=i/r0(Q4(t),r);return[n*i0(r*e),i-n*ZJ(r*e)]}return a.invert=function(e,t){var n=i-t,a=a0(r)*s0(e*e+n*n),s=QJ(e,YJ(n))*a0(n);return n*r<0&&(s-=$J*a0(e)*a0(n)),[s/r,2*XJ(r0(i/a,1/r))-HJ]},a}function J4(e,t){return[e,t]}function e6(e,t){var n=ZJ(e),r=e===t?i0(e):(n-ZJ(t))/(t-e),i=n/r+e;if(YJ(r)<VJ)return J4;function a(e,t){var n=i-t,a=r*e;return[n*i0(a),i-n*ZJ(a)]}return a.invert=function(e,t){var n=i-t,a=QJ(e,YJ(n))*a0(n);return n*r<0&&(a-=$J*a0(e)*a0(n)),[a/r,i-a0(r)*s0(e*e+n*n)]},a}q4.invert=U4(function(e){return e}),Y4.invert=function(e,t){return[e,2*XJ(e0(t))-HJ]},J4.invert=J4;var t6=1.340264,n6=-.081106,r6=893e-6,i6=.003796,a6=s0(3)/2;function s6(e,t){var n=c0(a6*i0(t)),r=n*n,i=r*r*r;return[e*ZJ(n)/(a6*(t6+3*n6*r+i*(7*r6+9*i6*r))),n*(t6+n6*r+i*(r6+i6*r))]}function o6(e,t){var n=ZJ(t),r=ZJ(e)*n;return[n*i0(e)/r,i0(t)/r]}function l6(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function c6(e,t){return[ZJ(t)*i0(e),i0(t)]}function u6(e,t){var n=ZJ(t),r=1+ZJ(e)*n;return[n*i0(e)/r,i0(t)/r]}function d6(e,t){return[n0(o0((HJ+t)/2)),-e]}function h6(e,t){return e.parent===t.parent?1:2}function f6(e,t){return e+t.x}function m6(e,t){return Math.max(e,t.y)}function g6(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function p6(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=y6)):void 0===t&&(t=v6);for(var n,r,i,a,s,o=new w6(e),l=[o];n=l.pop();)if((i=t(n.data))&&(s=(i=Array.from(i)).length))for(n.children=i,a=s-1;a>=0;--a)l.push(r=i[a]=new w6(i[a])),r.parent=n,r.depth=n.depth+1;return o.eachBefore(b6)}function v6(e){return e.children}function y6(e){return Array.isArray(e)?e[1]:null}function x6(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function b6(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function w6(e){this.data=e,this.depth=this.height=0,this.parent=null}function _6(e){return null==e?null:j6(e)}function j6(e){if("function"!=typeof e)throw new Error;return e}function N6(){return 0}function k6(e){return function(){return e}}s6.invert=function(e,t){for(var n,r=t,i=r*r,a=i*i*i,s=0;s<12&&(a=(i=(r-=n=(r*(t6+n6*i+a*(r6+i6*i))-t)/(t6+3*n6*i+a*(7*r6+9*i6*i)))*r)*i*i,!(YJ(n)<WJ));++s);return[a6*e*(t6+3*n6*i+a*(7*r6+9*i6*i))/ZJ(r),c0(i0(r)/a6)]},o6.invert=U4(XJ),l6.invert=function(e,t){var n,r=t,i=25;do{var a=r*r,s=a*a;r-=n=(r*(1.007226+a*(.015085+s*(.028874*a-.044475-.005916*s)))-t)/(1.007226+a*(.045255+s*(.259866*a-.311325-.005916*11*s)))}while(YJ(n)>VJ&&--i>0);return[e/(.8707+(a=r*r)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),r]},c6.invert=U4(c0),u6.invert=U4(function(e){return 2*XJ(e)}),d6.invert=function(e,t){return[-t,2*XJ(e0(e))-HJ]},w6.prototype=p6.prototype={constructor:w6,count:function(){return this.eachAfter(g6)},each:function(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this},eachAfter:function(e,t){for(var n,r,i,a=this,s=[a],o=[],l=-1;a=s.pop();)if(o.push(a),n=a.children)for(r=0,i=n.length;r<i;++r)s.push(n[r]);for(;a=o.pop();)e.call(t,a,++l,this);return this},eachBefore:function(e,t){for(var n,r,i=this,a=[i],s=-1;i=a.pop();)if(e.call(t,i,++s,this),n=i.children)for(r=n.length-1;r>=0;--r)a.push(n[r]);return this},find:function(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r},sum:function(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})},sort:function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},links:function(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t},copy:function(){return p6(this).eachBefore(x6)},[Symbol.iterator]:function*(){var e,t,n,r,i=this,a=[i];do{for(e=a.reverse(),a=[];i=e.pop();)if(yield i,t=i.children)for(n=0,r=t.length;n<r;++n)a.push(t[n])}while(a.length)}};const S6=4294967296;function C6(){let e=1;return()=>(e=(1664525*e+1013904223)%S6)/S6}function P6(e,t){for(var n,r,i=0,a=(e=function(e,t){let n,r,i=e.length;for(;i;)r=t()*i--|0,n=e[i],e[i]=e[r],e[r]=n;return e}(Array.from(e),t)).length,s=[];i<a;)n=e[i],r&&O6(r,n)?++i:(r=T6(s=E6(s,n)),i=0);return r}function E6(e,t){var n,r;if(A6(t,e))return[t];for(n=0;n<e.length;++n)if(M6(t,e[n])&&A6(R6(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(M6(R6(e[n],e[r]),t)&&M6(R6(e[n],t),e[r])&&M6(R6(e[r],t),e[n])&&A6(D6(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function M6(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function O6(e,t){var n=e.r-t.r+1e-9*Math.max(e.r,t.r,1),r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function A6(e,t){for(var n=0;n<t.length;++n)if(!O6(e,t[n]))return!1;return!0}function T6(e){switch(e.length){case 1:return{x:(t=e[0]).x,y:t.y,r:t.r};case 2:return R6(e[0],e[1]);case 3:return D6(e[0],e[1],e[2])}var t}function R6(e,t){var n=e.x,r=e.y,i=e.r,a=t.x,s=t.y,o=t.r,l=a-n,c=s-r,u=o-i,d=Math.sqrt(l*l+c*c);return{x:(n+a+l/d*u)/2,y:(r+s+c/d*u)/2,r:(d+i+o)/2}}function D6(e,t,n){var r=e.x,i=e.y,a=e.r,s=t.x,o=t.y,l=t.r,c=n.x,u=n.y,d=n.r,h=r-s,f=r-c,m=i-o,g=i-u,p=l-a,v=d-a,y=r*r+i*i-a*a,x=y-s*s-o*o+l*l,b=y-c*c-u*u+d*d,w=f*m-h*g,_=(m*b-g*x)/(2*w)-r,j=(g*p-m*v)/w,N=(f*x-h*b)/(2*w)-i,k=(h*v-f*p)/w,S=j*j+k*k-1,C=2*(a+_*j+N*k),P=_*_+N*N-a*a,E=-(Math.abs(S)>1e-6?(C+Math.sqrt(C*C-4*S*P))/(2*S):P/C);return{x:r+_+j*E,y:i+N+k*E,r:E}}function I6(e,t,n){var r,i,a,s,o=e.x-t.x,l=e.y-t.y,c=o*o+l*l;c?(i=t.r+n.r,i*=i,s=e.r+n.r,i>(s*=s)?(r=(c+s-i)/(2*c),a=Math.sqrt(Math.max(0,s/c-r*r)),n.x=e.x-r*o-a*l,n.y=e.y-r*l+a*o):(r=(c+i-s)/(2*c),a=Math.sqrt(Math.max(0,i/c-r*r)),n.x=t.x+r*o-a*l,n.y=t.y+r*l+a*o)):(n.x=t.x+n.r,n.y=t.y)}function L6(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function z6(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,a=(t.y*n.r+n.y*t.r)/r;return i*i+a*a}function F6(e){this._=e,this.next=null,this.previous=null}function B6(e,t){if(!(s=(n=e,e="object"==typeof n&&"length"in n?n:Array.from(n)).length))return 0;var n,r,i,a,s,o,l,c,u,d,h,f;if((r=e[0]).x=0,r.y=0,!(s>1))return r.r;if(i=e[1],r.x=-i.r,i.x=r.r,i.y=0,!(s>2))return r.r+i.r;I6(i,r,a=e[2]),r=new F6(r),i=new F6(i),a=new F6(a),r.next=a.previous=i,i.next=r.previous=a,a.next=i.previous=r;e:for(c=3;c<s;++c){I6(r._,i._,a=e[c]),a=new F6(a),u=i.next,d=r.previous,h=i._.r,f=r._.r;do{if(h<=f){if(L6(u._,a._)){i=u,r.next=i,i.previous=r,--c;continue e}h+=u._.r,u=u.next}else{if(L6(d._,a._)){(r=d).next=i,i.previous=r,--c;continue e}f+=d._.r,d=d.previous}}while(u!==d.next);for(a.previous=r,a.next=i,r.next=i.previous=i=a,o=z6(r);(a=a.next)!==i;)(l=z6(a))<o&&(r=a,o=l);i=r.next}for(r=[i._],a=i;(a=a.next)!==i;)r.push(a._);for(a=P6(r,t),c=0;c<s;++c)(r=e[c]).x-=a.x,r.y-=a.y;return a.r}function V6(e){return Math.sqrt(e.value)}function W6(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function $6(e,t,n){return function(r){if(i=r.children){var i,a,s,o=i.length,l=e(r)*t||0;if(l)for(a=0;a<o;++a)i[a].r+=l;if(s=B6(i,n),l)for(a=0;a<o;++a)i[a].r-=l;r.r=s+l}}}function H6(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function K6(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function U6(e,t,n,r,i){for(var a,s=e.children,o=-1,l=s.length,c=e.value&&(r-t)/e.value;++o<l;)(a=s[o]).y0=n,a.y1=i,a.x0=t,a.x1=t+=a.value*c}var G6={depth:-1},q6={},Y6={};function X6(e){return e.id}function Q6(e){return e.parentId}function Z6(e){let t=e.length;if(t<2)return"";for(;--t>1&&!J6(e,t););return e.slice(0,t)}function J6(e,t){if("/"===e[t]){let n=0;for(;t>0&&"\\"===e[--t];)++n;if(!(1&n))return!0}return!1}function e5(e,t){return e.parent===t.parent?1:2}function t5(e){var t=e.children;return t?t[0]:e.t}function n5(e){var t=e.children;return t?t[t.length-1]:e.t}function r5(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function i5(e,t,n){return e.a.parent===t.parent?e.a:n}function a5(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function s5(e,t,n,r,i){for(var a,s=e.children,o=-1,l=s.length,c=e.value&&(i-n)/e.value;++o<l;)(a=s[o]).x0=t,a.x1=r,a.y0=n,a.y1=n+=a.value*c}a5.prototype=Object.create(w6.prototype);var o5=(1+Math.sqrt(5))/2;function l5(e,t,n,r,i,a){for(var s,o,l,c,u,d,h,f,m,g,p,v=[],y=t.children,x=0,b=0,w=y.length,_=t.value;x<w;){l=i-n,c=a-r;do{u=y[b++].value}while(!u&&b<w);for(d=h=u,p=u*u*(g=Math.max(c/l,l/c)/(_*e)),m=Math.max(h/p,p/d);b<w;++b){if(u+=o=y[b].value,o<d&&(d=o),o>h&&(h=o),p=u*u*g,(f=Math.max(h/p,p/d))>m){u-=o;break}m=f}v.push(s={value:u,dice:l<c,children:y.slice(x,b)}),s.dice?U6(s,n,r,i,_?r+=c*u/_:a):s5(s,n,r,_?n+=l*u/_:i,a),_-=u,x=b}return v}const c5=function e(t){function n(e,n,r,i,a){l5(t,e,n,r,i,a)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(o5),u5=function e(t){function n(e,n,r,i,a){if((s=e._squarify)&&s.ratio===t)for(var s,o,l,c,u,d=-1,h=s.length,f=e.value;++d<h;){for(l=(o=s[d]).children,c=o.value=0,u=l.length;c<u;++c)o.value+=l[c].value;o.dice?U6(o,n,r,i,f?r+=(a-r)*o.value/f:a):s5(o,n,r,f?n+=(i-n)*o.value/f:i,a),f-=o.value}else e._squarify=s=l5(t,e,n,r,i,a),s.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(o5);function d5(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function h5(e,t){return e[0]-t[0]||e[1]-t[1]}function f5(e){const t=e.length,n=[0,1];let r,i=2;for(r=2;r<t;++r){for(;i>1&&d5(e[n[i-2]],e[n[i-1]],e[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}const m5=Math.random,g5=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,1===arguments.length?(n=e,e=0):n-=e,function(){return t()*n+e}}return n.source=e,n}(m5),p5=function e(t){function n(e,n){return arguments.length<2&&(n=e,e=0),e=Math.floor(e),n=Math.floor(n)-e,function(){return Math.floor(t()*n+e)}}return n.source=e,n}(m5),v5=function e(t){function n(e,n){var r,i;return e=null==e?0:+e,n=null==n?1:+n,function(){var a;if(null!=r)a=r,r=null;else do{r=2*t()-1,a=2*t()-1,i=r*r+a*a}while(!i||i>1);return e+n*a*Math.sqrt(-2*Math.log(i)/i)}}return n.source=e,n}(m5),y5=function e(t){var n=v5.source(t);function r(){var e=n.apply(this,arguments);return function(){return Math.exp(e())}}return r.source=e,r}(m5),x5=function e(t){function n(e){return(e=+e)<=0?()=>0:function(){for(var n=0,r=e;r>1;--r)n+=t();return n+r*t()}}return n.source=e,n}(m5),b5=function e(t){var n=x5.source(t);function r(e){if(0===(e=+e))return t;var r=n(e);return function(){return r()/e}}return r.source=e,r}(m5),w5=function e(t){function n(e){return function(){return-Math.log1p(-t())/e}}return n.source=e,n}(m5),_5=function e(t){function n(e){if((e=+e)<0)throw new RangeError("invalid alpha");return e=1/-e,function(){return Math.pow(1-t(),e)}}return n.source=e,n}(m5),j5=function e(t){function n(e){if((e=+e)<0||e>1)throw new RangeError("invalid p");return function(){return Math.floor(t()+e)}}return n.source=e,n}(m5),N5=function e(t){function n(e){if((e=+e)<0||e>1)throw new RangeError("invalid p");return 0===e?()=>1/0:1===e?()=>1:(e=Math.log1p(-e),function(){return 1+Math.floor(Math.log1p(-t())/e)})}return n.source=e,n}(m5),k5=function e(t){var n=v5.source(t)();function r(e,r){if((e=+e)<0)throw new RangeError("invalid k");if(0===e)return()=>0;if(r=null==r?1:+r,1===e)return()=>-Math.log1p(-t())*r;var i=(e<1?e+1:e)-1/3,a=1/(3*Math.sqrt(i)),s=e<1?()=>Math.pow(t(),1/e):()=>1;return function(){do{do{var e=n(),o=1+a*e}while(o<=0);o*=o*o;var l=1-t()}while(l>=1-.0331*e*e*e*e&&Math.log(l)>=.5*e*e+i*(1-o+Math.log(o)));return i*o*s()*r}}return r.source=e,r}(m5),S5=function e(t){var n=k5.source(t);function r(e,t){var r=n(e),i=n(t);return function(){var e=r();return 0===e?0:e/(e+i())}}return r.source=e,r}(m5),C5=function e(t){var n=N5.source(t),r=S5.source(t);function i(e,t){return e=+e,(t=+t)>=1?()=>e:t<=0?()=>0:function(){for(var i=0,a=e,s=t;a*s>16&&a*(1-s)>16;){var o=Math.floor((a+1)*s),l=r(o,a-o+1)();l<=s?(i+=o,a-=o,s=(s-l)/(1-l)):(a=o-1,s/=l)}for(var c=s<.5,u=n(c?s:1-s),d=u(),h=0;d<=a;++h)d+=u();return i+(c?h:a-h)}}return i.source=e,i}(m5),P5=function e(t){function n(e,n,r){var i;return 0===(e=+e)?i=e=>-Math.log(e):(e=1/e,i=t=>Math.pow(t,e)),n=null==n?0:+n,r=null==r?1:+r,function(){return n+r*i(-Math.log1p(-t()))}}return n.source=e,n}(m5),E5=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,function(){return e+n*Math.tan(Math.PI*t())}}return n.source=e,n}(m5),M5=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,function(){var r=t();return e+n*Math.log(r/(1-r))}}return n.source=e,n}(m5),O5=function e(t){var n=k5.source(t),r=C5.source(t);function i(e){return function(){for(var i=0,a=e;a>16;){var s=Math.floor(.875*a),o=n(s)();if(o>a)return i+r(s-1,a/o)();i+=s,a-=o}for(var l=-Math.log1p(-t()),c=0;l<=a;++c)l-=Math.log1p(-t());return i+c}}return i.source=e,i}(m5),A5=1/4294967296;function T5(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}const R5=T5("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),D5=T5("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),I5=T5("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),L5=T5("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),z5=T5("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),F5=T5("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),B5=T5("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),V5=T5("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),W5=T5("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),$5=T5("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),H5=T5("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),K5=e=>vP(e[e.length-1]);var U5=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(T5);const G5=K5(U5);var q5=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(T5);const Y5=K5(q5);var X5=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(T5);const Q5=K5(X5);var Z5=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(T5);const J5=K5(Z5);var e3=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(T5);const t3=K5(e3);var n3=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(T5);const r3=K5(n3);var i3=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(T5);const a3=K5(i3);var s3=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(T5);const o3=K5(s3);var l3=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(T5);const c3=K5(l3);var u3=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(T5);const d3=K5(u3);var h3=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(T5);const f3=K5(h3);var m3=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(T5);const g3=K5(m3);var p3=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(T5);const v3=K5(p3);var y3=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(T5);const x3=K5(y3);var b3=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(T5);const w3=K5(b3);var _3=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(T5);const j3=K5(_3);var N3=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(T5);const k3=K5(N3);var S3=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(T5);const C3=K5(S3);var P3=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(T5);const E3=K5(P3);var M3=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(T5);const O3=K5(M3);var A3=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(T5);const T3=K5(A3);var R3=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(T5);const D3=K5(R3);var I3=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(T5);const L3=K5(I3);var z3=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(T5);const F3=K5(z3);var B3=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(T5);const V3=K5(B3);var W3=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(T5);const $3=K5(W3);var H3=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(T5);const K3=K5(H3),U3=GP(aP(300,.5,0),aP(-240,.5,1));var G3=GP(aP(-100,.75,.35),aP(80,1.5,.8)),q3=GP(aP(260,.75,.35),aP(80,1.5,.8)),Y3=aP(),X3=yC(),Q3=Math.PI/3,Z3=2*Math.PI/3;function J3(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const e8=J3(T5("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var t8=J3(T5("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),n8=J3(T5("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),r8=J3(T5("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const i8=e=>()=>e;function a8(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function s8(e,t,n){this.k=e,this.x=t,this.y=n}s8.prototype={constructor:s8,scale:function(e){return 1===e?this:new s8(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new s8(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var o8=new s8(1,0,0);function l8(e){for(;!e.__zoom;)if(!(e=e.parentNode))return o8;return e.__zoom}function c8(e){e.stopImmediatePropagation()}function u8(e){e.preventDefault(),e.stopImmediatePropagation()}function d8(e){return!(e.ctrlKey&&"wheel"!==e.type||e.button)}function h8(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function f8(){return this.__zoom||o8}function m8(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function g8(){return navigator.maxTouchPoints||"ontouchstart"in this}function p8(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>a?(a+s)/2:Math.min(0,a)||Math.max(0,s))}l8.prototype=s8.prototype;const v8=Object.freeze(Object.defineProperty({__proto__:null,Adder:Kk,Delaunay:BZ,FormatSpecifier:cE,InternMap:Uk,InternSet:Gk,Node:w6,Path:dg,Voronoi:RZ,ZoomTransform:s8,active:function(e,t){var n,r,i=e.__transition;if(i)for(r in t=null==t?null:t+"",i)if((n=i[r]).state>1&&n.name===t)return new NX([[e]],rQ,t,+r);return null},arc:function(){var e=mg,t=gg,n=Gm(0),r=null,i=pg,a=vg,s=yg,o=null,l=fg(c);function c(){var c,u,d,h=+e.apply(this,arguments),f=+t.apply(this,arguments),m=i.apply(this,arguments)-rg,g=a.apply(this,arguments)-rg,p=qm(g-m),v=g>m;if(o||(o=c=l()),f<h&&(u=f,f=h,h=u),f>tg)if(p>ig-tg)o.moveTo(f*Xm(m),f*Jm(m)),o.arc(0,0,f,m,g,!v),h>tg&&(o.moveTo(h*Xm(g),h*Jm(g)),o.arc(0,0,h,g,m,v));else{var y,x,b=m,w=g,_=m,j=g,N=p,k=p,S=s.apply(this,arguments)/2,C=S>tg&&(r?+r.apply(this,arguments):eg(h*h+f*f)),P=Zm(qm(f-h)/2,+n.apply(this,arguments)),E=P,M=P;if(C>tg){var O=ag(C/h*Jm(S)),A=ag(C/f*Jm(S));(N-=2*O)>tg?(_+=O*=v?1:-1,j-=O):(N=0,_=j=(m+g)/2),(k-=2*A)>tg?(b+=A*=v?1:-1,w-=A):(k=0,b=w=(m+g)/2)}var T=f*Xm(b),R=f*Jm(b),D=h*Xm(j),I=h*Jm(j);if(P>tg){var L,z=f*Xm(w),F=f*Jm(w),B=h*Xm(_),V=h*Jm(_);if(p<ng)if(L=function(e,t,n,r,i,a,s,o){var l=n-e,c=r-t,u=s-i,d=o-a,h=d*l-u*c;if(!(h*h<tg))return[e+(h=(u*(t-a)-d*(e-i))/h)*l,t+h*c]}(T,R,B,V,z,F,D,I)){var W=T-L[0],$=R-L[1],H=z-L[0],K=F-L[1],U=1/Jm(((d=(W*H+$*K)/(eg(W*W+$*$)*eg(H*H+K*K)))>1?0:d<-1?ng:Math.acos(d))/2),G=eg(L[0]*L[0]+L[1]*L[1]);E=Zm(P,(h-G)/(U-1)),M=Zm(P,(f-G)/(U+1))}else E=M=0}k>tg?M>tg?(y=xg(B,V,T,R,f,M,v),x=xg(z,F,D,I,f,M,v),o.moveTo(y.cx+y.x01,y.cy+y.y01),M<P?o.arc(y.cx,y.cy,M,Ym(y.y01,y.x01),Ym(x.y01,x.x01),!v):(o.arc(y.cx,y.cy,M,Ym(y.y01,y.x01),Ym(y.y11,y.x11),!v),o.arc(0,0,f,Ym(y.cy+y.y11,y.cx+y.x11),Ym(x.cy+x.y11,x.cx+x.x11),!v),o.arc(x.cx,x.cy,M,Ym(x.y11,x.x11),Ym(x.y01,x.x01),!v))):(o.moveTo(T,R),o.arc(0,0,f,b,w,!v)):o.moveTo(T,R),h>tg&&N>tg?E>tg?(y=xg(D,I,z,F,h,-E,v),x=xg(T,R,B,V,h,-E,v),o.lineTo(y.cx+y.x01,y.cy+y.y01),E<P?o.arc(y.cx,y.cy,E,Ym(y.y01,y.x01),Ym(x.y01,x.x01),!v):(o.arc(y.cx,y.cy,E,Ym(y.y01,y.x01),Ym(y.y11,y.x11),!v),o.arc(0,0,h,Ym(y.cy+y.y11,y.cx+y.x11),Ym(x.cy+x.y11,x.cx+x.x11),v),o.arc(x.cx,x.cy,E,Ym(x.y11,x.x11),Ym(x.y01,x.x01),!v))):o.arc(0,0,h,j,_,v):o.lineTo(D,I)}else o.moveTo(0,0);if(o.closePath(),c)return o=null,c+""||null}return c.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-ng/2;return[Xm(r)*n,Jm(r)*n]},c.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:Gm(+t),c):e},c.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:Gm(+e),c):t},c.cornerRadius=function(e){return arguments.length?(n="function"==typeof e?e:Gm(+e),c):n},c.padRadius=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:Gm(+e),c):r},c.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:Gm(+e),c):i},c.endAngle=function(e){return arguments.length?(a="function"==typeof e?e:Gm(+e),c):a},c.padAngle=function(e){return arguments.length?(s="function"==typeof e?e:Gm(+e),c):s},c.context=function(e){return arguments.length?(o=null==e?null:e,c):o},c},area:Cg,areaRadial:Dg,ascending:jk,autoType:function(e){for(var t in e){var n,r,i=e[t].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(n=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;uJ&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=n;else i=null;e[t]=i}return e},axisBottom:function(e){return QG(3,e)},axisLeft:function(e){return QG(4,e)},axisRight:function(e){return QG(2,e)},axisTop:function(e){return QG(1,e)},bin:wS,bisect:Ek,bisectCenter:Ok,bisectLeft:Mk,bisectRight:Ek,bisector:kk,blob:function(e,t){return fetch(e,t).then(dJ)},blur:function(e,t){if(!((t=+t)>=0))throw new RangeError("invalid r");let n=e.length;if(!((n=Math.floor(n))>=0))throw new RangeError("invalid length");if(!n||!t)return e;const r=Lk(t),i=e.slice();return r(e,i,0,n,1),r(i,e,0,n,1),r(e,i,0,n,1),e},blur2:Ak,blurImage:Tk,brush:function(){return EQ(yQ)},brushSelection:function(e){var t=e.__brush;return t?t.dim.output(t.selection):null},brushX:function(){return EQ(pQ)},brushY:function(){return EQ(vQ)},buffer:function(e,t){return fetch(e,t).then(hJ)},chord:function(){return FQ(!1,!1)},chordDirected:function(){return FQ(!0,!1)},chordTranspose:function(){return FQ(!1,!0)},cluster:function(){var e=h6,t=1,n=1,r=!1;function i(i){var a,s=0;i.eachAfter(function(t){var n=t.children;n?(t.x=function(e){return e.reduce(f6,0)/e.length}(n),t.y=function(e){return 1+e.reduce(m6,0)}(n)):(t.x=a?s+=e(t,a):0,t.y=0,a=t)});var o=function(e){for(var t;t=e.children;)e=t[0];return e}(i),l=function(e){for(var t;t=e.children;)e=t[t.length-1];return e}(i),c=o.x-e(o,l)/2,u=l.x+e(l,o)/2;return i.eachAfter(r?function(e){e.x=(e.x-i.x)*t,e.y=(i.y-e.y)*n}:function(e){e.x=(e.x-c)/(u-c)*t,e.y=(1-(i.y?e.y/i.y:1))*n})}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i},color:mC,contourDensity:function(){var e=cZ,t=uZ,n=dZ,r=960,i=500,a=20,s=2,o=3*a,l=r+2*o>>s,c=i+2*o>>s,u=ZQ(20);function d(r){var i=new Float32Array(l*c),u=Math.pow(2,-s),d=-1;for(const a of r){var h=(e(a,++d,r)+o)*u,f=(t(a,d,r)+o)*u,m=+n(a,d,r);if(m&&h>=0&&h<l&&f>=0&&f<c){var g=Math.floor(h),p=Math.floor(f),v=h-g-.5,y=f-p-.5;i[g+p*l]+=(1-v)*(1-y)*m,i[g+1+p*l]+=v*(1-y)*m,i[g+1+(p+1)*l]+=v*y*m,i[g+(p+1)*l]+=(1-v)*y*m}}return Ak({data:i,width:l,height:c},a*u),i}function h(e){var t=d(e),n=u(t),r=Math.pow(2,2*s);return Array.isArray(n)||(n=pS(Number.MIN_VALUE,_S(t)/r,n)),iZ().size([l,c]).thresholds(n.map(e=>e*r))(t).map((e,t)=>(e.value=+n[t],f(e)))}function f(e){return e.coordinates.forEach(m),e}function m(e){e.forEach(g)}function g(e){e.forEach(p)}function p(e){e[0]=e[0]*Math.pow(2,s)-o,e[1]=e[1]*Math.pow(2,s)-o}function v(){return l=r+2*(o=3*a)>>s,c=i+2*o>>s,h}return h.contours=function(e){var t=d(e),n=iZ().size([l,c]),r=Math.pow(2,2*s),i=e=>{e=+e;var i=f(n.contour(t,e*r));return i.value=e,i};return Object.defineProperty(i,"max",{get:()=>_S(t)/r}),i},h.x=function(t){return arguments.length?(e="function"==typeof t?t:ZQ(+t),h):e},h.y=function(e){return arguments.length?(t="function"==typeof e?e:ZQ(+e),h):t},h.weight=function(e){return arguments.length?(n="function"==typeof e?e:ZQ(+e),h):n},h.size=function(e){if(!arguments.length)return[r,i];var t=+e[0],n=+e[1];if(!(t>=0&&n>=0))throw new Error("invalid size");return r=t,i=n,v()},h.cellSize=function(e){if(!arguments.length)return 1<<s;if(!((e=+e)>=1))throw new Error("invalid cell size");return s=Math.floor(Math.log(e)/Math.LN2),v()},h.thresholds=function(e){return arguments.length?(u="function"==typeof e?e:Array.isArray(e)?ZQ(XQ.call(e)):ZQ(e),h):u},h.bandwidth=function(e){if(!arguments.length)return Math.sqrt(a*(a+1));if(!((e=+e)>=0))throw new Error("invalid bandwidth");return a=(Math.sqrt(4*e*e+1)-1)/2,v()},h},contours:iZ,count:zk,create:function(e){return gY(lq(e).call(document.documentElement))},creator:lq,cross:function(...e){const t="function"==typeof e[e.length-1]&&function(e){return t=>e(...t)}(e.pop()),n=(e=e.map(Vk)).map(Fk),r=e.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||n.some(Bk))return a;for(;;){a.push(i.map((t,n)=>e[n][t]));let s=r;for(;++i[s]===n[s];){if(0===s)return t?a.map(t):a;i[s--]=0}}},csv:pJ,csvFormat:QZ,csvFormatBody:ZZ,csvFormatRow:eJ,csvFormatRows:JZ,csvFormatValue:tJ,csvParse:YZ,csvParseRows:XZ,cubehelix:aP,cumsum:function(e,t){var n=0,r=0;return Float64Array.from(e,void 0===t?e=>n+=+e||0:i=>n+=+t(i,r++,e)||0)},curveBasis:_p,curveBasisClosed:Np,curveBasisOpen:Sp,curveBumpX:Fg,curveBumpY:Bg,curveBundle:Pp,curveCardinal:Op,curveCardinalClosed:Tp,curveCardinalOpen:Dp,curveCatmullRom:zp,curveCatmullRomClosed:Bp,curveCatmullRomOpen:Wp,curveLinear:jg,curveLinearClosed:Hp,curveMonotoneX:Zp,curveMonotoneY:Jp,curveNatural:nv,curveStep:iv,curveStepAfter:sv,curveStepBefore:av,descending:Nk,deviation:$k,difference:function(e,...t){e=new Gk(e);for(const n of t)for(const t of n)e.delete(t);return e},disjoint:function(e,t){const n=t[Symbol.iterator](),r=new Gk;for(const i of e){if(r.has(i))return!1;let e,t;for(;({value:e,done:t}=n.next())&&!t;){if(Object.is(i,e))return!1;r.add(e)}}return!0},dispatch:JG,drag:function(){var e,t,n,r,i=EY,a=MY,s=OY,o=AY,l={},c=JG("start","drag","end"),u=0,d=0;function h(e){e.on("mousedown.drag",f).filter(o).on("touchstart.drag",p).on("touchmove.drag",v,wY).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(s,o){if(!r&&i.call(this,s,o)){var l=x(this,a.call(this,s,o),s,o,"mouse");l&&(gY(s.view).on("mousemove.drag",m,_Y).on("mouseup.drag",g,_Y),kY(s.view),jY(s),n=!1,e=s.clientX,t=s.clientY,l("start",s))}}function m(r){if(NY(r),!n){var i=r.clientX-e,a=r.clientY-t;n=i*i+a*a>d}l.mouse("drag",r)}function g(e){gY(e.view).on("mousemove.drag mouseup.drag",null),SY(e.view,n),NY(e),l.mouse("end",e)}function p(e,t){if(i.call(this,e,t)){var n,r,s=e.changedTouches,o=a.call(this,e,t),l=s.length;for(n=0;n<l;++n)(r=x(this,o,e,t,s[n].identifier,s[n]))&&(jY(e),r("start",e,s[n]))}}function v(e){var t,n,r=e.changedTouches,i=r.length;for(t=0;t<i;++t)(n=l[r[t].identifier])&&(NY(e),n("drag",e,r[t]))}function y(e){var t,n,i=e.changedTouches,a=i.length;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),t=0;t<a;++t)(n=l[i[t].identifier])&&(jY(e),n("end",e,i[t]))}function x(e,t,n,r,i,a){var o,d,f,m=c.copy(),g=bY(a||n,t);if(null!=(f=s.call(e,new PY("beforestart",{sourceEvent:n,target:h,identifier:i,active:u,x:g[0],y:g[1],dx:0,dy:0,dispatch:m}),r)))return o=f.x-g[0]||0,d=f.y-g[1]||0,function n(a,s,c){var p,v=g;switch(a){case"start":l[i]=n,p=u++;break;case"end":delete l[i],--u;case"drag":g=bY(c||s,t),p=u}m.call(a,e,new PY(a,{sourceEvent:s,subject:f,target:h,identifier:i,active:p,x:g[0]+o,y:g[1]+d,dx:g[0]-v[0],dy:g[1]-v[1],dispatch:m}),r)}}return h.filter=function(e){return arguments.length?(i="function"==typeof e?e:CY(!!e),h):i},h.container=function(e){return arguments.length?(a="function"==typeof e?e:CY(e),h):a},h.subject=function(e){return arguments.length?(s="function"==typeof e?e:CY(e),h):s},h.touchable=function(e){return arguments.length?(o="function"==typeof e?e:CY(!!e),h):o},h.on=function(){var e=c.on.apply(c,arguments);return e===c?h:e},h.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,h):Math.sqrt(d)},h},dragDisable:kY,dragEnable:SY,dsv:function(e,t,n,r){3===arguments.length&&"function"==typeof n&&(r=n,n=void 0);var i=GZ(e);return mJ(t,n).then(function(e){return i.parse(e,r)})},dsvFormat:GZ,easeBack:XX,easeBackIn:qX,easeBackInOut:XX,easeBackOut:YX,easeBounce:UX,easeBounceIn:function(e){return 1-UX(1-e)},easeBounceInOut:function(e){return((e*=2)<=1?1-UX(1-e):UX(e-1)+1)/2},easeBounceOut:UX,easeCircle:zX,easeCircleIn:function(e){return 1-Math.sqrt(1-e*e)},easeCircleInOut:zX,easeCircleOut:function(e){return Math.sqrt(1- --e*e)},easeCubic:EX,easeCubicIn:function(e){return e*e*e},easeCubicInOut:EX,easeCubicOut:function(e){return--e*e*e+1},easeElastic:JX,easeElasticIn:ZX,easeElasticInOut:eQ,easeElasticOut:JX,easeExp:LX,easeExpIn:function(e){return IX(1-+e)},easeExpInOut:LX,easeExpOut:function(e){return 1-IX(e)},easeLinear:e=>+e,easePoly:AX,easePolyIn:MX,easePolyInOut:AX,easePolyOut:OX,easeQuad:PX,easeQuadIn:function(e){return e*e},easeQuadInOut:PX,easeQuadOut:function(e){return e*(2-e)},easeSin:DX,easeSinIn:function(e){return 1===+e?1:1-Math.cos(e*RX)},easeSinInOut:DX,easeSinOut:function(e){return Math.sin(e*RX)},every:function(e,t){if("function"!=typeof t)throw new TypeError("test is not a function");let n=-1;for(const r of e)if(!t(r,++n,e))return!1;return!0},extent:Hk,fcumsum:function(e,t){const n=new Kk;let r=-1;return Float64Array.from(e,void 0===t?e=>n.add(+e||0):i=>n.add(+t(i,++r,e)||0))},filter:function(e,t){if("function"!=typeof t)throw new TypeError("test is not a function");const n=[];let r=-1;for(const i of e)t(i,++r,e)&&n.push(i);return n},flatGroup:function(e,...t){return tS(eS(e,...t),t)},flatRollup:function(e,t,...n){return tS(rS(e,t,...n),n)},forceCenter:function(e,t){var n,r=1;function i(){var i,a,s=n.length,o=0,l=0;for(i=0;i<s;++i)o+=(a=n[i]).x,l+=a.y;for(o=(o/s-e)*r,l=(l/s-t)*r,i=0;i<s;++i)(a=n[i]).x-=o,a.y-=l}return null==e&&(e=0),null==t&&(t=0),i.initialize=function(e){n=e},i.x=function(t){return arguments.length?(e=+t,i):e},i.y=function(e){return arguments.length?(t=+e,i):t},i.strength=function(e){return arguments.length?(r=+e,i):r},i},forceCollide:function(e){var t,n,r,i=1,a=1;function s(){for(var e,s,l,c,u,d,h,f=t.length,m=0;m<a;++m)for(s=CJ(t,TJ,RJ).visitAfter(o),e=0;e<f;++e)l=t[e],d=n[l.index],h=d*d,c=l.x+l.vx,u=l.y+l.vy,s.visit(g);function g(e,t,n,a,s){var o=e.data,f=e.r,m=d+f;if(!o)return t>c+m||a<c-m||n>u+m||s<u-m;if(o.index>l.index){var g=c-o.x-o.vx,p=u-o.y-o.vy,v=g*g+p*p;v<m*m&&(0===g&&(v+=(g=AJ(r))*g),0===p&&(v+=(p=AJ(r))*p),v=(m-(v=Math.sqrt(v)))/v*i,l.vx+=(g*=v)*(m=(f*=f)/(h+f)),l.vy+=(p*=v)*m,o.vx-=g*(m=1-m),o.vy-=p*m)}}}function o(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function l(){if(t){var r,i,a=t.length;for(n=new Array(a),r=0;r<a;++r)i=t[r],n[i.index]=+e(i,r,t)}}return"function"!=typeof e&&(e=OJ(null==e?1:+e)),s.initialize=function(e,n){t=e,r=n,l()},s.iterations=function(e){return arguments.length?(a=+e,s):a},s.strength=function(e){return arguments.length?(i=+e,s):i},s.radius=function(t){return arguments.length?(e="function"==typeof t?t:OJ(+t),l(),s):e},s},forceLink:function(e){var t,n,r,i,a,s,o=DJ,l=function(e){return 1/Math.min(i[e.source.index],i[e.target.index])},c=OJ(30),u=1;function d(r){for(var i=0,o=e.length;i<u;++i)for(var l,c,d,h,f,m,g,p=0;p<o;++p)c=(l=e[p]).source,h=(d=l.target).x+d.vx-c.x-c.vx||AJ(s),f=d.y+d.vy-c.y-c.vy||AJ(s),h*=m=((m=Math.sqrt(h*h+f*f))-n[p])/m*r*t[p],f*=m,d.vx-=h*(g=a[p]),d.vy-=f*g,c.vx+=h*(g=1-g),c.vy+=f*g}function h(){if(r){var s,l,c=r.length,u=e.length,d=new Map(r.map((e,t)=>[o(e,t,r),e]));for(s=0,i=new Array(c);s<u;++s)(l=e[s]).index=s,"object"!=typeof l.source&&(l.source=IJ(d,l.source)),"object"!=typeof l.target&&(l.target=IJ(d,l.target)),i[l.source.index]=(i[l.source.index]||0)+1,i[l.target.index]=(i[l.target.index]||0)+1;for(s=0,a=new Array(u);s<u;++s)l=e[s],a[s]=i[l.source.index]/(i[l.source.index]+i[l.target.index]);t=new Array(u),f(),n=new Array(u),m()}}function f(){if(r)for(var n=0,i=e.length;n<i;++n)t[n]=+l(e[n],n,e)}function m(){if(r)for(var t=0,i=e.length;t<i;++t)n[t]=+c(e[t],t,e)}return null==e&&(e=[]),d.initialize=function(e,t){r=e,s=t,h()},d.links=function(t){return arguments.length?(e=t,h(),d):e},d.id=function(e){return arguments.length?(o=e,d):o},d.iterations=function(e){return arguments.length?(u=+e,d):u},d.strength=function(e){return arguments.length?(l="function"==typeof e?e:OJ(+e),f(),d):l},d.distance=function(e){return arguments.length?(c="function"==typeof e?e:OJ(+e),m(),d):c},d},forceManyBody:function(){var e,t,n,r,i,a=OJ(-30),s=1,o=1/0,l=.81;function c(n){var i,a=e.length,s=CJ(e,zJ,FJ).visitAfter(d);for(r=n,i=0;i<a;++i)t=e[i],s.visit(h)}function u(){if(e){var t,n,r=e.length;for(i=new Array(r),t=0;t<r;++t)n=e[t],i[n.index]=+a(n,t,e)}}function d(e){var t,n,r,a,s,o=0,l=0;if(e.length){for(r=a=s=0;s<4;++s)(t=e[s])&&(n=Math.abs(t.value))&&(o+=t.value,l+=n,r+=n*t.x,a+=n*t.y);e.x=r/l,e.y=a/l}else{(t=e).x=t.data.x,t.y=t.data.y;do{o+=i[t.data.index]}while(t=t.next)}e.value=o}function h(e,a,c,u){if(!e.value)return!0;var d=e.x-t.x,h=e.y-t.y,f=u-a,m=d*d+h*h;if(f*f/l<m)return m<o&&(0===d&&(m+=(d=AJ(n))*d),0===h&&(m+=(h=AJ(n))*h),m<s&&(m=Math.sqrt(s*m)),t.vx+=d*e.value*r/m,t.vy+=h*e.value*r/m),!0;if(!(e.length||m>=o)){(e.data!==t||e.next)&&(0===d&&(m+=(d=AJ(n))*d),0===h&&(m+=(h=AJ(n))*h),m<s&&(m=Math.sqrt(s*m)));do{e.data!==t&&(f=i[e.data.index]*r/m,t.vx+=d*f,t.vy+=h*f)}while(e=e.next)}}return c.initialize=function(t,r){e=t,n=r,u()},c.strength=function(e){return arguments.length?(a="function"==typeof e?e:OJ(+e),u(),c):a},c.distanceMin=function(e){return arguments.length?(s=e*e,c):Math.sqrt(s)},c.distanceMax=function(e){return arguments.length?(o=e*e,c):Math.sqrt(o)},c.theta=function(e){return arguments.length?(l=e*e,c):Math.sqrt(l)},c},forceRadial:function(e,t,n){var r,i,a,s=OJ(.1);function o(e){for(var s=0,o=r.length;s<o;++s){var l=r[s],c=l.x-t||1e-6,u=l.y-n||1e-6,d=Math.sqrt(c*c+u*u),h=(a[s]-d)*i[s]*e/d;l.vx+=c*h,l.vy+=u*h}}function l(){if(r){var t,n=r.length;for(i=new Array(n),a=new Array(n),t=0;t<n;++t)a[t]=+e(r[t],t,r),i[t]=isNaN(a[t])?0:+s(r[t],t,r)}}return"function"!=typeof e&&(e=OJ(+e)),null==t&&(t=0),null==n&&(n=0),o.initialize=function(e){r=e,l()},o.strength=function(e){return arguments.length?(s="function"==typeof e?e:OJ(+e),l(),o):s},o.radius=function(t){return arguments.length?(e="function"==typeof t?t:OJ(+t),l(),o):e},o.x=function(e){return arguments.length?(t=+e,o):t},o.y=function(e){return arguments.length?(n=+e,o):n},o},forceSimulation:function(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,s=.6,o=new Map,l=UY(d),c=JG("tick","end"),u=function(){let e=1;return()=>(e=(1664525*e+1013904223)%LJ)/LJ}();function d(){h(),c.call("tick",t),n<r&&(l.stop(),c.call("end",t))}function h(r){var l,c,u=e.length;void 0===r&&(r=1);for(var d=0;d<r;++d)for(n+=(a-n)*i,o.forEach(function(e){e(n)}),l=0;l<u;++l)null==(c=e[l]).fx?c.x+=c.vx*=s:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=s:(c.y=c.fy,c.vy=0);return t}function f(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var i=10*Math.sqrt(.5+n),a=n*BJ;t.x=i*Math.cos(a),t.y=i*Math.sin(a)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function m(t){return t.initialize&&t.initialize(e,u),t}return null==e&&(e=[]),f(),t={tick:h,restart:function(){return l.restart(d),t},stop:function(){return l.stop(),t},nodes:function(n){return arguments.length?(e=n,f(),o.forEach(m),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(i=+e,t):+i},alphaTarget:function(e){return arguments.length?(a=+e,t):a},velocityDecay:function(e){return arguments.length?(s=1-e,t):1-s},randomSource:function(e){return arguments.length?(u=e,o.forEach(m),t):u},force:function(e,n){return arguments.length>1?(null==n?o.delete(e):o.set(e,m(n)),t):o.get(e)},find:function(t,n,r){var i,a,s,o,l,c=0,u=e.length;for(null==r?r=1/0:r*=r,c=0;c<u;++c)(s=(i=t-(o=e[c]).x)*i+(a=n-o.y)*a)<r&&(l=o,r=s);return l},on:function(e,n){return arguments.length>1?(c.on(e,n),t):c.on(e)}}},forceX:function(e){var t,n,r,i=OJ(.1);function a(e){for(var i,a=0,s=t.length;a<s;++a)(i=t[a]).vx+=(r[a]-i.x)*n[a]*e}function s(){if(t){var a,s=t.length;for(n=new Array(s),r=new Array(s),a=0;a<s;++a)n[a]=isNaN(r[a]=+e(t[a],a,t))?0:+i(t[a],a,t)}}return"function"!=typeof e&&(e=OJ(null==e?0:+e)),a.initialize=function(e){t=e,s()},a.strength=function(e){return arguments.length?(i="function"==typeof e?e:OJ(+e),s(),a):i},a.x=function(t){return arguments.length?(e="function"==typeof t?t:OJ(+t),s(),a):e},a},forceY:function(e){var t,n,r,i=OJ(.1);function a(e){for(var i,a=0,s=t.length;a<s;++a)(i=t[a]).vy+=(r[a]-i.y)*n[a]*e}function s(){if(t){var a,s=t.length;for(n=new Array(s),r=new Array(s),a=0;a<s;++a)n[a]=isNaN(r[a]=+e(t[a],a,t))?0:+i(t[a],a,t)}}return"function"!=typeof e&&(e=OJ(null==e?0:+e)),a.initialize=function(e){t=e,s()},a.strength=function(e){return arguments.length?(i="function"==typeof e?e:OJ(+e),s(),a):i},a.y=function(t){return arguments.length?(e="function"==typeof t?t:OJ(+t),s(),a):e},a},get format(){return mE},formatDefaultLocale:xE,formatLocale:yE,get formatPrefix(){return gE},formatSpecifier:lE,fsum:function(e,t){const n=new Kk;if(void 0===t)for(let r of e)(r=+r)&&n.add(r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&n.add(i)}return+n},geoAlbers:H4,geoAlbersUsa:function(){var e,t,n,r,i,a,s=H4(),o=$4().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=$4().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(e,t){a=[e,t]}};function u(e){var t=e[0],s=e[1];return a=null,n.point(t,s),a||(r.point(t,s),a)||(i.point(t,s),a)}function d(){return e=t=null,u}return u.invert=function(e){var t=s.scale(),n=s.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?o:i>=.166&&i<.234&&r>=-.214&&r<-.115?l:s).invert(e)},u.stream=function(n){return e&&t===n?e:(r=[s.stream(t=n),o.stream(n),l.stream(n)],i=r.length,e={point:function(e,t){for(var n=-1;++n<i;)r[n].point(e,t)},sphere:function(){for(var e=-1;++e<i;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<i;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<i;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<i;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<i;)r[e].polygonEnd()}});var r,i},u.precision=function(e){return arguments.length?(s.precision(e),o.precision(e),l.precision(e),d()):s.precision()},u.scale=function(e){return arguments.length?(s.scale(e),o.scale(.35*e),l.scale(e),u.translate(s.translate())):s.scale()},u.translate=function(e){if(!arguments.length)return s.translate();var t=s.scale(),a=+e[0],u=+e[1];return n=s.translate(e).clipExtent([[a-.455*t,u-.238*t],[a+.455*t,u+.238*t]]).stream(c),r=o.translate([a-.307*t,u+.201*t]).clipExtent([[a-.425*t+VJ,u+.12*t+VJ],[a-.214*t-VJ,u+.234*t-VJ]]).stream(c),i=l.translate([a-.205*t,u+.212*t]).clipExtent([[a-.214*t+VJ,u+.166*t+VJ],[a-.115*t-VJ,u+.234*t-VJ]]).stream(c),d()},u.fitExtent=function(e,t){return O4(u,e,t)},u.fitSize=function(e,t){return A4(u,e,t)},u.fitWidth=function(e,t){return T4(u,e,t)},u.fitHeight=function(e,t){return R4(u,e,t)},u.scale(1070)},geoArea:function(e){return D0=new Kk,v0(e,I0),2*D0},geoAzimuthalEqualArea:function(){return F4(G4).scale(124.75).clipAngle(179.999)},geoAzimuthalEqualAreaRaw:G4,geoAzimuthalEquidistant:function(){return F4(q4).scale(79.4188).clipAngle(179.999)},geoAzimuthalEquidistantRaw:q4,geoBounds:function(e){var t,n,r,i,a,s,o;if(S0=k0=-(j0=N0=1/0),A0=[],v0(e,u1),n=A0.length){for(A0.sort(x1),t=1,a=[r=A0[0]];t<n;++t)b1(r,(i=A0[t])[0])||b1(r,i[1])?(y1(r[0],i[1])>y1(r[0],r[1])&&(r[1]=i[1]),y1(i[0],r[1])>y1(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(s=-1/0,t=0,r=a[n=a.length-1];t<=n;r=i,++t)i=a[t],(o=y1(r[1],i[0]))>s&&(s=o,j0=i[0],k0=r[1])}return A0=T0=null,j0===1/0||N0===1/0?[[NaN,NaN],[NaN,NaN]]:[[j0,N0],[k0,S0]]},geoCentroid:function(e){q0=Y0=X0=Q0=Z0=J0=e1=t1=0,n1=new Kk,r1=new Kk,i1=new Kk,v0(e,w1);var t=+n1,n=+r1,r=+i1,i=t0(t,n,r);return i<WJ&&(t=J0,n=e1,r=t1,Y0<VJ&&(t=X0,n=Q0,r=Z0),(i=t0(t,n,r))<WJ)?[NaN,NaN]:[QJ(n,t)*GJ,c0(r/i)*GJ]},geoCircle:function(){var e,t,n=A1([0,0]),r=A1(90),i=A1(2),a={point:function(n,r){e.push(n=t(n,r)),n[0]*=GJ,n[1]*=GJ}};function s(){var s=n.apply(this,arguments),o=r.apply(this,arguments)*qJ,l=i.apply(this,arguments)*qJ;return e=[],t=D1(-s[0]*qJ,-s[1]*qJ,0).invert,B1(a,o,l,1),s={type:"Polygon",coordinates:[e]},e=t=null,s}return s.center=function(e){return arguments.length?(n="function"==typeof e?e:A1([+e[0],+e[1]]),s):n},s.radius=function(e){return arguments.length?(r="function"==typeof e?e:A1(+e),s):r},s.precision=function(e){return arguments.length?(i="function"==typeof e?e:A1(+e),s):i},s},geoClipAntimeridian:Z1,geoClipCircle:J1,geoClipExtent:function(){var e,t,n,r=0,i=0,a=960,s=500;return n={stream:function(n){return e&&t===n?e:e=s2(r,i,a,s)(t=n)},extent:function(o){return arguments.length?(r=+o[0][0],i=+o[0][1],a=+o[1][0],s=+o[1][1],e=t=null,n):[[r,i],[a,s]]}}},geoClipRectangle:s2,geoConicConformal:function(){return V4(Z4).scale(109.5).parallels([30,30])},geoConicConformalRaw:Z4,geoConicEqualArea:$4,geoConicEqualAreaRaw:W4,geoConicEquidistant:function(){return V4(e6).scale(131.154).center([0,13.9389])},geoConicEquidistantRaw:e6,geoContains:function(e,t){return(e&&g2.hasOwnProperty(e.type)?g2[e.type]:v2)(e,t)},geoDistance:m2,geoEqualEarth:function(){return F4(s6).scale(177.158)},geoEqualEarthRaw:s6,geoEquirectangular:function(){return F4(J4).scale(152.63)},geoEquirectangularRaw:J4,geoGnomonic:function(){return F4(o6).scale(144.049).clipAngle(60)},geoGnomonicRaw:o6,geoGraticule:k2,geoGraticule10:function(){return k2()()},geoIdentity:function(){var e,t,n,r,i,a,s,o=1,l=0,c=0,u=1,d=1,h=0,f=null,m=1,g=1,p=P4({point:function(e,t){var n=x([e,t]);this.stream.point(n[0],n[1])}}),v=S2;function y(){return m=o*u,g=o*d,a=s=null,x}function x(n){var r=n[0]*m,i=n[1]*g;if(h){var a=i*e-r*t;r=r*e+i*t,i=a}return[r+l,i+c]}return x.invert=function(n){var r=n[0]-l,i=n[1]-c;if(h){var a=i*e+r*t;r=r*e-i*t,i=a}return[r/m,i/g]},x.stream=function(e){return a&&s===e?a:a=p(v(s=e))},x.postclip=function(e){return arguments.length?(v=e,f=n=r=i=null,y()):v},x.clipExtent=function(e){return arguments.length?(v=null==e?(f=n=r=i=null,S2):s2(f=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),y()):null==f?null:[[f,n],[r,i]]},x.scale=function(e){return arguments.length?(o=+e,y()):o},x.translate=function(e){return arguments.length?(l=+e[0],c=+e[1],y()):[l,c]},x.angle=function(n){return arguments.length?(t=i0(h=n%360*qJ),e=ZJ(h),y()):h*GJ},x.reflectX=function(e){return arguments.length?(u=e?-1:1,y()):u<0},x.reflectY=function(e){return arguments.length?(d=e?-1:1,y()):d<0},x.fitExtent=function(e,t){return O4(x,e,t)},x.fitSize=function(e,t){return A4(x,e,t)},x.fitWidth=function(e,t){return T4(x,e,t)},x.fitHeight=function(e,t){return R4(x,e,t)},x},geoInterpolate:function(e,t){var n=e[0]*qJ,r=e[1]*qJ,i=t[0]*qJ,a=t[1]*qJ,s=ZJ(r),o=i0(r),l=ZJ(a),c=i0(a),u=s*ZJ(n),d=s*i0(n),h=l*ZJ(i),f=l*i0(i),m=2*c0(s0(u0(a-r)+s*l*u0(i-n))),g=i0(m),p=m?function(e){var t=i0(e*=m)/g,n=i0(m-e)/g,r=n*u+t*h,i=n*d+t*f,a=n*o+t*c;return[QJ(i,r)*GJ,QJ(a,s0(r*r+i*i))*GJ]}:function(){return[n*GJ,r*GJ]};return p.distance=m,p},geoLength:d2,geoMercator:function(){return X4(Y4).scale(961/UJ)},geoMercatorRaw:Y4,geoNaturalEarth1:function(){return F4(l6).scale(175.295)},geoNaturalEarth1Raw:l6,geoOrthographic:function(){return F4(c6).scale(249.5).clipAngle(90.000001)},geoOrthographicRaw:c6,geoPath:function(e,t){let n,r,i=3,a=4.5;function s(e){return e&&("function"==typeof a&&r.pointRadius(+a.apply(this,arguments)),v0(e,n(r))),r.result()}return s.area=function(e){return v0(e,n(T2)),T2.result()},s.measure=function(e){return v0(e,n(x4)),x4.result()},s.bounds=function(e){return v0(e,n(U2)),U2.result()},s.centroid=function(e){return v0(e,n(n4)),n4.result()},s.projection=function(t){return arguments.length?(n=null==t?(e=null,S2):(e=t).stream,s):e},s.context=function(e){return arguments.length?(r=null==e?(t=null,new S4(i)):new h4(t=e),"function"!=typeof a&&r.pointRadius(a),s):t},s.pointRadius=function(e){return arguments.length?(a="function"==typeof e?e:(r.pointRadius(+e),+e),s):a},s.digits=function(e){if(!arguments.length)return i;if(null==e)i=null;else{const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);i=t}return null===t&&(r=new S4(i)),s},s.projection(e).digits(i).context(t)},geoProjection:F4,geoProjectionMutator:B4,geoRotation:F1,geoStereographic:function(){return F4(u6).scale(250).clipAngle(142)},geoStereographicRaw:u6,geoStream:v0,geoTransform:function(e){return{stream:P4(e)}},geoTransverseMercator:function(){var e=X4(d6),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)},geoTransverseMercatorRaw:d6,gray:function(e,t){return new WC(e,0,0,null==t?1:t)},greatest:PS,greatestIndex:function(e,t=jk){if(1===t.length)return jS(e,t);let n,r=-1,i=-1;for(const a of e)++i,(r<0?0===t(a,a):t(a,n)>0)&&(n=a,r=i);return r},group:Jk,groupSort:function(e,t,n){return(2!==t.length?oS(nS(e,t,n),([e,t],[n,r])=>jk(t,r)||jk(e,n)):oS(Jk(e,n),([e,n],[r,i])=>t(n,i)||jk(e,r))).map(([e])=>e)},groups:eS,hcl:qC,hierarchy:p6,histogram:wS,hsl:CC,html:wJ,image:function(e,t){return new Promise(function(n,r){var i=new Image;for(var a in t)i[a]=t[a];i.onerror=r,i.onload=function(){n(i)},i.src=e})},index:function(e,...t){return aS(e,Zk,iS,t)},indexes:function(e,...t){return aS(e,Array.from,iS,t)},interpolate:PP,interpolateArray:function(e,t){return(bP(t)?xP:wP)(e,t)},interpolateBasis:lP,interpolateBasisClosed:cP,interpolateBlues:D3,interpolateBrBG:G5,interpolateBuGn:d3,interpolateBuPu:f3,interpolateCividis:function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+")"},interpolateCool:q3,interpolateCubehelix:UP,interpolateCubehelixDefault:U3,interpolateCubehelixLong:GP,interpolateDate:_P,interpolateDiscrete:function(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}},interpolateGnBu:g3,interpolateGreens:L3,interpolateGreys:F3,interpolateHcl:$P,interpolateHclLong:HP,interpolateHsl:BP,interpolateHslLong:VP,interpolateHue:function(e,t){var n=hP(+e,+t);return function(e){var t=n(e);return t-360*Math.floor(t/360)}},interpolateInferno:n8,interpolateLab:function(e,t){var n=mP((e=VC(e)).l,(t=VC(t)).l),r=mP(e.a,t.a),i=mP(e.b,t.b),a=mP(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=i(t),e.opacity=a(t),e+""}},interpolateMagma:t8,interpolateNumber:jP,interpolateNumberArray:xP,interpolateObject:NP,interpolateOrRd:v3,interpolateOranges:K3,interpolatePRGn:Y5,interpolatePiYG:Q5,interpolatePlasma:r8,interpolatePuBu:w3,interpolatePuBuGn:x3,interpolatePuOr:J5,interpolatePuRd:j3,interpolatePurples:V3,interpolateRainbow:function(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Y3.h=360*e-100,Y3.s=1.5-1.5*t,Y3.l=.8-.9*t,Y3+""},interpolateRdBu:t3,interpolateRdGy:r3,interpolateRdPu:k3,interpolateRdYlBu:a3,interpolateRdYlGn:o3,interpolateReds:$3,interpolateRgb:gP,interpolateRgbBasis:vP,interpolateRgbBasisClosed:yP,interpolateRound:EP,interpolateSinebow:function(e){var t;return e=(.5-e)*Math.PI,X3.r=255*(t=Math.sin(e))*t,X3.g=255*(t=Math.sin(e+Q3))*t,X3.b=255*(t=Math.sin(e+Z3))*t,X3+""},interpolateSpectral:c3,interpolateString:CP,interpolateTransformCss:DP,interpolateTransformSvg:IP,interpolateTurbo:function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"},interpolateViridis:e8,interpolateWarm:G3,interpolateYlGn:E3,interpolateYlGnBu:C3,interpolateYlOrBr:O3,interpolateYlOrRd:T3,interpolateZoom:zP,interrupt:iX,intersection:function(e,...t){e=new Gk(e),t=t.map(BS);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e},interval:function(e,t,n){var r=new KY,i=t;return null==t?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(e,t,n){t=+t,n=null==n?$Y():+n,r._restart(function a(s){s+=i,r._restart(a,i+=t,n),e(s)},t,n)},r.restart(e,t,n),r)},isoFormat:WA,isoParse:$A,json:function(e,t){return fetch(e,t).then(yJ)},lab:VC,lch:function(e,t,n,r){return 1===arguments.length?GC(e):new YC(n,t,e,null==r?1:r)},least:function(e,t=jk){let n,r=!1;if(1===t.length){let i;for(const a of e){const e=t(a);(r?jk(e,i)<0:0===jk(e,e))&&(n=a,i=e,r=!0)}}else for(const i of e)(r?t(i,n)<0:0===t(i,i))&&(n=i,r=!0);return n},leastIndex:DS,line:Sg,lineRadial:Rg,link:Hg,linkHorizontal:function(){return Hg(Fg)},linkRadial:function(){const e=Hg(Vg);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e},linkVertical:function(){return Hg(Bg)},local:vY,map:function(e,t){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof t)throw new TypeError("mapper is not a function");return Array.from(e,(n,r)=>t(n,r,e))},matcher:mq,max:_S,maxIndex:jS,mean:function(e,t){let n=0,r=0;if(void 0===t)for(let i of e)null!=i&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of e)null!=(a=t(a,++i,e))&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n},median:function(e,t){return ES(e,.5,t)},medianIndex:function(e,t){return OS(e,.5,t)},merge:AS,min:NS,minIndex:kS,mode:function(e,t){const n=new Uk;if(void 0===t)for(let a of e)null!=a&&a>=a&&n.set(a,(n.get(a)||0)+1);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&i>=i&&n.set(i,(n.get(i)||0)+1)}let r,i=0;for(const[a,s]of n)s>i&&(i=s,r=a);return r},namespace:aq,namespaces:iq,nice:xS,now:$Y,pack:function(){var e=null,t=1,n=1,r=N6;function i(i){const a=C6();return i.x=t/2,i.y=n/2,e?i.eachBefore(W6(e)).eachAfter($6(r,.5,a)).eachBefore(H6(1)):i.eachBefore(W6(V6)).eachAfter($6(N6,1,a)).eachAfter($6(r,i.r/Math.min(t,n),a)).eachBefore(H6(Math.min(t,n)/(2*i.r))),i}return i.radius=function(t){return arguments.length?(e=_6(t),i):e},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(e){return arguments.length?(r="function"==typeof e?e:k6(+e),i):r},i},packEnclose:function(e){return P6(e,C6())},packSiblings:function(e){return B6(e,C6()),e},pairs:function(e,t=TS){const n=[];let r,i=!1;for(const a of e)i&&n.push(t(r,a)),r=a,i=!0;return n},partition:function(){var e=1,t=1,n=0,r=!1;function i(i){var a=i.height+1;return i.x0=i.y0=n,i.x1=e,i.y1=t/a,i.eachBefore(function(e,t){return function(r){r.children&&U6(r,r.x0,e*(r.depth+1)/t,r.x1,e*(r.depth+2)/t);var i=r.x0,a=r.y0,s=r.x1-n,o=r.y1-n;s<i&&(i=s=(i+s)/2),o<a&&(a=o=(a+o)/2),r.x0=i,r.y0=a,r.x1=s,r.y1=o}}(t,a)),r&&i.eachBefore(K6),i}return i.round=function(e){return arguments.length?(r=!!e,i):r},i.size=function(n){return arguments.length?(e=+n[0],t=+n[1],i):[e,t]},i.padding=function(e){return arguments.length?(n=+e,i):n},i},path:hg,pathRound:function(e=3){return new dg(+e)},permute:sS,pie:function(){var e=Eg,t=Pg,n=null,r=Gm(0),i=Gm(ig),a=Gm(0);function s(s){var o,l,c,u,d,h=(s=wg(s)).length,f=0,m=new Array(h),g=new Array(h),p=+r.apply(this,arguments),v=Math.min(ig,Math.max(-ig,i.apply(this,arguments)-p)),y=Math.min(Math.abs(v)/h,a.apply(this,arguments)),x=y*(v<0?-1:1);for(o=0;o<h;++o)(d=g[m[o]=o]=+e(s[o],o,s))>0&&(f+=d);for(null!=t?m.sort(function(e,n){return t(g[e],g[n])}):null!=n&&m.sort(function(e,t){return n(s[e],s[t])}),o=0,c=f?(v-h*x)/f:0;o<h;++o,p=u)l=m[o],u=p+((d=g[l])>0?d*c:0)+x,g[l]={data:s[l],index:o,value:d,startAngle:p,endAngle:u,padAngle:y};return g}return s.value=function(t){return arguments.length?(e="function"==typeof t?t:Gm(+t),s):e},s.sortValues=function(e){return arguments.length?(t=e,n=null,s):t},s.sort=function(e){return arguments.length?(n=e,t=null,s):n},s.startAngle=function(e){return arguments.length?(r="function"==typeof e?e:Gm(+e),s):r},s.endAngle=function(e){return arguments.length?(i="function"==typeof e?e:Gm(+e),s):i},s.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:Gm(+e),s):a},s},piecewise:qP,pointRadial:Ig,pointer:bY,pointers:function(e,t){return e.target&&(e=xY(e),void 0===t&&(t=e.currentTarget),e=e.touches||[e]),Array.from(e,e=>bY(e,t))},polygonArea:function(e){for(var t,n=-1,r=e.length,i=e[r-1],a=0;++n<r;)t=i,i=e[n],a+=t[1]*i[0]-t[0]*i[1];return a/2},polygonCentroid:function(e){for(var t,n,r=-1,i=e.length,a=0,s=0,o=e[i-1],l=0;++r<i;)t=o,o=e[r],l+=n=t[0]*o[1]-o[0]*t[1],a+=(t[0]+o[0])*n,s+=(t[1]+o[1])*n;return[a/(l*=3),s/l]},polygonContains:function(e,t){for(var n,r,i=e.length,a=e[i-1],s=t[0],o=t[1],l=a[0],c=a[1],u=!1,d=0;d<i;++d)n=(a=e[d])[0],(r=a[1])>o!=c>o&&s<(l-n)*(o-r)/(c-r)+n&&(u=!u),l=n,c=r;return u},polygonHull:function(e){if((n=e.length)<3)return null;var t,n,r=new Array(n),i=new Array(n);for(t=0;t<n;++t)r[t]=[+e[t][0],+e[t][1],t];for(r.sort(h5),t=0;t<n;++t)i[t]=[r[t][0],-r[t][1]];var a=f5(r),s=f5(i),o=s[0]===a[0],l=s[s.length-1]===a[a.length-1],c=[];for(t=a.length-1;t>=0;--t)c.push(e[r[a[t]][2]]);for(t=+o;t<s.length-l;++t)c.push(e[r[s[t]][2]]);return c},polygonLength:function(e){for(var t,n,r=-1,i=e.length,a=e[i-1],s=a[0],o=a[1],l=0;++r<i;)t=s,n=o,t-=s=(a=e[r])[0],n-=o=a[1],l+=Math.hypot(t,n);return l},precisionFixed:bE,precisionPrefix:wE,precisionRound:_E,quadtree:CJ,quantile:ES,quantileIndex:OS,quantileSorted:MS,quantize:function(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n},quickselect:SS,radialArea:Dg,radialLine:Rg,randomBates:b5,randomBernoulli:j5,randomBeta:S5,randomBinomial:C5,randomCauchy:E5,randomExponential:w5,randomGamma:k5,randomGeometric:N5,randomInt:p5,randomIrwinHall:x5,randomLcg:function(e=Math.random()){let t=0|(0<=e&&e<1?e/A5:Math.abs(e));return()=>(t=1664525*t+1013904223|0,A5*(t>>>0))},randomLogNormal:y5,randomLogistic:M5,randomNormal:v5,randomPareto:_5,randomPoisson:O5,randomUniform:g5,randomWeibull:P5,range:RS,rank:function(e,t=jk){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");let n=Array.from(e);const r=new Float64Array(n.length);2!==t.length&&(n=n.map(t),t=jk);const i=(e,r)=>t(n[e],n[r]);let a,s;return(e=Uint32Array.from(n,(e,t)=>t)).sort(t===jk?(e,t)=>cS(n[e],n[t]):lS(i)),e.forEach((e,t)=>{const n=i(e,void 0===a?e:a);n>=0?((void 0===a||n>0)&&(a=e,s=t),r[e]=s):r[e]=NaN}),r},reduce:function(e,t,n){if("function"!=typeof t)throw new TypeError("reducer is not a function");const r=e[Symbol.iterator]();let i,a,s=-1;if(arguments.length<3){if(({done:i,value:n}=r.next()),i)return;++s}for(;({done:i,value:a}=r.next()),!i;)n=t(n,a,++s,e);return n},reverse:function(e){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(e).reverse()},rgb:yC,ribbon:function(){return YQ()},ribbonArrow:function(){return YQ(qQ)},rollup:nS,rollups:rS,scaleBand:GS,scaleDiverging:iT,scaleDivergingLog:aT,scaleDivergingPow:oT,scaleDivergingSqrt:lT,scaleDivergingSymlog:sT,scaleIdentity:SE,scaleImplicit:KS,scaleLinear:kE,scaleLog:DE,scaleOrdinal:US,scalePoint:YS,scalePow:HE,scaleQuantile:qE,scaleQuantize:YE,scaleRadial:GE,scaleSequential:QA,scaleSequentialLog:ZA,scaleSequentialPow:eT,scaleSequentialQuantile:nT,scaleSequentialSqrt:tT,scaleSequentialSymlog:JA,scaleSqrt:KE,scaleSymlog:FE,scaleThreshold:XE,scaleTime:GA,scaleUtc:qA,scan:function(e,t){const n=DS(e,t);return n<0?void 0:n},schemeAccent:D5,schemeBlues:R3,schemeBrBG:U5,schemeBuGn:u3,schemeBuPu:h3,schemeCategory10:R5,schemeDark2:I5,schemeGnBu:m3,schemeGreens:I3,schemeGreys:z3,schemeObservable10:L5,schemeOrRd:p3,schemeOranges:H3,schemePRGn:q5,schemePaired:z5,schemePastel1:F5,schemePastel2:B5,schemePiYG:X5,schemePuBu:b3,schemePuBuGn:y3,schemePuOr:Z5,schemePuRd:_3,schemePurples:B3,schemeRdBu:e3,schemeRdGy:n3,schemeRdPu:N3,schemeRdYlBu:i3,schemeRdYlGn:s3,schemeReds:W3,schemeSet1:V5,schemeSet2:W5,schemeSet3:$5,schemeSpectral:l3,schemeTableau10:H5,schemeYlGn:P3,schemeYlGnBu:S3,schemeYlOrBr:M3,schemeYlOrRd:A3,select:gY,selectAll:function(e){return"string"==typeof e?new fY([document.querySelectorAll(e)],[document.documentElement]):new fY([dq(e)],hY)},selection:mY,selector:uq,selectorAll:fq,shuffle:IS,shuffler:LS,some:function(e,t){if("function"!=typeof t)throw new TypeError("test is not a function");let n=-1;for(const r of e)if(t(r,++n,e))return!0;return!1},sort:oS,stack:dv,stackOffsetDiverging:function(e,t){if((o=e.length)>0)for(var n,r,i,a,s,o,l=0,c=e[t[0]].length;l<c;++l)for(a=s=0,n=0;n<o;++n)(i=(r=e[t[n]][l])[1]-r[0])>0?(r[0]=a,r[1]=a+=i):i<0?(r[1]=s,r[0]=s+=i):(r[0]=0,r[1]=i)},stackOffsetExpand:hv,stackOffsetNone:ov,stackOffsetSilhouette:fv,stackOffsetWiggle:mv,stackOrderAppearance:gv,stackOrderAscending:vv,stackOrderDescending:function(e){return vv(e).reverse()},stackOrderInsideOut:function(e){var t,n,r=e.length,i=e.map(yv),a=gv(e),s=0,o=0,l=[],c=[];for(t=0;t<r;++t)n=a[t],s<o?(s+=i[n],l.push(n)):(o+=i[n],c.push(n));return c.reverse().concat(l)},stackOrderNone:lv,stackOrderReverse:function(e){return lv(e).reverse()},stratify:function(){var e,t=X6,n=Q6;function r(r){var i,a,s,o,l,c,u,d,h=Array.from(r),f=t,m=n,g=new Map;if(null!=e){const t=h.map((t,n)=>function(e){let t=(e=`${e}`).length;return J6(e,t-1)&&!J6(e,t-2)&&(e=e.slice(0,-1)),"/"===e[0]?e:`/${e}`}(e(t,n,r))),n=t.map(Z6),i=new Set(t).add("");for(const e of n)i.has(e)||(i.add(e),t.push(e),n.push(Z6(e)),h.push(Y6));f=(e,n)=>t[n],m=(e,t)=>n[t]}for(s=0,i=h.length;s<i;++s)a=h[s],c=h[s]=new w6(a),null!=(u=f(a,s,r))&&(u+="")&&(d=c.id=u,g.set(d,g.has(d)?q6:c)),null!=(u=m(a,s,r))&&(u+="")&&(c.parent=u);for(s=0;s<i;++s)if(u=(c=h[s]).parent){if(!(l=g.get(u)))throw new Error("missing: "+u);if(l===q6)throw new Error("ambiguous: "+u);l.children?l.children.push(c):l.children=[c],c.parent=l}else{if(o)throw new Error("multiple roots");o=c}if(!o)throw new Error("no root");if(null!=e){for(;o.data===Y6&&1===o.children.length;)o=o.children[0],--i;for(let e=h.length-1;e>=0&&(c=h[e]).data===Y6;--e)c.data=null}if(o.parent=G6,o.eachBefore(function(e){e.depth=e.parent.depth+1,--i}).eachBefore(b6),o.parent=null,i>0)throw new Error("cycle");return o}return r.id=function(e){return arguments.length?(t=_6(e),r):t},r.parentId=function(e){return arguments.length?(n=_6(e),r):n},r.path=function(t){return arguments.length?(e=_6(t),r):e},r},style:Lq,subset:function(e,t){return VS(t,e)},sum:function(e,t){let n=0;if(void 0===t)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n},superset:VS,svg:_J,symbol:yp,symbolAsterisk:Ug,symbolCircle:Gg,symbolCross:qg,symbolDiamond:Qg,symbolDiamond2:Zg,symbolPlus:Jg,symbolSquare:ep,symbolSquare2:tp,symbolStar:ap,symbolTimes:gp,symbolTriangle:op,symbolTriangle2:cp,symbolWye:mp,symbolX:gp,symbols:pp,symbolsFill:pp,symbolsStroke:vp,text:mJ,thresholdFreedmanDiaconis:function(e,t,n){const r=zk(e),i=ES(e,.75)-ES(e,.25);return r&&i?Math.ceil((n-t)/(2*i*Math.pow(r,-1/3))):1},thresholdScott:function(e,t,n){const r=zk(e),i=$k(e);return r&&i?Math.ceil((n-t)*Math.cbrt(r)/(3.49*i)):1},thresholdSturges:bS,tickFormat:jE,tickIncrement:vS,tickStep:yS,ticks:pS,timeDay:xM,timeDays:bM,get timeFormat(){return xO},timeFormatDefaultLocale:BA,timeFormatLocale:vO,timeFriday:OM,timeFridays:zM,timeHour:gM,timeHours:pM,timeInterval:JE,timeMillisecond:eM,timeMilliseconds:tM,timeMinute:dM,timeMinutes:hM,timeMonday:CM,timeMondays:RM,timeMonth:tO,timeMonths:nO,get timeParse(){return bO},timeSaturday:AM,timeSaturdays:FM,timeSecond:cM,timeSeconds:uM,timeSunday:SM,timeSundays:TM,timeThursday:MM,timeThursdays:LM,timeTickInterval:fO,timeTicks:hO,timeTuesday:PM,timeTuesdays:DM,timeWednesday:EM,timeWednesdays:IM,timeWeek:SM,timeWeeks:TM,timeYear:aO,timeYears:sO,timeout:QY,timer:UY,timerFlush:GY,transition:kX,transpose:zS,tree:function(){var e=e5,t=1,n=1,r=null;function i(i){var l=function(e){for(var t,n,r,i,a,s=new a5(e,0),o=[s];t=o.pop();)if(r=t._.children)for(t.children=new Array(a=r.length),i=a-1;i>=0;--i)o.push(n=t.children[i]=new a5(r[i],i)),n.parent=t;return(s.parent=new a5(null,0)).children=[s],s}(i);if(l.eachAfter(a),l.parent.m=-l.z,l.eachBefore(s),r)i.eachBefore(o);else{var c=i,u=i,d=i;i.eachBefore(function(e){e.x<c.x&&(c=e),e.x>u.x&&(u=e),e.depth>d.depth&&(d=e)});var h=c===u?1:e(c,u)/2,f=h-c.x,m=t/(u.x+h+f),g=n/(d.depth||1);i.eachBefore(function(e){e.x=(e.x+f)*m,e.y=e.depth*g})}return i}function a(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n){!function(e){for(var t,n=0,r=0,i=e.children,a=i.length;--a>=0;)(t=i[a]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}(t);var a=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-a):t.z=a}else i&&(t.z=i.z+e(t._,i._));t.parent.A=function(t,n,r){if(n){for(var i,a=t,s=t,o=n,l=a.parent.children[0],c=a.m,u=s.m,d=o.m,h=l.m;o=n5(o),a=t5(a),o&&a;)l=t5(l),(s=n5(s)).a=t,(i=o.z+d-a.z-c+e(o._,a._))>0&&(r5(i5(o,t,r),t,i),c+=i,u+=i),d+=o.m,c+=a.m,h+=l.m,u+=s.m;o&&!n5(s)&&(s.t=o,s.m+=d-u),a&&!t5(l)&&(l.t=a,l.m+=c-h,r=t)}return r}(t,i,t.parent.A||r[0])}function s(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function o(e){e.x*=t,e.y=e.depth*n}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i},treemap:function(){var e=c5,t=!1,n=1,r=1,i=[0],a=N6,s=N6,o=N6,l=N6,c=N6;function u(e){return e.x0=e.y0=0,e.x1=n,e.y1=r,e.eachBefore(d),i=[0],t&&e.eachBefore(K6),e}function d(t){var n=i[t.depth],r=t.x0+n,u=t.y0+n,d=t.x1-n,h=t.y1-n;d<r&&(r=d=(r+d)/2),h<u&&(u=h=(u+h)/2),t.x0=r,t.y0=u,t.x1=d,t.y1=h,t.children&&(n=i[t.depth+1]=a(t)/2,r+=c(t)-n,u+=s(t)-n,(d-=o(t)-n)<r&&(r=d=(r+d)/2),(h-=l(t)-n)<u&&(u=h=(u+h)/2),e(t,r,u,d,h))}return u.round=function(e){return arguments.length?(t=!!e,u):t},u.size=function(e){return arguments.length?(n=+e[0],r=+e[1],u):[n,r]},u.tile=function(t){return arguments.length?(e=j6(t),u):e},u.padding=function(e){return arguments.length?u.paddingInner(e).paddingOuter(e):u.paddingInner()},u.paddingInner=function(e){return arguments.length?(a="function"==typeof e?e:k6(+e),u):a},u.paddingOuter=function(e){return arguments.length?u.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):u.paddingTop()},u.paddingTop=function(e){return arguments.length?(s="function"==typeof e?e:k6(+e),u):s},u.paddingRight=function(e){return arguments.length?(o="function"==typeof e?e:k6(+e),u):o},u.paddingBottom=function(e){return arguments.length?(l="function"==typeof e?e:k6(+e),u):l},u.paddingLeft=function(e){return arguments.length?(c="function"==typeof e?e:k6(+e),u):c},u},treemapBinary:function(e,t,n,r,i){var a,s,o=e.children,l=o.length,c=new Array(l+1);for(c[0]=s=a=0;a<l;++a)c[a+1]=s+=o[a].value;!function e(t,n,r,i,a,s,l){if(t>=n-1){var u=o[t];return u.x0=i,u.y0=a,u.x1=s,void(u.y1=l)}for(var d=c[t],h=r/2+d,f=t+1,m=n-1;f<m;){var g=f+m>>>1;c[g]<h?f=g+1:m=g}h-c[f-1]<c[f]-h&&t+1<f&&--f;var p=c[f]-d,v=r-p;if(s-i>l-a){var y=r?(i*v+s*p)/r:s;e(t,f,p,i,a,y,l),e(f,n,v,y,a,s,l)}else{var x=r?(a*v+l*p)/r:l;e(t,f,p,i,a,s,x),e(f,n,v,i,x,s,l)}}(0,l,e.value,t,n,r,i)},treemapDice:U6,treemapResquarify:u5,treemapSlice:s5,treemapSliceDice:function(e,t,n,r,i){(1&e.depth?s5:U6)(e,t,n,r,i)},treemapSquarify:c5,tsv:vJ,tsvFormat:aJ,tsvFormatBody:sJ,tsvFormatRow:lJ,tsvFormatRows:oJ,tsvFormatValue:cJ,tsvParse:rJ,tsvParseRows:iJ,union:function(...e){const t=new Gk;for(const n of e)for(const e of n)t.add(e);return t},unixDay:jM,unixDays:NM,utcDay:wM,utcDays:_M,get utcFormat(){return wO},utcFriday:UM,utcFridays:JM,utcHour:vM,utcHours:yM,utcMillisecond:eM,utcMilliseconds:tM,utcMinute:fM,utcMinutes:mM,utcMonday:WM,utcMondays:YM,utcMonth:rO,utcMonths:iO,get utcParse(){return _O},utcSaturday:GM,utcSaturdays:eO,utcSecond:cM,utcSeconds:uM,utcSunday:VM,utcSundays:qM,utcThursday:KM,utcThursdays:ZM,utcTickInterval:dO,utcTicks:uO,utcTuesday:$M,utcTuesdays:XM,utcWednesday:HM,utcWednesdays:QM,utcWeek:VM,utcWeeks:qM,utcYear:oO,utcYears:lO,variance:Wk,window:Tq,xml:bJ,zip:function(){return zS(arguments)},zoom:function(){var e,t,n,r=d8,i=h8,a=p8,s=m8,o=g8,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,d=zP,h=JG("start","zoom","end"),f=0,m=10;function g(e){e.property("__zoom",f8).on("wheel.zoom",_,{passive:!1}).on("mousedown.zoom",j).on("dblclick.zoom",N).filter(o).on("touchstart.zoom",k).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",C).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(e,t){return(t=Math.max(l[0],Math.min(l[1],t)))===e.k?e:new s8(t,e.x,e.y)}function v(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new s8(e.k,r,i)}function y(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function x(e,t,n,r){e.on("start.zoom",function(){b(this,arguments).event(r).start()}).on("interrupt.zoom end.zoom",function(){b(this,arguments).event(r).end()}).tween("zoom",function(){var e=this,a=arguments,s=b(e,a).event(r),o=i.apply(e,a),l=null==n?y(o):"function"==typeof n?n.apply(e,a):n,c=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),u=e.__zoom,h="function"==typeof t?t.apply(e,a):t,f=d(u.invert(l).concat(c/u.k),h.invert(l).concat(c/h.k));return function(e){if(1===e)e=h;else{var t=f(e),n=c/t[2];e=new s8(n,l[0]-t[0]*n,l[1]-t[1]*n)}s.zoom(null,e)}})}function b(e,t,n){return!n&&e.__zooming||new w(e,t)}function w(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=i.apply(e,t),this.taps=0}function _(e,...t){if(r.apply(this,arguments)){var n=b(this,t).event(e),i=this.__zoom,o=Math.max(l[0],Math.min(l[1],i.k*Math.pow(2,s.apply(this,arguments)))),u=bY(e);if(n.wheel)n.mouse[0][0]===u[0]&&n.mouse[0][1]===u[1]||(n.mouse[1]=i.invert(n.mouse[0]=u)),clearTimeout(n.wheel);else{if(i.k===o)return;n.mouse=[u,i.invert(u)],iX(this),n.start()}u8(e),n.wheel=setTimeout(function(){n.wheel=null,n.end()},150),n.zoom("mouse",a(v(p(i,o),n.mouse[0],n.mouse[1]),n.extent,c))}}function j(e,...t){if(!n&&r.apply(this,arguments)){var i=e.currentTarget,s=b(this,t,!0).event(e),o=gY(e.view).on("mousemove.zoom",function(e){if(u8(e),!s.moved){var t=e.clientX-u,n=e.clientY-d;s.moved=t*t+n*n>f}s.event(e).zoom("mouse",a(v(s.that.__zoom,s.mouse[0]=bY(e,i),s.mouse[1]),s.extent,c))},!0).on("mouseup.zoom",function(e){o.on("mousemove.zoom mouseup.zoom",null),SY(e.view,s.moved),u8(e),s.event(e).end()},!0),l=bY(e,i),u=e.clientX,d=e.clientY;kY(e.view),c8(e),s.mouse=[l,this.__zoom.invert(l)],iX(this),s.start()}}function N(e,...t){if(r.apply(this,arguments)){var n=this.__zoom,s=bY(e.changedTouches?e.changedTouches[0]:e,this),o=n.invert(s),l=n.k*(e.shiftKey?.5:2),d=a(v(p(n,l),s,o),i.apply(this,t),c);u8(e),u>0?gY(this).transition().duration(u).call(x,d,s,e):gY(this).call(g.transform,d,s,e)}}function k(n,...i){if(r.apply(this,arguments)){var a,s,o,l,c=n.touches,u=c.length,d=b(this,i,n.changedTouches.length===u).event(n);for(c8(n),s=0;s<u;++s)l=[l=bY(o=c[s],this),this.__zoom.invert(l),o.identifier],d.touch0?d.touch1||d.touch0[2]===l[2]||(d.touch1=l,d.taps=0):(d.touch0=l,a=!0,d.taps=1+!!e);e&&(e=clearTimeout(e)),a&&(d.taps<2&&(t=l[0],e=setTimeout(function(){e=null},500)),iX(this),d.start())}}function S(e,...t){if(this.__zooming){var n,r,i,s,o=b(this,t).event(e),l=e.changedTouches,u=l.length;for(u8(e),n=0;n<u;++n)i=bY(r=l[n],this),o.touch0&&o.touch0[2]===r.identifier?o.touch0[0]=i:o.touch1&&o.touch1[2]===r.identifier&&(o.touch1[0]=i);if(r=o.that.__zoom,o.touch1){var d=o.touch0[0],h=o.touch0[1],f=o.touch1[0],m=o.touch1[1],g=(g=f[0]-d[0])*g+(g=f[1]-d[1])*g,y=(y=m[0]-h[0])*y+(y=m[1]-h[1])*y;r=p(r,Math.sqrt(g/y)),i=[(d[0]+f[0])/2,(d[1]+f[1])/2],s=[(h[0]+m[0])/2,(h[1]+m[1])/2]}else{if(!o.touch0)return;i=o.touch0[0],s=o.touch0[1]}o.zoom("touch",a(v(r,i,s),o.extent,c))}}function C(e,...r){if(this.__zooming){var i,a,s=b(this,r).event(e),o=e.changedTouches,l=o.length;for(c8(e),n&&clearTimeout(n),n=setTimeout(function(){n=null},500),i=0;i<l;++i)a=o[i],s.touch0&&s.touch0[2]===a.identifier?delete s.touch0:s.touch1&&s.touch1[2]===a.identifier&&delete s.touch1;if(s.touch1&&!s.touch0&&(s.touch0=s.touch1,delete s.touch1),s.touch0)s.touch0[1]=this.__zoom.invert(s.touch0[0]);else if(s.end(),2===s.taps&&(a=bY(a,this),Math.hypot(t[0]-a[0],t[1]-a[1])<m)){var c=gY(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return g.transform=function(e,t,n,r){var i=e.selection?e.selection():e;i.property("__zoom",f8),e!==i?x(e,t,n,r):i.interrupt().each(function(){b(this,arguments).event(r).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()})},g.scaleBy=function(e,t,n,r){g.scaleTo(e,function(){return this.__zoom.k*("function"==typeof t?t.apply(this,arguments):t)},n,r)},g.scaleTo=function(e,t,n,r){g.transform(e,function(){var e=i.apply(this,arguments),r=this.__zoom,s=null==n?y(e):"function"==typeof n?n.apply(this,arguments):n,o=r.invert(s),l="function"==typeof t?t.apply(this,arguments):t;return a(v(p(r,l),s,o),e,c)},n,r)},g.translateBy=function(e,t,n,r){g.transform(e,function(){return a(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),c)},null,r)},g.translateTo=function(e,t,n,r,s){g.transform(e,function(){var e=i.apply(this,arguments),s=this.__zoom,o=null==r?y(e):"function"==typeof r?r.apply(this,arguments):r;return a(o8.translate(o[0],o[1]).scale(s.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,c)},r,s)},w.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=gY(this.that).datum();h.call(e,this.that,new a8(e,{sourceEvent:this.sourceEvent,target:g,transform:this.that.__zoom,dispatch:h}),t)}},g.wheelDelta=function(e){return arguments.length?(s="function"==typeof e?e:i8(+e),g):s},g.filter=function(e){return arguments.length?(r="function"==typeof e?e:i8(!!e),g):r},g.touchable=function(e){return arguments.length?(o="function"==typeof e?e:i8(!!e),g):o},g.extent=function(e){return arguments.length?(i="function"==typeof e?e:i8([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),g):i},g.scaleExtent=function(e){return arguments.length?(l[0]=+e[0],l[1]=+e[1],g):[l[0],l[1]]},g.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],g):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},g.constrain=function(e){return arguments.length?(a=e,g):a},g.duration=function(e){return arguments.length?(u=+e,g):u},g.interpolate=function(e){return arguments.length?(d=e,g):d},g.on=function(){var e=h.on.apply(h,arguments);return e===h?g:e},g.clickDistance=function(e){return arguments.length?(f=(e=+e)*e,g):Math.sqrt(f)},g.tapDistance=function(e){return arguments.length?(m=+e,g):m},g},zoomIdentity:o8,zoomTransform:l8},Symbol.toStringTag,{value:"Module"})),y8=a(v8);var x8,b8,w8,_8,j8,N8={exports:{}};function k8(){return b8?x8:(b8=1,x8="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}function S8(){if(_8)return w8;_8=1;var e=k8();function t(){}function n(){}return n.resetWarningCache=t,w8=function(){function r(t,n,r,i,a,s){if(s!==e){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function i(){return r}r.isRequired=r;var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a}}function C8(){return j8||(j8=1,N8.exports=S8()()),N8.exports}var P8,E8={};function M8(){if(P8)return E8;P8=1,Object.defineProperty(E8,"__esModule",{value:!0}),E8.setArcData=E8.addText=E8.calculateRotation=E8.updateDimensions=E8.centerGraph=E8.calculateRadius=void 0;var e=y8;E8.calculateRadius=function(e,n,r,i,a){e.current<2*n.current?r.current=(e.current-i.current.left-i.current.right)/2:r.current=n.current-i.current.top-i.current.bottom,t(e,a,r,i)};var t=function(e,t,n,r){r.current.left=e.current/2-n.current+r.current.right,t.current.attr("transform","translate("+r.current.left+", "+r.current.top+")")};E8.centerGraph=t,E8.updateDimensions=function(e,t,n,r,i){var a=e.marginInPercent,s=t.current.node().getBoundingClientRect(),o=s.width,l=s.height;n.current.left=o*a,n.current.right=o*a,r.current=o-n.current.left-n.current.right,n.current.top=l*a,n.current.bottom=l*a,i.current=r.current/2-n.current.top-n.current.bottom},E8.calculateRotation=function(e,t,n,r){var a=t.current*r,s=n.current/500*15,o=i(e),l=[0,-s/2],c=[l[0]-a*Math.cos(o),l[1]-a*Math.sin(o)],u=[l[0]-s*Math.cos(o-Math.PI/2),l[1]-s*Math.sin(o-Math.PI/2)],d=[l[0]-s*Math.cos(o+Math.PI/2),l[1]-s*Math.sin(o+Math.PI/2)];return"M ".concat(u[0]," ").concat(u[1]," L ").concat(c[0]," ").concat(c[1]," L ").concat(d[0]," ").concat(d[1])},E8.addText=function(e,t,n,i,a){var s=t.formatTextValue,o=t.fontSize,l=s?s(r(e)):r(e)+"%";a.current.append("g").attr("class","text-group").attr("transform","translate(".concat(n.current,", ").concat(n.current/2+20,")")).append("text").text(l).style("font-size",function(){return o||"".concat(i.current/11/(l.length>10?l.length/10:1),"px")}).style("fill",t.textColor).style("text-anchor","middle")},E8.setArcData=function(e,t,r,i){t.current=e.arcsLength?e.arcsLength.length:e.nrOfLevels,t.current===e.colors.length?r.current=e.colors:r.current=n(e,t),i.current=[];for(var a=0;a<t.current;a++){var s={value:e.arcsLength&&e.arcsLength.length>a?e.arcsLength[a]:1,color:r.current[a]};i.current.push(s)}};var n=function(t,n){for(var r=t.colors,i=(0,e.scaleLinear)().domain([1,n.current]).range([r[0],r[r.length-1]]).interpolate(e.interpolateHsl),a=[],s=1;s<=n.current;s++)a.push(i(s));return a},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Math.round(100*e*Math.pow(10,t))/Math.pow(10,t)},i=function(e){return e*Math.PI};return E8}var O8,A8,T8,R8,D8,I8,L8,z8,F8,B8,V8,W8,$8,H8,K8,U8,G8,q8,Y8,X8,Q8,Z8,J8,e7,t7,n7,r7,i7,a7,s7,o7,l7,c7,u7,d7,h7,f7,m7,g7,p7,v7,y7,x7,b7,w7,_7,j7,N7,k7,S7,C7,P7,E7,M7,O7,A7,T7,R7,D7,I7,L7,z7,F7,B7,V7,W7,$7,H7,K7,U7,G7,q7,Y7,X7,Q7,Z7,J7,e9,t9,n9,r9,i9,a9,s9,o9,l9,c9,u9,d9,h9,f9,m9,g9,p9,v9,y9,x9,b9,w9,_9,j9,N9,k9,S9,C9,P9,E9,M9,O9,A9,T9,R9,D9,I9,L9,z9,F9,B9,V9,W9,$9,H9,K9,U9,G9,q9,Y9,X9,Q9,Z9,J9={},eee={},tee={};function nee(){return I8?D8:(I8=1,D8=function(e,t){return e===t||e!=e&&t!=t})}function ree(){if(z8)return L8;z8=1;var e=nee();return L8=function(t,n){for(var r=t.length;r--;)if(e(t[r][0],n))return r;return-1}}function iee(){if(q8)return G8;q8=1;var e=R8?T8:(R8=1,T8=function(){this.__data__=[],this.size=0}),t=function(){if(B8)return F8;B8=1;var e=ree(),t=Array.prototype.splice;return F8=function(n){var r=this.__data__,i=e(r,n);return!(i<0||(i==r.length-1?r.pop():t.call(r,i,1),--this.size,0))}}(),n=function(){if(W8)return V8;W8=1;var e=ree();return V8=function(t){var n=this.__data__,r=e(n,t);return r<0?void 0:n[r][1]}}(),r=function(){if(H8)return $8;H8=1;var e=ree();return $8=function(t){return e(this.__data__,t)>-1}}(),i=function(){if(U8)return K8;U8=1;var e=ree();return K8=function(t,n){var r=this.__data__,i=e(r,t);return i<0?(++this.size,r.push([t,n])):r[i][1]=n,this}}();function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,G8=a}function aee(){if(i7)return r7;i7=1;var e="object"==typeof r&&r&&r.Object===Object&&r;return r7=e}function see(){if(s7)return a7;s7=1;var e=aee(),t="object"==typeof self&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return a7=n}function oee(){if(l7)return o7;l7=1;var e=see().Symbol;return o7=e}function lee(){if(m7)return f7;m7=1;var e=oee(),t=function(){if(u7)return c7;u7=1;var e=oee(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;return c7=function(e){var t=n.call(e,i),a=e[i];try{e[i]=void 0;var s=!0}catch(l){}var o=r.call(e);return s&&(t?e[i]=a:delete e[i]),o}}(),n=function(){if(h7)return d7;h7=1;var e=Object.prototype.toString;return d7=function(t){return e.call(t)}}(),r=e?e.toStringTag:void 0;return f7=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":r&&r in Object(e)?t(e):n(e)}}function cee(){return p7?g7:(p7=1,g7=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)})}function uee(){if(y7)return v7;y7=1;var e=lee(),t=cee();return v7=function(n){if(!t(n))return!1;var r=e(n);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r}}function dee(){if(_7)return w7;_7=1;var e,t=function(){if(b7)return x7;b7=1;var e=see()["__core-js_shared__"];return x7=e}(),n=(e=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";return w7=function(e){return!!n&&n in e}}function hee(){if(N7)return j7;N7=1;var e=Function.prototype.toString;return j7=function(t){if(null!=t){try{return e.call(t)}catch(n){}try{return t+""}catch(n){}}return""}}function fee(){if(M7)return E7;M7=1;var e=function(){if(S7)return k7;S7=1;var e=uee(),t=dee(),n=cee(),r=hee(),i=/^\[object .+?Constructor\]$/,a=Function.prototype,s=Object.prototype,o=a.toString,l=s.hasOwnProperty,c=RegExp("^"+o.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return k7=function(a){return!(!n(a)||t(a))&&(e(a)?c:i).test(r(a))}}(),t=P7?C7:(P7=1,C7=function(e,t){return null==e?void 0:e[t]});return E7=function(n,r){var i=t(n,r);return e(i)?i:void 0}}function mee(){if(A7)return O7;A7=1;var e=fee()(see(),"Map");return O7=e}function gee(){if(R7)return T7;R7=1;var e=fee()(Object,"create");return T7=e}function pee(){if(U7)return K7;U7=1;var e=function(){if(I7)return D7;I7=1;var e=gee();return D7=function(){this.__data__=e?e(null):{},this.size=0}}(),t=z7?L7:(z7=1,L7=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}),n=function(){if(B7)return F7;B7=1;var e=gee(),t=Object.prototype.hasOwnProperty;return F7=function(n){var r=this.__data__;if(e){var i=r[n];return"__lodash_hash_undefined__"===i?void 0:i}return t.call(r,n)?r[n]:void 0}}(),r=function(){if(W7)return V7;W7=1;var e=gee(),t=Object.prototype.hasOwnProperty;return V7=function(n){var r=this.__data__;return e?void 0!==r[n]:t.call(r,n)}}(),i=function(){if(H7)return $7;H7=1;var e=gee();return $7=function(t,n){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=e&&void 0===n?"__lodash_hash_undefined__":n,this}}();function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,K7=a}function vee(){if(Z7)return Q7;Z7=1;var e=X7?Y7:(X7=1,Y7=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e});return Q7=function(t,n){var r=t.__data__;return e(n)?r["string"==typeof n?"string":"hash"]:r.map}}function yee(){if(l9)return o9;l9=1;var e=function(){if(q7)return G7;q7=1;var e=pee(),t=iee(),n=mee();return G7=function(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}}(),t=function(){if(e9)return J7;e9=1;var e=vee();return J7=function(t){var n=e(this,t).delete(t);return this.size-=n?1:0,n}}(),n=function(){if(n9)return t9;n9=1;var e=vee();return t9=function(t){return e(this,t).get(t)}}(),r=function(){if(i9)return r9;i9=1;var e=vee();return r9=function(t){return e(this,t).has(t)}}(),i=function(){if(s9)return a9;s9=1;var e=vee();return a9=function(t,n){var r=e(this,t),i=r.size;return r.set(t,n),this.size+=r.size==i?0:1,this}}();function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,o9=a}function xee(){if(h9)return d9;h9=1;var e=iee(),t=function(){if(X8)return Y8;X8=1;var e=iee();return Y8=function(){this.__data__=new e,this.size=0}}(),n=Z8?Q8:(Z8=1,Q8=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}),r=e7?J8:(e7=1,J8=function(e){return this.__data__.get(e)}),i=n7?t7:(n7=1,t7=function(e){return this.__data__.has(e)}),a=function(){if(u9)return c9;u9=1;var e=iee(),t=mee(),n=yee();return c9=function(r,i){var a=this.__data__;if(a instanceof e){var s=a.__data__;if(!t||s.length<199)return s.push([r,i]),this.size=++a.size,this;a=this.__data__=new n(s)}return a.set(r,i),this.size=a.size,this}}();function s(t){var n=this.__data__=new e(t);this.size=n.size}return s.prototype.clear=t,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=a,d9=s}function bee(){if(y9)return v9;y9=1;var e=yee(),t=m9?f9:(m9=1,f9=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}),n=p9?g9:(p9=1,g9=function(e){return this.__data__.has(e)});function r(t){var n=-1,r=null==t?0:t.length;for(this.__data__=new e;++n<r;)this.add(t[n])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,v9=r}function wee(){if(N9)return j9;N9=1;var e=bee(),t=b9?x9:(b9=1,x9=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}),n=_9?w9:(_9=1,w9=function(e,t){return e.has(t)});return j9=function(r,i,a,s,o,l){var c=1&a,u=r.length,d=i.length;if(u!=d&&!(c&&d>u))return!1;var h=l.get(r),f=l.get(i);if(h&&f)return h==i&&f==r;var m=-1,g=!0,p=2&a?new e:void 0;for(l.set(r,i),l.set(i,r);++m<u;){var v=r[m],y=i[m];if(s)var x=c?s(y,v,m,i,r,l):s(v,y,m,r,i,l);if(void 0!==x){if(x)continue;g=!1;break}if(p){if(!t(i,function(e,t){if(!n(p,t)&&(v===e||o(v,e,a,s,l)))return p.push(t)})){g=!1;break}}else if(v!==y&&!o(v,y,a,s,l)){g=!1;break}}return l.delete(r),l.delete(i),g}}function _ee(){if(A9)return O9;A9=1;var e=oee(),t=function(){if(S9)return k9;S9=1;var e=see().Uint8Array;return k9=e}(),n=nee(),r=wee(),i=P9?C9:(P9=1,C9=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}),a=M9?E9:(M9=1,E9=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}),s=e?e.prototype:void 0,o=s?s.valueOf:void 0;return O9=function(e,s,l,c,u,d,h){switch(l){case"[object DataView]":if(e.byteLength!=s.byteLength||e.byteOffset!=s.byteOffset)return!1;e=e.buffer,s=s.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=s.byteLength||!d(new t(e),new t(s)));case"[object Boolean]":case"[object Date]":case"[object Number]":return n(+e,+s);case"[object Error]":return e.name==s.name&&e.message==s.message;case"[object RegExp]":case"[object String]":return e==s+"";case"[object Map]":var f=i;case"[object Set]":var m=1&c;if(f||(f=a),e.size!=s.size&&!m)return!1;var g=h.get(e);if(g)return g==s;c|=2,h.set(e,s);var p=r(f(e),f(s),c,u,d,h);return h.delete(e),p;case"[object Symbol]":if(o)return o.call(e)==o.call(s)}return!1}}function jee(){if(I9)return D9;I9=1;var e=Array.isArray;return D9=e}function Nee(){if(z9)return L9;z9=1;var e=R9?T9:(R9=1,T9=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}),t=jee();return L9=function(n,r,i){var a=r(n);return t(n)?a:e(a,i(n))}}function kee(){if(H9)return $9;H9=1;var e=B9?F9:(B9=1,F9=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var s=e[n];t(s,n,e)&&(a[i++]=s)}return a}),t=W9?V9:(W9=1,V9=function(){return[]}),n=Object.prototype.propertyIsEnumerable,r=Object.getOwnPropertySymbols;return $9=r?function(t){return null==t?[]:(t=Object(t),e(r(t),function(e){return n.call(t,e)}))}:t}function See(){return q9?G9:(q9=1,G9=function(e){return null!=e&&"object"==typeof e})}function Cee(){if(Z9)return Q9;Z9=1;var e=function(){if(X9)return Y9;X9=1;var e=lee(),t=See();return Y9=function(n){return t(n)&&"[object Arguments]"==e(n)}}(),t=See(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=e(function(){return arguments}())?e:function(e){return t(e)&&r.call(e,"callee")&&!i.call(e,"callee")};return Q9=a}var Pee,Eee,Mee,Oee,Aee,Tee,Ree,Dee,Iee,Lee,zee,Fee={exports:{}};function Bee(){return Mee||(Mee=1,e=Fee,t=Fee.exports,n=see(),r=Eee?Pee:(Eee=1,Pee=function(){return!1}),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,s=a&&a.exports===i?n.Buffer:void 0,o=(s?s.isBuffer:void 0)||r,e.exports=o),Fee.exports;var e,t,n,r,i,a,s,o}function Vee(){return Ree?Tee:(Ree=1,Tee=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991})}var Wee,$ee,Hee,Kee,Uee,Gee,qee,Yee,Xee,Qee,Zee,Jee,ete,tte,nte,rte,ite,ate,ste,ote,lte,cte,ute,dte,hte,fte,mte,gte,pte,vte,yte,xte,bte,wte,_te,jte,Nte,kte,Ste,Cte,Pte={exports:{}};function Ete(){if(Hee)return $ee;Hee=1;var e=function(){if(Iee)return Dee;Iee=1;var e=lee(),t=Vee(),n=See(),r={};return r["[object Float32Array]"]=r["[object Float64Array]"]=r["[object Int8Array]"]=r["[object Int16Array]"]=r["[object Int32Array]"]=r["[object Uint8Array]"]=r["[object Uint8ClampedArray]"]=r["[object Uint16Array]"]=r["[object Uint32Array]"]=!0,r["[object Arguments]"]=r["[object Array]"]=r["[object ArrayBuffer]"]=r["[object Boolean]"]=r["[object DataView]"]=r["[object Date]"]=r["[object Error]"]=r["[object Function]"]=r["[object Map]"]=r["[object Number]"]=r["[object Object]"]=r["[object RegExp]"]=r["[object Set]"]=r["[object String]"]=r["[object WeakMap]"]=!1,Dee=function(i){return n(i)&&t(i.length)&&!!r[e(i)]}}(),t=zee?Lee:(zee=1,Lee=function(e){return function(t){return e(t)}}),n=function(){return Wee||(Wee=1,e=Pte,t=Pte.exports,n=aee(),r=t&&!t.nodeType&&t,i=r&&e&&!e.nodeType&&e,a=i&&i.exports===r&&n.process,s=function(){try{return i&&i.require&&i.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}(),e.exports=s),Pte.exports;var e,t,n,r,i,a,s}(),r=n&&n.isTypedArray,i=r?t(r):e;return $ee=i}function Mte(){if(Uee)return Kee;Uee=1;var e=U9?K9:(U9=1,K9=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}),t=Cee(),n=jee(),r=Bee(),i=function(){if(Aee)return Oee;Aee=1;var e=/^(?:0|[1-9]\d*)$/;return Oee=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n}}(),a=Ete(),s=Object.prototype.hasOwnProperty;return Kee=function(o,l){var c=n(o),u=!c&&t(o),d=!c&&!u&&r(o),h=!c&&!u&&!d&&a(o),f=c||u||d||h,m=f?e(o.length,String):[],g=m.length;for(var p in o)!l&&!s.call(o,p)||f&&("length"==p||d&&("offset"==p||"parent"==p)||h&&("buffer"==p||"byteLength"==p||"byteOffset"==p)||i(p,g))||m.push(p);return m}}function Ote(){if(Zee)return Qee;Zee=1;var e=(Xee?Yee:(Xee=1,Yee=function(e,t){return function(n){return e(t(n))}}))(Object.keys,Object);return Qee=e}function Ate(){if(ete)return Jee;ete=1;var e=function(){if(qee)return Gee;qee=1;var e=Object.prototype;return Gee=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}}(),t=Ote(),n=Object.prototype.hasOwnProperty;return Jee=function(r){if(!e(r))return t(r);var i=[];for(var a in Object(r))n.call(r,a)&&"constructor"!=a&&i.push(a);return i}}function Tte(){if(ite)return rte;ite=1;var e=Mte(),t=Ate(),n=function(){if(nte)return tte;nte=1;var e=uee(),t=Vee();return tte=function(n){return null!=n&&t(n.length)&&!e(n)}}();return rte=function(r){return n(r)?e(r):t(r)}}function Rte(){if(lte)return ote;lte=1;var e=function(){if(ste)return ate;ste=1;var e=Nee(),t=kee(),n=Tte();return ate=function(r){return e(r,n,t)}}(),t=Object.prototype.hasOwnProperty;return ote=function(n,r,i,a,s,o){var l=1&i,c=e(n),u=c.length;if(u!=e(r).length&&!l)return!1;for(var d=u;d--;){var h=c[d];if(!(l?h in r:t.call(r,h)))return!1}var f=o.get(n),m=o.get(r);if(f&&m)return f==r&&m==n;var g=!0;o.set(n,r),o.set(r,n);for(var p=l;++d<u;){var v=n[h=c[d]],y=r[h];if(a)var x=l?a(y,v,h,r,n,o):a(v,y,h,n,r,o);if(!(void 0===x?v===y||s(v,y,i,a,o):x)){g=!1;break}p||(p="constructor"==h)}if(g&&!p){var b=n.constructor,w=r.constructor;b==w||!("constructor"in n)||!("constructor"in r)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(g=!1)}return o.delete(n),o.delete(r),g}}function Dte(){if(yte)return vte;yte=1;var e=function(){if(ute)return cte;ute=1;var e=fee()(see(),"DataView");return cte=e}(),t=mee(),n=function(){if(hte)return dte;hte=1;var e=fee()(see(),"Promise");return dte=e}(),r=function(){if(mte)return fte;mte=1;var e=fee()(see(),"Set");return fte=e}(),i=function(){if(pte)return gte;pte=1;var e=fee()(see(),"WeakMap");return gte=e}(),a=lee(),s=hee(),o="[object Map]",l="[object Promise]",c="[object Set]",u="[object WeakMap]",d="[object DataView]",h=s(e),f=s(t),m=s(n),g=s(r),p=s(i),v=a;return(e&&v(new e(new ArrayBuffer(1)))!=d||t&&v(new t)!=o||n&&v(n.resolve())!=l||r&&v(new r)!=c||i&&v(new i)!=u)&&(v=function(e){var t=a(e),n="[object Object]"==t?e.constructor:void 0,r=n?s(n):"";if(r)switch(r){case h:return d;case f:return o;case m:return l;case g:return c;case p:return u}return t}),vte=v}function Ite(){if(_te)return wte;_te=1;var e=function(){if(bte)return xte;bte=1;var e=xee(),t=wee(),n=_ee(),r=Rte(),i=Dte(),a=jee(),s=Bee(),o=Ete(),l="[object Arguments]",c="[object Array]",u="[object Object]",d=Object.prototype.hasOwnProperty;return xte=function(h,f,m,g,p,v){var y=a(h),x=a(f),b=y?c:i(h),w=x?c:i(f),_=(b=b==l?u:b)==u,j=(w=w==l?u:w)==u,N=b==w;if(N&&s(h)){if(!s(f))return!1;y=!0,_=!1}if(N&&!_)return v||(v=new e),y||o(h)?t(h,f,m,g,p,v):n(h,f,b,m,g,p,v);if(!(1&m)){var k=_&&d.call(h,"__wrapped__"),S=j&&d.call(f,"__wrapped__");if(k||S){var C=k?h.value():h,P=S?f.value():f;return v||(v=new e),p(C,P,m,g,v)}}return!!N&&(v||(v=new e),r(h,f,m,g,p,v))}}(),t=See();return wte=function n(r,i,a,s,o){return r===i||(null==r||null==i||!t(r)&&!t(i)?r!=r&&i!=i:e(r,i,a,s,n,o))},wte}function Lte(){if(kte)return tee;kte=1,Object.defineProperty(tee,"__esModule",{value:!0}),tee.default=void 0;var e,t=(e=function(){if(Nte)return jte;Nte=1;var e=Ite();return jte=function(t,n){return e(t,n)}}())&&e.__esModule?e:{default:e},n=N(),r=function(e){var r,i,a=(0,n.useRef)(null);return r=e,i=a.current,(0,t.default)(r,i)&&(a.current=e),a.current},i=function(e,t){(0,n.useEffect)(e,[r(t),e])};return tee.default=i,tee}function zte(){if(Ste)return $G;Ste=1,Object.defineProperty($G,"__esModule",{value:!0}),$G.default=void 0;var e=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(N()),t=y8,n=o(C8()),r=M8(),i=function(){if(O8)return J9;O8=1,Object.defineProperty(J9,"__esModule",{value:!0}),J9.renderChart=void 0;var e=M8();return J9.renderChart=function(t,n,r,i,a,s,o,l,c,u,d,h,f,m,g){(0,e.updateDimensions)(f,m,i,r,a),h.current.attr("width",r.current+i.current.left+i.current.right).attr("height",a.current+i.current.top+i.current.bottom),o.current.attr("transform","translate("+i.current.left+", "+i.current.top+")"),(0,e.calculateRadius)(r,a,s,i,o),l.current.attr("transform","translate("+s.current+", "+s.current+")"),c.current.outerRadius(s.current).innerRadius(s.current*(1-f.arcWidth)).cornerRadius(f.cornerRadius).padAngle(f.arcPadding),l.current.selectAll(".arc").remove(),o.current.selectAll(".text-group").remove(),l.current.selectAll(".arc").data(d.current(g.current)).enter().append("g").attr("class","arc").append("path").attr("d",c.current).style("fill",function(e){return e.data.color})},J9}(),a=function(){if(A8)return eee;A8=1,Object.defineProperty(eee,"__esModule",{value:!0}),eee.drawNeedle=void 0;var e=y8,t=M8();return eee.drawNeedle=function(n,r,i,a,s,o,l,c){var u=i.percent,d=i.needleColor,h=i.needleBaseColor,f=i.hideText,m=i.animate,g=i.needleScale,p=i.textComponent,v=a.current/500*15,y=[0,-v/2];s.current.selectAll("*").remove(),s.current.attr("transform","translate("+l.current+", "+l.current+")");var x=r?r.percent:0,b=(0,t.calculateRotation)(x||u,l,a,g);s.current.append("path").attr("d",b).attr("fill",d),s.current.append("circle").attr("cx",y[0]).attr("cy",y[1]).attr("r",v).attr("fill",h),f||p||(0,t.addText)(u,i,l,a,c),!n&&m?s.current.transition().delay(i.animDelay).ease(e.easeElastic).duration(i.animateDuration).tween("progress",function(){var n=(0,e.interpolateNumber)(x,u);return function(e){var r=n(e);return o.current.select(".needle path").attr("d",(0,t.calculateRotation)(r,l,a,g))}}):o.current.select(".needle path").attr("d",(0,t.calculateRotation)(u,l,a,g))},eee}(),s=o(Lte());function o(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){d(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=-Math.PI/2,f=Math.PI/2,m=["marginInPercent","arcPadding","percent","nrOfLevels","animDelay"],g={style:{width:"100%"},marginInPercent:.05,cornerRadius:6,nrOfLevels:3,percent:.4,arcPadding:.05,arcWidth:.2,colors:["#00FF00","#FF0000"],textColor:"#fff",needleColor:"#464A4F",needleBaseColor:"#464A4F",hideText:!1,animate:!0,animDelay:500,formatTextValue:null,fontSize:null,animateDuration:3e3,textComponent:void 0,needleScale:.55,customNeedleComponent:null},p=function(n){var o=(0,e.useMemo)(function(){return u(u({},g),n)},[n]),l=(0,e.useRef)({}),c=(0,e.useRef)({}),d=(0,e.useRef)({}),p=(0,e.useRef)({}),v=(0,e.useRef)({}),y=(0,e.useRef)({}),x=(0,e.useRef)({}),b=(0,e.useRef)({}),w=(0,e.useRef)({}),_=(0,e.useRef)(0),j=(0,e.useRef)([]),N=(0,e.useRef)((0,t.arc)()),k=(0,e.useRef)([]),S=(0,e.useRef)((0,t.pie)()),C=(0,e.useRef)(o),P=(0,e.useRef)({}),E=(0,e.useCallback)(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;if(e)return(0,i.renderChart)(t,n,d,b,p,x,c,v,N,y,S,l,o,w,k),void(!D&&(0,a.drawNeedle)(t,n,o,d,y,w,x,c));w.current.select("svg").remove(),l.current=w.current.append("svg"),c.current=l.current.append("g"),v.current=c.current.append("g").attr("class","doughnut"),S.current.value(function(e){return e.value}).startAngle(h).endAngle(f).sort(null),y.current=c.current.append("g").attr("class","needle"),(0,i.renderChart)(t,n,d,b,p,x,c,v,N,y,S,l,o,w,k),!D&&(0,a.drawNeedle)(t,n,o,d,y,w,x,c)},[o]);(0,e.useLayoutEffect)(function(){(0,r.setArcData)(o,_,j,k),w.current=(0,t.select)(P),E()},[o,E]),(0,s.default)(function(){(o.nrOfLevels||C.current.arcsLength.every(function(e){return o.arcsLength.includes(e)})||C.current.colors.every(function(e){return o.colors.includes(e)}))&&(0,r.setArcData)(o,_,j,k);var e=!m.some(function(e){return C.current[e]!==o[e]});E(!0,e,C.current),C.current=o},[o.nrOfLevels,o.arcsLength,o.colors,o.percent,o.needleColor,o.needleBaseColor]),(0,e.useEffect)(function(){var e=function(){var e=!0;(0,i.renderChart)(e,C,d,b,p,x,c,v,N,y,S,l,o,w,k),!D&&(0,a.drawNeedle)(e,C,o,d,y,w,x,c)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[o]);var M=o.id,O=o.style,A=o.className,T=o.textComponent,R=o.textComponentContainerClassName,D=o.customNeedleComponent,I=o.customNeedleStyle,L=o.customNeedleComponentClassName;return e.default.createElement("div",{id:M,className:A,style:O},e.default.createElement("div",{ref:function(e){return P=e}},e.default.createElement("div",{className:R,style:{position:"relative",top:"50%"}},T)),D&&e.default.createElement("div",{className:L,style:u({position:"relative"},I)},D))},v=p;return $G.default=v,p.propTypes={id:n.default.string,className:n.default.string,style:n.default.object,marginInPercent:n.default.number,cornerRadius:n.default.number,nrOfLevels:n.default.number,percent:n.default.number,arcPadding:n.default.number,arcWidth:n.default.number,arcsLength:n.default.array,colors:n.default.array,textColor:n.default.string,needleColor:n.default.string,needleBaseColor:n.default.string,hideText:n.default.bool,animate:n.default.bool,formatTextValue:n.default.func,fontSize:n.default.string,animateDuration:n.default.number,animDelay:n.default.number,textComponent:n.default.element,textComponentContainerClassName:n.default.string,needleScale:n.default.number,customNeedleComponent:n.default.element,customNeedleComponentClassName:n.default.string,customNeedleStyle:n.default.object},$G}const Fte=i(function(){if(Cte)return WG;var e;Cte=1,Object.defineProperty(WG,"__esModule",{value:!0}),WG.default=void 0;var t=((e=zte())&&e.__esModule?e:{default:e}).default;return WG.default=t,WG}()),Bte=e=>e<25?"text-red-600":e<45?"text-orange-500":e<=55?"text-yellow-500":e<=75?"text-green-500":"text-green-600",Vte=({value:e,sentiment:t})=>{const n=e/100;return b.jsx("div",{className:"relative w-full h-48 flex items-center justify-center",children:b.jsxs("div",{className:"relative",children:[b.jsx(Fte,{id:"greed-fear-gauge",nrOfLevels:5,percent:n,colors:["#dc2626","#f97316","#eab308","#22c55e","#16a34a"],arcWidth:.3,textColor:"#374151",needleColor:"#2E2E2E",needleBaseColor:"#2E2E2E",hideText:!0,animate:!0,formatTextValue:()=>e.toFixed(1)}),b.jsxs("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 text-center",children:[b.jsx("div",{className:`text-4xl font-bold ${Bte(e)}`,children:e.toFixed(1)}),b.jsx("div",{className:"text-lg text-gray-500",children:t})]})]})})};function Wte(){const{data:e,loading:t,error:n}=Df("analyze_greed_fear"),r=S.useMemo(()=>e?f(h({},e),{last_20_days:e.last_20_days.map(e=>f(h({},e),{formattedDate:new Date(e.date).toLocaleDateString("vi-VN",{month:"short",day:"numeric"}),greed_fear_index:e.greed_fear_index_smoothed,change:e.change_smoothed}))}):null,[e]);if(t)return b.jsx(Ke,{children:b.jsx("div",{className:"flex items-center justify-center h-64",children:b.jsx("div",{className:"text-gray-500",children:"Đang tải dữ liệu chỉ số Greed & Fear..."})})});if(n)return b.jsx(Ke,{children:b.jsx("div",{className:"flex items-center justify-center h-64",children:b.jsx("div",{className:"text-red-500",children:"Không thể tải dữ liệu chỉ số Greed & Fear"})})});if(!r)return null;const i=r.latest_value_smoothed,a=r.latest_sentiment_smoothed,s=r.last_20_days[r.last_20_days.length-1];r.last_20_days[r.last_20_days.length-2];const o=s.change||0;return b.jsx(Ke,{children:b.jsxs("div",{className:"p-6",children:[b.jsx("div",{className:"flex items-center justify-between mb-6",children:b.jsxs("div",{children:[b.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Chỉ số Greed & Fear"}),b.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["Cập nhật lúc: ",new Date(r.generated_at).toLocaleString("vi-VN")]})]})}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[b.jsxs("div",{className:"lg:col-span-1 flex flex-col",children:[b.jsxs("div",{className:"flex-shrink-0",children:[b.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800 dark:text-gray-200",children:"Tâm lý hiện tại"}),b.jsx(Vte,{value:i,sentiment:a}),b.jsx("hr",{className:"my-6 border-gray-200 dark:border-gray-700"}),b.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800 dark:text-gray-200",children:"Chỉ số chính"})]}),b.jsxs("div",{className:"space-y-3 flex-shrink-0",children:[b.jsxs("div",{className:"flex justify-between items-center text-sm",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Giá trị hiện tại"}),b.jsx("span",{className:`font-bold ${Bte(i)}`,children:i.toFixed(2)})]}),b.jsxs("div",{className:"flex justify-between items-center text-sm",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Thay đổi hàng ngày"}),b.jsxs("span",{className:"font-bold flex items-center "+(o>0?"text-green-600":o<0?"text-red-600":"text-yellow-500"),children:[o>0?b.jsx(ee,{size:14,className:"mr-1"}):o<0?b.jsx(Z,{size:14,className:"mr-1"}):b.jsx(Ce,{size:14,className:"mr-1"}),o.toFixed(2)]})]}),b.jsxs("div",{className:"flex justify-between items-center text-sm",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"RSI 14 ngày"}),b.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:r.components.rsi14?r.components.rsi14.toFixed(2):"N/A"})]}),b.jsxs("div",{className:"flex justify-between items-center text-sm",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Độ biến động"}),b.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:r.components.volatility?r.components.volatility.toFixed(2):"N/A"})]}),b.jsxs("div",{className:"flex justify-between items-center text-sm",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tỷ lệ khối lượng"}),b.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:r.components.volume_ratio?r.components.volume_ratio.toFixed(2):"N/A"})]}),b.jsxs("div",{className:"flex justify-between items-center text-sm",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Momentum thị trường"}),b.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:r.components.market_momentum?r.components.market_momentum.toFixed(2):"N/A"})]}),b.jsxs("div",{className:"flex justify-between items-center text-sm",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Sức mạnh giá"}),b.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:r.components.price_strength?r.components.price_strength.toFixed(2):"N/A"})]})]})]}),b.jsxs("div",{className:"lg:col-span-2 flex flex-col",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-4 flex-shrink-0",children:"Diễn biến chỉ số (20 ngày gần nhất)"}),b.jsx("div",{className:"flex-grow",children:b.jsx(oF,{width:"100%",height:400,children:b.jsxs(SG,{data:r.last_20_days,margin:{top:5,right:20,left:-20,bottom:5},children:[b.jsx(bH,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),b.jsx(mU,{dataKey:"formattedDate",stroke:"#6b7280",fontSize:12,tickLine:!1,axisLine:!1}),b.jsx(_U,{domain:[0,100],stroke:"#6b7280",fontSize:12,tickLine:!1,axisLine:!1}),b.jsx(F$,{y1:80,y2:100,fill:"#86efac",fillOpacity:.2,stroke:"none"}),b.jsx(F$,{y1:60,y2:80,fill:"#bbf7d0",fillOpacity:.2,stroke:"none"}),b.jsx(F$,{y1:40,y2:60,fill:"#fef3c7",fillOpacity:.2,stroke:"none"}),b.jsx(F$,{y1:20,y2:40,fill:"#fed7aa",fillOpacity:.2,stroke:"none"}),b.jsx(F$,{y1:0,y2:20,fill:"#fecaca",fillOpacity:.2,stroke:"none"}),b.jsx(F$,{y1:80,y2:80,fill:"none",stroke:"#16a34a",strokeWidth:1,strokeDasharray:"3 3"}),b.jsx(F$,{y1:60,y2:60,fill:"none",stroke:"#22c55e",strokeWidth:1,strokeDasharray:"3 3"}),b.jsx(F$,{y1:40,y2:40,fill:"none",stroke:"#eab308",strokeWidth:1,strokeDasharray:"3 3"}),b.jsx(F$,{y1:20,y2:20,fill:"none",stroke:"#f97316",strokeWidth:1,strokeDasharray:"3 3"}),b.jsx(Hz,{contentStyle:{backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"0.5rem",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)"},labelStyle:{color:"#1f2937",fontWeight:"bold"},itemStyle:{color:"#374151"}}),b.jsx(GH,{type:"monotone",dataKey:"greed_fear_index",name:"Chỉ số",stroke:(l=i,l<25?"#dc2626":l<45?"#f97316":l<=55?"#eab308":l<=75?"#22c55e":"#16a34a"),strokeWidth:2,dot:{r:3},activeDot:{r:6}})]})})})]})]})]})});var l}const $te=({regime:e,description:t,statistics:n,distribution:r})=>{var i,a,s,o,l,c;return e?b.jsxs("div",{className:"bg-slate-50 p-3 rounded border",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("div",{className:"flex items-center gap-1",children:b.jsx("h3",{className:"text-sm font-bold text-slate-800",children:"Phân tích biến động sức mạnh tương đối"})}),b.jsxs("div",{className:"text-right",children:[b.jsx("div",{className:"font-bold text-sm text-blue-700",children:e}),b.jsx("div",{className:"text-xs text-slate-600",children:t})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[b.jsxs("div",{className:"bg-white p-2 rounded border",children:[b.jsxs("div",{className:"text-xs font-semibold text-slate-700 mb-1 flex items-center gap-1",children:[b.jsx(Ve,{className:"w-3 h-3"}),"Thống kê"]}),b.jsxs("div",{className:"grid grid-cols-3 gap-1 text-xs",children:[b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"text-slate-500",children:"TB"}),b.jsx("div",{className:"font-bold text-slate-800",children:(null==n?void 0:n.average_volatility)||"N/A"})]}),b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"text-slate-500",children:"Trung vị"}),b.jsx("div",{className:"font-bold text-slate-800",children:(null==n?void 0:n.median_volatility)||"N/A"})]}),b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"text-slate-500",children:"Cao"}),b.jsx("div",{className:"font-bold text-slate-800",children:(null==n?void 0:n.high_volatility_percentage)||"N/A"})]})]})]}),b.jsxs("div",{className:"bg-white p-2 rounded border",children:[b.jsxs("div",{className:"text-xs font-semibold text-slate-700 mb-1 flex items-center gap-1",children:[b.jsx(ie,{className:"w-3 h-3"}),"Phân bổ"]}),b.jsxs("div",{className:"grid grid-cols-3 gap-1 text-xs",children:[b.jsxs("div",{className:"text-center p-1 bg-green-100 rounded",children:[b.jsx("div",{className:"font-semibold text-green-800",children:"Ổn định"}),b.jsx("div",{className:"font-bold text-green-800",children:(null==(i=null==r?void 0:r.low_volatility)?void 0:i.count)||0}),b.jsxs("div",{className:"text-green-800",children:["(",(null==(a=null==r?void 0:r.low_volatility)?void 0:a.percentage)||"N/A",")"]})]}),b.jsxs("div",{className:"text-center p-1 bg-yellow-100 rounded",children:[b.jsx("div",{className:"font-semibold text-yellow-800",children:"TB"}),b.jsx("div",{className:"font-bold text-yellow-800",children:(null==(s=null==r?void 0:r.medium_volatility)?void 0:s.count)||0}),b.jsxs("div",{className:"text-yellow-800",children:["(",(null==(o=null==r?void 0:r.medium_volatility)?void 0:o.percentage)||"N/A",")"]})]}),b.jsxs("div",{className:"text-center p-1 bg-red-100 rounded",children:[b.jsx("div",{className:"font-semibold text-red-800",children:"Không ổn"}),b.jsx("div",{className:"font-bold text-red-800",children:(null==(l=null==r?void 0:r.high_volatility)?void 0:l.count)||0}),b.jsxs("div",{className:"text-red-800",children:["(",(null==(c=null==r?void 0:r.high_volatility)?void 0:c.percentage)||"N/A",")"]})]})]})]})]})]}):null},Hte=({trading_implications:e,volatility_distribution:t})=>{var n;return e?b.jsxs("div",{className:"bg-slate-50 p-3 rounded border",children:[b.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[b.jsx(Ae,{className:"w-4 h-4 text-green-600"}),b.jsx("h3",{className:"text-sm font-bold text-slate-800",children:"Hàm ý giao dịch"})]}),b.jsxs("div",{className:"bg-white p-2 rounded border",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx(Ae,{className:"w-3 h-3 text-blue-600"}),b.jsx("span",{className:"font-semibold",children:"Vị thế:"}),b.jsx("span",{children:e.position_sizing})]}),b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx(Oe,{className:"w-3 h-3 text-red-600"}),b.jsx("span",{className:"font-semibold",children:"Stop loss:"}),b.jsx("span",{children:e.stop_losses})]}),b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx(Re,{className:"w-3 h-3 text-green-600"}),b.jsx("span",{className:"font-semibold",children:"Chiến lược:"}),b.jsx("span",{children:e.strategy})]}),b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx(Ve,{className:"w-3 h-3 text-yellow-600"}),b.jsx("span",{className:"font-semibold",children:"Quản lý rủi ro:"}),b.jsx("span",{children:e.risk_management})]})]}),b.jsx("div",{className:"mt-2 pt-2 border-t border-gray-200",children:b.jsxs("div",{className:"text-xs text-blue-700",children:["💡 ",b.jsx("strong",{children:"Cho người mới:"})," Ưu tiên RS ổn định (",(null==(n=null==t?void 0:t.low_volatility)?void 0:n.percentage)||"58.2%","), tránh RS thay đổi mạnh, luôn đặt stop loss"]})})]})]}):null};function Kte({title:e,value:t,description:n,color:r,textColor:i,Icon:a}){return b.jsxs("div",{className:`p-2 rounded flex gap-2 items-center ${r}`,children:[a&&b.jsx(a,{className:`w-5 h-5 ${i}`}),b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:`font-bold text-xs ${i}`,children:e}),t&&b.jsx("div",{className:"text-sm font-bold text-slate-800",children:t}),n&&b.jsx("div",{className:"text-xs text-slate-600",children:n})]})]})}const Ute=({volatilityRegime:e,industryTrendConsistency:t,breadthDetail:n,systemicRisks:r})=>{var i,a,s,o,l,c;if(!e)return null;const u={industry:{color:"bg-blue-100",textColor:"text-blue-800",Icon:Re},breadth:{color:"bg-green-100",textColor:"text-green-800",Icon:ie},risk:{color:"bg-red-100",textColor:"text-red-800",Icon:De}};return b.jsx("div",{className:"p-3 bg-white rounded border",children:b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 lg:gap-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsxs("h3",{className:"text-sm font-bold text-slate-800 flex items-center gap-1",children:[b.jsx(ke,{className:"w-4 h-4 text-blue-600"}),"Bối cảnh thị trường"]}),t&&b.jsx(Kte,h({title:"Xu hướng ngành",value:null==(i=t.consistency_summary)?void 0:i.overall_trend,description:null==(a=t.key_insights)?void 0:a[0]},u.industry)),n&&b.jsx(Kte,h({title:"Breadth thị trường",value:n.breadth_summary,description:`Breadth: ${(null==(s=n.industry_breadth_thrust)?void 0:s.value)||""}, Momentum: ${(null==(o=n.momentum_breadth)?void 0:o.value)||""}`},u.breadth)),r&&b.jsx(Kte,h({title:"Rủi ro hệ thống",value:null==(l=r.overall_systemic_risk)?void 0:l.level,description:null==(c=r.overall_systemic_risk)?void 0:c.description},u.risk))]}),b.jsxs("div",{className:"space-y-2 mt-3 lg:mt-0",children:[b.jsx($te,{regime:e.regime,description:e.regime_description,statistics:e.statistics,distribution:e.volatility_distribution}),b.jsx(Hte,{trading_implications:e.trading_implications,volatility_distribution:e.volatility_distribution})]})]})})},Gte=()=>{var e;const{data:t,loading:n,error:r}=Df("RRG_ANALYSIS","1D");if(n)return b.jsx("div",{className:"flex items-center justify-center h-32",children:b.jsx("div",{className:"text-gray-500",children:"Đang tải dữ liệu tổng quan thị trường..."})});if(r||!t)return null;const i=(null==(e=null==t?void 0:t.insights)?void 0:e.detailed_analysis)||{},a=i.volatility_regime,s=i.industry_trend_consistency,o=i.breadth_detail,l=i.systemic_risks;return a?b.jsx("div",{className:"space-y-6",children:b.jsx(Ute,{volatilityRegime:a,industryTrendConsistency:s,breadthDetail:o,systemicRisks:l})}):null},qte=e=>{if("string"==typeof e){if(e.toLowerCase().includes("tích cực")||e.toLowerCase().includes("positive")||e.toLowerCase().includes("bull"))return"text-green-600";if(e.toLowerCase().includes("tiêu cực")||e.toLowerCase().includes("negative")||e.toLowerCase().includes("bear"))return"text-red-600";if(e.toLowerCase().includes("trung tính")||e.toLowerCase().includes("neutral"))return"text-yellow-600"}return"text-gray-600"},Yte=e=>{if("string"==typeof e){if(e.toLowerCase().includes("cao"))return"text-red-600";if(e.toLowerCase().includes("trung bình"))return"text-yellow-600";if(e.toLowerCase().includes("thấp"))return"text-green-600"}return"text-gray-600"},Xte=e=>{if("number"==typeof e){if(e>0)return"text-green-600";if(e<0)return"text-red-600"}return"text-gray-600"},Qte=e=>{if("string"==typeof e){if(e.toLowerCase().includes("vượt"))return"text-green-600";if(e.toLowerCase().includes("kém"))return"text-red-600"}return"text-gray-600"},Zte=e=>{if("string"==typeof e){if(e.toLowerCase().includes("tăng"))return"text-green-600";if(e.toLowerCase().includes("giảm"))return"text-red-600"}return"text-gray-600"},Jte=e=>{if("number"==typeof e){if(e>0)return"text-green-600";if(e<0)return"text-red-600"}return"text-gray-600"},ene=e=>{if("number"==typeof e){if(e>0)return"text-green-600";if(e<0)return"text-red-600"}return"text-gray-600"},tne=e=>{if("number"==typeof e){if(e>1)return"text-green-600";if(e<1)return"text-red-600"}return"text-gray-600"},nne=e=>{if("string"==typeof e){if(e.toLowerCase().includes("leading")||e.toLowerCase().includes("dẫn dắt"))return"text-green-600";if(e.toLowerCase().includes("improving")||e.toLowerCase().includes("cải thiện"))return"text-blue-600";if(e.toLowerCase().includes("weakening")||e.toLowerCase().includes("suy yếu"))return"text-yellow-600";if(e.toLowerCase().includes("lagging")||e.toLowerCase().includes("tụt hậu"))return"text-red-600"}return"text-gray-600"},rne=e=>{if("string"==typeof e){if(e.toLowerCase().includes("tăng"))return"text-green-600";if(e.toLowerCase().includes("giảm"))return"text-red-600";if(e.toLowerCase().includes("đứng yên"))return"text-yellow-600"}return"text-gray-600"},ine=e=>e?"Tăng trưởng mạnh"===e||"Tăng trưởng"===e?{icon:Re,color:"text-green-600"}:"Đứng yên"===e?{icon:X,color:"text-yellow-600"}:"Suy giảm"===e||"Suy giảm mạnh"===e?{icon:Te,color:"text-red-600"}:{icon:Te,color:"text-gray-600"}:{icon:Te,color:"text-gray-600"},ane=({title:e,data:t,color:n,Icon:r})=>{var i;return t?b.jsxs("div",{className:`p-3 rounded-lg border ${n.border} ${n.bg}`,children:[b.jsxs("div",{className:"flex items-center mb-2",children:[r&&b.jsx(r,{className:`w-5 h-5 mr-2 ${n.text}`}),b.jsxs("h5",{className:`font-semibold text-sm ${n.text}`,children:[e," (",t.count||0,")"]})]}),b.jsx("div",{className:`text-xs font-medium mb-1 ${n.text}`,children:t.strength||t.potential||t.warning_level||"N/A"}),(null==(i=t.sectors)?void 0:i.length)>0&&b.jsx("p",{className:"text-xs text-slate-600",children:t.sectors.map(e=>"string"==typeof e?e:e.name||e.sector||"Unknown").join(", ")})]}):null},sne=({sector:e,colorClass:t="bg-slate-50"})=>b.jsxs("div",{className:`p-2 rounded-md flex justify-between items-center ${t}`,children:[b.jsxs("div",{children:[b.jsx("div",{className:"font-semibold text-sm text-slate-800",children:e.name}),b.jsx("div",{className:"text-xs text-slate-500",children:e.money_flow})]}),b.jsxs("div",{className:"text-right",children:[b.jsx("div",{className:`font-bold text-xs ${qte(e.quadrant)}`,children:e.quadrant}),b.jsxs("div",{className:"text-xs text-slate-500",children:[(100*e.velocity).toFixed(1),"%"]})]})]}),one=({sectorRotation:e})=>{var t,n;if(!e)return null;const{money_flow_summary:r,sector_leadership:i,rotation_patterns:a,top_rotating_sectors:s,detailed_flow:o}=e,l={leader:{bg:"bg-green-50",border:"border-green-200",text:"text-green-700",Icon:null},emerging:{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-700",Icon:null},declining:{bg:"bg-red-50",border:"border-red-200",text:"text-red-700",Icon:null}};return b.jsxs("div",{className:"p-4 bg-white rounded-lg border",children:[b.jsx("h3",{className:"font-bold text-base text-slate-800 mb-4",children:"Phân tích luân chuyển ngành"}),a&&b.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg border mb-4",children:[b.jsx("h4",{className:"font-semibold text-sm text-yellow-700 mb-1",children:"Mô hình luân chuyển"}),b.jsxs("div",{className:"text-xs text-slate-700",children:[b.jsx("b",{children:"Ổn định:"})," ",a.stability]}),b.jsxs("div",{className:"text-xs text-slate-700",children:[b.jsx("b",{children:"Tốc độ:"})," ",a.rotation_speed]}),b.jsxs("div",{className:"text-xs text-slate-700",children:[b.jsx("b",{children:"Chủ đề:"})," ",a.theme]})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"space-y-4",children:[r&&b.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg border",children:[b.jsx("h4",{className:"font-semibold text-sm text-slate-700 mb-2",children:"Tổng quan dòng tiền"}),b.jsx("p",{className:`font-bold text-lg mb-2 ${qte(r.dominant_theme)}`,children:r.dominant_theme}),b.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 text-xs text-center",children:[b.jsxs("div",{className:"bg-white p-1 rounded border",children:[b.jsx("b",{children:"Sức mạnh:"})," ",r.rotation_strength]}),b.jsxs("div",{className:"bg-white p-1 rounded border",children:[b.jsx("b",{children:"Tốc độ:"})," ",r.flow_velocity]}),b.jsxs("div",{className:"bg-white p-1 rounded border",children:[b.jsx("b",{children:"Vào:"})," ",r.inflow_count]}),b.jsxs("div",{className:"bg-white p-1 rounded border",children:[b.jsx("b",{children:"Ra:"})," ",r.outflow_count]})]})]}),i&&b.jsxs("div",{children:[b.jsx("h4",{className:"font-semibold text-sm text-slate-700 mb-2",children:"Trạng thái Leadership"}),b.jsxs("div",{className:"space-y-3",children:[b.jsx(ane,{title:"Dẫn dắt hiện tại",data:i.current_leaders,color:l.leader,Icon:l.leader.Icon}),b.jsx(ane,{title:"Dẫn dắt mới nổi",data:i.emerging_leaders,color:l.emerging,Icon:l.emerging.Icon}),b.jsx(ane,{title:"Dẫn dắt suy yếu",data:i.declining_leaders,color:l.declining,Icon:l.declining.Icon})]})]})]}),b.jsxs("div",{className:"space-y-4",children:[(null==s?void 0:s.length)>0&&b.jsxs("div",{children:[b.jsx("h4",{className:"font-semibold text-sm text-slate-700 mb-2 flex items-center",children:" Top luân chuyển ngành"}),b.jsx("div",{className:"space-y-2",children:s.slice(0,5).map((e,t)=>b.jsx(sne,{sector:e},t))})]}),o&&b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"font-semibold text-sm text-green-700 mb-2 flex items-center",children:" Dòng tiền vào"}),b.jsx("div",{className:"space-y-2",children:null==(t=o.inflow_sectors)?void 0:t.slice(0,3).map((e,t)=>b.jsx(sne,{sector:e,colorClass:"bg-green-50"},t))})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-semibold text-sm text-red-700 mb-2 flex items-center",children:" Dòng tiền ra"}),b.jsx("div",{className:"space-y-2",children:null==(n=o.outflow_sectors)?void 0:n.slice(0,3).map((e,t)=>b.jsx(sne,{sector:e,colorClass:"bg-red-50"},t))})]})]})]})]})]})},lne=({group:e,color:t,title:n})=>{var r;return e?b.jsxs("div",{className:`p-3 rounded-lg border ${t.bg} ${t.border} flex flex-col`,children:[b.jsx("h5",{className:`font-bold text-sm mb-2 ${t.text}`,children:n||e.name}),n&&b.jsx("p",{className:"text-sm font-semibold text-slate-800 -mt-1 mb-2",children:e.name}),b.jsxs("div",{className:"grid grid-cols-2 gap-x-2 gap-y-1 text-xs mt-auto",children:[b.jsx("span",{className:"text-slate-500",children:"RRG:"}),b.jsx("span",{className:`font-semibold ${qte(e.rrg_quadrant)}`,children:e.rrg_quadrant}),b.jsx("span",{className:"text-slate-500",children:"Điểm mạnh:"}),b.jsx("span",{className:"font-semibold text-slate-700",children:null==(r=e.strength_score)?void 0:r.toFixed(2)}),b.jsx("span",{className:"text-slate-500",children:"Tốc độ:"}),b.jsxs("span",{className:"font-semibold text-slate-700",children:[(100*e.velocity).toFixed(1),"%"]})]}),b.jsx("div",{className:`mt-2 pt-1 border-t ${t.border} text-xs text-slate-600 font-medium`,children:e.money_flow})]}):null},cne=({marketCapFlow:e})=>{var t,n;if(!e)return null;const{groups_summary:r,flow_theme:i,outperforming_count:a,underperforming_count:s}=e,o={outperform:{bg:"bg-green-50",border:"border-green-200",text:"text-green-700"},underperform:{bg:"bg-red-50",border:"border-red-200",text:"text-red-700"}};return b.jsxs("div",{className:"p-4 bg-white rounded-lg border",children:[b.jsx("h3",{className:"font-bold text-base text-slate-800 mb-4",children:"Phân tích nhóm vốn hóa"}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[b.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[b.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg border",children:[b.jsx("h4",{className:"font-semibold text-sm text-slate-700 mb-1",children:"Xu hướng dòng tiền"}),b.jsx("p",{className:"text-sm text-slate-600",children:i}),b.jsxs("div",{className:"text-xs text-slate-500 mt-2",children:[b.jsx("span",{className:"font-medium text-green-600",children:"Vượt trội:"})," ",a," nhóm |",b.jsx("span",{className:"font-medium text-red-600",children:" Kém:"})," ",s," nhóm"]})]}),r&&b.jsxs(b.Fragment,{children:[b.jsx(lne,{title:"Nhóm mạnh nhất",group:r.strongest_group,color:o.outperform}),b.jsx(lne,{title:"Nhóm yếu nhất",group:r.weakest_group,color:o.underperform})]})]}),b.jsxs("div",{className:"lg:col-span-3",children:[b.jsx("h4",{className:"font-semibold text-sm text-slate-700 mb-2",children:"Hiệu suất nhóm"}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("h5",{className:"font-semibold text-sm text-green-700 mb-2 flex items-center",children:"Vượt trội"}),b.jsx("div",{className:"space-y-2",children:null==(t=null==r?void 0:r.outperforming_groups)?void 0:t.map((e,t)=>b.jsx(lne,{group:e,color:o.outperform},t))})]}),b.jsxs("div",{children:[b.jsx("h5",{className:"font-semibold text-sm text-red-700 mb-2 flex items-center",children:"Kém hiệu quả"}),b.jsx("div",{className:"space-y-2",children:null==(n=null==r?void 0:r.underperforming_groups)?void 0:n.map((e,t)=>b.jsx(lne,{group:e,color:o.underperform},t))})]})]})]})]})]})},une=({institutionalFlow:e})=>e?b.jsxs("div",{className:"bg-white p-3 rounded border",children:[b.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Dòng tiền tổ chức"}),e.overall_sentiment&&b.jsxs("div",{className:"mb-3 p-2 bg-gray-50 rounded",children:[b.jsx("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"Tổng quan"}),b.jsxs("div",{className:"text-sm text-gray-600",children:[b.jsx("span",{className:"font-medium",children:"Mua:"})," ",e.overall_sentiment.buying_percentage||"N/A"," |",b.jsx("span",{className:"font-medium",children:" Bán:"})," ",e.overall_sentiment.selling_percentage||"N/A"]}),b.jsx("div",{className:"text-xs text-gray-500 mt-1",children:e.overall_sentiment.interpretation||"N/A"})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.institutional_buying&&b.jsxs("div",{className:"p-2 bg-green-50 rounded",children:[b.jsxs("div",{className:"font-medium text-sm text-green-700 mb-2",children:["Tổ chức mua vào (",e.institutional_buying.count||0,")"]}),b.jsx("div",{className:"text-xs mb-2 "+("Tích cực"===e.institutional_buying.sentiment?"text-green-600":"text-red-600"),children:e.institutional_buying.sentiment||"N/A"}),e.institutional_buying.top_targets&&e.institutional_buying.top_targets.length>0&&b.jsxs("div",{className:"space-y-1",children:[b.jsx("div",{className:"text-xs font-medium text-gray-600",children:"Mục tiêu hàng đầu:"}),e.institutional_buying.top_targets.slice(0,5).map((e,t)=>b.jsxs("div",{className:"text-xs text-gray-600",children:[b.jsx("span",{className:"font-medium",children:e.symbol})," - ",e.direction,b.jsxs("span",{className:"text-green-600",children:[" (",(100*e.speed).toFixed(2),"%)"]})]},t))]})]}),e.institutional_selling&&b.jsxs("div",{className:"p-2 bg-red-50 rounded",children:[b.jsxs("div",{className:"font-medium text-sm text-red-700 mb-2",children:["Tổ chức bán ra (",e.institutional_selling.count||0,")"]}),e.institutional_selling.top_exits&&e.institutional_selling.top_exits.length>0&&b.jsxs("div",{className:"space-y-1",children:[b.jsx("div",{className:"text-xs font-medium text-gray-600",children:"Thoát hàng đầu:"}),e.institutional_selling.top_exits.slice(0,5).map((e,t)=>b.jsxs("div",{className:"text-xs text-gray-600",children:[b.jsx("span",{className:"font-medium",children:e.symbol})," - ",e.direction,b.jsxs("span",{className:"text-red-600",children:[" (",(100*e.speed).toFixed(2),"%)"]})]},t))]})]}),e.mixed_signals&&b.jsxs("div",{className:"p-2 bg-yellow-50 rounded",children:[b.jsxs("div",{className:"font-medium text-sm text-yellow-700 mb-2",children:["Tín hiệu hỗn hợp (",e.mixed_signals.count||0,")"]}),e.mixed_signals.watch_list&&e.mixed_signals.watch_list.length>0&&b.jsxs("div",{className:"space-y-1",children:[b.jsx("div",{className:"text-xs font-medium text-gray-600",children:"Danh sách theo dõi:"}),e.mixed_signals.watch_list.slice(0,5).map((e,t)=>b.jsxs("div",{className:"text-xs text-gray-600",children:[b.jsx("span",{className:"font-medium",children:e.symbol})," - ",e.direction,b.jsxs("span",{className:"text-yellow-600",children:[" (",(100*e.speed).toFixed(2),"%)"]})]},t))]})]})]})]}):null,dne=()=>{var e;const{data:t,loading:n,error:r}=Df("RRG_ANALYSIS","1D");if(n)return b.jsx(Ke,{children:b.jsx("div",{className:"flex items-center justify-center h-32",children:b.jsx("div",{className:"text-gray-500",children:"Đang tải dữ liệu dòng tiền thị trường..."})})});if(r||!t)return null;const i=(null==(e=null==t?void 0:t.insights)?void 0:e.detailed_analysis)||{},a=i.sector_rotation,s=i.market_cap_flow,o=i.institutional_flow;return a||s||o?b.jsxs("div",{className:"space-y-6",children:[a&&b.jsx(one,{sectorRotation:a}),s&&b.jsx(cne,{marketCapFlow:s}),o&&b.jsx(une,{institutionalFlow:o})]}):null},hne=({variant:e="stock"})=>{const[t,n]=k.useState(!1),[r,i]=k.useState({});return b.jsxs("div",{className:"mb-6",children:[b.jsxs("button",{onClick:()=>n(!t),className:"flex items-center gap-2 px-4 py-2 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors cursor-pointer",children:[b.jsx(ke,{className:"h-4 w-4"}),b.jsx("span",{className:"font-medium",children:"Hướng dẫn giải thích tín hiệu bất thường"}),t?b.jsx(ue,{className:"h-4 w-4"}):b.jsx(ce,{className:"h-4 w-4"})]}),t&&b.jsxs("div",{className:"mt-4 space-y-6",children:[b.jsxs("div",{className:"space-y-4",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Giải thích từng loại tín hiệu"}),[{key:"widespread",name:"WIDESPREAD SIGNAL",definition:"Khoảng giá (High - Low) rộng hơn đáng kể so với bình thường",interpretations:[{type:"BULLISH",description:"Khoảng giá rộng với giá đóng cửa gần mức cao nhất cho thấy áp lực mua mạnh",action:"Theo dõi xu hướng tăng tiếp theo"},{type:"BEARISH",description:"Khoảng giá rộng với giá đóng cửa gần mức thấp nhất cho thấy áp lực bán mạnh",action:"Theo dõi xu hướng giảm tiếp theo"},{type:"NEUTRAL",description:"Khoảng giá rộng với giá đóng cửa ở giữa cho thấy sự do dự/biến động",action:"Chờ tín hiệu rõ ràng hơn"}]},{key:"narrowspread",name:"NARROWSPREAD SIGNAL",definition:"Khoảng giá (High - Low) hẹp hơn đáng kể so với bình thường",interpretations:[{type:"BULLISH",description:"Khoảng giá hẹp với khối lượng cao cho thấy tích lũy/mua có kiểm soát",action:"Tìm hướng breakout khi khoảng giá mở rộng"},{type:"BEARISH",description:"Khoảng giá hẹp với khối lượng thấp cho thấy phân phối/bán có kiểm soát",action:"Chờ tín hiệu breakout"},{type:"NEUTRAL",description:"Khoảng giá hẹp với khối lượng trung bình cho thấy củng cố",action:"Theo dõi xu hướng tiếp theo"}]},{key:"highvolume",name:"HIGHVOLUME SIGNAL",definition:"Khối lượng giao dịch cao hơn đáng kể so với trung bình động",interpretations:[{type:"BULLISH",description:"Khối lượng cao với giá tăng cho thấy sự quan tâm mua mạnh",action:"Khối lượng xác nhận xu hướng giá; theo dõi xu hướng"},{type:"BEARISH",description:"Khối lượng cao với giá giảm cho thấy áp lực bán mạnh",action:"Theo dõi xu hướng giảm"},{type:"NEUTRAL",description:"Khối lượng cao với giá đi ngang cho thấy phân phối/tích lũy",action:"Chờ tín hiệu breakout"}]},{key:"lowvolume",name:"LOWVOLUME SIGNAL",definition:"Khối lượng giao dịch thấp hơn đáng kể so với trung bình động",interpretations:[{type:"BULLISH",description:"Pullback với khối lượng thấp cho thấy áp lực bán yếu",action:"Chờ xác nhận khối lượng"},{type:"BEARISH",description:"Rally với khối lượng thấp cho thấy sự quan tâm mua yếu",action:"Chờ xác nhận khối lượng"},{type:"NEUTRAL",description:"Đi ngang với khối lượng thấp cho thấy thiếu niềm tin",action:"Chờ tín hiệu rõ ràng hơn"}]},{key:"effortgtresult",name:"EFFORTGTRESULT SIGNAL",definition:"Khối lượng cao với khoảng giá hẹp (nỗ lực cao, kết quả thấp)",interpretations:[{type:"BULLISH",description:"Nỗ lực mua mạnh với biến động giá có kiểm soát cho thấy tích lũy",action:"Thường đi trước các động thái quan trọng; theo dõi hướng breakout"},{type:"BEARISH",description:"Nỗ lực bán mạnh với biến động giá có kiểm soát cho thấy phân phối",action:"Theo dõi hướng breakout"}]},{key:"resultgteffort",name:"RESULTGTEFFORT SIGNAL",definition:"Khối lượng thấp với khoảng giá rộng (nỗ lực thấp, kết quả cao)",interpretations:[{type:"BULLISH",description:"Biến động giá lớn với khối lượng thấp cho thấy bán yếu cho tay mạnh",action:"Có thể chỉ ra sự kiệt sức; thận trọng với sự tiếp tục"},{type:"BEARISH",description:"Biến động giá lớn với khối lượng thấp cho thấy short covering hoặc mua yếu",action:"Thận trọng với xu hướng tiếp theo"}]},{key:"abnormalerratio",name:"ABNORMALERRATIO SIGNAL",definition:"Tỷ lệ khối lượng-trên-lợi nhuận dư thừa khác biệt đáng kể so với bình thường",interpretations:[{type:"HIGH RATIO",description:"Khối lượng cao so với biến động giá cho thấy niềm tin mạnh",action:"Sử dụng để xác nhận sức mạnh xu hướng"},{type:"LOW RATIO",description:"Khối lượng thấp so với biến động giá cho thấy niềm tin yếu",action:"Sử dụng để xác nhận điểm yếu xu hướng"}]}].map(e=>b.jsxs(Ke,{className:"p-4",children:[b.jsxs("button",{onClick:()=>{return t=e.key,void i(e=>f(h({},e),{[t]:!e[t]}));var t},className:"w-full flex items-center justify-between text-left cursor-pointer",children:[b.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:e.name}),r[e.key]?b.jsx(ue,{className:"h-4 w-4"}):b.jsx(ce,{className:"h-4 w-4"})]}),r[e.key]&&b.jsxs("div",{className:"mt-3 space-y-3",children:[b.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[b.jsx("strong",{children:"Định nghĩa:"})," ",e.definition]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Giải thích:"}),e.interpretations.map((e,t)=>b.jsxs("div",{className:"ml-4 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[b.jsx("div",{className:"flex items-center gap-2 mb-1",children:b.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium "+("BULLISH"===e.type||"HIGH RATIO"===e.type?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"BEARISH"===e.type||"LOW RATIO"===e.type?"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300":"bg-gray-100 text-gray-800 dark:bg-gray-900/50 dark:text-gray-300"),children:e.type})}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:e.description}),b.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:[b.jsx("strong",{children:"Hành động:"})," ",e.action]})]},t))]})]})]},e.key))]}),b.jsxs("div",{className:"space-y-4",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Giải thích tín hiệu kết hợp"}),b.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:[{type:"MULTIPLE BULLISH SIGNALS",description:"Tín hiệu mua mạnh, xác suất cao cho chuyển động tăng",action:"Có thể mua với xác suất cao"},{type:"MULTIPLE BEARISH SIGNALS",description:"Tín hiệu bán mạnh, xác suất cao cho chuyển động giảm",action:"Có thể bán hoặc short với xác suất cao"},{type:"MIXED SIGNALS",description:"Thị trường do dự, chờ hướng rõ ràng hơn",action:"Chờ tín hiệu rõ ràng hơn trước khi hành động"},{type:"NO SIGNALS",description:"Điều kiện thị trường bình thường",action:"Tiếp tục với chiến lược hiện tại"}].map((e,t)=>b.jsxs(Ke,{className:"p-4",children:[b.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:e.type}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:e.description}),b.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:[b.jsx("strong",{children:"Hành động:"})," ",e.action]})]},t))})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Chỉ số hiệu suất"}),b.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:[{name:"Top Gainers/Losers",description:"Xếp hạng hiệu suất 1 ngày",usage:"Sử dụng để xác định momentum và thay đổi xu hướng"},{name:"Top Improving/Degrading",description:"Cải thiện hiệu suất so với giai đoạn trước",usage:"Sử dụng để xác định thay đổi xu hướng"},{name:"Immediate Returns",description:"Chuyển động giá gần nhất",usage:"Sử dụng để xác định momentum ngắn hạn"}].map((e,t)=>b.jsxs(Ke,{className:"p-4",children:[b.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:e.name}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:e.description}),b.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:e.usage})]},t))})]}),"industry"===e&&b.jsxs("div",{className:"space-y-4",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Giải thích tín hiệu ngành nghề"}),b.jsx(Ke,{className:"p-4",children:b.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[b.jsx("li",{children:"• Tín hiệu ngành nghề tuân theo cùng cách giải thích như tín hiệu cổ phiếu"}),b.jsx("li",{children:"• Tín hiệu toàn ngành có thể chỉ ra cơ hội luân chuyển ngành"}),b.jsx("li",{children:"• Nhiều ngành thể hiện tín hiệu tương tự có thể chỉ ra xu hướng thị trường rộng hơn"}),b.jsx("li",{children:"• Tín hiệu ngành có thể được sử dụng cho quyết định phân bổ ngành"})]})})]})]})]})},fne=()=>{var e,t,n,r;const{data:i,loading:a,error:s}=Df("abnormal_signals"),[o,l]=k.useState("abnormalities");if(a)return b.jsxs("div",{className:"flex items-center justify-center py-12",children:[b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),b.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Đang tải dữ liệu tín hiệu bất thường..."})]});if(s)return b.jsxs("div",{className:"text-center py-12",children:[b.jsx(De,{className:"mx-auto h-12 w-12 text-red-500"}),b.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100",children:"Lỗi tải dữ liệu"}),b.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:s})]});if(!i)return b.jsx("div",{className:"text-center py-12",children:b.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Không có dữ liệu tín hiệu bất thường"})});const{abnormalities:c,performance:u,immediate:d}=i,h=e=>`${(100*e).toFixed(2)}%`,f=e=>{switch(e){case"WideSpread":case"HighVolume":case"ResultGTEffort":return"text-green-600 dark:text-green-400";case"NarrowSpread":case"LowVolume":case"EffortGTResult":case"AbnormalERRatio":return"text-red-600 dark:text-red-400";default:return"text-gray-600 dark:text-gray-400"}},m=e=>{switch(e){case"WideSpread":case"HighVolume":case"ResultGTEffort":return b.jsx(Re,{className:"h-4 w-4"});case"NarrowSpread":case"LowVolume":case"EffortGTResult":case"AbnormalERRatio":return b.jsx(Te,{className:"h-4 w-4"});default:return b.jsx(X,{className:"h-4 w-4"})}},g=[{id:"abnormalities",name:"Tín hiệu bất thường",icon:De},{id:"performance",name:"Xếp hạng hiệu suất",icon:ie},{id:"immediate",name:"Lợi nhuận tức thì",icon:Ae}];return b.jsxs("div",{className:"space-y-6",children:[b.jsx(hne,{variant:"stock"}),b.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(e=>{const t=e.icon;return b.jsxs("button",{onClick:()=>l(e.id),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer "+(o===e.id?"bg-blue-500 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:[b.jsx(t,{className:"h-4 w-4"}),e.name]},e.id)})}),"abnormalities"===o&&b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Tín hiệu bất thường cổ phiếu gần đây"}),b.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[(null==c?void 0:c.length)||0," tín hiệu"]})]}),b.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:null==c?void 0:c.slice(0,12).map((e,t)=>{const n=Object.entries(e).filter(([e,t])=>"Symbol"!==e&&"Date"!==e&&!0===t);return b.jsxs(Ke,{className:"p-4",children:[b.jsxs("div",{className:"flex items-start justify-between mb-3",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:e.Symbol}),b.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(e.Date).toLocaleDateString("vi-VN")})]}),b.jsx("div",{className:"text-right",children:b.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/50 text-blue-800 dark:text-blue-200",children:[n.length," tín hiệu"]})})]}),n.length>0?b.jsx("div",{className:"space-y-2",children:n.map(([e])=>b.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[b.jsx("span",{className:f(e),children:m(e)}),b.jsx("span",{className:f(e),children:e})]},e))}):b.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Không có tín hiệu bất thường"})]},t)})})]}),"performance"===o&&b.jsxs("div",{className:"space-y-6",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Xếp hạng hiệu suất cổ phiếu"}),b.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[b.jsxs(Ke,{className:"p-6",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[b.jsx(Re,{className:"h-5 w-5 text-green-500"}),b.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Tăng giá mạnh nhất"})]}),b.jsx("div",{className:"space-y-3",children:null==(e=null==d?void 0:d.top_immediate_gainers)?void 0:e.slice(0,5).map((e,t)=>b.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[b.jsxs("div",{children:[b.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.Symbol}),b.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Lợi nhuận tức thì"})]}),b.jsxs("span",{className:"text-green-600 dark:text-green-400 font-semibold",children:["+",h(e.ImmediateReturn)]})]},t))})]}),b.jsxs(Ke,{className:"p-6",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[b.jsx(Te,{className:"h-5 w-5 text-red-500"}),b.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Giảm giá mạnh nhất"})]}),b.jsx("div",{className:"space-y-3",children:null==(t=null==d?void 0:d.top_immediate_losers)?void 0:t.slice(0,5).map((e,t)=>b.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[b.jsxs("div",{children:[b.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.Symbol}),b.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Lỗ tức thì"})]}),b.jsx("span",{className:"text-red-600 dark:text-red-400 font-semibold",children:h(e.ImmediateReturn)})]},t))})]})]})]}),"immediate"===o&&b.jsxs("div",{className:"space-y-6",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Lợi nhuận tức thì cổ phiếu"}),b.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[b.jsxs(Ke,{className:"p-6",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[b.jsx(Re,{className:"h-5 w-5 text-green-500"}),b.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Tăng giá tức thì"})]}),b.jsx("div",{className:"space-y-3",children:null==(n=null==d?void 0:d.top_immediate_gainers)?void 0:n.slice(0,10).map((e,t)=>b.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[b.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.Symbol}),b.jsxs("span",{className:"text-green-600 dark:text-green-400 font-semibold",children:["+",h(e.ImmediateReturn)]})]},t))})]}),b.jsxs(Ke,{className:"p-6",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[b.jsx(Te,{className:"h-5 w-5 text-red-500"}),b.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Giảm giá tức thì"})]}),b.jsx("div",{className:"space-y-3",children:null==(r=null==d?void 0:d.top_immediate_losers)?void 0:r.slice(0,10).map((e,t)=>b.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[b.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.Symbol}),b.jsx("span",{className:"text-red-600 dark:text-red-400 font-semibold",children:h(e.ImmediateReturn)})]},t))})]})]})]})]})},mne=()=>{var e,t,n,r;const{data:i,loading:a,error:s}=Df("abnormal_signals"),[o,l]=k.useState("abnormalities");if(a)return b.jsxs("div",{className:"flex items-center justify-center py-12",children:[b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),b.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Đang tải dữ liệu tín hiệu bất thường ngành nghề..."})]});if(s)return b.jsxs("div",{className:"text-center py-12",children:[b.jsx(De,{className:"mx-auto h-12 w-12 text-red-500"}),b.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100",children:"Lỗi tải dữ liệu"}),b.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:s})]});if(!i)return b.jsx("div",{className:"text-center py-12",children:b.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Không có dữ liệu tín hiệu bất thường ngành nghề"})});const{industry_abnormalities:c,industry_performance:u,industry_immediate:d}=i,h=e=>`${(100*e).toFixed(2)}%`,f=e=>{switch(e){case"WideSpread":case"HighVolume":case"ResultGTEffort":return"text-green-600 dark:text-green-400";case"NarrowSpread":case"LowVolume":case"EffortGTResult":case"AbnormalERRatio":return"text-red-600 dark:text-red-400";default:return"text-gray-600 dark:text-gray-400"}},m=e=>{switch(e){case"WideSpread":case"HighVolume":case"ResultGTEffort":return b.jsx(Re,{className:"h-4 w-4"});case"NarrowSpread":case"LowVolume":case"EffortGTResult":case"AbnormalERRatio":return b.jsx(Te,{className:"h-4 w-4"});default:return b.jsx(X,{className:"h-4 w-4"})}},g=[{id:"abnormalities",name:"Tín hiệu bất thường",icon:De},{id:"performance",name:"Xếp hạng hiệu suất",icon:ie},{id:"immediate",name:"Lợi nhuận tức thì",icon:Ae}];return b.jsxs("div",{className:"space-y-6",children:[b.jsx(hne,{variant:"industry"}),b.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(e=>{const t=e.icon;return b.jsxs("button",{onClick:()=>l(e.id),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer "+(o===e.id?"bg-purple-500 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:[b.jsx(t,{className:"h-4 w-4"}),e.name]},e.id)})}),"abnormalities"===o&&b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Tín hiệu bất thường ngành nghề gần đây"}),b.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[(null==c?void 0:c.length)||0," tín hiệu"]})]}),b.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:null==c?void 0:c.slice(0,12).map((e,t)=>{const n=Object.entries(e).filter(([e,t])=>"Symbol"!==e&&"Name"!==e&&"Date"!==e&&!0===t);return b.jsxs(Ke,{className:"p-4",children:[b.jsxs("div",{className:"flex items-start justify-between mb-3",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:e.Name||e.Symbol}),b.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(e.Date).toLocaleDateString("vi-VN")})]}),b.jsx("div",{className:"text-right",children:b.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 dark:bg-purple-900/50 text-purple-800 dark:text-purple-200",children:[n.length," tín hiệu"]})})]}),n.length>0?b.jsx("div",{className:"space-y-2",children:n.map(([e])=>b.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[b.jsx("span",{className:f(e),children:m(e)}),b.jsx("span",{className:f(e),children:e})]},e))}):b.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Không có tín hiệu bất thường"})]},t)})})]}),"performance"===o&&b.jsxs("div",{className:"space-y-6",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Xếp hạng hiệu suất ngành nghề"}),b.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[b.jsxs(Ke,{className:"p-6",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[b.jsx(Re,{className:"h-5 w-5 text-green-500"}),b.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Ngành tăng giá mạnh nhất"})]}),b.jsx("div",{className:"space-y-3",children:null==(e=null==d?void 0:d.top_immediate_gainers)?void 0:e.slice(0,5).map((e,t)=>b.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[b.jsxs("div",{children:[b.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.Name||e.Symbol}),b.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Lợi nhuận tức thì"})]}),b.jsxs("span",{className:"text-green-600 dark:text-green-400 font-semibold",children:["+",h(e.ImmediateReturn)]})]},t))})]}),b.jsxs(Ke,{className:"p-6",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[b.jsx(Te,{className:"h-5 w-5 text-red-500"}),b.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Ngành giảm giá mạnh nhất"})]}),b.jsx("div",{className:"space-y-3",children:null==(t=null==d?void 0:d.top_immediate_losers)?void 0:t.slice(0,5).map((e,t)=>b.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[b.jsxs("div",{children:[b.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.Name||e.Symbol}),b.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Lỗ tức thì"})]}),b.jsx("span",{className:"text-red-600 dark:text-red-400 font-semibold",children:h(e.ImmediateReturn)})]},t))})]})]})]}),"immediate"===o&&b.jsxs("div",{className:"space-y-6",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Lợi nhuận tức thì ngành nghề"}),b.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[b.jsxs(Ke,{className:"p-6",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[b.jsx(Re,{className:"h-5 w-5 text-green-500"}),b.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Ngành tăng giá tức thì"})]}),b.jsx("div",{className:"space-y-3",children:null==(n=null==d?void 0:d.top_immediate_gainers)?void 0:n.slice(0,10).map((e,t)=>b.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[b.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.Name||e.Symbol}),b.jsxs("span",{className:"text-green-600 dark:text-green-400 font-semibold",children:["+",h(e.ImmediateReturn)]})]},t))})]}),b.jsxs(Ke,{className:"p-6",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[b.jsx(Te,{className:"h-5 w-5 text-red-500"}),b.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Ngành giảm giá tức thì"})]}),b.jsx("div",{className:"space-y-3",children:null==(r=null==d?void 0:d.top_immediate_losers)?void 0:r.slice(0,10).map((e,t)=>b.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[b.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.Name||e.Symbol}),b.jsx("span",{className:"text-red-600 dark:text-red-400 font-semibold",children:h(e.ImmediateReturn)})]},t))})]})]})]})]})};
/**
       * table-core
       *
       * Copyright (c) TanStack
       *
       * This source code is licensed under the MIT license found in the
       * LICENSE.md file in the root directory of this source tree.
       *
       * @license MIT
       */
function gne(){return{accessor:(e,t)=>f(h({},t),"function"==typeof e?{accessorFn:e}:{accessorKey:e}),display:e=>e,group:e=>e}}function pne(e,t){return"function"==typeof e?e(t):e}function vne(e,t){return n=>{t.setState(t=>f(h({},t),{[e]:pne(n,t[e])}))}}function yne(e){return e instanceof Function}function xne(e,t,n){let r,i=[];return a=>{let s;n.key&&n.debug&&(s=Date.now());const o=e(a);if(o.length===i.length&&!o.some((e,t)=>i[t]!==e))return r;let l;return i=o,n.key&&n.debug&&(l=Date.now()),r=t(...o),null==n||null==n.onChange||n.onChange(r),n.key&&n.debug&&null!=n&&n.debug()&&(Math.round(100*(Date.now()-s)),Math.round(100*(Date.now()-l))),r}}function bne(e,t,n,r){return{debug:()=>{var n;return null!=(n=null==e?void 0:e.debugAll)?n:e[t]},key:!1,onChange:r}}const wne="debugHeaders";function _ne(e,t,n){var r;let i={id:null!=(r=n.id)?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const e=[],t=n=>{n.subHeaders&&n.subHeaders.length&&n.subHeaders.map(t),e.push(n)};return t(i),e},getContext:()=>({table:e,header:i,column:t})};return e._features.forEach(t=>{null==t.createHeader||t.createHeader(i,e)}),i}const jne={createTable:e=>{e.getHeaderGroups=xne(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>{var a,s;const o=null!=(a=null==r?void 0:r.map(e=>n.find(t=>t.id===e)).filter(Boolean))?a:[],l=null!=(s=null==i?void 0:i.map(e=>n.find(t=>t.id===e)).filter(Boolean))?s:[];return Nne(t,[...o,...n.filter(e=>!(null!=r&&r.includes(e.id)||null!=i&&i.includes(e.id))),...l],e)},bne(e.options,wne)),e.getCenterHeaderGroups=xne(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>Nne(t,n=n.filter(e=>!(null!=r&&r.includes(e.id)||null!=i&&i.includes(e.id))),e,"center"),bne(e.options,wne)),e.getLeftHeaderGroups=xne(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var i;return Nne(t,null!=(i=null==r?void 0:r.map(e=>n.find(t=>t.id===e)).filter(Boolean))?i:[],e,"left")},bne(e.options,wne)),e.getRightHeaderGroups=xne(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var i;return Nne(t,null!=(i=null==r?void 0:r.map(e=>n.find(t=>t.id===e)).filter(Boolean))?i:[],e,"right")},bne(e.options,wne)),e.getFooterGroups=xne(()=>[e.getHeaderGroups()],e=>[...e].reverse(),bne(e.options,wne)),e.getLeftFooterGroups=xne(()=>[e.getLeftHeaderGroups()],e=>[...e].reverse(),bne(e.options,wne)),e.getCenterFooterGroups=xne(()=>[e.getCenterHeaderGroups()],e=>[...e].reverse(),bne(e.options,wne)),e.getRightFooterGroups=xne(()=>[e.getRightHeaderGroups()],e=>[...e].reverse(),bne(e.options,wne)),e.getFlatHeaders=xne(()=>[e.getHeaderGroups()],e=>e.map(e=>e.headers).flat(),bne(e.options,wne)),e.getLeftFlatHeaders=xne(()=>[e.getLeftHeaderGroups()],e=>e.map(e=>e.headers).flat(),bne(e.options,wne)),e.getCenterFlatHeaders=xne(()=>[e.getCenterHeaderGroups()],e=>e.map(e=>e.headers).flat(),bne(e.options,wne)),e.getRightFlatHeaders=xne(()=>[e.getRightHeaderGroups()],e=>e.map(e=>e.headers).flat(),bne(e.options,wne)),e.getCenterLeafHeaders=xne(()=>[e.getCenterFlatHeaders()],e=>e.filter(e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}),bne(e.options,wne)),e.getLeftLeafHeaders=xne(()=>[e.getLeftFlatHeaders()],e=>e.filter(e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}),bne(e.options,wne)),e.getRightLeafHeaders=xne(()=>[e.getRightFlatHeaders()],e=>e.filter(e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}),bne(e.options,wne)),e.getLeafHeaders=xne(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(e,t,n)=>{var r,i,a,s,o,l;return[...null!=(r=null==(i=e[0])?void 0:i.headers)?r:[],...null!=(a=null==(s=t[0])?void 0:s.headers)?a:[],...null!=(o=null==(l=n[0])?void 0:l.headers)?o:[]].map(e=>e.getLeafHeaders()).flat()},bne(e.options,wne))}};function Nne(e,t,n,r){var i,a;let s=0;const o=function(e,t){void 0===t&&(t=1),s=Math.max(s,t),e.filter(e=>e.getIsVisible()).forEach(e=>{var n;null!=(n=e.columns)&&n.length&&o(e.columns,t+1)},0)};o(e);let l=[];const c=(e,t)=>{const i={depth:t,id:[r,`${t}`].filter(Boolean).join("_"),headers:[]},a=[];e.forEach(e=>{const s=[...a].reverse()[0];let o,l=!1;if(e.column.depth===i.depth&&e.column.parent?o=e.column.parent:(o=e.column,l=!0),s&&(null==s?void 0:s.column)===o)s.subHeaders.push(e);else{const i=_ne(n,o,{id:[r,t,o.id,null==e?void 0:e.id].filter(Boolean).join("_"),isPlaceholder:l,placeholderId:l?`${a.filter(e=>e.column===o).length}`:void 0,depth:t,index:a.length});i.subHeaders.push(e),a.push(i)}i.headers.push(e),e.headerGroup=i}),l.push(i),t>0&&c(a,t-1)},u=t.map((e,t)=>_ne(n,e,{depth:s,index:t}));c(u,s-1),l.reverse();const d=e=>e.filter(e=>e.column.getIsVisible()).map(e=>{let t=0,n=0,r=[0];return e.subHeaders&&e.subHeaders.length?(r=[],d(e.subHeaders).forEach(e=>{let{colSpan:n,rowSpan:i}=e;t+=n,r.push(i)})):t=1,n+=Math.min(...r),e.colSpan=t,e.rowSpan=n,{colSpan:t,rowSpan:n}});return d(null!=(i=null==(a=l[0])?void 0:a.headers)?i:[]),l}const kne=(e,t,n,r,i,a,s)=>{let o={id:t,index:r,original:n,depth:i,parentId:s,_valuesCache:{},_uniqueValuesCache:{},getValue:t=>{if(o._valuesCache.hasOwnProperty(t))return o._valuesCache[t];const n=e.getColumn(t);return null!=n&&n.accessorFn?(o._valuesCache[t]=n.accessorFn(o.original,r),o._valuesCache[t]):void 0},getUniqueValues:t=>{if(o._uniqueValuesCache.hasOwnProperty(t))return o._uniqueValuesCache[t];const n=e.getColumn(t);return null!=n&&n.accessorFn?n.columnDef.getUniqueValues?(o._uniqueValuesCache[t]=n.columnDef.getUniqueValues(o.original,r),o._uniqueValuesCache[t]):(o._uniqueValuesCache[t]=[o.getValue(t)],o._uniqueValuesCache[t]):void 0},renderValue:t=>{var n;return null!=(n=o.getValue(t))?n:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>function(e,t){const n=[],r=e=>{e.forEach(e=>{n.push(e);const i=t(e);null!=i&&i.length&&r(i)})};return r(e),n}(o.subRows,e=>e.subRows),getParentRow:()=>o.parentId?e.getRow(o.parentId,!0):void 0,getParentRows:()=>{let e=[],t=o;for(;;){const n=t.getParentRow();if(!n)break;e.push(n),t=n}return e.reverse()},getAllCells:xne(()=>[e.getAllLeafColumns()],t=>t.map(t=>function(e,t,n,r){const i={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:()=>{var t;return null!=(t=i.getValue())?t:e.options.renderFallbackValue},getContext:xne(()=>[e,n,t,i],(e,t,n,r)=>({table:e,column:t,row:n,cell:r,getValue:r.getValue,renderValue:r.renderValue}),bne(e.options,"debugCells"))};return e._features.forEach(r=>{null==r.createCell||r.createCell(i,n,t,e)},{}),i}(e,o,t,t.id)),bne(e.options,"debugRows")),_getAllCellsByColumnId:xne(()=>[o.getAllCells()],e=>e.reduce((e,t)=>(e[t.column.id]=t,e),{}),bne(e.options,"debugRows"))};for(let l=0;l<e._features.length;l++){const t=e._features[l];null==t||null==t.createRow||t.createRow(o,e)}return o},Sne={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},Cne=(e,t,n)=>{var r,i;const a=null==n||null==(r=n.toString())?void 0:r.toLowerCase();return Boolean(null==(i=e.getValue(t))||null==(i=i.toString())||null==(i=i.toLowerCase())?void 0:i.includes(a))};Cne.autoRemove=e=>Lne(e);const Pne=(e,t,n)=>{var r;return Boolean(null==(r=e.getValue(t))||null==(r=r.toString())?void 0:r.includes(n))};Pne.autoRemove=e=>Lne(e);const Ene=(e,t,n)=>{var r;return(null==(r=e.getValue(t))||null==(r=r.toString())?void 0:r.toLowerCase())===(null==n?void 0:n.toLowerCase())};Ene.autoRemove=e=>Lne(e);const Mne=(e,t,n)=>{var r;return null==(r=e.getValue(t))?void 0:r.includes(n)};Mne.autoRemove=e=>Lne(e);const One=(e,t,n)=>!n.some(n=>{var r;return!(null!=(r=e.getValue(t))&&r.includes(n))});One.autoRemove=e=>Lne(e)||!(null!=e&&e.length);const Ane=(e,t,n)=>n.some(n=>{var r;return null==(r=e.getValue(t))?void 0:r.includes(n)});Ane.autoRemove=e=>Lne(e)||!(null!=e&&e.length);const Tne=(e,t,n)=>e.getValue(t)===n;Tne.autoRemove=e=>Lne(e);const Rne=(e,t,n)=>e.getValue(t)==n;Rne.autoRemove=e=>Lne(e);const Dne=(e,t,n)=>{let[r,i]=n;const a=e.getValue(t);return a>=r&&a<=i};Dne.resolveFilterValue=e=>{let[t,n]=e,r="number"!=typeof t?parseFloat(t):t,i="number"!=typeof n?parseFloat(n):n,a=null===t||Number.isNaN(r)?-1/0:r,s=null===n||Number.isNaN(i)?1/0:i;if(a>s){const e=a;a=s,s=e}return[a,s]},Dne.autoRemove=e=>Lne(e)||Lne(e[0])&&Lne(e[1]);const Ine={includesString:Cne,includesStringSensitive:Pne,equalsString:Ene,arrIncludes:Mne,arrIncludesAll:One,arrIncludesSome:Ane,equals:Tne,weakEquals:Rne,inNumberRange:Dne};function Lne(e){return null==e||""===e}const zne={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>h({columnFilters:[]},e),getDefaultOptions:e=>({onColumnFiltersChange:vne("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=null==n?void 0:n.getValue(e.id);return"string"==typeof r?Ine.includesString:"number"==typeof r?Ine.inNumberRange:"boolean"==typeof r||null!==r&&"object"==typeof r?Ine.equals:Array.isArray(r)?Ine.arrIncludes:Ine.weakEquals},e.getFilterFn=()=>{var n,r;return yne(e.columnDef.filterFn)?e.columnDef.filterFn:"auto"===e.columnDef.filterFn?e.getAutoFilterFn():null!=(n=null==(r=t.options.filterFns)?void 0:r[e.columnDef.filterFn])?n:Ine[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,i;return(null==(n=e.columnDef.enableColumnFilter)||n)&&(null==(r=t.options.enableColumnFilters)||r)&&(null==(i=t.options.enableFilters)||i)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return null==(n=t.getState().columnFilters)||null==(n=n.find(t=>t.id===e.id))?void 0:n.value},e.getFilterIndex=()=>{var n,r;return null!=(n=null==(r=t.getState().columnFilters)?void 0:r.findIndex(t=>t.id===e.id))?n:-1},e.setFilterValue=n=>{t.setColumnFilters(t=>{const r=e.getFilterFn(),i=null==t?void 0:t.find(t=>t.id===e.id),a=pne(n,i?i.value:void 0);var s;if(Fne(r,a,e))return null!=(s=null==t?void 0:t.filter(t=>t.id!==e.id))?s:[];const o={id:e.id,value:a};var l;return i?null!=(l=null==t?void 0:t.map(t=>t.id===e.id?o:t))?l:[]:null!=t&&t.length?[...t,o]:[o]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns();null==e.options.onColumnFiltersChange||e.options.onColumnFiltersChange(e=>{var r;return null==(r=pne(t,e))?void 0:r.filter(e=>{const t=n.find(t=>t.id===e.id);return!t||!Fne(t.getFilterFn(),e.value,t)})})},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.columnFilters)?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Fne(e,t,n){return!(!e||!e.autoRemove)&&e.autoRemove(t,n)||void 0===t||"string"==typeof t&&!t}const Bne={sum:(e,t,n)=>n.reduce((t,n)=>{const r=n.getValue(e);return t+("number"==typeof r?r:0)},0),min:(e,t,n)=>{let r;return n.forEach(t=>{const n=t.getValue(e);null!=n&&(r>n||void 0===r&&n>=n)&&(r=n)}),r},max:(e,t,n)=>{let r;return n.forEach(t=>{const n=t.getValue(e);null!=n&&(r<n||void 0===r&&n>=n)&&(r=n)}),r},extent:(e,t,n)=>{let r,i;return n.forEach(t=>{const n=t.getValue(e);null!=n&&(void 0===r?n>=n&&(r=i=n):(r>n&&(r=n),i<n&&(i=n)))}),[r,i]},mean:(e,t)=>{let n=0,r=0;if(t.forEach(t=>{let i=t.getValue(e);null!=i&&(i=+i)>=i&&(++n,r+=i)}),n)return r/n},median:(e,t)=>{if(!t.length)return;const n=t.map(t=>t.getValue(e));if(r=n,!Array.isArray(r)||!r.every(e=>"number"==typeof e))return;var r;if(1===n.length)return n[0];const i=Math.floor(n.length/2),a=n.sort((e,t)=>e-t);return n.length%2!=0?a[i]:(a[i-1]+a[i])/2},unique:(e,t)=>Array.from(new Set(t.map(t=>t.getValue(e))).values()),uniqueCount:(e,t)=>new Set(t.map(t=>t.getValue(e))).size,count:(e,t)=>t.length},Vne={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return null!=(t=null==(n=e.getValue())||null==n.toString?void 0:n.toString())?t:null},aggregationFn:"auto"}),getInitialState:e=>h({grouping:[]},e),getDefaultOptions:e=>({onGroupingChange:vne("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(t=>null!=t&&t.includes(e.id)?t.filter(t=>t!==e.id):[...null!=t?t:[],e.id])},e.getCanGroup=()=>{var n,r;return(null==(n=e.columnDef.enableGrouping)||n)&&(null==(r=t.options.enableGrouping)||r)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return null==(n=t.getState().grouping)?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return null==(n=t.getState().grouping)?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const t=e.getCanGroup();return()=>{t&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=null==n?void 0:n.getValue(e.id);return"number"==typeof r?Bne.sum:"[object Date]"===Object.prototype.toString.call(r)?Bne.extent:void 0},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return yne(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:"auto"===e.columnDef.aggregationFn?e.getAutoAggregationFn():null!=(n=null==(r=t.options.aggregationFns)?void 0:r[e.columnDef.aggregationFn])?n:Bne[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>null==e.options.onGroupingChange?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.grouping)?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return null!=r&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var t;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!(null==(t=n.subRows)||!t.length)}}},Wne={getInitialState:e=>h({columnOrder:[]},e),getDefaultOptions:e=>({onColumnOrderChange:vne("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=xne(e=>[qne(t,e)],t=>t.findIndex(t=>t.id===e.id),bne(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return(null==(r=qne(t,n)[0])?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const i=qne(t,n);return(null==(r=i[i.length-1])?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>null==e.options.onColumnOrderChange?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:null!=(n=e.initialState.columnOrder)?n:[])},e._getOrderColumnsFn=xne(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(e,t,n)=>r=>{let i=[];if(null!=e&&e.length){const t=[...e],n=[...r];for(;n.length&&t.length;){const e=t.shift(),r=n.findIndex(t=>t.id===e);r>-1&&i.push(n.splice(r,1)[0])}i=[...i,...n]}else i=r;return function(e,t,n){if(null==t||!t.length||!n)return e;const r=e.filter(e=>!t.includes(e.id));return"remove"===n?r:[...t.map(t=>e.find(e=>e.id===t)).filter(Boolean),...r]}(i,t,n)},bne(e.options,"debugTable"))}},$ne={getInitialState:e=>h({columnPinning:{left:[],right:[]}},e),getDefaultOptions:e=>({onColumnPinningChange:vne("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(e=>e.id).filter(Boolean);t.setColumnPinning(e=>{var t,i,a,s,o,l;return"right"===n?{left:(null!=(a=null==e?void 0:e.left)?a:[]).filter(e=>!(null!=r&&r.includes(e))),right:[...(null!=(s=null==e?void 0:e.right)?s:[]).filter(e=>!(null!=r&&r.includes(e))),...r]}:"left"===n?{left:[...(null!=(o=null==e?void 0:e.left)?o:[]).filter(e=>!(null!=r&&r.includes(e))),...r],right:(null!=(l=null==e?void 0:e.right)?l:[]).filter(e=>!(null!=r&&r.includes(e)))}:{left:(null!=(t=null==e?void 0:e.left)?t:[]).filter(e=>!(null!=r&&r.includes(e))),right:(null!=(i=null==e?void 0:e.right)?i:[]).filter(e=>!(null!=r&&r.includes(e)))}})},e.getCanPin=()=>e.getLeafColumns().some(e=>{var n,r,i;return(null==(n=e.columnDef.enablePinning)||n)&&(null==(r=null!=(i=t.options.enableColumnPinning)?i:t.options.enablePinning)||r)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(e=>e.id),{left:r,right:i}=t.getState().columnPinning,a=n.some(e=>null==r?void 0:r.includes(e)),s=n.some(e=>null==i?void 0:i.includes(e));return a?"left":!!s&&"right"},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();return i?null!=(n=null==(r=t.getState().columnPinning)||null==(r=r[i])?void 0:r.indexOf(e.id))?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=xne(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,t,n)=>{const r=[...null!=t?t:[],...null!=n?n:[]];return e.filter(e=>!r.includes(e.column.id))},bne(t.options,"debugRows")),e.getLeftVisibleCells=xne(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(e,t)=>(null!=t?t:[]).map(t=>e.find(e=>e.column.id===t)).filter(Boolean).map(e=>f(h({},e),{position:"left"})),bne(t.options,"debugRows")),e.getRightVisibleCells=xne(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(e,t)=>(null!=t?t:[]).map(t=>e.find(e=>e.column.id===t)).filter(Boolean).map(e=>f(h({},e),{position:"right"})),bne(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>null==e.options.onColumnPinningChange?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?{left:[],right:[]}:null!=(n=null==(r=e.initialState)?void 0:r.columnPinning)?n:{left:[],right:[]})},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;var i,a;return t?Boolean(null==(n=r[t])?void 0:n.length):Boolean((null==(i=r.left)?void 0:i.length)||(null==(a=r.right)?void 0:a.length))},e.getLeftLeafColumns=xne(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(e,t)=>(null!=t?t:[]).map(t=>e.find(e=>e.id===t)).filter(Boolean),bne(e.options,"debugColumns")),e.getRightLeafColumns=xne(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(e,t)=>(null!=t?t:[]).map(t=>e.find(e=>e.id===t)).filter(Boolean),bne(e.options,"debugColumns")),e.getCenterLeafColumns=xne(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(e,t,n)=>{const r=[...null!=t?t:[],...null!=n?n:[]];return e.filter(e=>!r.includes(e.id))},bne(e.options,"debugColumns"))}},Hne={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Kne={getDefaultColumnDef:()=>Hne,getInitialState:e=>h({columnSizing:{},columnSizingInfo:{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}},e),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:vne("columnSizing",e),onColumnSizingInfoChange:vne("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,i;const a=t.getState().columnSizing[e.id];return Math.min(Math.max(null!=(n=e.columnDef.minSize)?n:Hne.minSize,null!=(r=null!=a?a:e.columnDef.size)?r:Hne.size),null!=(i=e.columnDef.maxSize)?i:Hne.maxSize)},e.getStart=xne(e=>[e,qne(t,e),t.getState().columnSizing],(t,n)=>n.slice(0,e.getIndex(t)).reduce((e,t)=>e+t.getSize(),0),bne(t.options,"debugColumns")),e.getAfter=xne(e=>[e,qne(t,e),t.getState().columnSizing],(t,n)=>n.slice(e.getIndex(t)+1).reduce((e,t)=>e+t.getSize(),0),bne(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(t=>{var n;let r=t,{[n=e.id]:i}=r;return g(r,[m(n)])})},e.getCanResize=()=>{var n,r;return(null==(n=e.columnDef.enableResizing)||n)&&(null==(r=t.options.enableColumnResizing)||r)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let t=0;const n=e=>{var r;e.subHeaders.length?e.subHeaders.forEach(n):t+=null!=(r=e.column.getSize())?r:0};return n(e),t},e.getStart=()=>{if(e.index>0){const t=e.headerGroup.headers[e.index-1];return t.getStart()+t.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),i=null==r?void 0:r.getCanResize();return a=>{if(!r||!i)return;if(null==a.persist||a.persist(),Gne(a)&&a.touches&&a.touches.length>1)return;const s=e.getSize(),o=e?e.getLeafHeaders().map(e=>[e.column.id,e.column.getSize()]):[[r.id,r.getSize()]],l=Gne(a)?Math.round(a.touches[0].clientX):a.clientX,c={},u=(e,n)=>{"number"==typeof n&&(t.setColumnSizingInfo(e=>{var r,i;const a="rtl"===t.options.columnResizeDirection?-1:1,s=(n-(null!=(r=null==e?void 0:e.startOffset)?r:0))*a,o=Math.max(s/(null!=(i=null==e?void 0:e.startSize)?i:0),-.999999);return e.columnSizingStart.forEach(e=>{let[t,n]=e;c[t]=Math.round(100*Math.max(n+n*o,0))/100}),f(h({},e),{deltaOffset:s,deltaPercentage:o})}),"onChange"!==t.options.columnResizeMode&&"end"!==e||t.setColumnSizing(e=>h(h({},e),c)))},d=e=>u("move",e),m=e=>{u("end",e),t.setColumnSizingInfo(e=>f(h({},e),{isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},g=n||("undefined"!=typeof document?document:null),p={moveHandler:e=>d(e.clientX),upHandler:e=>{null==g||g.removeEventListener("mousemove",p.moveHandler),null==g||g.removeEventListener("mouseup",p.upHandler),m(e.clientX)}},v={moveHandler:e=>(e.cancelable&&(e.preventDefault(),e.stopPropagation()),d(e.touches[0].clientX),!1),upHandler:e=>{var t;null==g||g.removeEventListener("touchmove",v.moveHandler),null==g||g.removeEventListener("touchend",v.upHandler),e.cancelable&&(e.preventDefault(),e.stopPropagation()),m(null==(t=e.touches[0])?void 0:t.clientX)}},y=!!function(){if("boolean"==typeof Une)return Une;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch(zse){e=!1}return Une=e,Une}()&&{passive:!1};Gne(a)?(null==g||g.addEventListener("touchmove",v.moveHandler,y),null==g||g.addEventListener("touchend",v.upHandler,y)):(null==g||g.addEventListener("mousemove",p.moveHandler,y),null==g||g.addEventListener("mouseup",p.upHandler,y)),t.setColumnSizingInfo(e=>f(h({},e),{startOffset:l,startSize:s,deltaOffset:0,deltaPercentage:0,columnSizingStart:o,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>null==e.options.onColumnSizingChange?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>null==e.options.onColumnSizingInfoChange?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:null!=(n=e.initialState.columnSizing)?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}:null!=(n=e.initialState.columnSizingInfo)?n:{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]})},e.getTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getHeaderGroups()[0])?void 0:n.headers.reduce((e,t)=>e+t.getSize(),0))?t:0},e.getLeftTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getLeftHeaderGroups()[0])?void 0:n.headers.reduce((e,t)=>e+t.getSize(),0))?t:0},e.getCenterTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getCenterHeaderGroups()[0])?void 0:n.headers.reduce((e,t)=>e+t.getSize(),0))?t:0},e.getRightTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getRightHeaderGroups()[0])?void 0:n.headers.reduce((e,t)=>e+t.getSize(),0))?t:0}}};let Une=null;function Gne(e){return"touchstart"===e.type}function qne(e,t){return t?"center"===t?e.getCenterVisibleLeafColumns():"left"===t?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const Yne={getInitialState:e=>h({rowSelection:{}},e),getDefaultOptions:e=>({onRowSelectionChange:vne("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>null==e.options.onRowSelectionChange?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:null!=(n=e.initialState.rowSelection)?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=void 0!==t?t:!e.getIsAllRowsSelected();const r=h({},n),i=e.getPreGroupedRowModel().flatRows;return t?i.forEach(e=>{e.getCanSelect()&&(r[e.id]=!0)}):i.forEach(e=>{delete r[e.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=void 0!==t?t:!e.getIsAllPageRowsSelected(),i=h({},n);return e.getRowModel().rows.forEach(t=>{Xne(i,t.id,r,!0,e)}),i}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=xne(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?Qne(e,n):{rows:[],flatRows:[],rowsById:{}},bne(e.options,"debugTable")),e.getFilteredSelectedRowModel=xne(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?Qne(e,n):{rows:[],flatRows:[],rowsById:{}},bne(e.options,"debugTable")),e.getGroupedSelectedRowModel=xne(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?Qne(e,n):{rows:[],flatRows:[],rowsById:{}},bne(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=Boolean(t.length&&Object.keys(n).length);return r&&t.some(e=>e.getCanSelect()&&!n[e.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(e=>e.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(e=>!n[e.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys(null!=(t=e.getState().rowSelection)?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return!e.getIsAllPageRowsSelected()&&t.filter(e=>e.getCanSelect()).some(e=>e.getIsSelected()||e.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const i=e.getIsSelected();t.setRowSelection(a=>{var s;if(n=void 0!==n?n:!i,e.getCanSelect()&&i===n)return a;const o=h({},a);return Xne(o,e.id,n,null==(s=null==r?void 0:r.selectChildren)||s,t),o})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return Zne(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return"some"===Jne(e,n)},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return"all"===Jne(e,n)},e.getCanSelect=()=>{var n;return"function"==typeof t.options.enableRowSelection?t.options.enableRowSelection(e):null==(n=t.options.enableRowSelection)||n},e.getCanSelectSubRows=()=>{var n;return"function"==typeof t.options.enableSubRowSelection?t.options.enableSubRowSelection(e):null==(n=t.options.enableSubRowSelection)||n},e.getCanMultiSelect=()=>{var n;return"function"==typeof t.options.enableMultiRowSelection?t.options.enableMultiRowSelection(e):null==(n=t.options.enableMultiRowSelection)||n},e.getToggleSelectedHandler=()=>{const t=e.getCanSelect();return n=>{var r;t&&e.toggleSelected(null==(r=n.target)?void 0:r.checked)}}}},Xne=(e,t,n,r,i)=>{var a;const s=i.getRow(t,!0);n?(s.getCanMultiSelect()||Object.keys(e).forEach(t=>delete e[t]),s.getCanSelect()&&(e[t]=!0)):delete e[t],r&&null!=(a=s.subRows)&&a.length&&s.getCanSelectSubRows()&&s.subRows.forEach(t=>Xne(e,t.id,n,r,i))};function Qne(e,t){const n=e.getState().rowSelection,r=[],i={},a=function(e,t){return e.map(e=>{var t;const s=Zne(e,n);if(s&&(r.push(e),i[e.id]=e),null!=(t=e.subRows)&&t.length&&(e=f(h({},e),{subRows:a(e.subRows)})),s)return e}).filter(Boolean)};return{rows:a(t.rows),flatRows:r,rowsById:i}}function Zne(e,t){var n;return null!=(n=t[e.id])&&n}function Jne(e,t,n){var r;if(null==(r=e.subRows)||!r.length)return!1;let i=!0,a=!1;return e.subRows.forEach(e=>{if((!a||i)&&(e.getCanSelect()&&(Zne(e,t)?a=!0:i=!1),e.subRows&&e.subRows.length)){const n=Jne(e,t);"all"===n?a=!0:"some"===n?(a=!0,i=!1):i=!1}}),i?"all":!!a&&"some"}const ere=/([0-9]+)/gm;function tre(e,t){return e===t?0:e>t?1:-1}function nre(e){return"number"==typeof e?isNaN(e)||e===1/0||e===-1/0?"":String(e):"string"==typeof e?e:""}function rre(e,t){const n=e.split(ere).filter(Boolean),r=t.split(ere).filter(Boolean);for(;n.length&&r.length;){const e=n.shift(),t=r.shift(),i=parseInt(e,10),a=parseInt(t,10),s=[i,a].sort();if(isNaN(s[0])){if(e>t)return 1;if(t>e)return-1}else{if(isNaN(s[1]))return isNaN(i)?-1:1;if(i>a)return 1;if(a>i)return-1}}return n.length-r.length}const ire={alphanumeric:(e,t,n)=>rre(nre(e.getValue(n)).toLowerCase(),nre(t.getValue(n)).toLowerCase()),alphanumericCaseSensitive:(e,t,n)=>rre(nre(e.getValue(n)),nre(t.getValue(n))),text:(e,t,n)=>tre(nre(e.getValue(n)).toLowerCase(),nre(t.getValue(n)).toLowerCase()),textCaseSensitive:(e,t,n)=>tre(nre(e.getValue(n)),nre(t.getValue(n))),datetime:(e,t,n)=>{const r=e.getValue(n),i=t.getValue(n);return r>i?1:r<i?-1:0},basic:(e,t,n)=>tre(e.getValue(n),t.getValue(n))},are=[jne,{getInitialState:e=>h({columnVisibility:{}},e),getDefaultOptions:e=>({onColumnVisibilityChange:vne("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(t=>f(h({},t),{[e.id]:null!=n?n:!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const i=e.columns;return null==(n=i.length?i.some(e=>e.getIsVisible()):null==(r=t.getState().columnVisibility)?void 0:r[e.id])||n},e.getCanHide=()=>{var n,r;return(null==(n=e.columnDef.enableHiding)||n)&&(null==(r=t.options.enableHiding)||r)},e.getToggleVisibilityHandler=()=>t=>{null==e.toggleVisibility||e.toggleVisibility(t.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=xne(()=>[e.getAllCells(),t.getState().columnVisibility],e=>e.filter(e=>e.column.getIsVisible()),bne(t.options,"debugRows")),e.getVisibleCells=xne(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(e,t,n)=>[...e,...t,...n],bne(t.options,"debugRows"))},createTable:e=>{const t=(t,n)=>xne(()=>[n(),n().filter(e=>e.getIsVisible()).map(e=>e.id).join("_")],e=>e.filter(e=>null==e.getIsVisible?void 0:e.getIsVisible()),bne(e.options,"debugColumns"));e.getVisibleFlatColumns=t(0,()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t(0,()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t(0,()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t(0,()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t(0,()=>e.getCenterLeafColumns()),e.setColumnVisibility=t=>null==e.options.onColumnVisibilityChange?void 0:e.options.onColumnVisibilityChange(t),e.resetColumnVisibility=t=>{var n;e.setColumnVisibility(t?{}:null!=(n=e.initialState.columnVisibility)?n:{})},e.toggleAllColumnsVisible=t=>{var n;t=null!=(n=t)?n:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((e,n)=>f(h({},e),{[n.id]:t||!(null!=n.getCanHide&&n.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(e=>!(null!=e.getIsVisible&&e.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(e=>null==e.getIsVisible?void 0:e.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>t=>{var n;e.toggleAllColumnsVisible(null==(n=t.target)?void 0:n.checked)}}},Wne,$ne,Sne,zne,{createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},{getInitialState:e=>h({globalFilter:void 0},e),getDefaultOptions:e=>({onGlobalFilterChange:vne("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=null==(n=e.getCoreRowModel().flatRows[0])||null==(n=n._getAllCellsByColumnId()[t.id])?void 0:n.getValue();return"string"==typeof r||"number"==typeof r}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,i,a;return(null==(n=e.columnDef.enableGlobalFilter)||n)&&(null==(r=t.options.enableGlobalFilter)||r)&&(null==(i=t.options.enableFilters)||i)&&(null==(a=null==t.options.getColumnCanGlobalFilter?void 0:t.options.getColumnCanGlobalFilter(e))||a)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Ine.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return yne(r)?r:"auto"===r?e.getGlobalAutoFilterFn():null!=(t=null==(n=e.options.filterFns)?void 0:n[r])?t:Ine[r]},e.setGlobalFilter=t=>{null==e.options.onGlobalFilterChange||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},{getInitialState:e=>h({sorting:[]},e),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:vne("sorting",e),isMultiSortEvent:e=>e.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const t of n){const n=null==t?void 0:t.getValue(e.id);if("[object Date]"===Object.prototype.toString.call(n))return ire.datetime;if("string"==typeof n&&(r=!0,n.split(ere).length>1))return ire.alphanumeric}return r?ire.text:ire.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return"string"==typeof(null==n?void 0:n.getValue(e.id))?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return yne(e.columnDef.sortingFn)?e.columnDef.sortingFn:"auto"===e.columnDef.sortingFn?e.getAutoSortingFn():null!=(n=null==(r=t.options.sortingFns)?void 0:r[e.columnDef.sortingFn])?n:ire[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const i=e.getNextSortingOrder(),a=null!=n;t.setSorting(s=>{const o=null==s?void 0:s.find(t=>t.id===e.id),l=null==s?void 0:s.findIndex(t=>t.id===e.id);let c,u=[],d=a?n:"desc"===i;var m;return c=null!=s&&s.length&&e.getCanMultiSort()&&r?o?"toggle":"add":null!=s&&s.length&&l!==s.length-1?"replace":o?"toggle":"replace","toggle"===c&&(a||i||(c="remove")),"add"===c?(u=[...s,{id:e.id,desc:d}],u.splice(0,u.length-(null!=(m=t.options.maxMultiSortColCount)?m:Number.MAX_SAFE_INTEGER))):u="toggle"===c?s.map(t=>t.id===e.id?f(h({},t),{desc:d}):t):"remove"===c?s.filter(t=>t.id!==e.id):[{id:e.id,desc:d}],u})},e.getFirstSortDir=()=>{var n,r;return(null!=(n=null!=(r=e.columnDef.sortDescFirst)?r:t.options.sortDescFirst)?n:"desc"===e.getAutoSortDir())?"desc":"asc"},e.getNextSortingOrder=n=>{var r,i;const a=e.getFirstSortDir(),s=e.getIsSorted();return s?!!(s===a||null!=(r=t.options.enableSortingRemoval)&&!r||n&&null!=(i=t.options.enableMultiRemove)&&!i)&&("desc"===s?"asc":"desc"):a},e.getCanSort=()=>{var n,r;return(null==(n=e.columnDef.enableSorting)||n)&&(null==(r=t.options.enableSorting)||r)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return null!=(n=null!=(r=e.columnDef.enableMultiSort)?r:t.options.enableMultiSort)?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=null==(n=t.getState().sorting)?void 0:n.find(t=>t.id===e.id);return!!r&&(r.desc?"desc":"asc")},e.getSortIndex=()=>{var n,r;return null!=(n=null==(r=t.getState().sorting)?void 0:r.findIndex(t=>t.id===e.id))?n:-1},e.clearSorting=()=>{t.setSorting(t=>null!=t&&t.length?t.filter(t=>t.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(null==r.persist||r.persist(),null==e.toggleSorting||e.toggleSorting(void 0,!!e.getCanMultiSort()&&(null==t.options.isMultiSortEvent?void 0:t.options.isMultiSortEvent(r))))}}},createTable:e=>{e.setSorting=t=>null==e.options.onSortingChange?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.sorting)?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},Vne,{getInitialState:e=>h({expanded:{}},e),getDefaultOptions:e=>({onExpandedChange:vne("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,i;if(t){if(null!=(r=null!=(i=e.options.autoResetAll)?i:e.options.autoResetExpanded)?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}}else e._queue(()=>{t=!0})},e.setExpanded=t=>null==e.options.onExpandedChange?void 0:e.options.onExpandedChange(t),e.toggleAllRowsExpanded=t=>{(null!=t?t:!e.getIsAllRowsExpanded())?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=t=>{var n,r;e.setExpanded(t?{}:null!=(n=null==(r=e.initialState)?void 0:r.expanded)?n:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(e=>e.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>t=>{null==t.persist||t.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const t=e.getState().expanded;return!0===t||Object.values(t).some(Boolean)},e.getIsAllRowsExpanded=()=>{const t=e.getState().expanded;return"boolean"==typeof t?!0===t:!!Object.keys(t).length&&!e.getRowModel().flatRows.some(e=>!e.getIsExpanded())},e.getExpandedDepth=()=>{let t=0;return(!0===e.getState().expanded?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(e=>{const n=e.split(".");t=Math.max(t,n.length)}),t},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var i,a;const s=!0===r||!(null==r||!r[e.id]);let o={};if(!0===r?Object.keys(t.getRowModel().rowsById).forEach(e=>{o[e]=!0}):o=r,n=null!=(a=n)?a:!s,!s&&n)return f(h({},o),{[e.id]:!0});if(s&&!n){const t=o,{[i=e.id]:n}=t;return g(t,[m(i)])}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!(null!=(n=null==t.options.getIsRowExpanded?void 0:t.options.getIsRowExpanded(e))?n:!0===r||(null==r?void 0:r[e.id]))},e.getCanExpand=()=>{var n,r,i;return null!=(n=null==t.options.getRowCanExpand?void 0:t.options.getRowCanExpand(e))?n:(null==(r=t.options.enableExpanding)||r)&&!(null==(i=e.subRows)||!i.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const t=e.getCanExpand();return()=>{t&&e.toggleExpanded()}}}},{getInitialState:e=>f(h({},e),{pagination:h(h({},{pageIndex:0,pageSize:10}),null==e?void 0:e.pagination)}),getDefaultOptions:e=>({onPaginationChange:vne("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,i;if(t){if(null!=(r=null!=(i=e.options.autoResetAll)?i:e.options.autoResetPageIndex)?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}}else e._queue(()=>{t=!0})},e.setPagination=t=>null==e.options.onPaginationChange?void 0:e.options.onPaginationChange(e=>pne(t,e)),e.resetPagination=t=>{var n;e.setPagination(t?{pageIndex:0,pageSize:10}:null!=(n=e.initialState.pagination)?n:{pageIndex:0,pageSize:10})},e.setPageIndex=t=>{e.setPagination(n=>{let r=pne(t,n.pageIndex);const i=void 0===e.options.pageCount||-1===e.options.pageCount?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return r=Math.max(0,Math.min(r,i)),f(h({},n),{pageIndex:r})})},e.resetPageIndex=t=>{var n,r;e.setPageIndex(t?0:null!=(n=null==(r=e.initialState)||null==(r=r.pagination)?void 0:r.pageIndex)?n:0)},e.resetPageSize=t=>{var n,r;e.setPageSize(t?10:null!=(n=null==(r=e.initialState)||null==(r=r.pagination)?void 0:r.pageSize)?n:10)},e.setPageSize=t=>{e.setPagination(e=>{const n=Math.max(1,pne(t,e.pageSize)),r=e.pageSize*e.pageIndex,i=Math.floor(r/n);return f(h({},e),{pageIndex:i,pageSize:n})})},e.setPageCount=t=>e.setPagination(n=>{var r;let i=pne(t,null!=(r=e.options.pageCount)?r:-1);return"number"==typeof i&&(i=Math.max(-1,i)),f(h({},n),{pageCount:i})}),e.getPageOptions=xne(()=>[e.getPageCount()],e=>{let t=[];return e&&e>0&&(t=[...new Array(e)].fill(null).map((e,t)=>t)),t},bne(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:t}=e.getState().pagination,n=e.getPageCount();return-1===n||0!==n&&t<n-1},e.previousPage=()=>e.setPageIndex(e=>e-1),e.nextPage=()=>e.setPageIndex(e=>e+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var t;return null!=(t=e.options.pageCount)?t:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var t;return null!=(t=e.options.rowCount)?t:e.getPrePaginationRowModel().rows.length}}},{getInitialState:e=>h({rowPinning:{top:[],bottom:[]}},e),getDefaultOptions:e=>({onRowPinningChange:vne("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,i)=>{const a=r?e.getLeafRows().map(e=>{let{id:t}=e;return t}):[],s=i?e.getParentRows().map(e=>{let{id:t}=e;return t}):[],o=new Set([...s,e.id,...a]);t.setRowPinning(e=>{var t,r,i,a,s,l;return"bottom"===n?{top:(null!=(i=null==e?void 0:e.top)?i:[]).filter(e=>!(null!=o&&o.has(e))),bottom:[...(null!=(a=null==e?void 0:e.bottom)?a:[]).filter(e=>!(null!=o&&o.has(e))),...Array.from(o)]}:"top"===n?{top:[...(null!=(s=null==e?void 0:e.top)?s:[]).filter(e=>!(null!=o&&o.has(e))),...Array.from(o)],bottom:(null!=(l=null==e?void 0:e.bottom)?l:[]).filter(e=>!(null!=o&&o.has(e)))}:{top:(null!=(t=null==e?void 0:e.top)?t:[]).filter(e=>!(null!=o&&o.has(e))),bottom:(null!=(r=null==e?void 0:e.bottom)?r:[]).filter(e=>!(null!=o&&o.has(e)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=t.options;return"function"==typeof r?r(e):null==(n=null!=r?r:i)||n},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:i}=t.getState().rowPinning,a=n.some(e=>null==r?void 0:r.includes(e)),s=n.some(e=>null==i?void 0:i.includes(e));return a?"top":!!s&&"bottom"},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();if(!i)return-1;const a=null==(n="top"===i?t.getTopRows():t.getBottomRows())?void 0:n.map(e=>{let{id:t}=e;return t});return null!=(r=null==a?void 0:a.indexOf(e.id))?r:-1}},createTable:e=>{e.setRowPinning=t=>null==e.options.onRowPinningChange?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?{top:[],bottom:[]}:null!=(n=null==(r=e.initialState)?void 0:r.rowPinning)?n:{top:[],bottom:[]})},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;var i,a;return t?Boolean(null==(n=r[t])?void 0:n.length):Boolean((null==(i=r.top)?void 0:i.length)||(null==(a=r.bottom)?void 0:a.length))},e._getPinnedRows=(t,n,r)=>{var i;return(null==(i=e.options.keepPinnedRows)||i?(null!=n?n:[]).map(t=>{const n=e.getRow(t,!0);return n.getIsAllParentsExpanded()?n:null}):(null!=n?n:[]).map(e=>t.find(t=>t.id===e))).filter(Boolean).map(e=>f(h({},e),{position:r}))},e.getTopRows=xne(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),bne(e.options,"debugRows")),e.getBottomRows=xne(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),bne(e.options,"debugRows")),e.getCenterRows=xne(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(e,t,n)=>{const r=new Set([...null!=t?t:[],...null!=n?n:[]]);return e.filter(e=>!r.has(e.id))},bne(e.options,"debugRows"))}},Yne,Kne];function sre(e){var t,n;const r=[...are,...null!=(t=e._features)?t:[]];let i={_features:r};const a=i._features.reduce((e,t)=>Object.assign(e,null==t.getDefaultOptions?void 0:t.getDefaultOptions(i)),{});let s=h(h({},{}),null!=(n=e.initialState)?n:{});i._features.forEach(e=>{var t;s=null!=(t=null==e.getInitialState?void 0:e.getInitialState(s))?t:s});const o=[];let l=!1;const c={_features:r,options:h(h({},a),e),initialState:s,_queue:e=>{o.push(e),l||(l=!0,Promise.resolve().then(()=>{for(;o.length;)o.shift()();l=!1}).catch(e=>setTimeout(()=>{throw e})))},reset:()=>{i.setState(i.initialState)},setOptions:e=>{const t=pne(e,i.options);var n;i.options=(n=t,i.options.mergeOptions?i.options.mergeOptions(a,n):h(h({},a),n))},getState:()=>i.options.state,setState:e=>{null==i.options.onStateChange||i.options.onStateChange(e)},_getRowId:(e,t,n)=>{var r;return null!=(r=null==i.options.getRowId?void 0:i.options.getRowId(e,t,n))?r:`${n?[n.id,t].join("."):t}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(e,t)=>{let n=(t?i.getPrePaginationRowModel():i.getRowModel()).rowsById[e];if(!n&&(n=i.getCoreRowModel().rowsById[e],!n))throw new Error;return n},_getDefaultColumnDef:xne(()=>[i.options.defaultColumn],e=>{var t;return e=null!=(t=e)?t:{},h(h({header:e=>{const t=e.header.column.columnDef;return t.accessorKey?t.accessorKey:t.accessorFn?t.id:null},cell:e=>{var t,n;return null!=(t=null==(n=e.renderValue())||null==n.toString?void 0:n.toString())?t:null}},i._features.reduce((e,t)=>Object.assign(e,null==t.getDefaultColumnDef?void 0:t.getDefaultColumnDef()),{})),e)},bne(e,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:xne(()=>[i._getColumnDefs()],e=>{const t=function(e,n,r){return void 0===r&&(r=0),e.map(e=>{const a=function(e,t,n,r){var i,a;const s=e._getDefaultColumnDef(),o=h(h({},s),t),l=o.accessorKey;let c,u=null!=(i=null!=(a=o.id)?a:l?"function"==typeof String.prototype.replaceAll?l.replaceAll(".","_"):l.replace(/\./g,"_"):void 0)?i:"string"==typeof o.header?o.header:void 0;if(o.accessorFn?c=o.accessorFn:l&&(c=l.includes(".")?e=>{let t=e;for(const r of l.split(".")){var n;t=null==(n=t)?void 0:n[r]}return t}:e=>e[o.accessorKey]),!u)throw new Error;let d={id:`${String(u)}`,accessorFn:c,parent:r,depth:n,columnDef:o,columns:[],getFlatColumns:xne(()=>[!0],()=>{var e;return[d,...null==(e=d.columns)?void 0:e.flatMap(e=>e.getFlatColumns())]},bne(e.options,"debugColumns")),getLeafColumns:xne(()=>[e._getOrderColumnsFn()],e=>{var t;return null!=(t=d.columns)&&t.length?e(d.columns.flatMap(e=>e.getLeafColumns())):[d]},bne(e.options,"debugColumns"))};for(const h of e._features)null==h.createColumn||h.createColumn(d,e);return d}(i,e,r,n),s=e;return a.columns=s.columns?t(s.columns,a,r+1):[],a})};return t(e)},bne(e,"debugColumns")),getAllFlatColumns:xne(()=>[i.getAllColumns()],e=>e.flatMap(e=>e.getFlatColumns()),bne(e,"debugColumns")),_getAllFlatColumnsById:xne(()=>[i.getAllFlatColumns()],e=>e.reduce((e,t)=>(e[t.id]=t,e),{}),bne(e,"debugColumns")),getAllLeafColumns:xne(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(e,t)=>t(e.flatMap(e=>e.getLeafColumns())),bne(e,"debugColumns")),getColumn:e=>i._getAllFlatColumnsById()[e]};Object.assign(i,c);for(let u=0;u<i._features.length;u++){const e=i._features[u];null==e||null==e.createTable||e.createTable(i)}return i}function ore(){return e=>xne(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(t,i,a){void 0===i&&(i=0);const s=[];for(let l=0;l<t.length;l++){const c=kne(e,e._getRowId(t[l],l,a),t[l],l,i,0,null==a?void 0:a.id);var o;n.flatRows.push(c),n.rowsById[c.id]=c,s.push(c),e.options.getSubRows&&(c.originalSubRows=e.options.getSubRows(t[l],l),null!=(o=c.originalSubRows)&&o.length&&(c.subRows=r(c.originalSubRows,i+1,c)))}return s};return n.rows=r(t),n},bne(e.options,"debugTable",0,()=>e._autoResetPageIndex()))}function lre(e,t,n){return n.options.filterFromLeafRows?function(e,t,n){var r;const i=[],a={},s=null!=(r=n.options.maxLeafRowFilterDepth)?r:100,o=function(e,r){void 0===r&&(r=0);const l=[];for(let u=0;u<e.length;u++){var c;let d=e[u];const h=kne(n,d.id,d.original,d.index,d.depth,0,d.parentId);if(h.columnFilters=d.columnFilters,null!=(c=d.subRows)&&c.length&&r<s){if(h.subRows=o(d.subRows,r+1),d=h,t(d)&&!h.subRows.length){l.push(d),a[d.id]=d,i.push(d);continue}if(t(d)||h.subRows.length){l.push(d),a[d.id]=d,i.push(d);continue}}else d=h,t(d)&&(l.push(d),a[d.id]=d,i.push(d))}return l};return{rows:o(e),flatRows:i,rowsById:a}}(e,t,n):function(e,t,n){var r;const i=[],a={},s=null!=(r=n.options.maxLeafRowFilterDepth)?r:100,o=function(e,r){void 0===r&&(r=0);const l=[];for(let u=0;u<e.length;u++){let d=e[u];if(t(d)){var c;if(null!=(c=d.subRows)&&c.length&&r<s){const e=kne(n,d.id,d.original,d.index,d.depth,0,d.parentId);e.subRows=o(d.subRows,r+1),d=e}l.push(d),i.push(d),a[d.id]=d}}return l};return{rows:o(e),flatRows:i,rowsById:a}}(e,t,n)}function cre(){return e=>xne(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||(null==n||!n.length)&&!r){for(let e=0;e<t.flatRows.length;e++)t.flatRows[e].columnFilters={},t.flatRows[e].columnFiltersMeta={};return t}const i=[],a=[];(null!=n?n:[]).forEach(t=>{var n;const r=e.getColumn(t.id);if(!r)return;const a=r.getFilterFn();a&&i.push({id:t.id,filterFn:a,resolvedValue:null!=(n=null==a.resolveFilterValue?void 0:a.resolveFilterValue(t.value))?n:t.value})});const s=(null!=n?n:[]).map(e=>e.id),o=e.getGlobalFilterFn(),l=e.getAllLeafColumns().filter(e=>e.getCanGlobalFilter());let c,u;r&&o&&l.length&&(s.push("__global__"),l.forEach(e=>{var t;a.push({id:e.id,filterFn:o,resolvedValue:null!=(t=null==o.resolveFilterValue?void 0:o.resolveFilterValue(r))?t:r})}));for(let e=0;e<t.flatRows.length;e++){const n=t.flatRows[e];if(n.columnFilters={},i.length)for(let e=0;e<i.length;e++){c=i[e];const t=c.id;n.columnFilters[t]=c.filterFn(n,t,c.resolvedValue,e=>{n.columnFiltersMeta[t]=e})}if(a.length){for(let e=0;e<a.length;e++){u=a[e];const t=u.id;if(u.filterFn(n,t,u.resolvedValue,e=>{n.columnFiltersMeta[t]=e})){n.columnFilters.__global__=!0;break}}!0!==n.columnFilters.__global__&&(n.columnFilters.__global__=!1)}}return lre(t.rows,e=>{for(let t=0;t<s.length;t++)if(!1===e.columnFilters[s[t]])return!1;return!0},e)},bne(e.options,"debugTable",0,()=>e._autoResetPageIndex()))}function ure(e){return e=>xne(()=>[e.getState().pagination,e.getPrePaginationRowModel(),e.options.paginateExpandedRows?void 0:e.getState().expanded],(t,n)=>{if(!n.rows.length)return n;const{pageSize:r,pageIndex:i}=t;let{rows:a,flatRows:s,rowsById:o}=n;const l=r*i,c=l+r;let u;a=a.slice(l,c),u=e.options.paginateExpandedRows?{rows:a,flatRows:s,rowsById:o}:function(e){const t=[],n=e=>{var r;t.push(e),null!=(r=e.subRows)&&r.length&&e.getIsExpanded()&&e.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}({rows:a,flatRows:s,rowsById:o}),u.flatRows=[];const d=e=>{u.flatRows.push(e),e.subRows.length&&e.subRows.forEach(d)};return u.rows.forEach(d),u},bne(e.options,"debugTable"))}function dre(){return e=>xne(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||null==t||!t.length)return n;const r=e.getState().sorting,i=[],a=r.filter(t=>{var n;return null==(n=e.getColumn(t.id))?void 0:n.getCanSort()}),s={};a.forEach(t=>{const n=e.getColumn(t.id);n&&(s[t.id]={sortUndefined:n.columnDef.sortUndefined,invertSorting:n.columnDef.invertSorting,sortingFn:n.getSortingFn()})});const o=e=>{const t=e.map(e=>h({},e));return t.sort((e,t)=>{for(let r=0;r<a.length;r+=1){var n;const i=a[r],o=s[i.id],l=o.sortUndefined,c=null!=(n=null==i?void 0:i.desc)&&n;let u=0;if(l){const n=void 0===e.getValue(i.id),r=void 0===t.getValue(i.id);if(n||r){if("first"===l)return n?-1:1;if("last"===l)return n?1:-1;u=n&&r?0:n?l:-l}}if(0===u&&(u=o.sortingFn(e,t,i.id)),0!==u)return c&&(u*=-1),o.invertSorting&&(u*=-1),u}return e.index-t.index}),t.forEach(e=>{var t;i.push(e),null!=(t=e.subRows)&&t.length&&(e.subRows=o(e.subRows))}),t};return{rows:o(n.rows),flatRows:i,rowsById:n.rowsById}},bne(e.options,"debugTable",0,()=>e._autoResetPageIndex()))}
/**
       * react-table
       *
       * Copyright (c) TanStack
       *
       * This source code is licensed under the MIT license found in the
       * LICENSE.md file in the root directory of this source tree.
       *
       * @license MIT
       */function hre(e,t){return e?function(e){return"function"==typeof e&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}(n=e)||"function"==typeof n||function(e){return"object"==typeof e&&"symbol"==typeof e.$$typeof&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}(n)?k.createElement(e,t):e:null;var n}function fre(e){const t=h({state:{},onStateChange:()=>{},renderFallbackValue:null},e),[n]=k.useState(()=>({current:sre(t)})),[r,i]=k.useState(()=>n.current.initialState);return n.current.setOptions(t=>f(h(h({},t),e),{state:h(h({},r),e.state),onStateChange:t=>{i(t),null==e.onStateChange||e.onStateChange(t)}})),n.current}const mre=e=>{const t=100*e;return t>=80?"bg-purple-600 text-white":t>=70?"bg-green-700 text-white":t>=60?"bg-green-500 text-white":t>=50?"bg-green-400 text-black":t>=40?"bg-yellow-400 text-black":t>=30?"bg-orange-400 text-black":t>=20?"bg-red-400 text-white":"bg-red-600 text-white"},gre=({data:e,dataType:t="industry",filteredItems:n=null,title:r="RS 21-Bar Heatmap",showAdditionalColumns:i=!0,onItemClick:a=null,selectedItem:s=null,setSelectedItem:o=null})=>{const[l,c]=k.useState(""),[u,d]=k.useState([]),h=k.useMemo(()=>{if(!e)return[];let r=[];if("industry"===t)r=e.industries||[];else if("ticker"===t&&(r=e.symbols||[],n&&n.length>0)){const e=new Set(n.map(e=>e.symbol));r=r.filter(t=>e.has(t.id||t.symbol))}return r},[e,t,n]),f=k.useMemo(()=>{const e=new Set;return h.forEach(t=>{t.rs_bars&&t.rs_bars.forEach(t=>{t.date&&e.add(t.date)})}),Array.from(e).sort((e,t)=>new Date(t)-new Date(e))},[h]),m=gne(),g=k.useMemo(()=>{const e=[m.accessor("name",{header:"industry"===t?"Ngành":"Mã CP",cell:({getValue:e})=>b.jsx("div",{className:"font-medium text-gray-900",children:e()}),enableSorting:!0,enableGlobalFilter:!0})];return"ticker"===t&&e.push(m.accessor("industry_name",{header:"Ngành",cell:({getValue:e})=>b.jsx("div",{className:"text-xs text-gray-600",children:e()||"-"}),enableSorting:!0,enableGlobalFilter:!0})),i&&e.push(m.accessor("current_crs",{header:"CRS",cell:({getValue:e})=>{const t=e();return b.jsx("div",{className:"px-1 py-0.5 rounded text-white text-xs font-medium "+((t||0)>0?"bg-green-600":"bg-red-600"),children:null!=t?`${(100*t).toFixed(1)}%`:"-"})},enableSorting:!0}),m.accessor("rs_trend_fast",{header:"Fast",cell:({getValue:e})=>{const t=e();return b.jsx("div",{className:"px-1 py-0.5 rounded text-white text-xs font-medium "+((t||0)>0?"bg-green-600":(t||0)<0?"bg-red-600":"bg-gray-600"),children:null!=t?`${(100*t).toFixed(1)}%`:"-"})},enableSorting:!0}),m.accessor("rs_trend_slow",{header:"Slow",cell:({getValue:e})=>{const t=e();return b.jsx("div",{className:"px-1 py-0.5 rounded text-white text-xs font-medium "+((t||0)>0?"bg-green-600":(t||0)<0?"bg-red-600":"bg-gray-600"),children:null!=t?`${(100*t).toFixed(1)}%`:"-"})},enableSorting:!0})),f.forEach(t=>{e.push(m.accessor(`rs_bars.${t}`,{header:()=>b.jsx("div",{className:"text-center text-xs font-medium",children:new Date(t).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit"})}),cell:({row:e})=>{var n,r;const i=null==(r=null==(n=e.original.rs_bars)?void 0:n.find(e=>e.date===t))?void 0:r.rs_value;return b.jsx("div",{className:`w-full h-6 flex items-center justify-center text-xs font-medium ${mre(i)}`,title:`${e.original.name}: ${i?Math.round(100*i):"N/A"} (${t})`,children:i?Math.round(100*i):"-"})},enableSorting:!0,sortingFn:(e,n,r)=>{var i,a,s,o;return((null==(a=null==(i=e.original.rs_bars)?void 0:i.find(e=>e.date===t))?void 0:a.rs_value)||0)-((null==(o=null==(s=n.original.rs_bars)?void 0:s.find(e=>e.date===t))?void 0:o.rs_value)||0)}}))}),e},[t,i,f,m]),p=fre({data:h,columns:g,state:{globalFilter:l,columnFilters:u},onGlobalFilterChange:c,onColumnFiltersChange:d,getCoreRowModel:ore(),getSortedRowModel:dre(),getFilteredRowModel:cre(),getPaginationRowModel:ure(),globalFilterFn:"includesString",initialState:{pagination:{pageSize:50},sorting:[{id:"current_crs",desc:!0}]}});return e&&h.length?b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Re,{className:"h-5 w-5 text-blue-500"}),b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:r})]}),b.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[b.jsx("span",{className:"text-gray-600",children:"Chú thích:"}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-4 h-4 bg-purple-600 rounded"}),b.jsx("span",{children:"≥ 80"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-4 h-4 bg-green-700 rounded"}),b.jsx("span",{children:"70-79"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),b.jsx("span",{children:"60-69"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-4 h-4 bg-yellow-400 rounded"}),b.jsx("span",{children:"40-59"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-4 h-4 bg-red-400 rounded"}),b.jsx("span",{children:"≤ 39"})]})]}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("div",{className:"relative flex-1 max-w-md",children:[b.jsx(Me,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),b.jsx("input",{type:"text",placeholder:`Tìm kiếm ${"industry"===t?"ngành":"cổ phiếu"}...`,value:null!=l?l:"",onChange:e=>c(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),b.jsxs("div",{className:"text-sm text-gray-600",children:[p.getFilteredRowModel().rows.length," / ",p.getCoreRowModel().rows.length," ","industry"===t?"ngành":"cổ phiếu"]})]}),b.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full border-collapse",children:[b.jsx("thead",{children:p.getHeaderGroups().map(e=>b.jsx("tr",{className:"bg-gray-50 border-b border-gray-200",children:e.headers.map(e=>b.jsx("th",{className:"px-1 py-1 text-center text-xs font-medium text-gray-900 cursor-pointer hover:bg-gray-100 transition-colors "+("name"===e.id?"sticky left-0 bg-gray-50 z-10 text-left":""),onClick:e.column.getCanSort()?e.column.getToggleSortingHandler():void 0,children:b.jsxs("div",{className:"flex items-center justify-center gap-1",children:[hre(e.column.columnDef.header,e.getContext()),e.column.getCanSort()&&b.jsx("div",{className:"flex flex-col",children:"asc"===e.column.getIsSorted()?b.jsx(ue,{className:"w-3 h-3"}):"desc"===e.column.getIsSorted()?b.jsx(ce,{className:"w-3 h-3"}):b.jsx("div",{className:"w-3 h-3 opacity-30",children:b.jsx(ue,{className:"w-3 h-3"})})})]})},e.id))},e.id))}),b.jsx("tbody",{children:p.getRowModel().rows.map(e=>b.jsx("tr",{className:"border-b border-gray-100 hover:bg-gray-50 cursor-pointer "+(s&&s.id===e.original.id?"bg-blue-50":""),onClick:()=>{a&&a(s&&s.id===e.original.id?null:e.original),o&&o(s&&s.id===e.original.id?null:e.original)},children:e.getVisibleCells().map(e=>b.jsx("td",{className:"px-1 py-1 text-center text-xs "+("name"===e.column.id?"sticky left-0 bg-white z-10 text-left":""),children:hre(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]})})}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{onClick:()=>p.previousPage(),disabled:!p.getCanPreviousPage(),className:"px-3 py-1 text-sm border border-gray-300 rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Trước"}),b.jsxs("span",{className:"text-sm text-gray-600",children:["Trang ",p.getState().pagination.pageIndex+1," / ",p.getPageCount()]}),b.jsx("button",{onClick:()=>p.nextPage(),disabled:!p.getCanNextPage(),className:"px-3 py-1 text-sm border border-gray-300 rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Sau"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"text-sm text-gray-600",children:"Hiển thị:"}),b.jsx("select",{value:p.getState().pagination.pageSize,onChange:e=>p.setPageSize(Number(e.target.value)),className:"px-2 py-1 text-sm border border-gray-300 rounded",children:[50,100,200,500].map(e=>b.jsx("option",{value:e,children:e},e))})]})]})]}):b.jsx("div",{className:"text-center py-8 text-gray-500",children:"Không có dữ liệu RS 21-bar"})},pre=({data:e})=>{const[t,n]=k.useState(null);return b.jsx(gre,{data:e,dataType:"industry",title:"RS 21-Bar Heatmap",showAdditionalColumns:!0,getItemName:e=>e.name,getItemId:e=>e.id,getItemMetrics:t=>{var n;return(null==(n=e.industry_metrics)?void 0:n[t.id])||{}},getItemRSBars:e=>e.rs_bars||[],selectedItem:t,setSelectedItem:n})},vre=e=>e>=110?"bg-green-600":e>=105?"bg-green-500":e>=102?"bg-green-400":e>=98?"bg-gray-400":e>=95?"bg-red-400":e>=90?"bg-red-500":"bg-red-600",yre=({industries:e,timeframe:t="1D"})=>{const[n,r]=k.useState("rs_ratio"),[i,a]=k.useState(!1),{data:s,loading:o,error:l}=Ff(t,"industry"),c=(e,t)=>{switch(t){case"rs_close":return(n=e.rs_close)>=1.5?"bg-green-600":n>=1.2?"bg-green-500":n>=1.05?"bg-green-400":n>=.95?"bg-gray-400":n>=.8?"bg-red-400":n>=.7?"bg-red-500":"bg-red-600";case"rs_ratio":return vre(e.rs_ratio);case"rs_momentum":return vre(e.rs_momentum);case"crs":return(e=>e>=.15?"bg-green-600":e>=.08?"bg-green-500":e>=.03?"bg-green-400":e>=-.03?"bg-gray-400":e>=-.08?"bg-red-400":e>=-.15?"bg-red-500":"bg-red-600")(e.crs);default:return"bg-gray-400"}var n},u=(e,t)=>{var n,r,i,a;switch(t){case"rs_close":return(null==(n=e.rs_close)?void 0:n.toFixed(2))||"N/A";case"rs_ratio":return(null==(r=e.rs_ratio)?void 0:r.toFixed(1))||"N/A";case"rs_momentum":return(null==(i=e.rs_momentum)?void 0:i.toFixed(1))||"N/A";case"crs":return`${null==(a=100*e.crs)?void 0:a.toFixed(1)}%`||"N/A";default:return"N/A"}},d=k.useMemo(()=>[...e].sort((e,t)=>{const r=e[n]||-1/0;return(t[n]||-1/0)-r}),[e,n]),h={rs_close:{name:"RS Close",description:"Traditional relative strength vs VN-Index",neutral:"1.0",interpretation:"> 1.0 = Outperforming, < 1.0 = Underperforming"},rs_ratio:{name:"RS Ratio",description:"RRG-style relative strength ratio",neutral:"100.0",interpretation:"> 100 = Outperforming, < 100 = Underperforming"},rs_momentum:{name:"RS Momentum",description:"RRG momentum indicator",neutral:"100.0",interpretation:"> 100 = Positive momentum, < 100 = Negative momentum"},crs:{name:"CRS",description:"21-day cumulative relative strength",neutral:"0.0%",interpretation:"> 0% = Outperforming, < 0% = Underperforming"},rs_21bar:{name:"RS 21-Bar",description:"21-day RS heatmap with trend analysis",neutral:"50.0",interpretation:"Shows RS evolution over 21 days with CRS and trend data"}};return b.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-gray-900 p-4",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-200",children:"Industry Strength Heatmap"}),b.jsx("button",{onClick:()=>a(!i),className:"cursor-pointer p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:b.jsx(ke,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),b.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:Object.entries(h).map(([e,t])=>b.jsxs("button",{onClick:()=>r(e),className:"cursor-pointer px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2 "+(n===e?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"),children:["rs_21bar"===e&&b.jsx(Ne,{className:"w-4 h-4"}),t.name]},e))}),i&&b.jsx("div",{className:"mb-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:"rs_21bar"===n?b.jsxs(b.Fragment,{children:[b.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"Giải thích RS 21-Bar"}),b.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[b.jsxs("p",{children:["• ",b.jsx("strong",{children:"RS Value:"})," Giá trị sức mạnh tương đối (0-100)"]}),b.jsxs("p",{children:["• ",b.jsx("strong",{children:"Màu tím:"})," RS rất cao (≥80) - Ngành vượt trội thị trường"]}),b.jsxs("p",{children:["• ",b.jsx("strong",{children:"Màu xanh:"})," RS cao (60-79) - Ngành tốt hơn thị trường"]}),b.jsxs("p",{children:["• ",b.jsx("strong",{children:"Màu vàng:"})," RS trung bình (40-59) - Ngành tương đương thị trường"]}),b.jsxs("p",{children:["• ",b.jsx("strong",{children:"Màu đỏ:"})," RS thấp (≤39) - Ngành kém hơn thị trường"]}),b.jsxs("p",{children:["• ",b.jsx("strong",{children:"CRS:"})," Cumulative Relative Strength - Sức mạnh tích lũy"]}),b.jsxs("p",{children:["• ",b.jsx("strong",{children:"Fast:"})," Xu hướng RS nhanh (ngắn hạn)"]}),b.jsxs("p",{children:["• ",b.jsx("strong",{children:"Slow:"})," Xu hướng RS chậm (dài hạn)"]})]}),b.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2 mt-4",children:"Cách đọc bảng:"}),b.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[b.jsxs("p",{children:["• ",b.jsx("strong",{children:"Đọc theo hàng:"})," Theo dõi sự thay đổi RS của một ngành qua thời gian"]}),b.jsxs("p",{children:["• ",b.jsx("strong",{children:"Đọc theo cột:"})," So sánh hiệu suất các ngành trong cùng một ngày"]}),b.jsxs("p",{children:["• ",b.jsx("strong",{children:"Màu sắc:"})," Càng tối càng tốt - tím > xanh > vàng > đỏ"]}),b.jsxs("p",{children:["• ",b.jsx("strong",{children:"Xu hướng:"})," Tìm các ngành có xu hướng cải thiện (từ đỏ sang xanh)"]}),b.jsxs("p",{children:["• ",b.jsx("strong",{children:"CRS dương:"})," Ngành vượt trội thị trường trong 21 ngày qua"]}),b.jsxs("p",{children:["• ",b.jsx("strong",{children:"Fast/Slow:"})," So sánh xu hướng ngắn hạn vs dài hạn để xác định momentum"]})]})]}):b.jsxs(b.Fragment,{children:[b.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-2",children:h[n].name}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:h[n].description}),b.jsxs("div",{className:"text-sm",children:[b.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Neutral: "}),b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:h[n].neutral})]}),b.jsxs("div",{className:"text-sm",children:[b.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Interpretation: "}),b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:h[n].interpretation})]})]})}),"rs_21bar"===n?b.jsx("div",{className:"flex-grow overflow-hidden",children:o?b.jsx("div",{className:"flex items-center justify-center h-64",children:b.jsx("div",{className:"text-gray-500",children:"Đang tải dữ liệu RS 21-Bar..."})}):l?b.jsx("div",{className:"flex items-center justify-center h-64",children:b.jsxs("div",{className:"text-red-500",children:["Lỗi tải dữ liệu: ",l]})}):b.jsx(pre,{data:s})}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex items-center gap-4 mb-4 text-sm",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Strong"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-4 h-4 bg-gray-400 rounded"}),b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Neutral"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-4 h-4 bg-red-500 rounded"}),b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Weak"})]})]}),b.jsx("div",{className:"flex-grow overflow-hidden",children:b.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3 h-full overflow-y-auto",children:d.map((e,t)=>{return b.jsx("div",{className:`${c(e,n)} p-3 rounded-lg text-white shadow-lg transition-all hover:brightness-110 hover:shadow-2xl hover:ring-2 hover:ring-white/30 cursor-pointer`,title:`${e.industry}: ${u(e,n)}`,children:b.jsxs("div",{className:"flex flex-col h-full justify-between",children:[b.jsxs("div",{className:"flex items-start justify-between mb-2",children:[b.jsx("span",{className:"text-xs font-semibold leading-tight truncate pr-1",children:e.industry}),"rs_momentum"===n&&b.jsx("div",{className:"flex-shrink-0",children:(r=e.rs_momentum,r>102?b.jsx(Re,{className:"w-3 h-3"}):r<98?b.jsx(Te,{className:"w-3 h-3"}):b.jsx(Ce,{className:"w-3 h-3"}))})]}),b.jsxs("div",{className:"flex items-end justify-between",children:[b.jsx("span",{className:"text-lg font-bold",children:u(e,n)}),b.jsxs("span",{className:"text-xs opacity-75",children:["#",t+1]})]})]})},t);var r})})}),b.jsxs("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-4 gap-4 text-sm",children:[b.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[b.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Strong"}),b.jsx("div",{className:"text-lg font-bold text-green-600",children:d.filter(e=>{const t=e[n];return"rs_close"===n?t>=1.05:"rs_ratio"===n||"rs_momentum"===n?t>=102:"crs"===n&&t>=.03}).length})]}),b.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[b.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Neutral"}),b.jsx("div",{className:"text-lg font-bold text-gray-600",children:d.filter(e=>{const t=e[n];return"rs_close"===n?t>=.95&&t<1.05:"rs_ratio"===n||"rs_momentum"===n?t>=98&&t<102:"crs"===n&&t>=-.03&&t<.03}).length})]}),b.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[b.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Weak"}),b.jsx("div",{className:"text-lg font-bold text-red-600",children:d.filter(e=>{const t=e[n];return"rs_close"===n?t<.95:"rs_ratio"===n||"rs_momentum"===n?t<98:"crs"===n&&t<-.03}).length})]}),b.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[b.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Total"}),b.jsx("div",{className:"text-lg font-bold text-gray-800 dark:text-gray-200",children:d.length})]})]})]})]})},xre=({icon:e,label:t,value:n,valueClassName:r="",tooltip:i=""})=>b.jsxs("div",{className:"flex items-center justify-between py-0.5",title:i,children:[b.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[b.jsx(e,{className:"w-3 h-3 mr-1.5"}),b.jsx("span",{className:"truncate",children:t})]}),b.jsx("span",{className:`font-mono text-xs font-medium ml-2 ${r}`,children:n})]}),bre=({title:e,tooltip:t,children:n,className:r=""})=>b.jsxs("div",{className:`bg-gray-50 rounded-md p-2 ${r}`,children:[b.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[b.jsx("h4",{className:"font-semibold text-gray-800 text-xs",children:e}),t&&b.jsx("span",{className:"text-gray-400 cursor-pointer",title:t,children:b.jsx(ke,{size:12})})]}),b.jsx("div",{className:"space-y-0.5",children:n})]}),wre=({industry:e})=>{if(!e)return b.jsx("div",{className:"bg-white border rounded-lg p-3 shadow-sm text-center",children:b.jsx("h3",{className:"text-sm font-bold text-gray-800",children:"Không có dữ liệu chi tiết cho ngành này."})});const{name:t,metrics:n={},speed_analysis:r={},direction_analysis:i={},risk_assessment:a={},trend_consistency:s={}}=e,o=e=>"number"==typeof e?`${(100*e).toFixed(1)}%`:"K/C";return b.jsxs("div",{className:"bg-white border rounded-lg p-3 shadow-sm",children:[b.jsx("h3",{className:"text-base font-bold text-gray-900 mb-2 truncate",children:e.name}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[b.jsxs(bre,{title:"Hiệu suất",tooltip:"Sức mạnh tương đối (Relative Strength) so với VNINDEX",children:[b.jsx(xre,{icon:Re,label:"RS",value:o(null==n?void 0:n.current_rs),valueClassName:"text-blue-600"}),b.jsx(xre,{icon:(null==n?void 0:n.rs_trend_fast)>0?J:Q,label:"Fast",value:o(null==n?void 0:n.rs_trend_fast),valueClassName:Jte(null==n?void 0:n.rs_trend_fast)})]}),b.jsxs(bre,{title:"Tốc độ & Hướng",tooltip:"Phân tích tốc độ và hướng của xu hướng",children:[b.jsx(xre,{icon:Ve,label:"Tốc độ",value:o(null==r?void 0:r.raw_speed_5d)}),(()=>{var e;const{icon:t,color:n}=ine(null==i?void 0:i.direction);return b.jsx(xre,{icon:t,label:"Hướng",value:(null==(e=null==i?void 0:i.direction)?void 0:e.split(" ")[0])||"K/C",valueClassName:n})})()]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[b.jsxs(bre,{title:"Rủi ro",tooltip:"Mức độ rủi ro và quy mô vị thế gợi ý",children:[b.jsx(xre,{icon:Oe,label:"Mức độ",value:null==a?void 0:a.risk_level,valueClassName:Yte(null==a?void 0:a.risk_level)}),b.jsx(xre,{icon:ae,label:"Vị thế",value:(null==a?void 0:a.suggested_position_size)||"K/C"})]}),b.jsxs(bre,{title:"Nhất quán",tooltip:"Tính nhất quán xu hướng ngành",children:[b.jsx(xre,{icon:X,label:"Điểm",value:o(null==s?void 0:s.consistency_score)}),b.jsx(xre,{icon:Ie,label:"Số mã",value:(null==s?void 0:s.symbol_count)||"K/C"})]})]}),b.jsx(bre,{title:"Chi tiết bổ sung",children:b.jsxs("div",{className:"grid grid-cols-3 gap-1 text-center",children:[b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-gray-500",children:"Slow"}),b.jsx("div",{className:`font-mono font-semibold text-xs ${Jte(null==n?void 0:n.rs_trend_slow)}`,children:o(null==n?void 0:n.rs_trend_slow)})]}),b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-gray-500",children:"Sức mạnh"}),b.jsx("div",{className:"font-mono font-semibold text-xs text-purple-600",children:(null==i?void 0:i.trend_strength)||"K/C"})]}),b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-gray-500",children:"Tin cậy"}),b.jsx("div",{className:"font-mono font-semibold text-xs",children:o(null==s?void 0:s.trend_confidence)})]})]})})]})]})},_re=({icon:e,label:t,value:n,valueClassName:r="",tooltip:i=""})=>b.jsxs("div",{className:"flex items-center justify-between py-0.5",title:i,children:[b.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[b.jsx(e,{className:"w-3 h-3 mr-1.5"}),b.jsx("span",{className:"truncate",children:t})]}),b.jsx("span",{className:`font-mono text-xs font-medium ml-2 ${r}`,children:n})]}),jre=({title:e,tooltip:t,children:n,className:r=""})=>b.jsxs("div",{className:`bg-gray-50 rounded-md p-2 ${r}`,children:[b.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[b.jsx("h4",{className:"font-semibold text-gray-800 text-xs",children:e}),t&&b.jsx("span",{className:"text-gray-400 cursor-pointer",title:t,children:b.jsx(ke,{size:12})})]}),b.jsx("div",{className:"space-y-0.5",children:n})]}),Nre=({group:e,groupData:t,analyzeData:n})=>{var r,i,a,s;if(!t&&!(null==(r=null==n?void 0:n.groups)?void 0:r.find(t=>t.custom_id===e.custom_id||t.id===e.custom_id)))return b.jsxs("div",{className:"bg-white border rounded-lg p-3 shadow-sm text-center",children:[b.jsx("h3",{className:"text-sm font-bold text-gray-800",children:e.name}),b.jsx("p",{className:"text-gray-500 text-xs",children:"Không có dữ liệu chi tiết cho nhóm này."})]});const{metrics:o={},performance_summary:l={},speed_analysis:c={},direction_analysis:u={},risk_assessment:d={}}=t,h=e=>"number"==typeof e?`${(100*e).toFixed(1)}%`:"K/C",f=e=>"number"==typeof e?e.toFixed(2):"K/C";return b.jsxs("div",{className:"bg-white border rounded-lg p-3 shadow-sm",children:[b.jsx("h3",{className:"text-base font-bold text-gray-900 mb-2 truncate",children:e.name}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[b.jsxs(jre,{title:"Hiệu suất",tooltip:"Sức mạnh tương đối (Relative Strength) so với VNINDEX",children:[b.jsx(_re,{icon:Re,label:"RS",value:h(null==o?void 0:o.current_rs),valueClassName:"text-blue-600"}),b.jsx(_re,{icon:(null==o?void 0:o.rs_trend_fast)>0?J:Q,label:"Fast",value:h(null==o?void 0:o.rs_trend_fast),valueClassName:Jte(null==o?void 0:o.rs_trend_fast)})]}),b.jsxs(jre,{title:"Tốc độ & Hướng",tooltip:"Phân tích tốc độ và hướng của xu hướng",children:[b.jsx(_re,{icon:Ve,label:"Tốc độ",value:h(null==c?void 0:c.raw_speed_5d)}),b.jsx(_re,{icon:"Tăng trưởng"===(null==u?void 0:u.direction)?Re:Te,label:"Hướng",value:null==u?void 0:u.direction,valueClassName:rne(null==u?void 0:u.direction)})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[b.jsxs(jre,{title:"Rủi ro",tooltip:"Mức độ rủi ro và quy mô vị thế gợi ý",children:[b.jsx(_re,{icon:Oe,label:"Mức độ",value:null==d?void 0:d.risk_level,valueClassName:Yte(null==d?void 0:d.risk_level)}),b.jsx(_re,{icon:ae,label:"Vị thế",value:(null==d?void 0:d.suggested_position_size)||"K/C"})]}),b.jsxs(jre,{title:"CRS",tooltip:"Cumulative Relative Strength analysis",children:[b.jsx(_re,{icon:ae,label:"CRS",value:h(null==o?void 0:o.current_crs),valueClassName:Xte(null==o?void 0:o.current_crs)}),b.jsx(_re,{icon:X,label:"Trạng thái",value:null==l?void 0:l.crs_status,valueClassName:Qte(null==l?void 0:l.crs_status)})]})]}),b.jsx(jre,{title:"Chi tiết bổ sung",children:b.jsxs("div",{className:"grid grid-cols-3 gap-1 text-center",children:[b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-gray-500",children:"Fast"}),b.jsx("div",{className:`font-mono font-semibold text-xs ${Jte(null==o?void 0:o.rs_trend_fast)}`,children:h(null==o?void 0:o.rs_trend_fast)})]}),b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-gray-500",children:"Slow"}),b.jsx("div",{className:`font-mono font-semibold text-xs ${Jte(null==o?void 0:o.rs_trend_slow)}`,children:h(null==o?void 0:o.rs_trend_slow)})]}),b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-gray-500",children:"Điểm"}),b.jsx("div",{className:"font-mono font-semibold text-xs",children:f(null==l?void 0:l.strength_score)})]})]})}),b.jsx(jre,{title:"Khối lượng",children:b.jsxs("div",{className:"grid grid-cols-2 gap-1 text-center",children:[b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-gray-500",children:"Xu hướng"}),b.jsx("div",{className:"font-mono font-semibold text-xs text-blue-600",children:(null==(i=null==d?void 0:d.volume_analysis)?void 0:i.volume_trend)||"K/C"})]}),b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-gray-500",children:"Tỷ lệ"}),b.jsx("div",{className:`font-mono font-semibold text-xs ${tne(null==(a=null==d?void 0:d.volume_analysis)?void 0:a.recent_volume_ratio)}`,children:f(null==(s=null==d?void 0:d.volume_analysis)?void 0:s.recent_volume_ratio)})]})]})})]})]})},kre=({icon:e,label:t,value:n,valueClassName:r="",tooltip:i=""})=>b.jsxs("div",{className:"flex items-center justify-between py-0.5",title:i,children:[b.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[b.jsx(e,{className:"w-3 h-3 mr-1.5"}),b.jsx("span",{className:"truncate",children:t})]}),b.jsx("span",{className:`font-mono text-xs font-medium ml-2 ${r}`,children:n})]}),Sre=({title:e,tooltip:t,children:n,className:r=""})=>b.jsxs("div",{className:`bg-gray-50 rounded-md p-2 ${r}`,children:[b.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[b.jsx("h4",{className:"font-semibold text-gray-800 text-xs",children:e}),t&&b.jsx("span",{className:"text-gray-400 cursor-pointer",title:t,children:b.jsx(ke,{size:12})})]}),b.jsx("div",{className:"space-y-0.5",children:n})]}),Cre=({symbol:e,analyzeData:t})=>{var n,r,i;const a=e;if(!a)return b.jsxs("div",{className:"bg-white border rounded-lg p-3 shadow-sm text-center",children:[b.jsx("h3",{className:"text-sm font-bold text-gray-800",children:(null==e?void 0:e.name)||"Unknown"}),b.jsx("p",{className:"text-gray-500 text-xs",children:"Không có dữ liệu chi tiết cho mã này."})]});let s=a;if((null==t?void 0:t.symbols)&&a.symbol){const e=t.symbols.find(e=>e.symbol===a.symbol);e&&(s=e)}const o=s.quadrant&&void 0!==s.velocity,l=s.metrics&&s.performance_summary,c=void 0!==s.speed_score&&s.speed_category,u=e=>"number"==typeof e?`${(100*e).toFixed(1)}%`:"K/C",d=(()=>{if(o)return{name:s.symbol||s.name,symbol:s.symbol,rs:s.rs_ratio||s.current_rs||1,rs_fast:s.rs_trend_fast||0,rs_slow:s.rs_trend_slow||0,speed:s.velocity||0,direction:s.direction||s.trajectory_strength||"K/C",risk_level:s.risk_level||"Trung bình",position_size:s.suggested_position_size||"K/C",crs:s.current_crs||0,crs_status:s.crs_status||"K/C",trend_strength:s.trend_strength||"K/C",strength_score:s.strength_score||0,quadrant:s.quadrant||"K/C"};if(l){const{metrics:e={},performance_summary:t={},speed_analysis:n={},direction_analysis:r={},risk_assessment:i={}}=s;return{name:s.name||s.symbol,symbol:s.symbol,rs:(null==e?void 0:e.current_rs)||1,rs_fast:(null==e?void 0:e.rs_trend_fast)||0,rs_slow:(null==e?void 0:e.rs_trend_slow)||0,speed:(null==n?void 0:n.raw_speed_5d)||(null==n?void 0:n.weighted_speed)||0,direction:(null==r?void 0:r.direction)||"K/C",risk_level:(null==i?void 0:i.risk_level)||"Trung bình",position_size:(null==i?void 0:i.suggested_position_size)||"K/C",crs:(null==e?void 0:e.current_crs)||0,crs_status:(null==t?void 0:t.crs_status)||"K/C",trend_strength:(null==r?void 0:r.trend_strength)||"K/C",strength_score:(null==t?void 0:t.strength_score)||0,quadrant:(null==t?void 0:t.quadrant)||"K/C"}}return c?{name:s.name||s.symbol||s.custom_id,symbol:s.symbol||s.custom_id,rs:s.rs_ratio||s.current_rs||1,rs_fast:s.rs_trend_fast||0,rs_slow:s.rs_trend_slow||0,speed:s.speed_score||s.velocity||0,direction:s.speed_category||s.direction||"K/C",risk_level:s.risk_level||"Trung bình",position_size:s.suggested_position_size||"K/C",crs:s.current_crs||0,crs_status:s.crs_status||"K/C",trend_strength:s.trend_strength||"K/C",strength_score:s.strength_score||0,quadrant:s.rrg_position||s.quadrant||"K/C"}:{name:s.name||s.symbol||s.custom_id||"Unknown",symbol:s.symbol||s.custom_id,rs:s.current_rs||s.rs_ratio||1,rs_fast:s.rs_trend_fast||0,rs_slow:s.rs_trend_slow||0,speed:s.speed_score||s.velocity||s.weighted_speed||0,direction:s.speed_category||s.direction||s.trajectory_strength||"K/C",risk_level:s.risk_level||"Trung bình",position_size:s.suggested_position_size||"K/C",crs:s.current_crs||0,crs_status:s.crs_status||"K/C",trend_strength:s.trend_strength||"K/C",strength_score:s.strength_score||0,quadrant:s.rrg_position||s.quadrant||"K/C"}})();return b.jsxs("div",{className:"bg-white border rounded-lg p-3 shadow-sm",children:[b.jsxs("h3",{className:"text-base font-bold text-gray-900 mb-2 truncate",children:[d.name,d.symbol&&b.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",d.symbol,")"]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[b.jsxs(Sre,{title:"Hiệu suất",tooltip:"Sức mạnh tương đối (Relative Strength) so với VNINDEX",children:[b.jsx(kre,{icon:Re,label:"RS",value:u(d.rs),valueClassName:"text-blue-600"}),b.jsx(kre,{icon:d.rs_fast>0?J:Q,label:"Fast",value:u(d.rs_fast),valueClassName:Jte(d.rs_fast)})]}),b.jsxs(Sre,{title:"Tốc độ & Hướng",tooltip:"Phân tích tốc độ và hướng của xu hướng",children:[b.jsx(kre,{icon:Ve,label:"Tốc độ",value:u(d.speed)}),b.jsx(kre,{icon:(null==(n=d.direction)?void 0:n.includes("Tăng"))||(null==(r=d.direction)?void 0:r.includes("Improving"))?Re:Te,label:"Hướng",value:(null==(i=d.direction)?void 0:i.split(" ")[0])||"K/C",valueClassName:rne(d.direction)})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[b.jsxs(Sre,{title:"Rủi ro",tooltip:"Mức độ rủi ro và quy mô vị thế gợi ý",children:[b.jsx(kre,{icon:Oe,label:"Mức độ",value:d.risk_level,valueClassName:Yte(d.risk_level)}),b.jsx(kre,{icon:ae,label:"Vị thế",value:d.position_size})]}),b.jsxs(Sre,{title:"CRS",tooltip:"Cumulative Relative Strength analysis",children:[b.jsx(kre,{icon:ae,label:"CRS",value:u(d.crs),valueClassName:Xte(d.crs)}),b.jsx(kre,{icon:X,label:"Trạng thái",value:d.crs_status,valueClassName:Qte(d.crs_status)})]})]}),b.jsx(Sre,{title:"Chi tiết bổ sung",children:b.jsxs("div",{className:"grid grid-cols-3 gap-1 text-center",children:[b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-gray-500",children:"Slow"}),b.jsx("div",{className:`font-mono font-semibold text-xs ${Jte(d.rs_slow)}`,children:u(d.rs_slow)})]}),b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-gray-500",children:"Sức mạnh"}),b.jsx("div",{className:"font-mono font-semibold text-xs text-purple-600",children:d.trend_strength})]}),b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-gray-500",children:"Điểm"}),b.jsx("div",{className:"font-mono font-semibold text-xs",children:(h=d.strength_score,"number"==typeof h?h.toFixed(2):"K/C")})]})]})})]})]});var h},Pre=({analysisData:e,type:t,getQuadrantColor:n,analyzeData:r})=>{var i,a,s,o;if(!(null==(i=null==e?void 0:e.top_performers)?void 0:i.length)&&!(null==(a=null==e?void 0:e.bottom_performers)?void 0:a.length))return b.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[b.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:["Xếp hạng ","industry"===t?"ngành":"group"===t?"nhóm":"cổ phiếu"," theo điểm số"]}),b.jsx("p",{className:"text-gray-500",children:"Không có dữ liệu để hiển thị"}),b.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Debug: analysisData keys: ",e?Object.keys(e).join(", "):"null"]}),b.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:[b.jsx("p",{children:"Array lengths:"}),b.jsxs("p",{children:["- top_performers: ",Array.isArray(null==e?void 0:e.top_performers)?e.top_performers.length:typeof(null==e?void 0:e.top_performers)]}),b.jsxs("p",{children:["- bottom_performers: ",Array.isArray(null==e?void 0:e.bottom_performers)?e.bottom_performers.length:typeof(null==e?void 0:e.bottom_performers)]})]}),b.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:[b.jsx("p",{children:"Sample data (first 2 items):"}),b.jsxs("p",{children:["- top_performers: ",Array.isArray(null==e?void 0:e.top_performers)&&e.top_performers.length>0?JSON.stringify(e.top_performers.slice(0,2)):"empty"]}),b.jsxs("p",{children:["- bottom_performers: ",Array.isArray(null==e?void 0:e.bottom_performers)&&e.bottom_performers.length>0?JSON.stringify(e.bottom_performers.slice(0,2)):"empty"]})]})]});const l={industry:{title:"Xếp hạng ngành theo điểm số",topLabel:"Ngành mạnh nhất",bottomLabel:"Ngành yếu nhất",bgColor:"bg-green-50",borderColor:"border-green-200",textColor:"text-green-900",topTextColor:"text-green-700",bottomTextColor:"text-red-700"},group:{title:"Xếp hạng nhóm vốn hóa theo điểm số",topLabel:"Top nhóm vốn hóa mạnh nhất",bottomLabel:"Top nhóm vốn hóa yếu nhất",bgColor:"bg-blue-50",borderColor:"border-blue-200",textColor:"text-blue-900",topTextColor:"text-blue-700",bottomTextColor:"text-red-700"},ticker:{title:"Xếp hạng cổ phiếu theo điểm số",topLabel:"Cổ phiếu mạnh nhất",bottomLabel:"Cổ phiếu yếu nhất",bgColor:"bg-purple-50",borderColor:"border-purple-200",textColor:"text-purple-900",topTextColor:"text-purple-700",bottomTextColor:"text-red-700"}},c=l[t]||l.industry,u=e=>{var n;switch(t){case"industry":const t=null==(n=null==r?void 0:r.industries)?void 0:n.find(t=>t.custom_id===e.custom_id||t.id===e.custom_id);return b.jsx(wre,{industry:t||e});case"group":return b.jsx(Nre,{group:e,analyzeData:r});case"ticker":return b.jsx(Cre,{symbol:e,analyzeData:r});default:return null}};return b.jsxs("div",{className:`${c.bgColor} border ${c.borderColor} rounded-lg p-4`,children:[b.jsx("h3",{className:`text-lg font-semibold ${c.textColor} mb-3`,children:c.title}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(null==(s=e.top_performers)?void 0:s.length)>0&&b.jsxs("div",{children:[b.jsx("h4",{className:`font-medium ${c.topTextColor} mb-2`,children:c.topLabel}),b.jsx("div",{className:"space-y-2",children:e.top_performers.slice(0,10).map((e,t)=>b.jsx("div",{children:u(e)},t))})]}),(null==(o=e.bottom_performers)?void 0:o.length)>0&&b.jsxs("div",{children:[b.jsx("h4",{className:`font-medium ${c.bottomTextColor} mb-2`,children:c.bottomLabel}),b.jsx("div",{className:"space-y-2",children:e.bottom_performers.slice(0,10).map((e,t)=>b.jsx("div",{children:u(e)},t))})]})]})]})},Ere=({analysisData:e,type:t,renderInsightItems:n,rrgData:r,investmentStrategies:i,analyzeData:a})=>{var s,o,l,c,u,d;if(!e)return null;const h={improving_momentum:e.improving_momentum,degrading_momentum:e.degrading_momentum,breakout_candidates:e.breakout_candidates,accumulation_candidates:e.accumulation_candidates,distribution_candidates:e.distribution_candidates,consolidation_candidates:e.consolidation_candidates,stealth_accumulation:e.stealth_accumulation,stealth_distribution:e.stealth_distribution,institutional_activity:e.institutional_activity,high_volatility:e.high_volatility,deteriorating_fundamentals:e.deteriorating_fundamentals,falling_knife:e.falling_knife},f=Object.values(h).some(e=>Array.isArray(e)&&e.some(Boolean)),m="group"===t&&((null==(o=null==(s=null==i?void 0:i.group_strategy)?void 0:s.group_rotation_signals)?void 0:o.length)>0||(null==(c=null==(l=null==i?void 0:i.group_strategy)?void 0:l.group_allocation)?void 0:c.length)>0||(null==(d=null==(u=null==i?void 0:i.group_strategy)?void 0:u.group_risk_warnings)?void 0:d.length)>0);if(!f&&!m)return null;const g={industry:{title:"Xếp hạng ngành theo tốc độ/hướng",bgColor:"bg-green-50",borderColor:"border-green-200",textColor:"text-green-900"},group:{title:"Xếp hạng nhóm vốn hóa theo tốc độ",bgColor:"bg-blue-50",borderColor:"border-blue-200",textColor:"text-blue-900"},ticker:{title:"Xếp hạng cổ phiếu theo tốc độ/hướng",bgColor:"bg-purple-50",borderColor:"border-purple-200",textColor:"text-purple-900"}},p=g[t]||g.industry,v="industry"===t?"ngành":"group"===t?"nhóm":"cổ phiếu";[e.improving_momentum,e.breakout_candidates,e.accumulation_candidates,e.stealth_accumulation,e.institutional_activity,e.top_performers].some(e=>Array.isArray(e)&&e.length>0),[e.degrading_momentum,e.distribution_candidates,e.consolidation_candidates,e.stealth_distribution,e.falling_knife,e.high_volatility,e.deteriorating_fundamentals,e.bottom_performers].some(e=>Array.isArray(e)&&e.length>0);const y=e=>{var n;switch(t){case"industry":const t=null==(n=null==a?void 0:a.industries)?void 0:n.find(t=>t.custom_id===e.custom_id||t.id===e.custom_id);return b.jsx(wre,{industry:t||e});case"group":return b.jsx(Nre,{group:e,analyzeData:a});case"ticker":return b.jsx(Cre,{symbol:e,analyzeData:a});default:return null}};return b.jsxs("div",{className:`${p.bgColor} border ${p.borderColor} rounded-lg p-4`,children:[b.jsx("h3",{className:`text-lg font-semibold ${p.textColor} mb-3`,children:p.title}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"space-y-4",children:[Array.isArray(e.top_performers)&&e.top_performers.some(Boolean)&&b.jsxs("div",{children:[b.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"ticker"===t?"Top cổ phiếu mạnh nhất":"group"===t?"Top nhóm mạnh nhất":"Top ngành mạnh nhất"}),b.jsx("div",{className:"space-y-2",children:e.top_performers.slice(0,5).map((e,t)=>b.jsx("div",{children:y(e)},t))})]}),Array.isArray(e.improving_momentum)&&e.improving_momentum.some(Boolean)&&b.jsxs("div",{children:[b.jsxs("h4",{className:"font-medium text-green-700 mb-2",children:[v.charAt(0).toUpperCase()+v.slice(1)," có động lượng cải thiện"]}),b.jsx("div",{className:"space-y-2",children:e.improving_momentum.slice(0,5).map((e,t)=>b.jsx("div",{children:y(e)},t))})]}),Array.isArray(e.accumulation_candidates)&&e.accumulation_candidates.some(Boolean)&&b.jsxs("div",{children:[b.jsxs("h4",{className:"font-medium text-purple-700 mb-2",children:[v.charAt(0).toUpperCase()+v.slice(1)," tích lũy tiềm năng"]}),b.jsx("div",{className:"space-y-2",children:e.accumulation_candidates.slice(0,5).map((e,t)=>b.jsx("div",{children:y(e)},t))})]}),Array.isArray(e.breakout_candidates)&&e.breakout_candidates.some(Boolean)&&b.jsxs("div",{children:[b.jsxs("h4",{className:"font-medium text-blue-700 mb-2",children:[v.charAt(0).toUpperCase()+v.slice(1)," có thể bứt phá"]}),b.jsx("div",{className:"space-y-2",children:e.breakout_candidates.slice(0,5).map((e,t)=>b.jsx("div",{children:y(e)},t))})]}),Array.isArray(e.stealth_accumulation)&&e.stealth_accumulation.some(Boolean)&&b.jsxs("div",{children:[b.jsxs("h4",{className:"font-medium text-indigo-700 mb-2",children:[v.charAt(0).toUpperCase()+v.slice(1)," tích lũy âm thầm"]}),b.jsx("div",{className:"space-y-2",children:e.stealth_accumulation.slice(0,5).map((e,t)=>b.jsx("div",{children:y(e)},t))})]}),Array.isArray(e.institutional_activity)&&e.institutional_activity.some(Boolean)&&b.jsxs("div",{children:[b.jsx("h4",{className:"font-medium text-cyan-700 mb-2",children:"Hoạt động tổ chức"}),b.jsx("div",{className:"space-y-2",children:e.institutional_activity.slice(0,5).map((e,t)=>b.jsx("div",{children:y(e)},t))})]})]}),b.jsxs("div",{className:"space-y-4",children:[Array.isArray(e.bottom_performers)&&e.bottom_performers.some(Boolean)&&b.jsxs("div",{children:[b.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"ticker"===t?"Cổ phiếu yếu nhất":"group"===t?"Nhóm yếu nhất":"Ngành yếu nhất"}),b.jsx("div",{className:"space-y-2",children:e.bottom_performers.slice(0,5).map((e,t)=>b.jsx("div",{children:y(e)},t))})]}),Array.isArray(e.degrading_momentum)&&e.degrading_momentum.some(Boolean)&&b.jsxs("div",{children:[b.jsxs("h4",{className:"font-medium text-red-700 mb-2",children:[v.charAt(0).toUpperCase()+v.slice(1)," có động lượng suy giảm"]}),b.jsx("div",{className:"space-y-2",children:e.degrading_momentum.slice(0,5).map((e,t)=>b.jsx("div",{children:y(e)},t))})]}),Array.isArray(e.distribution_candidates)&&e.distribution_candidates.some(Boolean)&&b.jsxs("div",{children:[b.jsxs("h4",{className:"font-medium text-orange-700 mb-2",children:[v.charAt(0).toUpperCase()+v.slice(1)," có thể phân phối"]}),b.jsx("div",{className:"space-y-2",children:e.distribution_candidates.slice(0,5).map((e,t)=>b.jsx("div",{children:y(e)},t))})]}),Array.isArray(e.consolidation_candidates)&&e.consolidation_candidates.some(Boolean)&&b.jsxs("div",{children:[b.jsxs("h4",{className:"font-medium text-yellow-700 mb-2",children:[v.charAt(0).toUpperCase()+v.slice(1)," củng cố"]}),b.jsx("div",{className:"space-y-2",children:e.consolidation_candidates.slice(0,5).map((e,t)=>b.jsx("div",{children:y(e)},t))})]}),Array.isArray(e.stealth_distribution)&&e.stealth_distribution.some(Boolean)&&b.jsxs("div",{children:[b.jsxs("h4",{className:"font-medium text-pink-700 mb-2",children:[v.charAt(0).toUpperCase()+v.slice(1)," phân phối âm thầm"]}),b.jsx("div",{className:"space-y-2",children:e.stealth_distribution.slice(0,5).map((e,t)=>b.jsx("div",{children:y(e)},t))})]}),Array.isArray(e.falling_knife)&&e.falling_knife.some(Boolean)&&b.jsxs("div",{children:[b.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"Dao rơi (tránh hoàn toàn)"}),b.jsx("div",{className:"space-y-2",children:e.falling_knife.slice(0,5).map((e,t)=>b.jsx("div",{children:y(e)},t))})]}),Array.isArray(e.high_volatility)&&e.high_volatility.some(Boolean)&&b.jsxs("div",{children:[b.jsx("h4",{className:"font-medium text-orange-800 mb-2",children:"Biến động cao"}),b.jsx("div",{className:"space-y-2",children:e.high_volatility.slice(0,5).map((e,t)=>b.jsx("div",{children:y(e)},t))})]}),Array.isArray(e.deteriorating_fundamentals)&&e.deteriorating_fundamentals.some(Boolean)&&b.jsxs("div",{children:[b.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"Cơ bản suy giảm"}),b.jsx("div",{className:"space-y-2",children:e.deteriorating_fundamentals.slice(0,5).map((e,t)=>b.jsx("div",{children:y(e)},t))})]})]})]}),e.rrg_performers&&b.jsxs("div",{className:"mt-6",children:[b.jsx("h4",{className:"font-medium text-blue-700 mb-3",children:"RRG Quadrants"}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{key:"leading_quadrant",label:"Leading (Dẫn dắt)"},{key:"lagging_quadrant",label:"Lagging (Tụt hậu)"},{key:"improving_quadrant",label:"Improving (Cải thiện)"},{key:"weakening_quadrant",label:"Weakening (Suy yếu)"}].map(({key:t,label:n})=>{return Array.isArray(e.rrg_performers[t])&&e.rrg_performers[t].some(Boolean)&&b.jsxs("div",{children:[b.jsx("h5",{className:"font-semibold mb-2",children:n}),(r=e.rrg_performers[t],r&&Array.isArray(r)&&0!==r.length?b.jsx("div",{className:"space-y-2",children:r.slice(0,5).map((e,t)=>b.jsx("div",{children:y(e)},t))}):null)]},t);var r})})]})]})},Mre=({candidate:e})=>{var t;return e?b.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border border-slate-200 hover:bg-slate-50",children:[b.jsx("div",{className:"font-bold text-sm text-slate-800 w-16",children:e.symbol}),b.jsxs("div",{className:"flex items-center justify-end gap-4 text-xs",children:[b.jsxs("div",{className:"text-right",children:[b.jsx("div",{className:"text-slate-500",children:"Tốc độ"}),b.jsxs("div",{className:"font-semibold",children:[(100*e.speed).toFixed(1),"%"]})]}),b.jsxs("div",{className:"text-right",children:[b.jsx("div",{className:"text-slate-500",children:"Gia tốc"}),b.jsxs("div",{className:"font-semibold",children:[(100*e.acceleration).toFixed(1),"%"]})]}),b.jsxs("div",{className:"text-right",children:[b.jsx("div",{className:"text-slate-500",children:"Tỷ lệ"}),b.jsx("div",{className:"font-semibold",children:null==(t=e.momentum_ratio)?void 0:t.toFixed(1)})]})]})]}):null},Ore=({title:e,phaseData:t,listTitle:n,color:r,Icon:i})=>{if(!t)return null;const a=t.top_candidates||t.warning_list||t.watch_list||[];return b.jsxs("div",{className:`p-3 rounded-lg border flex flex-col ${r.bg} ${r.border}`,children:[b.jsxs("div",{className:"flex items-center mb-1",children:[i&&b.jsx(i,{className:`w-5 h-5 mr-2 shrink-0 ${r.text}`}),b.jsx("h5",{className:`font-semibold text-sm ${r.text}`,children:e})]}),b.jsxs("p",{className:"text-xs font-medium text-slate-500 mb-3 -mt-1",children:[t.count," mã (",t.percentage,")"]}),a.length>0&&b.jsxs("div",{className:"space-y-2",children:[b.jsxs("p",{className:"text-xs font-semibold text-slate-600",children:[n,":"]}),a.slice(0,5).map((e,t)=>b.jsx(Mre,{candidate:e},t))]})]})},Are=({momentumCycles:e})=>{if(!e)return null;const{cycle_interpretation:t,accumulation_phase:n,acceleration_phase:r,momentum_phase:i,exhaustion_phase:a,reversal_phase:s}=e,o={accumulation:{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-700",Icon:null},acceleration:{bg:"bg-green-50",border:"border-green-200",text:"text-green-700",Icon:null},momentum:{bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-700",Icon:null},exhaustion:{bg:"bg-red-50",border:"border-red-200",text:"text-red-700",Icon:null},reversal:{bg:"bg-purple-50",border:"border-purple-200",text:"text-purple-700",Icon:null}};return b.jsxs("div",{className:"p-4 bg-white rounded-lg border space-y-4",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"font-bold text-base text-slate-800",children:"Chu kỳ động lượng"}),t&&b.jsx("p",{className:"text-sm text-slate-600 mt-1",children:t})]}),b.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[{key:"accumulation",title:"Tích lũy",data:n,listTitle:"Ứng viên hàng đầu"},{key:"acceleration",title:"Tăng tốc",data:r,listTitle:"Ứng viên hàng đầu"},{key:"momentum",title:"Động lượng",data:i,listTitle:"Ứng viên hàng đầu"},{key:"exhaustion",title:"Kiệt sức",data:a,listTitle:"Danh sách cảnh báo"},{key:"reversal",title:"Đảo chiều",data:s,listTitle:"Danh sách theo dõi"}].map(e=>e.data?b.jsx(Ore,{title:e.title,phaseData:e.data,listTitle:e.listTitle,color:o[e.key],Icon:o[e.key].Icon},e.key):null)})]})},Tre=({item:e})=>b.jsxs("div",{className:"flex items-center justify-between text-xs p-1.5 rounded hover:bg-slate-100",children:[b.jsxs("div",{className:"flex items-center gap-1.5 flex-1 truncate",children:["industry"===e.type&&b.jsx("span",{title:"Industry",className:"text-slate-400",children:"🏢"}),"symbol"===e.type&&b.jsx("span",{title:"Symbol",className:"text-slate-400",children:"🏷️"}),b.jsx("span",{className:"font-medium text-slate-800 truncate",title:e.name,children:e.name})]}),b.jsxs("div",{className:"flex items-center gap-4 font-semibold shrink-0 ml-4",children:[b.jsxs("span",{className:"w-12 text-right",children:[(100*e.speed).toFixed(2),"%"]}),b.jsxs("span",{className:"w-12 text-right",children:[(100*e.acceleration).toFixed(2),"%"]})]})]}),Rre=({title:e,count:t,percentage:n,items:r,color:i})=>b.jsxs("div",{className:`p-3 rounded-lg border ${i.bg} ${i.border}`,children:[b.jsxs("h4",{className:`font-bold text-sm ${i.text}`,children:[e," ",b.jsxs("span",{className:"font-normal",children:["(",t," - ",n,")"]})]}),r&&r.length>0&&b.jsxs("div",{className:"mt-2",children:[b.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-slate-400 px-1.5 mb-1",children:[b.jsx("span",{children:"TÊN"}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx("span",{className:"w-12 text-right",children:"TỐC ĐỘ"}),b.jsx("span",{className:"w-12 text-right",children:"GIA TỐC"})]})]}),b.jsx("div",{className:"space-y-1",children:r.slice(0,4).map((e,t)=>b.jsx(Tre,{item:e},t))})]})]}),Dre=({speedDistribution:e})=>{if(!e)return null;const{market_momentum_health:t,speed_distribution:n,acceleration_distribution:r}=e;return b.jsxs("div",{className:"bg-white p-4 rounded-lg border space-y-6",children:[t&&b.jsxs("div",{children:[b.jsx("h3",{className:"font-bold text-base text-slate-800",children:"Sức khỏe động lượng thị trường"}),b.jsxs("div",{className:"mt-2 p-3 border rounded-lg bg-slate-50",children:[b.jsx("p",{className:"font-bold text-lg text-green-600",children:t.status}),b.jsx("p",{className:"text-sm text-slate-600 mt-1 max-w-2xl",children:t.description}),b.jsxs("div",{className:"flex flex-wrap gap-3 mt-3 text-sm",children:[b.jsxs("div",{className:"bg-green-100 text-green-800 font-medium px-2 py-1 rounded",children:["Tốc độ cao: ",b.jsx("b",{children:t.high_speed_percentage})]}),b.jsxs("div",{className:"bg-sky-100 text-sky-800 font-medium px-2 py-1 rounded",children:["Tăng tốc: ",b.jsx("b",{children:t.accelerating_percentage})]}),b.jsxs("div",{className:"bg-red-100 text-red-800 font-medium px-2 py-1 rounded",children:["Giảm tốc: ",b.jsx("b",{children:t.decelerating_percentage})]})]}),b.jsx("p",{className:"text-sm text-blue-700 font-semibold mt-3 pt-3 border-t border-slate-200",children:t.recommendation})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"space-y-4",children:[b.jsx("h3",{className:"font-bold text-base text-slate-800",children:"Phân bổ tốc độ"}),[{key:"very_high_speed",title:"Tốc độ rất cao",theme:{bg:"bg-red-50",border:"border-red-200",text:"text-red-700"}},{key:"high_speed",title:"Tốc độ cao",theme:{bg:"bg-orange-50",border:"border-orange-200",text:"text-orange-700"}},{key:"medium_speed",title:"Tốc độ trung bình",theme:{bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-700"}},{key:"low_speed",title:"Tốc độ thấp",theme:{bg:"bg-green-50",border:"border-green-200",text:"text-green-700"}}].map(({key:e,title:t,theme:r})=>{const i=null==n?void 0:n[e];return!i||i.count<=0||!Array.isArray(i.items)||0===i.items.length?null:b.jsx(Rre,{title:t,count:i.count,percentage:i.percentage,items:i.items,color:r},e)})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsx("h3",{className:"font-bold text-base text-slate-800",children:"Phân bổ gia tốc"}),[{key:"strong_acceleration",title:"Gia tốc mạnh",theme:{bg:"bg-green-50",border:"border-green-200",text:"text-green-700"}},{key:"weak_acceleration",title:"Gia tốc yếu",theme:{bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-700"}},{key:"weak_deceleration",title:"Giảm tốc yếu",theme:{bg:"bg-orange-50",border:"border-orange-200",text:"text-orange-700"}},{key:"strong_deceleration",title:"Giảm tốc mạnh",theme:{bg:"bg-red-50",border:"border-red-200",text:"text-red-700"}}].map(({key:e,title:t,theme:n})=>{const i=null==r?void 0:r[e];return!i||i.count<=0||!Array.isArray(i.items)||0===i.items.length?null:b.jsx(Rre,{title:t,count:i.count,percentage:i.percentage,items:i.items,color:n},e)})]})]})]})},Ire=({detailedAnalysis:e})=>e&&e.title?e.momentum_cycles||e.speed_distribution?b.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Phân tích động lượng"}),b.jsxs("div",{className:"space-y-6",children:[e.momentum_cycles&&b.jsx(Are,{momentumCycles:e.momentum_cycles}),e.speed_distribution&&b.jsx(Dre,{speedDistribution:e.speed_distribution})]})]}):b.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:b.jsx("div",{className:"text-center text-gray-500",children:"Không có dữ liệu phân tích chi tiết khả dụng."})}):null,Lre=k.createContext({isReloading:!1,lastReloadTime:null,reloadAllData:()=>{},reloadSpecificData:()=>{},triggerReload:()=>{},reloadTrigger:0,companies:[],industries:[],essentialDataLoading:!0,essentialDataError:null});function zre({children:e}){const[t,n]=k.useState(!1),[r,i]=k.useState(null),[a,s]=k.useState(null),[o,l]=k.useState(0),{data:c,loading:u,error:d}=Lf(),{data:h,loading:f,error:m}=zf(),g=u||f,p=d||m;k.useEffect(()=>{if(!a){const e=new Date;s(e),i(e)}},[a]),k.useEffect(()=>{const e=e=>{var t;if(!r&&(null==(t=e.detail)?void 0:t.dataType)){const e=new Date;s(e),i(e)}};return window.addEventListener("dataReloaded",e),()=>{window.removeEventListener("dataReloaded",e)}},[]);const y=k.useCallback(()=>v(null,null,function*(){n(!0);try{Tf(),i(new Date),l(e=>e+1);const e=new CustomEvent("dataReloaded",{detail:{dataType:null}});window.dispatchEvent(e)}catch(e){}finally{n(!1)}}),[]),x=k.useCallback(e=>v(null,null,function*(){n(!0);try{Tf(e),i(new Date),l(e=>e+1);const t=new CustomEvent("dataReloaded",{detail:{dataType:e}});window.dispatchEvent(t)}catch(t){}finally{n(!1)}}),[]),w=k.useCallback((e=null)=>{e?x(e):y()},[y,x]),_={isReloading:t,lastReloadTime:r||a,reloadAllData:y,reloadSpecificData:x,triggerReload:w,reloadTrigger:o,companies:c,industries:h,essentialDataLoading:g,essentialDataError:p};return b.jsx(Lre.Provider,{value:_,children:e})}function Fre(){const e=k.useContext(Lre);if(!e||!e.reloadAllData)throw new Error("useDataReload must be used within a DataReloadProvider");return e}const Bre=({icon:e,label:t,value:n,valueClassName:r=""})=>b.jsxs("div",{className:"flex items-center justify-between py-1",children:[b.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[b.jsx(e,{className:"w-3.5 h-3.5 mr-2"}),b.jsx("span",{children:t})]}),b.jsx("span",{className:`font-mono text-xs font-medium ${r}`,children:n})]}),Vre=({title:e,tooltip:t,children:n})=>b.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("h4",{className:"font-semibold text-gray-800 text-sm",children:e}),t&&b.jsx("span",{className:"text-gray-400 cursor-pointer",title:t,children:b.jsx(ke,{size:14})})]}),b.jsx("div",{className:"space-y-1",children:n})]}),Wre=({industry:e})=>{const[t,n]=k.useState(!1);if(!e)return b.jsx("div",{className:"bg-white border rounded-lg p-4 shadow-sm text-center",children:b.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Không có dữ liệu chi tiết cho ngành này."})});const{metrics:r={},speed_analysis:i={},direction_analysis:a={},risk_assessment:s={},trend_consistency:o={}}=e,l=e=>"number"==typeof e?`${(100*e).toFixed(1)}%`:"K/C";return b.jsxs("div",{className:"bg-white border rounded-lg p-4 shadow-sm",children:[b.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:e.name}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[b.jsxs(Vre,{title:"Hiệu suất",tooltip:"Sức mạnh tương đối (Relative Strength) so với VNINDEX",children:[b.jsx(Bre,{icon:Re,label:"RS Hiện tại",value:(c=null==r?void 0:r.current_rs,"number"==typeof c?c.toFixed(2):"K/C"),valueClassName:"text-blue-600"}),b.jsx(Bre,{icon:(null==r?void 0:r.rs_trend_fast)>0?J:Q,label:"Xu hướng nhanh",value:l(null==r?void 0:r.rs_trend_fast),valueClassName:Jte(null==r?void 0:r.rs_trend_fast)}),b.jsx(Bre,{icon:(null==r?void 0:r.rs_trend_slow)>0?J:Q,label:"Xu hướng chậm",value:l(null==r?void 0:r.rs_trend_slow),valueClassName:Jte(null==r?void 0:r.rs_trend_slow)})]}),b.jsxs(Vre,{title:"Tốc độ & Hướng",tooltip:"Phân tích tốc độ và hướng của xu hướng",children:[b.jsx(Bre,{icon:Ve,label:"Tốc độ 5 phiên",value:l(null==i?void 0:i.raw_speed_5d)}),(()=>{const{icon:e,color:t}=ine(null==a?void 0:a.direction);return b.jsx(Bre,{icon:e,label:"Hướng",value:(null==a?void 0:a.direction)||"K/C",valueClassName:t})})(),b.jsx(Bre,{icon:X,label:"Sức mạnh xu hướng",value:(null==a?void 0:a.trend_strength)||"K/C",valueClassName:"text-purple-600"})]}),b.jsxs(Vre,{title:"Đánh giá Rủi ro",tooltip:"Mức độ rủi ro và quy mô vị thế gợi ý",children:[b.jsx(Bre,{icon:Oe,label:"Mức rủi ro",value:null==s?void 0:s.risk_level,valueClassName:Yte(null==s?void 0:s.risk_level)}),b.jsx(Bre,{icon:ae,label:"Kích thước vị thế",value:(null==s?void 0:s.suggested_position_size)||"K/C"}),b.jsx(Bre,{icon:Ie,label:"Khung thời gian",value:(null==s?void 0:s.time_horizon)||"K/C"})]})]}),b.jsx("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:b.jsx(Vre,{title:"Tính Nhất Quán Xu Hướng Ngành",children:b.jsxs("div",{className:"grid grid-cols-4 gap-x-6 text-center",children:[b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-gray-500",children:"Điểm nhất quán"}),b.jsx("div",{className:"font-mono font-semibold text-base",children:l(null==o?void 0:o.consistency_score)})]}),b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-gray-500",children:"Căn chỉnh xu hướng"}),b.jsx("div",{className:"font-mono font-semibold text-base",children:"Tích cực"===(null==o?void 0:o.trend_alignment)?"Tăng giá":"Tiêu cực"===(null==o?void 0:o.trend_alignment)?"Giảm giá":"Trung lập"})]}),b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-gray-500",children:"Số mã phân tích"}),b.jsx("div",{className:"font-mono font-semibold text-base",children:(null==o?void 0:o.symbol_count)||"K/C"})]}),b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-gray-500",children:"Độ tin cậy xu hướng"}),b.jsx("div",{className:"font-mono font-semibold text-base",children:l(null==o?void 0:o.trend_confidence)})]})]})})})]},e.id);var c},$re=({timeframe:e,analyticsData:t})=>{const{data:n,loading:r,error:i}=Df("rs_analysis",e),a=t||n,s=!t&&r,o=t?null:i,{companies:l,industries:c,essentialDataLoading:u}=k.useContext(Lre);Vf(l,c);const[d,h]=k.useState(""),[f,m]=k.useState([]),[g,p]=k.useState(null);if(k.useEffect(()=>{p(null)},[e]),s||u)return b.jsxs("div",{className:"flex items-center justify-center py-12",children:[b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),b.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Đang tải dữ liệu phân tích RS ngành nghề..."})]});if(o)return b.jsxs("div",{className:"text-center py-12",children:[b.jsx(De,{className:"mx-auto h-12 w-12 text-red-500"}),b.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100",children:"Lỗi tải dữ liệu"}),b.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:o})]});if(!a||!a.industries)return b.jsx("div",{className:"text-center py-12",children:b.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Không có dữ liệu phân tích RS ngành nghề"})});const{industries:v}=a,y=gne(),x=k.useMemo(()=>[y.accessor("industry",{header:"NGÀNH",cell:({getValue:e,row:t})=>b.jsxs("div",{children:[b.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:e()}),b.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["#",t.index+1]})]}),enableSorting:!0,enableGlobalFilter:!0}),y.accessor(e=>{var t;return null==(t=e.metrics)?void 0:t.current_crs},{id:"current_crs",header:"CRS",cell:({getValue:e})=>{const t=e(),n=t>0?"(vượt trội)":"(kém hiệu quả)";return b.jsx("span",{className:"text-sm font-medium "+(t>0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:null!=t?`${t>0?"+":""}${(100*t).toFixed(2)}% ${n}`:"-"})},enableSorting:!0}),y.accessor(e=>{var t;return null==(t=e.metrics)?void 0:t.current_rs},{id:"current_rs",header:"RS",cell:({getValue:e})=>{const t=e();return b.jsx("span",{className:"text-sm font-medium "+(t>50?"text-green-600 dark:text-green-400":t<50?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"),children:null!=t?t.toFixed(2):"-"})},enableSorting:!0}),y.accessor(e=>{var t;return null==(t=e.metrics)?void 0:t.rs_trend_fast},{id:"rs_trend_fast",header:"XU HƯỚNG NHANH",cell:({getValue:e})=>{const t=e();return b.jsx("span",{className:"text-sm font-medium "+(t>0?"text-green-600 dark:text-green-400":t<0?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"),children:null!=t?t.toFixed(2):"-"})},enableSorting:!0}),y.accessor(e=>{var t;return null==(t=e.metrics)?void 0:t.rs_trend_slow},{id:"rs_trend_slow",header:"XU HƯỚNG CHẬM",cell:({getValue:e})=>{const t=e();return b.jsx("span",{className:"text-sm font-medium "+(t>0?"text-green-600 dark:text-green-400":t<0?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"),children:null!=t?t.toFixed(2):"-"})},enableSorting:!0}),y.accessor(e=>{var t;return null==(t=e.metrics)?void 0:t.net_decayed},{id:"net_decayed",header:"NET DECAYED",cell:({getValue:e})=>{const t=e();return b.jsx("span",{className:"text-sm font-medium "+(t>0?"text-green-600 dark:text-green-400":t<0?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"),children:null!=t?t.toFixed(2):"-"})},enableSorting:!0}),y.accessor(e=>{var t;return null==(t=e.speed_analysis)?void 0:t.speed_fast},{id:"speed_fast",header:"TỐC ĐỘ NHANH",cell:({getValue:e})=>{const t=e();return b.jsx("span",{className:"text-sm font-medium "+(t>0?"text-green-600 dark:text-green-400":t<0?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"),children:null!=t?`${t>0?"+":""}${(100*t).toFixed(2)}%`:"-"})},enableSorting:!0}),y.accessor(e=>{var t;return null==(t=e.speed_analysis)?void 0:t.speed_slow},{id:"speed_slow",header:"TỐC ĐỘ CHẬM",cell:({getValue:e})=>{const t=e();return b.jsx("span",{className:"text-sm font-medium "+(t>0?"text-green-600 dark:text-green-400":t<0?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"),children:null!=t?`${t>0?"+":""}${(100*t).toFixed(2)}%`:"-"})},enableSorting:!0}),y.accessor(e=>{var t,n;return((null==(t=e.speed_analysis)?void 0:t.speed_fast)||0)-((null==(n=e.speed_analysis)?void 0:n.speed_slow)||0)},{id:"momentum_acceleration",header:"GIA TỐC MOMENTUM",cell:({getValue:e})=>{const t=e();return b.jsx("span",{className:"text-sm font-medium "+(t>0?"text-green-600 dark:text-green-400":t<0?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"),children:`${t>0?"+":""}${(100*t).toFixed(2)}%`})},enableSorting:!0}),y.accessor(e=>{var t;return null==(t=e.speed_analysis)?void 0:t.momentum_ratio},{id:"momentum_ratio",header:"TỶ LỆ MOMENTUM",cell:({getValue:e})=>{const t=e();return b.jsx("span",{className:"text-sm font-medium "+(t>1?"text-green-600 dark:text-green-400":t<1?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"),children:null!=t?`${t.toFixed(2)}`:"-"})},enableSorting:!0}),y.accessor(e=>{var t;return null==(t=e.speed_analysis)?void 0:t.weighted_speed},{id:"weighted_speed",header:"TỐC ĐỘ TỔNG HỢP",cell:({getValue:e})=>{const t=e();return b.jsx("span",{className:"text-sm font-medium "+(t>0?"text-green-600 dark:text-green-400":t<0?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"),children:null!=t?`${t>0?"+":""}${(100*t).toFixed(2)}%`:"-"})},enableSorting:!0}),y.accessor(e=>{var t;return null==(t=e.speed_analysis)?void 0:t.consistency_score},{id:"consistency_score",header:"ĐIỂM ỔN ĐỊNH",cell:({getValue:e})=>{const t=e();let n="text-gray-600 dark:text-gray-400";return n=t>=60?"text-green-600 dark:text-green-400":t>=40?"text-orange-600 dark:text-orange-400":"text-red-600 dark:text-red-400",b.jsx("span",{className:`text-sm font-medium ${n}`,children:null!=t?`${t.toFixed(1)}%`:"-"})},enableSorting:!0}),y.accessor(e=>{var t,n;return((e,t)=>(e/t*100).toFixed(1))(null==(t=e.metrics)?void 0:t.outperforming_days,null==(n=e.metrics)?void 0:n.total_days)},{id:"consistency",header:"ĐỘ ỔN ĐỊNH",cell:({getValue:e})=>{const t=e(),n="string"==typeof t?parseFloat(t):t;let r="text-gray-600 dark:text-gray-400";return r=n>=60?"text-green-600 dark:text-green-400":n>=40?"text-orange-600 dark:text-orange-400":"text-red-600 dark:text-red-400",b.jsx("span",{className:`text-sm font-medium ${r}`,children:null==n||isNaN(n)?"-":`${n.toFixed(1)}%`})},enableSorting:!0}),y.accessor(e=>{var t;return null==(t=e.metrics)?void 0:t.rs_volatility},{id:"volatility",header:"ĐỘ BIẾN ĐỘNG",cell:({getValue:e})=>{const t=e();return b.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:null!=t?`${(100*t).toFixed(2)}%`:"-"})},enableSorting:!0}),y.accessor(e=>{var t;return null==(t=e.trend_consistency)?void 0:t.consensus_strength},{id:"consensus_strength",header:"ĐỒNG THUẬN",cell:({getValue:e})=>{const t=e();return b.jsx("span",{className:"text-sm font-medium "+(t>0?"text-green-600 dark:text-green-400":t<0?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"),children:null!=t?t.toFixed(2):"-"})},enableSorting:!0}),y.accessor(e=>{var t;return null==(t=e.performance_summary)?void 0:t.strength_score},{id:"strength_score",header:"ĐIỂM MẠNH",cell:({getValue:e})=>{const t=e();return b.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:"number"==typeof t?t.toFixed(2):"-"})},enableSorting:!0})],[]),w=fre({data:v,columns:x,state:{globalFilter:d,columnFilters:f},onGlobalFilterChange:h,onColumnFiltersChange:m,getCoreRowModel:ore(),getSortedRowModel:dre(),getFilteredRowModel:cre(),getPaginationRowModel:ure(),globalFilterFn:"includesString",initialState:{pagination:{pageSize:50},sorting:[{id:"current_crs",desc:!0}]}});return b.jsxs("div",{className:"space-y-6",children:[b.jsx("div",{className:"flex items-center justify-between",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(De,{className:"h-5 w-5 text-blue-500"}),b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Phân tích sức mạnh tương đối ngành"})]})}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("div",{className:"relative flex-1 max-w-md",children:[b.jsx(Me,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),b.jsx("input",{type:"text",placeholder:"Tìm kiếm ngành...",value:null!=d?d:"",onChange:e=>h(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),b.jsxs("div",{className:"text-sm text-gray-600",children:[w.getFilteredRowModel().rows.length," / ",w.getCoreRowModel().rows.length," ngành"]})]}),b.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full border-collapse",children:[b.jsx("thead",{children:w.getHeaderGroups().map(e=>b.jsx("tr",{className:"bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600",children:e.headers.map(e=>b.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-900 dark:text-gray-100 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",onClick:e.column.getCanSort()?e.column.getToggleSortingHandler():void 0,children:b.jsxs("div",{className:"flex items-center gap-1",children:[hre(e.column.columnDef.header,e.getContext()),e.column.getCanSort()&&b.jsx("div",{className:"flex flex-col",children:"asc"===e.column.getIsSorted()?b.jsx(ue,{className:"w-3 h-3"}):"desc"===e.column.getIsSorted()?b.jsx(ce,{className:"w-3 h-3"}):b.jsx("div",{className:"w-3 h-3 opacity-30",children:b.jsx(ue,{className:"w-3 h-3"})})})]})},e.id))},e.id))}),b.jsx("tbody",{children:w.getRowModel().rows.map(e=>b.jsxs(S.Fragment,{children:[b.jsx("tr",{className:"border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer "+(g===e.original.id?"bg-blue-50 dark:bg-blue-900/20":""),onClick:()=>p(g===e.original.id?null:e.original.id),children:e.getVisibleCells().map(e=>b.jsx("td",{className:"px-3 py-3 text-sm text-gray-900 dark:text-gray-100",children:hre(e.column.columnDef.cell,e.getContext())},e.id))}),g===e.original.id&&b.jsx("tr",{children:b.jsx("td",{colSpan:x.length,className:"px-3 py-4 bg-gray-50 dark:bg-gray-800",children:b.jsx(Wre,{industry:e.original})})})]},e.id))})]})})}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{onClick:()=>w.previousPage(),disabled:!w.getCanPreviousPage(),className:"px-3 py-1 text-sm border border-gray-300 rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Trước"}),b.jsxs("span",{className:"text-sm text-gray-600",children:["Trang ",w.getState().pagination.pageIndex+1," / ",w.getPageCount()]}),b.jsx("button",{onClick:()=>w.nextPage(),disabled:!w.getCanNextPage(),className:"px-3 py-1 text-sm border border-gray-300 rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Sau"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"text-sm text-gray-600",children:"Hiển thị:"}),b.jsx("select",{value:w.getState().pagination.pageSize,onChange:e=>w.setPageSize(Number(e.target.value)),className:"px-2 py-1 text-sm border border-gray-300 rounded",children:[25,50,100,200].map(e=>b.jsx("option",{value:e,children:e},e))})]})]})]})},Hre=({data:e,x:t,y:n})=>e?b.jsxs("div",{className:"absolute px-3 py-2 bg-gray-900/95 backdrop-blur-sm shadow-xl rounded-md border border-gray-700 text-white text-xs z-50 pointer-events-none",style:{left:t+10,top:n-10,transform:"translateY(-100%)"},children:[b.jsx("div",{className:"font-semibold text-sm mb-1",children:"string"==typeof e.name?e.name:String(e.name||"Unknown")}),b.jsxs("div",{className:"space-y-0.5",children:[b.jsxs("div",{className:"flex justify-between gap-4",children:[b.jsx("span",{className:"text-gray-400",children:"Tỷ số RS:"}),b.jsx("span",{className:"font-mono",children:e.x.toFixed(2)})]}),b.jsxs("div",{className:"flex justify-between gap-4",children:[b.jsx("span",{className:"text-gray-400",children:"RS-Mom:"}),b.jsx("span",{className:"font-mono",children:e.y.toFixed(2)})]}),b.jsxs("div",{className:"flex justify-between gap-4",children:[b.jsx("span",{className:"text-gray-400",children:"Ngày:"}),b.jsx("span",{children:e.date})]})]})]}):null,Kre=e=>{const{cx:t,cy:n,payload:r,color:i,onHover:a}=e,[s,o]=k.useState(!1);return b.jsx("circle",{cx:t,cy:n,r:s?4:3,fill:i,fillOpacity:s?.8:.4,stroke:i,strokeWidth:s?1:0,style:{cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.stopPropagation(),o(!0),a(r,t,n)},onMouseMove:e=>{e.stopPropagation()}})},Ure=({onZoomIn:e,onZoomOut:t,onReset:n,zoomLevel:r})=>{const i="w-7 h-7 flex items-center justify-center bg-gray-200 hover:bg-gray-300 text-gray-700 rounded text-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer";return b.jsxs("div",{className:"absolute top-4 right-4 z-10 flex flex-col gap-1.5",children:[b.jsx("button",{onClick:e,className:i,disabled:r>=10,children:"+"}),b.jsx("button",{onClick:t,className:i,disabled:r<=1,children:"-"}),b.jsx("button",{onClick:n,className:i,disabled:1===r,children:"⟲"})]})};var Gre=.999,qre=/[\\\/_+.#"@\[\(\{&]/,Yre=/[\\\/_+.#"@\[\(\{&]/g,Xre=/[\s-]/,Qre=/[\s-]/g;function Zre(e,t,n,r,i,a,s){if(a===t.length)return i===e.length?1:.99;var o=`${i},${a}`;if(void 0!==s[o])return s[o];for(var l,c,u,d,h=r.charAt(a),f=n.indexOf(h,i),m=0;f>=0;)(l=Zre(e,t,n,r,f+1,a+1,s))>m&&(f===i?l*=1:qre.test(e.charAt(f-1))?(l*=.8,(u=e.slice(i,f-1).match(Yre))&&i>0&&(l*=Math.pow(Gre,u.length))):Xre.test(e.charAt(f-1))?(l*=.9,(d=e.slice(i,f-1).match(Qre))&&i>0&&(l*=Math.pow(Gre,d.length))):(l*=.17,i>0&&(l*=Math.pow(Gre,f-i))),e.charAt(f)!==t.charAt(a)&&(l*=.9999)),(l<.1&&n.charAt(f-1)===r.charAt(a+1)||r.charAt(a+1)===r.charAt(a)&&n.charAt(f-1)!==r.charAt(a))&&.1*(c=Zre(e,t,n,r,f+1,a+2,s))>l&&(l=.1*c),l>m&&(m=l),f=n.indexOf(h,f+1);return s[o]=m,m}function Jre(e){return e.toLowerCase().replace(Qre," ")}function eie(e,t,n){return Zre(e=n&&n.length>0?e+" "+n.join(" "):e,t,Jre(e),Jre(t),0,0,{})}var tie="Dialog",[nie,rie]=Pn(tie),[iie,aie]=nie(tie),sie=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:s=!0}=e,o=k.useRef(null),l=k.useRef(null),[c,u]=Ln({prop:r,defaultProp:null!=i&&i,onChange:a,caller:tie});return b.jsx(iie,{scope:t,triggerRef:o,contentRef:l,contentId:Rn(),titleId:Rn(),descriptionId:Rn(),open:c,onOpenChange:u,onOpenToggle:k.useCallback(()=>u(e=>!e),[u]),modal:s,children:n})};sie.displayName=tie;var oie="DialogTrigger";k.forwardRef((e,t)=>{const n=e,{__scopeDialog:r}=n,i=g(n,["__scopeDialog"]),a=aie(oie,r),s=et(t,a.triggerRef);return b.jsx(Sn.button,f(h({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Nie(a.open)},i),{ref:s,onClick:Cn(e.onClick,a.onOpenToggle)}))}).displayName=oie;var lie="DialogPortal",[cie,uie]=nie(lie,{forceMount:void 0}),die=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,a=aie(lie,t);return b.jsx(cie,{scope:t,forceMount:n,children:k.Children.map(r,e=>b.jsx(Vn,{present:n||a.open,children:b.jsx(oa,{asChild:!0,container:i,children:e})}))})};die.displayName=lie;var hie="DialogOverlay",fie=k.forwardRef((e,t)=>{const n=uie(hie,e.__scopeDialog),r=e,{forceMount:i=n.forceMount}=r,a=g(r,["forceMount"]),s=aie(hie,e.__scopeDialog);return s.modal?b.jsx(Vn,{present:i||s.open,children:b.jsx(gie,f(h({},a),{ref:t}))}):null});fie.displayName=hie;var mie=tt("DialogOverlay.RemoveScroll"),gie=k.forwardRef((e,t)=>{const n=e,{__scopeDialog:r}=n,i=g(n,["__scopeDialog"]),a=aie(hie,r);return b.jsx(ns,{as:mie,allowPinchZoom:!0,shards:[a.contentRef],children:b.jsx(Sn.div,f(h({"data-state":Nie(a.open)},i),{ref:t,style:h({pointerEvents:"auto"},i.style)}))})}),pie="DialogContent",vie=k.forwardRef((e,t)=>{const n=uie(pie,e.__scopeDialog),r=e,{forceMount:i=n.forceMount}=r,a=g(r,["forceMount"]),s=aie(pie,e.__scopeDialog);return b.jsx(Vn,{present:i||s.open,children:s.modal?b.jsx(yie,f(h({},a),{ref:t})):b.jsx(xie,f(h({},a),{ref:t}))})});vie.displayName=pie;var yie=k.forwardRef((e,t)=>{const n=aie(pie,e.__scopeDialog),r=k.useRef(null),i=et(t,n.contentRef,r);return k.useEffect(()=>{const e=r.current;if(e)return ga(e)},[]),b.jsx(bie,f(h({},e),{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Cn(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null==(t=n.triggerRef.current)||t.focus()}),onPointerDownOutside:Cn(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()}),onFocusOutside:Cn(e.onFocusOutside,e=>e.preventDefault())}))}),xie=k.forwardRef((e,t)=>{const n=aie(pie,e.__scopeDialog),r=k.useRef(!1),i=k.useRef(!1);return b.jsx(bie,f(h({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var a,s;null==(a=e.onCloseAutoFocus)||a.call(e,t),t.defaultPrevented||(r.current||null==(s=n.triggerRef.current)||s.focus(),t.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:t=>{var a,s;null==(a=e.onInteractOutside)||a.call(e,t),t.defaultPrevented||(r.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));const o=t.target;(null==(s=n.triggerRef.current)?void 0:s.contains(o))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}}))}),bie=k.forwardRef((e,t)=>{const n=e,{__scopeDialog:r,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:s}=n,o=g(n,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),l=aie(pie,r),c=k.useRef(null),u=et(t,c);return Jn(),b.jsxs(b.Fragment,{children:[b.jsx(ir,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:a,onUnmountAutoFocus:s,children:b.jsx(Yn,f(h({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Nie(l.open)},o),{ref:u,onDismiss:()=>l.onOpenChange(!1)}))}),b.jsxs(b.Fragment,{children:[b.jsx(Pie,{titleId:l.titleId}),b.jsx(Eie,{contentRef:c,descriptionId:l.descriptionId})]})]})}),wie="DialogTitle";k.forwardRef((e,t)=>{const n=e,{__scopeDialog:r}=n,i=g(n,["__scopeDialog"]),a=aie(wie,r);return b.jsx(Sn.h2,f(h({id:a.titleId},i),{ref:t}))}).displayName=wie;var _ie="DialogDescription";k.forwardRef((e,t)=>{const n=e,{__scopeDialog:r}=n,i=g(n,["__scopeDialog"]),a=aie(_ie,r);return b.jsx(Sn.p,f(h({id:a.descriptionId},i),{ref:t}))}).displayName=_ie;var jie="DialogClose";function Nie(e){return e?"open":"closed"}k.forwardRef((e,t)=>{const n=e,{__scopeDialog:r}=n,i=g(n,["__scopeDialog"]),a=aie(jie,r);return b.jsx(Sn.button,f(h({type:"button"},i),{ref:t,onClick:Cn(e.onClick,()=>a.onOpenChange(!1))}))}).displayName=jie;var kie="DialogTitleWarning",[Sie,Cie]=function(e,t){const n=k.createContext(t),r=e=>{const t=e,{children:r}=t,i=g(t,["children"]),a=k.useMemo(()=>i,Object.values(i));return b.jsx(n.Provider,{value:a,children:r})};return r.displayName=e+"Provider",[r,function(r){const i=k.useContext(n);if(i)return i;if(void 0!==t)return t;throw new Error(`\`${r}\` must be used within \`${e}\``)}]}(kie,{contentName:pie,titleName:wie,docsSlug:"dialog"}),Pie=({titleId:e})=>{const t=Cie(kie),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.\n\nIf you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return k.useEffect(()=>{e&&document.getElementById(e)},[n,e]),null},Eie=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Cie("DialogDescriptionWarning").contentName}}.`;return k.useEffect(()=>{var n;const r=null==(n=e.current)?void 0:n.getAttribute("aria-describedby");t&&r&&document.getElementById(t)},[n,e,t]),null},Mie=sie,Oie=die,Aie=fie,Tie=vie,Rie='[cmdk-group=""]',Die='[cmdk-group-items=""]',Iie='[cmdk-item=""]',Lie=`${Iie}:not([aria-disabled="true"])`,zie="cmdk-item-select",Fie="data-value",Bie=(e,t,n)=>eie(e,t,n),Vie=k.createContext(void 0),Wie=()=>k.useContext(Vie),$ie=k.createContext(void 0),Hie=()=>k.useContext($ie),Kie=k.createContext(void 0),Uie=k.forwardRef((e,t)=>{let n=sae(()=>{var t,n;return{search:"",value:null!=(n=null!=(t=e.value)?t:e.defaultValue)?n:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=sae(()=>new Set),i=sae(()=>new Map),a=sae(()=>new Map),s=sae(()=>new Set),o=iae(e),l=e,{label:c,children:u,value:d,onValueChange:m,filter:p,shouldFilter:v,loop:y,disablePointerSelection:x=!1,vimBindings:b=!0}=l,w=g(l,["label","children","value","onValueChange","filter","shouldFilter","loop","disablePointerSelection","vimBindings"]),_=Rn(),j=Rn(),N=Rn(),S=k.useRef(null),C=cae();aae(()=>{if(void 0!==d){let e=d.trim();n.current.value=e,P.emit()}},[d]),aae(()=>{C(6,R)},[]);let P=k.useMemo(()=>({subscribe:e=>(s.current.add(e),()=>s.current.delete(e)),snapshot:()=>n.current,setState:(e,t,r)=>{var i,a,s,l;if(!Object.is(n.current[e],t)){if(n.current[e]=t,"search"===e)T(),O(),C(1,A);else if("value"===e){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let e=document.getElementById(N);e?e.focus():null==(i=document.getElementById(_))||i.focus()}if(C(7,()=>{var e;n.current.selectedItemId=null==(e=D())?void 0:e.id,P.emit()}),r||C(5,R),void 0!==(null==(a=o.current)?void 0:a.value)){let e=null!=t?t:"";return void(null==(l=(s=o.current).onValueChange)||l.call(s,e))}}P.emit()}},emit:()=>{s.current.forEach(e=>e())}}),[]),E=k.useMemo(()=>({value:(e,t,r)=>{var i;t!==(null==(i=a.current.get(e))?void 0:i.value)&&(a.current.set(e,{value:t,keywords:r}),n.current.filtered.items.set(e,M(t,r)),C(2,()=>{O(),P.emit()}))},item:(e,t)=>(r.current.add(e),t&&(i.current.has(t)?i.current.get(t).add(e):i.current.set(t,new Set([e]))),C(3,()=>{T(),O(),n.current.value||A(),P.emit()}),()=>{a.current.delete(e),r.current.delete(e),n.current.filtered.items.delete(e);let t=D();C(4,()=>{T(),(null==t?void 0:t.getAttribute("id"))===e&&A(),P.emit()})}),group:e=>(i.current.has(e)||i.current.set(e,new Set),()=>{a.current.delete(e),i.current.delete(e)}),filter:()=>o.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>o.current.disablePointerSelection,listId:_,inputId:N,labelId:j,listInnerRef:S}),[]);function M(e,t){var r,i;let a=null!=(i=null==(r=o.current)?void 0:r.filter)?i:Bie;return e?a(e,n.current.search,t):0}function O(){if(!n.current.search||!1===o.current.shouldFilter)return;let e=n.current.filtered.items,t=[];n.current.filtered.groups.forEach(n=>{let r=i.current.get(n),a=0;r.forEach(t=>{let n=e.get(t);a=Math.max(n,a)}),t.push([n,a])});let r=S.current;I().sort((t,n)=>{var r,i;let a=t.getAttribute("id"),s=n.getAttribute("id");return(null!=(r=e.get(s))?r:0)-(null!=(i=e.get(a))?i:0)}).forEach(e=>{let t=e.closest(Die);t?t.appendChild(e.parentElement===t?e:e.closest(`${Die} > *`)):r.appendChild(e.parentElement===r?e:e.closest(`${Die} > *`))}),t.sort((e,t)=>t[1]-e[1]).forEach(e=>{var t;let n=null==(t=S.current)?void 0:t.querySelector(`${Rie}[${Fie}="${encodeURIComponent(e[0])}"]`);null==n||n.parentElement.appendChild(n)})}function A(){let e=I().find(e=>"true"!==e.getAttribute("aria-disabled")),t=null==e?void 0:e.getAttribute(Fie);P.setState("value",t||void 0)}function T(){var e,t,s,l;if(!n.current.search||!1===o.current.shouldFilter)return void(n.current.filtered.count=r.current.size);n.current.filtered.groups=new Set;let c=0;for(let i of r.current){let r=M(null!=(t=null==(e=a.current.get(i))?void 0:e.value)?t:"",null!=(l=null==(s=a.current.get(i))?void 0:s.keywords)?l:[]);n.current.filtered.items.set(i,r),r>0&&c++}for(let[r,a]of i.current)for(let e of a)if(n.current.filtered.items.get(e)>0){n.current.filtered.groups.add(r);break}n.current.filtered.count=c}function R(){var e,t,n;let r=D();r&&((null==(e=r.parentElement)?void 0:e.firstChild)===r&&(null==(n=null==(t=r.closest(Rie))?void 0:t.querySelector('[cmdk-group-heading=""]'))||n.scrollIntoView({block:"nearest"})),r.scrollIntoView({block:"nearest"}))}function D(){var e;return null==(e=S.current)?void 0:e.querySelector(`${Iie}[aria-selected="true"]`)}function I(){var e;return Array.from((null==(e=S.current)?void 0:e.querySelectorAll(Lie))||[])}function L(e){let t=I()[e];t&&P.setState("value",t.getAttribute(Fie))}function z(e){var t;let n=D(),r=I(),i=r.findIndex(e=>e===n),a=r[i+e];null!=(t=o.current)&&t.loop&&(a=i+e<0?r[r.length-1]:i+e===r.length?r[0]:r[i+e]),a&&P.setState("value",a.getAttribute(Fie))}function F(e){let t,n=D(),r=null==n?void 0:n.closest(Rie);for(;r&&!t;)r=e>0?nae(r,Rie):rae(r,Rie),t=null==r?void 0:r.querySelector(Lie);t?P.setState("value",t.getAttribute(Fie)):z(e)}let B=()=>L(I().length-1),V=e=>{e.preventDefault(),e.metaKey?B():e.altKey?F(1):z(1)},W=e=>{e.preventDefault(),e.metaKey?L(0):e.altKey?F(-1):z(-1)};return k.createElement(Sn.div,f(h({ref:t,tabIndex:-1},w),{"cmdk-root":"",onKeyDown:e=>{var t;null==(t=w.onKeyDown)||t.call(w,e);let n=e.nativeEvent.isComposing||229===e.keyCode;if(!e.defaultPrevented&&!n)switch(e.key){case"n":case"j":b&&e.ctrlKey&&V(e);break;case"ArrowDown":V(e);break;case"p":case"k":b&&e.ctrlKey&&W(e);break;case"ArrowUp":W(e);break;case"Home":e.preventDefault(),L(0);break;case"End":e.preventDefault(),B();break;case"Enter":{e.preventDefault();let t=D();if(t){let e=new Event(zie);t.dispatchEvent(e)}}}}}),k.createElement("label",{"cmdk-label":"",htmlFor:E.inputId,id:E.labelId,style:dae},c),uae(e,e=>k.createElement($ie.Provider,{value:P},k.createElement(Vie.Provider,{value:E},e))))}),Gie=k.forwardRef((e,t)=>{var n,r;let i=Rn(),a=k.useRef(null),s=k.useContext(Kie),o=Wie(),l=iae(e),c=null!=(r=null==(n=l.current)?void 0:n.forceMount)?r:null==s?void 0:s.forceMount;aae(()=>{if(!c)return o.item(i,null==s?void 0:s.id)},[c]);let u=lae(i,a,[e.value,e.children,a],e.keywords),d=Hie(),m=oae(e=>e.value&&e.value===u.current),p=oae(e=>!(!c&&!1!==o.filter())||!e.search||e.filtered.items.get(i)>0);function v(){var e,t;y(),null==(t=(e=l.current).onSelect)||t.call(e,u.current)}function y(){d.setState("value",u.current,!0)}if(k.useEffect(()=>{let t=a.current;if(t&&!e.disabled)return t.addEventListener(zie,v),()=>t.removeEventListener(zie,v)},[p,e.onSelect,e.disabled]),!p)return null;let x=e,{disabled:b,value:w,onSelect:_,forceMount:j,keywords:N}=x,S=g(x,["disabled","value","onSelect","forceMount","keywords"]);return k.createElement(Sn.div,f(h({ref:Je(a,t)},S),{id:i,"cmdk-item":"",role:"option","aria-disabled":!!b,"aria-selected":!!m,"data-disabled":!!b,"data-selected":!!m,onPointerMove:b||o.getDisablePointerSelection()?void 0:y,onClick:b?void 0:v}),e.children)}),qie=k.forwardRef((e,t)=>{let n=e,{heading:r,children:i,forceMount:a}=n,s=g(n,["heading","children","forceMount"]),o=Rn(),l=k.useRef(null),c=k.useRef(null),u=Rn(),d=Wie(),m=oae(e=>!(!a&&!1!==d.filter())||!e.search||e.filtered.groups.has(o));aae(()=>d.group(o),[]),lae(o,l,[e.value,e.heading,c]);let p=k.useMemo(()=>({id:o,forceMount:a}),[a]);return k.createElement(Sn.div,f(h({ref:Je(l,t)},s),{"cmdk-group":"",role:"presentation",hidden:!m||void 0}),r&&k.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),uae(e,e=>k.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},k.createElement(Kie.Provider,{value:p},e))))}),Yie=k.forwardRef((e,t)=>{let n=e,{alwaysRender:r}=n,i=g(n,["alwaysRender"]),a=k.useRef(null),s=oae(e=>!e.search);return r||s?k.createElement(Sn.div,f(h({ref:Je(a,t)},i),{"cmdk-separator":"",role:"separator"})):null}),Xie=k.forwardRef((e,t)=>{let n=e,{onValueChange:r}=n,i=g(n,["onValueChange"]),a=null!=e.value,s=Hie(),o=oae(e=>e.search),l=oae(e=>e.selectedItemId),c=Wie();return k.useEffect(()=>{null!=e.value&&s.setState("search",e.value)},[e.value]),k.createElement(Sn.input,f(h({ref:t},i),{"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:o,onChange:e=>{a||s.setState("search",e.target.value),null==r||r(e.target.value)}}))}),Qie=k.forwardRef((e,t)=>{let n=e,{children:r,label:i="Suggestions"}=n,a=g(n,["children","label"]),s=k.useRef(null),o=k.useRef(null),l=oae(e=>e.selectedItemId),c=Wie();return k.useEffect(()=>{if(o.current&&s.current){let e,t=o.current,n=s.current,r=new ResizeObserver(()=>{e=requestAnimationFrame(()=>{let e=t.offsetHeight;n.style.setProperty("--cmdk-list-height",e.toFixed(1)+"px")})});return r.observe(t),()=>{cancelAnimationFrame(e),r.unobserve(t)}}},[]),k.createElement(Sn.div,f(h({ref:Je(s,t)},a),{"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":i,id:c.listId}),uae(e,e=>k.createElement("div",{ref:Je(o,c.listInnerRef),"cmdk-list-sizer":""},e)))}),Zie=k.forwardRef((e,t)=>{let n=e,{open:r,onOpenChange:i,overlayClassName:a,contentClassName:s,container:o}=n,l=g(n,["open","onOpenChange","overlayClassName","contentClassName","container"]);return k.createElement(Mie,{open:r,onOpenChange:i},k.createElement(Oie,{container:o},k.createElement(Aie,{"cmdk-overlay":"",className:a}),k.createElement(Tie,{"aria-label":e.label,"cmdk-dialog":"",className:s},k.createElement(Uie,h({ref:t},l)))))}),Jie=k.forwardRef((e,t)=>oae(e=>0===e.filtered.count)?k.createElement(Sn.div,f(h({ref:t},e),{"cmdk-empty":"",role:"presentation"})):null),eae=k.forwardRef((e,t)=>{let n=e,{progress:r,children:i,label:a="Loading..."}=n,s=g(n,["progress","children","label"]);return k.createElement(Sn.div,f(h({ref:t},s),{"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a}),uae(e,e=>k.createElement("div",{"aria-hidden":!0},e)))}),tae=Object.assign(Uie,{List:Qie,Item:Gie,Input:Xie,Group:qie,Separator:Yie,Dialog:Zie,Empty:Jie,Loading:eae});function nae(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function rae(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function iae(e){let t=k.useRef(e);return aae(()=>{t.current=e}),t}var aae="undefined"==typeof window?k.useEffect:k.useLayoutEffect;function sae(e){let t=k.useRef();return void 0===t.current&&(t.current=e()),t}function oae(e){let t=Hie(),n=()=>e(t.snapshot());return k.useSyncExternalStore(t.subscribe,n,n)}function lae(e,t,n,r=[]){let i=k.useRef(),a=Wie();return aae(()=>{var s;let o=(()=>{var e;for(let t of n){if("string"==typeof t)return t.trim();if("object"==typeof t&&"current"in t)return t.current?null==(e=t.current.textContent)?void 0:e.trim():i.current}})(),l=r.map(e=>e.trim());a.value(e,o,l),null==(s=t.current)||s.setAttribute(Fie,o),i.current=o}),i}var cae=()=>{let[e,t]=k.useState(),n=sae(()=>new Map);return aae(()=>{n.current.forEach(e=>e()),n.current=new Map},[e]),(e,r)=>{n.current.set(e,r),t({})}};function uae({asChild:e,children:t},n){return e&&k.isValidElement(t)?k.cloneElement(function(e){let t=e.type;return"function"==typeof t?t(e.props):"render"in t?t.render(e.props):e}(t),{ref:t.ref},n(t.props.children)):n(t)}var dae={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function hae(e){var t=e,{className:n}=t,r=g(t,["className"]);return b.jsx(tae,h({"data-slot":"command",className:yn("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",n)},r))}function fae(e){var t=e,{className:n}=t,r=g(t,["className"]);return b.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[b.jsx(Me,{className:"size-4 shrink-0 opacity-50"}),b.jsx(tae.Input,h({"data-slot":"command-input",className:yn("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",n)},r))]})}function mae(e){var t=e,{className:n}=t,r=g(t,["className"]);return b.jsx(tae.List,h({"data-slot":"command-list",className:yn("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",n)},r))}function gae(e){var t=g(e,[]);return b.jsx(tae.Empty,h({"data-slot":"command-empty",className:"py-6 text-center text-sm"},t))}function pae(e){var t=e,{className:n}=t,r=g(t,["className"]);return b.jsx(tae.Group,h({"data-slot":"command-group",className:yn("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",n)},r))}function vae(e){var t=e,{className:n}=t,r=g(t,["className"]);return b.jsx(tae.Separator,h({"data-slot":"command-separator",className:yn("bg-border -mx-1 h-px",n)},r))}function yae(e){var t=e,{className:n}=t,r=g(t,["className"]);return b.jsx(tae.Item,h({"data-slot":"command-item",className:yn("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n)},r))}const xae=ut("m-1 transition ease-in-out delay-150 hover:-translate-y-1 hover:scale-110 duration-300",{variants:{variant:{default:"border-foreground/10 text-foreground bg-card hover:bg-card/80",secondary:"border-foreground/10 bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",inverted:"inverted"}},defaultVariants:{variant:"default"}}),bae=S.forwardRef((e,t)=>{var n=e,{options:r,onValueChange:i,variant:a,defaultValue:s=[],value:o,placeholder:l="Select options",animation:c=0,maxCount:u=3,modalPopover:d=!1,asChild:m=!1,className:p}=n,v=g(n,["options","onValueChange","variant","defaultValue","value","placeholder","animation","maxCount","modalPopover","asChild","className"]);const[y,x]=k.useState(o||s),[w,_]=k.useState(!1),[j,N]=k.useState(!1);k.useEffect(()=>{void 0!==o&&x(o)},[o]);const S=e=>{const t=y.includes(e)?y.filter(t=>t!==e):[...y,e];x(t),i(t)},C=()=>{x([]),i([])};return b.jsxs(Nl,{open:w,onOpenChange:_,modal:d,children:[b.jsx(kl,{asChild:!0,children:b.jsx(_n,f(h({ref:t},v),{onClick:()=>{_(e=>!e)},className:yn("flex w-full p-1 rounded-md border min-h-10 h-auto items-center justify-between bg-inherit hover:bg-inherit [&_svg]:pointer-events-auto",p),children:y.length>0?b.jsxs("div",{className:"flex justify-between items-center w-full",children:[b.jsxs("div",{className:"flex flex-wrap items-center",children:[y.slice(0,u).map(e=>{const t=r.find(t=>t.value===e),n=null==t?void 0:t.icon;return b.jsxs(bn,{className:yn(j?"animate-bounce":"",xae({variant:a})),style:{animationDuration:`${c}s`},children:[n&&b.jsx(n,{className:"h-4 w-4 mr-2"}),null==t?void 0:t.label,b.jsx(me,{className:"ml-2 h-4 w-4 cursor-pointer",onClick:t=>{t.stopPropagation(),S(e)}})]},e)}),y.length>u&&b.jsxs(bn,{className:yn("bg-transparent text-foreground border-foreground/1 hover:bg-transparent",j?"animate-bounce":"",xae({variant:a})),style:{animationDuration:`${c}s`},children:[`+ ${y.length-u} more`,b.jsx(me,{className:"ml-2 h-4 w-4 cursor-pointer",onClick:e=>{e.stopPropagation(),(()=>{const e=y.slice(0,u);x(e),i(e)})()}})]})]}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx(Be,{className:"h-4 mx-2 cursor-pointer text-muted-foreground",onClick:e=>{e.stopPropagation(),C()}}),b.jsx(_o,{orientation:"vertical",className:"flex min-h-6 h-full"}),b.jsx(ce,{className:"h-4 mx-2 cursor-pointer text-muted-foreground"})]})]}):b.jsxs("div",{className:"flex items-center justify-between w-full mx-auto",children:[b.jsx("span",{className:"text-sm text-muted-foreground mx-3",children:l}),b.jsx(ce,{className:"h-4 cursor-pointer text-muted-foreground mx-2"})]})}))}),b.jsx(Sl,{className:"w-auto p-0",align:"start",onEscapeKeyDown:()=>_(!1),children:b.jsxs(hae,{children:[b.jsx(fae,{placeholder:"Search...",onKeyDown:e=>{if("Enter"===e.key)_(!0);else if("Backspace"===e.key&&!e.currentTarget.value){const e=[...y];e.pop(),x(e),i(e)}}}),b.jsxs(mae,{children:[b.jsx(gae,{children:"No results found."}),b.jsxs(pae,{children:[b.jsxs(yae,{onSelect:()=>{if(y.length===r.length)C();else{const e=r.map(e=>e.value);x(e),i(e)}},className:"cursor-pointer",children:[b.jsx("div",{className:yn("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",y.length===r.length?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:b.jsx(le,{className:"h-4 w-4"})}),b.jsx("span",{children:"(Select All)"})]},"select-all"),r.map(e=>{const t=y.includes(e.value);return b.jsxs(yae,{onSelect:()=>S(e.value),className:"cursor-pointer",children:[b.jsx("div",{className:yn("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",t?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:b.jsx(le,{className:"h-4 w-4"})}),e.icon&&b.jsx(e.icon,{className:"mr-2 h-4 w-4 text-muted-foreground"}),b.jsx("span",{children:e.label})]},e.value)})]}),b.jsx(vae,{}),b.jsx(pae,{children:b.jsxs("div",{className:"flex items-center justify-between",children:[y.length>0&&b.jsxs(b.Fragment,{children:[b.jsx(yae,{onSelect:C,className:"flex-1 justify-center cursor-pointer",children:"Clear"},"clear-all"),b.jsx(_o,{orientation:"vertical",className:"flex min-h-6 h-full"})]}),b.jsx(yae,{onSelect:()=>_(!1),className:"flex-1 justify-center cursor-pointer max-w-full",children:"Close"},"close-popover")]})})]})]})}),c>0&&y.length>0&&b.jsx(ze,{className:yn("cursor-pointer my-2 text-foreground bg-background w-3 h-3",j?"":"text-muted-foreground"),onClick:()=>N(!j)})]})});bae.displayName="MultiSelect";const wae=({type:e,trailLength:t,setTrailLength:n,selectedIndustries:r,setSelectedIndustries:i,selectedGroups:a,setSelectedGroups:s,selectedTickerIndustries:o,setSelectedTickerIndustries:l,specialTickerFilter:c,setSpecialTickerFilter:u,availableIndustries:d,availableGroups:h,filteredData:f})=>b.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("label",{className:"text-sm font-medium",children:"Trail Length:"}),b.jsxs("select",{value:t,onChange:e=>n(Number(e.target.value)),className:"border rounded px-2 py-1 text-sm min-w-[80px] focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-black cursor-pointer",children:[b.jsx("option",{value:0,children:"None"}),b.jsx("option",{value:5,children:"5"}),b.jsx("option",{value:10,children:"10"}),b.jsx("option",{value:21,children:"21"})]})]}),"industries"===e&&b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("label",{className:"text-sm font-medium",children:"Filter by:"}),b.jsx(bae,{options:d.map(e=>({value:e.custom_id,label:e.name||e.custom_id||"Unknown"})).sort((e,t)=>(e.label||"").localeCompare(t.label||"","vi-VN")),onValueChange:i,value:r,placeholder:"Chọn ngành",maxCount:3,variant:"default"}),b.jsxs("span",{className:"text-xs text-gray-500",children:["Showing ",f.length," industries"]})]}),"groups"===e&&b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("label",{className:"text-sm font-medium",children:"Filter by:"}),b.jsx(bae,{options:h.map(e=>({value:e.custom_id,label:e.name||e.custom_id||"Unknown"})).sort((e,t)=>(e.label||"").localeCompare(t.label||"","vi-VN")),onValueChange:s,value:a,placeholder:"Chọn nhóm",maxCount:3,variant:"default"}),b.jsxs("span",{className:"text-xs text-gray-500",children:["Showing ",f.length," groups"]})]}),"tickers"===e&&b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("label",{className:"text-sm font-medium",children:"Filter by:"}),b.jsxs("select",{value:c,onChange:e=>u(e.target.value),className:"border rounded px-2 py-1 text-sm min-w-[200px] focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-black cursor-pointer",children:[b.jsx("option",{value:"all",children:"By Industry"}),b.jsx("option",{value:"top10rs",children:"Top 10 RS Score"}),b.jsx("option",{value:"bottom10rs",children:"Bottom 10 RS Score"}),b.jsx("option",{value:"top10momentum",children:"Top 10 RS Momentum"}),b.jsx("option",{value:"bottom10momentum",children:"Bottom 10 RS Momentum"})]}),"all"===c&&b.jsx("select",{value:o[0],onChange:e=>l([e.target.value]),className:"border rounded px-2 py-1 text-sm min-w-[200px] focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-black cursor-pointer",children:d.sort((e,t)=>(e.name||e.custom_id||"").localeCompare(t.name||t.custom_id||"","vi-VN")).map(e=>b.jsx("option",{value:e.custom_id,children:e.name},e.custom_id))}),"all"!==c?b.jsx("span",{className:"text-xs text-blue-600 font-medium",children:(()=>{switch(c){case"top10rs":return"Top 10 RS Score";case"bottom10rs":return"Bottom 10 RS Score";case"top10momentum":return"Top 10 RS Momentum";case"bottom10momentum":return"Bottom 10 RS Momentum";default:return""}})()}):b.jsxs("span",{className:"text-xs text-gray-500",children:["Showing ",f.length," tickers"]})]})]}),_ae=({limitedData:e,getSeriesColor:t,type:n,availableIndustries:r,availableGroups:i})=>b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[b.jsxs("p",{children:[b.jsx("strong",{children:"RS-Ratio (X-axis):"})," Sức mạnh tương đối so với VNINDEX (values >100 = vượt trội, <100 = kém)"]}),b.jsxs("p",{children:[b.jsx("strong",{children:"RS-Momentum (Y-axis):"})," Tốc độ thay đổi sức mạnh tương đối (values >100 = cải thiện, <100 = suy yếu)"]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Quadrants:"})," Leading (Dẫn dắt) (góc phải-trên), Weakening (Suy yếu) (góc phải-dưới), Lagging (Tụt hậu) (góc trái-dưới), Improving (Cải thiện) (góc trái-trên)"]})]}),e.length>0&&b.jsxs("div",{className:"border-t pt-3",children:[b.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Cấu phần:"}),b.jsx("div",{className:"flex flex-wrap gap-2",children:e.map((a,s)=>{let o;if("industries"===n){const e=null==r?void 0:r.find(e=>e.custom_id===a.custom_id);o=(null==e?void 0:e.name)||a.custom_id}else if("groups"===n){const e=null==i?void 0:i.find(e=>e.id===a.id);o=(null==e?void 0:e.name)||a.id}else o=a.symbol||a.custom_id;return b.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[b.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:t(a.symbol||a.custom_id,s,e.length)}}),b.jsx("span",{className:"text-gray-600",children:o})]},a.symbol||a.custom_id)})})]})]}),jae=({icon:e,label:t,value:n,valueClassName:r=""})=>b.jsxs("div",{className:"flex items-center justify-between py-1",children:[b.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[b.jsx(e,{className:"w-3.5 h-3.5 mr-2"}),b.jsx("span",{children:t})]}),b.jsx("span",{className:`font-mono text-xs font-medium ${r}`,children:n})]}),Nae=({title:e,children:t})=>b.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[b.jsx("h4",{className:"font-semibold text-gray-800 text-sm mb-2",children:e}),b.jsx("div",{className:"space-y-1",children:t})]}),kae=({symbol:e})=>{var t,n,r,i,a,s;const o=e;if(!o)return b.jsxs("div",{className:"bg-white border rounded-lg p-4 shadow-sm",children:[b.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:e.name}),b.jsx("p",{className:"text-gray-500 text-sm",children:"Không có dữ liệu chi tiết cho mã này."})]},e.symbol);const{metrics:l={},performance_summary:c={},speed_analysis:u={},direction_analysis:d={},risk_assessment:h={}}=o,f=e=>"number"==typeof e?`${(100*e).toFixed(1)}%`:"K/C",m=e=>"number"==typeof e?e.toFixed(2):"K/C";return b.jsxs("div",{className:"bg-white border rounded-lg p-4 shadow-sm",children:[b.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:e.name}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[b.jsxs(Nae,{title:"Hiệu suất",children:[b.jsx(jae,{icon:Re,label:"RS Hiện tại",value:m(null==l?void 0:l.current_rs),valueClassName:"text-blue-600"}),b.jsx(jae,{icon:(null==l?void 0:l.rs_trend_fast)>0?J:Q,label:"Xu hướng nhanh",value:f(null==l?void 0:l.rs_trend_fast),valueClassName:Jte(null==l?void 0:l.rs_trend_fast)}),b.jsx(jae,{icon:(null==l?void 0:l.rs_trend_slow)>0?J:Q,label:"Xu hướng chậm",value:f(null==l?void 0:l.rs_trend_slow),valueClassName:Jte(null==l?void 0:l.rs_trend_slow)}),b.jsx(jae,{icon:Ae,label:"Xu hướng RS",value:null==c?void 0:c.rs_trend,valueClassName:Zte(null==c?void 0:c.rs_trend)})]}),b.jsxs(Nae,{title:"Tốc độ & Hướng",children:[b.jsx(jae,{icon:Ve,label:"Tốc độ 5 phiên",value:f(null==u?void 0:u.raw_speed_5d)}),b.jsx(jae,{icon:"Tăng trưởng"===(null==d?void 0:d.direction)?Re:Te,label:"Hướng",value:null==d?void 0:d.direction,valueClassName:rne(null==d?void 0:d.direction)}),b.jsx(jae,{icon:X,label:"Sức mạnh xu hướng",value:(null==d?void 0:d.trend_strength)||"K/C",valueClassName:"text-purple-600"}),b.jsx(jae,{icon:pe,label:"Tốc độ",value:(null==u?void 0:u.speed_category)||"K/C",valueClassName:"text-orange-600"})]}),b.jsxs(Nae,{title:"Đánh giá Rủi ro",children:[b.jsx(jae,{icon:Oe,label:"Mức rủi ro",value:null==h?void 0:h.risk_level,valueClassName:Yte(null==h?void 0:h.risk_level)}),b.jsx(jae,{icon:ae,label:"Kích thước vị thế",value:(null==h?void 0:h.suggested_position_size)||"K/C"}),b.jsx(jae,{icon:Ie,label:"Hoạt động tổ chức",value:(null==(t=null==h?void 0:h.volume_analysis)?void 0:t.institutional_activity)?"Có":"Không",valueClassName:(null==(n=null==h?void 0:h.volume_analysis)?void 0:n.institutional_activity)?"text-green-600":"text-gray-500"}),b.jsx(jae,{icon:Ae,label:"Khung thời gian",value:(null==h?void 0:h.time_horizon)||"K/C"})]}),b.jsxs(Nae,{title:"Phân tích Chi tiết",children:[b.jsx(jae,{icon:ae,label:"CRS Hiện tại",value:f(null==l?void 0:l.current_crs),valueClassName:Xte(null==l?void 0:l.current_crs)}),b.jsx(jae,{icon:X,label:"Trạng thái CRS",value:null==c?void 0:c.crs_status,valueClassName:Qte(null==c?void 0:c.crs_status)}),b.jsx(jae,{icon:Ae,label:"Điểm sức mạnh",value:m(null==c?void 0:c.strength_score),valueClassName:(null==c?void 0:c.strength_score)>0?"text-green-600":"text-red-600"}),b.jsx(jae,{icon:Ve,label:"Độ nhất quán",value:f(null==u?void 0:u.consistency_score)})]}),b.jsxs(Nae,{title:"Phân tích Khối lượng",children:[b.jsx(jae,{icon:ae,label:"Xu hướng khối lượng",value:(null==(r=null==h?void 0:h.volume_analysis)?void 0:r.volume_trend)||"K/C",valueClassName:"text-blue-600"}),b.jsx(jae,{icon:X,label:"Chất lượng khối lượng",value:(null==(i=null==h?void 0:h.volume_analysis)?void 0:i.volume_quality)||"K/C",valueClassName:"text-purple-600"}),b.jsx(jae,{icon:Re,label:"Tỷ lệ khối lượng",value:m(null==(a=null==h?void 0:h.volume_analysis)?void 0:a.recent_volume_ratio),valueClassName:(null==(s=null==h?void 0:h.volume_analysis)?void 0:s.recent_volume_ratio)>1?"text-green-600":"text-red-600"}),b.jsx(jae,{icon:Oe,label:"Stop loss",value:f(null==h?void 0:h.stop_loss_distance),valueClassName:"text-red-600"})]}),b.jsxs(Nae,{title:"Thống kê Hiệu suất",children:[b.jsx(jae,{icon:he,label:"Phiên vượt trội",value:`${(null==l?void 0:l.outperforming_days)||0}/${(null==l?void 0:l.total_days)||0}`,valueClassName:"text-green-600"}),b.jsx(jae,{icon:me,label:"Phiên tụt hậu",value:`${(null==l?void 0:l.underperforming_days)||0}/${(null==l?void 0:l.total_days)||0}`,valueClassName:"text-red-600"}),b.jsx(jae,{icon:ae,label:"Biến động RS",value:f(null==l?void 0:l.rs_volatility)}),b.jsx(jae,{icon:X,label:"Biến động CRS",value:f(null==l?void 0:l.crs_volatility)})]})]})]},e.id)},Sae=({icon:e,label:t,value:n,valueClassName:r=""})=>b.jsxs("div",{className:"flex items-center justify-between py-1",children:[b.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[b.jsx(e,{className:"w-3.5 h-3.5 mr-2"}),b.jsx("span",{children:t})]}),b.jsx("span",{className:`font-mono text-xs font-medium ${r}`,children:n})]}),Cae=({title:e,children:t})=>b.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[b.jsx("h4",{className:"font-semibold text-gray-800 text-sm mb-2",children:e}),b.jsx("div",{className:"space-y-1",children:t})]}),Pae=({group:e})=>{var t,n,r,i,a,s;if(!e)return b.jsx("div",{className:"bg-white border rounded-lg p-4 shadow-sm text-center",children:b.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Không có dữ liệu chi tiết cho nhóm này."})});const o=e,{custom_id:l,name:c,metrics:u={},speed_analysis:d={},direction_analysis:h={},risk_assessment:f={},trend_consistency:m={},performance_summary:p={},latest_date:v,data_points:y}=o,x=(g(o,["custom_id","name","metrics","speed_analysis","direction_analysis","risk_assessment","trend_consistency","performance_summary","latest_date","data_points"]),e=>"number"==typeof e?`${(100*e).toFixed(1)}%`:"K/C"),w=e=>"number"==typeof e?e.toFixed(2):"K/C";return b.jsxs("div",{className:"bg-white border rounded-lg p-4 shadow-sm",children:[b.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:c}),b.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["Mã nhóm: ",l]}),b.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Ngày cập nhật: ",v]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[b.jsxs(Cae,{title:"Hiệu suất",children:[b.jsx(Sae,{icon:Re,label:"RS Hiện tại",value:w(null==u?void 0:u.current_rs),valueClassName:"text-blue-600"}),b.jsx(Sae,{icon:(null==u?void 0:u.rs_trend_fast)>0?J:Q,label:"Xu hướng nhanh",value:x(null==u?void 0:u.rs_trend_fast),valueClassName:Jte(null==u?void 0:u.rs_trend_fast)}),b.jsx(Sae,{icon:(null==u?void 0:u.rs_trend_slow)>0?J:Q,label:"Xu hướng chậm",value:x(null==u?void 0:u.rs_trend_slow),valueClassName:Jte(null==u?void 0:u.rs_trend_slow)}),b.jsx(Sae,{icon:Ae,label:"Xu hướng RS",value:null==p?void 0:p.rs_trend,valueClassName:Zte(null==p?void 0:p.rs_trend)})]}),b.jsxs(Cae,{title:"Tốc độ & Hướng",children:[b.jsx(Sae,{icon:Ve,label:"Tốc độ 5 phiên",value:x(null==d?void 0:d.raw_speed_5d)}),b.jsx(Sae,{icon:"Tăng trưởng"===(null==h?void 0:h.direction)?Re:Te,label:"Hướng",value:null==h?void 0:h.direction,valueClassName:rne(null==h?void 0:h.direction)}),b.jsx(Sae,{icon:X,label:"Sức mạnh xu hướng",value:(null==h?void 0:h.trend_strength)||"K/C",valueClassName:"text-purple-600"}),b.jsx(Sae,{icon:pe,label:"Tốc độ",value:(null==d?void 0:d.speed_category)||"K/C",valueClassName:"text-orange-600"})]}),b.jsxs(Cae,{title:"Đánh giá Rủi ro",children:[b.jsx(Sae,{icon:Oe,label:"Mức rủi ro",value:null==f?void 0:f.risk_level,valueClassName:Yte(null==f?void 0:f.risk_level)}),b.jsx(Sae,{icon:ae,label:"Kích thước vị thế",value:(null==f?void 0:f.suggested_position_size)||"K/C"}),b.jsx(Sae,{icon:Ie,label:"Hoạt động tổ chức",value:(null==(t=null==f?void 0:f.volume_analysis)?void 0:t.institutional_activity)?"Có":"Không",valueClassName:(null==(n=null==f?void 0:f.volume_analysis)?void 0:n.institutional_activity)?"text-green-600":"text-gray-500"}),b.jsx(Sae,{icon:Ae,label:"Khung thời gian",value:(null==f?void 0:f.time_horizon)||"K/C"})]}),b.jsxs(Cae,{title:"Phân tích Chi tiết",children:[b.jsx(Sae,{icon:ae,label:"CRS Hiện tại",value:x(null==u?void 0:u.current_crs),valueClassName:Xte(null==u?void 0:u.current_crs)}),b.jsx(Sae,{icon:X,label:"Trạng thái CRS",value:null==p?void 0:p.crs_status,valueClassName:Qte(null==p?void 0:p.crs_status)}),b.jsx(Sae,{icon:Ae,label:"Điểm sức mạnh",value:w(null==p?void 0:p.strength_score),valueClassName:ene(null==p?void 0:p.strength_score)}),b.jsx(Sae,{icon:Ve,label:"Độ nhất quán",value:x(null==d?void 0:d.consistency_score)})]}),b.jsxs(Cae,{title:"Phân tích Khối lượng",children:[b.jsx(Sae,{icon:ae,label:"Xu hướng khối lượng",value:(null==(r=null==f?void 0:f.volume_analysis)?void 0:r.volume_trend)||"K/C",valueClassName:"text-blue-600"}),b.jsx(Sae,{icon:X,label:"Chất lượng khối lượng",value:(null==(i=null==f?void 0:f.volume_analysis)?void 0:i.volume_quality)||"K/C",valueClassName:"text-purple-600"}),b.jsx(Sae,{icon:Re,label:"Tỷ lệ khối lượng",value:w(null==(a=null==f?void 0:f.volume_analysis)?void 0:a.recent_volume_ratio),valueClassName:tne(null==(s=null==f?void 0:f.volume_analysis)?void 0:s.recent_volume_ratio)}),b.jsx(Sae,{icon:Oe,label:"Stop loss",value:x(null==f?void 0:f.stop_loss_distance),valueClassName:"text-red-600"})]}),b.jsxs(Cae,{title:"Thống kê Hiệu suất",children:[b.jsx(Sae,{icon:he,label:"phiên vượt trội",value:`${(null==u?void 0:u.outperforming_days)||0}/${(null==u?void 0:u.total_days)||0}`,valueClassName:"text-green-600"}),b.jsx(Sae,{icon:me,label:"phiên tụt hậu",value:`${(null==u?void 0:u.underperforming_days)||0}/${(null==u?void 0:u.total_days)||0}`,valueClassName:"text-red-600"}),b.jsx(Sae,{icon:ae,label:"Biến động RS",value:x(null==u?void 0:u.rs_volatility)}),b.jsx(Sae,{icon:X,label:"Biến động CRS",value:x(null==u?void 0:u.crs_volatility)})]})]})]})};function Eae({selectedItems:e,hoveredPoint:t,mousePosition:n,onClose:r,getSeriesColor:i,type:a,timeframe:s,availableIndustries:o,availableGroups:l}){return e&&0!==e.length?b.jsx("div",{className:"mt-6 space-y-4",children:e.map((e,t)=>{let n=null;return("industry"===e.type||"group"===e.type||"symbol"===e.type)&&(n=e),n?b.jsxs("div",{className:"p-4 bg-white border rounded-lg shadow-sm",children:[b.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Thông tin chi tiết - ","symbol"===e.type?"Cổ phiếu":"group"===e.type?"Nhóm vốn hóa":"Ngành nghề",": ",e.name||e.custom_id||e.id]}),b.jsx("div",{className:"space-y-4",children:"symbol"===e.type?b.jsx(kae,{symbol:n,timeframe:s},`${e.id}-${s}-${t}`):"group"===e.type?b.jsx(Pae,{group:n,timeframe:s},`${e.custom_id}-${s}-${t}`):b.jsx(Wre,{industry:n,timeframe:s},`${e.custom_id}-${s}-${t}`)})]},`${e.type}-${e.custom_id||e.id}-${t}`):b.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:b.jsxs("div",{className:"text-center py-4",children:[b.jsx("div",{className:"text-yellow-600 font-medium",children:"Không có dữ liệu"}),b.jsxs("div",{className:"text-yellow-500 text-sm mt-1",children:["Không tìm thấy dữ liệu cho ","symbol"===e.type?"cổ phiếu":"group"===e.type?"nhóm":"ngành",": ",e.name||e.custom_id||e.id]})]})},`${e.type}-${e.custom_id||e.id}-${t}`)})}):null}const Mae=(e,t,n)=>`hsl(${360*t/n}, 70%, 50%)`;function Oae(e){const{type:t="industries",timeframe:n,analyticsData:r}=e,{companies:i,industries:a,essentialDataLoading:s,essentialDataError:o}=k.useContext(Lre),{getTickerInfo:l,getIndustryTickers:c}=Vf(i,a),u=a||[],[d,m]=k.useState([]),[p,v]=k.useState([]),[y,x]=k.useState([]),[w,_]=k.useState("all"),[j,N]=k.useState(10),[S,C]=k.useState({width:600,height:600}),[P,E]=k.useState(null),[M,O]=k.useState({x:0,y:0}),A=k.useRef(null),T=k.useRef(null),[R,D]=k.useState(1),[I,L]=k.useState(null);if(k.useEffect(()=>{m([]),v([]),x([]),_("all"),D(1),E(null),X.current=!1,Q.current=!1},[n]),s)return b.jsx("div",{className:"flex items-center justify-center h-64",children:b.jsx("div",{className:"text-gray-500",children:"Đang tải dữ liệu..."})});if(o)return b.jsx("div",{className:"flex items-center justify-center h-64",children:b.jsxs("div",{className:"text-red-500",children:["Lỗi: ",o]})});k.useEffect(()=>{Array.from(Bf.getCacheKeys()).forEach(e=>{(e.includes("industries")||e.includes("companies"))&&Bf.removeFromCache(e)})},[]),k.useEffect(()=>{const e=()=>{if(A.current){const e=A.current.offsetWidth,t=Math.min(e-32,800);C({width:t,height:t})}};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const{groups:z=[],symbols:F=[],industries:B=[]}=r||{},V=Array.isArray(u)?u:[],W=Array.isArray(z)?z:[],$=Array.isArray(F)?F:[],H=Array.isArray(B)?B:[],K=V&&"function"==typeof V.slice?V:[],U=W&&"function"==typeof W.slice?W:[],G=$&&"function"==typeof $.slice?$:[],q=H&&"function"==typeof H.slice?H:[],Y=u&&"object"==typeof u&&!Array.isArray(u)?Object.entries(u).map(([e,t])=>h({custom_id:e},t)):K,X=k.useRef(!1);k.useEffect(()=>{"industries"===t&&!X.current&&0===d.length&&Y.length>0&&(m(Y.map(e=>e.custom_id)),X.current=!0)},[t,Y,d.length]);const Q=k.useRef(!1);k.useEffect(()=>{"tickers"===t&&"all"===w&&!Q.current&&0===y.length&&Y.length>0&&(x([Y[0].custom_id]),Q.current=!0)},[t,w,Y,y.length]),k.useEffect(()=>{"groups"===t&&0===p.length&&U.length>0&&v(U.map(e=>e.custom_id))},[t,p,U]);const Z=k.useMemo(()=>{if("industries"===t)return 0===d.length?q||[]:(q||[]).filter(e=>d.includes(e.custom_id));if("groups"===t)return 0===p.length?U||[]:(U||[]).filter(e=>p.includes(e.custom_id));if(w&&"all"!==w){const e=G;return"top10rs"===w?e.map(e=>{var t,n;return f(h({},e),{latestRS:(null==(n=null==(t=e.tail)?void 0:t[e.tail.length-1])?void 0:n.x)||0})}).sort((e,t)=>t.latestRS-e.latestRS).slice(0,10):"bottom10rs"===w?e.map(e=>{var t,n;return f(h({},e),{latestRS:(null==(n=null==(t=e.tail)?void 0:t[e.tail.length-1])?void 0:n.x)||0})}).sort((e,t)=>e.latestRS-t.latestRS).slice(0,10):"top10momentum"===w?e.map(e=>{var t,n;return f(h({},e),{latestMomentum:(null==(n=null==(t=e.tail)?void 0:t[e.tail.length-1])?void 0:n.y)||0})}).sort((e,t)=>t.latestMomentum-e.latestMomentum).slice(0,10):"bottom10momentum"===w?e.map(e=>{var t,n;return f(h({},e),{latestMomentum:(null==(n=null==(t=e.tail)?void 0:t[e.tail.length-1])?void 0:n.y)||0})}).sort((e,t)=>e.latestMomentum-t.latestMomentum).slice(0,10):[]}return y.length>0?(G||[]).filter(e=>{let t=!1;if(e.industries&&e.industries.some(e=>y.includes(e.custom_id))&&(t=!0),!t&&i&&e.symbol){const n=i[e.symbol];n&&n.industry_id&&y.includes(n.industry_id)&&(t=!0)}return!t&&e.industry_id&&y.includes(e.industry_id)&&(t=!0),t}):G||[]},[t,d,p,y,w,G,K,U,q,n,r]),J=k.useMemo(()=>"industries"===t?(d.length>0?(q||[]).filter(e=>d.includes(e.custom_id)):(q||[]).slice(0,5)).filter((e,t,n)=>t===n.findIndex(t=>t.custom_id===e.custom_id)).map(e=>{const t=Y.find(t=>t.custom_id===e.custom_id);return f(h({},e),{type:"industry",name:(null==t?void 0:t.name)||e.custom_id})}):"groups"===t?(p.length>0?(U||[]).filter(e=>p.includes(e.custom_id)):(U||[]).slice(0,3)).map(e=>f(h({},e),{type:"group",name:e.name||e.custom_id})):"tickers"===t&&Z&&0!==Z.length?"all"===w&&y.length>0?[...(K||[]).filter(e=>y.includes(e.custom_id)).map(e=>f(h({},e),{type:"industry",name:e.name||e.custom_id})),...Z.slice(0,50).map(e=>f(h({},e),{id:e.symbol||e.custom_id,name:e.symbol||e.custom_id,type:"symbol"}))]:Z.slice(0,50).map(e=>f(h({},e),{id:e.symbol||e.custom_id,name:e.symbol||e.custom_id,type:"symbol"})):[],[t,d,p,y,w,K,U,q,Z,n,r]),ee=Z.slice(0,50),{domainX:te,domainY:ne}=k.useMemo(()=>{const e=ee.flatMap(e=>{var t;return(null==(t=e.tail)?void 0:t.map(e=>e.x))||[]}),t=ee.flatMap(e=>{var t;return(null==(t=e.tail)?void 0:t.map(e=>e.y))||[]});if(0===e.length||0===t.length)return{domainX:[90,110],domainY:[90,110]};const n=Math.max(...e.map(e=>Math.abs(e-100))),r=Math.max(...t.map(e=>Math.abs(e-100))),i=1.1*Math.max(n,r)/R;return{domainX:[100-i,100+i],domainY:[100-i,100+i]}},[ee,R,n,r]),re=k.useMemo(()=>ee&&0!==ee.length?ee.map((e,n)=>{var r;const i=null==(r=e.tail)?void 0:r[e.tail.length-1],a=l(e.symbol||e.custom_id),s=(null==a?void 0:a.industry_id)?c(a.industry_id):null;let o;if("industries"===t){const t=Y.find(t=>t.custom_id===e.custom_id);o=(null==t?void 0:t.name)||e.custom_id}else if("groups"===t){const t=U.find(t=>t.custom_id===e.custom_id);o=(null==t?void 0:t.name)||e.custom_id}else o=e.symbol||e.custom_id;return f(h({},i),{name:o,id:e.symbol||e.custom_id,type:t,industry:(null==s?void 0:s.name)||null,color:Mae(e.symbol||e.custom_id,n,ee.length),seriesIndex:n})}):[],[ee,t,K,U,l,c,Y,n,r]);if(!K||!U||!G)return b.jsxs("div",{className:"w-full p-8 text-center",children:[b.jsx("div",{className:"text-red-600 text-lg font-medium",children:"Không có dữ liệu RRG"}),b.jsx("div",{className:"text-gray-600 mt-2",children:"Vui lòng kiểm tra lại sau"})]});if(!r||!r.industries)return b.jsxs("div",{className:"w-full p-8 text-center",children:[b.jsx("div",{className:"text-red-600 text-lg font-medium",children:"Dữ liệu RRG không đúng định dạng"}),b.jsx("div",{className:"text-gray-600 mt-2",children:"Thiếu dữ liệu ngành nghề trong analyticsData"}),b.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["analyticsData: ",JSON.stringify(r?Object.keys(r):"null")]})]});const ie=q.filter(e=>e.tail&&Array.isArray(e.tail)&&e.tail.length>0);return"industries"===t&&0===ie.length?b.jsxs("div",{className:"w-full p-8 text-center",children:[b.jsx("div",{className:"text-red-600 text-lg font-medium",children:"Dữ liệu RRG ngành nghề không có tọa độ"}),b.jsx("div",{className:"text-gray-600 mt-2",children:"Thiếu thuộc tính 'tail' với tọa độ x,y trong dữ liệu ngành nghề"}),b.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["Tổng số ngành: ",q.length,", Có tail: ",ie.length]})]}):"tickers"===t&&y.length>0&&0===Z.length?b.jsxs("div",{className:"w-full p-8 text-center",children:[b.jsx("div",{className:"text-orange-600 text-lg font-medium",children:"No tickers found"}),b.jsxs("div",{className:"text-gray-600 mt-2",children:["No tickers found for the selected industries: ",y.join(", ")]}),b.jsx("div",{className:"text-gray-500 mt-1 text-sm",children:"Try selecting different industries or clear the filter to see top/bottom performers."}),b.jsx("button",{onClick:()=>x([]),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm cursor-pointer",children:"Clear Filter & Show Top/Bottom Performers"})]}):0===ee.length?b.jsxs("div",{className:"w-full p-8 text-center",children:[b.jsx("div",{className:"text-orange-600 text-lg font-medium",children:"No data available"}),b.jsxs("div",{className:"text-gray-600 mt-2",children:["No ",t," data found for the current selection. Try changing filters or timeframe."]})]}):b.jsxs("div",{className:"w-full space-y-4",children:[b.jsx(wae,{type:t,trailLength:j,setTrailLength:N,selectedIndustries:d,setSelectedIndustries:m,selectedGroups:p,setSelectedGroups:v,selectedTickerIndustries:y,setSelectedTickerIndustries:x,specialTickerFilter:w,setSpecialTickerFilter:_,availableIndustries:Y,availableGroups:U,filteredData:Z}),b.jsx("div",{ref:A,className:"w-full flex justify-center",children:b.jsxs("div",{ref:T,className:"border rounded-lg p-4 bg-white shadow-sm relative",style:{width:S.width+32,height:S.height+32},children:[b.jsx(Ure,{onZoomIn:()=>D(e=>Math.min(1.5*e,10)),onZoomOut:()=>D(e=>Math.max(e/1.5,1)),onReset:()=>D(1),zoomLevel:R}),b.jsx(oF,{width:S.width,height:S.height,children:b.jsxs(BG,{margin:{top:20,right:20,bottom:40,left:40},onMouseMove:()=>{E(null)},onMouseLeave:()=>{E(null)},children:[b.jsx(bH,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),b.jsx(F$,{x1:100,x2:te[1],y1:100,y2:ne[1],fill:"#10b981",fillOpacity:.08,children:b.jsx(GF,{value:"Leading",position:"center",fill:"#10b981",fontSize:16,fontWeight:"600"})},`leading-${R}`),b.jsx(F$,{x1:100,x2:te[1],y1:ne[0],y2:100,fill:"#f59e0b",fillOpacity:.08,children:b.jsx(GF,{value:"Weakening",position:"center",fill:"#f59e0b",fontSize:16,fontWeight:"600"})},`weakening-${R}`),b.jsx(F$,{x1:te[0],x2:100,y1:ne[0],y2:100,fill:"#ef4444",fillOpacity:.08,children:b.jsx(GF,{value:"Lagging",position:"center",fill:"#ef4444",fontSize:16,fontWeight:"600"})},`lagging-${R}`),b.jsx(F$,{x1:te[0],x2:100,y1:100,y2:ne[1],fill:"#3b82f6",fillOpacity:.08,children:b.jsx(GF,{value:"Improving",position:"center",fill:"#3b82f6",fontSize:16,fontWeight:"600"})},`improving-${R}`),b.jsx(O$,{x:100,stroke:"#6b7280",strokeWidth:2}),b.jsx(O$,{y:100,stroke:"#6b7280",strokeWidth:2}),b.jsx(mU,{dataKey:"x",type:"number",domain:te,label:{value:"RS-Ratio (Trend)",position:"insideBottom",offset:-10},tickFormatter:e=>e.toFixed(0),ticks:[te[0],95,100,105,te[1]].filter(e=>e>=te[0]&&e<=te[1])}),b.jsx(_U,{dataKey:"y",type:"number",domain:ne,label:{value:"RS-Momentum",angle:-90,position:"insideLeft"},tickFormatter:e=>e.toFixed(0),ticks:[ne[0],95,100,105,ne[1]].filter(e=>e>=ne[0]&&e<=ne[1])}),j>0&&ee.map((e,n)=>{var r;const i=Mae(e.symbol||e.custom_id,n,ee.length);return b.jsx(GH,{data:(null==(r=e.tail)?void 0:r.slice(-j).map(n=>{const r=l(e.symbol||e.custom_id),i=(null==r?void 0:r.industry_id)?c(r.industry_id):null;let a;if("industries"===t){const t=Y.find(t=>t.custom_id===e.custom_id);a=(null==t?void 0:t.name)||e.custom_id}else if("groups"===t){const t=U.find(t=>t.custom_id===e.custom_id);a=(null==t?void 0:t.name)||e.custom_id}else a=e.symbol||e.custom_id;return f(h({},n),{name:a,date:n.date,industry:"tickers"===t&&(null==i?void 0:i.name)||null})}))||[],type:"monotone",dataKey:"y",stroke:i,dot:e=>{var t=e,{key:n}=t,r=g(t,["key"]);return b.jsx(Kre,f(h({},r),{color:i,onHover:(e,t,n)=>{E(e),O({x:t,y:n})}}),n)},isAnimationActive:!1,strokeWidth:2,opacity:.4},`trail-${e.symbol||e.custom_id}`)}),b.jsx(aU,{data:re,dataKey:"y",name:"Latest",shape:e=>{const{cx:t,cy:n,payload:r}=e,{name:i,color:a}=r,s=(null==P?void 0:P.custom_id)===r.custom_id&&(null==P?void 0:P.name)===r.name;return b.jsxs("g",{style:{cursor:"pointer"},onMouseEnter:e=>{e.stopPropagation(),E(r),O({x:t,y:n})},onMouseMove:e=>{e.stopPropagation()},children:[b.jsx("circle",{cx:t,cy:n,r:12,fill:"transparent"}),b.jsx("circle",{cx:t,cy:n,r:s?7:5,fill:a,stroke:"#fff",strokeWidth:2,style:{transition:"all 0.2s ease",pointerEvents:"none"}}),b.jsx("circle",{cx:t,cy:n,r:s?10:7,fill:"none",stroke:a,strokeWidth:s?2:1,opacity:s?.8:.5,style:{transition:"all 0.2s ease",pointerEvents:"none"}}),b.jsx("text",{x:t+12,y:n+4,fontSize:"11px",fontWeight:"500",fill:"#333",textAnchor:"start",style:{pointerEvents:"none",userSelect:"none"},children:String(i)})]})}})]})}),P&&b.jsx(Hre,{data:P,x:M.x,y:M.y})]})}),b.jsx(_ae,{limitedData:ee,getSeriesColor:Mae,type:t,availableIndustries:Y,availableGroups:U}),b.jsxs("div",{className:"mt-6 bg-white rounded-lg shadow-sm border p-6",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Hướng dẫn đọc RRG"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Các góc phần tư"}),b.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[b.jsxs("li",{children:[b.jsx("span",{className:"font-medium text-green-600",children:"Dẫn đầu:"})," Vượt trội với động lượng tích cực"]}),b.jsxs("li",{children:[b.jsx("span",{className:"font-medium text-yellow-600",children:"Suy yếu:"})," Vượt trội nhưng động lượng giảm"]}),b.jsxs("li",{children:[b.jsx("span",{className:"font-medium text-red-600",children:"Tụt hậu:"})," Kém hiệu quả với động lượng tiêu cực"]}),b.jsxs("li",{children:[b.jsx("span",{className:"font-medium text-blue-600",children:"Cải thiện:"})," Kém hiệu quả nhưng động lượng tăng"]})]})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Chỉ số"}),b.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[b.jsxs("li",{children:[b.jsx("span",{className:"font-medium",children:"Tỷ số RS:"})," Sức mạnh tương đối hiện tại so với VN-Index"]}),b.jsxs("li",{children:[b.jsx("span",{className:"font-medium",children:"CRS:"})," Sức mạnh tương đối tích lũy trong 21 kỳ"]}),b.jsxs("li",{children:[b.jsx("span",{className:"font-medium",children:"Vệt:"})," Đường đi lịch sử thể hiện sự xoay chuyển theo thời gian"]}),b.jsxs("li",{children:[b.jsx("span",{className:"font-medium",children:"Màu sắc:"})," Dựa trên thời lượng dữ liệu (xanh = ngắn, đỏ = dài)"]})]})]})]})]}),b.jsx(Eae,{selectedItems:J,hoveredPoint:P,mousePosition:M,onClose:()=>E(null),getSeriesColor:Mae,type:t,timeframe:n,availableIndustries:Y,availableGroups:U})]})}const Aae=({tabs:e,activeTab:t,onTabChange:n})=>b.jsx("nav",{className:"-mb-px flex space-x-8 px-6",children:e.map(e=>b.jsx("button",{onClick:()=>n(e.key),className:"py-4 px-1 border-b-2 font-medium text-sm cursor-pointer "+(t===e.key?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),type:"button",children:e.label},e.key))}),Tae=[{key:"overview",label:"Thị trường chung"},{key:"ranking",label:"📊 Xếp hạng & Phân tích"},{key:"rrg",label:"RRG Ngành"},{key:"heatmap",label:"Heatmap"},{key:"rrg-groups",label:"RRG Nhóm Vốn Hóa"}],Rae=()=>{var e,t,n;const[r,i]=k.useState("overview"),[a,s]=k.useState("1D"),{data:o,loading:l,error:c}=Df("RRG_ANALYSIS",a),{industries:u}=o||{},d=(null==o?void 0:o.insights)||{},m=(null==d?void 0:d.market_overview)||{};null==(e=null==d?void 0:d.insights)||e.industries;const g=(null==d?void 0:d.detailed_analysis)||{};null==d||d.investment_strategies;const{industries:p}=k.useMemo(()=>u?{industries:u.map(e=>{var t,n,r,i,a,s;const o=Array.isArray(e.tail)&&e.tail.length>0?e.tail[e.tail.length-1]:{};return f(h({},e),{industry:e.name,rs_close:null!=(n=null==(t=e.metrics)?void 0:t.current_rs)?n:null,rs_ratio:null!=(r=o.x)?r:null,rs_momentum:null!=(i=o.y)?i:null,crs:null!=(s=null==(a=e.metrics)?void 0:a.current_crs)?s:null})})}:{industries:[]},[u]),v=e=>(null==e?void 0:e.includes("Leading"))||(null==e?void 0:e.includes("Dẫn dắt"))?"text-green-600":(null==e?void 0:e.includes("Improving"))||(null==e?void 0:e.includes("Cải thiện"))?"text-blue-600":(null==e?void 0:e.includes("Weakening"))||(null==e?void 0:e.includes("Suy yếu"))?"text-yellow-600":(null==e?void 0:e.includes("Lagging"))||(null==e?void 0:e.includes("Tụt hậu"))?"text-red-600":"text-gray-600",y=e=>{switch(null==e?void 0:e.toLowerCase()){case"bullish":return"text-green-600";case"bearish":return"text-red-600";default:return"text-gray-600"}};return l?b.jsx("div",{className:"space-y-6 p-4",children:b.jsxs("div",{className:"flex items-center justify-center py-12",children:[b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),b.jsx("span",{className:"ml-3 text-gray-600",children:"Đang tải dữ liệu phân tích ngành..."})]})}):c?b.jsx("div",{className:"space-y-6 p-4",children:b.jsxs("div",{className:"text-center py-12",children:[b.jsx(De,{className:"mx-auto h-12 w-12 text-red-500"}),b.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Lỗi tải dữ liệu"}),b.jsx("p",{className:"mt-1 text-sm text-gray-500",children:c})]})}):b.jsxs("div",{className:"space-y-6 p-4",children:[b.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4 flex items-center",children:[b.jsx("span",{className:"text-gray-700 font-medium mr-4",children:"Khung thời gian:"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{className:"cursor-pointer px-4 py-1 rounded-full font-medium text-sm border transition-colors "+("1D"===a?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600 hover:bg-blue-50"),onClick:()=>s("1D"),children:"Hàng ngày (1D)"}),b.jsx("button",{className:"cursor-pointer px-4 py-1 rounded-full font-medium text-sm border transition-colors "+("1W"===a?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600 hover:bg-blue-50"),onClick:()=>s("1W"),children:"Hàng tuần (1W)"})]})]}),b.jsx(Aae,{tabs:Tae,activeTab:r,onTabChange:i}),"overview"===r&&b.jsxs("div",{className:"space-y-6",children:[b.jsx(Qe,{marketOverview:m,getSentimentColor:y,breadth_detail:g.breadth_detail,industries:u,analyticsData:o}),b.jsx(Pre,{analysisData:(null==(w=null==(x=null==o?void 0:o.insights)?void 0:x.insights)?void 0:w.industries)||{},type:"industry",getQuadrantColor:v,analyzeData:o}),b.jsx(Ere,{analysisData:(null==(n=null==(t=null==o?void 0:o.insights)?void 0:t.insights)?void 0:n.industries)||{},type:"industry",renderInsightItems:(e,t)=>e&&0!==e.length?b.jsx("div",{className:"space-y-2",children:e.map((e,t)=>b.jsx("div",{className:"bg-white p-3 rounded border",children:b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{children:[b.jsx("div",{className:"font-medium text-gray-900",children:(null==e?void 0:e.name)||(null==e?void 0:e.custom_id)||(null==e?void 0:e.symbol)||"Unknown"}),b.jsx("div",{className:"text-sm text-gray-600 mt-1",children:(null==e?void 0:e.description)||"N/A"}),b.jsx("div",{className:`text-xs mt-1 ${v(null==e?void 0:e.rrg_position)}`,children:(null==e?void 0:e.rrg_position)||"N/A"})]}),b.jsxs("div",{className:"text-right",children:[b.jsx("div",{className:"text-sm font-medium text-blue-600",children:((null==e?void 0:e.speed_score)||0).toFixed(2)}),b.jsx("div",{className:"text-xs text-gray-500 mt-1",children:(null==e?void 0:e.speed_category)||"N/A"})]})]})},t))}):null,rrgData:o,analyzeData:o}),b.jsx(Ire,{detailedAnalysis:g,getSentimentColor:y})]}),"ranking"===r&&b.jsx("div",{className:"space-y-6",children:b.jsx($re,{timeframe:a,analyticsData:o},`industry-rs-analysis-${a}`)}),"rrg"===r&&b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"mb-4 w-full",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Phân tích RRG ngành nghề"}),b.jsx("p",{className:"text-gray-600",children:"Hiển thị sức mạnh tương đối và động lượng của các ngành. Ngành ở góc Dẫn đầu đang vượt trội với động lượng tích cực."})]}),b.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6 w-full mb-6",children:b.jsx("div",{className:"w-full",children:b.jsx(Oae,{type:"industries",timeframe:a,analyticsData:o},`industries-${a}`)})})]}),"rrg-groups"===r&&b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"mb-4 w-full",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Phân tích RRG nhóm vốn hóa"}),b.jsx("p",{className:"text-gray-600",children:"Hiển thị sức mạnh tương đối và động lượng của các nhóm vốn hóa (VN30, VN100, VNMidCap, VNSmallCap). Nhóm ở góc Dẫn đầu đang vượt trội với động lượng tích cực."})]}),b.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6 w-full mb-6",children:b.jsx("div",{className:"w-full",children:b.jsx(Oae,{type:"groups",timeframe:a,analyticsData:o},`groups-${a}`)})})]}),"heatmap"===r&&b.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:b.jsx(yre,{industries:p,timeframe:a})})]});var x,w},Dae=({timeframe:e,analyticsData:t})=>{const{data:n,loading:r,error:i}=Df("rs_analysis",e),a=t||n,s=!t&&r,o=t?null:i,{companies:l,industries:c,essentialDataLoading:u}=k.useContext(Lre),{getTickerInfo:d}=Vf(l,c),[h,f]=k.useState(""),[m,g]=k.useState([]),[p,v]=k.useState(null),y=(null==a?void 0:a.symbols)||[],x=e=>{const t=d(e.symbol);return{name:(null==t?void 0:t.name)||e.name||"Unknown",industry:(null==t?void 0:t.industry)||"Unknown",industry_id:(null==t?void 0:t.industry_id)||null}},w=gne(),_=k.useMemo(()=>[w.accessor("symbol",{header:"MÃ",cell:({getValue:e,row:t})=>{const n=e();return b.jsxs("div",{className:"flex flex-col",children:[b.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:n}),b.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["#",t.index+1]})]})},enableSorting:!0,enableGlobalFilter:!0}),w.accessor("symbol",{id:"company_name",header:"TÊN CÔNG TY",cell:({getValue:e,row:t})=>{e();const n=x(t.original);return b.jsx("div",{className:"text-sm text-gray-900 dark:text-gray-100",children:n.name})},enableSorting:!0,enableGlobalFilter:!0}),w.accessor(e=>{if(e.industries&&e.industries.length>0){const t=e.industries.find(e=>e.is_primary);return t?t.name:e.industries[0].name}return x(e).industry},{id:"industry",header:"NGÀNH",cell:({getValue:e})=>{const t=e();return b.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:t||"N/A"})},enableSorting:!0,enableGlobalFilter:!0}),w.accessor(e=>{var t;return null==(t=e.metrics)?void 0:t.current_crs},{id:"current_crs",header:"CRS",cell:({getValue:e})=>{const t=e(),n=t>0?"(vượt trội)":"(kém hiệu quả)";return b.jsx("span",{className:"text-sm font-medium "+(t>0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:null!=t?`${t>0?"+":""}${(100*t).toFixed(2)}% ${n}`:"-"})},enableSorting:!0}),w.accessor(e=>{var t;return null==(t=e.metrics)?void 0:t.current_rs},{id:"current_rs",header:"RS",cell:({getValue:e})=>{const t=e();return b.jsx("span",{className:"text-sm font-medium "+(t>50?"text-green-600 dark:text-green-400":t<50?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"),children:null!=t?t.toFixed(2):"-"})},enableSorting:!0}),w.accessor(e=>{var t;return null==(t=e.metrics)?void 0:t.rs_trend_fast},{id:"rs_trend_fast",header:"XU HƯỚNG NHANH",cell:({getValue:e})=>{const t=e();return b.jsx("span",{className:"text-sm font-medium "+(t>0?"text-green-600 dark:text-green-400":t<0?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"),children:null!=t?t.toFixed(2):"-"})},enableSorting:!0}),w.accessor(e=>{var t;return null==(t=e.metrics)?void 0:t.rs_trend_slow},{id:"rs_trend_slow",header:"XU HƯỚNG CHẬM",cell:({getValue:e})=>{const t=e();return b.jsx("span",{className:"text-sm font-medium "+(t>0?"text-green-600 dark:text-green-400":t<0?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"),children:null!=t?t.toFixed(2):"-"})},enableSorting:!0}),w.accessor(e=>{var t;return null==(t=e.metrics)?void 0:t.net_decayed},{id:"net_decayed",header:"NET DECAYED",cell:({getValue:e})=>{const t=e();return b.jsx("span",{className:"text-sm font-medium "+(t>0?"text-green-600 dark:text-green-400":t<0?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"),children:null!=t?t.toFixed(2):"-"})},enableSorting:!0}),w.accessor(e=>{var t;return null==(t=e.speed_analysis)?void 0:t.speed_fast},{id:"speed_fast",header:"TỐC ĐỘ NHANH",cell:({getValue:e})=>{const t=e();return b.jsx("span",{className:"text-sm font-medium "+(t>0?"text-green-600 dark:text-green-400":t<0?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"),children:null!=t?`${t>0?"+":""}${(100*t).toFixed(2)}%`:"-"})},enableSorting:!0}),w.accessor(e=>{var t;return null==(t=e.speed_analysis)?void 0:t.speed_slow},{id:"speed_slow",header:"TỐC ĐỘ CHẬM",cell:({getValue:e})=>{const t=e();return b.jsx("span",{className:"text-sm font-medium "+(t>0?"text-green-600 dark:text-green-400":t<0?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"),children:null!=t?`${t>0?"+":""}${(100*t).toFixed(2)}%`:"-"})},enableSorting:!0}),w.accessor("momentum_acceleration",{header:"GIA TỐC MOMENTUM",cell:({row:e})=>{var t,n;const r=((null==(t=e.original.speed_analysis)?void 0:t.speed_fast)||0)-((null==(n=e.original.speed_analysis)?void 0:n.speed_slow)||0);return b.jsx("span",{className:"text-sm font-medium "+(r>0?"text-green-600 dark:text-green-400":r<0?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"),children:`${r>0?"+":""}${(100*r).toFixed(2)}%`})},enableSorting:!0}),w.accessor(e=>{var t;return null==(t=e.speed_analysis)?void 0:t.momentum_ratio},{id:"momentum_ratio",header:"TỶ LỆ MOMENTUM",cell:({getValue:e})=>{const t=e();return b.jsx("span",{className:"text-sm font-medium "+(t>1?"text-green-600 dark:text-green-400":t<1?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"),children:null!=t?`${t.toFixed(2)}`:"-"})},enableSorting:!0}),w.accessor(e=>{var t;return null==(t=e.speed_analysis)?void 0:t.consistency_score},{id:"consistency_score",header:"ĐIỂM ỔN ĐỊNH",cell:({getValue:e})=>{const t=e();let n="text-gray-600 dark:text-gray-400";return n=t>=60?"text-green-600 dark:text-green-400":t>=40?"text-orange-600 dark:text-orange-400":"text-red-600 dark:text-red-400",b.jsx("span",{className:`text-sm font-medium ${n}`,children:null!=t?`${t.toFixed(1)}%`:"-"})},enableSorting:!0}),w.accessor(e=>{var t;return null==(t=e.speed_analysis)?void 0:t.weighted_speed},{id:"weighted_speed",header:"TỐC ĐỘ TỔNG HỢP",cell:({getValue:e})=>{const t=e();return b.jsx("span",{className:"text-sm font-medium "+(t>0?"text-green-600 dark:text-green-400":t<0?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"),children:null!=t?`${t>0?"+":""}${(100*t).toFixed(2)}%`:"-"})},enableSorting:!0})],[d]),j=fre({data:y,columns:_,state:{globalFilter:h,columnFilters:m},onGlobalFilterChange:f,onColumnFiltersChange:g,getCoreRowModel:ore(),getSortedRowModel:dre(),getFilteredRowModel:cre(),getPaginationRowModel:ure(),globalFilterFn:"includesString",initialState:{pagination:{pageSize:50},sorting:[{id:"current_crs",desc:!0}]}});return s||u?b.jsxs("div",{className:"flex items-center justify-center py-12",children:[b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),b.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Đang tải dữ liệu phân tích RS cổ phiếu..."})]}):o?b.jsxs("div",{className:"text-center py-12",children:[b.jsx("div",{className:"mx-auto h-12 w-12 text-red-500",children:"⚠️"}),b.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100",children:"Lỗi tải dữ liệu"}),b.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:o})]}):y&&0!==y.length?b.jsxs("div",{className:"space-y-6",children:[b.jsx("div",{className:"flex items-center justify-between",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"h-5 w-5 text-blue-500",children:"📊"}),b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Phân tích sức mạnh tương đối cổ phiếu"})]})}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("div",{className:"relative flex-1 max-w-md",children:[b.jsx(Me,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),b.jsx("input",{type:"text",placeholder:"Tìm kiếm cổ phiếu...",value:null!=h?h:"",onChange:e=>f(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),b.jsxs("div",{className:"text-sm text-gray-600",children:[j.getFilteredRowModel().rows.length," / ",j.getCoreRowModel().rows.length," cổ phiếu"]})]}),b.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full border-collapse",children:[b.jsx("thead",{children:j.getHeaderGroups().map(e=>b.jsx("tr",{className:"bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600",children:e.headers.map(e=>b.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-900 dark:text-gray-100 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",onClick:e.column.getCanSort()?e.column.getToggleSortingHandler():void 0,children:b.jsxs("div",{className:"flex items-center gap-1",children:[hre(e.column.columnDef.header,e.getContext()),e.column.getCanSort()&&b.jsx("div",{className:"flex flex-col",children:"asc"===e.column.getIsSorted()?b.jsx(ue,{className:"w-3 h-3"}):"desc"===e.column.getIsSorted()?b.jsx(ce,{className:"w-3 h-3"}):b.jsx("div",{className:"w-3 h-3 opacity-30",children:b.jsx(ue,{className:"w-3 h-3"})})})]})},e.id))},e.id))}),b.jsx("tbody",{children:j.getRowModel().rows.map(e=>b.jsxs(S.Fragment,{children:[b.jsx("tr",{className:"border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer "+(p===e.original.symbol?"bg-blue-50 dark:bg-blue-900/20":""),onClick:()=>{return t=e.original.symbol,void v(p===t?null:t);var t},children:e.getVisibleCells().map(e=>b.jsx("td",{className:"px-3 py-3 text-sm text-gray-900 dark:text-gray-100",children:hre(e.column.columnDef.cell,e.getContext())},e.id))}),p===e.original.symbol&&b.jsx("tr",{children:b.jsx("td",{colSpan:_.length,className:"px-3 py-4 bg-gray-50 dark:bg-gray-800",children:b.jsx(Cre,{symbol:e.original})})})]},e.id))})]})})}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{onClick:()=>j.previousPage(),disabled:!j.getCanPreviousPage(),className:"px-3 py-1 text-sm border border-gray-300 rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Trước"}),b.jsxs("span",{className:"text-sm text-gray-600",children:["Trang ",j.getState().pagination.pageIndex+1," / ",j.getPageCount()]}),b.jsx("button",{onClick:()=>j.nextPage(),disabled:!j.getCanNextPage(),className:"px-3 py-1 text-sm border border-gray-300 rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Sau"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"text-sm text-gray-600",children:"Hiển thị:"}),b.jsx("select",{value:j.getState().pagination.pageSize,onChange:e=>j.setPageSize(Number(e.target.value)),className:"px-2 py-1 text-sm border border-gray-300 rounded",children:[25,50,100,200].map(e=>b.jsx("option",{value:e,children:e},e))})]})]})]}):b.jsx("div",{className:"text-center py-12",children:b.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Không có dữ liệu phân tích RS cổ phiếu"})})},Iae=({data:e,filteredTickers:t,onIndustryFilterChange:n,selectedIndustries:r})=>{const[i,a]=k.useState(null),{data:s}=Lf(),{data:o}=zf(),l=k.useMemo(()=>{if(!(null==e?void 0:e.symbols)||!s||!o)return e;const t=function(e,t,n){return e&&t&&n?e.map(e=>{var r;const i=e.symbol||e.id,a=t[i],s=null==(r=null==a?void 0:a.industries)?void 0:r[0],o=null==s?void 0:s.custom_id,l=o?n[o]:null;return f(h({},e),{industry_name:(null==l?void 0:l.name)||"Unknown",industry_id:o||null,industry:l||null})}):e}(e.symbols,s,o);return f(h({},e),{symbols:t})},[e,s,o]),c=k.useMemo(()=>{if(!(null==l?void 0:l.symbols))return[];const e=new Map;return l.symbols.forEach(t=>{t.industry_name&&t.industry_id&&(e.has(t.industry_id)||e.set(t.industry_id,{id:t.industry_id,name:t.industry_name}))}),Array.from(e.values()).sort((e,t)=>e.name.localeCompare(t.name))},[l]),u=k.useRef(!1);return k.useEffect(()=>{u.current=!1},[e]),k.useEffect(()=>{if(!u.current&&c.length>0&&0===r.length){const e=c.map(e=>e.id);n(e),u.current=!0}},[c,r.length,n]),b.jsxs("div",{className:"flex flex-col h-full",children:[b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Lọc theo ngành:"}),b.jsx(bae,{options:c.map(e=>({value:e.id,label:e.name})),value:r,onValueChange:e=>{n(e)},placeholder:"Chọn ngành...",className:"w-full"})]}),b.jsx("div",{className:"flex-grow",children:b.jsx(gre,{data:l,dataType:"ticker",filteredItems:t,title:"RS 21-Bar Heatmap - Tickers",showAdditionalColumns:!0,onItemClick:a,selectedItem:i,setSelectedItem:a})})]})},Lae=e=>e>=110?"bg-green-600":e>=105?"bg-green-500":e>=102?"bg-green-400":e>=98?"bg-gray-400":e>=95?"bg-red-400":e>=90?"bg-red-500":"bg-red-600",zae=({analyticsData:e,timeframe:t})=>{const{companies:n,industries:r,essentialDataLoading:i}=k.useContext(Lre),{getTickerInfo:a}=Vf(n,r),{data:s,loading:o}=Ff(t,"ticker"),l=r&&"object"==typeof r&&!Array.isArray(r)?Object.entries(r).map(([e,t])=>h({custom_id:e},t)):Array.isArray(r)?r:[],[c,u]=k.useState("rs_ratio"),[d,m]=k.useState(!1),[g,p]=k.useState([]),[v,y]=k.useState("all");S.useEffect(()=>{p([]),y("all"),w.current=!1},[t]);const{symbols:x=[]}=e||{},w=k.useRef(!1);S.useEffect(()=>{if("all"===v&&!w.current&&0===g.length&&l.length>0){const e=l.map(e=>e.custom_id);p(e),w.current=!0}},[v,l,g.length]);const _=k.useMemo(()=>x?x.map(e=>{var t,n,r,i,s,o;const l=Array.isArray(e.tail)&&e.tail.length>0?e.tail[e.tail.length-1]:{},c=a(e.symbol);return f(h({},e),{symbol:e.symbol,rs_close:null!=(n=null==(t=e.metrics)?void 0:t.current_rs)?n:null,rs_ratio:null!=(r=l.x)?r:null,rs_momentum:null!=(i=l.y)?i:null,crs:null!=(o=null==(s=e.metrics)?void 0:s.current_crs)?o:null,industry_id:(null==c?void 0:c.industry_id)||null,industry:(null==c?void 0:c.industry)||"Unknown"})}):[],[x,a]),j=k.useMemo(()=>v&&"all"!==v?"top20rs"===v?_.map(e=>f(h({},e),{latestRS:e.rs_ratio||0})).sort((e,t)=>t.latestRS-e.latestRS).slice(0,20):"bottom20rs"===v?_.map(e=>f(h({},e),{latestRS:e.rs_ratio||0})).sort((e,t)=>e.latestRS-t.latestRS).slice(0,20):"top20momentum"===v?_.map(e=>f(h({},e),{latestMomentum:e.rs_momentum||0})).sort((e,t)=>t.latestMomentum-e.latestMomentum).slice(0,20):"bottom20momentum"===v?_.map(e=>f(h({},e),{latestMomentum:e.rs_momentum||0})).sort((e,t)=>e.latestMomentum-t.latestMomentum).slice(0,20):[]:g.length>0?_.filter(e=>e.industries&&e.industries.some(e=>g.includes(e.custom_id))):_,[_,g,v]),N=(e,t)=>{switch(t){case"rs_close":return(n=e.rs_close)>=1.5?"bg-green-600":n>=1.2?"bg-green-500":n>=1.05?"bg-green-400":n>=.95?"bg-gray-400":n>=.8?"bg-red-400":n>=.7?"bg-red-500":"bg-red-600";case"rs_ratio":return Lae(e.rs_ratio);case"rs_momentum":return Lae(e.rs_momentum);case"crs":return(e=>e>=.15?"bg-green-600":e>=.08?"bg-green-500":e>=.03?"bg-green-400":e>=-.03?"bg-gray-400":e>=-.08?"bg-red-400":e>=-.15?"bg-red-500":"bg-red-600")(e.crs);default:return"bg-gray-400"}var n},C=(e,t)=>{var n,r,i,a;switch(t){case"rs_close":return(null==(n=e.rs_close)?void 0:n.toFixed(2))||"N/A";case"rs_ratio":return(null==(r=e.rs_ratio)?void 0:r.toFixed(1))||"N/A";case"rs_momentum":return(null==(i=e.rs_momentum)?void 0:i.toFixed(1))||"N/A";case"crs":return`${null==(a=100*e.crs)?void 0:a.toFixed(1)}%`||"N/A";default:return"N/A"}},P=k.useMemo(()=>[...j].sort((e,t)=>{const n=e[c]||-1/0;return(t[c]||-1/0)-n}),[j,c]),E={rs_close:{name:"RS Close",description:"Traditional relative strength vs VN-Index",neutral:"1.0",interpretation:"> 1.0 = Outperforming, < 1.0 = Underperforming"},rs_ratio:{name:"RS Ratio",description:"RRG-style relative strength ratio",neutral:"100.0",interpretation:"> 100 = Outperforming, < 100 = Underperforming"},rs_momentum:{name:"RS Momentum",description:"RRG momentum indicator",neutral:"100.0",interpretation:"> 100 = Positive momentum, < 100 = Negative momentum"},crs:{name:"CRS",description:"21-day cumulative relative strength",neutral:"0.0%",interpretation:"> 0% = Outperforming, < 0% = Underperforming"},rs_21bar:{name:"RS 21-Bar",description:"21-day RS heatmap for individual tickers",neutral:"50.0",interpretation:"Shows RS evolution over 21 days for each ticker with color-coded values"}};return e&&x&&0!==x.length&&!i?"rs_21bar"===c?b.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-gray-900 p-4",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-200",children:"Ticker Strength Heatmap"}),b.jsx("button",{onClick:()=>m(!d),className:"cursor-pointer p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:b.jsx(ke,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),b.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:Object.entries(E).map(([e,t])=>b.jsxs("button",{onClick:()=>u(e),className:"cursor-pointer px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2 "+(c===e?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"),children:["rs_21bar"===e&&b.jsx(Ne,{className:"w-4 h-4"}),t.name]},e))}),d&&b.jsxs("div",{className:"mb-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[b.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"Giải thích RS 21-Bar"}),b.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[b.jsxs("p",{children:["• ",b.jsx("strong",{children:"RS Value:"})," Giá trị sức mạnh tương đối (0-100)"]}),b.jsxs("p",{children:["• ",b.jsx("strong",{children:"Màu tím:"})," RS rất cao (≥80) - Cổ phiếu vượt trội thị trường"]}),b.jsxs("p",{children:["• ",b.jsx("strong",{children:"Màu xanh:"})," RS cao (60-79) - Cổ phiếu tốt hơn thị trường"]}),b.jsxs("p",{children:["• ",b.jsx("strong",{children:"Màu vàng:"})," RS trung bình (40-59) - Cổ phiếu tương đương thị trường"]}),b.jsxs("p",{children:["• ",b.jsx("strong",{children:"Màu đỏ:"})," RS thấp (≤39) - Cổ phiếu kém hơn thị trường"]}),b.jsxs("p",{children:["• ",b.jsx("strong",{children:"CRS:"})," Cumulative Relative Strength - Sức mạnh tích lũy"]}),b.jsxs("p",{children:["• ",b.jsx("strong",{children:"Fast:"})," Xu hướng RS nhanh (ngắn hạn)"]}),b.jsxs("p",{children:["• ",b.jsx("strong",{children:"Slow:"})," Xu hướng RS chậm (dài hạn)"]})]}),b.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2 mt-4",children:"Cách đọc bảng:"}),b.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[b.jsxs("p",{children:["• ",b.jsx("strong",{children:"Đọc theo hàng:"})," Theo dõi sự thay đổi RS của một cổ phiếu qua thời gian"]}),b.jsxs("p",{children:["• ",b.jsx("strong",{children:"Đọc theo cột:"})," So sánh hiệu suất các cổ phiếu trong cùng một ngày"]}),b.jsxs("p",{children:["• ",b.jsx("strong",{children:"Màu sắc:"})," Càng tối càng tốt - tím > xanh > vàng > đỏ"]}),b.jsxs("p",{children:["• ",b.jsx("strong",{children:"Xu hướng:"})," Tìm các cổ phiếu có xu hướng cải thiện (từ đỏ sang xanh)"]}),b.jsxs("p",{children:["• ",b.jsx("strong",{children:"CRS dương:"})," Cổ phiếu vượt trội thị trường trong 21 ngày qua"]}),b.jsxs("p",{children:["• ",b.jsx("strong",{children:"Fast/Slow:"})," So sánh xu hướng ngắn hạn vs dài hạn để xác định momentum"]})]})]}),b.jsx("div",{className:"flex-grow overflow-hidden",children:o?b.jsx("div",{className:"flex items-center justify-center h-full",children:b.jsx("p",{className:"text-gray-600",children:"Đang tải dữ liệu RS 21-Bar..."})}):s?b.jsx(Iae,{data:s,filteredTickers:P,onIndustryFilterChange:p,selectedIndustries:g}):b.jsx("div",{className:"flex items-center justify-center h-full",children:b.jsx("p",{className:"text-gray-600",children:"Không có dữ liệu RS 21-Bar"})})})]}):b.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-gray-900 p-4",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-200",children:"Ticker Strength Heatmap"}),b.jsx("button",{onClick:()=>m(!d),className:"cursor-pointer p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:b.jsx(ke,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),b.jsxs("div",{className:"flex flex-col gap-4 mb-4",children:[b.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(E).map(([e,t])=>b.jsxs("button",{onClick:()=>u(e),className:"cursor-pointer px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2 "+(c===e?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"),children:["rs_21bar"===e&&b.jsx(Ne,{className:"w-4 h-4"}),t.name]},e))}),b.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Lọc theo:"}),b.jsxs("select",{value:v,onChange:e=>y(e.target.value),className:"border rounded px-3 py-1 text-sm min-w-[200px] focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-black dark:text-white cursor-pointer",children:[b.jsx("option",{value:"all",children:"Theo ngành"}),b.jsx("option",{value:"top20rs",children:"Top 20 RS Score"}),b.jsx("option",{value:"bottom20rs",children:"Bottom 20 RS Score"}),b.jsx("option",{value:"top20momentum",children:"Top 20 RS Momentum"}),b.jsx("option",{value:"bottom20momentum",children:"Bottom 20 RS Momentum"})]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Ngành:"}),b.jsx(bae,{options:l.map(e=>({value:e.custom_id,label:e.name||e.custom_id||"Unknown"})),onValueChange:p,value:g,placeholder:"Chọn ngành",maxCount:3,variant:"default",disabled:"all"!==v}),b.jsxs("span",{className:"text-xs text-gray-500 min-w-[120px]",children:["(",l.length," ngành, ",g.length," đã chọn)"]})]})]})]}),d&&b.jsx("div",{className:"mb-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:"rs_21bar"===c?b.jsxs(b.Fragment,{children:[b.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"Giải thích RS 21-Bar"}),b.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[b.jsxs("p",{children:["• ",b.jsx("strong",{children:"RS Value:"})," Giá trị sức mạnh tương đối (0-100)"]}),b.jsxs("p",{children:["• ",b.jsx("strong",{children:"Màu tím:"})," RS rất cao (≥80) - Cổ phiếu vượt trội thị trường"]}),b.jsxs("p",{children:["• ",b.jsx("strong",{children:"Màu xanh:"})," RS cao (60-79) - Cổ phiếu tốt hơn thị trường"]}),b.jsxs("p",{children:["• ",b.jsx("strong",{children:"Màu vàng:"})," RS trung bình (40-59) - Cổ phiếu tương đương thị trường"]}),b.jsxs("p",{children:["• ",b.jsx("strong",{children:"Màu đỏ:"})," RS thấp (≤39) - Cổ phiếu kém hơn thị trường"]}),b.jsxs("p",{children:["• ",b.jsx("strong",{children:"CRS:"})," Cumulative Relative Strength - Sức mạnh tích lũy"]}),b.jsxs("p",{children:["• ",b.jsx("strong",{children:"Fast:"})," Xu hướng RS nhanh (ngắn hạn)"]}),b.jsxs("p",{children:["• ",b.jsx("strong",{children:"Slow:"})," Xu hướng RS chậm (dài hạn)"]})]}),b.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2 mt-4",children:"Cách đọc bảng:"}),b.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[b.jsxs("p",{children:["• ",b.jsx("strong",{children:"Đọc theo hàng:"})," Theo dõi sự thay đổi RS của một cổ phiếu qua thời gian"]}),b.jsxs("p",{children:["• ",b.jsx("strong",{children:"Đọc theo cột:"})," So sánh hiệu suất các cổ phiếu trong cùng một ngày"]}),b.jsxs("p",{children:["• ",b.jsx("strong",{children:"Màu sắc:"})," Càng tối càng tốt - tím > xanh > vàng > đỏ"]}),b.jsxs("p",{children:["• ",b.jsx("strong",{children:"Xu hướng:"})," Tìm các cổ phiếu có xu hướng cải thiện (từ đỏ sang xanh)"]}),b.jsxs("p",{children:["• ",b.jsx("strong",{children:"CRS dương:"})," Cổ phiếu vượt trội thị trường trong 21 ngày qua"]}),b.jsxs("p",{children:["• ",b.jsx("strong",{children:"Fast/Slow:"})," So sánh xu hướng ngắn hạn vs dài hạn để xác định momentum"]})]})]}):b.jsxs(b.Fragment,{children:[b.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-2",children:E[c].name}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:E[c].description}),b.jsxs("div",{className:"text-sm",children:[b.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Neutral: "}),b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:E[c].neutral})]}),b.jsxs("div",{className:"text-sm",children:[b.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Interpretation: "}),b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:E[c].interpretation})]})]})}),b.jsxs("div",{className:"flex items-center gap-4 mb-4 text-sm",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Strong"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-4 h-4 bg-gray-400 rounded"}),b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Neutral"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-4 h-4 bg-red-500 rounded"}),b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Weak"})]})]}),b.jsx("div",{className:"flex-grow overflow-hidden",children:b.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3 h-full overflow-y-auto",children:P.map((e,t)=>{return b.jsx("div",{className:`${N(e,c)} p-3 rounded-lg text-white shadow-lg transition-all hover:brightness-110 hover:shadow-2xl hover:ring-2 hover:ring-white/30 cursor-pointer`,title:`${e.symbol}: ${C(e,c)}`,children:b.jsxs("div",{className:"flex flex-col h-full justify-between",children:[b.jsxs("div",{className:"flex items-start justify-between mb-2",children:[b.jsx("span",{className:"text-xs font-semibold leading-tight truncate pr-1",children:e.symbol}),"rs_momentum"===c&&b.jsx("div",{className:"flex-shrink-0",children:(n=e.rs_momentum,n>102?b.jsx(Re,{className:"w-3 h-3"}):n<98?b.jsx(Te,{className:"w-3 h-3"}):b.jsx(Ce,{className:"w-3 h-3"}))})]}),b.jsxs("div",{className:"flex items-end justify-between",children:[b.jsx("span",{className:"text-lg font-bold",children:C(e,c)}),b.jsxs("span",{className:"text-xs opacity-75",children:["#",t+1]})]})]})},e.symbol);var n})})}),b.jsxs("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-4 gap-4 text-sm",children:[b.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[b.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Strong"}),b.jsx("div",{className:"text-lg font-bold text-green-600",children:P.filter(e=>N(e,c).includes("green")).length})]}),b.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[b.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Neutral"}),b.jsx("div",{className:"text-lg font-bold text-gray-600",children:P.filter(e=>N(e,c).includes("gray")).length})]}),b.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[b.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Weak"}),b.jsx("div",{className:"text-lg font-bold text-red-600",children:P.filter(e=>N(e,c).includes("red")).length})]}),b.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[b.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Total"}),b.jsx("div",{className:"text-lg font-bold text-gray-800 dark:text-gray-200",children:P.length})]})]})]}):b.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:b.jsx("div",{className:"text-center py-8",children:b.jsx("p",{className:"text-gray-600",children:"Không có dữ liệu cổ phiếu để hiển thị"})})})},Fae=[{key:"ranking",label:"📊 Xếp hạng & Phân tích"},{key:"rrg",label:"RRG Cổ phiếu"},{key:"heatmap",label:"Heatmap"}],Bae=()=>{const[e,t]=k.useState("ranking"),[n,r]=k.useState("1D"),{data:i,loading:a,error:s}=Df("RRG_ANALYSIS",n),{symbols:o}=i||{};null==i||i.insights;const{tickers:l}=k.useMemo(()=>o?{tickers:o.map(e=>{var t,n,r,i,a,s;const o=Array.isArray(e.tail)&&e.tail.length>0?e.tail[e.tail.length-1]:{};return f(h({},e),{symbol:e.symbol,rs_close:null!=(n=null==(t=e.metrics)?void 0:t.current_rs)?n:null,rs_ratio:null!=(r=o.x)?r:null,rs_momentum:null!=(i=o.y)?i:null,crs:null!=(s=null==(a=e.metrics)?void 0:a.current_crs)?s:null})})}:{tickers:[]},[o]);return a?b.jsx("div",{className:"space-y-6 p-4",children:b.jsxs("div",{className:"flex items-center justify-center py-12",children:[b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),b.jsx("span",{className:"ml-3 text-gray-600",children:"Đang tải dữ liệu phân tích cổ phiếu..."})]})}):s?b.jsx("div",{className:"space-y-6 p-4",children:b.jsxs("div",{className:"text-center py-12",children:[b.jsx(AlertTriangle,{className:"mx-auto h-12 w-12 text-red-500"}),b.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Lỗi tải dữ liệu"}),b.jsx("p",{className:"mt-1 text-sm text-gray-500",children:s})]})}):b.jsxs("div",{className:"space-y-6 p-4",children:[b.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4 flex items-center",children:[b.jsx("span",{className:"text-gray-700 font-medium mr-4",children:"Khung thời gian:"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{className:"cursor-pointer px-4 py-1 rounded-full font-medium text-sm border transition-colors "+("1D"===n?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600 hover:bg-blue-50"),onClick:()=>r("1D"),children:"Hàng ngày (1D)"}),b.jsx("button",{className:"cursor-pointer px-4 py-1 rounded-full font-medium text-sm border transition-colors "+("1W"===n?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600 hover:bg-blue-50"),onClick:()=>r("1W"),children:"Hàng tuần (1W)"})]})]}),b.jsx(Aae,{tabs:Fae,activeTab:e,onTabChange:t}),"ranking"===e&&b.jsx("div",{className:"space-y-6",children:b.jsx(Dae,{timeframe:n,analyticsData:i},`ticker-rs-table-${n}`)}),"rrg"===e&&b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"mb-4 w-full",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Phân tích RRG cổ phiếu"}),b.jsx("p",{className:"text-gray-600",children:"Hiển thị sức mạnh tương đối và động lượng của các cổ phiếu. Cổ phiếu ở góc Dẫn đầu đang vượt trội với động lượng tích cực."})]}),b.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6 w-full mb-6",children:b.jsx("div",{className:"w-full",children:b.jsx(Oae,{type:"tickers",timeframe:n,analyticsData:i},`tickers-${n}`)})})]}),"heatmap"===e&&b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"mb-4 w-full",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Heatmap Cổ phiếu"}),b.jsx("p",{className:"text-gray-600",children:"Hiển thị sức mạnh tương đối của các cổ phiếu theo các chỉ số khác nhau. Màu xanh lá thể hiện cổ phiếu mạnh, màu đỏ thể hiện cổ phiếu yếu."})]}),b.jsx(zae,{timeframe:n,analyticsData:i},`ticker-heatmap-${n}`)]})]})};function Vae({type:e="industries"}){var t,n,r;const[i,a]=k.useState("overview"),[s,o]=k.useState("1D"),{data:l,loading:c,error:u}=If(s);if(c)return b.jsxs("div",{className:"text-center py-8",children:[b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),b.jsx("p",{className:"mt-2 text-gray-600",children:"Đang tải dữ liệu RRG..."})]});if(u)return b.jsx("div",{className:"text-center py-8 text-red-500",children:b.jsxs("p",{children:["Lỗi tải dữ liệu RRG: ",u]})});const d=(null==l?void 0:l.insights)||{},h=(null==d?void 0:d.market_overview)||{},f=(null==(t=null==d?void 0:d.insights)?void 0:t.industries)||{},m=(null==(n=null==d?void 0:d.insights)?void 0:n.groups)||{},g=(null==(r=null==d?void 0:d.insights)?void 0:r.tickers)||{};null==d||d.advanced_analysis;const p=(null==d?void 0:d.investment_strategies)||{},v=(null==d?void 0:d.detailed_analysis)||{},y=(null==l?void 0:l.industries)||[],x=(null==l?void 0:l.groups)||[],w=(null==l?void 0:l.symbols)||[],_=e=>{a(e)},j=(e,t)=>e&&Array.isArray(e)&&0!==e.length?b.jsx("div",{className:"space-y-2",children:e.slice(0,5).map((e,t)=>{var n,r,i,a,s,o,l;return b.jsx("div",{className:"bg-white p-3 rounded border",children:b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{className:"flex-1",children:[b.jsxs("div",{className:"font-medium text-gray-900",children:[(null==e?void 0:e.name)||(null==e?void 0:e.custom_id)||(null==e?void 0:e.symbol)||"Unknown",(null==e?void 0:e.symbol)&&` (${e.symbol})`]}),b.jsx("div",{className:"text-xs text-gray-500",children:(null==e?void 0:e.primary_industry)||((null==e?void 0:e.industries)&&e.industries.length>0?(()=>{const t=e.industries.find(e=>e.is_primary),n=e.industries[0],r=(null==t?void 0:t.name)||(null==n?void 0:n.name);return"string"==typeof r?r:"Unknown Industry"})():"N/A")}),b.jsx("div",{className:"text-sm text-gray-600 mt-1",children:(null==e?void 0:e.speed_category)||(null==(n=null==e?void 0:e.speed_analysis)?void 0:n.speed_category)||"N/A"}),b.jsx("div",{className:`text-xs mt-1 ${rne((null==e?void 0:e.direction)||(null==(r=null==e?void 0:e.direction_analysis)?void 0:r.direction))}`,children:(null==e?void 0:e.direction)||(null==(i=null==e?void 0:e.direction_analysis)?void 0:i.direction)||"N/A"}),(null==e?void 0:e.description)&&b.jsx("div",{className:"text-xs text-gray-500 mt-1",children:e.description}),(null==e?void 0:e.money_flow)&&b.jsx("div",{className:"text-xs text-blue-600 mt-1",children:e.money_flow}),(null==e?void 0:e.performance_summary)&&b.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["RS Trend: ",e.performance_summary.rs_trend||"N/A"]})]}),b.jsxs("div",{className:"text-right ml-4",children:[b.jsx("div",{className:"text-sm font-medium text-purple-600",children:((null==e?void 0:e.weighted_speed)||(null==(a=null==e?void 0:e.speed_analysis)?void 0:a.weighted_speed)||0).toFixed(3)}),b.jsxs("div",{className:`text-xs mt-1 ${Yte((null==e?void 0:e.risk_level)||(null==(s=null==e?void 0:e.risk_assessment)?void 0:s.risk_level))}`,children:[(null==e?void 0:e.risk_level)||(null==(o=null==e?void 0:e.risk_assessment)?void 0:o.risk_level)||"Unknown"," Risk"]}),b.jsx("div",{className:"text-xs text-gray-500 mt-1",children:(null==e?void 0:e.position_size)||(null==(l=null==e?void 0:e.risk_assessment)?void 0:l.suggested_position_size)||"N/A"}),(null==e?void 0:e.strength_score)&&b.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Score: ",e.strength_score.toFixed(2)]}),(null==e?void 0:e.acceleration)&&b.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Acc: ",e.acceleration.toFixed(2)]}),(null==e?void 0:e.rrg_position)&&b.jsx("div",{className:"text-xs text-blue-600 mt-1",children:e.rrg_position})]})]})},t)})}):null,[N,S]=k.useState("tickers"===e?"ticker":"industry"),C=()=>"tickers"===e?b.jsxs("div",{className:"bg-gray-50 rounded-lg border p-4 flex items-center space-x-4 mb-4",children:[b.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Phân tích cổ phiếu:"}),b.jsx("div",{className:"text-sm text-gray-600",children:"Hiển thị xếp hạng và phân tích chi tiết cho các mã chứng khoán"})]}):b.jsxs("div",{className:"bg-gray-50 rounded-lg border p-4 flex items-center space-x-4 mb-4",children:[b.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Hiển thị tổng quan cho:"}),b.jsx("button",{className:"cursor-pointer px-4 py-1 rounded font-medium text-sm border "+("industry"===N?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600"),onClick:()=>S("industry"),children:"Ngành nghề"}),b.jsx("button",{className:"cursor-pointer px-4 py-1 rounded font-medium text-sm border "+("group"===N?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600"),onClick:()=>S("group"),children:"Nhóm vốn hóa"}),b.jsx("button",{className:"cursor-pointer px-4 py-1 rounded font-medium text-sm border "+("ticker"===N?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600"),onClick:()=>S("ticker"),children:"Cổ phiếu"})]});return b.jsxs("div",{className:"w-full space-y-6",children:[b.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Đồ thị Xoay Tương đối (RRG)"}),b.jsx("p",{className:"text-gray-600 mb-4",children:"Phân tích sức mạnh tương đối và động lượng của các ngành và cổ phiếu so với VN-Index."}),b.jsxs("div",{className:"bg-gray-50 rounded-lg border p-4 flex items-center space-x-4 mb-4",children:[b.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Khung thời gian:"}),b.jsx("button",{className:"cursor-pointer px-4 py-1 rounded font-medium text-sm border "+("1D"===s?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600"),onClick:()=>{o("1D")},children:"Hàng ngày (1D)"}),b.jsx("button",{className:"cursor-pointer px-4 py-1 rounded font-medium text-sm border "+("1W"===s?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600"),onClick:()=>{o("1W")},children:"Hàng tuần (1W)"})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm",children:[b.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[b.jsx("div",{className:"font-medium text-gray-700",children:"Ngày phân tích"}),b.jsx("div",{className:"text-gray-900",children:(null==l?void 0:l.analysis_date)?new Date(l.analysis_date).toLocaleDateString():(null==l?void 0:l.rrg_date)?new Date(l.rrg_date).toLocaleDateString():"N/A"})]}),b.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[b.jsx("div",{className:"font-medium text-gray-700",children:"Khung thời gian"}),b.jsx("div",{className:"text-gray-900",children:(null==l?void 0:l.timeframe)||s})]}),b.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[b.jsx("div",{className:"font-medium text-gray-700",children:"Tổng số chuỗi"}),b.jsx("div",{className:"text-gray-900",children:y.length+x.length+w.length})]}),b.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[b.jsx("div",{className:"font-medium text-gray-700",children:"Chi tiết"}),b.jsxs("div",{className:"text-gray-900",children:[y.length," ngành, ",x.length," nhóm, ",w.length," cổ phiếu"]})]})]})]}),b.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[b.jsx("div",{className:"border-b border-gray-200",children:b.jsxs("nav",{className:"-mb-px flex space-x-8 px-6",children:[b.jsx("button",{onClick:()=>_("overview"),className:"py-4 px-1 border-b-2 font-medium text-sm cursor-pointer "+("overview"===i?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Tổng quan"}),"industries"===e?b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>_("chart-industries"),className:"py-4 px-1 border-b-2 font-medium text-sm cursor-pointer "+("chart-industries"===i?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Biểu đồ RRG Ngành"}),b.jsx("button",{onClick:()=>_("chart-groups"),className:"py-4 px-1 border-b-2 font-medium text-sm cursor-pointer "+("chart-groups"===i?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Biểu đồ RRG Vốn Hóa"})]}):b.jsx("button",{onClick:()=>_("chart"),className:"py-4 px-1 border-b-2 font-medium text-sm cursor-pointer "+("chart"===i?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Biểu đồ RRG"})]})}),b.jsxs("div",{className:"p-6",children:["overview"===i&&b.jsxs("div",{className:"space-y-6",children:[b.jsx(C,{}),"industry"===N?b.jsxs(b.Fragment,{children:[b.jsx(Pre,{analysisData:f,type:"industry",getQuadrantColor:nne,analyzeData:l},`industry-score-${s}`),b.jsx(Ere,{analysisData:f,type:"industry",renderInsightItems:j,rrgData:l,analyzeData:l},`industry-speed-${s}`),b.jsx(Qe,{marketOverview:h,getSentimentColor:qte,breadth_detail:v.breadth_detail},`market-overview-industry-${s}`)]}):"group"===N?b.jsxs(b.Fragment,{children:[b.jsx(Pre,{analysisData:m,type:"group",getQuadrantColor:nne,analyzeData:l},`group-score-${s}`),b.jsx(Ere,{analysisData:m,type:"group",renderInsightItems:j,rrgData:l,investmentStrategies:p,analyzeData:l},`group-speed-${s}`),b.jsx(Qe,{marketOverview:h,getSentimentColor:qte,breadth_detail:v.breadth_detail},`market-overview-group-${s}`)]}):b.jsxs(b.Fragment,{children:[b.jsx(Pre,{analysisData:g,type:"ticker",getQuadrantColor:nne,analyzeData:l},`ticker-score-${s}`),b.jsx(Ere,{analysisData:g,type:"ticker",renderInsightItems:j,rrgData:l,analyzeData:l},`ticker-speed-${s}`),b.jsx(Qe,{marketOverview:h,getSentimentColor:qte,breadth_detail:v.breadth_detail},`market-overview-ticker-${s}`)]}),b.jsx(Ire,{detailedAnalysis:v},`detailed-analysis-${s}`)]}),"chart-industries"===i&&b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"mb-4 w-full",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Phân tích RRG ngành nghề"}),b.jsx("p",{className:"text-gray-600",children:"Hiển thị sức mạnh tương đối và động lượng của các ngành. Ngành ở góc Dẫn đầu đang vượt trội với động lượng tích cực."})]}),b.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6 w-full mb-6",children:b.jsx("div",{className:"w-full",children:c?b.jsxs("div",{className:"w-full p-8 text-center",children:[b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),b.jsx("div",{className:"text-gray-600 mt-2",children:"Đang tải dữ liệu RRG..."})]}):u?b.jsxs("div",{className:"w-full p-8 text-center",children:[b.jsx("div",{className:"text-red-600 text-lg font-medium",children:"Lỗi tải dữ liệu RRG"}),b.jsx("div",{className:"text-gray-600 mt-2",children:u.message})]}):b.jsx(Oae,{type:"industries",timeframe:s,analyticsData:l},`industries-${s}`)})})]}),"chart-groups"===i&&b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"mb-4 w-full",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Phân tích RRG nhóm vốn hóa"}),b.jsx("p",{className:"text-gray-600",children:"Hiển thị sức mạnh tương đối và động lượng của các nhóm vốn hóa (VN30, VN100, VNMidCap, VNSmallCap). Nhóm ở góc Dẫn đầu đang vượt trội với động lượng tích cực."})]}),b.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6 w-full mb-6",children:b.jsx("div",{className:"w-full",children:c?b.jsxs("div",{className:"w-full p-8 text-center",children:[b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),b.jsx("div",{className:"text-gray-600 mt-2",children:"Đang tải dữ liệu RRG..."})]}):u?b.jsxs("div",{className:"w-full p-8 text-center",children:[b.jsx("div",{className:"text-red-600 text-lg font-medium",children:"Lỗi tải dữ liệu RRG"}),b.jsx("div",{className:"text-gray-600 mt-2",children:u.message})]}):b.jsx(Oae,{type:"groups",timeframe:s,analyticsData:l},`groups-${s}`)})})]}),"chart"===i&&b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"mb-4 w-full",children:[b.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:["Phân tích RRG ","tickers"===e?"cổ phiếu":"nhóm vốn hóa"]}),b.jsx("p",{className:"text-gray-600",children:"tickers"===e?"Hiển thị sức mạnh tương đối và động lượng của các cổ phiếu. Sử dụng bộ lọc ngành để tập trung vào các nhóm cụ thể và giảm nhiễu.":"Hiển thị sức mạnh tương đối và động lượng của các nhóm vốn hóa (VN30, VN100, VNMidCap, VNSmallCap). Nhóm ở góc Dẫn đầu đang vượt trội với động lượng tích cực."})]}),b.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6 w-full mb-6",children:b.jsx("div",{className:"w-full",children:c?b.jsxs("div",{className:"w-full p-8 text-center",children:[b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),b.jsx("div",{className:"text-gray-600 mt-2",children:"Đang tải dữ liệu RRG..."})]}):u?b.jsxs("div",{className:"w-full p-8 text-center",children:[b.jsx("div",{className:"text-red-600 text-lg font-medium",children:"Lỗi tải dữ liệu RRG"}),b.jsx("div",{className:"text-gray-600 mt-2",children:u.message})]}):b.jsx(Oae,{type:e,timeframe:s,analyticsData:l},`${e}-${s}`)})})]})]})]})]})}const Wae=()=>{var e,t,n,r;const[i,a]=k.useState(""),[s,o]=k.useState(null),[l,c]=k.useState(!1),u=k.useRef(null),{data:d,loading:h,error:f}=Df("industry_strength_time_series"),m=k.useMemo(()=>(null==d?void 0:d.industries)?d.industries.map(e=>e.industry):[],[d]);k.useEffect(()=>{m.length>0&&!i&&a(m[0])},[m,i]),k.useEffect(()=>{if(!i||!(null==d?void 0:d.industries))return;const e=d.industries.find(e=>e.industry===i);if(!e)return;c(!0);const t=e.data_points.map(e=>({x:new Date(e.date).getTime(),y:e.net_flow,strong_strength:e.smoothed_signals.strong_strength,medium_strength:e.smoothed_signals.medium_strength,early_strength:e.smoothed_signals.early_strength,strong_weakness:e.smoothed_signals.strong_weakness,medium_weakness:e.smoothed_signals.medium_weakness,early_weakness:e.smoothed_signals.early_weakness}));o(t),c(!1)},[i]),k.useEffect(()=>{if(s&&u.current)if("undefined"==typeof Highcharts){const e=document.createElement("script");e.src="https://code.highcharts.com/11.1/highcharts.js",e.onload=()=>g(),document.head.appendChild(e)}else g()},[s]);const g=()=>{if(!s||!u.current)return;const e={chart:{type:"line",height:400,style:{fontSize:"14px"}},title:{text:`Sức mạnh ngành: ${i}`,align:"center"},xAxis:{type:"datetime",labels:{formatter:function(){return Highcharts.dateFormat("%d/%m/%Y",this.value)}}},yAxis:{title:{text:"Net Flow"},plotLines:[{value:0,color:"#666",dashStyle:"shortdash",width:1,label:{text:"Neutral"}}]},tooltip:{shared:!0,useHTML:!0,formatter:function(){const e=this.points[0],t=e.point;return`\n                        <div style="font-size: 12px;">\n                            <strong>${Highcharts.dateFormat("%d/%m/%Y",e.x)}</strong><br/>\n                            <strong>Net Flow:</strong> ${t.y.toFixed(3)}<br/>\n                            <strong>Strong Strength:</strong> ${t.strong_strength.toFixed(3)}<br/>\n                            <strong>Medium Strength:</strong> ${t.medium_strength.toFixed(3)}<br/>\n                            <strong>Early Strength:</strong> ${t.early_strength.toFixed(3)}<br/>\n                            <strong>Strong Weakness:</strong> ${t.strong_weakness.toFixed(3)}<br/>\n                            <strong>Medium Weakness:</strong> ${t.medium_weakness.toFixed(3)}<br/>\n                            <strong>Early Weakness:</strong> ${t.early_weakness.toFixed(3)}\n                        </div>\n                    `}},legend:{enabled:!0,align:"center",verticalAlign:"bottom"},plotOptions:{line:{marker:{enabled:!1}}},series:[{name:"Net Flow",data:s.map(e=>[e.x,e.y]),color:"#3b82f6",lineWidth:3,zIndex:1},{name:"Strong Strength",data:s.map(e=>[e.x,e.strong_strength]),color:"#10b981",lineWidth:2,visible:!1},{name:"Medium Strength",data:s.map(e=>[e.x,e.medium_strength]),color:"#059669",lineWidth:2,visible:!1},{name:"Early Strength",data:s.map(e=>[e.x,e.early_strength]),color:"#047857",lineWidth:2,visible:!1},{name:"Strong Weakness",data:s.map(e=>[e.x,e.strong_weakness]),color:"#ef4444",lineWidth:2,visible:!1},{name:"Medium Weakness",data:s.map(e=>[e.x,e.medium_weakness]),color:"#dc2626",lineWidth:2,visible:!1},{name:"Early Weakness",data:s.map(e=>[e.x,e.early_weakness]),color:"#b91c1c",lineWidth:2,visible:!1}],credits:{enabled:!1}};Highcharts.chart(u.current,e)};return d?b.jsx(Ke,{children:b.jsxs("div",{className:"p-6",children:[b.jsxs("div",{className:"flex items-center justify-between mb-6",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(ie,{className:"h-5 w-5 text-blue-500"}),b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Biểu đồ sức mạnh ngành"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(re,{className:"h-4 w-4 text-gray-500"}),b.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:(null==(t=null==(e=d.metadata)?void 0:e.date_range)?void 0:t.start)&&(null==(r=null==(n=d.metadata)?void 0:n.date_range)?void 0:r.end)&&`${new Date(d.metadata.date_range.start).toLocaleDateString("vi-VN")} - ${new Date(d.metadata.date_range.end).toLocaleDateString("vi-VN")}`})]})]}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Chọn ngành:"}),b.jsx("select",{value:i,onChange:e=>a(e.target.value),className:"w-full max-w-xs px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 cursor-pointer",children:m.map(e=>b.jsx("option",{value:e,children:e},e))})]}),b.jsxs("div",{className:"relative",children:[l&&b.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/80 dark:bg-gray-800/80 z-10",children:b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}),b.jsx("div",{ref:u,className:"w-full h-96"})]}),b.jsxs("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4 text-xs",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded"}),b.jsx("span",{children:"Net Flow"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"}),b.jsx("span",{children:"Strong Strength"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-3 h-3 bg-green-600 rounded"}),b.jsx("span",{children:"Medium Strength"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-3 h-3 bg-green-700 rounded"}),b.jsx("span",{children:"Early Strength"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-3 h-3 bg-red-500 rounded"}),b.jsx("span",{children:"Strong Weakness"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-3 h-3 bg-red-600 rounded"}),b.jsx("span",{children:"Medium Weakness"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-3 h-3 bg-red-700 rounded"}),b.jsx("span",{children:"Early Weakness"})]})]}),b.jsxs("div",{className:"mt-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[b.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Giải thích:"}),b.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[b.jsxs("li",{children:["• ",b.jsx("strong",{children:"Net Flow:"})," Chỉ số tổng hợp sức mạnh/điểm yếu của ngành"]}),b.jsxs("li",{children:["• ",b.jsx("strong",{children:"Strong Strength/Weakness:"})," Tín hiệu mạnh về sức mạnh/điểm yếu"]}),b.jsxs("li",{children:["• ",b.jsx("strong",{children:"Medium Strength/Weakness:"})," Tín hiệu trung bình về sức mạnh/điểm yếu"]}),b.jsxs("li",{children:["• ",b.jsx("strong",{children:"Early Strength/Weakness:"})," Tín hiệu sớm về sức mạnh/điểm yếu"]})]})]})]})}):b.jsx(Ke,{children:b.jsxs("div",{className:"text-center py-8",children:[b.jsx(X,{className:"mx-auto h-12 w-12 text-gray-400"}),b.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100",children:"Không thể tải dữ liệu sức mạnh ngành"}),b.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Vui lòng kiểm tra lại file dữ liệu"})]})})},$ae=({timeframe:e="1D"})=>{const[t,n]=k.useState("rrg"),{data:r,loading:i}=Ff(e,"industry"),a=[{id:"rankings",name:"Xếp hạng & Phân tích",icon:ie},{id:"rrg",name:"Phân tích RRG",icon:Re},{id:"heatmap",name:"RS 21-Bar Heatmap",icon:Ne},{id:"trends",name:"Xu hướng sức mạnh",icon:X}];return b.jsxs("div",{className:"space-y-6",children:[b.jsx("div",{className:"flex items-center justify-between",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(ie,{className:"h-6 w-6 text-blue-500"}),b.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Phân tích sức mạnh tương đối ngành"})]})}),b.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:b.jsx("nav",{className:"-mb-px flex space-x-8",children:a.map(e=>{const r=e.icon;return b.jsxs("button",{onClick:()=>n(e.id),className:"flex items-center gap-2 py-2 px-1 border-b-2 font-medium text-sm cursor-pointer "+(t===e.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"),children:[b.jsx(r,{className:"h-4 w-4"}),e.name]},e.id)})})}),b.jsx("div",{className:"mt-6",children:(()=>{switch(t){case"rankings":return b.jsx($re,{timeframe:e});case"rrg":return b.jsx(Vae,{type:"industries",timeframe:e});case"heatmap":return b.jsx(pre,{data:r});case"trends":return b.jsx(Wae,{});default:return null}})()})]})},Hae=()=>{const{data:e,loading:t,error:n}=Df("pe_ratio"),{data:r,loading:i,error:a}=Df("pb_ratio"),s=(null==e?void 0:e.data)||[],o=(null==r?void 0:r.data)||[],l=k.useMemo(()=>{const e=new Map(o.map(e=>[e.reportDate,e.pb]));return s.map(t=>({date:t.reportDate.slice(0,10),pe:t.pe,pb:e.get(t.reportDate)})).filter(e=>void 0!==e.pb)},[s,o]),c=k.useMemo(()=>l,[l]),u=k.useMemo(()=>{if(0===c.length)return null;const e=c[c.length-1],t=new Date(e.date),n=new Date(t);n.setFullYear(n.getFullYear()-1);const r=c.find(e=>new Date(e.date)>=n)||c[0],i=c.map(e=>e.pe).filter(e=>null!==e&&!isNaN(e)),a=c.map(e=>e.pb).filter(e=>null!==e&&!isNaN(e));return{current:{pe:e.pe,pb:e.pb,date:e.date},change:{pe:r?e.pe-r.pe:0,pb:r?e.pb-r.pb:0,oneYearAgoDate:null==r?void 0:r.date},range:{pe:{min:Math.min(...i),max:Math.max(...i)},pb:{min:Math.min(...a),max:Math.max(...a)}},average:{pe:i.reduce((e,t)=>e+t,0)/i.length,pb:a.reduce((e,t)=>e+t,0)/a.length}}},[c]);return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"text-center",children:[b.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-2",children:"Báo cáo Định giá VN-Index"}),b.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Phân tích tỷ lệ P/E và P/B của VN-Index trong toàn bộ dữ liệu có sẵn"})]}),u&&b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[b.jsx(Ke,{children:b.jsxs("div",{className:"text-center",children:[b.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"P/E Hiện tại"}),b.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:u.current.pe.toFixed(2)}),b.jsxs("p",{className:"text-sm "+(u.change.pe>=0?"text-green-500":"text-red-500"),children:[u.change.pe>=0?"+":"",u.change.pe.toFixed(2)," so với 1 năm trước"]})]})}),b.jsx(Ke,{children:b.jsxs("div",{className:"text-center",children:[b.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"P/B Hiện tại"}),b.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:u.current.pb.toFixed(2)}),b.jsxs("p",{className:"text-sm "+(u.change.pb>=0?"text-green-500":"text-red-500"),children:[u.change.pb>=0?"+":"",u.change.pb.toFixed(2)," so với 1 năm trước"]})]})}),b.jsx(Ke,{children:b.jsxs("div",{className:"text-center",children:[b.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"P/E Trung bình"}),b.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:u.average.pe.toFixed(2)}),b.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Khoảng: ",u.range.pe.min.toFixed(2)," - ",u.range.pe.max.toFixed(2)]})]})}),b.jsx(Ke,{children:b.jsxs("div",{className:"text-center",children:[b.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"P/B Trung bình"}),b.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:u.average.pb.toFixed(2)}),b.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Khoảng: ",u.range.pb.min.toFixed(2)," - ",u.range.pb.max.toFixed(2)]})]})})]}),b.jsxs(Ke,{children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200 mb-4",children:"Biểu đồ P/E và P/B VN-Index (Toàn bộ dữ liệu)"}),b.jsx("div",{className:"h-96",children:b.jsx(oF,{width:"100%",height:"100%",children:b.jsxs(SG,{data:c,margin:{top:10,right:30,left:0,bottom:10},children:[b.jsx(bH,{strokeDasharray:"3 3",stroke:"rgba(128, 128, 128, 0.2)"}),b.jsx(mU,{dataKey:"date",tick:{fill:"rgb(156 163 175)",fontSize:12},minTickGap:30,interval:"preserveStartEnd"}),b.jsx(_U,{yAxisId:"left",tick:{fill:"rgb(156 163 175)",fontSize:12},domain:["auto","auto"],label:{value:"P/E",angle:-90,position:"insideLeft",fill:"#22c55e"}}),b.jsx(_U,{yAxisId:"right",orientation:"right",tick:{fill:"rgb(156 163 175)",fontSize:12},domain:["auto","auto"],label:{value:"P/B",angle:90,position:"insideRight",fill:"#3b82f6"}}),b.jsx(Hz,{contentStyle:{backgroundColor:"rgba(31, 41, 55, 0.9)",border:"1px solid rgba(128, 128, 128, 0.2)",borderRadius:"0.5rem",color:"#fff"},formatter:(e,t)=>[e.toFixed(2),t],labelFormatter:e=>`Ngày: ${e}`}),b.jsx(Cj,{}),b.jsx(GH,{yAxisId:"left",type:"monotone",dataKey:"pe",stroke:"#22c55e",strokeWidth:2,dot:!1,name:"P/E"}),b.jsx(GH,{yAxisId:"right",type:"monotone",dataKey:"pb",stroke:"#3b82f6",strokeWidth:2,dot:!1,name:"P/B"})]})})})]}),b.jsxs(Ke,{children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200 mb-4",children:"Phân tích Định giá"}),b.jsxs("div",{className:"space-y-4 text-sm text-gray-600 dark:text-gray-400",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2",children:"P/E Ratio (Tỷ lệ Giá/Lợi nhuận)"}),b.jsx("p",{children:"P/E ratio đo lường mức độ đắt đỏ của thị trường. P/E cao thường cho thấy thị trường kỳ vọng tăng trưởng lợi nhuận cao, nhưng cũng có thể báo hiệu thị trường quá nóng."})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2",children:"P/B Ratio (Tỷ lệ Giá/Giá trị Sổ sách)"}),b.jsx("p",{children:"P/B ratio so sánh giá thị trường với giá trị sổ sách của công ty. P/B thấp có thể cho thấy cổ phiếu bị định giá thấp, trong khi P/B cao có thể phản ánh tài sản vô hình hoặc kỳ vọng tăng trưởng."})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2",children:"Ý nghĩa của Biểu đồ"}),b.jsx("p",{children:"Biểu đồ này giúp nhà đầu tư theo dõi xu hướng định giá của thị trường theo thời gian. Sự thay đổi trong P/E và P/B có thể phản ánh thay đổi trong kỳ vọng tăng trưởng, lãi suất, hoặc tâm lý thị trường."})]})]})]})]})},Kae=({title:e,icon:t,data:n,unit:r,valueKey:i="value",nameKey:a="id"})=>b.jsxs(Ke,{children:[b.jsxs("div",{className:"flex items-center mb-4",children:[t,b.jsx("h3",{className:"text-base font-semibold text-gray-700 dark:text-gray-200 ml-2",children:e})]}),b.jsx("ul",{className:"space-y-3",children:n.map(e=>b.jsxs("li",{className:"flex justify-between items-center text-sm",children:[b.jsx("span",{className:"font-semibold text-blue-600 dark:text-blue-400 truncate pr-2",children:e[a]}),b.jsxs("span",{className:"font-medium whitespace-nowrap "+(e[i]>=0?"text-green-500":"text-red-500"),children:[e[i]>0?"+":"",e[i].toFixed(2),r]})]},e.id))})]}),Uae=[{value:"VNINDEX",label:"VNINDEX",description:"Chỉ số tổng hợp của thị trường chứng khoán Việt Nam, phản ánh xu hướng chung của toàn bộ thị trường."},{value:"VNINDEX_EW",label:"VNINDEX Equal Weight",description:"VNINDEX_EW là một chỉ số riêng của TCCK, được tính bằng cách tính trung bình giá và khối lượng của các cổ phiếu có lượng giao dịch trung bình trên 50000 đơn vị 1 ngày trong 20 ngày. Chỉ số này giúp loại bỏ sự ảnh hưởng của các cổ phiếu trụ có vốn hóa lớn làm méo mó thị trường."},{value:"VN30",label:"VN30",description:"Chỉ số của 30 cổ phiếu có vốn hóa thị trường lớn nhất và thanh khoản tốt nhất trên HOSE."},{value:"VN100",label:"VN100",description:"Chỉ số của 100 cổ phiếu có vốn hóa thị trường lớn nhất và thanh khoản tốt trên HOSE."},{value:"VNALL",label:"VN All Share",description:"Chỉ số tổng hợp của tất cả cổ phiếu niêm yết trên HOSE và HNX."},{value:"VNMID",label:"VN Mid Cap",description:"Chỉ số của các cổ phiếu có vốn hóa thị trường trung bình trên thị trường chứng khoán Việt Nam."},{value:"VNSML",label:"VN Small Cap",description:"Chỉ số của các cổ phiếu có vốn hóa thị trường nhỏ trên thị trường chứng khoán Việt Nam."}],Gae=()=>{const e=k.useRef(null),t=k.useRef(null),n=k.useRef([]),[r,i]=k.useState(!0),[a,s]=k.useState(null),[o,l]=k.useState("VNINDEX_EW"),[c,u]=k.useState(null),[d,h]=k.useState(!1),[f,m]=k.useState(!1);return k.useEffect(()=>{if(!e.current)return;let n;function r(){e.current.clientWidth>0&&!t.current&&setTimeout(()=>{if(e.current.clientWidth>0&&!t.current)try{const n=sf(e.current,{width:e.current.clientWidth,height:500,layout:{background:{color:"#fff"},textColor:"#222"},grid:{vertLines:{color:"#e5e7eb"},horzLines:{color:"#e5e7eb"}},crosshair:{mode:1},rightPriceScale:{borderColor:"#d1d5db"},timeScale:{borderColor:"#d1d5db",timeVisible:!0,secondsVisible:!1},overlayPriceScales:{borderColor:"#d1d5db"}});t.current=n,h(!0)}catch(n){h(!1)}},50)}return n=new window.ResizeObserver(()=>{r()}),n.observe(e.current),r(),()=>{if(n&&n.disconnect(),t.current){try{t.current.remove()}catch(e){}t.current=null,h(!1)}}},[o]),k.useEffect(()=>{if(!d||!c)return;const e=t.current;if(!e)return;n.current=[];const r=c.map(e=>{const t=new Date(e.Time).toISOString().slice(0,10),n=Number(e.Open),r=Number(e.High),i=Number(e.Low),a=Number(e.Close);return[n,r,i,a].some(e=>null==e||isNaN(e))?null:{time:t,open:n,high:r,low:i,close:a}}).filter(Boolean);if(r.length)try{const t=e.addSeries(xf,{upColor:"#26a69a",downColor:"#ef5350"},0);t.setData(r),n.current.push(t)}catch(a){}const i=c.map(e=>{const t=new Date(e.Time).toISOString().slice(0,10),n=Number(e.Volume);return null==n||isNaN(n)?null:{time:t,value:n}}).filter(Boolean);if(i.length)try{const t=e.addSeries(_f,{color:"#c792ea",priceFormat:{type:"volume"},scaleMargins:{top:.8,bottom:0}},1);t.setData(i),n.current.push(t)}catch(a){}try{e.timeScale().fitContent();const t=e.panes();t[0]&&t[0].setHeight(400),t[1]&&t[1].setHeight(150)}catch(a){}},[c,d]),k.useEffect(()=>{var e;e=o,v(null,null,function*(){try{i(!0),s(null);const t=yield Wf.loadTicker(e);u(t)}catch(zse){s(`Không thể tải dữ liệu ${e}`)}finally{i(!1)}})},[o]),a?b.jsx(Ke,{children:b.jsxs("div",{className:"p-6 text-center",children:[b.jsx("div",{className:"text-red-500 mb-2",children:"⚠️"}),b.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Lỗi tải dữ liệu"}),b.jsx("p",{className:"text-gray-600",children:a})]})}):b.jsx(Ke,{children:b.jsxs("div",{className:"p-6",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsx("div",{className:"flex items-center gap-2",children:b.jsxs("div",{className:"flex-1",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:(()=>{const e=Uae.find(e=>e.value===o);return e?e.label:o})()}),b.jsx("button",{onClick:()=>m(!f),className:"cursor-pointer text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",title:"Hướng dẫn đọc biểu đồ",children:b.jsx(fe,{className:"h-5 w-5"})})]}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Biểu đồ giá và khối lượng giao dịch"})]})}),b.jsxs("div",{className:"flex items-center space-x-4",children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("label",{htmlFor:"source-select",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Chọn chỉ số:"}),b.jsx("select",{id:"source-select",value:o,onChange:e=>{l(e.target.value)},className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",disabled:r,children:Uae.map(e=>b.jsx("option",{value:e.value,children:e.label},e.value))})]}),r&&b.jsxs("div",{className:"flex items-center text-blue-500",children:[b.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500 mr-2"}),b.jsx("span",{className:"text-sm",children:"Đang tải..."})]})]})]}),f&&b.jsx("div",{className:"mb-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:b.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300 space-y-3",children:[b.jsx("p",{className:"font-medium",children:"Biểu đồ này hiển thị giá và khối lượng giao dịch của các chỉ số thị trường chứng khoán Việt Nam."}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-semibold mb-2",children:"Ý nghĩa các chỉ số"}),b.jsxs("div",{className:"space-y-2 text-xs",children:[b.jsxs("div",{children:[b.jsx("strong",{children:"VNINDEX:"})," Chỉ số tổng hợp của thị trường chứng khoán Việt Nam, phản ánh xu hướng chung của toàn bộ thị trường."]}),b.jsxs("div",{children:[b.jsx("strong",{children:"VNINDEX_EW:"})," VNINDEX_EW là một chỉ số riêng của TCCK, được tính bằng cách tính trung bình giá và khối lượng của các cổ phiếu có lượng giao dịch trung bình trên 50000 đơn vị 1 ngày trong 20 ngày. Chỉ số này giúp loại bỏ sự ảnh hưởng của các cổ phiếu trụ có vốn hóa lớn làm méo mó thị trường."]}),b.jsxs("div",{children:[b.jsx("strong",{children:"VN30:"})," Chỉ số của 30 cổ phiếu có vốn hóa thị trường lớn nhất và thanh khoản tốt nhất trên HOSE."]}),b.jsxs("div",{children:[b.jsx("strong",{children:"VN100:"})," Chỉ số của 100 cổ phiếu có vốn hóa thị trường lớn nhất và thanh khoản tốt trên HOSE."]}),b.jsxs("div",{children:[b.jsx("strong",{children:"VNALL (VNAllShare):"})," Chỉ số vốn hóa bao gồm các mã cổ phiếu được niêm yết trên sàn HOSE, thỏa mãn 4 tiêu chí bắt buộc:",b.jsxs("ul",{className:"mt-1 ml-4 space-y-1",children:[b.jsxs("li",{children:[b.jsx("strong",{children:"Tư cách:"})," Cổ phiếu hoạt động bình thường, niêm yết tối thiểu 6 tháng (3 tháng nếu thuộc top 5 vốn hóa)"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Free-float:"})," Tối thiểu 10% (5% nếu thuộc top 10 vốn hóa)"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Thanh khoản:"})," ≥ 0.05%"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Tỷ trọng vốn hóa:"})," Giới hạn 10%"]})]})]}),b.jsxs("div",{children:[b.jsx("strong",{children:"VNMID:"})," Chỉ số của các cổ phiếu có vốn hóa thị trường trung bình trên thị trường chứng khoán Việt Nam."]}),b.jsxs("div",{children:[b.jsx("strong",{children:"VNSML:"})," Chỉ số của các cổ phiếu có vốn hóa thị trường nhỏ trên thị trường chứng khoán Việt Nam."]})]})]})]})}),b.jsx("div",{ref:e,className:"w-full",children:r&&b.jsx("div",{className:"flex items-center justify-center h-full",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-2"}),b.jsx("p",{className:"text-gray-600",children:"Đang tải dữ liệu..."})]})})})]})})},qae=({turnover:e,volume:t})=>{var n;const[r,i]=k.useState(!1),[a,s]=k.useState(null),[o,l]=k.useState(!0),[c,u]=k.useState(!1),d=k.useRef(null),h=k.useRef([]),{data:f,loading:m,error:g,lastUpdated:p,refresh:v}=Df("analyze_breadth_4",null,[],{refreshInterval:3e5});if(k.useEffect(()=>{if(!a||!o)return;let e;function t(){a.clientWidth>0&&!d.current&&setTimeout(()=>{if(a.clientWidth>0&&!d.current)try{const e=sf(a,{width:a.clientWidth,height:a.clientHeight,layout:{background:{color:"#fff"},textColor:"#222"},grid:{vertLines:{color:"#e5e7eb"},horzLines:{color:"#e5e7eb"}},crosshair:{mode:1},rightPriceScale:{borderColor:"#d1d5db"},timeScale:{borderColor:"#d1d5db",timeVisible:!0,secondsVisible:!1}});d.current=e,i(!0)}catch(e){i(!1)}},50)}return e=new window.ResizeObserver(()=>{t()}),e.observe(a),t(),()=>{if(e&&e.disconnect(),d.current){try{d.current.remove()}catch(t){}d.current=null,i(!1)}}},[a,o]),k.useEffect(()=>{if(!r||!f||!o)return;const e=d.current;if(e){if(e)try{h.current.forEach(t=>{t&&"function"==typeof t.remove&&e.removeSeries(t)}),h.current=[]}catch(t){h.current=[]}if(f.daily_data&&f.daily_data.length>0){const n=f.daily_data.map(e=>({time:e.date.slice(0,10),value:e.up_smoothed})).filter(e=>null!=e.value&&!isNaN(e.value)),r=f.daily_data.map(e=>({time:e.date.slice(0,10),value:e.down_smoothed})).filter(e=>null!=e.value&&!isNaN(e.value)),i=f.daily_data.map(e=>({time:e.date.slice(0,10),value:e.unchanged_count})).filter(e=>null!=e.value&&!isNaN(e.value));if(n.length)try{const t=e.addSeries(gf,{color:"#10b981",lineWidth:2,title:"Tăng"},0);t.setData(n),h.current.push(t)}catch(t){}if(r.length)try{const t=e.addSeries(gf,{color:"#ef4444",lineWidth:2,title:"Giảm"},0);t.setData(r),h.current.push(t)}catch(t){}if(i.length)try{const t=e.addSeries(gf,{color:"#6b7280",lineWidth:1,lineStyle:1,title:"Đứng"},0);t.setData(i),h.current.push(t)}catch(t){}}if(f.daily_data&&f.daily_data.length>0){const n=f.daily_data.map(e=>({time:e.date.slice(0,10),value:100*e.smoothed_ratio})).filter(e=>null!=e.value&&!isNaN(e.value));if(n.length)try{const t=e.addSeries(gf,{color:"#3b82f6",lineWidth:3,title:"Tỷ lệ Tăng/Giảm (%)"},1);t.setData(n),h.current.push(t)}catch(t){}}try{e.timeScale().fitContent();const t=e.panes();t[0]&&t[0].setHeight(300),t[1]&&t[1].setHeight(150)}catch(t){}}},[f,r,o]),m)return b.jsx(Ke,{children:b.jsxs("div",{className:"animate-pulse",children:[b.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-3"}),b.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded mb-3"}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/4"}),b.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/4"}),b.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/4"})]})]})});if(g)return b.jsx(Ke,{children:b.jsxs("div",{className:"text-center py-6",children:[b.jsx(de,{className:"w-8 h-8 text-red-500 mx-auto mb-2"}),b.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-200 mb-1",children:"Lỗi tải dữ liệu"}),b.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:g}),b.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Sử dụng nút tải lại toàn cục ở header để thử lại"})]})});if(!(null==(n=null==f?void 0:f.daily_data)?void 0:n.length))return b.jsx(Ke,{children:b.jsx("div",{className:"text-center py-6",children:b.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Không có dữ liệu độ rộng thị trường"})})});const y=f.daily_data[f.daily_data.length-1],{up_count:x,down_count:w,unchanged_count:_,total_count:j,ratio:N}=y,S=(()=>{var e;if(!(null==(e=null==f?void 0:f.daily_data)?void 0:e.length))return null;const t=f.daily_data[f.daily_data.length-1],n=f.daily_data[f.daily_data.length-2];return{current:t,upChange:n?t.up_count-n.up_count:0,downChange:n?t.down_count-n.down_count:0,ratioChange:n?100*(t.ratio-n.ratio):0}})(),C=(()=>{if(!(null==f?void 0:f.summary))return null;const{averages:e,extremes:t,most_bullish_day:n,most_bearish_day:r}=f.summary;return{averages:e,extremes:t,most_bullish_day:n,most_bearish_day:r}})(),P=x/j*100,E=w/j*100,M=_/j*100,O=(A=N)>.6?{sentiment:"bullish",color:"text-green-500",bg:"bg-green-100 dark:bg-green-900"}:A<.4?{sentiment:"bearish",color:"text-red-500",bg:"bg-red-100 dark:bg-red-900"}:{sentiment:"neutral",color:"text-yellow-500",bg:"bg-yellow-100 dark:bg-yellow-900"};var A;return b.jsxs(Ke,{children:[b.jsxs("div",{className:"flex items-center justify-between mb-3",children:[b.jsx("h3",{className:"text-base font-semibold text-gray-700 dark:text-gray-200",children:"Độ rộng thị trường"}),b.jsx("button",{onClick:()=>u(!c),className:"p-1 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors cursor-pointer",title:"Hướng dẫn đọc biểu đồ",children:c?b.jsx(ue,{className:"w-4 h-4"}):b.jsx(fe,{className:"w-4 h-4"})})]}),c&&b.jsx("div",{className:"mb-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:b.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300 space-y-3",children:[b.jsx("p",{className:"font-medium",children:"Biểu đồ này giống như nhiệt kế đo sức khỏe toàn thị trường chứng khoán mỗi ngày. Nó không chỉ nhìn vào chỉ số VN-Index, mà nhìn rộng hơn — có bao nhiêu mã tăng, bao nhiêu mã giảm, và bao nhiêu mã đứng yên."}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-semibold mb-2",children:"👁‍🗨 Cách đọc biểu đồ"}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{children:[b.jsx("span",{className:"text-green-600 font-medium",children:"🔼 Mã Tăng (màu xanh lá):"})," Là số lượng cổ phiếu tăng giá trong ngày."]}),b.jsxs("div",{children:[b.jsx("span",{className:"text-red-600 font-medium",children:"🔽 Mã Giảm (màu đỏ):"})," Là số cổ phiếu giảm giá."]}),b.jsxs("div",{children:[b.jsx("span",{className:"text-gray-600 font-medium",children:"⏸️ Mã Đứng yên (màu xám):"})," Không tăng không giảm."]}),b.jsxs("div",{children:[b.jsx("span",{className:"text-blue-600 font-medium",children:"🔵 Tỷ lệ Tăng/(Tăng + Giảm) – Dòng màu xanh dương:"})," Đây là chỉ báo chính cho thấy tâm lý thị trường:"]}),b.jsxs("div",{className:"ml-4 space-y-1",children:[b.jsx("div",{children:"• Nếu > 60%: Thị trường nghiêng về tích cực"}),b.jsx("div",{children:"• Nếu < 40%: Thị trường nghiêng về tiêu cực"})]})]})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-semibold mb-2",children:"📆 Thống kê bổ sung"}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{children:[b.jsx("span",{className:"font-medium",children:"🧠 Trung bình lịch sử:"}),' Thường dao động quanh 50% - nghĩa là thị trường thường "cân bằng" giữa tăng và giảm.']}),b.jsxs("div",{children:[b.jsx("span",{className:"font-medium",children:"🟢 Ngày tích cực nhất:"})," Có thể dùng để so sánh với đỉnh cao nhất trong lịch sử - khi tỷ lệ tăng đạt gần 100%, nghĩa là gần như toàn thị trường bật mạnh."]}),b.jsxs("div",{children:[b.jsx("span",{className:"font-medium",children:"🔴 Ngày tiêu cực nhất:"}),' Có thể dùng để so sánh với đáy thấp nhất - khi tỷ lệ tăng chỉ còn dưới 5%, nghĩa là toàn thị trường "rơi tự do".']})]})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-semibold mb-2",children:"🎯 Ứng dụng thực tế"}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{children:[b.jsx("span",{className:"font-medium",children:"Nhà đầu tư ngắn hạn:"}),' Có thể dùng để đo "tâm lý thị trường" hôm nay mạnh hay yếu → quyết định mua bán linh hoạt.']}),b.jsxs("div",{children:[b.jsx("span",{className:"font-medium",children:"Nhà đầu tư dài hạn:"})," Dùng để xác nhận xu hướng lớn – ví dụ nếu tỷ lệ tăng trên 60% liên tục nhiều ngày, thị trường có thể đang bước vào sóng tăng."]})]})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-semibold mb-2",children:"📌 Gợi ý đơn giản để sử dụng"}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("div",{children:"• Khi tỷ lệ > 70% nhiều ngày liên tục → thị trường đang khỏe (có thể nắm giữ hoặc canh mua)"}),b.jsx("div",{children:"• Khi tỷ lệ < 30% → thị trường yếu → nên cẩn trọng hoặc hạ tỷ trọng"}),b.jsx("div",{children:"• Nếu tỷ lệ dao động quanh 50% → thị trường chưa rõ xu hướng, cần theo dõi thêm"})]})]})]})}),b.jsxs("div",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium mb-3 ${O.bg} ${O.color}`,children:["bullish"===O.sentiment&&b.jsx(ee,{className:"w-3 h-3 mr-1"}),"bearish"===O.sentiment&&b.jsx(Z,{className:"w-3 h-3 mr-1"}),"neutral"===O.sentiment&&b.jsx(Ce,{className:"w-3 h-3 mr-1"}),"bullish"===O.sentiment?"Tích cực":"bearish"===O.sentiment?"Tiêu cực":"Trung tính",b.jsxs("span",{className:"ml-1",children:["(",(100*N).toFixed(1),"%)"]})]}),b.jsxs("div",{className:"w-full flex h-2 rounded-full overflow-hidden mb-3",children:[b.jsx("div",{style:{width:`${P}%`},className:"bg-green-500"}),b.jsx("div",{style:{width:`${E}%`},className:"bg-red-500"}),b.jsx("div",{style:{width:`${M}%`},className:"bg-gray-400 dark:bg-gray-500"})]}),b.jsxs("div",{className:"flex justify-between text-xs font-medium text-gray-500 dark:text-gray-400 flex-wrap gap-2 mb-3",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx(ee,{size:14,className:"text-green-500 mr-1"}),"Tăng: ",b.jsx("span",{className:"text-gray-800 dark:text-gray-200 font-semibold ml-1",children:x})]}),b.jsxs("div",{className:"flex items-center",children:[b.jsx(Ce,{size:14,className:"text-gray-400 mr-1"}),"Đứng: ",b.jsx("span",{className:"text-gray-800 dark:text-gray-200 font-semibold ml-1",children:_})]}),b.jsxs("div",{className:"flex items-center",children:[b.jsx(Z,{size:14,className:"text-red-500 mr-1"}),"Giảm: ",b.jsx("span",{className:"text-gray-800 dark:text-gray-200 font-semibold ml-1",children:w})]})]}),b.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[b.jsx("div",{className:"flex-1 min-w-0",children:o&&b.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[S&&b.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[b.jsxs("div",{className:"text-center p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[b.jsxs("div",{className:"flex items-center justify-center mb-1",children:[b.jsx(Re,{className:"w-4 h-4 text-green-500 mr-1"}),b.jsx("h5",{className:"text-xs font-medium text-green-700 dark:text-green-300",children:"Tăng"})]}),b.jsx("p",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:S.current.up_count}),0!==S.upChange&&b.jsxs("p",{className:"text-xs "+(S.upChange>0?"text-green-500":"text-red-500"),children:[S.upChange>0?"+":"",S.upChange]})]}),b.jsxs("div",{className:"text-center p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[b.jsxs("div",{className:"flex items-center justify-center mb-1",children:[b.jsx(Te,{className:"w-4 h-4 text-red-500 mr-1"}),b.jsx("h5",{className:"text-xs font-medium text-red-700 dark:text-red-300",children:"Giảm"})]}),b.jsx("p",{className:"text-lg font-bold text-red-600 dark:text-red-400",children:S.current.down_count}),0!==S.downChange&&b.jsxs("p",{className:"text-xs "+(S.downChange<0?"text-green-500":"text-red-500"),children:[S.downChange>0?"+":"",S.downChange]})]}),b.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-900/20 rounded-lg",children:[b.jsxs("div",{className:"flex items-center justify-center mb-1",children:[b.jsx(Ce,{className:"w-4 h-4 text-gray-500 mr-1"}),b.jsx("h5",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Đứng"})]}),b.jsx("p",{className:"text-lg font-bold text-gray-600 dark:text-gray-400",children:S.current.unchanged_count})]}),b.jsxs("div",{className:"text-center p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[b.jsxs("div",{className:"flex items-center justify-center mb-1",children:[b.jsx(ke,{className:"w-4 h-4 text-blue-500 mr-1"}),b.jsx("h5",{className:"text-xs font-medium text-blue-700 dark:text-blue-300",children:"Tỷ lệ"})]}),b.jsxs("p",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:[(100*S.current.ratio).toFixed(1),"%"]}),0!==S.ratioChange&&b.jsxs("p",{className:"text-xs "+(S.ratioChange>0?"text-green-500":"text-red-500"),children:[S.ratioChange>0?"+":"",S.ratioChange.toFixed(1),"%"]})]})]}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{ref:s,className:"border rounded",style:{width:"100%",background:"#fff",minHeight:"450px"}}),!r&&b.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-white/70 z-10",children:[b.jsx("div",{className:"animate-spin h-6 w-6 border-b-2 border-blue-500 rounded-full"}),b.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Đang tải biểu đồ..."})]})]}),b.jsxs("div",{className:"flex justify-center gap-4 mt-3 text-xs",children:[b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx("span",{className:"inline-block w-3 h-3 bg-green-500 rounded-full"}),"Tăng"]}),b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx("span",{className:"inline-block w-3 h-3 bg-red-500 rounded-full"}),"Giảm"]}),b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx("span",{className:"inline-block w-3 h-3 bg-gray-500 rounded-full"}),"Đứng"]}),b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx("span",{className:"inline-block w-3 h-3 bg-blue-500 rounded-full"}),"Tỷ lệ (%)"]})]})]})}),b.jsx("div",{className:"lg:w-[600px] flex-shrink-0",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/20 rounded-lg p-3",children:[b.jsx("h5",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Thông tin dữ liệu"}),b.jsxs("div",{className:"space-y-2 text-xs",children:[b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tổng ngày:"}),b.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:f.metadata.total_trading_days})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Từ:"}),b.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:new Date(f.metadata.date_range.start).toLocaleDateString("vi-VN")})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Đến:"}),b.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:new Date(f.metadata.date_range.end).toLocaleDateString("vi-VN")})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Cập nhật:"}),b.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:new Date(f.metadata.analysis_date).toLocaleDateString("vi-VN")})]})]})]}),C&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3",children:[b.jsx("h5",{className:"text-xs font-medium text-blue-700 dark:text-blue-300 mb-2",children:"Trung bình lịch sử"}),b.jsxs("div",{className:"space-y-1 text-xs",children:[b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tăng:"}),b.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:C.averages.up_count.toFixed(0)})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Giảm:"}),b.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:C.averages.down_count.toFixed(0)})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Đứng:"}),b.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:C.averages.unchanged_count.toFixed(0)})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tỷ lệ:"}),b.jsxs("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:[(100*C.averages.ratio).toFixed(1),"%"]})]})]})]}),b.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-3",children:[b.jsx("h5",{className:"text-xs font-medium text-orange-700 dark:text-orange-300 mb-2",children:"Cực trị lịch sử"}),b.jsxs("div",{className:"space-y-1 text-xs",children:[b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tăng cao nhất:"}),b.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:C.extremes.max_up_count})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Giảm cao nhất:"}),b.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:C.extremes.max_down_count})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tỷ lệ cao nhất:"}),b.jsxs("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:[(100*C.extremes.max_ratio).toFixed(1),"%"]})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tỷ lệ thấp nhất:"}),b.jsxs("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:[(100*C.extremes.min_ratio).toFixed(1),"%"]})]})]})]}),b.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-3",children:[b.jsx("h5",{className:"text-xs font-medium text-green-700 dark:text-green-300 mb-2",children:"Ngày tích cực nhất"}),b.jsxs("div",{className:"space-y-1 text-xs",children:[b.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:new Date(C.most_bullish_day.date).toLocaleDateString("vi-VN")}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tăng:"}),b.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:C.most_bullish_day.up_count})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Giảm:"}),b.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:C.most_bullish_day.down_count})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tỷ lệ:"}),b.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:[(100*C.most_bullish_day.ratio).toFixed(1),"%"]})]})]})]}),b.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-3",children:[b.jsx("h5",{className:"text-xs font-medium text-red-700 dark:text-red-300 mb-2",children:"Ngày tiêu cực nhất"}),b.jsxs("div",{className:"space-y-1 text-xs",children:[b.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:new Date(C.most_bearish_day.date).toLocaleDateString("vi-VN")}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tăng:"}),b.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:C.most_bearish_day.up_count})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Giảm:"}),b.jsx("span",{className:"font-semibold text-red-600 dark:text-red-400",children:C.most_bearish_day.down_count})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tỷ lệ:"}),b.jsxs("span",{className:"font-semibold text-red-600 dark:text-red-400",children:[(100*C.most_bearish_day.ratio).toFixed(1),"%"]})]})]})]}),b.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-3",children:[b.jsx("h5",{className:"text-xs font-medium text-purple-700 dark:text-purple-300 mb-2",children:"So sánh hiện tại"}),b.jsxs("div",{className:"space-y-2 text-xs",children:[b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tăng vs TB:"}),b.jsxs("span",{className:"font-semibold "+(x>C.averages.up_count?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:[x>C.averages.up_count?"+":"",(x-C.averages.up_count).toFixed(0)]})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Giảm vs TB:"}),b.jsxs("span",{className:"font-semibold "+(w<C.averages.down_count?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:[w<C.averages.down_count?"-":"+",(w-C.averages.down_count).toFixed(0)]})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tỷ lệ vs TB:"}),b.jsxs("span",{className:"font-semibold "+(N>C.averages.ratio?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:[N>C.averages.ratio?"+":"",(100*(N-C.averages.ratio)).toFixed(1),"%"]})]})]})]}),b.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 rounded-lg p-3",children:[b.jsx("h5",{className:"text-xs font-medium text-indigo-700 dark:text-indigo-300 mb-2",children:"Phân vị thị trường"}),b.jsxs("div",{className:"space-y-2 text-xs",children:[b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tỷ lệ hiện tại:"}),b.jsxs("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:[(100*N).toFixed(1),"%"]})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"So với lịch sử:"}),b.jsx("span",{className:"font-semibold "+(N>.6?"text-green-600 dark:text-green-400":N<.4?"text-red-600 dark:text-red-400":"text-yellow-600 dark:text-yellow-400"),children:N>.6?"Cao":N<.4?"Thấp":"Trung bình"})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Khoảng:"}),b.jsxs("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:[(100*C.extremes.min_ratio).toFixed(1),"% - ",(100*C.extremes.max_ratio).toFixed(1),"%"]})]})]})]})]})]})})]})]})},Yae=({title:e,icon:t,children:n,gradientColors:r,className:i=""})=>{const a=(null==r?void 0:r.from)||"from-gray-50",s=(null==r?void 0:r.to)||"to-gray-100",o=(null==r?void 0:r.darkFrom)||"dark:from-gray-800/50",l=(null==r?void 0:r.darkTo)||"dark:to-gray-900/50";return b.jsxs("div",{className:`p-4 h-full rounded-lg bg-gradient-to-r ${a} ${s} ${o} ${l} ${i}`,children:[e&&b.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t,b.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:e})]}),b.jsx("div",{className:"space-y-2",children:n})]})},Xae=({tabName:e,activeTab:t,setActiveTab:n,children:r})=>b.jsx("button",{onClick:()=>n(e),className:"cursor-pointer px-3 py-2 font-medium text-sm transition-colors focus:outline-none "+(t===e?"border-b-2 border-blue-600 text-blue-600 dark:text-blue-500":"border-b-2 border-transparent text-gray-500 hover:text-gray-800 dark:hover:text-gray-200"),children:r}),Qae=({label:e,value:t,children:n,className:r=""})=>b.jsxs("div",{className:`flex items-start justify-between text-sm ${r}`,children:[b.jsxs("span",{className:"font-semibold text-gray-500 dark:text-gray-400 whitespace-nowrap mr-2",children:[e,":"]}),t&&b.jsx("span",{className:"text-gray-800 dark:text-gray-200 text-right",children:t}),n&&b.jsx("div",{className:"font-semibold text-right",children:n})]}),Zae=({strength:e,value:t,direction:n})=>b.jsxs("div",{className:"flex items-center gap-2",children:[(e=>{switch(null==e?void 0:e.toLowerCase()){case"tích cực":return b.jsx(Re,{className:"h-3 w-3 text-green-600"});case"tiêu cực":return b.jsx(Te,{className:"h-3 w-3 text-red-600"});default:return b.jsx(X,{className:"h-3 w-3 text-gray-600"})}})(n),b.jsx("span",{className:`text-xs font-medium ${(e=>{switch(null==e?void 0:e.toLowerCase()){case"rất mạnh":return"text-red-600 dark:text-red-400";case"mạnh":return"text-orange-600 dark:text-orange-400";case"vừa phải":return"text-yellow-600 dark:text-yellow-400";case"yếu":return"text-blue-600 dark:text-blue-400";default:return"text-gray-600 dark:text-gray-400"}})(e)}`,children:e}),null!=t&&b.jsxs("span",{className:"text-xs text-gray-500",children:["(",t.toFixed(2),")"]})]}),Jae=()=>{var e,t,n,r,i,a,s,o,l,c,u,d,h,f,m,g,p,v,y,x,w,_,j,N,S,C,P,E,M,O,A,T,R,D,I,L,z,F,B,V,W,$,H,K,U,G,q,Y,Q,Z,J,ee,te,ne,re,ae,se,oe,le,ce,ue,he;const[me,ge]=k.useState(!1),[pe,ve]=k.useState(["VN30","VN100","VNALL","VNMID","VNSML"]),[ye,xe]=k.useState("line"),[be,_e]=k.useState(new Set),[je,Ne]=k.useState("summary"),[ke,Se]=k.useState(""),{data:Ce,loading:Pe,error:Me,lastUpdated:Oe,refresh:De}=Df("analyze_groups_mfi",null,[],{refreshInterval:3e5}),{vietnamese_insights:Ie}=Ce||{};k.useEffect(()=>{const e=()=>{var e;if(!(null==(e=null==Ie?void 0:Ie.metadata)?void 0:e.analysis_timestamp))return;const t=new Date(Ie.metadata.analysis_timestamp),n=new Date,r=Math.round((n-t)/1e3),i=Math.round(r/60),a=Math.round(i/60);Se(r<60?"vài giây trước":i<60?`${i} phút trước`:a<24?`${a} giờ trước`:t.toLocaleDateString("vi-VN"))};e();const t=setInterval(e,6e4);return()=>clearInterval(t)},[null==(e=null==Ie?void 0:Ie.metadata)?void 0:e.analysis_timestamp]);const Le=(()=>{if(!Ce||!Ce.indices)return[];const e=new Set;return Ce.indices.forEach(t=>{t.mfi_data.forEach(t=>{null!==t.mfi&&e.add(t.date)})}),Array.from(e).sort().map(e=>{const t={date:e};return Ce.indices.forEach(n=>{const r=n.mfi_data.find(t=>t.date===e);r&&null!==r.mfi&&(t[n.symbol]=r.mfi)}),t}).slice(-200)})(),ze=({active:e,payload:t,label:n})=>e&&t&&t.length?b.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg",children:[b.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:new Date(n).toLocaleDateString("vi-VN")}),b.jsx("div",{className:"space-y-1",children:t.map((e,t)=>{var n;return b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:e.color}}),b.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.name,": ",null==(n=e.value)?void 0:n.toFixed(2)]})]},t)})})]}):null,Fe=({payload:e})=>b.jsx("div",{className:"flex flex-wrap justify-center gap-4 mt-4",children:e.map((e,t)=>{const n=be.has(e.value);return b.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>(e=>{_e(t=>{const n=new Set(t);return n.has(e.value)?n.delete(e.value):n.add(e.value),n})})(e),children:[b.jsx("div",{className:"w-4 h-4 rounded "+(n?"opacity-40":""),style:{backgroundColor:e.color}}),b.jsx("span",{className:"text-sm "+(n?"text-gray-400 line-through":"text-gray-700 dark:text-gray-300"),children:e.value})]},t)})}),Be=(()=>{if(!Ce||!Ce.indices)return{};const e={};return Ce.indices.forEach(t=>{const n=t.mfi_data.filter(e=>null!==e.mfi);if(0===n.length)return;const r=n[n.length-1],i=n[n.length-2];if(!r||!i)return;const a=n.map(e=>e.mfi).filter(e=>null!==e),s=a.reduce((e,t)=>e+t,0)/a.length;e[t.symbol]={name:t.name,current:r.mfi,change:r.mfi-i.mfi,trend:r.mfi>i.mfi?"up":"down",signal:r.signal,avgMFI:s,minMFI:Math.min(...a),maxMFI:Math.max(...a),overboughtDays:n.filter(e=>e.mfi>80).length,oversoldDays:n.filter(e=>e.mfi<20).length,totalDays:n.length}}),e})(),We=(()=>{if(!Be||0===Object.keys(Be).length)return"neutral";const e=Object.values(Be).map(e=>e.current),t=e.reduce((e,t)=>e+t,0)/e.length;return t>70?"overbought":t<30?"oversold":t>60?"bullish":t<40?"bearish":"neutral"})(),$e=e=>{switch(e){case"buy":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300";case"sell":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}};return Pe?b.jsx(Ke,{children:b.jsxs("div",{className:"flex items-center justify-center p-8",children:[b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),b.jsx("span",{className:"ml-2 text-gray-600",children:"Đang tải dữ liệu MFI..."})]})}):Me?b.jsx(Ke,{children:b.jsxs("div",{className:"text-center text-red-600 p-8",children:[b.jsx(de,{className:"h-8 w-8 mx-auto mb-2"}),b.jsxs("p",{children:["Lỗi khi tải dữ liệu MFI: ",Me]}),b.jsx("button",{onClick:De,className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Thử lại"})]})}):Ce&&Ce.indices&&0!==Le.length?b.jsxs(Ke,{children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Phân tích Money Flow Index (MFI)"}),b.jsx("button",{onClick:()=>ge(!me),className:"cursor-pointer text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:b.jsx(fe,{className:"h-4 w-4"})})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{onClick:()=>xe("line"===ye?"area":"line"),className:"cursor-pointer p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",title:"line"===ye?"Chuyển sang biểu đồ vùng":"Chuyển sang biểu đồ đường",children:b.jsx(ie,{className:"h-4 w-4"})}),be.size>0&&b.jsxs("span",{className:"text-xs text-gray-500",children:[be.size," đường bị ẩn"]}),b.jsx("button",{onClick:()=>_e(new Set),className:"cursor-pointer px-3 py-1 text-xs bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300 rounded hover:bg-blue-200 dark:hover:bg-blue-900/30 transition-colors",title:"Hiển thị tất cả đường",children:"Hiển thị tất cả"})]})]}),me&&b.jsxs("div",{className:"mb-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[b.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Giải thích Money Flow Index (MFI):"}),b.jsxs("ul",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[b.jsxs("li",{children:[b.jsx("strong",{children:"MFI là gì:"})," Chỉ số dòng tiền (Money Flow Index) kết hợp giá và khối lượng để xác định điều kiện quá mua/quá bán"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Thang đo:"})," Từ 0 đến 100, với 50 là mức trung bình"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Quá mua (Overbought):"})," MFI > 80 - có thể báo hiệu xu hướng giảm"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Quá bán (Oversold):"})," MFI < 20 - có thể báo hiệu xu hướng tăng"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Vùng trung tính:"})," 20-80 - thị trường cân bằng"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Ý nghĩa:"})," MFI cao với khối lượng lớn thường báo hiệu đỉnh, MFI thấp với khối lượng lớn thường báo hiệu đáy"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Ý nghĩa so sánh:"})," Việc so sánh các chỉ số vốn hóa giúp theo dõi sự dịch chuyển của dòng tiền trong thị trường"]})]}),b.jsxs("div",{className:"mt-4 pt-4 border-t border-blue-200 dark:border-blue-700",children:[b.jsx("h5",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Về VNAllShare Index:"}),b.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 mb-2",children:"VNAllShare là chỉ số vốn hóa bao gồm các mã cổ phiếu được niêm yết trên sàn HOSE, thỏa mãn 4 tiêu chí bắt buộc:"}),b.jsxs("ul",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1 ml-4",children:[b.jsxs("li",{children:[b.jsx("strong",{children:"Tư cách:"})," Cổ phiếu hoạt động bình thường, niêm yết tối thiểu 6 tháng (3 tháng cho top 5 vốn hóa)"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Free-float:"})," Tối thiểu 10% (5% cho top 10 vốn hóa)"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Thanh khoản:"})," ≥ 0.05%"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Tỷ trọng vốn hóa:"})," Giới hạn 10%"]})]})]})]}),Ie&&b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[b.jsxs(Yae,{title:"Tín hiệu Tổng thể",icon:b.jsx(Ve,{size:16,className:"text-yellow-500"}),children:[b.jsx(Qae,{label:"Hướng",value:null==(n=null==(t=Ie.signal_coordination)?void 0:t.overall_signal)?void 0:n.direction}),b.jsx(Qae,{label:"Cường độ",value:null==(i=null==(r=Ie.signal_coordination)?void 0:r.overall_signal)?void 0:i.strength}),b.jsx(Qae,{label:"Độ tin cậy",value:`${(100*(null==(s=null==(a=Ie.signal_coordination)?void 0:a.overall_signal)?void 0:s.confidence)).toFixed(0)}%`})]}),b.jsxs(Yae,{title:"Trạng thái Thị trường",icon:b.jsx(X,{size:16,className:"text-green-500"}),children:[b.jsx(Qae,{label:"Chế độ",value:null==(l=null==(o=Ie.market_analysis)?void 0:o.market_regime)?void 0:l.regime}),b.jsx(Qae,{label:"MFI TB",value:`${null==(d=null==(u=null==(c=Ie.market_analysis)?void 0:c.market_regime)?void 0:u.average_mfi)?void 0:d.toFixed(1)}`}),b.jsx(Qae,{label:"Spread",value:`${null==(f=null==(h=Ie.current_state)?void 0:h.mfi_spread_VNSML_vs_VN30)?void 0:f.toFixed(1)}`})]}),b.jsxs(Yae,{title:"Rủi ro & Khuyến nghị",icon:b.jsx(de,{size:16,className:"text-red-500"}),children:[b.jsx(Qae,{label:"Mức rủi ro",value:null==(g=null==(m=Ie.market_analysis)?void 0:m.risk_assessment)?void 0:g.risk_level}),b.jsx(Qae,{label:"Hành động",value:null==(v=null==(p=Ie.market_analysis)?void 0:p.trading_recommendation)?void 0:v.action}),b.jsx(Qae,{label:"Độ tin cậy",value:`${(100*(null==(x=null==(y=Ie.market_analysis)?void 0:y.trading_recommendation)?void 0:x.confidence)).toFixed(0)}%`})]}),b.jsxs(Yae,{title:"Triển vọng",icon:b.jsx(we,{size:16,className:"text-purple-500"}),children:[b.jsx(Qae,{label:"Ngắn hạn",value:null==(j=null==(_=null==(w=Ie.market_analysis)?void 0:w.market_outlook)?void 0:_.short_term)?void 0:j.outlook}),b.jsx(Qae,{label:"Trung hạn",value:null==(C=null==(S=null==(N=Ie.market_analysis)?void 0:N.market_outlook)?void 0:S.medium_term)?void 0:C.outlook})]})]}),b.jsx("div",{className:"mb-4 p-3 rounded-lg bg-gray-50 dark:bg-gray-800/50",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Tâm lý thị trường:"}),b.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium "+("bullish"===We?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300":"bearish"===We?"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300":"overbought"===We?"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-300":"oversold"===We?"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"),children:"bullish"===We?"Tích cực":"bearish"===We?"Tiêu cực":"overbought"===We?"Quá mua":"oversold"===We?"Quá bán":"Trung tính"})]}),b.jsxs("span",{className:"text-sm text-gray-500",children:[Le.length," điểm dữ liệu gần nhất"]})]})}),Ce.market_overview&&b.jsxs("div",{className:"my-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg",children:[b.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-3 flex items-center gap-2",children:[b.jsx(X,{className:"h-4 w-4"}),"Tổng quan thị trường"]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"text-2xl font-bold text-blue-600",children:Ce.market_overview.money_flow_distribution.overbought_indices}),b.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Chỉ số quá mua"})]}),b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"text-2xl font-bold text-green-600",children:Ce.market_overview.money_flow_distribution.oversold_indices}),b.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Chỉ số quá bán"})]}),b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"text-2xl font-bold text-gray-600",children:Ce.market_overview.money_flow_distribution.neutral_indices}),b.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Chỉ số trung tính"})]}),b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"text-2xl font-bold text-purple-600",children:Ce.market_overview.overall_sentiment}),b.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tâm lý tổng thể"})]})]})]}),b.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-4 mb-4",children:[b.jsx(oF,{width:"100%",height:400,children:"line"===ye?b.jsxs(SG,{data:Le,margin:{top:20,right:30,left:20,bottom:5},children:[b.jsx(bH,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),b.jsx(mU,{dataKey:"date",stroke:"#6b7280",fontSize:12,tickLine:!1,tickFormatter:e=>new Date(e).toLocaleDateString("vi-VN",{month:"short",day:"numeric"})}),b.jsx(_U,{stroke:"#6b7280",fontSize:12,tickLine:!1,axisLine:!1,domain:[0,100]}),b.jsx(Hz,{content:b.jsx(ze,{})}),b.jsx(O$,{y:80,stroke:"#ef4444",strokeDasharray:"5 5",strokeWidth:1,label:"Quá mua (80)"}),b.jsx(O$,{y:20,stroke:"#10b981",strokeDasharray:"5 5",strokeWidth:1,label:"Quá bán (20)"}),pe.map((e,t)=>{const n=["#3b82f6","#f97316","#eab308","#10b981","#8b5cf6"];return be.has(e)?null:b.jsx(GH,{type:"monotone",dataKey:e,stroke:n[t%n.length],strokeWidth:2,dot:!1,activeDot:{r:4}},e)})]}):b.jsxs(zG,{data:Le,margin:{top:20,right:30,left:20,bottom:5},children:[b.jsx(bH,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),b.jsx(mU,{dataKey:"date",stroke:"#6b7280",fontSize:12,tickLine:!1,tickFormatter:e=>new Date(e).toLocaleDateString("vi-VN",{month:"short",day:"numeric"})}),b.jsx(_U,{stroke:"#6b7280",fontSize:12,tickLine:!1,axisLine:!1,domain:[0,100]}),b.jsx(Hz,{content:b.jsx(ze,{})}),b.jsx(O$,{y:80,stroke:"#ef4444",strokeDasharray:"5 5",strokeWidth:1,label:"Quá mua (80)"}),b.jsx(O$,{y:20,stroke:"#10b981",strokeDasharray:"5 5",strokeWidth:1,label:"Quá bán (20)"}),pe.map((e,t)=>{const n=["#3b82f6","#f97316","#eab308","#10b981","#8b5cf6"];return be.has(e)?null:b.jsx(wK,{type:"monotone",dataKey:e,stroke:n[t%n.length],fill:n[t%n.length],fillOpacity:.3,strokeWidth:2},e)})]})}),b.jsx(Fe,{payload:pe.map((e,t)=>({value:e,color:["#3b82f6","#f97316","#eab308","#10b981","#8b5cf6"][t%5]}))})]}),Object.keys(Be).length>0&&b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4 mb-6",children:Object.entries(Be).map(([e,t])=>b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 text-sm",children:t.name}),"up"===t.trend?b.jsx(Re,{className:"h-4 w-4 text-green-600"}):b.jsx(Te,{className:"h-4 w-4 text-red-600"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"MFI hiện tại:"}),b.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:t.current.toFixed(2)})]}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Thay đổi:"}),b.jsxs("span",{className:"text-sm font-medium "+(t.change>0?"text-green-600":"text-red-600"),children:[t.change>0?"+":"",t.change.toFixed(2)]})]}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Tín hiệu:"}),b.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${$e(t.signal)}`,children:"buy"===t.signal?"Mua":"sell"===t.signal?"Bán":"Trung tính"})]})]})]},e))}),Ie&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 mb-4",children:b.jsxs("nav",{className:"flex space-x-2","aria-label":"Tabs",children:[b.jsx(Xae,{tabName:"summary",activeTab:je,setActiveTab:Ne,children:"Tổng quan"}),b.jsx(Xae,{tabName:"signals",activeTab:je,setActiveTab:Ne,children:"Tín hiệu Chi tiết"}),b.jsx(Xae,{tabName:"strategy",activeTab:je,setActiveTab:Ne,children:"Chiến lược & Rủi ro"})]})}),b.jsxs("div",{className:"mt-4",children:["summary"===je&&b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[b.jsx(Yae,{title:"Thông tin Chính",icon:b.jsx(we,{className:"h-5 w-5 text-teal-600"}),gradientColors:{from:"from-teal-50",to:"to-cyan-50"},children:null==(E=null==(P=Ie.market_analysis)?void 0:P.key_insights)?void 0:E.map((e,t)=>b.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-700 dark:text-gray-300",children:[b.jsx("span",{className:"mt-1",children:"💡"}),b.jsx("span",{children:e})]},t))}),b.jsxs(Yae,{title:"Trạng thái Hiện tại",icon:b.jsx(Ee,{className:"h-5 w-5 text-blue-600"}),gradientColors:{from:"from-blue-50",to:"to-indigo-50"},children:[b.jsx(Qae,{label:"Chế độ thị trường",value:null==(O=null==(M=Ie.market_analysis)?void 0:M.market_regime)?void 0:O.regime}),b.jsx(Qae,{label:"MFI trung bình",value:`${null==(R=null==(T=null==(A=Ie.market_analysis)?void 0:A.market_regime)?void 0:T.average_mfi)?void 0:R.toFixed(1)}`}),b.jsx(Qae,{label:"Spread VNSML-VN30",value:`${null==(I=null==(D=Ie.current_state)?void 0:D.mfi_spread_VNSML_vs_VN30)?void 0:I.toFixed(1)}`}),b.jsx("p",{className:"text-xs text-gray-500 pt-2",children:null==(z=null==(L=Ie.market_analysis)?void 0:L.market_regime)?void 0:z.description})]}),b.jsxs(Yae,{title:"Tín hiệu Tổng hợp",icon:b.jsx(Re,{className:"h-5 w-5 text-pink-600"}),gradientColors:{from:"from-pink-50",to:"to-rose-50"},children:[b.jsx(Qae,{label:"Hướng",value:null==(B=null==(F=Ie.signal_coordination)?void 0:F.overall_signal)?void 0:B.direction}),b.jsx(Qae,{label:"Cường độ",value:null==(W=null==(V=Ie.signal_coordination)?void 0:V.overall_signal)?void 0:W.strength}),b.jsx(Qae,{label:"Độ tin cậy",value:`${(100*(null==(H=null==($=Ie.signal_coordination)?void 0:$.overall_signal)?void 0:H.confidence)).toFixed(0)}%`}),b.jsx(Qae,{label:"Điểm đồng thuận",value:`${(100*(null==(U=null==(K=Ie.signal_coordination)?void 0:K.overall_signal)?void 0:U.consensus_score)).toFixed(0)}%`})]})]}),"signals"===je&&b.jsxs("div",{className:"space-y-6",children:[b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:null==(q=null==(G=Ie.signal_coordination)?void 0:G.component_signals)?void 0:q.map((e,t)=>b.jsxs(Yae,{title:e.name,icon:b.jsx(ie,{className:"h-5 w-5 text-blue-600"}),children:[b.jsx(Zae,{strength:e.strength,value:e.value,direction:e.direction}),b.jsx(Qae,{label:"Trọng số",value:`${(100*e.weight).toFixed(0)}%`}),b.jsx("p",{className:"text-xs text-gray-500 pt-2",children:e.description})]},t))}),(null==(Q=null==(Y=Ie.signal_coordination)?void 0:Y.conflicts_detected)?void 0:Q.length)>0&&b.jsx(Yae,{title:"Xung đột Tín hiệu",icon:b.jsx(de,{className:"h-5 w-5 text-orange-500"}),gradientColors:{from:"from-orange-50",to:"to-red-50"},children:Ie.signal_coordination.conflicts_detected.map((e,t)=>b.jsxs("div",{className:"text-sm text-orange-700 dark:text-orange-300 bg-orange-50 dark:bg-orange-900/20 p-2 rounded",children:["⚠️ ",e]},t))})]}),"strategy"===je&&b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs(Yae,{title:"Phân tích Rủi ro",icon:b.jsx(de,{className:"h-5 w-5 text-red-600"}),gradientColors:{from:"from-red-50",to:"to-pink-50"},children:[b.jsx(Qae,{label:"Rủi ro tổng thể",value:null==(J=null==(Z=Ie.market_analysis)?void 0:Z.risk_assessment)?void 0:J.risk_level}),b.jsx(Qae,{label:"Điểm đồng thuận",value:`${(100*(null==(te=null==(ee=Ie.market_analysis)?void 0:ee.risk_assessment)?void 0:te.consensus_score)).toFixed(0)}%`}),b.jsx("div",{className:"pt-2 space-y-2",children:null==(ae=null==(re=null==(ne=Ie.market_analysis)?void 0:ne.risk_assessment)?void 0:re.risk_factors)?void 0:ae.map((e,t)=>b.jsxs("div",{className:"text-sm text-red-700 dark:text-red-300 bg-red-50 dark:bg-red-900/20 p-2 rounded",children:["⚠️ ",e]},t))})]}),b.jsxs(Yae,{title:"Chiến lược Giao dịch",icon:b.jsx(Ae,{className:"h-5 w-5 text-purple-600"}),gradientColors:{from:"from-purple-50",to:"to-violet-50"},children:[b.jsx(Qae,{label:"Hành động",value:null==(oe=null==(se=Ie.market_analysis)?void 0:se.trading_recommendation)?void 0:oe.action}),b.jsx(Qae,{label:"Độ tin cậy",value:`${(100*(null==(ce=null==(le=Ie.market_analysis)?void 0:le.trading_recommendation)?void 0:ce.confidence)).toFixed(0)}%`}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 pt-2",children:null==(he=null==(ue=Ie.market_analysis)?void 0:ue.trading_recommendation)?void 0:he.reasoning})]})]})]})]})]}):b.jsx(Ke,{children:b.jsx("div",{className:"text-center text-gray-500 p-8",children:"Không có dữ liệu MFI để hiển thị"})})},ese=({title:e,icon:t,children:n,gradientColors:r,className:i=""})=>{const a=(null==r?void 0:r.from)||"from-gray-50",s=(null==r?void 0:r.to)||"to-gray-100",o=(null==r?void 0:r.darkFrom)||"dark:from-gray-800/50",l=(null==r?void 0:r.darkTo)||"dark:to-gray-900/50";return b.jsxs("div",{className:`p-4 h-full rounded-lg bg-gradient-to-r ${a} ${s} ${o} ${l} ${i}`,children:[e&&b.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t,b.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:e})]}),b.jsx("div",{className:"space-y-2",children:n})]})},tse=({tabName:e,activeTab:t,setActiveTab:n,children:r})=>b.jsx("button",{onClick:()=>n(e),className:"cursor-pointer px-3 py-2 font-medium text-sm transition-colors focus:outline-none "+(t===e?"border-b-2 border-blue-600 text-blue-600 dark:text-blue-500":"border-b-2 border-transparent text-gray-500 hover:text-gray-800 dark:hover:text-gray-200"),children:r}),nse=({label:e,value:t,children:n,className:r=""})=>b.jsxs("div",{className:`flex items-start justify-between text-sm ${r}`,children:[b.jsxs("span",{className:"font-semibold text-gray-500 dark:text-gray-400 whitespace-nowrap mr-2",children:[e,":"]}),t&&b.jsx("span",{className:"text-gray-800 dark:text-gray-200 text-right",children:t}),n&&b.jsx("div",{className:"font-semibold text-right",children:n})]}),rse=()=>{var e,t,n,r,i,a,s,o,l,c,u,d,h,f,m,g,p,v,y,x,w,_;const[j,N]=k.useState("overview"),[S,C]=k.useState(!1),[P,E]=k.useState(new Set),[M,O]=k.useState(""),[A,T]=k.useState("line"),[R,D]=k.useState("market"),[I,L]=k.useState(0),{data:z,loading:F}=Df("breadth_industries_summary",null,[],{refreshInterval:36e5}),{data:B,loading:V,error:W}=function(e="market"){return Df("breadth_data",e,[e],{refreshInterval:3e5})}(R),$=k.useMemo(()=>[{key:"EMA 5",color:"#3B82F6",dataKey:"ema_5"},{key:"EMA 10",color:"#10B981",dataKey:"ema_10"},{key:"EMA 20",color:"#F59E0B",dataKey:"ema_20"},{key:"EMA 50",color:"#EF4444",dataKey:"ema_50"},{key:"EMA 200",color:"#8B5CF6",dataKey:"ema_200"}],[]),{chartData:H,latestData:K}=k.useMemo(()=>{if(!(null==B?void 0:B.breadth_data))return{chartData:[],latestData:null};const e=Object.keys(B.breadth_data).sort((e,t)=>new Date(e)-new Date(t)),t=e[e.length-1],n=e.map(e=>{const t=B.breadth_data[e],n={date:new Date(e).getTime()};return $.forEach(e=>{var r;n[e.key]=null==(r=t[e.dataKey])?void 0:r.above_percentage}),n});return I>0&&$.forEach(e=>{const t=((e,t)=>{if(0===t||0===e.length)return e;const n=2/(t+1),r=[];r.push(e[0]);for(let i=1;i<e.length;i++){const t=e[i]*n+r[i-1]*(1-n);r.push(t)}return r})(n.map(t=>t[e.key]).filter(e=>null!=e),I);n.forEach((n,r)=>{r<t.length&&(n[e.key]=t[r])})}),{chartData:n,latestData:B.breadth_data[t]}},[B,$,I]),{summary:U,metadata:G,insights:q}=B||{};k.useEffect(()=>{const e=()=>{var e;const t=(null==(e=null==G?void 0:G.analysis_info)?void 0:e.generated_at)||(null==G?void 0:G.generated_at)||(null==B?void 0:B.generated_at);if(!t)return;const n=new Date(t),r=new Date,i=Math.round((r-n)/1e3),a=Math.round(i/60),s=Math.round(a/60);O(i<60?"vài giây trước":a<60?`${a} phút trước`:s<24?`${s} giờ trước`:n.toLocaleDateString("vi-VN"))};e();const t=setInterval(e,6e4);return()=>clearInterval(t)},[null==(e=null==G?void 0:G.analysis_info)?void 0:e.generated_at,null==G?void 0:G.generated_at,null==B?void 0:B.generated_at]);const Y=k.useMemo(()=>{const e=[{value:"market",label:"Thị trường chung"}];return(null==z?void 0:z.industries)&&Object.entries(z.industries).sort(([,e],[,t])=>e.name.localeCompare(t.name,"vi-VN")).forEach(([t,n])=>{e.push({value:t,label:`${n.name} (${n.symbol_count} mã)`})}),e},[z]);if(V||F)return b.jsxs("div",{className:"p-6 text-center",children:[b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),b.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Đang tải dữ liệu..."})]});if(W)return b.jsxs("div",{className:"p-6 text-center text-red-600 dark:text-red-400",children:["Lỗi: ",W]});if(!B||!K)return b.jsx("div",{className:"p-6 text-center text-gray-600 dark:text-gray-400",children:"Không có dữ liệu."});const Q=({active:e,payload:t,label:n})=>e&&(null==t?void 0:t.length)?b.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm p-3 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg",children:[b.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:new Date(n).toLocaleDateString("vi-VN")}),b.jsx("div",{className:"space-y-1",children:t.map(e=>{var t;return b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:e.color}}),b.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.name,": ",null==(t=e.value)?void 0:t.toFixed(1),"%"]})]},e.name)})})]}):null,Z=({payload:e})=>b.jsx("div",{className:"flex flex-wrap justify-center gap-x-4 gap-y-2 mt-4",children:e.map(e=>{const t=P.has(e.value);return b.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-80",onClick:()=>(e=>E(t=>{const n=new Set(t);return n.has(e.value)?n.delete(e.value):n.add(e.value),n}))(e),children:[b.jsx("div",{className:"w-4 h-4 rounded "+(t?"opacity-40":""),style:{backgroundColor:e.color}}),b.jsx("span",{className:"text-sm "+(t?"text-gray-400 line-through":"text-gray-700 dark:text-gray-300"),children:e.value})]},e.value)})});return b.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-lg p-4 sm:p-6",children:[b.jsxs("div",{className:"flex flex-wrap items-center justify-between mb-4 gap-2",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Phân tích Độ rộng Thị trường"}),b.jsx("button",{onClick:()=>C(!S),className:"cursor-pointer text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:b.jsx(fe,{className:"h-4 w-4"})})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Chọn dữ liệu:"}),b.jsx("select",{value:R,onChange:e=>D(e.target.value),className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white cursor-pointer",children:Y.map(e=>b.jsx("option",{value:e.value,children:e.label},e.value))})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Làm mượt:"}),b.jsxs("select",{value:I,onChange:e=>L(Number(e.target.value)),className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white cursor-pointer",children:[b.jsx("option",{value:0,children:"Không"}),b.jsx("option",{value:3,children:"3 ngày"}),b.jsx("option",{value:5,children:"5 ngày"}),b.jsx("option",{value:10,children:"10 ngày"}),b.jsx("option",{value:20,children:"20 ngày"})]})]}),b.jsx("button",{onClick:()=>T("line"===A?"area":"line"),className:"cursor-pointer p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",title:"line"===A?"Chuyển sang biểu đồ vùng":"Chuyển sang biểu đồ đường",children:b.jsx(ie,{className:"h-4 w-4"})}),P.size>0&&b.jsxs("span",{className:"text-xs text-gray-500",children:[P.size," đường bị ẩn"]}),b.jsx("button",{onClick:()=>E(new Set),className:"cursor-pointer px-3 py-1 text-xs bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300 rounded hover:bg-blue-200 dark:hover:bg-blue-900/30 transition-colors",title:"Hiển thị tất cả đường",children:"Hiển thị tất cả"})]})]}),S&&b.jsx(ese,{title:"Hướng dẫn",icon:b.jsx(fe,{className:"h-5 w-5 text-blue-600"}),gradientColors:{from:"from-blue-50",to:"to-indigo-50"},className:"mb-4",children:b.jsxs("div",{className:"space-y-3 text-sm text-gray-600 dark:text-gray-400",children:[b.jsx("p",{children:'Chỉ báo này đo lường "sức khỏe" bên trong của thị trường bằng cách xem xét tỷ lệ cổ phiếu có xu hướng tăng so với giảm, cung cấp các tín hiệu sớm về sự thay đổi của VN-Index.'}),b.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg",children:[b.jsx("h5",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"💡 Làm mượt dữ liệu (Smoothing)"}),b.jsxs("ul",{className:"space-y-1 text-blue-700 dark:text-blue-300",children:[b.jsxs("li",{children:["• ",b.jsx("strong",{children:"Không:"})," Hiển thị dữ liệu gốc hàng ngày"]}),b.jsxs("li",{children:["• ",b.jsx("strong",{children:"3-5 ngày:"})," Giảm nhiễu ngắn hạn, phù hợp cho giao dịch"]}),b.jsxs("li",{children:["• ",b.jsx("strong",{children:"10-20 ngày:"})," Làm mượt hơn, phù hợp cho phân tích xu hướng"]}),b.jsxs("li",{children:["• ",b.jsx("strong",{children:"Lưu ý:"})," Làm mượt có thể làm chậm tín hiệu nhưng giảm tín hiệu giả"]})]})]})]})}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[b.jsxs(ese,{title:"Tín hiệu tổng thể",icon:b.jsx(Ve,{size:16,className:"text-yellow-500"}),children:[b.jsx(nse,{label:"Hướng",value:(null==(n=null==(t=null==q?void 0:q.signal_coordination)?void 0:t.overall_signal)?void 0:n.direction)||"N/A"}),b.jsx(nse,{label:"Cường độ",value:(null==(i=null==(r=null==q?void 0:q.signal_coordination)?void 0:r.overall_signal)?void 0:i.strength)||"N/A"})]}),b.jsxs(ese,{title:"Chỉ số chính",icon:b.jsx(X,{size:16,className:"text-green-500"}),children:[b.jsx(nse,{label:"EMA 20",value:(null==(s=null==(a=null==q?void 0:q.current_state)?void 0:a.percentages)?void 0:s.ema_20)?`${q.current_state.percentages.ema_20.toFixed(1)}%`:(null==(o=null==K?void 0:K.ema_20)?void 0:o.above_percentage)?`${K.ema_20.above_percentage.toFixed(1)}%`:"N/A"}),b.jsx(nse,{label:"Tham gia",value:(null==(c=null==(l=null==q?void 0:q.current_state)?void 0:l.participation)?void 0:c.participation_percentage)?`${q.current_state.participation.participation_percentage.toFixed(1)}%`:(null==(u=null==K?void 0:K.summary)?void 0:u.data_coverage)?`${K.summary.data_coverage.toFixed(1)}%`:"N/A"})]}),b.jsxs(ese,{title:"Khuyến nghị",icon:b.jsx(de,{size:16,className:"text-red-500"}),children:[b.jsx(nse,{label:"Hành động",value:(null==(h=null==(d=null==q?void 0:q.market_analysis)?void 0:d.trading_recommendation)?void 0:h.action)||"N/A"}),b.jsx(nse,{label:"Rủi ro",value:(null==(m=null==(f=null==q?void 0:q.market_analysis)?void 0:f.risk_assessment)?void 0:m.risk_level)||"N/A"})]}),b.jsxs(ese,{title:"Triển vọng",icon:b.jsx(we,{size:16,className:"text-purple-500"}),children:[b.jsx(nse,{label:"Ngắn hạn",value:(null==(v=null==(p=null==(g=null==q?void 0:q.market_analysis)?void 0:g.market_outlook)?void 0:p.short_term)?void 0:v.outlook)||"N/A"}),b.jsx(nse,{label:"Trung hạn",value:(null==(w=null==(x=null==(y=null==q?void 0:q.market_analysis)?void 0:y.market_outlook)?void 0:x.medium_term)?void 0:w.outlook)||"N/A"})]})]}),b.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-4 mb-6",children:[b.jsx(oF,{width:"100%",height:400,children:"line"===A?b.jsxs(SG,{data:H,margin:{top:5,right:5,left:-20,bottom:5},children:[b.jsx(bH,{strokeDasharray:"3 3",stroke:"rgba(156, 163, 175, 0.3)"}),b.jsx(mU,{dataKey:"date",stroke:"#6b7280",fontSize:12,tickLine:!1,tickFormatter:e=>new Date(e).toLocaleDateString("vi-VN",{month:"short",day:"numeric"})}),b.jsx(_U,{stroke:"#6b7280",fontSize:12,tickLine:!1,axisLine:!1,domain:[0,100],tickFormatter:e=>`${e}%`}),b.jsx(Hz,{content:b.jsx(Q,{})}),b.jsx(O$,{y:50,stroke:"#9CA3AF",strokeDasharray:"4 4",strokeWidth:1}),$.map(e=>!P.has(e.key)&&b.jsx(GH,{type:"monotone",dataKey:e.key,stroke:e.color,strokeWidth:2,dot:!1,activeDot:{r:4}},e.key))]}):b.jsxs(zG,{data:H,margin:{top:5,right:5,left:-20,bottom:5},children:[b.jsx(bH,{strokeDasharray:"3 3",stroke:"rgba(156, 163, 175, 0.3)"}),b.jsx(mU,{dataKey:"date",stroke:"#6b7280",fontSize:12,tickLine:!1,tickFormatter:e=>new Date(e).toLocaleDateString("vi-VN",{month:"short",day:"numeric"})}),b.jsx(_U,{stroke:"#6b7280",fontSize:12,tickLine:!1,axisLine:!1,domain:[0,100],tickFormatter:e=>`${e}%`}),b.jsx(Hz,{content:b.jsx(Q,{})}),b.jsx(O$,{y:50,stroke:"#9CA3AF",strokeDasharray:"4 4",strokeWidth:1}),$.map(e=>!P.has(e.key)&&b.jsx(wK,{type:"monotone",dataKey:e.key,stroke:e.color,fill:e.color,fillOpacity:.3,strokeWidth:2},e.key))]})}),b.jsx(Z,{payload:$.map(e=>({value:e.key,color:e.color}))})]}),b.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 mb-4",children:b.jsxs("nav",{className:"flex space-x-2","aria-label":"Tabs",children:[b.jsx(tse,{tabName:"overview",activeTab:j,setActiveTab:N,children:"Tổng quan"}),b.jsx(tse,{tabName:"details",activeTab:j,setActiveTab:N,children:"Tín hiệu Chi tiết"}),b.jsx(tse,{tabName:"risk",activeTab:j,setActiveTab:N,children:"Rủi ro & Khuyến nghị"})]})}),b.jsxs("div",{className:"mt-4",children:["overview"===j&&q&&b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[b.jsx(ese,{title:"Thông tin chính",icon:b.jsx(we,{className:"h-5 w-5 text-teal-600"}),children:b.jsxs("div",{className:"space-y-2 text-sm text-gray-700 dark:text-gray-300",children:[b.jsxs("div",{className:"flex items-start gap-2",children:[b.jsx("span",{className:"mt-1",children:"📊"}),b.jsxs("span",{children:[b.jsx("strong",{children:"Tín hiệu:"})," ",q.signal_coordination.overall_signal.direction," (",q.signal_coordination.overall_signal.strength,")"]})]}),b.jsxs("div",{className:"flex items-start gap-2",children:[b.jsx("span",{className:"mt-1",children:"🎯"}),b.jsxs("span",{children:[b.jsx("strong",{children:"Độ tin cậy:"})," ",(100*q.signal_coordination.overall_signal.confidence).toFixed(0),"%"]})]}),b.jsxs("div",{className:"flex items-start gap-2",children:[b.jsx("span",{className:"mt-1",children:"📅"}),b.jsxs("span",{children:[b.jsx("strong",{children:"Phân tích:"})," ",q.metadata.analysis_period]})]}),b.jsxs("div",{className:"flex items-start gap-2",children:[b.jsx("span",{className:"mt-1",children:"⏰"}),b.jsxs("span",{children:[b.jsx("strong",{children:"Cập nhật:"})," ",M||"Không xác định"]})]})]})}),b.jsxs(ese,{title:"Khuyến nghị giao dịch",icon:b.jsx(Ee,{className:"h-5 w-5 text-blue-600"}),children:[b.jsx(nse,{label:"Hành động",value:q.market_analysis.trading_recommendation.action}),b.jsx(nse,{label:"Cường độ",value:q.market_analysis.trading_recommendation.signal_strength}),b.jsx(nse,{label:"Độ tin cậy",value:`${(100*q.market_analysis.trading_recommendation.confidence).toFixed(0)}%`}),b.jsx("p",{className:"text-xs text-gray-500 pt-2",children:q.market_analysis.trading_recommendation.reasoning})]}),b.jsxs(ese,{title:"Thông tin chi tiết",icon:b.jsx(Re,{className:"h-5 w-5 text-pink-600"}),children:[b.jsx(nse,{label:"Trạng thái thị trường",value:q.market_analysis.market_regime.regime}),b.jsx(nse,{label:"EMA 200",value:`${q.market_analysis.market_regime.ema_200_percentage.toFixed(1)}%`}),b.jsx(nse,{label:"Tín hiệu hỗ trợ",value:q.market_analysis.market_regime.supporting_signals}),b.jsx("p",{className:"text-xs text-gray-500 pt-2",children:q.market_analysis.market_regime.description})]})]}),"details"===j&&q&&b.jsxs("div",{className:"space-y-6",children:[b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:q.signal_coordination.component_signals.map((e,t)=>b.jsxs(ese,{title:e.name,icon:b.jsx(ie,{className:"h-5 w-5 text-blue-600"}),children:[b.jsx(nse,{label:"Hướng",value:e.direction}),b.jsx(nse,{label:"Cường độ",value:e.strength}),b.jsx(nse,{label:"Giá trị",value:null!=e.value?e.value.toFixed(2):"N/A"}),b.jsx("p",{className:"text-xs text-gray-500 pt-2",children:e.description})]},t))}),(null==(_=q.signal_coordination.conflicts_detected)?void 0:_.length)>0&&b.jsx(ese,{title:"Xung đột tín hiệu",icon:b.jsx(de,{className:"h-5 w-5 text-orange-500"}),children:q.signal_coordination.conflicts_detected.map((e,t)=>b.jsxs("div",{className:"text-sm text-orange-700 dark:text-orange-300 bg-orange-50 dark:bg-orange-900/20 p-2 rounded mb-2",children:["⚠️ ",e]},t))})]}),"risk"===j&&q&&b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs(ese,{title:"Phân tích Rủi ro",icon:b.jsx(de,{className:"h-5 w-5 text-red-600"}),children:[b.jsx(nse,{label:"Mức rủi ro",value:q.market_analysis.risk_assessment.risk_level}),b.jsx(nse,{label:"Đồng thuận",value:`${(100*q.market_analysis.risk_assessment.consensus_score).toFixed(0)}%`}),b.jsx("div",{className:"pt-2 space-y-2",children:q.market_analysis.risk_assessment.risk_factors.map((e,t)=>b.jsx("div",{className:"text-sm text-red-700 dark:text-red-300 bg-red-50 dark:bg-red-900/20 p-2 rounded",children:e},t))}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 pt-2",children:q.market_analysis.risk_assessment.recommendation})]}),b.jsx(ese,{title:"Triển vọng Thị trường",icon:b.jsx(Ae,{className:"h-5 w-5 text-purple-600"}),children:b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsxs("h5",{className:"font-semibold text-sm mb-2",children:["Ngắn hạn (",q.market_analysis.market_outlook.short_term.timeframe,")"]}),b.jsx(nse,{label:"Triển vọng",value:q.market_analysis.market_outlook.short_term.outlook}),b.jsx(nse,{label:"Độ tin cậy",value:`${(100*q.market_analysis.market_outlook.short_term.confidence).toFixed(0)}%`})]}),b.jsxs("div",{children:[b.jsxs("h5",{className:"font-semibold text-sm mb-2",children:["Trung hạn (",q.market_analysis.market_outlook.medium_term.timeframe,")"]}),b.jsx(nse,{label:"Triển vọng",value:q.market_analysis.market_outlook.medium_term.outlook}),b.jsx(nse,{label:"Độ tin cậy",value:`${(100*q.market_analysis.market_outlook.medium_term.confidence).toFixed(0)}%`})]})]})})]})]})]})},ise=()=>{const{data:e,loading:t,error:n}=Df("abnormal_signals_intra"),{data:r,loading:i,error:a}=Df("top_deals"),{data:s,loading:o,error:l}=Df("top_by_value"),c=k.useMemo(()=>{var e;return(null==(e=null==r?void 0:r.data)?void 0:e.slice(0,10))||[]},[r]),u=k.useMemo(()=>{var e;return(null==(e=null==s?void 0:s.data)?void 0:e.slice(0,10))||[]},[s]),d=k.useMemo(()=>{if(!e||t)return{topSignals:[],summary:{},totalSignals:0};const n=e.abnormalities||[],r=e.summary||{};return{topSignals:n.sort((e,t)=>t.CompositeScore-e.CompositeScore).slice(0,10).map(e=>{var t,n,r,i,a,s;const o=Object.entries(e).filter(([e,t])=>["AbnormalPrice","AbnormalVolume","PriceVelocityAbnormal","EffortGTResult","ResultGTEffort","AbnormalERRatio"].includes(e)&&!0===t).map(([e])=>e);return{id:e.Symbol,name:e.Symbol,date:e.Date,value:e.CompositeScore,sentiment:(null==(t=e.Interpretation)?void 0:t.overall_sentiment)||"NEUTRAL",confidence:(null==(n=e.Interpretation)?void 0:n.confidence)||"MEDIUM",signalCount:(null==(r=e.Interpretation)?void 0:r.signal_count)||0,riskLevel:(null==(i=e.Interpretation)?void 0:i.risk_level)||"MEDIUM",activeSignals:o,tradingImplications:(null==(a=e.Interpretation)?void 0:a.trading_implications)||[],signalTypes:(null==(s=e.Interpretation)?void 0:s.signal_types)||[]}}),summary:r,totalSignals:n.length}},[e,t]);return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"text-center",children:[b.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-2",children:"Báo cáo Tổng quan Thị trường"}),b.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Phân tích toàn diện về giao dịch và tín hiệu bất thường"})]}),b.jsx("div",{className:"space-y-4",children:b.jsx(Ke,{className:"p-6",children:b.jsx(Gae,{})})}),b.jsx("div",{className:"space-y-4",children:b.jsx(Ke,{className:"p-6",children:b.jsx(qae,{turnover:"N/A",volume:"N/A"})})}),b.jsx("div",{className:"space-y-4",children:b.jsx(Ke,{className:"p-6",children:b.jsx(Jae,{})})}),b.jsx("div",{className:"space-y-4",children:b.jsx(Ke,{className:"p-6",children:b.jsx(rse,{})})}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[b.jsx(Kae,{title:"Giao dịch thỏa thuận nhiều nhất",icon:b.jsx(se,{className:"text-blue-500"}),data:c.map(e=>({id:e.symbol,name:e.symbol,value:e.accumulated_value/1e9,subValue:e.price_change_pct_1d})),unit:"Tỷ VNĐ",valueKey:"value",nameKey:"name",valueClass:()=>"text-blue-500",subValueKey:"subValue",subValueClass:e=>e>0?"text-green-500":"text-red-500",subValueUnit:"%",subValuePrefix:""}),b.jsx(Kae,{title:"Giá trị Giao dịch Cao nhất",icon:b.jsx(xe,{className:"text-green-500"}),data:u.map(e=>({id:e.symbol,name:e.symbol,value:e.accumulated_value/1e9,subValue:e.price_change_pct_1d})),unit:"Tỷ VNĐ",valueKey:"value",nameKey:"name",valueClass:()=>"text-green-500",subValueKey:"subValue",subValueClass:e=>e>0?"text-green-500":"text-red-500",subValueUnit:"%",subValuePrefix:""})]}),t?b.jsx(Ke,{children:b.jsx("div",{className:"flex items-center justify-center h-32",children:b.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Đang tải dữ liệu tín hiệu bất thường..."})})}):n?b.jsx(Ke,{children:b.jsx("div",{className:"flex items-center justify-center h-32",children:b.jsxs("div",{className:"text-red-500",children:["Lỗi tải dữ liệu: ",n]})})}):b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(De,{className:"text-orange-500"}),b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Tín hiệu Bất thường Nội ngày"})]}),b.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[d.totalSignals," tín hiệu"]})]}),b.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:d.topSignals.slice(0,12).map((e,t)=>{const n="BULLISH"===e.sentiment?"text-green-600 dark:text-green-400":"BEARISH"===e.sentiment?"text-red-600 dark:text-red-400":"text-yellow-600 dark:text-yellow-400";return b.jsxs(Ke,{className:"p-4",children:[b.jsxs("div",{className:"flex items-start justify-between mb-3",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:e.name}),b.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(e.date).toLocaleDateString("vi-VN")}),b.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Điểm: ",(100*e.value).toFixed(1),"%"]})]}),b.jsx("div",{className:"text-right",children:b.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/50 text-blue-800 dark:text-blue-200",children:[e.signalCount," tín hiệu"]})})]}),e.activeSignals.length>0&&b.jsxs("div",{className:"mb-3",children:[b.jsx("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Loại tín hiệu:"}),b.jsx("div",{className:"space-y-1",children:e.activeSignals.map((e,t)=>b.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[b.jsx("span",{className:"text-blue-500",children:"•"}),b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"AbnormalPrice"===e?"Giá bất thường":"AbnormalVolume"===e?"Khối lượng bất thường":"PriceVelocityAbnormal"===e?"Tốc độ giá bất thường":"EffortGTResult"===e?"Nỗ lực > Kết quả":"ResultGTEffort"===e?"Kết quả > Nỗ lực":"AbnormalERRatio"===e?"Tỷ lệ ER bất thường":e})]},t))})]}),e.tradingImplications.length>0&&b.jsxs("div",{className:"mb-3",children:[b.jsx("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Ý nghĩa giao dịch:"}),b.jsx("div",{className:"space-y-1",children:e.tradingImplications.slice(0,2).map((e,t)=>b.jsxs("div",{className:"flex items-start gap-2 text-xs",children:[b.jsx("span",{className:"text-green-500 flex-shrink-0",children:"•"}),b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:e})]},t))})]}),b.jsxs("div",{className:"space-y-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:[b.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[b.jsx("span",{className:n,children:"BULLISH"===e.sentiment?"📈":"BEARISH"===e.sentiment?"📉":"➡️"}),b.jsx("span",{className:n,children:"BULLISH"===e.sentiment?"Tích cực":"BEARISH"===e.sentiment?"Tiêu cực":"Trung tính"})]}),b.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[b.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"HIGH"===e.confidence?"🔴":"MEDIUM"===e.confidence?"🟡":"🟢"}),b.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"HIGH"===e.confidence?"Cao":"MEDIUM"===e.confidence?"Trung bình":"Thấp"})]}),b.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[b.jsx("span",{className:"text-orange-600 dark:text-orange-400",children:"HIGH"===e.riskLevel?"⚠️":"MEDIUM"===e.riskLevel?"⚡":"ℹ️"}),b.jsx("span",{className:"text-orange-600 dark:text-orange-400",children:"HIGH"===e.riskLevel?"Rủi ro cao":"MEDIUM"===e.riskLevel?"Rủi ro trung bình":"Rủi ro thấp"})]})]})]},t)})})]})]})},ase=[{keyWord:"Tăng trưởng kinh tế",name:"gdp",className:"wi-g_d_p",type:"vi_mo_tien_te"},{keyWord:"GDP bình quân",name:"gdpbinhquan",className:"wi-g_d_p_binh_quan",type:"vi_mo_tien_te"},{keyWord:"Thu nhập bình quân",name:"gdpbinhquan",className:"wi-g_d_p_binh_quan",type:"vi_mo_tien_te"},{keyWord:"GDP",name:"gdp",className:"wi-g_d_p",type:"vi_mo_tien_te"},{keyWord:"Chỉ số giá tiêu dùng",name:"cpi",className:"wi-c_p_i",type:"vi_mo_tien_te"},{keyWord:"CPI",name:"cpi",className:"wi-c_p_i",type:"vi_mo_tien_te"},{keyWord:"Lạm phát",name:"cpi",className:"wi-c_p_i",type:"vi_mo_tien_te"},{keyWord:"Tổng mức bán lẻ hàng hóa và dịch vụ",name:"hhdv",className:"wi-h_h_d_v",type:"vi_mo_tien_te"},{keyWord:"Doanh thu bán lẻ hàng hóa và dịch vụ",name:"hhdv",className:"wi-h_h_d_v",type:"vi_mo_tien_te"},{keyWord:"Bán lẻ hàng hóa và dịch vụ",name:"hhdv",className:"wi-h_h_d_v",type:"vi_mo_tien_te"},{keyWord:"Vốn đầu tư phát triển xã hội",name:"vdtptxh",className:"wi-v_d_t_ptxh",type:"vi_mo_tien_te"},{keyWord:"Vốn đầu tư từ NSNN",name:"vdtnsnn",className:"wi-v_d_t_nsnn",type:"vi_mo_tien_te"},{keyWord:"Vốn đầu tư từ ngân sách nhà nước",name:"vdtnsnn",className:"wi-v_d_t_nsnn",type:"vi_mo_tien_te"},{keyWord:"Vốn đầu tư công",name:"vdtnsnn",className:"wi-v_d_t_nsnn",type:"vi_mo_tien_te"},{keyWord:"Chỉ số sản xuất công nghiệp",name:"iip",className:"wi-i_i_p",type:"vi_mo_tien_te"},{keyWord:"IIP",name:"iip",className:"wi-i_i_p",type:"vi_mo_tien_te"},{keyWord:"PMI",name:"pmi",className:"wi-p_m_i",type:"vi_mo_tien_te"},{keyWord:"Purchasing Managers Index",name:"pmi",className:"wi-p_m_i",type:"vi_mo_tien_te"},{keyWord:"Chỉ số quản lý thu mua",name:"pmi",className:"wi-p_m_i",type:"vi_mo_tien_te"},{keyWord:"FDI",name:"fdi",className:"wi-f_d_i",type:"vi_mo_tien_te"},{keyWord:"Vốn đầu tư trực tiếp nước ngoài",name:"fdi",className:"wi-f_d_i",type:"vi_mo_tien_te"},{keyWord:"Cán cân thương mại",name:"cctm",className:"wi-c_c_t_m",type:"vi_mo_tien_te"},{keyWord:"Nhập khẩu",name:"cctm",className:"wi-c_c_t_m",type:"vi_mo_tien_te"},{keyWord:"Xuất khẩu",name:"cctm",className:"wi-c_c_t_m",type:"vi_mo_tien_te"},{keyWord:"Vận chuyển hàng hóa",name:"vt",className:"wi-v_t",type:"vi_mo_tien_te"},{keyWord:"Vận chuyển hành khách",name:"vt",className:"wi-v_t",type:"vi_mo_tien_te"},{keyWord:"Khách quốc tế",name:"kqt",className:"wi-k_q_t",type:"vi_mo_tien_te"},{keyWord:"M2",name:"ctt",className:"wi-c_t_t",type:"vi_mo_tien_te"},{keyWord:"Cung tiền tệ",name:"ctt",className:"wi-c_t_t",type:"vi_mo_tien_te"},{keyWord:"Tổng huy động vốn trong nền kinh tế",name:"hd",className:"wi-h_d",type:"vi_mo_tien_te"},{keyWord:"Tổng tiền gửi trong nền kinh tế",name:"hd",className:"wi-h_d",type:"vi_mo_tien_te"},{keyWord:"Tổng tín dụng trong nền kinh tế",name:"td",className:"wi-t_d",type:"vi_mo_tien_te"},{keyWord:"Tín phiếu kho bạc",name:"tpkb",className:"wi-t_p_k_b",type:"vi_mo_tien_te"},{keyWord:"SBV - Bills",name:"tpkb",className:"wi-t_p_k_b",type:"vi_mo_tien_te"},{keyWord:"Treasury bills",name:"tpkb",className:"wi-t_p_k_b",type:"vi_mo_tien_te"},{keyWord:"Bills",name:"tpkb",className:"wi-t_p_k_b",type:"vi_mo_tien_te"},{keyWord:"OMO",name:"nvttm",className:"wi-n_v_t_t_t",type:"vi_mo_tien_te"},{keyWord:"Nghiệp vụ thị trường mở",name:"nvttm",className:"wi-n_v_t_t_t",type:"vi_mo_tien_te"},{keyWord:"Open Market Operations",name:"nvttm",className:"wi-n_v_t_t_t",type:"vi_mo_tien_te"},{keyWord:"Lãi suất liên ngân hàng",name:"lslnh",className:"wi-l_s_l_n_h",type:"vi_mo_tien_te"},{keyWord:"Lãi suất chiết khấu",name:"lsdh",className:"wi-l_s_d_h",type:"vi_mo_tien_te"},{keyWord:"Lãi suất tái cấp vốn",name:"lsdh",className:"wi-l_s_d_h",type:"vi_mo_tien_te"},{keyWord:"LS qua đêm cho vay bù đắp thiếu hụt vốn",name:"lsdh",className:"wi-l_s_d_h",type:"vi_mo_tien_te"},{keyWord:"Lãi suất điều hành",name:"lsdh",className:"wi-l_s_d_h",type:"vi_mo_tien_te"},{keyWord:"Lãi suất chính sách",name:"lsdh",className:"wi-l_s_d_h",type:"vi_mo_tien_te"},{keyWord:"Lãi suất huy động",name:"lshd",className:"wi-l_s_h_d",type:"vi_mo_tien_te"},{keyWord:"Tỷ giá trung tâm",name:"dhtg",className:"wi-d_h_t_g",type:"vi_mo_tien_te"},{keyWord:"Tỷ giá trần",name:"dhtg",className:"wi-d_h_t_g",type:"vi_mo_tien_te"},{keyWord:"Tỷ giá sàn",name:"dhtg",className:"wi-d_h_t_g",type:"vi_mo_tien_te"},{keyWord:"Điều hành tỷ giá",name:"dhtg",className:"wi-d_h_t_g",type:"vi_mo_tien_te"},{keyWord:"Dự trữ ngoại hối nhà nước",name:"dtnh",className:"wi-d_t_n_h",type:"vi_mo_tien_te"},{keyWord:"Dự trữ ngoại hối",name:"dtnh",className:"wi-d_t_n_h",type:"vi_mo_tien_te"},{keyWord:"Cán cân thanh toán",name:"cctt",className:"wi-c_c_t_t",type:"vi_mo_tien_te"},{keyWord:"BOP",name:"cctt",className:"wi-c_c_t_t",type:"vi_mo_tien_te"},{keyWord:"Balance of Payment",name:"cctt",className:"wi-c_c_t_t",type:"vi_mo_tien_te"},{keyWord:"Thu ngân sách",name:"tcns",className:"wi-t_c_n_s",type:"vi_mo_tien_te"},{keyWord:"Bội chi ngân sách",name:"tcns",className:"wi-t_c_n_s",type:"vi_mo_tien_te"},{keyWord:"Chi ngân sách",name:"tcns",className:"wi-t_c_n_s",type:"vi_mo_tien_te"},{keyWord:"Ngân sách nhà nước",name:"tcns",className:"wi-t_c_n_s",type:"vi_mo_tien_te"},{keyWord:"Nợ chính phủ",name:"ncp",className:"wi-n_c_p",type:"vi_mo_tien_te"},{keyWord:"Nợ công",name:"ncp",className:"wi-n_c_p",type:"vi_mo_tien_te"},{keyWord:"Nợ quốc gia",name:"ncp",className:"wi-n_c_p",type:"vi_mo_tien_te"},{keyWord:"Dân số",name:"ds",className:"wi-d_s",type:"vi_mo_tien_te"},{keyWord:"Lực lượng lao động",name:"ld",className:"wi-l_d",type:"vi_mo_tien_te"},{keyWord:"Lao động",name:"ld",className:"wi-l_d",type:"vi_mo_tien_te"},{keyWord:"Thất nghiệp",name:"tn",className:"wi-t_n",type:"vi_mo_tien_te"},{keyWord:"Xi măng Trung Quốc",name:"xi_mang",className:"wi-x_m",type:"vi_mo_hang_hoa"},{keyWord:"Xi măng",name:"xi_mang_pcb",className:"wi-xi_mang_pcb",type:"vi_mo_hang_hoa"},{keyWord:"Giá vàng",name:"vang",className:"wi-vang",type:"vi_mo_hang_hoa"},{keyWord:"Giá điện",name:"dien",className:"wi-dien",type:"vi_mo_hang_hoa"},{keyWord:"Heo hơi",name:"heo_hoi",className:"wi-heo_hoi",type:"vi_mo_hang_hoa"},{keyWord:"Xăng dầu",name:"xang_dau",className:"wi-xang_dau",type:"vi_mo_hang_hoa"},{keyWord:"Cà phê",name:"ca_phe",className:"wi-ca_phe",type:"vi_mo_hang_hoa"},{keyWord:"Cá tra",name:"ca_tra",className:"wi-ca_tra",type:"vi_mo_hang_hoa"},{keyWord:"Giá tiêu",name:"tieu",className:"wi-tieu",type:"vi_mo_hang_hoa"},{keyWord:"Giá thép",name:"thep",className:"wi-thep",type:"vi_mo_hang_hoa"},{keyWord:"Phân Ure",name:"phan_ure",className:"wi-phan_ure",type:"vi_mo_hang_hoa"},{keyWord:"Phốt pho",name:"phot_pho",className:"wi-phot_pho",type:"vi_mo_hang_hoa"},{keyWord:"Lưu huỳnh",name:"luu_huynh",className:"wi-luu_huynh",type:"vi_mo_hang_hoa"},{keyWord:"Giá niken",name:"niken",className:"wi-niken",type:"vi_mo_hang_hoa"},{keyWord:"Giá đồng Việt Nam",name:"dong",className:"wi-dong",type:"vi_mo_hang_hoa"},{keyWord:"Giá đồng Trung Quốc",name:"dong",className:"wi-dong",type:"vi_mo_hang_hoa"},{keyWord:"Giá đồng thế giới",name:"dong",className:"wi-dong",type:"vi_mo_hang_hoa"},{keyWord:"Giá đồng tăng",name:"dong",className:"wi-dong",type:"vi_mo_hang_hoa"},{keyWord:"Giá đồng giảm",name:"dong",className:"wi-dong",type:"vi_mo_hang_hoa"},{keyWord:"Giá đồng vượt",name:"dong",className:"wi-dong",type:"vi_mo_hang_hoa"},{keyWord:"Giá đồng đạt",name:"dong",className:"wi-dong",type:"vi_mo_hang_hoa"},{keyWord:"Giá đồng cao",name:"dong",className:"wi-dong",type:"vi_mo_hang_hoa"},{keyWord:"Giá đồng thấp",name:"dong",className:"wi-dong",type:"vi_mo_hang_hoa"},{keyWord:"Giá đồng trên",name:"dong",className:"wi-dong",type:"vi_mo_hang_hoa"},{keyWord:"Giá đồng biến động",name:"dong",className:"wi-dong",type:"vi_mo_hang_hoa"},{keyWord:"Giá nhôm",name:"nhom",className:"wi-nhom",type:"vi_mo_hang_hoa"},{keyWord:"Giá kẽm",name:"kem",className:"wi-kem",type:"vi_mo_hang_hoa"},{keyWord:"Giá thiếc",name:"thiec",className:"wi-thiec",type:"vi_mo_hang_hoa"},{keyWord:"Giá chì",name:"chi",className:"wi-chi",type:"vi_mo_hang_hoa"},{keyWord:"Than cốc",name:"than_coc",className:"wi-than_coc",type:"vi_mo_hang_hoa"},{keyWord:"Quặng sắt",name:"quang_sat",className:"wi-quang_sat",type:"vi_mo_hang_hoa"},{keyWord:"Sợi coton",name:"soi_coton",className:"wi-soi_coton",type:"vi_mo_hang_hoa"},{keyWord:"Vải coton",name:"vai_coton",className:"wi-vai_coton",type:"vi_mo_hang_hoa"},{keyWord:"Bột giấy",name:"bot_giay",className:"wi-bot_giay",type:"vi_mo_hang_hoa"},{keyWord:"Lợn hơi Trung Quốc",name:"lon_hoi_trung_quoc",className:"wi-lon_hoi_trung_quoc",type:"vi_mo_hang_hoa"},{keyWord:"Dầu cọ",name:"dau_co_malaysia",className:"wi-dau_co_malaysia",type:"vi_mo_hang_hoa"},{keyWord:"Giấy gợn sóng",name:"giay_gon_song_trung_quoc",className:"wi-giay_gon_song_trung_quoc",type:"vi_mo_hang_hoa"},{keyWord:"Đậu nành Mỹ",name:"dau_nanh_my",className:"wi-dau_nanh_my",type:"vi_mo_hang_hoa"},{keyWord:"Nhựa đường",name:"nhua_duong_60_70",className:"wi-nhua_duong_60_70",type:"vi_mo_hang_hoa"},{keyWord:"Giá đường",name:"duong",className:"wi-duong",type:"vi_mo_hang_hoa"},{keyWord:"Vải cotton Mỹ",name:"vai_cotton_my",className:"wi-vai_cotton_my",type:"vi_mo_hang_hoa"},{keyWord:"Gạo TPXK",name:"gao_tpxk",className:"wi-gao_tpxk",type:"vi_mo_hang_hoa"},{keyWord:"Tôm sú",name:"tom_su",className:"wi-tom_su",type:"vi_mo_hang_hoa"},{keyWord:"Tôm thẻ",name:"tom_the",className:"wi-tom_the",type:"vi_mo_hang_hoa"},{keyWord:"Phụ phẩm lúa gạo",name:"phu_pham_lua_gao",className:"wi-phu_pham_lua_gao",type:"vi_mo_hang_hoa"},{keyWord:"Lúa",name:"lua",className:"wi-lua",type:"vi_mo_hang_hoa"},{keyWord:"Gạo nguyên liệu",name:"gao_nguyen_lieu",className:"wi-gao_nguyen_lieu",type:"vi_mo_hang_hoa"},{keyWord:"Giá bạc",name:"bac",className:"wi-bac",type:"vi_mo_hang_hoa"},{keyWord:"Ure Trung Đông",name:"ure_trung_dong",className:"wi-ure_trung_dong",type:"vi_mo_hang_hoa"},{keyWord:"Xút Trung Quốc",name:"xut_naoh_trung_quoc",className:"wi-xut_naoh_trung_quoc",type:"vi_mo_hang_hoa"},{keyWord:"Phân DAP Trung Quốc",name:"phan_dap_trung_quoc",className:"wi-phan_dap_trung_quoc",type:"vi_mo_hang_hoa"},{keyWord:"Phân Urea Trung Quốc",name:"phan_urea_trung_quoc",className:"wi-phan_urea_trung_quoc",type:"vi_mo_hang_hoa"},{keyWord:"Thép dây Trung Quốc",name:"thep_day_trung_quoc",className:"wi-thep_day_trung_quoc",type:"vi_mo_hang_hoa"},{keyWord:"Thép thanh Trung Quốc",name:"thep_thanh_trung_quoc",className:"wi-thep_thanh_trung_quoc",type:"vi_mo_hang_hoa"},{keyWord:"Thép phế Anh",name:"thep_phe_anh",className:"wi-thep_phe_anh",type:"vi_mo_hang_hoa"},{keyWord:"Thép thanh Anh",name:"thep_thanh_anh",className:"wi-thep_thanh_anh",type:"vi_mo_hang_hoa"},{keyWord:"HRC Trung Quốc",name:"hrc_trung_quoc",className:"wi-hrc_trung_quoc",type:"vi_mo_hang_hoa"},{keyWord:"Đá 0-4",name:"da_0_4",className:"wi-da_0_4",type:"vi_mo_hang_hoa"},{keyWord:"Đá mi sàng",name:"da_mi_sang",className:"wi-da_mi_sang",type:"vi_mo_hang_hoa"},{keyWord:"Đá 1x2",name:"da_1x2",className:"wi-da_1x2",type:"vi_mo_hang_hoa"},{keyWord:"Đá Hộc",name:"da_hoc",className:"wi-da_hoc",type:"vi_mo_hang_hoa"},{keyWord:"Tôn lạnh màu",name:"ton_lanh_mau_hoa_sen_045mm",className:"wi-ton_lanh_mau_hoa_sen_045mm",type:"vi_mo_hang_hoa"},{keyWord:"Tôn lạnh",name:"ton_lanh_hoa_sen_045mm",className:"wi-ton_lanh_hoa_sen_045mm",type:"vi_mo_hang_hoa"},{keyWord:"Bê tông nhựa mịn",name:"be_tong_nhua_min",className:"wi-be_tong_nhua_min",type:"vi_mo_hang_hoa"},{keyWord:"Ống nhựa 27 x 1.8mm",name:"ong_nhua_27x18mm",className:"wi-ong_nhua_27x18mm",type:"vi_mo_hang_hoa"},{keyWord:"Ống nhựa 60 x 2mm",name:"ong_nhua_60x2mm",className:"wi-ong_nhua_60x2mm",type:"vi_mo_hang_hoa"},{keyWord:"Ống nhựa 90 x 2,9mm",name:"ong_nhua_90x29mm",className:"wi-ong_nhua_90x29mm",type:"vi_mo_hang_hoa"},{keyWord:"Sơn lót kháng kiềm",name:"son_lot_khang_kiem_cao_cap",className:"wi-son_lot_khang_kiem_cao_cap",type:"vi_mo_hang_hoa"},{keyWord:"Sơn nội thất",name:"son_noi_that_tieu_chuan",className:"wi-son_noi_that_tieu_chuan",type:"vi_mo_hang_hoa"},{keyWord:"Sơn ngoại thất",name:"son_ngoai_that_tieu_chuan",className:"wi-son_ngoai_that_tieu_chuan",type:"vi_mo_hang_hoa"},{keyWord:"Kính màu trắng cường lực",name:"kinh_mau_trang",className:"wi-kinh_mau_trang",type:"vi_mo_hang_hoa"},{keyWord:"Kính Solar control cường lực",name:"kinh_solar",className:"wi-kinh_solar",type:"vi_mo_hang_hoa"},{keyWord:"Dây cáp điện",name:"day_cap_dien",className:"wi-day_cap_dien",type:"vi_mo_hang_hoa"},{keyWord:"Gạch đất sét nung",name:"gach_dat_set_nung",className:"wi-gach_dat_set_nung",type:"vi_mo_hang_hoa"},{keyWord:"Cọc bê tông",name:"coc_be_tong_du_ung_luc",className:"wi-coc_be_tong_du_ung_luc",type:"vi_mo_hang_hoa"},{keyWord:"Bê tông",name:"be_tong_mac_300",className:"wi-be_tong_mac_300",type:"vi_mo_hang_hoa"},{keyWord:"Khí LPG Trung Quốc",name:"khi_lpg_trung_quoc",className:"wi-khi_lpg_trung_quoc",type:"vi_mo_hang_hoa"},{keyWord:"Dầu WTI",name:"dau_wti",className:"wi-dau_wti",type:"vi_mo_hang_hoa"},{keyWord:"Khí thiên nhiên",name:"khi_thien_nhien",className:"wi-khi_thien_nhien",type:"vi_mo_hang_hoa"},{keyWord:"Than Newcastle",name:"than_newcastle",className:"wi-than_newcastle",type:"vi_mo_hang_hoa"},{keyWord:"Mazút",name:"mazut",className:"wi-mazut",type:"vi_mo_hang_hoa"},{keyWord:"Cao su thế giới",name:"cao_su_nhat_ban",className:"wi-cao_su_nhat_ban",type:"vi_mo_hang_hoa"},{keyWord:"Cao su",name:"cao_su",className:"wi-cao_su",type:"vi_mo_hang_hoa"},{keyWord:"Hạt PET",name:"pet_trung_quoc",className:"wi-pet_trung_quoc",type:"vi_mo_hang_hoa"},{keyWord:"Hạt nhựa PVC Trung Quốc",name:"nhua_pvc_trung_quoc",className:"wi-nhua_pvc_trung_quoc",type:"vi_mo_hang_hoa"},{keyWord:"Hạt nhựa PP Trung Quốc",name:"nhua_pp_trung_quoc",className:"wi-nhua_pp_trung_quoc",type:"vi_mo_hang_hoa"},{keyWord:"CK Nhật Bản - Nikkei 225",name:"ni255",className:"178",type:"investing"},{keyWord:"CK Trung Quốc - Shanghai Composite (SSEC)",name:"shanghai",className:"40820",type:"investing"},{keyWord:"CK Mỹ - S&P 500",name:"dow_jone_sp500",className:"166",type:"investing"},{keyWord:"Chỉ số Dow Jones Industrial Average (DJI)",name:"dow_jone",className:"169",type:"investing"},{keyWord:"Chỉ số NASDAQ Composite (IXIC)",name:"nasdaq-composite",className:"14958",type:"investing"},{keyWord:"FTSE 100",name:"ftse100",className:"27",type:"investing"},{keyWord:"Hang Seng Index - CK Hồng Kông",name:"hangseng_hsi",className:"179",type:"investing"},{keyWord:"CK Việt Nam - VNINDEX",name:"vnindex",className:"41063",type:"investing"},{keyWord:"Dollar Index - DXY",name:"dxy",className:"942611",type:"investing"},{keyWord:"Lãi suất TPCP Mỹ - 10 năm (%)",name:"us_bond_10y_investing",className:"23705",type:"investing"},{keyWord:"Lãi suất TPCP Mỹ - 1 năm (%) ",name:"us_bond_1y_investing",className:"23700",type:"investing"},{keyWord:"Lãi suất TPCP Việt Nam - 10 năm (%)",name:"vietnam_bond_10y_investing",className:"29379",type:"investing"},{keyWord:"Lãi suất TPCP Việt Nam - 1 năm (%)",name:"vietnam_bond_1y",className:"29380",type:"investing"},{keyWord:"Bảng cân đối kế toán của Fed (Bil USD)",name:"fed-ballance-sheet",className:"2145.json",type:"investing"},{keyWord:"Lãi suất quỹ liên bang của Fed (%)",name:"fed-funds-rate",className:"168.json",type:"investing"},{keyWord:"Fed Funds Composite Interest Rate (%)",name:"fed-funds-composite-interest-rate",className:"985525",type:"investing"},{keyWord:"Chỉ số CPI Mỹ (%YoY)",name:"usa_cpi",className:"733.json",type:"investing"},{keyWord:"Chỉ số CPI Mỹ (%MoM)",name:"usa_cpi_mom",className:"69.json",type:"investing"},{keyWord:"Chỉ số CPI lõi Mỹ (%YoY)",name:"usa_cpi_core",className:"736.json",type:"investing"},{keyWord:"Chỉ số PCE Lõi Mỹ (%YoY)",name:"usa_pce_core",className:"905.json",type:"investing"},{keyWord:"Chỉ số PCE Lõi Mỹ (%MoM)",name:"usa_pce_month",className:"61.json",type:"investing"},{keyWord:"Tỷ lệ thất nghiệp Mỹ (%)",name:"unemployment_rate_cpi",className:"300.json",type:"investing"},{keyWord:"Chỉ số Thị Trường Nhà ở của NAHB - Mỹ",name:"nahb-housing-market-index",className:"218.json",type:"investing"},{keyWord:"S&P/Case-Shiller House Price Index (%YoY)",name:"case-shiller-house-price-index-yoy",className:"329.json",type:"investing"},{keyWord:"S&P/Case-Shiller House Price Index (%MoM)",name:"case-shiller-house-price-index-mom",className:"913.json",type:"investing"},{keyWord:"30 Year US mortgage rate (%)",name:"mba-30-year-mortgage-rate",className:"1042.json",type:"investing"},{keyWord:"USA Retail Inventories Excluding Auto (%)",name:"retail-inventories-ex-auto-1887",className:"1887.json",type:"investing"},{keyWord:"Eurozone Interest Rate (%)",name:"eurozone-interest-rate-decision",className:"164.json",type:"investing"},{keyWord:"Chỉ số CPI - Trung Quốc (%YoY)",name:"chinese-cpi",className:"459.json",type:"investing"},{keyWord:"Chỉ số IIP - Trung Quốc (%YoY)",name:"chinese-industrial-production",className:"462.json",type:"investing"},{keyWord:"Lãi suất cho vay cơ bản - Trung Quốc (%)",name:"pboc-loan-prime-rate",className:"1967.json",type:"investing"},{keyWord:"Bitcoin US Dollar - BTCUSD",name:"btcusd",className:"945629",type:"investing"},{keyWord:"CBOE Volatility Index (VIX)",name:"volatility-sp500-vix-cboe",className:"44336",type:"investing"},{keyWord:"US Dollar Vietnamese Dong - USDVND",name:"usdvnd",className:"2214",type:"investing"},{keyWord:"US Dollar Japanese Yen - USDJPY",name:"usdjpy",className:"3",type:"investing"},{keyWord:"US Dollar British Pound - USDGPB",name:"usdgbp",className:"2126",type:"investing"},{keyWord:"US Dollar Swiss Franc - USDCHF",name:"usdchf",className:"4",type:"investing"},{keyWord:"US Dollar Canadian Dollar - USDCAD",name:"usdcad",className:"7",type:"investing"},{keyWord:"Astradian Dollar US Dollar - AUDUSD",name:"audusd",className:"5",type:"investing"},{keyWord:"New Zealand Dollar US Dollar - NZDUSD",name:"nzdusd",className:"5",type:"investing"},{keyWord:"US Dollar Chinese Yuan - USDCNY",name:"usdcny",className:"2111",type:"investing"},{keyWord:"Giá dầu Crude Oil WTI Futures (USD)",name:"crude-oil",className:"8849",type:"investing"},{keyWord:"Giá dầu Brent Oil Futures (USD)",name:"LCOc1",className:"8833",type:"investing"},{keyWord:"Cao su - Tocom (CNY)",name:"JRUc1",className:"1013463",type:"investing"},{keyWord:"Cao su RSS3",name:"SRUc1",className:"1013411",type:"investing"},{keyWord:"Cao su TSR20",name:"STFc1",className:"1013412",type:"investing"},{keyWord:"Giá vàng - Gold Futures",name:"gold_future",className:"8830",type:"investing"},{keyWord:"Giá khí thiên nhiên - Natural Gas Futures",name:"natural_gas",className:"8862",type:"investing"},{keyWord:"Giá thép thanh - Steel Rebar Futures",name:"steel_rebar",className:"996702",type:"investing"},{keyWord:"Giá đường mỹ - US Sugar #11 Futures",name:"SBc1",className:"8869",type:"investing"},{keyWord:"Giá Sợi - US Cotton #2 Futures",name:"CTc1",className:"8851",type:"investing"},{keyWord:"Hợp đồng Tương lai nhựa Polyvinyl Clorua - DPVc1 (CNY)",name:"Polyvinyl_Clorua_DPVc1",className:"961746",type:"investing"},{keyWord:"Hợp đồng Tương lai nhựa Polyêtylen - DLLc1 (CNY)",name:"nhua_lldpe",className:"961744",type:"investing"},{keyWord:"Chỉ số vận tải Baltic Dry Index",name:"baltic_dry",className:"940793",type:"investing"},{keyWord:"Giá Baltic Clean Tanker (USD)",name:"baltic-clean-tanker",className:"940799",type:"investing"}],sse=()=>{const e=k.useRef(null),t=k.useRef(null);k.useEffect(()=>{if("undefined"==typeof Highcharts){const e=document.createElement("script");e.src="https://code.highcharts.com/11.1/highcharts.js",e.onload=n,document.head.appendChild(e)}else n();return()=>{e.current&&e.current.destroy()}},[]);const n=()=>{t.current&&(t.current.innerHTML='\n            <div class="flex flex-col md:flex-row gap-4">\n                \x3c!-- Sidebar Filters --\x3e\n                <div class="w-full md:w-[300px] bg-white shadow p-4 md:h-auto">\n                    \x3c!-- Tabs --\x3e\n                    <div class="flex mb-4 space-x-2" id="tabs">\n                        <div class="tab-g transition-all duration-200 cursor-pointer flex-1 text-center py-2 px-3 border border-btn-primary-border rounded-md text-sm font-medium text-white bg-btn-primary"\n                        data-tab="vi_mo_tien_te">Vĩ mô</div>\n                        <div class="tab-g transition-all duration-200 cursor-pointer flex-1 text-center py-2 px-3 border border-filter rounded-md text-sm font-medium text-menu-link bg-white hover:bg-filter"\n                        data-tab="vi_mo_hang_hoa">Hàng hóa</div>\n                        <div class="tab-g transition-all duration-200 cursor-pointer flex-1 text-center py-2 px-3 border border-filter rounded-md text-sm font-medium text-menu-link bg-white hover:bg-filter"\n                        data-tab="investing">Investing</div>\n                    </div>\n\n                    \x3c!-- Search --\x3e\n                    <div class="flex items-center mb-3">\n                        <svg class="w-5 h-5 mr-2 text-menu-link" fill="currentColor" viewBox="0 0 24 24">\n                        <path\n                            d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z">\n                        </path>\n                        </svg>\n                        <input autocomplete="off" id="searchInput" placeholder="Tìm kiếm bộ lọc"\n                        class="w-full border border-filter rounded-md px-2 py-1 text-sm text-text-color focus:outline-none focus:ring-2 focus:ring-blue" />\n                    </div>\n\n                    \x3c!-- Filter List --\x3e\n                    <ul id="filterList" class="overflow-y-auto h-[400px] list-none p-0 m-0"></ul>\n                </div>\n\n                \x3c!-- Chart Area --\x3e\n                <div class="flex-1">\n                    <div id="myChart" class="bg-white shadow p-4 min-h-[400px]"></div>\n                </div>\n            </div>\n        ',r())},r=()=>{const e=document.querySelectorAll(".tab-g"),t=document.getElementById("filterList"),n=document.getElementById("searchInput"),r=document.getElementById("myChart");let i="vi_mo_tien_te";function a(e){if(!e.xAxis)return;const t=e.xAxis[0].min,n=e.series[0].data;if(!n.length)return;const r=n[n.length-1],i=new Date,a=new Date(i.getFullYear()-2,i.getMonth(),i.getDate()),s=a.getTime()<t?t:a.getTime();e.xAxis[0].setExtremes(s,r.x)}function s(e){e.xAxis&&[{from:Date.UTC(1970,1,1),to:Date.UTC(1970,12,1)},{from:Date.UTC(1973,12,1),to:Date.UTC(1975,4,1)},{from:Date.UTC(1980,2,1),to:Date.UTC(1980,8,1)},{from:Date.UTC(1981,8,1),to:Date.UTC(1982,12,1)},{from:Date.UTC(1990,8,1),to:Date.UTC(1991,4,1)},{from:Date.UTC(2001,4,1),to:Date.UTC(2001,12,1)},{from:Date.UTC(2008,1,1),to:Date.UTC(2009,7,1)},{from:Date.UTC(2020,3,1),to:Date.UTC(2020,5,1)}].forEach((t,n)=>{e.xAxis[0].addPlotBand({id:`r${n}`,color:"#F1F1F1",from:t.from,to:t.to})})}function o(e,t){const n=function(e){let t={title:{text:e.chart.series[0].unit},labels:{style:{color:Highcharts.getOptions().colors[0]}}},n={title:{text:""},labels:{style:{color:Highcharts.getOptions().colors[0]}},opposite:!0},r=e.chart.series[0].type,i=0;const a=[];e.chart.series.forEach(e=>{r!==e.type&&(i=1,n.title.text=e.unit),a.push({name:e.name,data:e.data.sort(),fillMissingValues:{type:"previous"},unit:e.unit,connectNulls:!0,type:"bar"===e.type?"column":"spline",yAxis:r===e.type?0:1})});let s=`<b>${e.timeUpdate}</b> <br/>`;if(a.length>2)a.forEach(e=>{let t=e.data.map(e=>e[1]);s+=`${e.name} : ${t[t.length-1]||t[t.length-2]||t[t.length-3]} (${e.unit})<br/>`});else for(let o=0;o<e.titleIndex.length;o++)s+=`${e.titleIndex[o]} (${e.unitArray[o]})<br/>`;return{chart:{zoomType:"x",type:"column",height:"500px",style:{fontSize:"14px"},resetZoomButton:{position:{x:0,y:-40},theme:{fill:"white",style:{fontSize:"14px"},stroke:"silver",r:0,states:{hover:{fill:"#41739D",style:{color:"white"}}}}}},xAxis:{crosshair:!0,type:"datetime",labels:{formatter:function(){return Highcharts.dateFormat("%e/%m/%Y",this.value)}}},time:{useUTC:!1,timezone:"Asia/Ho_Chi_Minh"},title:{text:e.title,align:"center"},subtitle:{text:s,align:"left"},yAxis:i?[t,n]:[t],tooltip:{headerFormat:"<b>{point.x:%d/%m/%Y}</b><br>",pointFormat:"{series.name}: {point.y:.2f}<br>",shared:!0,useHTML:!0},credits:{enabled:!1},exporting:{enabled:!0},series:a,plotOptions:{column:{stacking:e.stacked_column},line:{dataLabels:{enabled:!1}}}}}(e);document.title=e.title,Highcharts.chart("myChart",n,e=>{s(e),a(e)})}function l(){r.innerHTML='\n    <div class="loading-container flex items-center justify-center w-full h-full bg-white bg-opacity-80">\n        <div class="lds-roller">\n            <div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>\n        </div>\n    </div>'}function c(n){i=n,e.forEach(e=>{const t=e.dataset.tab===n;e.classList.remove("bg-btn-primary","text-white","bg-white","text-menu-link","hover:bg-filter"),t?e.classList.add("bg-btn-primary","text-white"):e.classList.add("bg-white","text-menu-link","hover:bg-filter")}),function(e){t.innerHTML="";const n=document.createDocumentFragment();ase.forEach(t=>{if(t.type===e){const e=document.createElement("li");e.className="tab filter-item cursor-pointer px-3 py-2 border-b border-filter hover:bg-menu-button",e.dataset.name=t.name,e.textContent=t.keyWord,n.appendChild(e)}}),t.appendChild(n)}(n)}function u(e="lslnh"){return v(this,null,function*(){const t=ase.findIndex(t=>t.name===e);let n=e;if(-1===t&&(n="lslnh"),t>-1&&"investing"===ase[t].type)yield function(e){return v(this,null,function*(){l();try{const t=ase.findIndex(t=>t.name===e);if(-1===t)return void(r.innerHTML="<p>Không tìm thấy dữ liệu đầu tư.</p>");const n=ase[t].className.includes("json"),i=n?`https://sbcharts.investing.com/events_charts/us/${ase[t].className}`:`https://api.investing.com/api/financialdata/${ase[t].className}/historical/chart/?period=MAX&interval=P1D&pointscount=120`,o=yield fetch(i);!function(e,t,n){var i;if(!e||!e.data||!e.data.length)return void(r.innerHTML="<p>Không có dữ liệu để hiển thị.</p>");const o=e.data.map((e,t)=>[e[0],n?e[1]:e[4]]),l=(null==(i=ase[t])?void 0:i.keyWord)||"Dữ liệu đầu tư",c={chart:{zoomType:"x",type:"spline",height:500,style:{fontSize:"14px"}},title:{text:l,align:"center"},xAxis:{type:"datetime",crosshair:!0,labels:{formatter:function(){return Highcharts.dateFormat("%e/%m/%Y",this.value)}}},yAxis:{title:{text:""}},tooltip:{headerFormat:"<b>{point.x:%d/%m/%Y}</b><br>",pointFormat:"{series.name}: {point.y:.2f}<br>",shared:!0,useHTML:!0},credits:{enabled:!1},exporting:{enabled:!0},series:[{name:l,data:o,connectNulls:!0}]};Highcharts.chart("myChart",c,e=>{s(e),a(e)})}(yield o.json(),t,n)}catch(t){r.innerHTML='<p class="text-red-600 p-4">Lỗi khi tải dữ liệu Investing.</p>'}})}(n);else{l();try{let e=`https://api.wichart.vn/vietnambiz/vi-mo?name=${n}`;t>-1&&"vi_mo_hang_hoa"===ase[t].type&&(e+="&key=hanghoa");const r=yield fetch(e);if(!r.ok)throw new Error("Network response was not ok");o(yield r.json())}catch(i){r.innerHTML='<p class="text-red-600 p-4">Đã xảy ra lỗi khi tải dữ liệu.</p>'}}})}t.addEventListener("click",e=>{const t=e.target.closest("li");if(!t)return;const n=t.dataset.name;n&&u(n)}),n.addEventListener("keyup",function(e,t){let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>e.apply(null,r),t)}}(function(){const e=n.value.toLowerCase(),r=t.children;Array.from(r).forEach(t=>{const n=t.textContent.toLowerCase();t.style.display=n.includes(e)?"":"none"})},200)),e.forEach(e=>{e.addEventListener("click",()=>{c(e.dataset.tab)})}),c(i),u("lslnh")};return b.jsx(Ke,{children:b.jsx("div",{ref:t,className:"w-full"})})},ose=()=>{const{data:e,loading:t,error:n}=Df("gdp_quarter"),{data:r,loading:i,error:a}=Df("money_supply_month"),{data:s,loading:o,error:l}=Df("retail_sales_year"),{data:c,loading:u,error:d}=Df("retail_sales_month"),{data:h,loading:f,error:m}=Df("cpi_month"),g=k.useMemo(()=>(null==e?void 0:e.data)?e.data.filter(e=>"Tăng trưởng thực của GDP"===e.group_name&&"Tổng GDP"===e.name).sort((e,t)=>new Date(e.report_time)-new Date(t.report_time)).slice(-8).map(e=>({date:e.report_time.slice(0,7),gdp:e.value,quarter:e.report_type})):[],[e]),p=k.useMemo(()=>(null==r?void 0:r.data)?r.data.filter(e=>"Tăng trưởng Cung tiền M2 (YTD)*"===e.name).sort((e,t)=>new Date(e.report_time)-new Date(t.report_time)).slice(-12).map(e=>({date:e.report_time.slice(0,7),m2Growth:e.value})):[],[r]),v=k.useMemo(()=>{if(!(null==s?void 0:s.data))return[];try{return s.data.sort((e,t)=>new Date(e.report_time)-new Date(t.report_time)).slice(-8).map(e=>({date:e.report_time,total:e.data.percentage["Tổng số"],service:e.data.percentage["Dịch vụ & du lịch"],commerce:e.data.percentage["Thương nghiệp"],hospitality:e.data.percentage["Khách sạn nhà hàng"],totalValue:e.data.cash["Tổng số"],serviceValue:e.data.cash["Dịch vụ & du lịch"],commerceValue:e.data.cash["Thương nghiệp"],hospitalityValue:e.data.cash["Khách sạn nhà hàng"]}))}catch(e){return[]}},[s]),y=k.useMemo(()=>(null==h?void 0:h.data)?h.data.filter(e=>"Chỉ số giá tiêu dùng"===e.name).sort((e,t)=>new Date(e.report_time)-new Date(t.report_time)).slice(-12).map(e=>({date:e.report_time.slice(0,7),cpi:e.value})):[],[h]);return k.useMemo(()=>{const e=new Set([...g.map(e=>e.date),...p.map(e=>e.date),...v.map(e=>e.date),...y.map(e=>e.date)]);return Array.from(e).sort().map(e=>{const t=g.find(t=>t.date===e),n=p.find(t=>t.date===e),r=v.find(t=>t.date===e),i=y.find(t=>t.date===e);return{date:e,gdp:(null==t?void 0:t.gdp)||null,m2Growth:(null==n?void 0:n.m2Growth)||null,retailGrowth:(null==r?void 0:r.retailGrowth)||null,cpi:(null==i?void 0:i.cpi)||null}}).filter(e=>null!==e.gdp||null!==e.m2Growth||null!==e.retailGrowth||null!==e.cpi).slice(-24)},[g,p,v,y]),k.useMemo(()=>({gdp:g[0],m2Growth:p[0],retailGrowth:v[0],cpi:y[0]}),[g,p,v,y]),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"text-center",children:[b.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-2",children:"Báo cáo Vĩ mô"}),b.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Phân tích các chỉ số kinh tế vĩ mô và xu hướng thị trường"})]}),b.jsx(sse,{}),b.jsxs(Ke,{children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200 mb-4",children:"Phân tích Thị trường"}),b.jsxs("div",{className:"space-y-4 text-sm text-gray-600 dark:text-gray-400",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2",children:"Tăng trưởng GDP"}),b.jsx("p",{children:"Tăng trưởng GDP là chỉ số quan trọng nhất phản ánh sức khỏe của nền kinh tế. Tăng trưởng cao thường tương quan với hiệu suất tốt của thị trường chứng khoán."})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2",children:"Cung tiền M2"}),b.jsx("p",{children:"Tăng trưởng cung tiền M2 phản ánh tính thanh khoản trong nền kinh tế. Tăng trưởng cao có thể thúc đẩy thị trường nhưng cũng có thể gây lạm phát."})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2",children:"Bán lẻ"}),b.jsx("p",{children:"Tăng trưởng bán lẻ cho thấy sức tiêu thụ của người dân. Đây là chỉ số quan trọng phản ánh sức khỏe của nền kinh tế tiêu dùng."})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2",children:"Chỉ số Giá Tiêu dùng (CPI)"}),b.jsx("p",{children:"CPI đo lường lạm phát. Lạm phát vừa phải có thể tốt cho thị trường, nhưng lạm phát cao có thể ảnh hưởng tiêu cực đến hiệu suất cổ phiếu."})]})]})]})]})},lse=k.memo(function({symbol:e="NASDAQ:AAPL",interval:t="D",height:n="400px"}){const r=k.useRef(),i=`tradingview-${e}-${t}-${Math.random().toString(36).substr(2,9)}`;return k.useEffect(()=>{r.current&&(r.current.innerHTML="");const n=document.createElement("script");return n.src="https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js",n.type="text/javascript",n.async=!0,n.innerHTML=`\n        {\n          "allow_symbol_change": true,\n          "calendar": false,\n          "details": false,\n          "hide_side_toolbar": true,\n          "hide_top_toolbar": false,\n          "hide_legend": false,\n          "hide_volume": false,\n          "hotlist": false,\n          "interval": "${t}",\n          "locale": "en",\n          "save_image": true,\n          "style": "1",\n          "symbol": "${e}",\n          "theme": "light",\n          "timezone": "Etc/UTC",\n          "backgroundColor": "#ffffff",\n          "gridColor": "rgba(46, 46, 46, 0.06)",\n          "watchlist": [],\n          "withdateranges": false,\n          "compareSymbols": [],\n          "studies": [],\n          "autosize": true\n        }`,r.current&&r.current.appendChild(n),()=>{r.current&&(r.current.innerHTML="")}},[e,t]),b.jsxs("div",{id:i,className:"tradingview-widget-container",ref:r,style:{height:n,width:"100%",position:"relative",zIndex:1},children:[b.jsx("div",{className:"tradingview-widget-container__widget",style:{height:"calc(100% - 32px)",width:"100%"}}),b.jsx("div",{className:"tradingview-widget-copyright",children:b.jsx("a",{href:"https://www.tradingview.com/",rel:"noopener nofollow",target:"_blank",children:b.jsx("span",{className:"blue-text",children:"Track all markets on TradingView"})})})]})}),cse={inflation_mode:{status:"OFF",indicators:{}},risk_mode:{status:"OFF",indicators:{vix:20,treasury_yield:"4.0%",credit_spread:"1.0%"}},vix:20,dxy:100},use=({title:e,mode:t,description:n,icon:r,colorClass:i})=>b.jsxs("div",{className:`p-4 rounded-lg border ${i}`,children:[b.jsxs("div",{className:"flex items-center mb-3",children:[r&&b.jsx(r,{className:"w-5 h-5 mr-2"}),b.jsx("h4",{className:"font-semibold text-sm",children:e})]}),b.jsx("div",{className:"text-lg font-bold mb-1",children:t}),b.jsx("p",{className:"text-xs text-slate-600",children:n})]}),dse=({title:e,description:t,symbol:n,interval:r,height:i,interpretationGuide:a})=>{const[s,o]=k.useState(!1);return b.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[b.jsxs("div",{className:"flex items-center justify-between mb-3",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"font-semibold text-slate-700",children:e}),b.jsx("p",{className:"text-xs text-slate-500 mt-1",children:t})]}),b.jsxs("button",{onClick:()=>o(!s),className:"text-blue-600 hover:text-blue-800 text-xs flex items-center",children:[b.jsx(fe,{className:"w-4 h-4 mr-1"}),"Cách đọc"]})]}),s&&b.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-3 mb-3 text-xs",children:[b.jsx("h5",{className:"font-semibold text-yellow-800 mb-2",children:"📚 Cách diễn giải biểu đồ:"}),b.jsx("div",{className:"space-y-1 text-yellow-700",children:a.map((e,t)=>b.jsxs("div",{className:"flex items-start",children:[b.jsx("span",{className:"font-medium mr-2",children:"•"}),b.jsxs("span",{children:[b.jsxs("strong",{children:[e.condition,":"]})," ",e.meaning]})]},t))})]}),b.jsx("div",{style:{height:i},children:b.jsx(lse,{symbol:n,interval:r})})]})},hse=({label:e,value:t,change:n,colorClass:r="text-slate-700"})=>b.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg border",children:[b.jsx("div",{className:"text-xs text-slate-500 mb-1",children:e}),b.jsx("div",{className:`font-bold text-lg ${r}`,children:t}),n&&b.jsxs("div",{className:"text-xs flex items-center mt-1 "+(n.startsWith("+")?"text-green-600":"text-red-600"),children:[n.startsWith("+")?b.jsx(Re,{className:"w-3 h-3 mr-1"}):b.jsx(Te,{className:"w-3 h-3 mr-1"}),n]})]});S.memo(use),S.memo(hse),S.memo(dse);const fse=({data:e})=>{var t,n,r;const i=(()=>{var t,n;const r="ON"===(null==(t=e.inflation_mode)?void 0:t.status),i="ON"===(null==(n=e.risk_mode)?void 0:n.status);return r&&i?{primary:{asset:"Vàng (Gold)",action:"MUA",reason:"Trú ẩn an toàn khi lạm phát cao"},secondary:{asset:"USD",action:"MUA",reason:"Đồng tiền mạnh trong môi trường bất ổn"},avoid:{asset:"Cổ phiếu",action:"TRÁNH/BÁN",reason:"Rủi ro cao khi lạm phát và sợ hãi"}}:r||i?{primary:{asset:"Cổ phiếu chất lượng",action:"MUA CHỌN LỌC",reason:"Cân bằng rủi ro và cơ hội"},secondary:{asset:"Trái phiếu",action:"GIỮ",reason:"Đa dạng hóa danh mục"},avoid:{asset:"Tài sản rủi ro cao",action:"TRÁNH",reason:"Môi trường không rõ ràng"}}:{primary:{asset:"Cổ phiếu VN",action:"MUA",reason:"Môi trường thuận lợi cho tăng trưởng"},secondary:{asset:"Bitcoin",action:"MUA",reason:"Tài sản rủi ro trong giai đoạn tăng trưởng"},avoid:{asset:"Vàng",action:"TRÁNH",reason:"Kém hấp dẫn khi thị trường tăng trưởng"}}})();return b.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg border-2 border-green-200 p-6 mb-6",children:[b.jsxs("div",{className:"flex items-center mb-4",children:[b.jsx(Ae,{className:"w-6 h-6 text-green-600 mr-2"}),b.jsx("h3",{className:"text-xl font-bold text-green-800",children:"📊 Tóm tắt Giao dịch (TLDR)"})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[b.jsxs("div",{className:"bg-white rounded-lg p-4 border-l-4 border-green-500",children:[b.jsxs("div",{className:"flex items-center mb-2",children:[b.jsx(Re,{className:"w-4 h-4 text-green-600 mr-2"}),b.jsx("span",{className:"font-semibold text-green-800",children:"Khuyến nghị chính"})]}),b.jsx("div",{className:"text-lg font-bold text-green-700",children:i.primary.asset}),b.jsx("div",{className:"text-sm font-medium mb-2 "+(i.primary.action.includes("MUA")?"text-green-600":"text-red-600"),children:i.primary.action}),b.jsx("div",{className:"text-xs text-gray-600",children:i.primary.reason})]}),b.jsxs("div",{className:"bg-white rounded-lg p-4 border-l-4 border-blue-500",children:[b.jsxs("div",{className:"flex items-center mb-2",children:[b.jsx(X,{className:"w-4 h-4 text-blue-600 mr-2"}),b.jsx("span",{className:"font-semibold text-blue-800",children:"Lựa chọn phụ"})]}),b.jsx("div",{className:"text-lg font-bold text-blue-700",children:i.secondary.asset}),b.jsx("div",{className:"text-sm font-medium mb-2 "+(i.secondary.action.includes("MUA")?"text-green-600":"text-blue-600"),children:i.secondary.action}),b.jsx("div",{className:"text-xs text-gray-600",children:i.secondary.reason})]}),b.jsxs("div",{className:"bg-white rounded-lg p-4 border-l-4 border-red-500",children:[b.jsxs("div",{className:"flex items-center mb-2",children:[b.jsx(De,{className:"w-4 h-4 text-red-600 mr-2"}),b.jsx("span",{className:"font-semibold text-red-800",children:"Nên tránh"})]}),b.jsx("div",{className:"text-lg font-bold text-red-700",children:i.avoid.asset}),b.jsx("div",{className:"text-sm font-medium text-red-600 mb-2",children:i.avoid.action}),b.jsx("div",{className:"text-xs text-gray-600",children:i.avoid.reason})]})]}),b.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[b.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"🎯 Tại sao?"}),b.jsxs("p",{className:"text-sm text-gray-700",children:["Hiện tại thị trường đang trong chế độ ",b.jsx("strong",{children:null==(t=e.market_regime)?void 0:t.current}),". Lạm phát ","ON"===(null==(n=e.inflation_mode)?void 0:n.status)?"đang tăng":"được kiểm soát"," và tâm lý nhà đầu tư ","ON"===(null==(r=e.risk_mode)?void 0:r.status)?"sợ hãi":"lạc quan",". Trong bối cảnh này, chiến lược tốt nhất là ",i.primary.action.toLowerCase()," ",i.primary.asset.toLowerCase(),"."]})]})]})},mse=({title:e,intent:t,howToUse:n,children:r})=>b.jsxs("div",{className:"mb-6",children:[b.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200 mb-4",children:[b.jsxs("h3",{className:"text-lg font-bold text-blue-900 mb-2 flex items-center",children:[b.jsx(ke,{className:"w-5 h-5 mr-2"}),e]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"font-semibold text-blue-800 mb-1",children:"🎯 Mục đích:"}),b.jsx("p",{className:"text-blue-700",children:t})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-semibold text-blue-800 mb-1",children:"📖 Cách sử dụng:"}),b.jsx("p",{className:"text-blue-700",children:n})]})]})]}),r]}),gse=({data:e})=>b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsx(use,{title:"Chế độ Lạm phát",mode:e.inflation_mode,description:"Thị trường đang lo ngại về lạm phát",icon:Re,colorClass:"text-red-600"}),b.jsx(use,{title:"Chế độ Rủi ro",mode:e.risk_mode,description:"Thị trường đang sợ hãi rủi ro",icon:De,colorClass:"text-orange-600"})]}),pse=({data:e})=>{var t,n,r,i,a,s,o,l,c,u,d,h,f,m;return b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[b.jsx(hse,{label:"VIX",value:(null==(n=null==(t=e.risk_mode)?void 0:t.indicators)?void 0:n.vix)||"N/A",change:(null==(i=null==(r=e.risk_mode)?void 0:r.indicators)?void 0:i.vix_change)||"0%",colorClass:(null==(s=null==(a=e.risk_mode)?void 0:a.indicators)?void 0:s.vix)>30?"text-red-600":"text-green-600"}),b.jsx(hse,{label:"Bond Yield",value:(null==(l=null==(o=e.risk_mode)?void 0:o.indicators)?void 0:l.treasury_yield)||"N/A",change:(null==(u=null==(c=e.risk_mode)?void 0:c.indicators)?void 0:u.yield_change)||"0%",colorClass:"text-blue-600"}),b.jsx(hse,{label:"Credit Spread",value:(null==(h=null==(d=e.risk_mode)?void 0:d.indicators)?void 0:h.credit_spread)||"N/A",change:(null==(m=null==(f=e.risk_mode)?void 0:f.indicators)?void 0:m.spread_change)||"0%",colorClass:"text-purple-600"})]})},vse=({configs:e})=>b.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.map((e,t)=>b.jsx(dse,{title:e.title,description:e.description,symbol:e.symbol,interval:"1D",height:300,interpretationGuide:e.interpretationGuide},t))}),yse=({data:e})=>{var t,n;const r=(()=>{var t,n;const r="ON"===(null==(t=e.inflation_mode)?void 0:t.status),i="ON"===(null==(n=e.risk_mode)?void 0:n.status);return{currentSituation:r&&i?"Lạm phát cao + Sợ hãi":r||i?r?"Lạm phát cao + Lạc quan":"Lạm phát thấp + Sợ hãi":"Lạm phát thấp + Lạc quan",whatItMeans:r&&i?"Thị trường đang trong giai đoạn khó khăn nhất - vừa lo lạm phát vừa sợ rủi ro":r||i?"Thị trường trong giai đoạn chuyển tiếp - cần theo dõi chặt chẽ":"Thị trường trong giai đoạn lý tưởng - lạm phát kiểm soát và tâm lý tích cực",nextSteps:[r?"Theo dõi CPI, Fed meeting":"Theo dõi GDP, earnings",i?"Chờ VIX giảm xuống dưới 25":"Tận dụng momentum tăng trưởng","Xem xét tái cân bằng danh mục hàng tuần"]}})();return b.jsxs("div",{className:"bg-slate-50 rounded-lg border p-6",children:[b.jsxs("h4",{className:"font-semibold text-lg text-slate-800 mb-4 flex items-center",children:[b.jsx(te,{className:"w-5 h-5 mr-2"}),"Phân tích tổng hợp & Hành động"]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"bg-white rounded-lg p-4 border",children:[b.jsx("h5",{className:"font-semibold text-blue-800 mb-2",children:"🔍 Tình hình hiện tại"}),b.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[b.jsx("strong",{children:"Chế độ:"})," ",r.currentSituation]}),b.jsx("p",{className:"text-xs text-gray-600",children:r.whatItMeans})]}),b.jsxs("div",{className:"bg-white rounded-lg p-4 border",children:[b.jsx("h5",{className:"font-semibold text-green-800 mb-2",children:"⚡ Tín hiệu quan trọng"}),b.jsxs("div",{className:"space-y-2 text-sm",children:[b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{children:"VIX Level:"}),b.jsx("span",{className:e.vix>30?"text-red-600":"text-green-600",children:e.vix>30?"Sợ hãi cao":"Bình thường"})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{children:"USD Strength:"}),b.jsx("span",{className:e.dxy>105?"text-red-600":"text-green-600",children:e.dxy>105?"Rất mạnh":"Ổn định"})]})]})]})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"bg-white rounded-lg p-4 border",children:[b.jsx("h5",{className:"font-semibold text-purple-800 mb-2",children:"📋 Kế hoạch hành động"}),b.jsx("div",{className:"space-y-2",children:r.nextSteps.map((e,t)=>b.jsxs("div",{className:"flex items-start text-sm",children:[b.jsx("span",{className:"bg-purple-100 text-purple-800 rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold mr-2 mt-0.5",children:t+1}),b.jsx("span",{className:"text-gray-700",children:e})]},t))})]}),b.jsxs("div",{className:"bg-white rounded-lg p-4 border",children:[b.jsx("h5",{className:"font-semibold text-orange-800 mb-2",children:"⚠️ Rủi ro cần lưu ý"}),b.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[b.jsxs("div",{children:["• ","ON"===(null==(t=e.inflation_mode)?void 0:t.status)?"Fed có thể tăng lãi suất bất ngờ":"Tăng trưởng có thể chậm lại"]}),b.jsxs("div",{children:["• ","ON"===(null==(n=e.risk_mode)?void 0:n.status)?"Bán tháo có thể lan rộng":"Thị trường có thể quá lạc quan"]}),b.jsx("div",{children:"• Biến động địa chính trị bất ngờ"})]})]})]})]})]})},xse=({data:e})=>{const t=[{name:"Corn",symbol:"ZC",icon:Fe,color:"text-yellow-600"},{name:"Cotton",symbol:"CT",icon:Fe,color:"text-white-600"},{name:"Crude Oil",symbol:"CL",icon:be,color:"text-black-600"},{name:"Copper",symbol:"HG",icon:ge,color:"text-orange-600"},{name:"Coffee",symbol:"KC",icon:ve,color:"text-brown-600"},{name:"Cocoa",symbol:"CC",icon:ve,color:"text-brown-800"},{name:"Cattle",symbol:"LE",icon:X,color:"text-red-600"}];return b.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[b.jsxs("h4",{className:"font-semibold text-sm text-slate-700 mb-3 flex items-center",children:[b.jsx(_e,{className:"w-4 h-4 mr-2"}),"Seven C's Commodities - Early Inflation Signals"]}),b.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:t.map((t,n)=>{var r;const i=t.icon,a=(null==(r=null==e?void 0:e.commodities)?void 0:r[t.symbol])||0,s=a>0;return b.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg border",children:[b.jsxs("div",{className:"flex items-center mb-2",children:[b.jsx(i,{className:`w-4 h-4 mr-2 ${t.color}`}),b.jsx("span",{className:"text-xs font-medium",children:t.name})]}),b.jsxs("div",{className:"font-bold text-lg "+(s?"text-green-600":"text-red-600"),children:[s?"+":"",a.toFixed(1),"%"]}),b.jsx("div",{className:"text-xs text-slate-500 mt-1",children:s?"Inflationary":"Deflationary"})]},n)})}),b.jsx("div",{className:"mt-3 p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:b.jsxs("p",{className:"text-xs text-yellow-800",children:[b.jsx("strong",{children:"💡 Insight:"})," Seven C's commodities serve as early inflation signals. Recent data shows coffee hitting unprecedented levels and copper surging to November 2022 highs, indicating potential inflationary pressure ahead."]})})]})},bse=({data:e})=>{var t;const n=(null==(t=null==e?void 0:e.inflation_mode)?void 0:t.indicators)||{};return b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[b.jsx(hse,{label:"CPI YoY",value:n.cpi||"2.7%",change:n.cpi_change||"+0.3%",colorClass:parseFloat(n.cpi)>3?"text-red-600":"text-orange-600"}),b.jsx(hse,{label:"Core CPI",value:n.core_cpi||"2.9%",change:n.core_cpi_change||"+0.1%",colorClass:parseFloat(n.core_cpi)>3?"text-red-600":"text-orange-600"}),b.jsx(hse,{label:"PPI YoY",value:n.ppi||"1.8%",change:n.ppi_change||"+0.2%",colorClass:"text-blue-600"}),b.jsx(hse,{label:"PCE YoY",value:n.pce||"2.6%",change:n.pce_change||"+0.1%",colorClass:"text-purple-600"}),b.jsx(hse,{label:"BCOM Index",value:n.bcom||"85.2",change:n.bcom_change||"+2.1%",colorClass:"text-green-600"}),b.jsx(hse,{label:"Copper Price",value:n.copper||"$4.85",change:n.copper_change||"+5.2%",colorClass:"text-orange-600"}),b.jsx(hse,{label:"Oil Price",value:n.oil||"$82.45",change:n.oil_change||"+1.8%",colorClass:"text-black-600"}),b.jsx(hse,{label:"Coffee Price",value:n.coffee||"$2.85",change:n.coffee_change||"+12.5%",colorClass:"text-brown-600"})]})},wse=({data:e})=>{var t,n,r,i,a,s,o;const l="ON"===(null==(t=null==e?void 0:e.inflation_mode)?void 0:t.status),c=parseFloat(null==(r=null==(n=null==e?void 0:e.inflation_mode)?void 0:n.indicators)?void 0:r.cpi)||2.7,u=parseFloat(null==(a=null==(i=null==e?void 0:e.inflation_mode)?void 0:i.indicators)?void 0:a.core_cpi)||2.9;parseFloat(null==(o=null==(s=null==e?void 0:e.inflation_mode)?void 0:s.indicators)?void 0:o.ppi);const d=l&&c>3&&u>3?{regime:"HIGH_INFLATION_VOLATILITY",description:"Lạm phát cao và biến động mạnh",characteristics:["CPI và Core CPI > 3%","PPI tăng nhanh","Negative bond-stock correlation","Increased sector rotation","Commodities outperform"],strategy:"Defensive positioning, inflation hedges, commodities"}:!l&&c<2.5&&u<2.5?{regime:"LOW_INFLATION_VOLATILITY",description:"Lạm phát thấp và ổn định",characteristics:["CPI và Core CPI < 2.5%","PPI ổn định","Positive bond-stock correlation","Growth stocks perform well","Stable monetary policy"],strategy:"Growth stocks, bonds, stable allocation"}:{regime:"TRANSITIONAL",description:"Chuyển tiếp giữa các chế độ",characteristics:["Mixed inflation signals","Uncertain Fed policy","Volatile correlations","Watch for regime change","Balanced approach needed"],strategy:"Balanced allocation, monitor closely"};return b.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[b.jsxs("h4",{className:"font-semibold text-sm text-slate-700 mb-3 flex items-center",children:[b.jsx(te,{className:"w-4 h-4 mr-2"}),"Phân tích Chế độ Lạm phát"]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("h5",{className:"font-semibold text-blue-800 mb-2",children:"🎯 Chế độ hiện tại"}),b.jsxs("div",{className:"p-3 rounded-lg "+("HIGH_INFLATION_VOLATILITY"===d.regime?"bg-red-50 border border-red-200":"LOW_INFLATION_VOLATILITY"===d.regime?"bg-green-50 border border-green-200":"bg-yellow-50 border border-yellow-200"),children:[b.jsx("div",{className:"font-semibold text-sm mb-1",children:d.regime.replace("_"," ")}),b.jsx("div",{className:"text-xs text-gray-600",children:d.description})]})]}),b.jsxs("div",{children:[b.jsx("h5",{className:"font-semibold text-purple-800 mb-2",children:"📊 Đặc điểm"}),b.jsx("div",{className:"space-y-1",children:d.characteristics.map((e,t)=>b.jsxs("div",{className:"text-xs text-gray-700 flex items-start",children:[b.jsx("span",{className:"mr-2 mt-1",children:"•"}),b.jsx("span",{children:e})]},t))})]})]}),b.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[b.jsx("h5",{className:"font-semibold text-blue-800 mb-2",children:"💡 Chiến lược đề xuất"}),b.jsx("p",{className:"text-sm text-blue-700",children:d.strategy})]})]})},_se=()=>{var e;const[t,n]=k.useState("1D"),{data:r,loading:i,error:a}=Df("RRG_ANALYSIS",t),{data:s,loading:o,error:l}=Df("cpi_month"),{data:c,loading:u,error:d}=Df("commodities_data"),m=k.useMemo(()=>{var e,t;const n=(null==(t=null==(e=null==r?void 0:r.insights)?void 0:e.detailed_analysis)?void 0:t.market_interconnection)||cse;if(null==s?void 0:s.data){const e=s.data.filter(e=>"Chỉ số giá tiêu dùng"===e.name).sort((e,t)=>new Date(t.report_time)-new Date(e.report_time))[0];e&&(n.inflation_mode=f(h({},n.inflation_mode),{indicators:f(h({},n.inflation_mode.indicators),{cpi:`${e.value}%`,cpi_change:e.value>0?`+${e.value}%`:`${e.value}%`})}))}return(null==c?void 0:c.data)&&(n.commodities={},Object.entries(c.data).forEach(([e,t])=>{n.commodities[t.symbol]=t.change_percent}),c.summary&&(n.inflation_mode=f(h({},n.inflation_mode),{indicators:f(h({},n.inflation_mode.indicators),{bcom:c.summary.bcom_index.toString(),bcom_change:`${c.summary.bcom_change>0?"+":""}${c.summary.bcom_change}%`,copper:`$${c.data.copper.current_price}`,copper_change:`${c.data.copper.change_percent>0?"+":""}${c.data.copper.change_percent}%`,oil:`$${c.data.crude_oil.current_price}`,oil_change:`${c.data.crude_oil.change_percent>0?"+":""}${c.data.crude_oil.change_percent}%`,coffee:`$${c.data.coffee.current_price}`,coffee_change:`${c.data.coffee.change_percent>0?"+":""}${c.data.coffee.change_percent}%`})}))),n},[r,s,c]),g=k.useMemo(()=>{var e;return(e=>[{title:"Chỉ số VIX (Fear & Greed)",symbol:"VIX",description:"Đo lường mức độ sợ hãi/tham lam của thị trường",interpretationGuide:e?[{condition:"VIX > 35",meaning:"Panic về stagflation → Mua vàng, bán mọi thứ khác"},{condition:"VIX 25-35",meaning:"Lo lạm phát → Rotate sang commodities"},{condition:"VIX < 20",meaning:"Nguy hiểm! Thị trường ignore lạm phát → Hedge ngay"},{condition:"VIX spike đột biến",meaning:"Fed có thể action mạnh → Bán growth stocks"}]:[{condition:"VIX > 30",meaning:"Growth scare → Mua quality dip"},{condition:"VIX 20-30",meaning:"Uncertainty → Chờ clarity"},{condition:"VIX < 15",meaning:"Euphoria → Giảm risk, chuẩn bị correction"},{condition:"VIX giảm dần",meaning:"Recovery mode → Tăng cyclicals"}]},{title:"Lợi suất Trái phiếu 10Y",symbol:"US10Y",description:e?"Phản ánh kỳ vọng lạm phát và Fed hawkishness":"Phản ánh kỳ vọng tăng trưởng và Fed policy",interpretationGuide:e?[{condition:"Yield > 5%",meaning:"Fed tăng lãi suất mạnh → Bán cổ phiếu, mua USD"},{condition:"Yield 4-5%",meaning:"Fed đang chống lạm phát → Neutral stocks"},{condition:"Yield < 3.5%",meaning:"Thị trường không tin Fed → Mua vàng"},{condition:"Yield curve invert",meaning:"Recession risk → Defensive positioning"}]:[{condition:"Yield > 4.5%",meaning:"Growth optimism → Rotate growth to value"},{condition:"Yield 3-4%",meaning:"Balanced growth → Maintain allocation"},{condition:"Yield < 2.5%",meaning:"Recession fear → Buy bonds, defensives"},{condition:"Yield rising fast",meaning:"Reflation trade → Buy cyclicals"}]},{title:"Chỉ số CPI (Consumer Price Index)",symbol:"CPI",description:"Chỉ số giá tiêu dùng - chỉ số lạm phát cơ bản nhất",interpretationGuide:[{condition:"CPI > 4%",meaning:"Lạm phát cao → Fed hawkish, bán bonds, mua commodities"},{condition:"CPI 2-4%",meaning:"Lạm phát vừa phải → Neutral stance, theo dõi Fed"},{condition:"CPI < 2%",meaning:"Lạm phát thấp → Fed dovish, mua bonds, bán USD"},{condition:"CPI tăng nhanh",meaning:"Inflation scare → Rotate sang inflation hedges"}]},{title:"Core CPI (Loại trừ Food & Energy)",symbol:"CORE_CPI",description:"CPI lõi - Fed's preferred measure, ổn định hơn",interpretationGuide:[{condition:"Core CPI > 4%",meaning:"Sticky inflation → Fed sẽ tăng lãi suất lâu dài"},{condition:"Core CPI 2-4%",meaning:"Inflation persistence → Cautious Fed policy"},{condition:"Core CPI < 2%",meaning:"Inflation under control → Fed có thể dovish"},{condition:"Core CPI > Headline CPI",meaning:"Services inflation → Bad for growth stocks"}]},{title:"Producer Price Index (PPI)",symbol:"PPI",description:"Chỉ số giá sản xuất - leading indicator cho CPI",interpretationGuide:[{condition:"PPI > 5%",meaning:"Supply chain pressure → CPI sẽ tăng trong 3-6 tháng"},{condition:"PPI 2-5%",meaning:"Moderate cost pressure → Watch for CPI transmission"},{condition:"PPI < 2%",meaning:"Cost deflation → CPI có thể giảm"},{condition:"PPI falling",meaning:"Supply chain healing → Good for margins"}]},{title:"Personal Consumption Expenditures (PCE)",symbol:"PCE",description:"Chỉ số Fed ưa thích - broader than CPI",interpretationGuide:[{condition:"PCE > 3%",meaning:"Fed's inflation target exceeded → Hawkish policy"},{condition:"PCE 2-3%",meaning:"Near target → Balanced policy"},{condition:"PCE < 2%",meaning:"Below target → Dovish policy possible"},{condition:"PCE vs CPI gap",meaning:"Methodology differences → Fed focuses on PCE"}]},{title:"Bloomberg Commodity Index (BCOM)",symbol:"BCOM",description:"Chỉ số hàng hóa - leading inflation indicator",interpretationGuide:[{condition:"BCOM > 20% YoY",meaning:"Commodity inflation → CPI pressure in 3-5 months"},{condition:"BCOM 10-20% YoY",meaning:"Moderate commodity inflation → Watch trends"},{condition:"BCOM < 10% YoY",meaning:"Low commodity inflation → CPI relief"},{condition:"BCOM correlation 0.78-0.85",meaning:"Strong inflation signal → Hedge inflation"}]}])("ON"===(null==(e=m.inflation_mode)?void 0:e.status))},[null==(e=m.inflation_mode)?void 0:e.status]);return k.useCallback(e=>{n(e)},[]),i||o||u?b.jsx("div",{className:"flex items-center justify-center p-8",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),b.jsx("p",{className:"text-gray-600",children:"Đang tải dữ liệu phân tích liên thị trường..."})]})}):a||l||d?b.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx(De,{className:"w-5 h-5 text-red-600 mr-2"}),b.jsx("h3",{className:"text-red-800 font-semibold",children:"Lỗi tải dữ liệu"})]}),b.jsx("p",{className:"text-red-700 mt-2",children:"Không thể tải dữ liệu phân tích liên thị trường. Vui lòng thử lại sau."})]}):b.jsxs("div",{className:"space-y-6",children:[b.jsx(fse,{data:m}),b.jsx(mse,{title:"Chỉ số Chế độ Thị trường",intent:"Xác định thị trường đang trong giai đoạn nào để điều chỉnh chiến lược đầu tư phù hợp",howToUse:"Lạm phát BẬT → mua vàng/USD, tránh cổ phiếu. Rủi ro BẬT → giảm leverage, tăng tiền mặt",children:b.jsx(gse,{data:m})}),b.jsx(mse,{title:"Chỉ số Lạm phát Toàn diện",intent:"Theo dõi tất cả các chỉ số lạm phát quan trọng để dự đoán xu hướng và điều chỉnh danh mục",howToUse:"CPI/Core CPI > 3% → inflation hedges. PPI tăng → CPI sẽ tăng. BCOM correlation → leading signal",children:b.jsx(bse,{data:m})}),b.jsx(mse,{title:"Seven C's Commodities - Tín hiệu Lạm phát Sớm",intent:"Theo dõi 7 hàng hóa cơ bản (corn, cotton, crude oil, copper, coffee, cocoa, cattle) làm chỉ báo lạm phát sớm",howToUse:"Coffee/cocoa tăng mạnh → inflation pressure. Copper tăng → industrial demand. Oil tăng → energy inflation",children:b.jsx(xse,{data:m})}),b.jsx(mse,{title:"Phân tích Chế độ Lạm phát",intent:"Xác định thị trường đang trong chế độ lạm phát nào và điều chỉnh chiến lược phù hợp",howToUse:"High volatility → defensive. Low volatility → growth. Transitional → balanced approach",children:b.jsx(wse,{data:m})}),b.jsx(mse,{title:"Chỉ số Kinh tế Chính",intent:"Theo dõi các chỉ số macro quan trọng ảnh hưởng đến định giá tài sản",howToUse:"So sánh với ngưỡng lịch sử để đánh giá mức độ extreme và cơ hội đảo chiều",children:b.jsx(pse,{data:m})}),b.jsx(mse,{title:"Biểu đồ Thị trường Toàn cầu",intent:"Phân tích kỹ thuật các tài sản chính để xác định xu hướng và điểm vào/ra",howToUse:"Kết hợp với chỉ số chế độ để xác nhận tín hiệu và timing giao dịch",children:b.jsx(vse,{configs:g})}),b.jsx(yse,{data:m})]})},jse=({market_overview:e,strongSignalsCount:t})=>{var n,r;return b.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg p-6",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[b.jsx(Le,{className:"h-8 w-8 text-blue-500"}),b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Phân tích VSA (Volume Spread Analysis)"}),b.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Phân tích thị trường dựa trên mối quan hệ giữa khối lượng và biến động giá"})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[b.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:(null==e?void 0:e.total_stocks_analyzed)||0}),b.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Mã được phân tích"})]}),b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[b.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:(null==(n=null==e?void 0:e.bullish_stocks)?void 0:n.length)||0}),b.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Mã tăng giá"})]}),b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[b.jsx("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:(null==(r=null==e?void 0:e.bearish_stocks)?void 0:r.length)||0}),b.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Mã giảm giá"})]}),b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[b.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:t}),b.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Tín hiệu mạnh"})]})]})]})},Nse=({activeSection:e,onSectionChange:t})=>{const n=[{id:"market_overview",name:"Tổng quan thị trường",icon:ie},{id:"individual_stocks",name:"Phân tích từng mã",icon:Ae},{id:"strong_signals",name:"Tín hiệu mạnh",icon:Ve}];return b.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(n=>{const r=n.icon;return b.jsxs("button",{onClick:()=>t(n.id),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer "+(e===n.id?"bg-blue-500 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:[b.jsx(r,{className:"h-4 w-4"}),n.name]},n.id)})})},kse=({marketBreadth:e,title:t="Phân tích tâm lý thị trường"})=>{const n=(()=>{if(!e)return null;const{bullish_percentage:t,bearish_percentage:n,neutral_percentage:r}=e;return[{name:"Bullish",value:t,color:"#10b981",icon:Re},{name:"Bearish",value:n,color:"#ef4444",icon:Te},{name:"Neutral",value:r,color:"#6b7280",icon:Ce}].filter(e=>e.value>0)})();if(!n||0===n.length)return b.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400",children:"Không có dữ liệu tâm lý thị trường"});const r=({active:e,payload:t})=>{if(e&&t&&t.length){const e=t[0];return b.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg",children:[b.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.name}),b.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.value.toFixed(1),"% (",e.payload.count||0," mã)"]})]})}return null};return b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-6 text-center",children:t}),b.jsx("div",{className:"rounded-lg p-4",children:b.jsx(oF,{width:300,height:250,children:b.jsxs(IG,{children:[b.jsx($V,{data:n,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:n.map((e,t)=>b.jsx(lF,{fill:e.color},`cell-${t}`))}),b.jsx(Hz,{content:b.jsx(r,{})}),b.jsx(Cj,{verticalAlign:"bottom",height:36,formatter:(e,t)=>b.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[e," (",t.payload.value.toFixed(1),"%)"]})})]})})})]})},Sse=({volumeAnalysis:e,title:t="Phân tích khối lượng"})=>{const n=(()=>{if(!e)return null;const{increasing:t,decreasing:n,stable:r}=e;return[{name:"Tăng",value:t,color:"#10b981",icon:Re,description:"Khối lượng tăng"},{name:"Giảm",value:n,color:"#ef4444",icon:Te,description:"Khối lượng giảm"},{name:"Ổn định",value:r,color:"#6b7280",icon:Ce,description:"Khối lượng ổn định"}].filter(e=>e.value>0)})();if(!n||0===n.length)return b.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400",children:"Không có dữ liệu phân tích khối lượng"});const r=({active:e,payload:t})=>{if(e&&t&&t.length){const e=t[0],r=n.reduce((e,t)=>e+t.value,0),i=(e.value/r*100).toFixed(1);return b.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg",children:[b.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.payload.description}),b.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.value," mã (",i,"%)"]})]})}return null},i=n.reduce((e,t)=>e+t.value,0);return b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-6 text-center",children:t}),b.jsx("div",{className:"dark:bg-gray-800/50 rounded-lg p-4",children:b.jsx(oF,{width:300,height:250,children:b.jsxs(IG,{children:[b.jsx($V,{data:n,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:n.map((e,t)=>b.jsx(lF,{fill:e.color},`cell-${t}`))}),b.jsx(Hz,{content:b.jsx(r,{})}),b.jsx(Cj,{verticalAlign:"bottom",height:36,formatter:(e,t)=>{const n=(t.payload.value/i*100).toFixed(1);return b.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[e," (",n,"%)"]})}})]})})})]})},Cse=({signalData:e,title:t="Tần suất tín hiệu theo thời gian"})=>{const n=e&&Array.isArray(e)&&0!==e.length?e.map((e,t)=>({date:e.date||`Ngày ${t+1}`,bullish:e.bullish_signals||0,bearish:e.bearish_signals||0,total:(e.bullish_signals||0)+(e.bearish_signals||0),net_sentiment:(e.bullish_signals||0)-(e.bearish_signals||0)})):[];if(0===n.length)return b.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 p-8",children:"Không có dữ liệu tín hiệu"});const r=({active:e,payload:t,label:n})=>{if(e&&t&&t.length){const e=t.find(e=>"bullish"===e.dataKey),r=t.find(e=>"bearish"===e.dataKey);return b.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg",children:[b.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:n}),b.jsxs("div",{className:"space-y-1",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"}),b.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Tín hiệu tăng: ",(null==e?void 0:e.value)||0]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-3 h-3 bg-red-500 rounded"}),b.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Tín hiệu giảm: ",(null==r?void 0:r.value)||0]})]}),b.jsx("div",{className:"pt-1 border-t border-gray-200 dark:border-gray-600",children:b.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:["Tổng: ",((null==e?void 0:e.value)||0)+((null==r?void 0:r.value)||0)," tín hiệu"]})})]})]})}return null},i=({payload:e})=>b.jsx("div",{className:"flex justify-center gap-6 mt-4",children:e.map((e,t)=>b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:e.color}}),b.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"bullish"===e.value?"Tín hiệu tăng":"Tín hiệu giảm"})]},t))});return b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-6 text-center",children:t}),b.jsx("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-4 w-full",children:b.jsx(oF,{width:"100%",height:300,children:b.jsxs(PG,{data:n,margin:{top:20,right:30,left:20,bottom:5},children:[b.jsx(bH,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),b.jsx(mU,{dataKey:"date",stroke:"#6b7280",fontSize:12,tickLine:!1}),b.jsx(_U,{stroke:"#6b7280",fontSize:12,tickLine:!1,axisLine:!1}),b.jsx(Hz,{content:b.jsx(r,{})}),b.jsx(Cj,{content:b.jsx(i,{})}),b.jsx(VW,{dataKey:"bullish",fill:"#10b981",radius:[4,4,0,0],name:"Tín hiệu tăng"}),b.jsx(VW,{dataKey:"bearish",fill:"#ef4444",radius:[4,4,0,0],name:"Tín hiệu giảm"})]})})}),b.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 w-full max-w-md",children:[b.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-3 text-center",children:[b.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[b.jsx(Re,{className:"h-4 w-4 text-green-600"}),b.jsx("span",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:"Tổng tín hiệu tăng"})]}),b.jsx("span",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:n.reduce((e,t)=>e+t.bullish,0)})]}),b.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-3 text-center",children:[b.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[b.jsx(Te,{className:"h-4 w-4 text-red-600"}),b.jsx("span",{className:"text-sm font-medium text-red-700 dark:text-red-300",children:"Tổng tín hiệu giảm"})]}),b.jsx("span",{className:"text-lg font-bold text-red-600 dark:text-red-400",children:n.reduce((e,t)=>e+t.bearish,0)})]})]})]})},Pse=({market_overview:e,individual_results:t})=>{var n,r,i,a,s,o,l,c,u,d,h,f;const m=e=>{switch(null==e?void 0:e.toLowerCase()){case"bullish":return"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200";case"bearish":return"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200";default:return"bg-gray-100 dark:bg-gray-900/20 text-gray-800 dark:text-gray-200"}},g=k.useMemo(()=>t?function(e){const t={};return e.forEach(e=>{(e.recent_analyses||[]).forEach(e=>{const n=e.timestamp.split("T")[0];(e.signals||[]).forEach(e=>{"strong"===e.strength&&(t[n]||(t[n]={bullish:0,bearish:0}),"bullish"===e.bias&&(t[n].bullish+=1),"bearish"===e.bias&&(t[n].bearish+=1))})})}),Object.entries(t).map(([e,t])=>({date:e,bullish_signals:t.bullish,bearish_signals:t.bearish})).sort((e,t)=>new Date(e.date)-new Date(t.date)).slice(-20)}(t):[],[t]);return b.jsxs("div",{className:"space-y-6",children:[((null==e?void 0:e.market_breadth)||(null==e?void 0:e.volume_analysis))&&b.jsx(Ke,{className:"p-6",children:b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(null==e?void 0:e.market_breadth)&&b.jsx("div",{className:"flex flex-col items-center",children:b.jsx(kse,{marketBreadth:e.market_breadth,title:"Tâm lý thị trường"})}),(null==e?void 0:e.volume_analysis)&&b.jsx("div",{className:"flex flex-col items-center",children:b.jsx(Sse,{volumeAnalysis:e.volume_analysis,title:"Phân tích khối lượng"})})]})}),g.length>0&&b.jsx(Ke,{className:"p-6",children:b.jsx(Cse,{signalData:g,title:"Tần suất tín hiệu theo thời gian"})}),b.jsxs(Ke,{className:"p-6",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[b.jsx(X,{className:"h-6 w-6 text-blue-500"}),b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Chi tiết tâm lý thị trường"})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{children:[b.jsx("div",{className:"flex items-center gap-2 mb-3",children:b.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${m(null==e?void 0:e.market_sentiment)}`,children:(null==(n=null==e?void 0:e.market_sentiment)?void 0:n.toUpperCase())||"NEUTRAL"})}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tỷ lệ tăng giá:"}),b.jsxs("span",{className:"font-medium text-green-600 dark:text-green-400",children:[null==(i=null==(r=null==e?void 0:e.market_breadth)?void 0:r.bullish_percentage)?void 0:i.toFixed(1),"%"]})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tỷ lệ giảm giá:"}),b.jsxs("span",{className:"font-medium text-red-600 dark:text-red-400",children:[null==(s=null==(a=null==e?void 0:e.market_breadth)?void 0:a.bearish_percentage)?void 0:s.toFixed(1),"%"]})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tỷ lệ trung tính:"}),b.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[null==(l=null==(o=null==e?void 0:e.market_breadth)?void 0:o.neutral_percentage)?void 0:l.toFixed(1),"%"]})]}),(null==(c=null==e?void 0:e.market_breadth)?void 0:c.strong_signals_count)&&b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tín hiệu mạnh:"}),b.jsx("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:e.market_breadth.strong_signals_count})]})]})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-3",children:"Phân tích khối lượng"}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Khối lượng tăng:"}),b.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:(null==(u=null==e?void 0:e.volume_analysis)?void 0:u.increasing)||0})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Khối lượng giảm:"}),b.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:(null==(d=null==e?void 0:e.volume_analysis)?void 0:d.decreasing)||0})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Khối lượng ổn định:"}),b.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:(null==(h=null==e?void 0:e.volume_analysis)?void 0:h.stable)||0})]}),(null==(f=null==e?void 0:e.market_breadth)?void 0:f.average_score)&&b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Điểm trung bình:"}),b.jsxs("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:[(100*e.market_breadth.average_score).toFixed(1),"%"]})]})]})]})]})]}),(null==e?void 0:e.top_opportunities)&&e.top_opportunities.length>0&&b.jsxs(Ke,{className:"p-6",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Cơ hội đầu tư hàng đầu"}),b.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.top_opportunities.slice(0,6).map((e,t)=>b.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 rounded-lg p-4",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:e.symbol}),b.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${m(e.sentiment)}`,children:e.sentiment})]}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.reason})]},t))})]})]})},Ese=({stock:e,variant:t="normal"})=>{var n,r,i;const a=e.latest_analysis,s=(null==a?void 0:a.bullish_score)||0,o=(null==(n=e.recent_analyses)?void 0:n.flatMap(e=>{var t;return(null==(t=e.signals)?void 0:t.map(t=>f(h({},t),{date:e.timestamp,days_ago:e.days_ago})))||[]}))||[],l=e=>{switch(null==e?void 0:e.toLowerCase()){case"bullish":return"text-green-600 dark:text-green-400";case"bearish":return"text-red-600 dark:text-red-400";default:return"text-gray-600 dark:text-gray-400"}},c=e=>{switch(null==e?void 0:e.toLowerCase()){case"bullish":return"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200";case"bearish":return"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200";default:return"bg-gray-100 dark:bg-gray-900/20 text-gray-800 dark:text-gray-200"}},u=e=>{switch(null==e?void 0:e.toLowerCase()){case"strong":return"text-red-600 dark:text-red-400";case"medium":return"text-yellow-600 dark:text-yellow-400";case"weak":return"text-green-600 dark:text-green-400";default:return"text-gray-600 dark:text-gray-400"}},d=e=>{switch(null==e?void 0:e.toLowerCase()){case"bullish":return b.jsx(Re,{className:"h-4 w-4"});case"bearish":return b.jsx(Te,{className:"h-4 w-4"});default:return b.jsx(X,{className:"h-4 w-4"})}},m="strong"===t?o.filter(e=>"strong"===e.strength):o,g=e=>e?new Date(e).toLocaleDateString("vi-VN"):"Unknown";return b.jsxs(Ke,{className:"p-4",children:[b.jsxs("div",{className:"flex items-start justify-between mb-3",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:e.symbol}),b.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:(null==a?void 0:a.market_state)||"Unknown"})]}),b.jsxs("div",{className:"text-right",children:[b.jsx("div",{className:"text-lg font-bold "+(s>20?"text-green-600 dark:text-green-400":s<-20?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"),children:s.toFixed(1)}),b.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"VSA Score"})]})]}),b.jsxs("div",{className:"space-y-2 mb-3",children:[b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Khối lượng:"}),b.jsxs("span",{className:"font-medium",children:[null==(r=null==a?void 0:a.volume_significance)?void 0:r.toFixed(1),"%"]})]}),b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Độ tin cậy:"}),b.jsxs("span",{className:"font-medium",children:[null==(i=null==a?void 0:a.pattern_reliability)?void 0:i.toFixed(1),"%"]})]}),b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tín hiệu:"}),b.jsx("span",{className:"font-medium",children:o.length})]})]}),m.length>0?b.jsxs("div",{className:"space-y-2",children:[m.slice(0,"strong"===t?m.length:5).map((e,t)=>b.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded p-2",children:[b.jsxs("div",{className:"flex items-center justify-between mb-1",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:l(e.bias),children:d(e.bias)}),b.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:e.signal_name})]}),b.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${c(e.bias)}`,children:e.bias})]}),b.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[b.jsx("span",{children:g(e.date)}),b.jsx("span",{className:u(e.strength),children:e.strength})]}),e.action_suggestion&&b.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:e.action_suggestion})]},t)),"normal"===t&&o.length>5&&b.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:["+",o.length-5," tín hiệu khác"]})]}):b.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Không có tín hiệu VSA"})]})},Mse=({individual_results:e,timeframe:t="1D"})=>{const[n,r]=k.useState(""),[i,a]=k.useState(""),[s,o]=k.useState(""),[l,c]=k.useState(""),[u,d]=k.useState(""),[m,g]=k.useState("bullish_score"),[p,v]=k.useState("desc"),[y,x]=k.useState(new Set),{data:w}=Df("RRG_ANALYSIS",t),{industries:_,symbols:j}=w||{industries:[],symbols:[]},N=e=>{switch(null==e?void 0:e.toLowerCase()){case"bullish":return"text-green-600 dark:text-green-400";case"bearish":return"text-red-600 dark:text-red-400";default:return"text-gray-600 dark:text-gray-400"}},C=e=>{switch(null==e?void 0:e.toLowerCase()){case"bullish":return"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200";case"bearish":return"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200";default:return"bg-gray-100 dark:bg-gray-900/20 text-gray-800 dark:text-gray-200"}},P=e=>{switch(null==e?void 0:e.toLowerCase()){case"strong":return"text-red-600 dark:text-red-400";case"medium":return"text-yellow-600 dark:text-yellow-400";case"weak":return"text-green-600 dark:text-green-400";default:return"text-gray-600 dark:text-gray-400"}},E=e=>{switch(null==e?void 0:e.toLowerCase()){case"bullish":return b.jsx(Re,{className:"h-4 w-4"});case"bearish":return b.jsx(Te,{className:"h-4 w-4"});default:return b.jsx(X,{className:"h-4 w-4"})}},M=e=>e?new Date(e).toLocaleDateString("vi-VN"):"Unknown",O=k.useMemo(()=>[...new Set(e.map(e=>{var t;return null==(t=e.latest_analysis)?void 0:t.market_state}).filter(Boolean))].sort(),[e]),A=(e,t)=>{var n,r;const i=e.latest_analysis;switch(t){case"symbol":return e.symbol;case"bullish_score":return(null==i?void 0:i.bullish_score)||0;case"volume_significance":return(null==i?void 0:i.volume_significance)||0;case"pattern_reliability":return(null==i?void 0:i.pattern_reliability)||0;case"signal_count":return(null==(n=e.recent_analyses)?void 0:n.reduce((e,t)=>{var n;return e+((null==(n=t.signals)?void 0:n.length)||0)},0))||0;case"strong_signals":return(null==(r=e.recent_analyses)?void 0:r.reduce((e,t)=>{var n;return e+((null==(n=t.signals)?void 0:n.filter(e=>"strong"===e.strength).length)||0)},0))||0;default:return 0}},T=k.useMemo(()=>{let t=e.filter(e=>{var t,r;const a=e.latest_analysis,o=(null==(t=e.recent_analyses)?void 0:t.flatMap(e=>{var t;return(null==(t=e.signals)?void 0:t.map(t=>f(h({},t),{date:e.timestamp,days_ago:e.days_ago})))||[]}))||[],c=""===n||e.symbol.toLowerCase().includes(n.toLowerCase()),d=""===i||(null==a?void 0:a.market_state)===i,m=""===s||o.some(e=>e.bias===s),g=""===l||o.some(e=>e.strength===l),p=j.find(t=>t.symbol===e.symbol),v=null==(r=null==p?void 0:p.industries)?void 0:r[0],y=""===u||v&&v.id===u;return c&&d&&m&&g&&y});return t.sort((e,t)=>{const n=A(e,m),r=A(t,m);return"asc"===p?n>r?1:-1:n<r?1:-1}),t},[e,n,i,s,l,u,m,p,j]),R=e=>{m===e?v("asc"===p?"desc":"asc"):(g(e),v("desc"))},D=({field:e})=>m!==e?b.jsx(ce,{className:"h-4 w-4 text-gray-400"}):"asc"===p?b.jsx(ue,{className:"h-4 w-4 text-blue-500"}):b.jsx(ce,{className:"h-4 w-4 text-blue-500"});return b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Phân tích từng mã chứng khoán"}),b.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[T.length," / ",e.length," mã"]})]}),b.jsx(Ke,{className:"p-4",children:b.jsxs("div",{className:"grid gap-4 md:grid-cols-7",children:[b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tìm kiếm"}),b.jsxs("div",{className:"relative",children:[b.jsx(Me,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),b.jsx("input",{type:"text",placeholder:"Tìm kiếm theo mã...",value:n,onChange:e=>r(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Trạng thái thị trường"}),b.jsxs("select",{value:i,onChange:e=>a(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm",children:[b.jsx("option",{value:"",children:"Tất cả trạng thái"}),O.map(e=>b.jsx("option",{value:e,children:e},e))]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Ngành"}),b.jsxs("select",{value:u,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm",children:[b.jsx("option",{value:"",children:"Tất cả ngành"}),_.map(e=>b.jsx("option",{value:e.id,children:e.name},e.id))]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tâm lý"}),b.jsxs("select",{value:s,onChange:e=>o(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm",children:[b.jsx("option",{value:"",children:"Tất cả tâm lý"}),["bullish","bearish","neutral"].map(e=>b.jsx("option",{value:e,children:e},e))]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Độ mạnh"}),b.jsxs("select",{value:l,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm",children:[b.jsx("option",{value:"",children:"Tất cả độ mạnh"}),["strong","medium","weak"].map(e=>b.jsx("option",{value:e,children:e},e))]})]}),b.jsx("div",{className:"flex items-end",children:b.jsx("button",{onClick:()=>{a(""),o(""),c(""),d(""),r("")},className:"w-full px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg text-sm font-medium transition-colors",children:"Xóa bộ lọc"})})]})}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"min-w-full bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:[b.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Mã"}),b.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Ngành"}),b.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>R("bullish_score"),children:b.jsxs("div",{className:"flex items-center gap-1",children:["VSA Score",b.jsx(D,{field:"bullish_score"})]})}),b.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>R("volume_significance"),children:b.jsxs("div",{className:"flex items-center gap-1",children:["Khối lượng",b.jsx(D,{field:"volume_significance"})]})}),b.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>R("pattern_reliability"),children:b.jsxs("div",{className:"flex items-center gap-1",children:["Độ tin cậy",b.jsx(D,{field:"pattern_reliability"})]})}),b.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>R("signal_count"),children:b.jsxs("div",{className:"flex items-center gap-1",children:["Tín hiệu",b.jsx(D,{field:"signal_count"})]})}),b.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>R("strong_signals"),children:b.jsxs("div",{className:"flex items-center gap-1",children:["Tín hiệu mạnh",b.jsx(D,{field:"strong_signals"})]})}),b.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Trạng thái"})]})}),b.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:T.map((e,t)=>{var n,r,i;const a=e.latest_analysis,s=(null==a?void 0:a.bullish_score)||0,o=y.has(e.symbol),l=(null==(n=e.recent_analyses)?void 0:n.flatMap(e=>{var t;return(null==(t=e.signals)?void 0:t.map(t=>f(h({},t),{date:e.timestamp,days_ago:e.days_ago})))||[]}))||[],c=l.length,u=l.filter(e=>"strong"===e.strength).length;return b.jsxs(S.Fragment,{children:[b.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",onClick:()=>(e=>{const t=new Set(y);t.has(e)?t.delete(e):t.add(e),x(t)})(e.symbol),children:[b.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:b.jsxs("div",{children:[b.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:e.symbol}),b.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["#",t+1]})]})}),b.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:(()=>{var t,n;const r=j.find(t=>t.symbol===e.symbol);return(null==(n=null==(t=null==r?void 0:r.industries)?void 0:t[0])?void 0:n.name)||"Unknown"})()}),b.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:b.jsx("span",{className:"text-sm font-medium "+(s>20?"text-green-600 dark:text-green-400":s<-20?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"),children:s.toFixed(1)})}),b.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:[null==(r=null==a?void 0:a.volume_significance)?void 0:r.toFixed(1),"%"]}),b.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:[null==(i=null==a?void 0:a.pattern_reliability)?void 0:i.toFixed(1),"%"]}),b.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:c}),b.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:u}),b.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:b.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+("accumulation"===(null==a?void 0:a.market_state)?"bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-200":"distribution"===(null==a?void 0:a.market_state)?"bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-200":"bg-gray-100 dark:bg-gray-900/50 text-gray-800 dark:text-gray-200"),children:(null==a?void 0:a.market_state)||"Unknown"})})]}),o&&b.jsx("tr",{children:b.jsx("td",{colSpan:"8",className:"px-4 py-3 bg-gray-50 dark:bg-gray-800",children:b.jsxs("div",{className:"space-y-3",children:[b.jsxs("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:["Tín hiệu VSA cho ",e.symbol]}),l.length>0?b.jsx("div",{className:"grid gap-2 md:grid-cols-2 lg:grid-cols-3",children:l.map((e,t)=>b.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded p-3 border border-gray-200 dark:border-gray-600",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:N(e.bias),children:E(e.bias)}),b.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:e.signal_name})]}),b.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${C(e.bias)}`,children:e.bias})]}),b.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mb-1",children:[b.jsx("span",{children:M(e.date)}),b.jsx("span",{className:P(e.strength),children:e.strength})]}),e.action_suggestion&&b.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.action_suggestion})]},t))}):b.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Không có tín hiệu VSA"})]})})})]},t)})})]})})]})},Ose=()=>{const[e,t]=k.useState("1D"),{data:n,loading:r,error:i}=Df("vsa_market_analysis",e),[a,s]=k.useState("market_overview");if(r)return b.jsxs("div",{className:"flex items-center justify-center py-12",children:[b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),b.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Đang tải dữ liệu phân tích VSA..."})]});if(i)return b.jsxs("div",{className:"text-center py-12",children:[b.jsx(De,{className:"mx-auto h-12 w-12 text-red-500"}),b.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100",children:"Lỗi tải dữ liệu"}),b.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:i})]});if(!n)return b.jsx("div",{className:"text-center py-12",children:b.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Không có dữ liệu phân tích VSA"})});const{market_overview:o,individual_results:l}=n,c=(null==l?void 0:l.filter(e=>{var t,n;return null==(n=null==(t=e.latest_analysis)?void 0:t.signals)?void 0:n.some(e=>"strong"===e.strength)}))||[];return b.jsxs("div",{className:"space-y-6",children:[b.jsx(jse,{market_overview:o,strongSignalsCount:c.length}),b.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4 flex items-center space-x-4",children:[b.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Khung thời gian:"}),b.jsx("button",{className:"cursor-pointer px-4 py-1 rounded font-medium text-sm border "+("1D"===e?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600"),onClick:()=>t("1D"),children:"Hàng ngày (1D)"}),b.jsx("button",{className:"cursor-pointer px-4 py-1 rounded font-medium text-sm border "+("1W"===e?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600"),onClick:()=>t("1W"),children:"Hàng tuần (1W)"})]}),b.jsx(Nse,{activeSection:a,onSectionChange:s}),"market_overview"===a&&b.jsx(Pse,{market_overview:o,individual_results:l}),"individual_stocks"===a&&b.jsx(Mse,{individual_results:l,timeframe:e}),"strong_signals"===a&&b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Tín hiệu VSA mạnh"}),b.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[c.length," tín hiệu mạnh"]})]}),b.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:c.slice(0,12).map((e,t)=>b.jsx(Ese,{stock:e,variant:"strong"},t))})]})]})},Ase=()=>{const[e,t]=k.useState("1D"),[n,r]=k.useState("all"),[i,a]=k.useState("all"),[s,o]=k.useState("confidence"),{data:l,loading:c,error:u}=Df("VCP_ANALYSIS",e),d=k.useMemo(()=>{if(!l)return null;let e=[];Array.isArray(l)?e=l:l.signals?e=l.signals:"object"==typeof l&&null!==l&&(e=Object.values(l));const t=e.length,n=e.filter(e=>e.days_since_vcp<=7).length,r=e.filter(e=>{const t=Number(e.last_vcp_confidence);return!isNaN(t)&&t>=0&&t<=1});return{totalSignals:t,recentSignals:n,highConfidenceSignals:r.filter(e=>Number(e.last_vcp_confidence)>=.7).length,averageConfidence:r.length>0?r.reduce((e,t)=>e+Number(t.last_vcp_confidence),0)/r.length:0}},[l]),m=k.useMemo(()=>{if(!l)return[];let e=[];Array.isArray(l)?e=l:l.signals?e=l.signals:"object"==typeof l&&null!==l&&(e=Object.values(l)),e=e.map(e=>{const t=Number(e.last_vcp_confidence);return f(h({},e),{confidenceLevel:t>=.7?"high":t>=.5?"medium":"low",recency:e.days_since_vcp<=3?"recent":e.days_since_vcp<=7?"moderate":"old"})});let t=e;return"all"!==n&&(t=t.filter(e=>e.confidenceLevel===n)),"all"!==i&&(t=t.filter(e=>e.recency===i)),t.sort((e,t)=>{switch(s){case"confidence":return t.last_vcp_confidence-e.last_vcp_confidence;case"recency":return e.days_since_vcp-t.days_since_vcp;case"price":return t.last_close-e.last_close;case"symbol":return(e.symbol||"").localeCompare(t.symbol||"");default:return 0}}),t},[l,n,i,s]),g=e=>e>=.7?"bg-green-100 text-green-800":e>=.5?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",p=e=>e<=3?"bg-green-100 text-green-800":e<=7?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800";return c?b.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:b.jsxs("div",{className:"flex items-center justify-center py-12",children:[b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),b.jsx("span",{className:"ml-3 text-gray-600",children:"Đang tải dữ liệu VCP..."})]})}):u?b.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:b.jsxs("div",{className:"text-center py-12",children:[b.jsx(De,{className:"mx-auto h-12 w-12 text-red-500"}),b.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Lỗi tải dữ liệu"}),b.jsx("p",{className:"mt-1 text-sm text-gray-500",children:(null==u?void 0:u.message)||(null==u?void 0:u.toString())||"Lỗi không xác định"})]})}):l?b.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[b.jsxs("div",{className:"mb-6",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Phân tích Mẫu VCP (Volume, Close, Price)"}),b.jsx("p",{className:"text-gray-600 text-sm",children:"Tín hiệu mẫu VCP phát hiện các mẫu tích lũy và phân phối dựa trên mối quan hệ giữa khối lượng và giá."})]}),b.jsxs("div",{className:"bg-gray-50 rounded-lg border p-4 flex items-center space-x-4 mb-6",children:[b.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Khung thời gian:"}),b.jsx("button",{className:"cursor-pointer px-4 py-1 rounded font-medium text-sm border "+("1D"===e?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600"),onClick:()=>t("1D"),children:"Hàng ngày (1D)"}),b.jsx("button",{className:"cursor-pointer px-4 py-1 rounded font-medium text-sm border "+("1W"===e?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600"),onClick:()=>t("1W"),children:"Hàng tuần (1W)"})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[b.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[b.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(null==d?void 0:d.totalSignals)||0}),b.jsx("div",{className:"text-sm text-gray-600",children:"Tổng tín hiệu"})]}),b.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[b.jsx("div",{className:"text-2xl font-bold text-green-600",children:(null==d?void 0:d.recentSignals)||0}),b.jsx("div",{className:"text-sm text-green-600",children:"Tín hiệu gần đây (≤7 ngày)"})]}),b.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[b.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(null==d?void 0:d.highConfidenceSignals)||0}),b.jsx("div",{className:"text-sm text-blue-600",children:"Tín hiệu độ tin cậy cao"})]}),b.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[b.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[(null==d?void 0:d.averageConfidence)?(100*d.averageConfidence).toFixed(1):0,"%"]}),b.jsx("div",{className:"text-sm text-purple-600",children:"Độ tin cậy trung bình"})]})]}),b.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Độ tin cậy:"}),b.jsxs("select",{value:n,onChange:e=>r(e.target.value),className:"border rounded px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[b.jsx("option",{value:"all",children:"Tất cả"}),b.jsx("option",{value:"high",children:"Cao (≥70%)"}),b.jsx("option",{value:"medium",children:"Trung bình (≥50%)"}),b.jsx("option",{value:"low",children:"Thấp (<50%)"})]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Thời gian:"}),b.jsxs("select",{value:i,onChange:e=>a(e.target.value),className:"border rounded px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[b.jsx("option",{value:"all",children:"Tất cả"}),b.jsx("option",{value:"recent",children:"Gần đây (≤3 ngày)"}),b.jsx("option",{value:"moderate",children:"Vừa phải (≤7 ngày)"}),b.jsx("option",{value:"old",children:"Cũ (>7 ngày)"})]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Sắp xếp theo:"}),b.jsxs("select",{value:s,onChange:e=>o(e.target.value),className:"border rounded px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[b.jsx("option",{value:"confidence",children:"Độ tin cậy"}),b.jsx("option",{value:"recency",children:"Thời gian"}),b.jsx("option",{value:"price",children:"Giá"}),b.jsx("option",{value:"symbol",children:"Mã"})]})]})]}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[b.jsx("thead",{className:"bg-gray-50",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mã"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Giá đóng cửa"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Độ tin cậy"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngày trước"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trạng thái"})]})}),b.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:0===m.length?b.jsx("tr",{children:b.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-500",children:"Không có tín hiệu VCP nào phù hợp với bộ lọc hiện tại"})}):m.map((e,t)=>{var n,r,i;return b.jsxs("tr",{className:"hover:bg-gray-50",children:[b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.symbol})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("div",{className:"text-sm text-gray-900",children:(null==(n=e.last_close)?void 0:n.toLocaleString("vi-VN"))||"N/A"})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("span",{className:"text-sm font-medium "+(i=e.last_vcp_confidence,i>=.7?"text-green-600":i>=.5?"text-yellow-600":"text-red-600"),children:[(100*e.last_vcp_confidence).toFixed(1),"%"]}),b.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${g(e.last_vcp_confidence)}`,children:"high"===e.confidenceLevel?"Cao":"medium"===e.confidenceLevel?"TB":"Thấp"})]})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("span",{className:"text-sm "+(r=e.days_since_vcp,r<=3?"text-green-600":r<=7?"text-yellow-600":"text-red-600"),children:[e.days_since_vcp," ngày"]}),b.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${p(e.days_since_vcp)}`,children:"recent"===e.recency?"Gần":"moderate"===e.recency?"TB":"Cũ"})]})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"VCP Phát hiện"})})]},t)})})]})}),b.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[b.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Chú thích:"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-xs text-gray-600",children:[b.jsxs("div",{children:[b.jsx("p",{children:b.jsx("strong",{children:"Độ tin cậy:"})}),b.jsxs("ul",{className:"space-y-1 mt-1",children:[b.jsxs("li",{children:["• ",b.jsx("span",{className:"text-green-600",children:"Cao (≥70%):"})," Tín hiệu mạnh, khả năng cao"]}),b.jsxs("li",{children:["• ",b.jsx("span",{className:"text-yellow-600",children:"Trung bình (≥50%):"})," Tín hiệu vừa phải"]}),b.jsxs("li",{children:["• ",b.jsx("span",{className:"text-red-600",children:"Thấp (<50%):"})," Tín hiệu yếu, cần thận trọng"]})]})]}),b.jsxs("div",{children:[b.jsx("p",{children:b.jsx("strong",{children:"Thời gian:"})}),b.jsxs("ul",{className:"space-y-1 mt-1",children:[b.jsxs("li",{children:["• ",b.jsx("span",{className:"text-green-600",children:"Gần đây (≤3 ngày):"})," Tín hiệu mới nhất"]}),b.jsxs("li",{children:["• ",b.jsx("span",{className:"text-yellow-600",children:"Vừa phải (≤7 ngày):"})," Tín hiệu còn hiệu lực"]}),b.jsxs("li",{children:["• ",b.jsx("span",{className:"text-red-600",children:"Cũ (>7 ngày):"})," Tín hiệu có thể đã lỗi thời"]})]})]})]})]})]}):b.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:b.jsxs("div",{className:"text-center py-12",children:[b.jsx("div",{className:"text-gray-600 text-lg font-medium",children:"Không có dữ liệu VCP"}),b.jsx("div",{className:"text-gray-500 mt-2",children:"Vui lòng thử lại sau"})]})})},Tse=()=>{const{isReloading:e,lastReloadTime:t,reloadAllData:n}=Fre();return b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsxs("div",{className:"hidden sm:flex items-center space-x-1 text-xs text-gray-500 dark:text-gray-400",children:[b.jsx(ye,{className:"w-3 h-3"}),b.jsx("span",{children:(()=>{if(!t)return"Chưa tải";const e=new Date-t,n=Math.floor(e/6e4),r=Math.floor(e%6e4/1e3);return n>0?`${n} phút trước`:r>0?`${r} giây trước`:t.toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit",second:"2-digit"})})()})]}),b.jsx("button",{onClick:n,disabled:e,className:"p-2 rounded-md transition-colors cursor-pointer "+(e?"text-gray-400 cursor-not-allowed":"text-gray-500 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-100 dark:hover:bg-gray-800"),title:"Tải lại tất cả dữ liệu",children:b.jsx(Pe,{className:"w-4 h-4 "+(e?"animate-spin":"")})})]})};class Rse{constructor(e={}){this.options=h({minHeight:e.minHeight||400,maxHeight:e.maxHeight||2e3,minWidth:e.minWidth||300,maxWidth:e.maxWidth||1200,resizeInterval:e.resizeInterval||100},e),this.iframes=new Map,this.resizeTimeout=null}init(e,t={}){const n=h(h({},this.options),t),r=t=>{t.source===e.contentWindow&&t.data&&"RESIZE"===t.data.type&&this.resizeIframe(e,t.data.width,t.data.height,n)};return window.addEventListener("message",r),this.iframes.set(e,{messageHandler:r,options:n}),e.style.overflow="hidden",e.style.border="none",this}resizeIframe(e,t,n,r){const i=Math.max(r.minWidth,Math.min(r.maxWidth,t)),a=Math.max(r.minHeight,Math.min(r.maxHeight,n));clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{e.style.width=`${i}px`,e.style.height=`${a}px`},r.resizeInterval)}destroy(e){const t=this.iframes.get(e);t&&(window.removeEventListener("message",t.messageHandler),this.iframes.delete(e))}destroyAll(){for(const[e]of this.iframes)this.destroy(e)}}document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll("iframe[data-iframe-resize]");if(e.length>0){const t=new Rse;e.forEach(e=>{const n=JSON.parse(e.getAttribute("data-iframe-resize")||"{}");t.init(e,n)})}});const Dse={sendResizeMessage(e,t){window.parent&&window.parent!==window&&window.parent.postMessage({type:"RESIZE",width:Math.ceil(e),height:Math.ceil(t)},"*")},isEmbedded:()=>window.self!==window.top,getParentIframe(){if(!this.isEmbedded())return null;try{const e=window.parent.document.querySelectorAll("iframe");for(const t of e)if(t.contentWindow===window)return t}catch(e){return null}return null}};function Ise(){const[e,t]=k.useState("Market"),[n,r]=k.useState("Overview"),[i,a]=k.useState(!1),[s,o]=k.useState("rs_analysis"),[l,c]=k.useState(!1),[u,d]=k.useState("1D"),h=k.useRef(null),f=Dse.isEmbedded(),{essentialDataLoading:m,essentialDataError:g}=Fre();if(k.useEffect(()=>{if(!f)return;const e=setTimeout(()=>{if(h.current){const{width:e,height:t}=h.current.getBoundingClientRect();Dse.sendResizeMessage(e,t)}},100);return()=>clearTimeout(e)},[e,n,s,i,f]),m)return b.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex items-center justify-center",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),b.jsx("div",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"Đang tải dữ liệu cơ bản..."}),b.jsx("div",{className:"text-gray-500 dark:text-gray-500 text-sm mt-2",children:"Tải thông tin ngành nghề và mã chứng khoán"})]})});if(g)return b.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex items-center justify-center",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"text-red-500 text-lg mb-4",children:"Lỗi tải dữ liệu cơ bản"}),b.jsx("div",{className:"text-gray-600 dark:text-gray-400 mb-4",children:g}),b.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Thử lại"})]})});const p=["Market","Industries","Tickers"],v={Industries:[{id:"rs_analysis",name:"Phân tích Sức mạnh Tương đối",description:"Phân tích RS/CRS, RRG và xu hướng sức mạnh của các ngành nghề"},{id:"abnormal_signals",name:"Tín hiệu Bất thường",description:"Phát hiện các tín hiệu bất thường trong ngành"}],Tickers:[{id:"abnormal_signals",name:"Tín hiệu Bất thường",description:"Phát hiện các tín hiệu bất thường trong mã chứng khoán"},{id:"vsa_report",name:"Báo cáo VSA",description:"Phân tích Volume Spread Analysis cho từng mã chứng khoán"},{id:"vcp_analysis",name:"Phân tích VCP",description:"Phân tích mẫu hình tích lũy VCP cho các mã chứng khoán"}],Market:[{id:"market_overview",name:"Tổng quan Thị trường",description:"Báo cáo phân tích thị trường tổng hợp"},{id:"macroeconomics",name:"Báo cáo Vĩ mô",description:"Phân tích các chỉ số kinh tế vĩ mô và xu hướng thị trường"},{id:"valuation_report",name:"Báo cáo Định giá",description:"Phân tích tỷ lệ P/E và P/B của VN-Index"}]},y=e=>{var n,i;t(e),r("Overview"),a(!1);const s=(null==(i=null==(n=v[e])?void 0:n[0])?void 0:i.id)||"abnormal_signals";o(s)},x=v[e]||[];x.find(e=>e.id===s)||x[0];const w={Market:"Thị trường",Industries:"Ngành nghề",Tickers:"Mã chứng khoán"},_={Overview:"Tổng quan",Reports:"Báo cáo"};return b.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200 font-sans",ref:h,children:[b.jsxs("header",{className:"bg-white dark:bg-gray-800/90 backdrop-blur-sm sticky top-0 z-30 border-b border-gray-200 dark:border-gray-700",children:[b.jsx("div",{className:"max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8",children:b.jsxs("div",{className:"flex items-center justify-between h-16",children:[b.jsxs("div",{className:"flex-shrink-0 flex items-center",children:[b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-blue-500",children:[b.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),b.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),b.jsxs("div",{className:"ml-2",children:[!f&&b.jsx("span",{className:"text-xl font-bold",children:"Phân tích VN-Index"}),b.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Dữ liệu hàng ngày được cập nhật vào cuối ngày"})]})]}),b.jsxs("nav",{className:"hidden md:flex items-center space-x-2",children:[p.map(t=>b.jsx("button",{onClick:()=>y(t),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors cursor-pointer "+(e===t?"bg-blue-500 text-white":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),children:w[t]},t)),b.jsx(Tse,{})]}),b.jsx("div",{className:"md:hidden",children:b.jsx("button",{onClick:()=>a(!i),className:"p-2 rounded-md text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800 cursor-pointer",children:i?b.jsx(Be,{size:24}):b.jsx(Se,{size:24})})})]})}),i&&b.jsx("div",{className:"md:hidden pb-3 border-t border-gray-200 dark:border-gray-700",children:b.jsx("nav",{className:"px-2 space-y-1 mt-2",children:p.map(t=>b.jsx("button",{onClick:()=>y(t),className:"block w-full text-left px-3 py-2 rounded-md text-base font-medium cursor-pointer "+(e===t?"bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-300":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),children:w[t]},t))})})]}),b.jsx("div",{className:"relative",children:b.jsxs("main",{children:[b.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:b.jsx("div",{className:"max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8",children:b.jsx("div",{className:"flex items-center justify-between",children:b.jsx("div",{className:"flex -mb-px space-x-2 sm:space-x-4 items-center relative",children:["Overview","Reports"].map(e=>"Reports"===e&&x.length>1?b.jsxs("div",{className:"relative",children:[b.jsxs("button",{onClick:()=>{c(e=>!e)},className:"py-3 px-1 sm:px-4 text-sm sm:text-base font-semibold border-b-2 transition-colors cursor-pointer flex items-center space-x-2 "+(n===e?"border-blue-500 text-blue-500":"border-transparent text-gray-500 hover:text-gray-800 dark:hover:text-gray-200"),"aria-haspopup":"listbox","aria-expanded":l,children:[b.jsx("span",{children:_[e]}),b.jsx(ce,{size:16,className:"transition-transform "+(l?"rotate-180":"")})]}),l&&b.jsx("div",{className:"absolute left-0 mt-2 w-80 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md shadow-lg z-50",children:b.jsx("div",{className:"py-2",children:x.map(e=>b.jsxs("button",{onClick:()=>{var t;t=e.id,o(t),c(!1),r("Reports"),c(!1)},className:"w-full text-left px-4 py-3 transition-colors cursor-pointer "+(s===e.id?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-300 font-semibold":"text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700"),children:[b.jsx("div",{className:"font-medium",children:e.name}),b.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:e.description})]},e.id))})})]},e):b.jsx("button",{onClick:()=>{r(e),c(!1)},className:"py-3 px-1 sm:px-4 text-sm sm:text-base font-semibold border-b-2 transition-colors cursor-pointer "+(n===e?"border-blue-500 text-blue-500":"border-transparent text-gray-500 hover:text-gray-800 dark:hover:text-gray-200"),children:_[e]},e))})})})}),b.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:["Overview"===n&&b.jsxs(b.Fragment,{children:["Market"===e&&b.jsxs("div",{className:"space-y-8",children:[b.jsx(Wte,{}),b.jsx(Gte,{}),b.jsx(dne,{}),b.jsx(Qe,{}),b.jsx(VG,{})]}),"Industries"===e&&b.jsx("div",{className:"space-y-8",children:b.jsx(Rae,{})}),"Tickers"===e&&b.jsx("div",{className:"space-y-8",children:b.jsx(Bae,{})})]}),"Reports"===n&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[b.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Thời gian:"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{className:"cursor-pointer px-4 py-1 rounded font-medium text-sm border "+("1D"===u?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600"),onClick:()=>d("1D"),children:"Hàng ngày (1D)"}),b.jsx("button",{className:"cursor-pointer px-4 py-1 rounded font-medium text-sm border "+("1W"===u?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600"),onClick:()=>d("1W"),children:"Hàng tuần (1W)"})]})]}),"Industries"===e&&b.jsxs("div",{className:"space-y-8",children:["rs_analysis"===s&&b.jsx($ae,{timeframe:u}),"abnormal_signals"===s&&b.jsx(mne,{})]}),"Tickers"===e&&b.jsxs("div",{className:"space-y-8",children:["abnormal_signals"===s&&b.jsx(fne,{}),"vsa_report"===s&&b.jsx(Ose,{}),"vcp_analysis"===s&&b.jsx(Ase,{})]}),"Market"===e&&b.jsxs("div",{className:"space-y-8",children:["market_interconnection"===s&&b.jsx(_se,{}),"market_overview"===s&&b.jsx(ise,{}),"macroeconomics"===s&&b.jsx(ose,{}),"valuation_report"===s&&b.jsx(Hae,{}),"mfi_analysis"===s&&b.jsx(MFIAnalysis,{})]})]})]})]})}),l&&b.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>c(!1)}),b.jsx("div",{className:"text-center py-4 text-xs text-gray-500 border-t border-gray-200 dark:border-gray-700",children:b.jsxs("p",{children:["Sử dụng dữ liệu từ ",b.jsx("a",{href:"https://vnstocks.com/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline cursor-pointer",children:"https://vnstocks.com/"})," Wichart.vn và Investing.com"]})}),!f&&b.jsxs("footer",{className:"text-center mt-8 text-xs text-gray-500",children:[b.jsx("p",{children:"© 2025 Taichinhchungkhoan.com"}),b.jsx("p",{className:"mt-1",children:"Taichinhchungkhoan.com - Nền tảng kiến thức và công cụ tài chính cho người Việt"}),b.jsxs("p",{className:"mt-2",children:[b.jsx("strong",{children:"Tuyên bố miễn trừ trách nhiệm:"})," Ứng dụng này được tạo ra cho mục đích tham khảo và giáo dục. Thông tin cung cấp không được coi là lời khuyên đầu tư chuyên nghiệp. Luôn tham khảo ý kiến chuyên gia tài chính trước khi ra quyết định."]})]})]})}function Lse(){return b.jsx(zre,{children:b.jsx(Ise,{})})}H.createRoot(document.getElementById("root")).render(b.jsx(S.StrictMode,{children:b.jsx(Lse,{})}))}},function(){return t||(0,e[a(e)[0]])((t={exports:{}}).exports,t),t.exports});export default b();
